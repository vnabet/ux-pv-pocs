(self.webpackChunktest_security=self.webpackChunktest_security||[]).push([[179],{6317:(cn,Ve,G)=>{"use strict";G.d(Ve,{yM:()=>O});var h=G(4650),C=G(6895),V=G(238),ee=G(7665),pe=["anchor"],ue=function($,Q,oe,Ce){var xe,be=arguments.length,ke=be<3?Q:null===Ce?Ce=Object.getOwnPropertyDescriptor(Q,oe):Ce;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ke=Reflect.decorate($,Q,oe,Ce);else for(var Ze=$.length-1;Ze>=0;Ze--)(xe=$[Ze])&&(ke=(be<3?xe(ke):be>3?xe(Q,oe,ke):xe(Q,oe))||ke);return be>3&&ke&&Object.defineProperty(Q,oe,ke),ke},ve=function($,Q){return function(oe,Ce){Q(oe,Ce,$)}},re={selector:"[wjTooltip]",inputs:[],outputs:["initialized"],exportAs:"wjTooltip",providers:[]},O=(function(){function $(oe,Ce,xe){this.isInitialized=!1,this._wjBehaviour=V.D6.attach(this,oe,Ce,xe),this._elRef=oe,Q._toolTip||(Q._toolTip=new ee.Tooltip),this.created()}var Q;Q=$,$.prototype.created=function(){},$.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},$.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},$.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy(),this.wjTooltip=null},Object.defineProperty($.prototype,"wjTooltip",{get:function(){return this._toolTipText},set:function(oe){this._toolTipText!=oe&&(this._toolTipText=oe,Q._toolTip.setTooltip(this._elRef.nativeElement,oe,this._toolTipPosition))},enumerable:!0,configurable:!0}),Object.defineProperty($.prototype,"wjTooltipPosition",{get:function(){return this._toolTipPosition},set:function(oe){if(this._toolTipText){var Ce=ee.asEnum(oe,ee.PopupPosition);this._toolTipPosition!=Ce&&(this._toolTipPosition=Ce,Q._toolTip.setTooltip(this._elRef.nativeElement,this._toolTipText,Ce))}},enumerable:!0,configurable:!0}),$.meta={outputs:re.outputs},ue([(0,h.IIB)()],$.prototype,"wjTooltip",null),ue([(0,h.IIB)()],$.prototype,"wjTooltipPosition",null),$.\u0275fac=function(Ce){return new(Ce||$)(h.Y36(h.SBq),h.Y36(h.zs3),h.Y36("WjComponent",12))},$.\u0275dir=h.lG2({type:$,selectors:[["","wjTooltip",""]],inputs:{wjTooltip:"wjTooltip",wjTooltipPosition:"wjTooltipPosition"},outputs:{initialized:"initialized"},exportAs:["wjTooltip"],features:[h._Bn([{provide:"WjComponent",useExisting:(0,h.Gpc)(function(){return Q})}].concat(re.providers))]}),$=Q=ue([,ve(0,(0,h.tBr)(h.SBq)),ve(1,(0,h.tBr)(h.zs3)),ve(2,(0,h.tBr)("WjComponent")),ve(2,(0,h.tp0)()),ve(2,(0,h.FiY)())],$)}(),function(){function $(Q,oe){this._cmpResolver=Q,this._elementRef=oe,this._isInit=!1,this.propertiesChange=new h.vpe}Object.defineProperty($.prototype,"component",{get:function(){return this._component},set:function(Q){this._component!==Q&&(this._component=Q,this._createComponent())},enumerable:!0,configurable:!0}),Object.defineProperty($.prototype,"properties",{get:function(){return this._properties},set:function(Q){this._properties=Q,this._updateProperties()},enumerable:!0,configurable:!0}),$.prototype.ngOnInit=function(){this._isInit=!0,this._createComponent()},$.prototype._createComponent=function(){if(this._isInit){this._cmpRef&&(this._cmpRef.destroy(),this._cmpRef=null);var Q=this._component;Q&&this._anchor&&(this._cmpRef=this._anchor.createComponent(this._cmpResolver.resolveComponentFactory(Q)),this._updateProperties())}},$.prototype._updateProperties=function(){var Q=this._cmpRef&&this._cmpRef.instance,oe=this.properties;if(Q&&oe)for(var Ce=0,xe=Object.getOwnPropertyNames(oe);Ce<xe.length;Ce++){var be=xe[Ce];Q[be]=oe[be];var ke=Q[be+"Change"];ke instanceof h.vpe&&this._addPropListener(Q,be,ke)}},$.prototype._addPropListener=function(Q,oe,Ce){var xe=this;Ce.subscribe(function(be){xe.properties[oe]=xe.properties[oe]=Q[oe],xe.propertiesChange.next(xe.properties)})},ue([(0,h.i9L)("anchor",{read:h.s_b,static:!0})],$.prototype,"_anchor",void 0),$.\u0275fac=function(oe){return new(oe||$)(h.Y36(h._Vd),h.Y36(h.SBq))},$.\u0275cmp=h.Xpm({type:$,selectors:[["wj-component-loader"]],viewQuery:function(oe,Ce){var xe;1&oe&&h.Gf(pe,7,h.s_b),2&oe&&h.iGM(xe=h.CRH())&&(Ce._anchor=xe.first)},inputs:{component:"component",properties:"properties"},outputs:{propertiesChange:"propertiesChange"},decls:2,vars:0,consts:[["anchor",""]],template:function(oe,Ce){1&oe&&h._UZ(0,"div",null,0)},encapsulation:2}),$=ue([,ve(0,(0,h.tBr)(h._Vd)),ve(1,(0,h.tBr)(h.SBq))],$)}(),function(){function $(){}return $.\u0275fac=function(oe){return new(oe||$)},$.\u0275mod=h.oAB({type:$}),$.\u0275inj=h.cJS({imports:[C.ez]}),$}())},238:(cn,Ve,G)=>{"use strict";G.d(Ve,{D6:()=>pe,Ko:()=>re});var h=G(4650),C=G(7665),V=function(){function U(){}return U.asyncBindings=!0,U}(),ee=function(){function U(y){this.changeEventMap=[],this.allImplEvents=[],this.resolveChangeEventMap(y)}return U.prototype.resolveChangeEventMap=function(y){var O=this.changeEventMap,$=y.outputs,Q=y.changeEvents||{};if(O.splice(0,O.length),this.allImplEvents=[],$&&$.length){var oe=$.map(function(De){return De.split(":")}).map(function(De){return{implName:De[0].trim(),exposeName:De[1]&&De[1].trim()}});this.allImplEvents=oe.map(function(De){return De.implName});for(var Ce=0,xe=oe.filter(function(De){return De.implName&&De.exposeName});Ce<xe.length;Ce++){var be=xe[Ce];if(ue.getWjEventName(be.implName)){var ke={eventImpl:be.implName,event:be.exposeName},Ze=Q[be.exposeName];Ze&&Ze.length&&(ke.props=Ze.map(function(De){return{prop:De,evExposed:ue.getChangeEventNameExposed(De),evImpl:ue.getChangeEventNameImplemented(De)}})),O.push(ke)}}for(var Ke in Q)Ke.indexOf(".")>-1&&(ke={eventImpl:null,event:Ke,props:Q[Ke].map(function(De){return{prop:De,evExposed:ue.getChangeEventNameExposed(De),evImpl:ue.getChangeEventNameImplemented(De)}})},O.push(ke))}},U}(),pe=function(){function U(y,O,$,Q){this._pendingEvents=[],this.isInitialized=!1,this.isDestroyed=!1,this.nzRun=function(be){return be()},this.directive=y,this.elementRef=O,this.injector=$,this._overrideDirectiveMethods();var oe=this.nz=$.get(h.R0b);oe&&(this.nzRun=oe.run.bind(oe)),this.injectedParent=Q;var Ce=this.typeData=y.constructor[U.directiveTypeDataProp];null==Ce.siblingId&&(Ce.siblingId=++U.siblingDirId+"");var xe=y.constructor[U.directiveResolvedTypeDataProp];xe?this.resolvedTypeData=xe:y.constructor[U.directiveResolvedTypeDataProp]=xe=this.resolvedTypeData=new ee(Ce),y[U.BehaviourRefProp]=this,$[U.BehaviourRefProp]=this,y[U.isInitializedPropAttr]=!1,this._createEvents(),this._setupAsChild(),this._isHostElement()&&O.nativeElement.setAttribute(U.siblingDirIdAttr,Ce.siblingId),this.subscribeToEvents(!1)}return U.getHostElement=function(y,O){return U.ngZone=O.get(h.R0b),y.nativeElement},U.attach=function(y,O,$,Q){return new U(y,O,$,Q)},U.getZone=function(y){var O=U.getBehavior(y);return O&&O.nz||U.ngZone},U.prototype.ngOnInit=function(){this.isInitialized=!0,this._initParent(),this.subscribeToEvents(!0)},U.prototype.ngAfterViewInit=function(){var y=this;this.directive[U.isInitializedPropAttr]=!0,setTimeout(function(){y.isDestroyed||y.directive[U.initializedEventAttr].emit(void 0)})},U.prototype.ngOnDestroy=function(){if(!this.isDestroyed){this.isDestroyed=!0;var y=this.directive;if(this._siblingInsertedEH&&this.elementRef.nativeElement.removeEventListener("DOMNodeInserted",this._siblingInsertedEH),this._isChild()&&this.parentBehavior){var O=this.parentBehavior.directive,$=this._getParentProp();if(!this.parentBehavior.isDestroyed&&O&&$&&y){var Q=O[$];if(C.isArray(Q)&&Q){var oe=Q.indexOf(y);oe>=0&&Q.splice(oe,1)}}}if(y instanceof C.Control&&y.hostElement){var Ce=this.elementRef.nativeElement,xe=Ce&&Ce.parentNode,be=xe?Array.prototype.indexOf.call(xe.childNodes,Ce):-1;y.dispose(),be>-1&&Array.prototype.indexOf.call(xe.childNodes,Ce)<0&&(Ce.textContent="",be<xe.childNodes.length&&xe.replaceChild(Ce,xe.childNodes[be]))}this.injector[U.BehaviourRefProp]=null}},U.instantiateTemplate=function(y,O,$,Q,oe){void 0===Q&&(Q=!1),void 0===oe&&(oe={});var Ce,xe=O.createEmbeddedView($,oe,O.length),be=xe.rootNodes;if(Q&&1===be.length)Ce=be[0];else{Ce=document.createElement("div");for(var ke=0,Ze=be;ke<Ze.length;ke++)Ce.appendChild(Ze[ke])}return y&&y.appendChild(Ce),{viewRef:xe,rootElement:Ce}},U.prototype.getPropChangeEvent=function(y){var O=this.typeData.changeEvents;if(O)for(var $ in O)if(O[$].indexOf(y)>-1)return $;return null},U.prototype._createEvents=function(){for(var y=0,O=this.resolvedTypeData.allImplEvents;y<O.length;y++)this.directive[O[y]]=new h.vpe(!1)},U.prototype._overrideDirectiveMethods=function(){var y=this.directive;if(y instanceof C.Control){var O=y._resizeObserverCallback.bind(y);y._resizeObserverCallback=function($){h.R0b.isInAngularZone()?O($):U.getZone(this).run(function(){O($)})}.bind(y)}},U.prototype.subscribeToEvents=function(y){var O=this.resolvedTypeData.changeEventMap;y=!!y;for(var $=0,Q=O;$<Q.length;$++)y!==(xe=Q[$]).event.indexOf(".")<0&&this.addHandlers(xe);if(y)for(var oe=0,Ce=O;oe<Ce.length;oe++){var xe=Ce[oe];this.triggerPropChangeEvents(xe,!0)}},U.prototype.addHandlers=function(y){var O=this,$=this.directive;U.evaluatePath($,y.event).addHandler(function(Q,oe){O.nzRun(function(){O.isInitialized&&O.triggerPropChangeEvents(y),y.eventImpl&&O._triggerEvent($[y.eventImpl],oe,y.props&&y.props.length>0)})})},U.prototype.triggerPropChangeEvents=function(y,O){void 0===O&&(O=!0);var $=this.directive;if(y.props&&y.props.length)for(var Q=0,oe=y.props;Q<oe.length;Q++){var Ce=oe[Q];this._triggerEvent($[Ce.evImpl],$[Ce.prop],O)}},U.prototype._setupAsChild=function(){this._isChild()&&(this._isHostElement()&&(this.elementRef.nativeElement.style.display="none"),this.parentBehavior=U.getBehavior(this.injectedParent))},U.prototype._isAsyncBinding=function(){return this.directive[U.asyncBindingUpdatePropAttr]??V.asyncBindings},U.prototype._isChild=function(){return this._isParentInitializer()||this._isParentReferencer()},U.prototype._isParentInitializer=function(){return null!=this.directive[U.parPropAttr]},U.prototype._isParentReferencer=function(){return!!this.typeData.parentRefProperty},U.prototype._getParentProp=function(){return this.directive[U.parPropAttr]},U.prototype._getParentReferenceProperty=function(){return this.typeData.parentRefProperty},U.prototype._useParentObj=function(){return!1},U.prototype._parentInCtor=function(){return this._isParentReferencer()&&""==this._getParentReferenceProperty()},U.prototype._initParent=function(){if(this.parentBehavior&&!this._useParentObj()){var y=this.parentBehavior.directive,O=this._getParentProp(),$=this.directive;if(this._isParentInitializer()){this._getParentProp();var Q=y[O];if(C.isArray(Q)){var oe=this._isHostElement(),Ce=oe?this._getSiblingIndex():-1;(Ce<0||Ce>=Q.length)&&(Ce=Q.length),Q.splice(Ce,0,$),oe&&(this._siblingInsertedEH=this._siblingInserted.bind(this),this.elementRef.nativeElement.addEventListener("DOMNodeInserted",this._siblingInsertedEH))}else y[O]=$}this._isParentReferencer()&&!this._parentInCtor()&&($[this._getParentReferenceProperty()]=y)}},U.prototype._getSiblingIndex=function(){var y=this.elementRef.nativeElement,O=y.parentElement;if(!O)return-1;for(var $=O.childNodes,Q=-1,oe=this.typeData.siblingId,Ce=0;Ce<$.length;Ce++){var xe=$[Ce];if(1==xe.nodeType&&xe.getAttribute(U.siblingDirIdAttr)==oe&&(++Q,xe===y))return Q}return-1},U.prototype._siblingInserted=function(y){if(y.target===this.elementRef.nativeElement){var O=this._getSiblingIndex(),$=this.parentBehavior.directive[this._getParentProp()],Q=this.directive,oe=$.indexOf(Q);O>=0&&oe>=0&&O!==oe&&($.splice(oe,1),O=Math.min(O,$.length),$.splice(O,0,Q))}},U.prototype._isHostElement=function(){return this.elementRef.nativeElement.nodeType===Node.ELEMENT_NODE},U.prototype._triggerEvent=function(y,O,$){var Q=this;$&&this._isAsyncBinding()?(this._pendingEvents.push({event:y,args:O}),null==this._pendingEventsTO&&(this._pendingEventsTO=setTimeout(function(){Q._triggerPendingEvents(!1)},0))):y.emit(O)},U.prototype._triggerPendingEvents=function(y){if(null!=this._pendingEventsTO&&(clearTimeout(this._pendingEventsTO),this._pendingEventsTO=null),!this.isDestroyed){var O=[].concat(this._pendingEvents);this._pendingEvents.splice(0,this._pendingEvents.length);for(var $=0,Q=O;$<Q.length;$++){var oe=Q[$];oe.event.emit(oe.args)}y&&this._pendingEvents.length&&this._triggerPendingEvents(!0)}},U.prototype.flushPendingEvents=function(){this._triggerPendingEvents(!0)},U.evaluatePath=function(y,O){return this._pathBinding.path=O,this._pathBinding.getValue(y)},U.getBehavior=function(y){return y?y[U.BehaviourRefProp]:null},U.directiveTypeDataProp="meta",U.directiveResolvedTypeDataProp="_wjResolvedMeta",U.BehaviourRefProp="_wjBehaviour",U.parPropAttr="wjProperty",U.wjModelPropAttr="wjModelProperty",U.initializedEventAttr="initialized",U.isInitializedPropAttr="isInitialized",U.siblingDirIdAttr="wj-directive-id",U.asyncBindingUpdatePropAttr="asyncBindings",U.siblingDirId=0,U.wijmoComponentProviderId="WjComponent",U.outsideZoneEvents={pointermove:!0,pointerover:!0,mousemove:!0,wheel:!0,touchmove:!0,pointerenter:!0,pointerleave:!0,pointerout:!0,mouseover:!0,mouseenter:!0,mouseleave:!0,mouseout:!0},U._pathBinding=new C.Binding(""),U.\u0275fac=function(O){h.$Z()},U.\u0275dir=h.lG2({type:U}),U}(),ue=function(){function U(){}return U.initEvents=function(y,O){for(var $=[],Q=0,oe=O;Q<oe.length;Q++){var Ce=oe[Q],xe=Ce.props;if(Ce.event&&Ce.eventImpl&&$.push(Ce.eventImpl+":"+Ce.event),xe&&xe.length)for(var be=0,ke=xe;be<ke.length;be++){var Ze=ke[be];$.push(Ze.evImpl+":"+Ze.evExposed)}}return $},U.getChangeEventNameImplemented=function(y){return U.getChangeEventNameExposed(y)+U.changeEventImplementSuffix},U.getChangeEventNameExposed=function(y){return y+"Change"},U.getWjEventNameImplemented=function(y){return y+U.wjEventImplementSuffix},U.getWjEventName=function(y){if(y){var O=U.wjEventImplementSuffix,$=y.length-O.length;if($>0&&y.substr($)===O)return y.substr(0,$)}return null},U.getBaseType=function(y){var O;return y&&(O=Object.getPrototypeOf(y.prototype))&&O.constructor},U.getAnnotations=function(y){return Reflect.getMetadata("annotations",y)},U.getAnnotation=function(y,O){if(O&&y)for(var $=0,Q=y;$<Q.length;$++){var oe=Q[$];if(oe instanceof O)return oe}return null},U.getTypeAnnotation=function(y,O,$){for(var Q=y;Q;Q=$?null:U.getBaseType(Q)){var oe=U.getAnnotation(U.getAnnotations(Q),O);if(oe)return oe}return null},U.equals=function(y,O){return y!=y&&O!=O||C.DateTime.equals(y,O)||y===O},U._copy=function(y,O,$,Q,oe){if(y&&O)for(var Ce in O)if(Q||"_"!==Ce[0]){var xe=O[Ce];if(!oe||oe(Ce,xe)){var be=y[Ce];C.isArray(xe)?y[Ce]=(!C.isArray(be)||$?[]:be).concat(xe):void 0!==xe&&(y[Ce]=xe)}}},U.changeEventImplementSuffix="PC",U.wjEventImplementSuffix="Ng",U}(),ve=function(){function U(y){this._writeQnt=0,this._isSubscribed=!1,this._dirUpdateQnt=0,this._onChange=function(O){},this._onTouched=function(){},this._directive=y,this._behavior=pe.getBehavior(y)}return U.prototype.writeValue=function(y){var O=this;this._modelValue=y,++this._writeQnt,this._directive.isInitialized?(this._ensureInitEhUnsubscribed(),this._updateDirective()):this._dirInitEh||(this._dirInitEh=this._directive.initialized.subscribe(function(){O._updateDirective(),O._ensureInitEhUnsubscribed()}))},U.prototype.registerOnChange=function(y){this._onChange=y},U.prototype.registerOnTouched=function(y){this._onTouched=y},U.prototype.setDisabledState=function(y){var O=this._directive;O instanceof C.Control&&(O.isDisabled=y)},U.prototype._updateDirective=function(){if(!this._isFirstChange()||null!=this._modelValue){if(this._ensureNgModelProp(),this._directive&&this._ngModelProp){var y=this._modelValue;""===y&&(y=null),this._dirUpdateQnt++;try{this._directive[this._ngModelProp]=y}finally{this._dirUpdateQnt--}}this._ensureSubscribed()}},U.prototype._ensureSubscribed=function(){if(!this._isSubscribed){var y=this._directive;if(y){this._ensureNgModelProp();var O=this._ngModelProp=y[pe.wjModelPropAttr];if(O){var $=this._behavior.getPropChangeEvent(O);$&&y[$].addHandler(this._dirValChgEh,this)}y instanceof C.Control&&y.lostFocus.addHandler(this._dirLostFocusEh,this),this._isSubscribed=!0}}},U.prototype._ensureNgModelProp=function(){!this._ngModelProp&&this._directive&&(this._ngModelProp=this._directive[pe.wjModelPropAttr])},U.prototype._ensureInitEhUnsubscribed=function(){this._dirInitEh&&(this._dirInitEh.unsubscribe(),this._dirInitEh=null)},U.prototype._isFirstChange=function(){return this._writeQnt<2},U.prototype._dirValChgEh=function(y,O){if(this._onChange&&this._directive&&this._ngModelProp){var $=this._directive[this._ngModelProp],Q=this._modelValue;""===Q&&(Q=null),(!(this._dirUpdateQnt>0&&le(Q)&&le($)||ue.equals(Q,$))||C.isArray($))&&(this._modelValue=$,this._onChange($))}},U.prototype._dirLostFocusEh=function(y,O){this._onTouched&&this._onTouched()},U}();function re(U){return new ve(U)}function le(U){return null==U||""===U}},9794:(cn,Ve,G)=>{"use strict";G.d(Ve,{CN:()=>_t,OR:()=>fn,ic:()=>be,wJ:()=>Ti});var h=G(4650),C=G(6895),V=G(4006),ee=G(238),pe=G(7665),ue=G(4103),ve=["*"];function re(It,Ue){1&It&&(h.TgZ(0,"div"),h.Hsn(1),h.qZA())}function le(It,Ue){1&It&&h._UZ(0,"div",1)}var It,U=(It=function(Ue,Ht){return(It=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ge,Pt){Ge.__proto__=Pt}||function(Ge,Pt){for(var Yt in Pt)Pt.hasOwnProperty(Yt)&&(Ge[Yt]=Pt[Yt])})(Ue,Ht)},function(Ue,Ht){function Ge(){this.constructor=Ue}It(Ue,Ht),Ue.prototype=null===Ht?Object.create(Ht):(Ge.prototype=Ht.prototype,new Ge)}),y=function(It,Ue,Ht,Ge){var Pt,Yt=arguments.length,ut=Yt<3?Ue:null===Ge?Ge=Object.getOwnPropertyDescriptor(Ue,Ht):Ge;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ut=Reflect.decorate(It,Ue,Ht,Ge);else for(var ni=It.length-1;ni>=0;ni--)(Pt=It[ni])&&(ut=(Yt<3?Pt(ut):Yt>3?Pt(Ue,Ht,ut):Pt(Ue,Ht))||ut);return Yt>3&&ut&&Object.defineProperty(Ue,Ht,ut),ut},O=function(It,Ue){return function(Ht,Ge){Ue(Ht,Ge,It)}},$={selector:"wj-list-box",template:"<div><ng-content></ng-content></div>",inputs:["asyncBindings","wjModelProperty","isDisabled","tabOrder","isContentHtml","maxHeight","selectedValuePath","itemFormatter","displayMemberPath","checkedMemberPath","caseSensitiveSearch","itemsSource","virtualizationThreshold","showGroups","selectedIndex","selectedItem","selectedValue","checkedItems"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","refreshingNg: refreshing","refreshedNg: refreshed","invalidInputNg: invalidInput","formatItemNg: formatItem","itemsChangedNg: itemsChanged","itemCheckedNg: itemChecked","selectedIndexChangedNg: selectedIndexChanged","selectedIndexChangePC: selectedIndexChange","selectedItemChangePC: selectedItemChange","selectedValueChangePC: selectedValueChange","checkedItemsChangedNg: checkedItemsChanged","checkedItemsChangePC: checkedItemsChange"],providers:[{provide:V.JU,useFactory:ee.Ko,multi:!0,deps:["WjComponent"]}]},oe=(function(It){function Ue(Ge,Pt,Yt){var ut=It.call(this,ee.D6.getHostElement(Ge,Pt))||this;return ut.isInitialized=!1,ut.wjModelProperty="selectedValue",ut._wjBehaviour=ee.D6.attach(ut,Ge,Pt,Yt),ut.created(),ut}var Ht;U(Ue,It),Ht=Ue,Ue.prototype.created=function(){},Ue.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},Ue.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},Ue.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},Ue.prototype.addEventListener=function(Ge,Pt,Yt,ut){var ni=this;void 0===ut&&(ut=!1);var Kn=ee.D6,Fn=Kn.getZone(this);Fn&&Kn.outsideZoneEvents[Pt]?Fn.runOutsideAngular(function(){It.prototype.addEventListener.call(ni,Ge,Pt,Yt,ut)}):It.prototype.addEventListener.call(this,Ge,Pt,Yt,ut)},Ue.meta={outputs:$.outputs,changeEvents:{selectedIndexChanged:["selectedIndex","selectedItem","selectedValue"],checkedItemsChanged:["checkedItems"]}},Ue.\u0275fac=function(Pt){return new(Pt||Ue)(h.Y36(h.SBq),h.Y36(h.zs3),h.Y36("WjComponent",12))},Ue.\u0275cmp=h.Xpm({type:Ue,selectors:[["wj-list-box"]],inputs:{asyncBindings:"asyncBindings",wjModelProperty:"wjModelProperty",isDisabled:"isDisabled",tabOrder:"tabOrder",isContentHtml:"isContentHtml",maxHeight:"maxHeight",selectedValuePath:"selectedValuePath",itemFormatter:"itemFormatter",displayMemberPath:"displayMemberPath",checkedMemberPath:"checkedMemberPath",caseSensitiveSearch:"caseSensitiveSearch",itemsSource:"itemsSource",virtualizationThreshold:"virtualizationThreshold",showGroups:"showGroups",selectedIndex:"selectedIndex",selectedItem:"selectedItem",selectedValue:"selectedValue",checkedItems:"checkedItems"},outputs:{initialized:"initialized",gotFocusNg:"gotFocus",lostFocusNg:"lostFocus",refreshingNg:"refreshing",refreshedNg:"refreshed",invalidInputNg:"invalidInput",formatItemNg:"formatItem",itemsChangedNg:"itemsChanged",itemCheckedNg:"itemChecked",selectedIndexChangedNg:"selectedIndexChanged",selectedIndexChangePC:"selectedIndexChange",selectedItemChangePC:"selectedItemChange",selectedValueChangePC:"selectedValueChange",checkedItemsChangedNg:"checkedItemsChanged",checkedItemsChangePC:"checkedItemsChange"},features:[h._Bn([{provide:"WjComponent",useExisting:(0,h.Gpc)(function(){return Ht})}].concat($.providers))],ngContentSelectors:ve,decls:2,vars:0,template:function(Pt,Yt){1&Pt&&(h.F$t(),h.TgZ(0,"div"),h.Hsn(1),h.qZA())},encapsulation:2}),Ue=Ht=y([,O(0,(0,h.tBr)(h.SBq)),O(1,(0,h.tBr)(h.zs3)),O(2,(0,h.tBr)("WjComponent")),O(2,(0,h.tp0)()),O(2,(0,h.FiY)())],Ue)}(ue.ListBox),{selector:"wj-multi-select-list-box",template:"",inputs:["asyncBindings","wjModelProperty","isDisabled","tabOrder","itemsSource","displayMemberPath","selectedIndex","isContentHtml","showGroups","checkOnFilter","showFilterInput","filterInputPlaceholder","showSelectAllCheckbox","selectAllLabel","delay","caseSensitiveSearch","checkedMemberPath","virtualizationThreshold","checkedItems"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","refreshingNg: refreshing","refreshedNg: refreshed","invalidInputNg: invalidInput","checkedItemsChangedNg: checkedItemsChanged","checkedItemsChangePC: checkedItemsChange","selectedIndexChangedNg: selectedIndexChanged","selectedIndexChangePC: selectedIndexChange"],providers:[{provide:V.JU,useFactory:ee.Ko,multi:!0,deps:["WjComponent"]}]}),xe=(function(It){function Ue(Ge,Pt,Yt){var ut=It.call(this,ee.D6.getHostElement(Ge,Pt))||this;return ut.isInitialized=!1,ut.wjModelProperty="checkedItems",ut._wjBehaviour=ee.D6.attach(ut,Ge,Pt,Yt),ut.created(),ut}var Ht;U(Ue,It),Ht=Ue,Ue.prototype.created=function(){},Ue.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},Ue.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},Ue.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},Ue.prototype.addEventListener=function(Ge,Pt,Yt,ut){var ni=this;void 0===ut&&(ut=!1);var Kn=ee.D6,Fn=Kn.getZone(this);Fn&&Kn.outsideZoneEvents[Pt]?Fn.runOutsideAngular(function(){It.prototype.addEventListener.call(ni,Ge,Pt,Yt,ut)}):It.prototype.addEventListener.call(this,Ge,Pt,Yt,ut)},Ue.meta={outputs:oe.outputs,changeEvents:{checkedItemsChanged:["checkedItems"],selectedIndexChanged:["selectedIndex"]}},Ue.\u0275fac=function(Pt){return new(Pt||Ue)(h.Y36(h.SBq),h.Y36(h.zs3),h.Y36("WjComponent",12))},Ue.\u0275cmp=h.Xpm({type:Ue,selectors:[["wj-multi-select-list-box"]],inputs:{asyncBindings:"asyncBindings",wjModelProperty:"wjModelProperty",isDisabled:"isDisabled",tabOrder:"tabOrder",itemsSource:"itemsSource",displayMemberPath:"displayMemberPath",selectedIndex:"selectedIndex",isContentHtml:"isContentHtml",showGroups:"showGroups",checkOnFilter:"checkOnFilter",showFilterInput:"showFilterInput",filterInputPlaceholder:"filterInputPlaceholder",showSelectAllCheckbox:"showSelectAllCheckbox",selectAllLabel:"selectAllLabel",delay:"delay",caseSensitiveSearch:"caseSensitiveSearch",checkedMemberPath:"checkedMemberPath",virtualizationThreshold:"virtualizationThreshold",checkedItems:"checkedItems"},outputs:{initialized:"initialized",gotFocusNg:"gotFocus",lostFocusNg:"lostFocus",refreshingNg:"refreshing",refreshedNg:"refreshed",invalidInputNg:"invalidInput",checkedItemsChangedNg:"checkedItemsChanged",checkedItemsChangePC:"checkedItemsChange",selectedIndexChangedNg:"selectedIndexChanged",selectedIndexChangePC:"selectedIndexChange"},features:[h._Bn([{provide:"WjComponent",useExisting:(0,h.Gpc)(function(){return Ht})}].concat(oe.providers))],decls:0,vars:0,template:function(Pt,Yt){},encapsulation:2}),Ue=Ht=y([,O(0,(0,h.tBr)(h.SBq)),O(1,(0,h.tBr)(h.zs3)),O(2,(0,h.tBr)("WjComponent")),O(2,(0,h.tp0)()),O(2,(0,h.FiY)())],Ue)}(ue.MultiSelectListBox),{selector:"wj-combo-box",template:"<div><ng-content></ng-content></div>",inputs:["asyncBindings","wjModelProperty","isDisabled","tabOrder","isDroppedDown","showDropDownButton","autoExpandSelection","placeholder","dropDownCssClass","isAnimated","isReadOnly","isRequired","inputType","clickAction","displayMemberPath","selectedValuePath","headerPath","isContentHtml","isEditable","handleWheel","maxDropDownHeight","maxDropDownWidth","itemFormatter","showGroups","trimText","caseSensitiveSearch","virtualizationThreshold","itemsSource","text","selectedIndex","selectedItem","selectedValue"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","refreshingNg: refreshing","refreshedNg: refreshed","invalidInputNg: invalidInput","isDroppedDownChangingNg: isDroppedDownChanging","isDroppedDownChangedNg: isDroppedDownChanged","isDroppedDownChangePC: isDroppedDownChange","textChangedNg: textChanged","textChangePC: textChange","itemsSourceChangedNg: itemsSourceChanged","formatItemNg: formatItem","selectedIndexChangedNg: selectedIndexChanged","selectedIndexChangePC: selectedIndexChange","selectedItemChangePC: selectedItemChange","selectedValueChangePC: selectedValueChange"],providers:[{provide:V.JU,useFactory:ee.Ko,multi:!0,deps:["WjComponent"]}]}),be=function(It){function Ue(Ge,Pt,Yt){var ut=It.call(this,ee.D6.getHostElement(Ge,Pt))||this;return ut.isInitialized=!1,ut.wjModelProperty="selectedValue",ut._wjBehaviour=ee.D6.attach(ut,Ge,Pt,Yt),ut.created(),ut}var Ht;return U(Ue,It),Ht=Ue,Ue.prototype.created=function(){},Ue.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},Ue.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},Ue.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},Ue.prototype.addEventListener=function(Ge,Pt,Yt,ut){var ni=this;void 0===ut&&(ut=!1);var Kn=ee.D6,Fn=Kn.getZone(this);Fn&&Kn.outsideZoneEvents[Pt]?Fn.runOutsideAngular(function(){It.prototype.addEventListener.call(ni,Ge,Pt,Yt,ut)}):It.prototype.addEventListener.call(this,Ge,Pt,Yt,ut)},Ue.meta={outputs:xe.outputs,changeEvents:{isDroppedDownChanged:["isDroppedDown"],textChanged:["text"],selectedIndexChanged:["selectedIndex","selectedItem","selectedValue"]}},Ue.\u0275fac=function(Pt){return new(Pt||Ue)(h.Y36(h.SBq),h.Y36(h.zs3),h.Y36("WjComponent",12))},Ue.\u0275cmp=h.Xpm({type:Ue,selectors:[["wj-combo-box"]],inputs:{asyncBindings:"asyncBindings",wjModelProperty:"wjModelProperty",isDisabled:"isDisabled",tabOrder:"tabOrder",isDroppedDown:"isDroppedDown",showDropDownButton:"showDropDownButton",autoExpandSelection:"autoExpandSelection",placeholder:"placeholder",dropDownCssClass:"dropDownCssClass",isAnimated:"isAnimated",isReadOnly:"isReadOnly",isRequired:"isRequired",inputType:"inputType",clickAction:"clickAction",displayMemberPath:"displayMemberPath",selectedValuePath:"selectedValuePath",headerPath:"headerPath",isContentHtml:"isContentHtml",isEditable:"isEditable",handleWheel:"handleWheel",maxDropDownHeight:"maxDropDownHeight",maxDropDownWidth:"maxDropDownWidth",itemFormatter:"itemFormatter",showGroups:"showGroups",trimText:"trimText",caseSensitiveSearch:"caseSensitiveSearch",virtualizationThreshold:"virtualizationThreshold",itemsSource:"itemsSource",text:"text",selectedIndex:"selectedIndex",selectedItem:"selectedItem",selectedValue:"selectedValue"},outputs:{initialized:"initialized",gotFocusNg:"gotFocus",lostFocusNg:"lostFocus",refreshingNg:"refreshing",refreshedNg:"refreshed",invalidInputNg:"invalidInput",isDroppedDownChangingNg:"isDroppedDownChanging",isDroppedDownChangedNg:"isDroppedDownChanged",isDroppedDownChangePC:"isDroppedDownChange",textChangedNg:"textChanged",textChangePC:"textChange",itemsSourceChangedNg:"itemsSourceChanged",formatItemNg:"formatItem",selectedIndexChangedNg:"selectedIndexChanged",selectedIndexChangePC:"selectedIndexChange",selectedItemChangePC:"selectedItemChange",selectedValueChangePC:"selectedValueChange"},features:[h._Bn([{provide:"WjComponent",useExisting:(0,h.Gpc)(function(){return Ht})}].concat(xe.providers))],ngContentSelectors:ve,decls:2,vars:0,template:function(Pt,Yt){1&Pt&&(h.F$t(),h.TgZ(0,"div"),h.Hsn(1),h.qZA())},encapsulation:2}),Ue=Ht=y([,O(0,(0,h.tBr)(h.SBq)),O(1,(0,h.tBr)(h.zs3)),O(2,(0,h.tBr)("WjComponent")),O(2,(0,h.tp0)()),O(2,(0,h.FiY)())],Ue)}(ue.ComboBox),ke={selector:"wj-auto-complete",template:"",inputs:["asyncBindings","wjModelProperty","isDisabled","tabOrder","isDroppedDown","showDropDownButton","autoExpandSelection","placeholder","dropDownCssClass","isAnimated","isReadOnly","isRequired","inputType","clickAction","displayMemberPath","selectedValuePath","headerPath","isContentHtml","isEditable","handleWheel","maxDropDownHeight","maxDropDownWidth","itemFormatter","showGroups","trimText","caseSensitiveSearch","virtualizationThreshold","delay","maxItems","minLength","cssMatch","itemsSourceFunction","searchMemberPath","beginsWithSearch","itemsSource","text","selectedIndex","selectedItem","selectedValue"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","refreshingNg: refreshing","refreshedNg: refreshed","invalidInputNg: invalidInput","isDroppedDownChangingNg: isDroppedDownChanging","isDroppedDownChangedNg: isDroppedDownChanged","isDroppedDownChangePC: isDroppedDownChange","textChangedNg: textChanged","textChangePC: textChange","itemsSourceChangedNg: itemsSourceChanged","formatItemNg: formatItem","selectedIndexChangedNg: selectedIndexChanged","selectedIndexChangePC: selectedIndexChange","selectedItemChangePC: selectedItemChange","selectedValueChangePC: selectedValueChange"],providers:[{provide:V.JU,useFactory:ee.Ko,multi:!0,deps:["WjComponent"]}]},Ke=(function(It){function Ue(Ge,Pt,Yt){var ut=It.call(this,ee.D6.getHostElement(Ge,Pt))||this;return ut.isInitialized=!1,ut.wjModelProperty="selectedValue",ut._wjBehaviour=ee.D6.attach(ut,Ge,Pt,Yt),ut.created(),ut}var Ht;U(Ue,It),Ht=Ue,Ue.prototype.created=function(){},Ue.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},Ue.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},Ue.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},Ue.prototype.addEventListener=function(Ge,Pt,Yt,ut){var ni=this;void 0===ut&&(ut=!1);var Kn=ee.D6,Fn=Kn.getZone(this);Fn&&Kn.outsideZoneEvents[Pt]?Fn.runOutsideAngular(function(){It.prototype.addEventListener.call(ni,Ge,Pt,Yt,ut)}):It.prototype.addEventListener.call(this,Ge,Pt,Yt,ut)},Ue.meta={outputs:ke.outputs,changeEvents:{isDroppedDownChanged:["isDroppedDown"],textChanged:["text"],selectedIndexChanged:["selectedIndex","selectedItem","selectedValue"]}},Ue.\u0275fac=function(Pt){return new(Pt||Ue)(h.Y36(h.SBq),h.Y36(h.zs3),h.Y36("WjComponent",12))},Ue.\u0275cmp=h.Xpm({type:Ue,selectors:[["wj-auto-complete"]],inputs:{asyncBindings:"asyncBindings",wjModelProperty:"wjModelProperty",isDisabled:"isDisabled",tabOrder:"tabOrder",isDroppedDown:"isDroppedDown",showDropDownButton:"showDropDownButton",autoExpandSelection:"autoExpandSelection",placeholder:"placeholder",dropDownCssClass:"dropDownCssClass",isAnimated:"isAnimated",isReadOnly:"isReadOnly",isRequired:"isRequired",inputType:"inputType",clickAction:"clickAction",displayMemberPath:"displayMemberPath",selectedValuePath:"selectedValuePath",headerPath:"headerPath",isContentHtml:"isContentHtml",isEditable:"isEditable",handleWheel:"handleWheel",maxDropDownHeight:"maxDropDownHeight",maxDropDownWidth:"maxDropDownWidth",itemFormatter:"itemFormatter",showGroups:"showGroups",trimText:"trimText",caseSensitiveSearch:"caseSensitiveSearch",virtualizationThreshold:"virtualizationThreshold",delay:"delay",maxItems:"maxItems",minLength:"minLength",cssMatch:"cssMatch",itemsSourceFunction:"itemsSourceFunction",searchMemberPath:"searchMemberPath",beginsWithSearch:"beginsWithSearch",itemsSource:"itemsSource",text:"text",selectedIndex:"selectedIndex",selectedItem:"selectedItem",selectedValue:"selectedValue"},outputs:{initialized:"initialized",gotFocusNg:"gotFocus",lostFocusNg:"lostFocus",refreshingNg:"refreshing",refreshedNg:"refreshed",invalidInputNg:"invalidInput",isDroppedDownChangingNg:"isDroppedDownChanging",isDroppedDownChangedNg:"isDroppedDownChanged",isDroppedDownChangePC:"isDroppedDownChange",textChangedNg:"textChanged",textChangePC:"textChange",itemsSourceChangedNg:"itemsSourceChanged",formatItemNg:"formatItem",selectedIndexChangedNg:"selectedIndexChanged",selectedIndexChangePC:"selectedIndexChange",selectedItemChangePC:"selectedItemChange",selectedValueChangePC:"selectedValueChange"},features:[h._Bn([{provide:"WjComponent",useExisting:(0,h.Gpc)(function(){return Ht})}].concat(ke.providers))],decls:0,vars:0,template:function(Pt,Yt){},encapsulation:2}),Ue=Ht=y([,O(0,(0,h.tBr)(h.SBq)),O(1,(0,h.tBr)(h.zs3)),O(2,(0,h.tBr)("WjComponent")),O(2,(0,h.tp0)()),O(2,(0,h.FiY)())],Ue)}(ue.AutoComplete),{selector:"wj-calendar",template:"",inputs:["asyncBindings","wjModelProperty","isDisabled","tabOrder","monthView","showHeader","itemFormatter","itemValidator","firstDayOfWeek","max","min","formatYearMonth","formatDayHeaders","formatDays","formatYear","formatMonths","selectionMode","isReadOnly","handleWheel","repeatButtons","showYearPicker","value","displayMonth","monthCount","showMonthPicker","weeksBefore","weeksAfter","rangeEnd","rangeMin","rangeMax"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","refreshingNg: refreshing","refreshedNg: refreshed","invalidInputNg: invalidInput","valueChangedNg: valueChanged","valueChangePC: valueChange","rangeEndChangedNg: rangeEndChanged","rangeEndChangePC: rangeEndChange","rangeChangedNg: rangeChanged","displayMonthChangedNg: displayMonthChanged","displayMonthChangePC: displayMonthChange","formatItemNg: formatItem"],providers:[{provide:V.JU,useFactory:ee.Ko,multi:!0,deps:["WjComponent"]}]}),et=(function(It){function Ue(Ge,Pt,Yt){var ut=It.call(this,ee.D6.getHostElement(Ge,Pt))||this;return ut.isInitialized=!1,ut.wjModelProperty="value",ut._wjBehaviour=ee.D6.attach(ut,Ge,Pt,Yt),ut.created(),ut}var Ht;U(Ue,It),Ht=Ue,Ue.prototype.created=function(){},Ue.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},Ue.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},Ue.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},Ue.prototype.addEventListener=function(Ge,Pt,Yt,ut){var ni=this;void 0===ut&&(ut=!1);var Kn=ee.D6,Fn=Kn.getZone(this);Fn&&Kn.outsideZoneEvents[Pt]?Fn.runOutsideAngular(function(){It.prototype.addEventListener.call(ni,Ge,Pt,Yt,ut)}):It.prototype.addEventListener.call(this,Ge,Pt,Yt,ut)},Ue.meta={outputs:Ke.outputs,changeEvents:{valueChanged:["value"],rangeEndChanged:["rangeEnd"],displayMonthChanged:["displayMonth"]}},Ue.\u0275fac=function(Pt){return new(Pt||Ue)(h.Y36(h.SBq),h.Y36(h.zs3),h.Y36("WjComponent",12))},Ue.\u0275cmp=h.Xpm({type:Ue,selectors:[["wj-calendar"]],inputs:{asyncBindings:"asyncBindings",wjModelProperty:"wjModelProperty",isDisabled:"isDisabled",tabOrder:"tabOrder",monthView:"monthView",showHeader:"showHeader",itemFormatter:"itemFormatter",itemValidator:"itemValidator",firstDayOfWeek:"firstDayOfWeek",max:"max",min:"min",formatYearMonth:"formatYearMonth",formatDayHeaders:"formatDayHeaders",formatDays:"formatDays",formatYear:"formatYear",formatMonths:"formatMonths",selectionMode:"selectionMode",isReadOnly:"isReadOnly",handleWheel:"handleWheel",repeatButtons:"repeatButtons",showYearPicker:"showYearPicker",value:"value",displayMonth:"displayMonth",monthCount:"monthCount",showMonthPicker:"showMonthPicker",weeksBefore:"weeksBefore",weeksAfter:"weeksAfter",rangeEnd:"rangeEnd",rangeMin:"rangeMin",rangeMax:"rangeMax"},outputs:{initialized:"initialized",gotFocusNg:"gotFocus",lostFocusNg:"lostFocus",refreshingNg:"refreshing",refreshedNg:"refreshed",invalidInputNg:"invalidInput",valueChangedNg:"valueChanged",valueChangePC:"valueChange",rangeEndChangedNg:"rangeEndChanged",rangeEndChangePC:"rangeEndChange",rangeChangedNg:"rangeChanged",displayMonthChangedNg:"displayMonthChanged",displayMonthChangePC:"displayMonthChange",formatItemNg:"formatItem"},features:[h._Bn([{provide:"WjComponent",useExisting:(0,h.Gpc)(function(){return Ht})}].concat(Ke.providers))],decls:0,vars:0,template:function(Pt,Yt){},encapsulation:2}),Ue=Ht=y([,O(0,(0,h.tBr)(h.SBq)),O(1,(0,h.tBr)(h.zs3)),O(2,(0,h.tBr)("WjComponent")),O(2,(0,h.tp0)()),O(2,(0,h.FiY)())],Ue)}(ue.Calendar),{selector:"wj-color-picker",template:"",inputs:["asyncBindings","wjModelProperty","isDisabled","tabOrder","showAlphaChannel","showColorString","palette","value"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","refreshingNg: refreshing","refreshedNg: refreshed","invalidInputNg: invalidInput","valueChangedNg: valueChanged","valueChangePC: valueChange"],providers:[{provide:V.JU,useFactory:ee.Ko,multi:!0,deps:["WjComponent"]}]}),u=(function(It){function Ue(Ge,Pt,Yt){var ut=It.call(this,ee.D6.getHostElement(Ge,Pt))||this;return ut.isInitialized=!1,ut.wjModelProperty="value",ut._wjBehaviour=ee.D6.attach(ut,Ge,Pt,Yt),ut.created(),ut}var Ht;U(Ue,It),Ht=Ue,Ue.prototype.created=function(){},Ue.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},Ue.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},Ue.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},Ue.prototype.addEventListener=function(Ge,Pt,Yt,ut){var ni=this;void 0===ut&&(ut=!1);var Kn=ee.D6,Fn=Kn.getZone(this);Fn&&Kn.outsideZoneEvents[Pt]?Fn.runOutsideAngular(function(){It.prototype.addEventListener.call(ni,Ge,Pt,Yt,ut)}):It.prototype.addEventListener.call(this,Ge,Pt,Yt,ut)},Ue.meta={outputs:et.outputs,changeEvents:{valueChanged:["value"]}},Ue.\u0275fac=function(Pt){return new(Pt||Ue)(h.Y36(h.SBq),h.Y36(h.zs3),h.Y36("WjComponent",12))},Ue.\u0275cmp=h.Xpm({type:Ue,selectors:[["wj-color-picker"]],inputs:{asyncBindings:"asyncBindings",wjModelProperty:"wjModelProperty",isDisabled:"isDisabled",tabOrder:"tabOrder",showAlphaChannel:"showAlphaChannel",showColorString:"showColorString",palette:"palette",value:"value"},outputs:{initialized:"initialized",gotFocusNg:"gotFocus",lostFocusNg:"lostFocus",refreshingNg:"refreshing",refreshedNg:"refreshed",invalidInputNg:"invalidInput",valueChangedNg:"valueChanged",valueChangePC:"valueChange"},features:[h._Bn([{provide:"WjComponent",useExisting:(0,h.Gpc)(function(){return Ht})}].concat(et.providers))],decls:0,vars:0,template:function(Pt,Yt){},encapsulation:2}),Ue=Ht=y([,O(0,(0,h.tBr)(h.SBq)),O(1,(0,h.tBr)(h.zs3)),O(2,(0,h.tBr)("WjComponent")),O(2,(0,h.tp0)()),O(2,(0,h.FiY)())],Ue)}(ue.ColorPicker),{selector:"wj-input-mask",template:"",inputs:["asyncBindings","wjModelProperty","isDisabled","tabOrder","mask","overwriteMode","isRequired","isReadOnly","promptChar","placeholder","inputType","rawValue","value"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","refreshingNg: refreshing","refreshedNg: refreshed","invalidInputNg: invalidInput","valueChangedNg: valueChanged","rawValueChangePC: rawValueChange","valueChangePC: valueChange"],providers:[{provide:V.JU,useFactory:ee.Ko,multi:!0,deps:["WjComponent"]}]}),we=(function(It){function Ue(Ge,Pt,Yt){var ut=It.call(this,ee.D6.getHostElement(Ge,Pt))||this;return ut.isInitialized=!1,ut.wjModelProperty="value",ut._wjBehaviour=ee.D6.attach(ut,Ge,Pt,Yt),ut.created(),ut}var Ht;U(Ue,It),Ht=Ue,Ue.prototype.created=function(){},Ue.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},Ue.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},Ue.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},Ue.prototype.addEventListener=function(Ge,Pt,Yt,ut){var ni=this;void 0===ut&&(ut=!1);var Kn=ee.D6,Fn=Kn.getZone(this);Fn&&Kn.outsideZoneEvents[Pt]?Fn.runOutsideAngular(function(){It.prototype.addEventListener.call(ni,Ge,Pt,Yt,ut)}):It.prototype.addEventListener.call(this,Ge,Pt,Yt,ut)},Ue.meta={outputs:u.outputs,changeEvents:{valueChanged:["rawValue","value"]}},Ue.\u0275fac=function(Pt){return new(Pt||Ue)(h.Y36(h.SBq),h.Y36(h.zs3),h.Y36("WjComponent",12))},Ue.\u0275cmp=h.Xpm({type:Ue,selectors:[["wj-input-mask"]],inputs:{asyncBindings:"asyncBindings",wjModelProperty:"wjModelProperty",isDisabled:"isDisabled",tabOrder:"tabOrder",mask:"mask",overwriteMode:"overwriteMode",isRequired:"isRequired",isReadOnly:"isReadOnly",promptChar:"promptChar",placeholder:"placeholder",inputType:"inputType",rawValue:"rawValue",value:"value"},outputs:{initialized:"initialized",gotFocusNg:"gotFocus",lostFocusNg:"lostFocus",refreshingNg:"refreshing",refreshedNg:"refreshed",invalidInputNg:"invalidInput",valueChangedNg:"valueChanged",rawValueChangePC:"rawValueChange",valueChangePC:"valueChange"},features:[h._Bn([{provide:"WjComponent",useExisting:(0,h.Gpc)(function(){return Ht})}].concat(u.providers))],decls:0,vars:0,template:function(Pt,Yt){},encapsulation:2}),Ue=Ht=y([,O(0,(0,h.tBr)(h.SBq)),O(1,(0,h.tBr)(h.zs3)),O(2,(0,h.tBr)("WjComponent")),O(2,(0,h.tp0)()),O(2,(0,h.FiY)())],Ue)}(ue.InputMask),{selector:"wj-input-color",template:"",inputs:["asyncBindings","wjModelProperty","isDisabled","tabOrder","isDroppedDown","showDropDownButton","autoExpandSelection","placeholder","dropDownCssClass","isAnimated","isReadOnly","isRequired","inputType","clickAction","showAlphaChannel","showColorString","value","text"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","refreshingNg: refreshing","refreshedNg: refreshed","invalidInputNg: invalidInput","isDroppedDownChangingNg: isDroppedDownChanging","isDroppedDownChangedNg: isDroppedDownChanged","isDroppedDownChangePC: isDroppedDownChange","textChangedNg: textChanged","textChangePC: textChange","valueChangedNg: valueChanged","valueChangePC: valueChange"],providers:[{provide:V.JU,useFactory:ee.Ko,multi:!0,deps:["WjComponent"]}]}),Gt=(function(It){function Ue(Ge,Pt,Yt){var ut=It.call(this,ee.D6.getHostElement(Ge,Pt))||this;return ut.isInitialized=!1,ut.wjModelProperty="value",ut._wjBehaviour=ee.D6.attach(ut,Ge,Pt,Yt),ut.created(),ut}var Ht;U(Ue,It),Ht=Ue,Ue.prototype.created=function(){},Ue.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},Ue.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},Ue.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},Ue.prototype.addEventListener=function(Ge,Pt,Yt,ut){var ni=this;void 0===ut&&(ut=!1);var Kn=ee.D6,Fn=Kn.getZone(this);Fn&&Kn.outsideZoneEvents[Pt]?Fn.runOutsideAngular(function(){It.prototype.addEventListener.call(ni,Ge,Pt,Yt,ut)}):It.prototype.addEventListener.call(this,Ge,Pt,Yt,ut)},Ue.meta={outputs:we.outputs,changeEvents:{isDroppedDownChanged:["isDroppedDown"],textChanged:["text"],valueChanged:["value"]}},Ue.\u0275fac=function(Pt){return new(Pt||Ue)(h.Y36(h.SBq),h.Y36(h.zs3),h.Y36("WjComponent",12))},Ue.\u0275cmp=h.Xpm({type:Ue,selectors:[["wj-input-color"]],inputs:{asyncBindings:"asyncBindings",wjModelProperty:"wjModelProperty",isDisabled:"isDisabled",tabOrder:"tabOrder",isDroppedDown:"isDroppedDown",showDropDownButton:"showDropDownButton",autoExpandSelection:"autoExpandSelection",placeholder:"placeholder",dropDownCssClass:"dropDownCssClass",isAnimated:"isAnimated",isReadOnly:"isReadOnly",isRequired:"isRequired",inputType:"inputType",clickAction:"clickAction",showAlphaChannel:"showAlphaChannel",showColorString:"showColorString",value:"value",text:"text"},outputs:{initialized:"initialized",gotFocusNg:"gotFocus",lostFocusNg:"lostFocus",refreshingNg:"refreshing",refreshedNg:"refreshed",invalidInputNg:"invalidInput",isDroppedDownChangingNg:"isDroppedDownChanging",isDroppedDownChangedNg:"isDroppedDownChanged",isDroppedDownChangePC:"isDroppedDownChange",textChangedNg:"textChanged",textChangePC:"textChange",valueChangedNg:"valueChanged",valueChangePC:"valueChange"},features:[h._Bn([{provide:"WjComponent",useExisting:(0,h.Gpc)(function(){return Ht})}].concat(we.providers))],decls:0,vars:0,template:function(Pt,Yt){},encapsulation:2}),Ue=Ht=y([,O(0,(0,h.tBr)(h.SBq)),O(1,(0,h.tBr)(h.zs3)),O(2,(0,h.tBr)("WjComponent")),O(2,(0,h.tp0)()),O(2,(0,h.FiY)())],Ue)}(ue.InputColor),{selector:"wj-multi-select",template:"<div><ng-content></ng-content></div>",inputs:["asyncBindings","wjModelProperty","isDisabled","tabOrder","isDroppedDown","showDropDownButton","autoExpandSelection","placeholder","dropDownCssClass","isAnimated","isReadOnly","isRequired","inputType","clickAction","displayMemberPath","selectedValuePath","headerPath","isContentHtml","isEditable","handleWheel","maxDropDownHeight","maxDropDownWidth","itemFormatter","showGroups","trimText","caseSensitiveSearch","virtualizationThreshold","checkedMemberPath","maxHeaderItems","headerFormat","headerFormatter","showSelectAllCheckbox","selectAllLabel","showFilterInput","filterInputPlaceholder","checkOnFilter","delay","caseSensitiveSearch","itemsSource","checkedItems","text","selectedIndex","selectedItem","selectedValue"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","refreshingNg: refreshing","refreshedNg: refreshed","invalidInputNg: invalidInput","isDroppedDownChangingNg: isDroppedDownChanging","isDroppedDownChangedNg: isDroppedDownChanged","isDroppedDownChangePC: isDroppedDownChange","textChangedNg: textChanged","textChangePC: textChange","itemsSourceChangedNg: itemsSourceChanged","formatItemNg: formatItem","selectedIndexChangedNg: selectedIndexChanged","selectedIndexChangePC: selectedIndexChange","selectedItemChangePC: selectedItemChange","selectedValueChangePC: selectedValueChange","checkedItemsChangedNg: checkedItemsChanged","checkedItemsChangePC: checkedItemsChange"],providers:[{provide:V.JU,useFactory:ee.Ko,multi:!0,deps:["WjComponent"]}]}),H=(function(It){function Ue(Ge,Pt,Yt){var ut=It.call(this,ee.D6.getHostElement(Ge,Pt))||this;return ut.isInitialized=!1,ut.wjModelProperty="checkedItems",ut._wjBehaviour=ee.D6.attach(ut,Ge,Pt,Yt),ut.created(),ut}var Ht;U(Ue,It),Ht=Ue,Ue.prototype.created=function(){},Ue.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},Ue.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},Ue.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},Ue.prototype.addEventListener=function(Ge,Pt,Yt,ut){var ni=this;void 0===ut&&(ut=!1);var Kn=ee.D6,Fn=Kn.getZone(this);Fn&&Kn.outsideZoneEvents[Pt]?Fn.runOutsideAngular(function(){It.prototype.addEventListener.call(ni,Ge,Pt,Yt,ut)}):It.prototype.addEventListener.call(this,Ge,Pt,Yt,ut)},Ue.meta={outputs:Gt.outputs,changeEvents:{isDroppedDownChanged:["isDroppedDown"],textChanged:["text"],selectedIndexChanged:["selectedIndex","selectedItem","selectedValue"],checkedItemsChanged:["checkedItems"]}},Ue.\u0275fac=function(Pt){return new(Pt||Ue)(h.Y36(h.SBq),h.Y36(h.zs3),h.Y36("WjComponent",12))},Ue.\u0275cmp=h.Xpm({type:Ue,selectors:[["wj-multi-select"]],inputs:{asyncBindings:"asyncBindings",wjModelProperty:"wjModelProperty",isDisabled:"isDisabled",tabOrder:"tabOrder",isDroppedDown:"isDroppedDown",showDropDownButton:"showDropDownButton",autoExpandSelection:"autoExpandSelection",placeholder:"placeholder",dropDownCssClass:"dropDownCssClass",isAnimated:"isAnimated",isReadOnly:"isReadOnly",isRequired:"isRequired",inputType:"inputType",clickAction:"clickAction",displayMemberPath:"displayMemberPath",selectedValuePath:"selectedValuePath",headerPath:"headerPath",isContentHtml:"isContentHtml",isEditable:"isEditable",handleWheel:"handleWheel",maxDropDownHeight:"maxDropDownHeight",maxDropDownWidth:"maxDropDownWidth",itemFormatter:"itemFormatter",showGroups:"showGroups",trimText:"trimText",caseSensitiveSearch:"caseSensitiveSearch",virtualizationThreshold:"virtualizationThreshold",checkedMemberPath:"checkedMemberPath",maxHeaderItems:"maxHeaderItems",headerFormat:"headerFormat",headerFormatter:"headerFormatter",showSelectAllCheckbox:"showSelectAllCheckbox",selectAllLabel:"selectAllLabel",showFilterInput:"showFilterInput",filterInputPlaceholder:"filterInputPlaceholder",checkOnFilter:"checkOnFilter",delay:"delay",itemsSource:"itemsSource",checkedItems:"checkedItems",text:"text",selectedIndex:"selectedIndex",selectedItem:"selectedItem",selectedValue:"selectedValue"},outputs:{initialized:"initialized",gotFocusNg:"gotFocus",lostFocusNg:"lostFocus",refreshingNg:"refreshing",refreshedNg:"refreshed",invalidInputNg:"invalidInput",isDroppedDownChangingNg:"isDroppedDownChanging",isDroppedDownChangedNg:"isDroppedDownChanged",isDroppedDownChangePC:"isDroppedDownChange",textChangedNg:"textChanged",textChangePC:"textChange",itemsSourceChangedNg:"itemsSourceChanged",formatItemNg:"formatItem",selectedIndexChangedNg:"selectedIndexChanged",selectedIndexChangePC:"selectedIndexChange",selectedItemChangePC:"selectedItemChange",selectedValueChangePC:"selectedValueChange",checkedItemsChangedNg:"checkedItemsChanged",checkedItemsChangePC:"checkedItemsChange"},features:[h._Bn([{provide:"WjComponent",useExisting:(0,h.Gpc)(function(){return Ht})}].concat(Gt.providers))],ngContentSelectors:ve,decls:2,vars:0,template:function(Pt,Yt){1&Pt&&(h.F$t(),h.TgZ(0,"div"),h.Hsn(1),h.qZA())},encapsulation:2}),Ue=Ht=y([,O(0,(0,h.tBr)(h.SBq)),O(1,(0,h.tBr)(h.zs3)),O(2,(0,h.tBr)("WjComponent")),O(2,(0,h.tp0)()),O(2,(0,h.FiY)())],Ue)}(ue.MultiSelect),{selector:"wj-multi-auto-complete",template:"",inputs:["asyncBindings","wjModelProperty","isDisabled","tabOrder","isDroppedDown","showDropDownButton","autoExpandSelection","placeholder","dropDownCssClass","isAnimated","isReadOnly","isRequired","inputType","clickAction","displayMemberPath","selectedValuePath","headerPath","isContentHtml","isEditable","handleWheel","maxDropDownHeight","maxDropDownWidth","itemFormatter","showGroups","trimText","caseSensitiveSearch","virtualizationThreshold","delay","maxItems","minLength","cssMatch","itemsSourceFunction","searchMemberPath","beginsWithSearch","maxSelectedItems","selectedItems","itemsSource","selectedMemberPath","text","selectedIndex","selectedItem","selectedValue"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","refreshingNg: refreshing","refreshedNg: refreshed","invalidInputNg: invalidInput","isDroppedDownChangingNg: isDroppedDownChanging","isDroppedDownChangedNg: isDroppedDownChanged","isDroppedDownChangePC: isDroppedDownChange","textChangedNg: textChanged","textChangePC: textChange","itemsSourceChangedNg: itemsSourceChanged","formatItemNg: formatItem","selectedIndexChangedNg: selectedIndexChanged","selectedIndexChangePC: selectedIndexChange","selectedItemChangePC: selectedItemChange","selectedValueChangePC: selectedValueChange","selectedItemsChangedNg: selectedItemsChanged","selectedItemsChangePC: selectedItemsChange"],providers:[{provide:V.JU,useFactory:ee.Ko,multi:!0,deps:["WjComponent"]}]}),F=(function(It){function Ue(Ge,Pt,Yt){var ut=It.call(this,ee.D6.getHostElement(Ge,Pt))||this;return ut.isInitialized=!1,ut.wjModelProperty="selectedItems",ut._wjBehaviour=ee.D6.attach(ut,Ge,Pt,Yt),ut.created(),ut}var Ht;U(Ue,It),Ht=Ue,Ue.prototype.created=function(){},Ue.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},Ue.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},Ue.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},Ue.prototype.addEventListener=function(Ge,Pt,Yt,ut){var ni=this;void 0===ut&&(ut=!1);var Kn=ee.D6,Fn=Kn.getZone(this);Fn&&Kn.outsideZoneEvents[Pt]?Fn.runOutsideAngular(function(){It.prototype.addEventListener.call(ni,Ge,Pt,Yt,ut)}):It.prototype.addEventListener.call(this,Ge,Pt,Yt,ut)},Ue.meta={outputs:H.outputs,changeEvents:{isDroppedDownChanged:["isDroppedDown"],textChanged:["text"],selectedIndexChanged:["selectedIndex","selectedItem","selectedValue"],selectedItemsChanged:["selectedItems"]}},Ue.\u0275fac=function(Pt){return new(Pt||Ue)(h.Y36(h.SBq),h.Y36(h.zs3),h.Y36("WjComponent",12))},Ue.\u0275cmp=h.Xpm({type:Ue,selectors:[["wj-multi-auto-complete"]],inputs:{asyncBindings:"asyncBindings",wjModelProperty:"wjModelProperty",isDisabled:"isDisabled",tabOrder:"tabOrder",isDroppedDown:"isDroppedDown",showDropDownButton:"showDropDownButton",autoExpandSelection:"autoExpandSelection",placeholder:"placeholder",dropDownCssClass:"dropDownCssClass",isAnimated:"isAnimated",isReadOnly:"isReadOnly",isRequired:"isRequired",inputType:"inputType",clickAction:"clickAction",displayMemberPath:"displayMemberPath",selectedValuePath:"selectedValuePath",headerPath:"headerPath",isContentHtml:"isContentHtml",isEditable:"isEditable",handleWheel:"handleWheel",maxDropDownHeight:"maxDropDownHeight",maxDropDownWidth:"maxDropDownWidth",itemFormatter:"itemFormatter",showGroups:"showGroups",trimText:"trimText",caseSensitiveSearch:"caseSensitiveSearch",virtualizationThreshold:"virtualizationThreshold",delay:"delay",maxItems:"maxItems",minLength:"minLength",cssMatch:"cssMatch",itemsSourceFunction:"itemsSourceFunction",searchMemberPath:"searchMemberPath",beginsWithSearch:"beginsWithSearch",maxSelectedItems:"maxSelectedItems",selectedItems:"selectedItems",itemsSource:"itemsSource",selectedMemberPath:"selectedMemberPath",text:"text",selectedIndex:"selectedIndex",selectedItem:"selectedItem",selectedValue:"selectedValue"},outputs:{initialized:"initialized",gotFocusNg:"gotFocus",lostFocusNg:"lostFocus",refreshingNg:"refreshing",refreshedNg:"refreshed",invalidInputNg:"invalidInput",isDroppedDownChangingNg:"isDroppedDownChanging",isDroppedDownChangedNg:"isDroppedDownChanged",isDroppedDownChangePC:"isDroppedDownChange",textChangedNg:"textChanged",textChangePC:"textChange",itemsSourceChangedNg:"itemsSourceChanged",formatItemNg:"formatItem",selectedIndexChangedNg:"selectedIndexChanged",selectedIndexChangePC:"selectedIndexChange",selectedItemChangePC:"selectedItemChange",selectedValueChangePC:"selectedValueChange",selectedItemsChangedNg:"selectedItemsChanged",selectedItemsChangePC:"selectedItemsChange"},features:[h._Bn([{provide:"WjComponent",useExisting:(0,h.Gpc)(function(){return Ht})}].concat(H.providers))],decls:0,vars:0,template:function(Pt,Yt){},encapsulation:2}),Ue=Ht=y([,O(0,(0,h.tBr)(h.SBq)),O(1,(0,h.tBr)(h.zs3)),O(2,(0,h.tBr)("WjComponent")),O(2,(0,h.tp0)()),O(2,(0,h.FiY)())],Ue)}(ue.MultiAutoComplete),{selector:"wj-input-number",template:"",inputs:["asyncBindings","wjModelProperty","isDisabled","tabOrder","showSpinner","repeatButtons","max","min","step","isRequired","placeholder","inputType","format","isReadOnly","handleWheel","value","text"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","refreshingNg: refreshing","refreshedNg: refreshed","invalidInputNg: invalidInput","valueChangedNg: valueChanged","valueChangePC: valueChange","textChangedNg: textChanged","textChangePC: textChange"],providers:[{provide:V.JU,useFactory:ee.Ko,multi:!0,deps:["WjComponent"]}]}),Z=(function(It){function Ue(Ge,Pt,Yt){var ut=It.call(this,ee.D6.getHostElement(Ge,Pt))||this;return ut.isInitialized=!1,ut.wjModelProperty="value",ut._wjBehaviour=ee.D6.attach(ut,Ge,Pt,Yt),ut.created(),ut}var Ht;U(Ue,It),Ht=Ue,Ue.prototype.created=function(){},Ue.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},Ue.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},Ue.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},Ue.prototype.addEventListener=function(Ge,Pt,Yt,ut){var ni=this;void 0===ut&&(ut=!1);var Kn=ee.D6,Fn=Kn.getZone(this);Fn&&Kn.outsideZoneEvents[Pt]?Fn.runOutsideAngular(function(){It.prototype.addEventListener.call(ni,Ge,Pt,Yt,ut)}):It.prototype.addEventListener.call(this,Ge,Pt,Yt,ut)},Ue.meta={outputs:F.outputs,changeEvents:{valueChanged:["value"],textChanged:["text"]}},Ue.\u0275fac=function(Pt){return new(Pt||Ue)(h.Y36(h.SBq),h.Y36(h.zs3),h.Y36("WjComponent",12))},Ue.\u0275cmp=h.Xpm({type:Ue,selectors:[["wj-input-number"]],inputs:{asyncBindings:"asyncBindings",wjModelProperty:"wjModelProperty",isDisabled:"isDisabled",tabOrder:"tabOrder",showSpinner:"showSpinner",repeatButtons:"repeatButtons",max:"max",min:"min",step:"step",isRequired:"isRequired",placeholder:"placeholder",inputType:"inputType",format:"format",isReadOnly:"isReadOnly",handleWheel:"handleWheel",value:"value",text:"text"},outputs:{initialized:"initialized",gotFocusNg:"gotFocus",lostFocusNg:"lostFocus",refreshingNg:"refreshing",refreshedNg:"refreshed",invalidInputNg:"invalidInput",valueChangedNg:"valueChanged",valueChangePC:"valueChange",textChangedNg:"textChanged",textChangePC:"textChange"},features:[h._Bn([{provide:"WjComponent",useExisting:(0,h.Gpc)(function(){return Ht})}].concat(F.providers))],decls:0,vars:0,template:function(Pt,Yt){},encapsulation:2}),Ue=Ht=y([,O(0,(0,h.tBr)(h.SBq)),O(1,(0,h.tBr)(h.zs3)),O(2,(0,h.tBr)("WjComponent")),O(2,(0,h.tp0)()),O(2,(0,h.FiY)())],Ue)}(ue.InputNumber),{selector:"wj-input-date",template:"",inputs:["asyncBindings","wjModelProperty","isDisabled","tabOrder","isDroppedDown","showDropDownButton","autoExpandSelection","placeholder","dropDownCssClass","isAnimated","isReadOnly","isRequired","inputType","clickAction","selectionMode","format","mask","max","min","inputType","repeatButtons","showYearPicker","itemValidator","itemFormatter","monthCount","handleWheel","showMonthPicker","showHeader","weeksBefore","weeksAfter","rangeMin","rangeMax","separator","alwaysShowCalendar","predefinedRanges","closeOnSelection","text","value","rangeEnd"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","refreshingNg: refreshing","refreshedNg: refreshed","invalidInputNg: invalidInput","isDroppedDownChangingNg: isDroppedDownChanging","isDroppedDownChangedNg: isDroppedDownChanged","isDroppedDownChangePC: isDroppedDownChange","textChangedNg: textChanged","textChangePC: textChange","valueChangedNg: valueChanged","valueChangePC: valueChange","rangeEndChangedNg: rangeEndChanged","rangeEndChangePC: rangeEndChange","rangeChangedNg: rangeChanged"],providers:[{provide:V.JU,useFactory:ee.Ko,multi:!0,deps:["WjComponent"]}]}),X=(function(It){function Ue(Ge,Pt,Yt){var ut=It.call(this,ee.D6.getHostElement(Ge,Pt))||this;return ut.isInitialized=!1,ut.wjModelProperty="value",ut._wjBehaviour=ee.D6.attach(ut,Ge,Pt,Yt),ut.created(),ut}var Ht;U(Ue,It),Ht=Ue,Ue.prototype.created=function(){},Ue.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},Ue.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},Ue.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},Ue.prototype.addEventListener=function(Ge,Pt,Yt,ut){var ni=this;void 0===ut&&(ut=!1);var Kn=ee.D6,Fn=Kn.getZone(this);Fn&&Kn.outsideZoneEvents[Pt]?Fn.runOutsideAngular(function(){It.prototype.addEventListener.call(ni,Ge,Pt,Yt,ut)}):It.prototype.addEventListener.call(this,Ge,Pt,Yt,ut)},Ue.meta={outputs:Z.outputs,changeEvents:{isDroppedDownChanged:["isDroppedDown"],textChanged:["text"],valueChanged:["value"],rangeEndChanged:["rangeEnd"]}},Ue.\u0275fac=function(Pt){return new(Pt||Ue)(h.Y36(h.SBq),h.Y36(h.zs3),h.Y36("WjComponent",12))},Ue.\u0275cmp=h.Xpm({type:Ue,selectors:[["wj-input-date"]],inputs:{asyncBindings:"asyncBindings",wjModelProperty:"wjModelProperty",isDisabled:"isDisabled",tabOrder:"tabOrder",isDroppedDown:"isDroppedDown",showDropDownButton:"showDropDownButton",autoExpandSelection:"autoExpandSelection",placeholder:"placeholder",dropDownCssClass:"dropDownCssClass",isAnimated:"isAnimated",isReadOnly:"isReadOnly",isRequired:"isRequired",inputType:"inputType",clickAction:"clickAction",selectionMode:"selectionMode",format:"format",mask:"mask",max:"max",min:"min",repeatButtons:"repeatButtons",showYearPicker:"showYearPicker",itemValidator:"itemValidator",itemFormatter:"itemFormatter",monthCount:"monthCount",handleWheel:"handleWheel",showMonthPicker:"showMonthPicker",showHeader:"showHeader",weeksBefore:"weeksBefore",weeksAfter:"weeksAfter",rangeMin:"rangeMin",rangeMax:"rangeMax",separator:"separator",alwaysShowCalendar:"alwaysShowCalendar",predefinedRanges:"predefinedRanges",closeOnSelection:"closeOnSelection",text:"text",value:"value",rangeEnd:"rangeEnd"},outputs:{initialized:"initialized",gotFocusNg:"gotFocus",lostFocusNg:"lostFocus",refreshingNg:"refreshing",refreshedNg:"refreshed",invalidInputNg:"invalidInput",isDroppedDownChangingNg:"isDroppedDownChanging",isDroppedDownChangedNg:"isDroppedDownChanged",isDroppedDownChangePC:"isDroppedDownChange",textChangedNg:"textChanged",textChangePC:"textChange",valueChangedNg:"valueChanged",valueChangePC:"valueChange",rangeEndChangedNg:"rangeEndChanged",rangeEndChangePC:"rangeEndChange",rangeChangedNg:"rangeChanged"},features:[h._Bn([{provide:"WjComponent",useExisting:(0,h.Gpc)(function(){return Ht})}].concat(Z.providers))],decls:0,vars:0,template:function(Pt,Yt){},encapsulation:2}),Ue=Ht=y([,O(0,(0,h.tBr)(h.SBq)),O(1,(0,h.tBr)(h.zs3)),O(2,(0,h.tBr)("WjComponent")),O(2,(0,h.tp0)()),O(2,(0,h.FiY)())],Ue)}(ue.InputDate),{selector:"wj-input-time",template:"",inputs:["asyncBindings","wjModelProperty","isDisabled","tabOrder","isDroppedDown","showDropDownButton","autoExpandSelection","placeholder","dropDownCssClass","isAnimated","isReadOnly","isRequired","inputType","clickAction","displayMemberPath","selectedValuePath","headerPath","isContentHtml","isEditable","handleWheel","maxDropDownHeight","maxDropDownWidth","itemFormatter","showGroups","trimText","caseSensitiveSearch","virtualizationThreshold","max","min","step","format","mask","inputType","itemsSource","text","selectedIndex","selectedItem","selectedValue","value"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","refreshingNg: refreshing","refreshedNg: refreshed","invalidInputNg: invalidInput","isDroppedDownChangingNg: isDroppedDownChanging","isDroppedDownChangedNg: isDroppedDownChanged","isDroppedDownChangePC: isDroppedDownChange","textChangedNg: textChanged","textChangePC: textChange","itemsSourceChangedNg: itemsSourceChanged","formatItemNg: formatItem","selectedIndexChangedNg: selectedIndexChanged","selectedIndexChangePC: selectedIndexChange","selectedItemChangePC: selectedItemChange","selectedValueChangePC: selectedValueChange","valueChangedNg: valueChanged","valueChangePC: valueChange"],providers:[{provide:V.JU,useFactory:ee.Ko,multi:!0,deps:["WjComponent"]}]}),me=(function(It){function Ue(Ge,Pt,Yt){var ut=It.call(this,ee.D6.getHostElement(Ge,Pt))||this;return ut.isInitialized=!1,ut.wjModelProperty="value",ut._wjBehaviour=ee.D6.attach(ut,Ge,Pt,Yt),ut.created(),ut}var Ht;U(Ue,It),Ht=Ue,Ue.prototype.created=function(){},Ue.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},Ue.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},Ue.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},Ue.prototype.addEventListener=function(Ge,Pt,Yt,ut){var ni=this;void 0===ut&&(ut=!1);var Kn=ee.D6,Fn=Kn.getZone(this);Fn&&Kn.outsideZoneEvents[Pt]?Fn.runOutsideAngular(function(){It.prototype.addEventListener.call(ni,Ge,Pt,Yt,ut)}):It.prototype.addEventListener.call(this,Ge,Pt,Yt,ut)},Ue.meta={outputs:X.outputs,changeEvents:{isDroppedDownChanged:["isDroppedDown"],textChanged:["text"],selectedIndexChanged:["selectedIndex","selectedItem","selectedValue"],valueChanged:["value"]}},Ue.\u0275fac=function(Pt){return new(Pt||Ue)(h.Y36(h.SBq),h.Y36(h.zs3),h.Y36("WjComponent",12))},Ue.\u0275cmp=h.Xpm({type:Ue,selectors:[["wj-input-time"]],inputs:{asyncBindings:"asyncBindings",wjModelProperty:"wjModelProperty",isDisabled:"isDisabled",tabOrder:"tabOrder",isDroppedDown:"isDroppedDown",showDropDownButton:"showDropDownButton",autoExpandSelection:"autoExpandSelection",placeholder:"placeholder",dropDownCssClass:"dropDownCssClass",isAnimated:"isAnimated",isReadOnly:"isReadOnly",isRequired:"isRequired",inputType:"inputType",clickAction:"clickAction",displayMemberPath:"displayMemberPath",selectedValuePath:"selectedValuePath",headerPath:"headerPath",isContentHtml:"isContentHtml",isEditable:"isEditable",handleWheel:"handleWheel",maxDropDownHeight:"maxDropDownHeight",maxDropDownWidth:"maxDropDownWidth",itemFormatter:"itemFormatter",showGroups:"showGroups",trimText:"trimText",caseSensitiveSearch:"caseSensitiveSearch",virtualizationThreshold:"virtualizationThreshold",max:"max",min:"min",step:"step",format:"format",mask:"mask",itemsSource:"itemsSource",text:"text",selectedIndex:"selectedIndex",selectedItem:"selectedItem",selectedValue:"selectedValue",value:"value"},outputs:{initialized:"initialized",gotFocusNg:"gotFocus",lostFocusNg:"lostFocus",refreshingNg:"refreshing",refreshedNg:"refreshed",invalidInputNg:"invalidInput",isDroppedDownChangingNg:"isDroppedDownChanging",isDroppedDownChangedNg:"isDroppedDownChanged",isDroppedDownChangePC:"isDroppedDownChange",textChangedNg:"textChanged",textChangePC:"textChange",itemsSourceChangedNg:"itemsSourceChanged",formatItemNg:"formatItem",selectedIndexChangedNg:"selectedIndexChanged",selectedIndexChangePC:"selectedIndexChange",selectedItemChangePC:"selectedItemChange",selectedValueChangePC:"selectedValueChange",valueChangedNg:"valueChanged",valueChangePC:"valueChange"},features:[h._Bn([{provide:"WjComponent",useExisting:(0,h.Gpc)(function(){return Ht})}].concat(X.providers))],decls:0,vars:0,template:function(Pt,Yt){},encapsulation:2}),Ue=Ht=y([,O(0,(0,h.tBr)(h.SBq)),O(1,(0,h.tBr)(h.zs3)),O(2,(0,h.tBr)("WjComponent")),O(2,(0,h.tp0)()),O(2,(0,h.FiY)())],Ue)}(ue.InputTime),{selector:"wj-input-date-time",template:"",inputs:["asyncBindings","wjModelProperty","isDisabled","tabOrder","isDroppedDown","showDropDownButton","autoExpandSelection","placeholder","dropDownCssClass","isAnimated","isReadOnly","isRequired","inputType","clickAction","selectionMode","format","mask","max","min","inputType","repeatButtons","showYearPicker","itemValidator","itemFormatter","monthCount","handleWheel","showMonthPicker","showHeader","weeksBefore","weeksAfter","rangeMin","rangeMax","separator","alwaysShowCalendar","predefinedRanges","closeOnSelection","timeMax","timeMin","timeStep","timeFormat","text","value","rangeEnd"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","refreshingNg: refreshing","refreshedNg: refreshed","invalidInputNg: invalidInput","isDroppedDownChangingNg: isDroppedDownChanging","isDroppedDownChangedNg: isDroppedDownChanged","isDroppedDownChangePC: isDroppedDownChange","textChangedNg: textChanged","textChangePC: textChange","valueChangedNg: valueChanged","valueChangePC: valueChange","rangeEndChangedNg: rangeEndChanged","rangeEndChangePC: rangeEndChange","rangeChangedNg: rangeChanged"],providers:[{provide:V.JU,useFactory:ee.Ko,multi:!0,deps:["WjComponent"]}]}),pt=(function(It){function Ue(Ge,Pt,Yt){var ut=It.call(this,ee.D6.getHostElement(Ge,Pt))||this;return ut.isInitialized=!1,ut.wjModelProperty="value",ut._wjBehaviour=ee.D6.attach(ut,Ge,Pt,Yt),ut.created(),ut}var Ht;U(Ue,It),Ht=Ue,Ue.prototype.created=function(){},Ue.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},Ue.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},Ue.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},Ue.prototype.addEventListener=function(Ge,Pt,Yt,ut){var ni=this;void 0===ut&&(ut=!1);var Kn=ee.D6,Fn=Kn.getZone(this);Fn&&Kn.outsideZoneEvents[Pt]?Fn.runOutsideAngular(function(){It.prototype.addEventListener.call(ni,Ge,Pt,Yt,ut)}):It.prototype.addEventListener.call(this,Ge,Pt,Yt,ut)},Ue.meta={outputs:me.outputs,changeEvents:{isDroppedDownChanged:["isDroppedDown"],textChanged:["text"],valueChanged:["value"],rangeEndChanged:["rangeEnd"]}},Ue.\u0275fac=function(Pt){return new(Pt||Ue)(h.Y36(h.SBq),h.Y36(h.zs3),h.Y36("WjComponent",12))},Ue.\u0275cmp=h.Xpm({type:Ue,selectors:[["wj-input-date-time"]],inputs:{asyncBindings:"asyncBindings",wjModelProperty:"wjModelProperty",isDisabled:"isDisabled",tabOrder:"tabOrder",isDroppedDown:"isDroppedDown",showDropDownButton:"showDropDownButton",autoExpandSelection:"autoExpandSelection",placeholder:"placeholder",dropDownCssClass:"dropDownCssClass",isAnimated:"isAnimated",isReadOnly:"isReadOnly",isRequired:"isRequired",inputType:"inputType",clickAction:"clickAction",selectionMode:"selectionMode",format:"format",mask:"mask",max:"max",min:"min",repeatButtons:"repeatButtons",showYearPicker:"showYearPicker",itemValidator:"itemValidator",itemFormatter:"itemFormatter",monthCount:"monthCount",handleWheel:"handleWheel",showMonthPicker:"showMonthPicker",showHeader:"showHeader",weeksBefore:"weeksBefore",weeksAfter:"weeksAfter",rangeMin:"rangeMin",rangeMax:"rangeMax",separator:"separator",alwaysShowCalendar:"alwaysShowCalendar",predefinedRanges:"predefinedRanges",closeOnSelection:"closeOnSelection",timeMax:"timeMax",timeMin:"timeMin",timeStep:"timeStep",timeFormat:"timeFormat",text:"text",value:"value",rangeEnd:"rangeEnd"},outputs:{initialized:"initialized",gotFocusNg:"gotFocus",lostFocusNg:"lostFocus",refreshingNg:"refreshing",refreshedNg:"refreshed",invalidInputNg:"invalidInput",isDroppedDownChangingNg:"isDroppedDownChanging",isDroppedDownChangedNg:"isDroppedDownChanged",isDroppedDownChangePC:"isDroppedDownChange",textChangedNg:"textChanged",textChangePC:"textChange",valueChangedNg:"valueChanged",valueChangePC:"valueChange",rangeEndChangedNg:"rangeEndChanged",rangeEndChangePC:"rangeEndChange",rangeChangedNg:"rangeChanged"},features:[h._Bn([{provide:"WjComponent",useExisting:(0,h.Gpc)(function(){return Ht})}].concat(me.providers))],decls:0,vars:0,template:function(Pt,Yt){},encapsulation:2}),Ue=Ht=y([,O(0,(0,h.tBr)(h.SBq)),O(1,(0,h.tBr)(h.zs3)),O(2,(0,h.tBr)("WjComponent")),O(2,(0,h.tp0)()),O(2,(0,h.FiY)())],Ue)}(ue.InputDateTime),{selector:"wj-input-date-range",template:"",inputs:["asyncBindings","wjModelProperty","isDisabled","tabOrder","isDroppedDown","showDropDownButton","autoExpandSelection","placeholder","dropDownCssClass","isAnimated","isReadOnly","isRequired","inputType","clickAction","selectionMode","format","mask","max","min","inputType","repeatButtons","showYearPicker","itemValidator","itemFormatter","monthCount","handleWheel","showMonthPicker","showHeader","weeksBefore","weeksAfter","rangeMin","rangeMax","separator","alwaysShowCalendar","predefinedRanges","closeOnSelection","text","value","rangeEnd"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","refreshingNg: refreshing","refreshedNg: refreshed","invalidInputNg: invalidInput","isDroppedDownChangingNg: isDroppedDownChanging","isDroppedDownChangedNg: isDroppedDownChanged","isDroppedDownChangePC: isDroppedDownChange","textChangedNg: textChanged","textChangePC: textChange","valueChangedNg: valueChanged","valueChangePC: valueChange","rangeEndChangedNg: rangeEndChanged","rangeEndChangePC: rangeEndChange","rangeChangedNg: rangeChanged"],providers:[{provide:V.JU,useFactory:ee.Ko,multi:!0,deps:["WjComponent"]}]}),jt=(function(It){function Ue(Ge,Pt,Yt){var ut=It.call(this,ee.D6.getHostElement(Ge,Pt))||this;return ut.isInitialized=!1,ut.wjModelProperty="value",ut._wjBehaviour=ee.D6.attach(ut,Ge,Pt,Yt),ut.created(),ut}var Ht;U(Ue,It),Ht=Ue,Ue.prototype.created=function(){},Ue.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},Ue.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},Ue.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},Ue.prototype.addEventListener=function(Ge,Pt,Yt,ut){var ni=this;void 0===ut&&(ut=!1);var Kn=ee.D6,Fn=Kn.getZone(this);Fn&&Kn.outsideZoneEvents[Pt]?Fn.runOutsideAngular(function(){It.prototype.addEventListener.call(ni,Ge,Pt,Yt,ut)}):It.prototype.addEventListener.call(this,Ge,Pt,Yt,ut)},Ue.meta={outputs:pt.outputs,changeEvents:{isDroppedDownChanged:["isDroppedDown"],textChanged:["text"],valueChanged:["value"],rangeEndChanged:["rangeEnd"]}},Ue.\u0275fac=function(Pt){return new(Pt||Ue)(h.Y36(h.SBq),h.Y36(h.zs3),h.Y36("WjComponent",12))},Ue.\u0275cmp=h.Xpm({type:Ue,selectors:[["wj-input-date-range"]],inputs:{asyncBindings:"asyncBindings",wjModelProperty:"wjModelProperty",isDisabled:"isDisabled",tabOrder:"tabOrder",isDroppedDown:"isDroppedDown",showDropDownButton:"showDropDownButton",autoExpandSelection:"autoExpandSelection",placeholder:"placeholder",dropDownCssClass:"dropDownCssClass",isAnimated:"isAnimated",isReadOnly:"isReadOnly",isRequired:"isRequired",inputType:"inputType",clickAction:"clickAction",selectionMode:"selectionMode",format:"format",mask:"mask",max:"max",min:"min",repeatButtons:"repeatButtons",showYearPicker:"showYearPicker",itemValidator:"itemValidator",itemFormatter:"itemFormatter",monthCount:"monthCount",handleWheel:"handleWheel",showMonthPicker:"showMonthPicker",showHeader:"showHeader",weeksBefore:"weeksBefore",weeksAfter:"weeksAfter",rangeMin:"rangeMin",rangeMax:"rangeMax",separator:"separator",alwaysShowCalendar:"alwaysShowCalendar",predefinedRanges:"predefinedRanges",closeOnSelection:"closeOnSelection",text:"text",value:"value",rangeEnd:"rangeEnd"},outputs:{initialized:"initialized",gotFocusNg:"gotFocus",lostFocusNg:"lostFocus",refreshingNg:"refreshing",refreshedNg:"refreshed",invalidInputNg:"invalidInput",isDroppedDownChangingNg:"isDroppedDownChanging",isDroppedDownChangedNg:"isDroppedDownChanged",isDroppedDownChangePC:"isDroppedDownChange",textChangedNg:"textChanged",textChangePC:"textChange",valueChangedNg:"valueChanged",valueChangePC:"valueChange",rangeEndChangedNg:"rangeEndChanged",rangeEndChangePC:"rangeEndChange",rangeChangedNg:"rangeChanged"},features:[h._Bn([{provide:"WjComponent",useExisting:(0,h.Gpc)(function(){return Ht})}].concat(pt.providers))],decls:0,vars:0,template:function(Pt,Yt){},encapsulation:2}),Ue=Ht=y([,O(0,(0,h.tBr)(h.SBq)),O(1,(0,h.tBr)(h.zs3)),O(2,(0,h.tBr)("WjComponent")),O(2,(0,h.tp0)()),O(2,(0,h.FiY)())],Ue)}(ue.InputDateRange),{selector:"wj-menu",template:"<div><ng-content></ng-content></div>",inputs:["asyncBindings","wjModelProperty","isDisabled","tabOrder","isDroppedDown","showDropDownButton","autoExpandSelection","placeholder","dropDownCssClass","isAnimated","isReadOnly","isRequired","inputType","clickAction","displayMemberPath","selectedValuePath","headerPath","isContentHtml","isEditable","handleWheel","maxDropDownHeight","maxDropDownWidth","itemFormatter","showGroups","trimText","caseSensitiveSearch","virtualizationThreshold","header","commandParameterPath","commandPath","subItemsPath","openOnHover","closeOnLeave","isButton","itemsSource","text","selectedIndex","selectedItem","selectedValue","value"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","refreshingNg: refreshing","refreshedNg: refreshed","invalidInputNg: invalidInput","isDroppedDownChangingNg: isDroppedDownChanging","isDroppedDownChangedNg: isDroppedDownChanged","isDroppedDownChangePC: isDroppedDownChange","textChangedNg: textChanged","textChangePC: textChange","itemsSourceChangedNg: itemsSourceChanged","formatItemNg: formatItem","selectedIndexChangedNg: selectedIndexChanged","selectedIndexChangePC: selectedIndexChange","selectedItemChangePC: selectedItemChange","selectedValueChangePC: selectedValueChange","itemClickedNg: itemClicked","valueChangePC: valueChange"],providers:[{provide:V.JU,useFactory:ee.Ko,multi:!0,deps:["WjComponent"]}]}),En=(function(It){function Ue(Ge,Pt,Yt){var ut=It.call(this,ee.D6.getHostElement(Ge,Pt))||this;return ut.isInitialized=!1,ut.wjModelProperty="selectedValue",ut._wjBehaviour=ee.D6.attach(ut,Ge,Pt,Yt),ut.itemsSource=new pe.ObservableArray,ut.selectedIndex=0,ut.created(),ut}var Ht;U(Ue,It),Ht=Ue,Ue.prototype.created=function(){},Ue.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit(),this._attachToControl(),this._updateHeader()},Ue.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},Ue.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy(),this.listBox.formatItem.removeHandler(this._fmtItem,this),this.listBox.loadingItems.removeHandler(this._loadingItems,this)},Ue.prototype.addEventListener=function(Ge,Pt,Yt,ut){var ni=this;void 0===ut&&(ut=!1);var Kn=ee.D6,Fn=Kn.getZone(this);Fn&&Kn.outsideZoneEvents[Pt]?Fn.runOutsideAngular(function(){It.prototype.addEventListener.call(ni,Ge,Pt,Yt,ut)}):It.prototype.addEventListener.call(this,Ge,Pt,Yt,ut)},Object.defineProperty(Ue.prototype,"value",{get:function(){return this._value},set:function(Ge){this._value=Ge,null!=Ge&&(this.selectedValue=Ge,this._updateHeader())},enumerable:!0,configurable:!0}),Ue.prototype.ngOnChanges=function(Ge){var Pt=Ge.header;Pt&&(this._definedHeader=Pt.currentValue,this._updateHeader())},Ue.prototype.ngAfterContentInit=function(){this.value=this.value},Ue.prototype.onItemClicked=function(Ge){this.value=this.selectedValue,It.prototype.onItemClicked.call(this,Ge)},Ue.prototype.refresh=function(Ge){void 0===Ge&&(Ge=!0),It.prototype.refresh.call(this,Ge),this._updateHeader()},Ue.prototype._attachToControl=function(){this.listBox.formatItem.addHandler(this._fmtItem,this),this.listBox.loadingItems.addHandler(this._loadingItems,this),this.invalidate()},Ue.prototype._loadingItems=function(Ge){for(var Pt=Ge.hostElement.getElementsByClassName("wj-listbox-item"),Yt=Pt.length-1;Yt>=0;Yt--)Pt[Yt].textContent=""},Ue.prototype._fmtItem=function(Ge,Pt){if(Pt.data instanceof In){var Yt=Pt.item;Yt.textContent="";var ut=Pt.data,ni=ut.contentRoot;ni&&(Yt.appendChild(ni),ut.added(Yt))}},Ue.prototype._updateHeader=function(){this.header=this._definedHeader||"";var Ge=this.selectedItem;if(null!=this.value&&Ge&&this.displayMemberPath){var Pt=null;if(Ge instanceof In){var Yt=Ge.contentRoot;Pt=Yt?Yt.innerHTML:Ge[this.displayMemberPath]}null!=Pt&&(this.header+=": <b>"+Pt+"</b>")}},Ue.meta={outputs:jt.outputs,changeEvents:{isDroppedDownChanged:["isDroppedDown"],textChanged:["text"],selectedIndexChanged:["selectedIndex","selectedItem","selectedValue"],itemClicked:["value"]}},Ue.\u0275fac=function(Pt){return new(Pt||Ue)(h.Y36(h.SBq),h.Y36(h.zs3),h.Y36("WjComponent",12))},Ue.\u0275cmp=h.Xpm({type:Ue,selectors:[["wj-menu"]],inputs:{asyncBindings:"asyncBindings",wjModelProperty:"wjModelProperty",isDisabled:"isDisabled",tabOrder:"tabOrder",isDroppedDown:"isDroppedDown",showDropDownButton:"showDropDownButton",autoExpandSelection:"autoExpandSelection",placeholder:"placeholder",dropDownCssClass:"dropDownCssClass",isAnimated:"isAnimated",isReadOnly:"isReadOnly",isRequired:"isRequired",inputType:"inputType",clickAction:"clickAction",displayMemberPath:"displayMemberPath",selectedValuePath:"selectedValuePath",headerPath:"headerPath",isContentHtml:"isContentHtml",isEditable:"isEditable",handleWheel:"handleWheel",maxDropDownHeight:"maxDropDownHeight",maxDropDownWidth:"maxDropDownWidth",itemFormatter:"itemFormatter",showGroups:"showGroups",trimText:"trimText",caseSensitiveSearch:"caseSensitiveSearch",virtualizationThreshold:"virtualizationThreshold",header:"header",commandParameterPath:"commandParameterPath",commandPath:"commandPath",subItemsPath:"subItemsPath",openOnHover:"openOnHover",closeOnLeave:"closeOnLeave",isButton:"isButton",itemsSource:"itemsSource",text:"text",selectedIndex:"selectedIndex",selectedItem:"selectedItem",selectedValue:"selectedValue",value:"value"},outputs:{initialized:"initialized",gotFocusNg:"gotFocus",lostFocusNg:"lostFocus",refreshingNg:"refreshing",refreshedNg:"refreshed",invalidInputNg:"invalidInput",isDroppedDownChangingNg:"isDroppedDownChanging",isDroppedDownChangedNg:"isDroppedDownChanged",isDroppedDownChangePC:"isDroppedDownChange",textChangedNg:"textChanged",textChangePC:"textChange",itemsSourceChangedNg:"itemsSourceChanged",formatItemNg:"formatItem",selectedIndexChangedNg:"selectedIndexChanged",selectedIndexChangePC:"selectedIndexChange",selectedItemChangePC:"selectedItemChange",selectedValueChangePC:"selectedValueChange",itemClickedNg:"itemClicked",valueChangePC:"valueChange"},features:[h._Bn([{provide:"WjComponent",useExisting:(0,h.Gpc)(function(){return Ht})}].concat(jt.providers)),h.TTD],ngContentSelectors:ve,decls:2,vars:0,template:function(Pt,Yt){1&Pt&&(h.F$t(),h.TgZ(0,"div"),h.Hsn(1),h.qZA())},encapsulation:2}),Ue=Ht=y([,O(0,(0,h.tBr)(h.SBq)),O(1,(0,h.tBr)(h.zs3)),O(2,(0,h.tBr)("WjComponent")),O(2,(0,h.tp0)()),O(2,(0,h.FiY)())],Ue)}(ue.Menu),{selector:"wj-menu-item",template:"<div *wjMenuItemTemplateDir><ng-content></ng-content></div>",inputs:["wjProperty","value","cmd","cmdParam"],outputs:["initialized"],providers:[]}),In=function(){function It(Ht,Ge,Pt,Yt){this.viewContainerRef=Yt,this.isInitialized=!1,this.wjProperty="itemsSource";var ut=this._wjBehaviour=ee.D6.attach(this,Ht,Ge,Pt);this._ownerMenu=ut.parentBehavior.directive,this.created()}var Ue;return Ue=It,It.prototype.created=function(){},It.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit();var Ht=this._ownerMenu;1==Ht.itemsSource.length&&Ht.selectedIndex<0&&(Ht.selectedIndex=0),Ht.displayMemberPath||(Ht.displayMemberPath="header"),Ht.selectedValuePath||(Ht.selectedValuePath="value"),Ht.commandPath||(Ht.commandPath="cmd"),Ht.commandParameterPath||(Ht.commandParameterPath="cmdParam")},It.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},It.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},It.prototype.added=function(Ht){},It.meta={outputs:En.outputs,siblingId:"menuItemDir"},It.\u0275fac=function(Ge){return new(Ge||It)(h.Y36(h.SBq),h.Y36(h.zs3),h.Y36("WjComponent",12),h.Y36(h.s_b))},It.\u0275cmp=h.Xpm({type:It,selectors:[["wj-menu-item"]],inputs:{wjProperty:"wjProperty",value:"value",cmd:"cmd",cmdParam:"cmdParam"},outputs:{initialized:"initialized"},features:[h._Bn([{provide:"WjComponent",useExisting:(0,h.Gpc)(function(){return Ue})}].concat(En.providers))],ngContentSelectors:ve,decls:1,vars:0,consts:[[4,"wjMenuItemTemplateDir"]],template:function(Ge,Pt){1&Ge&&(h.F$t(),h.YNc(0,re,2,0,"div",0))},dependencies:function(){return[Te]},encapsulation:2}),It=Ue=y([,O(0,(0,h.tBr)(h.SBq)),O(1,(0,h.tBr)(h.zs3)),O(2,(0,h.tBr)("WjComponent")),O(2,(0,h.tp0)()),O(2,(0,h.FiY)()),O(3,(0,h.tBr)(h.s_b))],It)}(),Te=function(){function It(Ue,Ht,Ge,Pt,Yt,ut){this.viewContainerRef=Ue,this.templateRef=Ht,this.elRef=Ge,this.ownerItem=Yt||ut,this.ownerItem.templateDir=this}return It.prototype.ngAfterContentInit=function(){var Ue=this;setTimeout(function(){var Ht=ee.D6.instantiateTemplate(null,Ue.viewContainerRef,Ue.templateRef,!0).rootElement;Ue.contentRoot=Ht,Ue.ownerItem.contentRoot=Ht,Ue.ownerItem._ownerMenu.listBox.loadList(),Ue.ownerItem._ownerMenu.invalidate()},0)},It.\u0275fac=function(Ht){return new(Ht||It)(h.Y36(h.s_b),h.Y36(h.Rgc,8),h.Y36(h.SBq),h.Y36(h.zs3),h.Y36(In,8),h.Y36((0,h.Gpc)(function(){return Lt}),8))},It.\u0275dir=h.lG2({type:It,selectors:[["","wjMenuItemTemplateDir",""]],inputs:{wjMenuItemTemplateDir:"wjMenuItemTemplateDir"}}),It=y([,O(0,(0,h.tBr)(h.s_b)),O(1,(0,h.tBr)(h.Rgc)),O(1,(0,h.FiY)()),O(2,(0,h.tBr)(h.SBq)),O(3,(0,h.tBr)(h.zs3)),O(4,(0,h.tBr)(In)),O(4,(0,h.FiY)()),O(5,(0,h.tBr)((0,h.Gpc)(function(){return Lt}))),O(5,(0,h.FiY)())],It)}(),$t_providers=[],Lt=function(It){function Ue(Ge,Pt,Yt,ut){var ni=It.call(this,Ge,Pt,Yt,ut)||this;return ni.created(),ni}var Ht;return U(Ue,It),Ht=Ue,Ue.prototype.added=function(Ge){pe.addClass(Ge,"wj-state-disabled")},Ue.\u0275fac=function(Pt){return new(Pt||Ue)(h.Y36(h.SBq),h.Y36(h.zs3),h.Y36("WjComponent",12),h.Y36(h.s_b))},Ue.\u0275cmp=h.Xpm({type:Ue,selectors:[["wj-menu-separator"]],inputs:{wjProperty:"wjProperty"},outputs:{initialized:"initialized"},features:[h._Bn([{provide:"WjComponent",useExisting:(0,h.Gpc)(function(){return Ht})}].concat($t_providers))],decls:1,vars:0,consts:[["class","wj-state-disabled","style","width:100%;height:1px;background-color:lightgray",4,"wjMenuItemTemplateDir"],[1,"wj-state-disabled",2,"width","100%","height","1px","background-color","lightgray"]],template:function(Pt,Yt){1&Pt&&h.YNc(0,le,1,0,"div",0)},dependencies:[Te],encapsulation:2}),Ue=Ht=y([,O(0,(0,h.tBr)(h.SBq)),O(1,(0,h.tBr)(h.zs3)),O(2,(0,h.tBr)("WjComponent")),O(2,(0,h.tp0)()),O(2,(0,h.FiY)()),O(3,(0,h.tBr)(h.s_b))],Ue)}(In),rt={selector:"[wjItemTemplate]",inputs:["wjItemTemplate"],outputs:["initialized"],exportAs:"wjItemTemplate",providers:[]},_t=function(){function It(Ht,Ge,Pt,Yt,ut,ni){this.viewContainerRef=Yt,this.templateRef=ut,this.isInitialized=!1;var Kn=this._wjBehaviour=ee.D6.attach(this,Ht,Ge,Pt);this.ownerControl=Kn.parentBehavior.directive,this.listBox=Ue._getListBox(this.ownerControl),this._cdRef=ni,this.created()}var Ue;return Ue=It,It.prototype.created=function(){},It.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit(),this._attachToControl()},It.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},It.prototype.ngOnDestroy=function(){var Ht=this.ownerControl,Ge=this.listBox;Ge&&(Ge.formatItem.removeHandler(this._fmtItem,this),Ge.loadingItems.removeHandler(this._loadingItems,this)),Ht&&Ht.invalidate()},It.prototype._attachToControl=function(){this.listBox.formatItem.addHandler(this._fmtItem,this),this.listBox.loadingItems.addHandler(this._loadingItems,this),this.ownerControl.invalidate()},It.prototype._loadingItems=function(Ht){this.viewContainerRef.clear()},It.prototype._fmtItem=function(Ht,Ge){var Pt=Ge.item;Pt.textContent="";var Yt=this._instantiateTemplate(Pt);Yt.context.control=Ht,Yt.context.item=Ge.data,Yt.context.itemIndex=Ge.index,Ge.index===this.listBox.collectionView.items.length-1&&this._cdRef.detectChanges()},It.prototype._instantiateTemplate=function(Ht){return ee.D6.instantiateTemplate(Ht,this.viewContainerRef,this.templateRef).viewRef},It._getListBox=function(Ht){return Ht?Ht instanceof ue.ListBox?Ht:Ht.listBox:null},It.meta={outputs:rt.outputs,parentRefProperty:"owner"},It.\u0275fac=function(Ge){return new(Ge||It)(h.Y36(h.SBq),h.Y36(h.zs3),h.Y36("WjComponent",12),h.Y36(h.s_b),h.Y36(h.Rgc,8),h.Y36(h.sBO))},It.\u0275dir=h.lG2({type:It,selectors:[["","wjItemTemplate",""]],inputs:{wjItemTemplate:"wjItemTemplate"},outputs:{initialized:"initialized"},exportAs:["wjItemTemplate"],features:[h._Bn([{provide:"WjComponent",useExisting:(0,h.Gpc)(function(){return Ue})}].concat(rt.providers))]}),It=Ue=y([,O(0,(0,h.tBr)(h.SBq)),O(1,(0,h.tBr)(h.zs3)),O(2,(0,h.tBr)("WjComponent")),O(2,(0,h.tp0)()),O(2,(0,h.FiY)()),O(3,(0,h.tBr)(h.s_b)),O(4,(0,h.tBr)(h.Rgc)),O(4,(0,h.FiY)()),O(5,(0,h.tBr)(h.sBO))],It)}(),Ut={selector:"wj-popup",template:"<div><ng-content></ng-content></div>",inputs:["wjModelProperty","isDisabled","tabOrder","owner","showTrigger","hideTrigger","fadeIn","fadeOut","isDraggable","isResizable","dialogResultEnter","dialogResultSubmit","modal","removeOnHide"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","refreshingNg: refreshing","refreshedNg: refreshed","invalidInputNg: invalidInput","showingNg: showing","shownNg: shown","hidingNg: hiding","hiddenNg: hidden","resizingNg: resizing","sizeChangingNg: sizeChanging","sizeChangedNg: sizeChanged","resizedNg: resized","draggingNg: dragging","positionChangingNg: positionChanging","positionChangedNg: positionChanged","draggedNg: dragged"],providers:[{provide:V.JU,useFactory:ee.Ko,multi:!0,deps:["WjComponent"]}]},fn=function(It){function Ue(Ge,Pt,Yt){var ut=It.call(this,ee.D6.getHostElement(Ge,Pt))||this;return ut.isInitialized=!1,ut._wjBehaviour=ee.D6.attach(ut,Ge,Pt,Yt),ut.created(),ut}var Ht;return U(Ue,It),Ht=Ue,Ue.prototype.created=function(){},Ue.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},Ue.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},Ue.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},Ue.prototype.addEventListener=function(Ge,Pt,Yt,ut){var ni=this;void 0===ut&&(ut=!1);var Kn=ee.D6,Fn=Kn.getZone(this);Fn&&Kn.outsideZoneEvents[Pt]?Fn.runOutsideAngular(function(){It.prototype.addEventListener.call(ni,Ge,Pt,Yt,ut)}):It.prototype.addEventListener.call(this,Ge,Pt,Yt,ut)},Ue.prototype.ngOnChanges=function(Ge){Ge.owner&&null==this.modal&&(this.modal=!this.owner)},Ue.prototype.dispose=function(){this.isVisible&&(this.hiding.removeAllHandlers(),this.fadeOut=!1,this.hide()),It.prototype.dispose.call(this)},Ue.meta={outputs:Ut.outputs},Ue.\u0275fac=function(Pt){return new(Pt||Ue)(h.Y36(h.SBq),h.Y36(h.zs3),h.Y36("WjComponent",12))},Ue.\u0275cmp=h.Xpm({type:Ue,selectors:[["wj-popup"]],inputs:{wjModelProperty:"wjModelProperty",isDisabled:"isDisabled",tabOrder:"tabOrder",owner:"owner",showTrigger:"showTrigger",hideTrigger:"hideTrigger",fadeIn:"fadeIn",fadeOut:"fadeOut",isDraggable:"isDraggable",isResizable:"isResizable",dialogResultEnter:"dialogResultEnter",dialogResultSubmit:"dialogResultSubmit",modal:"modal",removeOnHide:"removeOnHide"},outputs:{initialized:"initialized",gotFocusNg:"gotFocus",lostFocusNg:"lostFocus",refreshingNg:"refreshing",refreshedNg:"refreshed",invalidInputNg:"invalidInput",showingNg:"showing",shownNg:"shown",hidingNg:"hiding",hiddenNg:"hidden",resizingNg:"resizing",sizeChangingNg:"sizeChanging",sizeChangedNg:"sizeChanged",resizedNg:"resized",draggingNg:"dragging",positionChangingNg:"positionChanging",positionChangedNg:"positionChanged",draggedNg:"dragged"},features:[h._Bn([{provide:"WjComponent",useExisting:(0,h.Gpc)(function(){return Ht})}].concat(Ut.providers)),h.TTD],ngContentSelectors:ve,decls:2,vars:0,template:function(Pt,Yt){1&Pt&&(h.F$t(),h.TgZ(0,"div"),h.Hsn(1),h.qZA())},encapsulation:2}),Ue=Ht=y([,O(0,(0,h.tBr)(h.SBq)),O(1,(0,h.tBr)(h.zs3)),O(2,(0,h.tBr)("WjComponent")),O(2,(0,h.tp0)()),O(2,(0,h.FiY)())],Ue)}(ue.Popup),Ft=(function(){function It(Ue){this.elRef=Ue}It.prototype.onContextMenu=function(Ue){var Ht=this.wjContextMenu;Ht&&Ht.dropDown&&!pe.closest(Ue.target,"[disabled]")&&(Ue.preventDefault(),Ue.stopPropagation(),Ht.owner=this.elRef.nativeElement,Ht.show(Ue))},It.\u0275fac=function(Ht){return new(Ht||It)(h.Y36(h.SBq))},It.\u0275dir=h.lG2({type:It,selectors:[["","wjContextMenu",""]],hostBindings:function(Ht,Ge){1&Ht&&h.NdJ("contextmenu",function(Yt){return Ge.onContextMenu(Yt)})},inputs:{wjContextMenu:"wjContextMenu"},exportAs:["wjContextMenu"]}),It=y([,O(0,(0,h.tBr)(h.SBq))],It)}(),{selector:"wj-collection-view-navigator",template:"",inputs:["wjModelProperty","isDisabled","tabOrder","cv","byPage","headerFormat","repeatButtons"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","refreshingNg: refreshing","refreshedNg: refreshed","invalidInputNg: invalidInput"],providers:[{provide:V.JU,useFactory:ee.Ko,multi:!0,deps:["WjComponent"]}]}),yn=(function(It){function Ue(Ge,Pt,Yt){var ut=It.call(this,ee.D6.getHostElement(Ge,Pt))||this;return ut.isInitialized=!1,ut._wjBehaviour=ee.D6.attach(ut,Ge,Pt,Yt),ut.created(),ut}var Ht;U(Ue,It),Ht=Ue,Ue.prototype.created=function(){},Ue.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},Ue.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},Ue.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},Ue.prototype.addEventListener=function(Ge,Pt,Yt,ut){var ni=this;void 0===ut&&(ut=!1);var Kn=ee.D6,Fn=Kn.getZone(this);Fn&&Kn.outsideZoneEvents[Pt]?Fn.runOutsideAngular(function(){It.prototype.addEventListener.call(ni,Ge,Pt,Yt,ut)}):It.prototype.addEventListener.call(this,Ge,Pt,Yt,ut)},Ue.meta={outputs:Ft.outputs},Ue.\u0275fac=function(Pt){return new(Pt||Ue)(h.Y36(h.SBq),h.Y36(h.zs3),h.Y36("WjComponent",12))},Ue.\u0275cmp=h.Xpm({type:Ue,selectors:[["wj-collection-view-navigator"]],inputs:{wjModelProperty:"wjModelProperty",isDisabled:"isDisabled",tabOrder:"tabOrder",cv:"cv",byPage:"byPage",headerFormat:"headerFormat",repeatButtons:"repeatButtons"},outputs:{initialized:"initialized",gotFocusNg:"gotFocus",lostFocusNg:"lostFocus",refreshingNg:"refreshing",refreshedNg:"refreshed",invalidInputNg:"invalidInput"},features:[h._Bn([{provide:"WjComponent",useExisting:(0,h.Gpc)(function(){return Ht})}].concat(Ft.providers))],decls:0,vars:0,template:function(Pt,Yt){},encapsulation:2}),Ue=Ht=y([,O(0,(0,h.tBr)(h.SBq)),O(1,(0,h.tBr)(h.zs3)),O(2,(0,h.tBr)("WjComponent")),O(2,(0,h.tp0)()),O(2,(0,h.FiY)())],Ue)}(ue.CollectionViewNavigator),{selector:"wj-collection-view-pager",template:"",inputs:["wjModelProperty","cv"],outputs:["initialized"],providers:[{provide:V.JU,useFactory:ee.Ko,multi:!0,deps:["WjComponent"]}]}),Ti=(function(It){function Ue(Ge,Pt,Yt){var ut=It.call(this,ee.D6.getHostElement(Ge,Pt))||this;return ut.isInitialized=!1,ut._wjBehaviour=ee.D6.attach(ut,Ge,Pt,Yt),ut.byPage=!0,ut.created(),ut}var Ht;U(Ue,It),Ht=Ue,Ue.prototype.created=function(){},Ue.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},Ue.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},Ue.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},Ue.prototype.addEventListener=function(Ge,Pt,Yt,ut){var ni=this;void 0===ut&&(ut=!1);var Kn=ee.D6,Fn=Kn.getZone(this);Fn&&Kn.outsideZoneEvents[Pt]?Fn.runOutsideAngular(function(){It.prototype.addEventListener.call(ni,Ge,Pt,Yt,ut)}):It.prototype.addEventListener.call(this,Ge,Pt,Yt,ut)},Ue.meta={outputs:yn.outputs},Ue.\u0275fac=function(Pt){return new(Pt||Ue)(h.Y36(h.SBq),h.Y36(h.zs3),h.Y36("WjComponent",12))},Ue.\u0275cmp=h.Xpm({type:Ue,selectors:[["wj-collection-view-pager"]],inputs:{wjModelProperty:"wjModelProperty",cv:"cv"},outputs:{initialized:"initialized"},features:[h._Bn([{provide:"WjComponent",useExisting:(0,h.Gpc)(function(){return Ht})}].concat(yn.providers))],decls:0,vars:0,template:function(Pt,Yt){},encapsulation:2}),Ue=Ht=y([,O(0,(0,h.tBr)(h.SBq)),O(1,(0,h.tBr)(h.zs3)),O(2,(0,h.tBr)("WjComponent")),O(2,(0,h.tp0)()),O(2,(0,h.FiY)())],Ue)}(ue.CollectionViewNavigator),function(){function It(){}return It.\u0275fac=function(Ht){return new(Ht||It)},It.\u0275mod=h.oAB({type:It}),It.\u0275inj=h.cJS({imports:[C.ez]}),It}())},4103:(cn,Ve,G)=>{"use strict";G.r(Ve),G.d(Ve,{AutoComplete:()=>mt,Calendar:()=>$,ClickAction:()=>Q,CollectionViewNavigator:()=>ve,ColorPicker:()=>ue,ComboBox:()=>et,DateSelectionMode:()=>y,DropDown:()=>Ce,FormatItemEventArgs:()=>le,InputColor:()=>De,InputDate:()=>Ze,InputDateRange:()=>Ke,InputDateTime:()=>we,InputMask:()=>pe,InputNumber:()=>ee,InputTime:()=>dt,ListBox:()=>re,Menu:()=>u,MultiAutoComplete:()=>Gt,MultiSelect:()=>tt,MultiSelectListBox:()=>U,Popup:()=>be,PopupBoundsChangingEventArgs:()=>ke,PopupTrigger:()=>xe,ShowMonthPicker:()=>O});var Le,h=G(7665),C=G(4103),V=(Le=function(H,g){return(Le=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(F,b){F.__proto__=b}||function(F,b){for(var Z in b)b.hasOwnProperty(Z)&&(F[Z]=b[Z])})(H,g)},function(H,g){function F(){this.constructor=H}Le(H,g),H.prototype=null===g?Object.create(g):(F.prototype=g.prototype,new F)});(0,h._addCultureInfo)("InputNumber",{ariaLabels:{incVal:"Increase Value",decVal:"Decrease Value"}});var ee=function(Le){function H(g,F){var b=Le.call(this,g)||this;b._value=null,b._min=null,b._max=null,b._format="",b._step=null,b._showBtn=!0,b._readOnly=!1,b._handleWheel=!0,b._oldText="",b._fromKb=!0,b.textChanged=new h.Event,b.valueChanged=new h.Event,(0,h.setAttribute)(b.hostElement,"role","spinbutton",!0);var W=b.getTemplate();b.applyTemplate("wj-control wj-content wj-inputnumber",W,{_tbx:"input",_btnUp:"btn-inc",_btnDn:"btn-dec"},"input");var X=h.culture.InputNumber.ariaLabels;(0,h.setAriaLabel)(b._btnUp.querySelector("button"),X.incVal),(0,h.setAriaLabel)(b._btnDn.querySelector("button"),X.decVal),b._tbx.type.match(/number/i)&&(b.inputType="");var de=b._tbx;de.autocomplete="off",de.spellcheck=!1,b._updateSymbols();var me=b.addEventListener.bind(b);me(de,"keypress",b._keypress.bind(b)),me(de,"keydown",b._keydown.bind(b)),me(de,"input",b._input.bind(b)),me(de,"blur",function(){b.text!=b._oldText&&b._setText(b.text)}),me(de,"paste",function(){b._fromKb=!1}),me(de,"compositionstart",function(){b._composing=!0}),me(de,"compositionend",function(){b._composing=!1,setTimeout(function(){var pt=b.text,Et=b._oldText,jt=b._chrPct;Et&&Et.indexOf(jt)>-1&&pt.indexOf(jt)<0&&(pt+=jt),b._setText(pt)})});var ft=b._clickSpinner.bind(b);return me(b._btnUp,"click",ft),me(b._btnDn,"click",ft),b._rptUp=new h._ClickRepeater(b._btnUp.querySelector("button")),b._rptDn=new h._ClickRepeater(b._btnDn.querySelector("button")),me(de,"wheel",function(pt){if(b.handleWheel&&!pt.defaultPrevented&&!pt.ctrlKey&&b._isEditable()&&b.containsFocus()){var Et=(0,h.clamp)(-pt.deltaY,-1,1);b._increment((b.step||1)*Et),setTimeout(function(){return b.selectAll()}),pt.preventDefault()}}),b.value=0,b.isRequired=!0,b.initialize(F),b}return V(H,Le),Object.defineProperty(H.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"inputType",{get:function(){return this._tbx.type},set:function(g){this._tbx.type=(0,h.asString)(g)},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"value",{get:function(){return this._value},set:function(g){if(g!=this._value)if(null==(g=(0,h.asNumber)(g,!this.isRequired||null==g&&null==this._value)))this._setText("");else if(!isNaN(g)){var F=h.Globalize.format(g,this.format);this._setText(F)}},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"isRequired",{get:function(){return this._tbx.required},set:function(g){this._tbx.required=(0,h.asBoolean)(g)},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"isReadOnly",{get:function(){return this._readOnly},set:function(g){this._readOnly=(0,h.asBoolean)(g),this.inputElement.readOnly=this._readOnly,(0,h.toggleClass)(this.hostElement,"wj-state-readonly",this.isReadOnly)},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"handleWheel",{get:function(){return this._handleWheel},set:function(g){this._handleWheel=(0,h.asBoolean)(g)},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"min",{get:function(){return this._min},set:function(g){g!=this._min&&(this._min=(0,h.asNumber)(g,!0),this._updateAria())},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"max",{get:function(){return this._max},set:function(g){g!=this._max&&(this._max=(0,h.asNumber)(g,!0),this._updateAria())},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"step",{get:function(){return this._step},set:function(g){this._step=(0,h.asNumber)(g,!0),this._updateBtn()},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"format",{get:function(){return this._format},set:function(g){g!=this.format&&(this._format=(0,h.asString)(g),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"text",{get:function(){return this._tbx.value},set:function(g){g!=this.text&&(this._oldText=null,this._setText(g))},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"placeholder",{get:function(){return this._tbx.placeholder},set:function(g){this._tbx.placeholder=g},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"showSpinner",{get:function(){return this._showBtn},set:function(g){this._showBtn=(0,h.asBoolean)(g),this._updateBtn()},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"repeatButtons",{get:function(){return!this._rptUp.disabled},set:function(g){this._rptUp.disabled=this._rptDn.disabled=!(0,h.asBoolean)(g)},enumerable:!0,configurable:!0}),H.prototype.selectAll=function(){var g=this._tbx;(0,h.setSelectionRange)(g,0,g.value.length)},H.prototype.clamp=function(g){return(0,h.clamp)(g,this.min,this.max)},H.prototype.onTextChanged=function(g){this.textChanged.raise(this,g),this._updateState()},H.prototype.onValueChanged=function(g){this._updateAria(),this.valueChanged.raise(this,g)},H.prototype.dispose=function(){this._rptUp.element=null,this._rptDn.element=null,Le.prototype.dispose.call(this)},H.prototype.onGotFocus=function(g){this._oldValue=this.value,this.isTouching||(this._tbx.focus(),this.selectAll()),Le.prototype.onGotFocus.call(this,g)},H.prototype.onLostFocus=function(g){if(this._composing&&(this._composing=!1,this._setText(this.text)),this._isEditable()){var F=this.clamp(this.value);if(F==this.value||this.onInvalidInput(new h.CancelEventArgs)){var b=h.Globalize.format(F,this.format);this._setText(b)}}Le.prototype.onLostFocus.call(this,g)},H.prototype.refresh=function(g){if(void 0===g&&(g=!0),Le.prototype.refresh.call(this,g),this.hostElement){this._updateSymbols();var F=h.Globalize.format(this.value,this.format);this._setText(F)}},H.prototype._isEditable=function(){return!this.isReadOnly&&!this.isDisabled},H.prototype._updateSymbols=function(){var g=h.culture.Globalize.numberFormat,F=h.Globalize._parseNumericFormat(this.format);this._chrDec=g["."]||".",this._chrTho=g[","]||",",this._chrNeg=g["-"]||"-",this._chrPls=g["+"]||"+",this._chrPct=g["%"]||"%",this._chrCur=F.curr||g.currency.symbol||"$",this._fmtSpc=F.spec,this._fmtPrc=F.prec,this._rxSym=new RegExp("^[%+\\-() \\"+this._chrDec+"\\"+this._chrCur+"\\"+this._chrNeg+"\\"+this._chrPls+"\\"+this._chrPct+"]*$"),this._rxNeg=new RegExp("^\\s*(\\-|\\"+this._chrNeg+")|([^e](\\-|\\"+this._chrNeg+")|\\()")},H.prototype._isNumeric=function(g,F){var b=g==this._chrDec||g>="0"&&g<="9",Z="x"==this._fmtSpc;return!b&&Z&&(b=g>="a"&&g<="f"||g>="A"&&g<="F"),b||F||Z||(b=g==this._chrPls||g==this._chrNeg||"("==g||")"==g),b},H.prototype._getInputRange=function(g){for(var F=[0,0],b=this.text,Z=!1,W=0;W<b.length;W++)this._isNumeric(b[W],g)&&(Z||(F[0]=W,Z=!0),F[1]=W+1);return F},H.prototype._flipSign=function(){var g=this._getSelStartDigits();this.value*=-1,this._setSelStartDigits(g)},H.prototype._getSelStartDigits=function(){for(var g=0,F=this._tbx.selectionStart,b=this._tbx.value,Z=0;Z<b.length&&Z<F;Z++)this._isNumeric(b[Z],!0)&&g++;return g},H.prototype._setSelStartDigits=function(g){for(var F=this._tbx.value,b=0;b<F.length&&g>=0;b++)if(this._isNumeric(F[b],!0)){if(!g){(0,h.setSelectionRange)(this._tbx,b);break}g--}else if(!g){(0,h.setSelectionRange)(this._tbx,b);break}},H.prototype._increment=function(g){if(g){var F=this.clamp((0,h.isNumber)(this.value)?this.value+g:0),b=h.Globalize.format(F,this.format,!1,!1);this._setText(b)}},H.prototype._updateBtn=function(){var g=this.showSpinner&&!!this.step,F=g;(0,h.setCss)([this._btnUp,this._btnDn],{display:g?"":"none"}),(0,h.toggleClass)(this.hostElement,"wj-input-show-spinner",g),(0,h.enable)(this._btnUp,F),(0,h.enable)(this._btnDn,F),this._updateAria()},H.prototype._setText=function(g,F){if(void 0===F&&(F=!1),!this._composing){var b=this._tbx,Z=this._chrDec,W=this._rxNeg.test(g),X=this._delKey,de=this.containsFocus();if(g&&this._rxSym.test(g)&&de&&(g=this.isRequired||!X?(W?"-0":"0")+(g.indexOf(Z)>-1?Z:""):""),this._delKey=!1,X&&0==this.value&&!this.isRequired&&(g=""),!g){if(!this.isRequired)return b.value="",null!=this._value&&(this._value=null,this.onValueChanged()),this._oldText&&(this._oldText=g,this.onTextChanged()),void this._updateBtn();g="0"}var me=g.indexOf(Z),ft=this._format||(me>-1?"n2":"n0"),pt=h.Globalize.parseFloat(g,ft);if(isFinite(pt)||(pt=this.clamp(pt)),isNaN(pt))this.onInvalidInput(new h.CancelEventArgs)?b.value=this._oldText:this.focus();else{var jt=h.Globalize.format(pt,ft,!1,F,de&&me>-1?2:null);W&&pt>=0&&!X&&(jt=this._chrNeg+jt),de&&me>-1&&"g"==this._fmtSpc&&0!=this._fmtPrc&&(jt=g).indexOf(Z)<0&&(jt+=Z),b.value!=jt&&(b.value=jt,pt=h.Globalize.parseFloat(jt,ft)),pt!=this._value&&(this._value=pt,this.onValueChanged()),this.text!=this._oldText&&(this._oldText=this.text,this.onTextChanged()),this._updateBtn(),this._updateState()}}},H.prototype._keypress=function(g){if(!g.defaultPrevented&&!this._composing&&this._isEditable()&&g.charCode&&!g.ctrlKey&&!g.metaKey&&g.keyCode!=h.Key.Enter){var F=this._tbx,b=String.fromCharCode(g.charCode);if(this._isNumeric(b,!1)){var Z=F.maxLength;if(Z>-1&&F.value.length>=Z&&F.selectionEnd==F.selectionStart)return void g.preventDefault();var W=this._getInputRange(!0),X=F.selectionStart,de=F.selectionEnd;if(X<W[0]&&de<F.value.length&&(de=Math.max(de,W[0]),(0,h.setSelectionRange)(F,W[0],de)),X>=W[1]){var me=null!=this._fmtPrc?this._fmtPrc:2,ft=F.value.indexOf(this._chrDec);ft>-1&&X-ft>me&&g.preventDefault()}}else g.preventDefault();switch(b){case"-":case this._chrNeg:this.clamp(-1)>=0?this.value<0&&this._flipSign():this.value&&F.selectionStart==F.selectionEnd?this._flipSign():this.clamp(-1)<0&&(F.value=this._chrNeg,(0,h.setSelectionRange)(F,1)),g.preventDefault();break;case"+":case this._chrPls:this.value<0&&this._flipSign(),g.preventDefault();break;case".":case this._chrDec:if(0==this._fmtPrc)g.preventDefault();else{var pt=F.value.indexOf(this._chrDec);pt>-1&&(F.selectionStart<=pt&&pt++,(0,h.setSelectionRange)(F,pt),g.preventDefault())}}if(!g.defaultPrevented&&(0,h.isIE)()){var Et=F.value;(X=F.selectionStart)==(de=F.selectionEnd)&&(F.value=Et.substr(0,X)+b+Et.substr(de),(0,h.setSelectionRange)(F,X+1),g.preventDefault(),this._input())}}},H.prototype._keydown=function(g){var F=this;if(this._delKey=!1,!g.defaultPrevented&&!this._composing&&!(0,h.hasClass)(this._tbx,"wj-grid-ime")){var b=this._tbx,Z=b.value,W=b.selectionStart,X=b.selectionEnd;switch(g.keyCode){case 65:g.ctrlKey&&(setTimeout(function(){F.selectAll()}),g.preventDefault());break;case h.Key.Up:case h.Key.Down:this.step&&this._isEditable()&&(this._increment(this.step*(g.keyCode==h.Key.Up?1:-1)),setTimeout(function(){F.selectAll()}),g.preventDefault());break;case h.Key.Back:if(this._delKey=!0,X-W<2&&this._isEditable()){var de=Z[X-1];(de==this._chrDec||de==this._chrPct||de==this._chrTho||")"==de)&&(setTimeout(function(){X=de==F._chrPct?F._getInputRange(!0)[1]:X-1,(0,h.setSelectionRange)(b,X)}),g.preventDefault())}break;case h.Key.Delete:if(this._delKey=!0,X-W<2&&this._isEditable())if("0"==Z&&1==W)(0,h.setSelectionRange)(b,0);else{var me=Z[W];(me==this._chrDec||me==this._chrPct)&&(setTimeout(function(){(0,h.setSelectionRange)(b,W+1)}),g.preventDefault())}break;case h.Key.Escape:this.value=this._oldValue,this.selectAll()}}},H.prototype._input=function(){var g=this;this._composing?this._fromKb=!0:setTimeout(function(){var F=g._tbx,b=F.value,Z=b.indexOf(g._chrDec),W=F.selectionStart,X=g._getSelStartDigits();if("p"==g._fmtSpc&&b.length&&b.indexOf(g._chrPct)<0&&(b+=g._chrPct),g._setText(b,g._fromKb),g._fromKb=!0,g.containsFocus()){var de=F.value,me=de.indexOf(g._chrDec),ft=g._getInputRange(!0);if(b==g._chrNeg+g._chrDec&&me>-1)return void(0,h.setSelectionRange)(F,me+1);if(b[0]==g._chrNeg&&de[0]!=g._chrNeg)return void(1==de.length?(0,h.setSelectionRange)(F,1):g._setSelStartDigits(X));b?b==g._chrDec&&me>-1?W=me+1:W<=Z&&me>-1||Z<0&&me<0?W+=de.length-b.length:Z<0&&me>-1&&(W=me):W=me>-1?me:ft[1],W=(0,h.clamp)(W,ft[0],ft[1]),(0,h.setSelectionRange)(F,W)}})},H.prototype._clickSpinner=function(g){var F=this;!g.defaultPrevented&&this._isEditable()&&this.step&&(this._increment(this.step*((0,h.contains)(this._btnUp,g.target)?1:-1)),this.isTouching||setTimeout(function(){return F.selectAll()}))},H.prototype._updateAria=function(){var g=this.hostElement;g&&((0,h.setAttribute)(g,"aria-valuemin",this.min),(0,h.setAttribute)(g,"aria-valuemax",this.max),(0,h.setAttribute)(g,"aria-valuenow",this.value),(0,h.enable)(this._btnDn,null==this.min||this.value>this.min),(0,h.enable)(this._btnUp,null==this.max||this.value<this.max))},H.controlTemplate='<div class="wj-template"><div class="wj-input"><div class="wj-input-group"><span wj-part="btn-dec" class="wj-input-group-btn" tabindex="-1"><button class="wj-btn wj-btn-default" tabindex="-1">-</button></span><input type="tel" wj-part="input" class="wj-form-control wj-numeric"/><span wj-part="btn-inc" class="wj-input-group-btn" tabindex="-1"><button class="wj-btn wj-btn-default" tabindex="-1">+</button></span></div></div></div>',H}(h.Control),pe=function(Le){function H(g,F){var b=Le.call(this,g)||this;b.valueChanged=new h.Event;var Z=b.getTemplate();if(b.applyTemplate("wj-control wj-content wj-inputmask",Z,{_tbx:"input"},"input"),"INPUT"==b._orgTag){var W=b._tbx.getAttribute("value");W&&(b.value=W)}return b._msk=new h._MaskProvider(b._tbx),b.isRequired=!0,b.initialize(F),b.addEventListener(b._tbx,"input",function(){b.onValueChanged()}),b.addEventListener(b._tbx,"blur",b._commitText.bind(b)),b.addEventListener(b._tbx,"keydown",function(X){X.keyCode==h.Key.Enter&&b._commitText()}),b}return V(H,Le),Object.defineProperty(H.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"inputType",{get:function(){return this._tbx.type},set:function(g){this._tbx.type=(0,h.asString)(g)},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"value",{get:function(){return this._tbx.value},set:function(g){g!=this.value&&(this._tbx.value=(0,h.asString)(g),g=this._msk._applyMask(),this._tbx.value=g,this.onValueChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"rawValue",{get:function(){return this._msk.getRawValue()},set:function(g){g!=this.rawValue&&(this.value=(0,h.asString)(g))},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"mask",{get:function(){return this._msk.mask||""},set:function(g){var F=this.value;this._msk.mask=(0,h.asString)(g),this.value!=F&&this.onValueChanged()},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"promptChar",{get:function(){return this._msk.promptChar},set:function(g){var F=this.value;this._msk.promptChar=g,this.value!=F&&this.onValueChanged()},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"overwriteMode",{get:function(){return this._msk.overwriteMode},set:function(g){this._msk.overwriteMode=(0,h.asBoolean)(g)},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"placeholder",{get:function(){return this._tbx.placeholder},set:function(g){this._tbx.placeholder=g},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"maskFull",{get:function(){return this._msk.maskFull},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"isRequired",{get:function(){return this._tbx.required},set:function(g){this._tbx.required=(0,h.asBoolean)(g)},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"isReadOnly",{get:function(){return this._tbx.readOnly},set:function(g){this._tbx.readOnly=(0,h.asBoolean)(g),(0,h.toggleClass)(this.hostElement,"wj-state-readonly",this.isReadOnly)},enumerable:!0,configurable:!0}),H.prototype.selectAll=function(){var g=this._msk.getMaskRange();(0,h.setSelectionRange)(this._tbx,g[0],g[1]+1)},H.prototype.onValueChanged=function(g){this.value!=this._oldValue&&(this._oldValue=this.value,this.valueChanged.raise(this,g)),this._updateState()},H.prototype._commitText=function(){(this.rawValue||this.isRequired)&&(this.maskFull||this.onInvalidInput(new h.CancelEventArgs)),this._updateState()},H.prototype.dispose=function(){this._msk.input=null,Le.prototype.dispose.call(this)},H.prototype.refresh=function(g){void 0===g&&(g=!0),Le.prototype.refresh.call(this,g),this.hostElement&&this._msk.refresh()},H.prototype.onGotFocus=function(g){Le.prototype.onGotFocus.call(this,g),this.selectAll()},H.controlTemplate='<div class="wj-input"><div class="wj-input-group"><input wj-part="input" class="wj-form-control"/></div></div>',H}(h.Control),ue=function(Le){function H(g,F){var b=Le.call(this,g)||this;b._hsb=[.5,1,1],b._alpha=1,b.valueChanged=new h.Event;var Z=b.getTemplate();b.applyTemplate("wj-control wj-content wj-colorpicker",Z,{_eSB:"div-sb",_eHue:"div-hue",_eAlpha:"div-alpha",_ePreview:"div-pv",_ePal:"div-pal",_eText:"div-text"}),b._palette="#FFF,#000,#F00,#FFC000,#FFFF00,#92D050,#00B050,#00B0F0,#0070C0,#7030A0".split(","),b._updatePalette(),b._eHue.style.backgroundImage="url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAD4CAIAAACi6hsPAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuM4zml1AAAAGvSURBVDhPXdBPaM9xHMfxz4pWaxcmtoOhpdXSVpiyHWxqmVpDjaU5rK34XfypjTJ/p+ZPay6jhsOsRrKwaJElf9IQq03WIkv4FeMwMq221tfje1ByeFzfvd7PEKWGEKWTQRZLySWfVRRTQjmVbKWGOhLsZT+HaeY0bbTTQSfdXOcWffTzmAFeMcwoYyT5ygS/mA5hNgphip98J8kHRnnNSwZ4yH1uc4OrdHGR87RximYO0cgedlLLdqqoYAPrWMtKVrCcJSxiPmnMJUQp/Bsyk2xyyKOAQooopYwKtlDNDur5G7SBJo7RQiv/B+2hl3s84CkvGGKEOOYnxolj/mYmhBmDJ5ngCx95xxsGecYj4pB3iENeoZMO2mmlhaMcpIE4ZII6aqhmM3HMMkooopB88sghm0wySCeVlCjMCVFIYx4LWUwOeRSwhmLWU84mqqihll3sppEmjnOSs5zjEl1c4yZ99POE5wwxwns+840fTDFLFKaZZIJxkozxlmEGGSC+GF++Sy89dHOZC8Rr4lVnOMERDrCPBPXEX22jko2UEn+/mnxyWUYWC0gnNUQh/AEc0HJs6cex0gAAAABJRU5ErkJggg==)",b._eHue.style.backgroundSize="contain",navigator.appVersion.indexOf("MSIE 9")>-1&&(b._eSB.children[0].style.filter="progid:DXImageTransform.Microsoft.gradient(startColorstr=#ffffffff,endColorstr=#00ffffff,GradientType=1)",b._eSB.children[1].style.filter="progid:DXImageTransform.Microsoft.gradient(startColorstr=#00000000,endColorstr=#ff000000,GradientType=0)"),b._cSB=(0,h.createElement)(Z=H._tplCursor),b._cHue=(0,h.createElement)(Z),b._cHue.style.width="100%",b._cAlpha=(0,h.createElement)(Z),b._cAlpha.style.height="100%",b._eSB.appendChild(b._cSB),b._eHue.appendChild(b._cHue),b._eAlpha.appendChild(b._cAlpha);var W=b.addEventListener.bind(b),X=b.removeEventListener.bind(b),de=document;W(b.hostElement,"mousedown",function(pt){W(de,"mousemove",me),W(de,"mouseup",ft),b._mouseDown(pt)}),W(b.hostElement,"touchstart",function(pt){W(de,"touchmove",me),W(de,"touchend",ft),b._mouseDown(pt)});var me=function(pt){b._mouseMove(pt)},ft=function(pt){X(de,"mousemove",me),X(de,"mouseup",ft),X(de,"touchmove",me),X(de,"touchend",ft),b._mouseUp(pt)};return W(b.hostElement,"click",function(pt){var Et=pt.target;if(Et&&"DIV"==Et.tagName&&(0,h.contains)(b._ePal,Et)){var jt=Et.style.backgroundColor;jt&&(b.value=new h.Color(jt).toString())}}),b.value="#ffffff",b.initialize(F),b._updatePanels(),b}return V(H,Le),Object.defineProperty(H.prototype,"showAlphaChannel",{get:function(){return"none"!=this._eAlpha.parentElement.style.display},set:function(g){this._eAlpha.parentElement.style.display=(0,h.asBoolean)(g)?"":"none"},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"showColorString",{get:function(){return"none"!=this._eText.style.display},set:function(g){this._eText.style.display=(0,h.asBoolean)(g)?"":"none"},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"value",{get:function(){return this._value},set:function(g){if(g!=this.value){g=(0,h.asString)(g);var F=h.Color.fromString(g);if(F){this._value=g,this._eText.innerText=g;var b=F.getHsb();(this._hsb[0]!=b[0]||this._hsb[1]!=b[1]||this._hsb[2]!=b[2]||this._alpha!=F.a)&&(0==b[2]?(b[0]=this._hsb[0],b[1]=this._hsb[1]):0==b[1]&&(b[0]=this._hsb[0]),this._hsb=b,this._alpha=F.a,this._updatePanels(),this.onValueChanged())}}},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"palette",{get:function(){return this._palette},set:function(g){(g=(g=(0,h.asArray)(g)).slice(0,10)).every(function(F){return null!=h.Color.fromString(F)})&&(this._palette=g,this._updatePalette())},enumerable:!0,configurable:!0}),H.prototype.onValueChanged=function(g){this._updatePanels(),this.valueChanged.raise(this,g)},H.prototype._mouseDown=function(g){this._htDown=this._getTargetPanel(g),this._htDown&&(g.preventDefault(),this.focus(),this._mouseMove(g))},H.prototype._mouseMove=function(g){var F=g.touches?g.touches[0]:g,b=this._htDown;if(b){var Z=b.getBoundingClientRect(),W=this._hsb;b==this._eHue?W[0]=(0,h.clamp)((F.clientY-Z.top)/Z.height,0,.99):b==this._eSB?(W[1]=(0,h.clamp)((F.clientX-Z.left)/Z.width,0,1),W[2]=(0,h.clamp)(1-(F.clientY-Z.top)/Z.height,0,1)):b==this._eAlpha&&(this._alpha=(0,h.clamp)((F.clientX-Z.left)/Z.width,0,1)),this._updateColor()}},H.prototype._mouseUp=function(g){this._htDown=null},H.prototype._updateColor=function(){var g=h.Color.fromHsb(this._hsb[0],this._hsb[1],this._hsb[2],this._alpha);this.value=g.toString(),this._updatePanels()},H.prototype._updatePalette=function(){var g=new h.Color("#fff"),F=new h.Color("#000");this._ePal.innerHTML="";for(var b=0;b<this._palette.length;b++){var Z=(0,h.createElement)('<div style="float:left;width:10%;box-sizing:border-box;padding:1px">'),W=new h.Color(this._palette[b]),X=W.getHsb();Z.appendChild(this._makePalEntry(W,4));for(var de=0;de<5;de++)W=0==X[1]?h.Color.interpolate(g,F,.1*de+(X[2]>.5?.05:.55)):h.Color.fromHsb(X[0],.1+.2*de,1-.1*de),Z.appendChild(this._makePalEntry(W,0));this._ePal.appendChild(Z)}},H.prototype._makePalEntry=function(g,F){var b=document.createElement("div");return(0,h.setCss)(b,{cursor:"pointer",backgroundColor:g.toString(),marginBottom:F||""}),b.innerHTML="&nbsp",b},H.prototype._updatePanels=function(){var g=h.Color.fromHsb(this._hsb[0],1,1,1),F=h.Color.fromHsb(this._hsb[0],this._hsb[1],this._hsb[2],1);this._eSB.style.backgroundColor=g.toString(),this._eAlpha.style.background="linear-gradient(to right, transparent 0%, "+F.toString()+" 100%)",navigator.appVersion.indexOf("MSIE 9")>-1&&(this._eAlpha.style.filter="progid:DXImageTransform.Microsoft.gradient(startColorstr=#00000000,endColorstr="+F.toString()+", GradientType = 1)"),this._ePreview.style.backgroundColor=this.value,this._cHue.style.top=(100*this._hsb[0]).toFixed(0)+"%",this._cSB.style.left=(100*this._hsb[1]).toFixed(0)+"%",this._cSB.style.top=(100-100*this._hsb[2]).toFixed(0)+"%",this._cAlpha.style.left=(100*this._alpha).toFixed(0)+"%"},H.prototype._getTargetPanel=function(g){var F=g.target;return(0,h.contains)(this._eSB,F)?this._eSB:(0,h.contains)(this._eHue,F)?this._eHue:(0,h.contains)(this._eAlpha,F)?this._eAlpha:null},H.controlTemplate='<div style="position:relative;width:100%;height:100%"><div style="float:left;width:50%;height:100%;box-sizing:border-box;padding:2px"><div wj-part="div-pal"><div style="float:left;width:10%;box-sizing:border-box;padding:2px"><div style="background-color:black;width:100%">&nbsp;</div><div style="height:6px"></div></div></div><div wj-part="div-text" style="position:absolute;bottom:0px;display:none"></div></div><div style="float:left;width:50%;height:100%;box-sizing:border-box;padding:2px"><div wj-part="div-sb" class="wj-colorbox" style="float:left;width:89%;height:89%"><div style="position:absolute;width:100%;height:100%;background:linear-gradient(to right, white 0%,transparent 100%)"></div><div style="position:absolute;width:100%;height:100%;background:linear-gradient(to top, black 0%,transparent 100%)"></div></div><div style="float:left;width:1%;height:89%"></div><div style="float:left;width:10%;height:89%"><div wj-part="div-hue" class="wj-colorbox"></div></div><div style="float:left;width:89%;height:1%"></div><div style="float:left;width:89%;height:10%"><div style="width:100%;height:100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAIAAABLbSncAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuM4zml1AAAAAcSURBVBhXY/iPBBYgAWpKQGkwgMqDAdUk/v8HAM7Mm6GatDUYAAAAAElFTkSuQmCC)"><div wj-part="div-alpha" class="wj-colorbox"></div></div></div><div style="float:left;width:1%;height:10%"></div><div style="float:left;width:10%;height:10%"><div wj-part="div-pv" class="wj-colorbox" style="position:static"></div></div></div></div>',H._tplCursor='<div style="position:absolute;left:50%;top:50%;width:7px;height:7px;transform:translate(-50%,-50%);border:2px solid #f0f0f0;border-radius:50px;box-shadow:0px 0px 4px 2px #0f0f0f"></div>',H}(h.Control),ve=function(Le){function H(g,F){var b=Le.call(this,g)||this;b._view=null,b._byPage=!1,b._fmt="{current:n0} / {count:n0}";var Z=b.getTemplate();return b.applyTemplate("wj-control wj-content wj-pager wj-collectionview-navigator",Z,{_btnFirst:"btn-first",_btnPrev:"btn-prev",_txtCurr:"txt-curr",_btnNext:"btn-next",_btnLast:"btn-last"},"input"),b._rptNext=new h._ClickRepeater(b._btnNext.querySelector("button")),b._rptPrev=new h._ClickRepeater(b._btnPrev.querySelector("button")),b.addEventListener(b.hostElement,"click",b._click.bind(b)),b.initialize(F),b._update(),b}return V(H,Le),Object.defineProperty(H.prototype,"cv",{get:function(){return this._view},set:function(g){if(g!=this._view){var F=this._view;F&&(F.collectionChanged.removeHandler(this._collectionChanged),F.currentChanged.removeHandler(this._currentChanged)),F=this._view=(0,h.asType)(g,"ICollectionView",!0),this._update(),F&&(F.collectionChanged.addHandler(this._collectionChanged,this),F.currentChanged.addHandler(this._currentChanged,this))}},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"byPage",{get:function(){return this._byPage},set:function(g){g!=this._byPage&&(this._byPage=(0,h.asBoolean)(g),this._update())},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"headerFormat",{get:function(){return this._fmt},set:function(g){g!=this._fmt&&(this._fmt=(0,h.asString)(g),this._update())},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"repeatButtons",{get:function(){return!this._rptNext.disabled},set:function(g){this._rptNext.disabled=this._rptPrev.disabled=!(0,h.asBoolean)(g)},enumerable:!0,configurable:!0}),H.prototype._update=function(){var g=this._view,F=this._byPage,b=g?F?g.pageIndex:g.currentPosition:0,Z=g?F?g.pageCount:g.itemCount:0;(0,h.enable)(this._btnFirst,g&&b>0),(0,h.enable)(this._btnPrev,g&&b>0),(0,h.enable)(this._txtCurr,null!=g),(0,h.enable)(this._btnNext,g&&b<Z-1),(0,h.enable)(this._btnLast,g&&b<Z-1),this._txtCurr.value=(0,h.format)(this._fmt,{current:g?b+1:0,count:g?Z:0,currentItem:g?g.currentPosition+1:0,itemCount:g?g.itemCount:0,currentPage:g?g.pageIndex+1:0,pageCount:g?g.pageCount:0})},H.prototype._currentChanged=function(){this._update()},H.prototype._collectionChanged=function(){this._update()},H.prototype._click=function(g){var F=g.target,b=this._view,Z=this._byPage;b&&((0,h.contains)(this._btnFirst,F)?Z?b.moveToFirstPage():b.moveCurrentToFirst():(0,h.contains)(this._btnPrev,F)?Z?b.moveToPreviousPage():b.moveCurrentToPrevious():(0,h.contains)(this._btnNext,F)?Z?b.moveToNextPage():b.moveCurrentToNext():(0,h.contains)(this._btnLast,F)&&(Z?b.moveToLastPage():b.moveCurrentToLast()),g.preventDefault())},H.controlTemplate='<div class="wj-input-group"><span wj-part="btn-first" class="wj-input-group-btn"><button class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-step-backward"></span></button></span><span wj-part="btn-prev" class="wj-input-group-btn"> <button class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-left"></span> </button></span><input wj-part="txt-curr" class="wj-form-control" readonly><span wj-part="btn-next" class="wj-input-group-btn"><button class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-right"></span></button></span><span wj-part="btn-last" class="wj-input-group-btn"><button class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-step-forward"></span></button></span></div>',H}(h.Control),re=function(Le){function H(g,F){var b=Le.call(this,g,null,!0)||this;b._cv=null,b._itemFormatter=null,b._pathDisplay=new h.Binding(""),b._pathValue=new h.Binding(""),b._pathChecked=new h.Binding(""),b._html=!1,b._shGroups=!1,b._checkedItems=[],b._itemRole="option",b._caseSensitive=!1,b._vThreshold=H._VTHRESH,b._isVirtual=!1,b._children=[],b._clientHeight=-1,b._itemHeight=30,b._itemsAbove=-1,b._itemsBelow=-1,b._eSizer=document.createElement("div"),b._ePadTop=document.createElement("div"),b._ePadBot=document.createElement("div"),b._checking=!1,b._ignoredItemChangedEvents=!1,b._search="",b._fmtItemHandlers=0,b._itemCount=0,b._oldSel=null,b._container=null,b.selectedIndexChanged=new h.Event,b.itemsChanged=new h.Event,b.loadingItems=new h.Event,b.loadedItems=new h.Event,b.itemChecked=new h.Event,b.checkedItemsChanged=new h.Event,b.formatItem=new h.Event(function(){b.invalidate()}),b.applyTemplate("wj-control wj-content wj-listbox",null,null);var Z=b.hostElement;return(0,h.setAttribute)(Z,"role","listbox",!0),"SELECT"==b._orgTag&&b._initFromSelect(b.hostElement),b.addEventListener(Z,"click",b._click.bind(b)),b.addEventListener(Z,"keydown",b._keydown.bind(b)),b.addEventListener(Z,"keypress",b._keypress.bind(b)),b.addEventListener(Z,"wheel",function(W){Z.scrollHeight>Z.offsetHeight&&(W.deltaY<0&&0==Z.scrollTop||W.deltaY>0&&Z.scrollTop+Z.offsetHeight>=Z.scrollHeight)&&(W.preventDefault(),W.stopPropagation(),W.stopImmediatePropagation())}),[b._eSizer,b._ePadTop,b._ePadBot].forEach(function(W){W.tabIndex=-1,(0,h.setAttribute)(W,"aria-hidden",!0),(0,h.setCss)(W,{pointerEvents:"none",opacity:"0"})}),b.initialize(F),b._updateViewRange(),b.hostElement.addEventListener("scroll",function(W){b._updateViewRange()}),b}return V(H,Le),Object.defineProperty(H.prototype,"itemsSource",{get:function(){return this._items},set:function(g){this._items!=g&&(this._cv&&(this._cv.currentChanged.removeHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.removeHandler(this._cvCollectionChanged,this),this._cv=null),this._items=g,this._cv=(0,h.asCollectionView)(g),null!=this._cv&&(this._cv.currentChanged.addHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.addHandler(this._cvCollectionChanged,this)),this._populateList(),this.onItemsChanged(),this.onSelectedIndexChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"collectionView",{get:function(){return this._cv},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"virtualizationThreshold",{get:function(){return this._vThreshold},set:function(g){if(g!=this._vThreshold){var F=this._getVirtual();this._vThreshold=(0,h.asNumber)(g,!1,!0),F!=this._getVirtual()&&this._populateList()}},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"showGroups",{get:function(){return this._shGroups},set:function(g){g!=this._shGroups&&(this._shGroups=(0,h.asBoolean)(g),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"isContentHtml",{get:function(){return this._html},set:function(g){g!=this._html&&(this._html=(0,h.asBoolean)(g),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"itemFormatter",{get:function(){return this._itemFormatter},set:function(g){g!=this._itemFormatter&&(this._itemFormatter=(0,h.asFunction)(g),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"displayMemberPath",{get:function(){return this._pathDisplay.path},set:function(g){g!=this.displayMemberPath&&(this._pathDisplay.path=(0,h.asString)(g),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"selectedValuePath",{get:function(){return this._pathValue.path},set:function(g){this._pathValue.path=(0,h.asString)(g)},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"checkedMemberPath",{get:function(){return this._pathChecked.path},set:function(g){g!=this.checkedMemberPath&&(this._pathChecked.path=(0,h.asString)(g),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"caseSensitiveSearch",{get:function(){return this._caseSensitive},set:function(g){this._caseSensitive=(0,h.asBoolean)(g)},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"itemRole",{get:function(){return this._itemRole},set:function(g){g!=this.itemRole&&(this._itemRole=(0,h.asString)(g),this._populateList())},enumerable:!0,configurable:!0}),H.prototype.getDisplayValue=function(g){var F=null;g>-1&&(0,h.hasItems)(this._cv)&&(F=this._cv.items[g],this.displayMemberPath&&(F=this._pathDisplay.getValue(F)));var b=null!=F?F.toString():"";return this._itemFormatter&&(b=this._itemFormatter(g,b)),b},H.prototype.getDisplayText=function(g){var F=this._getChild(g);return null!=F?F.textContent:""},H.prototype.isItemEnabled=function(g){var F=this._getChild(g);return null!=F&&!F.hasAttribute("disabled")&&!(0,h.hasClass)(F,"wj-state-disabled")&&!(0,h.hasClass)(F,"wj-separator")},Object.defineProperty(H.prototype,"selectedIndex",{get:function(){return this._cv?this._cv.currentPosition:-1},set:function(g){this._cv&&this._cv.moveCurrentToPosition((0,h.asNumber)(g))},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"selectedItem",{get:function(){return this._cv?this._cv.currentItem:null},set:function(g){this._cv&&this._cv.moveCurrentTo(g)},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"selectedValue",{get:function(){var g=this.selectedItem;return g&&this.selectedValuePath&&(g=this._pathValue.getValue(g)),g},set:function(g){var F=this._cv,b=F?F.items:null,Z=this.selectedValuePath,W=-1;if(b){for(var X=0;X<b.length;X++){var de=b[X],me=Z?this._pathValue.getValue(de):de;if(me===g||h.DateTime.equals(me,g)){W=X;break}if(this.isContentHtml&&(0,h.isString)(me)&&me.indexOf("<")>-1&&(0,h.toPlainText)(me)===g){W=X;break}}this.selectedIndex=W}},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"maxHeight",{get:function(){var g=this.hostElement,F=g?parseFloat(g.style.maxHeight):null;return isNaN(F)?null:F},set:function(g){var F=this.hostElement;F&&(g=(0,h.asNumber)(g,!0),F.style.maxHeight=null==g?"":g+"px")},enumerable:!0,configurable:!0}),H.prototype.showSelection=function(g){void 0===g&&(g=this.containsFocus());var F=this.hostElement,b=this._children,Z=this._getSelectedElement(!1),W=new h.Rect(0,0,0,0);Z!=this._oldSel&&(this._updateItemAttributes(Z,!0),this._updateItemAttributes(this._oldSel,!1),this._oldSel=Z),Z instanceof HTMLElement?W=this._getBoundingClientRect(Z):this._children.length>0&&(W=this._getBoundingClientRect(this._getChild(0)));var X=this._getBoundingClientRect(F),de=0;if(this._shGroups&&(de=this._itemHeight,!this._isVirtual)){var me=b[0];me.offsetHeight&&(0,h.hasClass)(me,"wj-header")&&(de=me.offsetHeight)}W.bottom>X.bottom?F.scrollTop+=W.bottom-X.bottom:W.top<X.top+de&&(F.scrollTop-=X.top+de-W.top),this._updateViewRange(),Z=this._getSelectedElement(!0),g&&(Z&&!(0,h.contains)(Z,(0,h.getActiveElement)())?Z:F).focus(),F.tabIndex=Z?-1:this._orgTabIndex},H.prototype.loadList=function(){this._populateList()},H.prototype.getItemChecked=function(g){var F=this._cv.items[g],b=this._pathChecked;if((0,h.isObject)(F)&&b.path)return b.getValue(F);var Z=this._getCheckbox(g);return!!Z&&Z.checked},H.prototype.setItemChecked=function(g,F){this._setItemChecked(g,F,!0)},H.prototype.toggleItemChecked=function(g){this.setItemChecked(g,!this.getItemChecked(g))},Object.defineProperty(H.prototype,"checkedItems",{get:function(){return this._checkedItems},set:function(g){var F=(0,h.asArray)(g,!1);this._arrayEquals(F,this._checkedItems)||(this._updateCheckedList(F),this._arrayEquals(F,this._checkedItems)||(this._checkedItems=F,this.onCheckedItemsChanged()))},enumerable:!0,configurable:!0}),H.prototype.indexOf=function(g){return(g=(0,h.closest)(g,".wj-listbox-item"))?g[H._DIDX_KEY]:-1},H.prototype.onSelectedIndexChanged=function(g){this.selectedIndexChanged.raise(this,g)},H.prototype.onItemsChanged=function(g){this.itemsChanged.raise(this,g)},H.prototype.onLoadingItems=function(g){this.loadingItems.raise(this,g)},H.prototype.onLoadedItems=function(g){this.loadedItems.raise(this,g)},H.prototype.onItemChecked=function(g){this.itemChecked.raise(this,g)},H.prototype.onCheckedItemsChanged=function(g){this.checkedItemsChanged.raise(this,g)},H.prototype.onFormatItem=function(g){this.formatItem.raise(this,g)},H.prototype.refresh=function(g){if(void 0===g&&(g=!0),Le.prototype.refresh.call(this,g),this.hostElement){var b=this.formatItem.handlerCount;(this._cv?this._cv.items.length:0)!=this._itemCount||b!=this._fmtItemHandlers?(this._fmtItemHandlers=b,this._populateList()):this._updateViewRange()}},H.prototype._updateCheckedList=function(g){var F=this,b=this._cv,Z=this._pathChecked,W=new Map;if(Z&&b){var X=b.sourceCollection;if(X&&X.length){(0,h.isObject)(X[0])||(Z=null),g.forEach(function(me){return W.set(me,!0)}),this._checking=!0;var de=[];X.forEach(function(me){var ft=W.has(me);ft&&de.push(me),Z&&Z.setValue(me,ft)}),this._checking=!1,g=de}b.items.forEach(function(me,ft){F._setItemChecked(ft,W.has(me),!1)})}},H.prototype._getBoundingClientRect=function(g){if(!g.offsetHeight){var F=this.indexOf(g),b=this.hostElement;if(F>-1&&b){F=this._getElementIndex(F);var Z=b.getBoundingClientRect();return new h.Rect(0,Z.top-b.scrollTop+F*this._itemHeight,Z.width,this._itemHeight)}}return h.Rect.fromBoundingRect(g.getBoundingClientRect())},H.prototype._updateItemAttributes=function(g,F){if(g){var b=this.checkedMemberPath?this._getCheckbox(this.indexOf(g)):null,Z=b?b.checked:null;(0,h.toggleClass)(g,"wj-state-selected",F),(0,h.setAttribute)(g,"aria-selected",this._getAriaSelected(F,Z)),g.tabIndex=F?this._orgTabIndex:-1}},H.prototype._getCheckedItems=function(){var g=this,F=this._cv,b=this._pathChecked,Z=[];return F&&b&&b.path&&(Z=F.sourceCollection.filter(function(W,X){if(F.filter&&!F.filter(W))return!1;if((0,h.isObject)(W))return b.getValue(W);var de=F.items[X]==W?X:F.items.indexOf(W);return g.getItemChecked(de)})),Z},H.prototype._arrayEquals=function(g,F){if(g==F)return!0;if(!g||!F||g.length!=F.length)return!1;for(var b=0;b<g.length;b++)if(g[b]!==F[b])return!1;return!0},H.prototype._getChild=function(g){return g=this._getElementIndex(g),this._children[g]},H.prototype._getElementIndex=function(g){if(this._shGroups)for(var F=this._children,b=0;b<=g&&b<F.length;b++)(0,h.hasClass)(F[b],"wj-header")&&g++;return g},H.prototype._setItemChecked=function(g,F,b){void 0===b&&(b=!0);var Z=this._cv.items[g],W=this._pathChecked,X=!1,de=this.selectedIndex,me=this._checking;if((0,h.isObject)(Z)&&W.path){if(!!W.getValue(Z)!=F){var ft=(0,h.tryCast)(this._cv,"IEditableCollectionView");X=!0,this._checking=!0,ft?(ft.editItem(Z),W.setValue(Z,F),ft.commitEdit()):(W.setValue(Z,F),ft.refresh()),this._checking=me}}else if(b){var pt=this._checkedItems.indexOf(Z);(F&&pt<0||!F&&pt>=0)&&(X=!0)}var Et=this._getCheckbox(g);if(Et){Et.checked=F;var jt=(0,h.closest)(Et,".wj-listbox-item");jt&&((0,h.toggleClass)(jt,"wj-state-checked",F),(0,h.setAttribute)(jt,"aria-selected",!!F||null))}return b&&(X&&(this._checkedItems=this._checkedItemsUpdate(Z,F),this.onItemChecked(),this.onCheckedItemsChanged()),de!=this.selectedIndex&&this.onSelectedIndexChanged()),X},H.prototype._checkedItemsUpdate=function(g,F){var b=this._cv.sourceCollection,Z=this._checkedItems,W=0;if(F){for(var X=0;X<b.length;X++){var de=b[X];if(de===Z[W]&&W<Z.length)W++;else if(de===g)return Z.slice(0,W).concat([g]).concat(Z.slice(W))}return Z}var me=Z.indexOf(g);return Z.slice(0,me).concat(Z.slice(me+1))},H.prototype._cvCollectionChanged=function(){this._checking||(this._populateList(),this.onItemsChanged())},H.prototype._cvCurrentChanged=function(){this._checking||(this.showSelection(),this._ignoredItemChangedEvents||this.onSelectedIndexChanged())},H.prototype._populateList=function(){var g=this.hostElement,F=this._cv;if(this._itemCount=F?F.items.length:0,this._isVirtual=this._getVirtual(),this._oldSel=null,this._itemsAbove=-1,this._itemsBelow=-1,g){var b=this.containsFocus(),Z=void 0;this.onLoadingItems();var W=this._children=[];if(g.textContent="",F){var X=0,de=void 0,me=[];if(this._shGroups&&F.groups&&F.groups.length){Z={};for(var ft=0;ft<F.groups.length;ft++){var pt=F.groups[ft];Z[X]=pt,de=this._createHeaderItem(pt),me.push(de);for(var Et=0;Et<pt.items.length;Et++,X++)de=this._createItem(X),me.push(de)}}else for(Et=0;Et<F.items.length;Et++,X++)de=this._createItem(X),me.push(de);var jt=this._isVirtual?document.createElement("div"):g,xn=0;for(jt.innerHTML=me.join(""),Et=0;Et<jt.children.length;Et++){var En=jt.children[Et];xn==F.currentPosition&&(this._oldSel=En),En[H._DIDX_KEY]=En.className.indexOf("wj-header")<0?xn++:-1,W.push(En)}}if(this.formatItem.hasHandlers&&F){X=0;var In=F.items;for(En=new le(0,null,null),Et=0;Et<W.length;Et++)En._item=W[Et],this._shGroups&&(0,h.hasClass)(En._item,"wj-header")?(En._index=-1,En._data=Z[X]):(En._index=X,En._data=In[X++]),this.onFormatItem(En)}if(this._isVirtual){var Te=this._getCanvasContext(),$t=null,Lt=0;for(Et=0;Et<W.length;Et++){var rt=Te.measureText((de=W[Et]).textContent);rt.width>Lt&&($t=de,Lt=rt.width)}if($t){var _t=!1,Ut=g.style.display,fn=g.style.position;g.parentElement||(_t=!0,(this._container||document.body).appendChild(g),(0,h.setCss)(g,{display:"",position:"absolute"})),g.appendChild($t);var un=$t.style.whiteSpace;$t.style.whiteSpace="nowrap",this._ePadTop.style.width=$t.offsetWidth+"px",this._itemHeight=$t.offsetHeight||this._itemHeight,$t.style.whiteSpace=un,this._eSizer.style.height=W.length*this._itemHeight+"px",g.appendChild(this._eSizer),this._clientHeight=g.clientHeight,(0,h.removeChild)(this._eSizer),_t&&((0,h.removeChild)(g),(0,h.setCss)(g,{display:Ut,position:fn})),(0,h.removeChild)($t)}else this._ePadTop.style.width="";this._updateViewRange()}this.checkedItems=this._getCheckedItems();var Ft=this._getSelectedElement(!0);b?(Ft||g).focus():Ft&&this.showSelection(),g.tabIndex=Ft?-1:this._orgTabIndex,this.onLoadedItems()}},H.prototype._getCanvasContext=function(){var g=document.createElement("canvas").getContext("2d"),F=getComputedStyle(this.hostElement);return F.fontSize&&F.fontFamily&&(g.font=F.fontSize+" "+F.fontFamily.split(",")[0]),g},H.prototype._getVirtual=function(){if(this._itemCount<=this._vThreshold)return!1;var g=this.hostElement;if(g){var F=getComputedStyle(g);if(parseInt(F.columnCount)>1||F.display.indexOf("flex")>-1||F.display.indexOf("grid")>-1)return!1}return!0},H.prototype._getMaxSupportedCssHeight=function(){var g=265e5;return(0,h.isIE)()?g=15e5:(0,h.isFirefox)()&&(g=175e5),g},H.prototype._updateViewRange=function(){var g=this.hostElement,F=this._itemHeight,b=this._children;if(!(g&&g.parentElement&&this._isVirtual&&b))return!1;var Z=g.scrollTop;(0,h.assert)(F*b.length<this._getMaxSupportedCssHeight(),"The number of items ("+b.length+") exceeds the maximum number of items ("+Math.floor(this._getMaxSupportedCssHeight()/F)+") allowed for this browser.");var W=Math.max(g.clientHeight,this._clientHeight),X=Math.floor(Z/F),de=Math.min(b.length,Math.ceil((Z+W)/F)-X),me=Math.max(0,b.length-X-de);if(X==this._itemsAbove&&me==this._itemsBelow)return!1;this._itemsAbove=X,this._itemsBelow=me;var ft=document.createDocumentFragment(),pt=this.containsFocus();if(this._ePadTop.style.height=X*F+"px",ft.appendChild(this._ePadTop),this.showGroups&&!(0,h.hasClass)(b[X],"wj-header"))for(var Et=X;Et>=0;Et--)if((0,h.hasClass)(b[Et],"wj-header")){ft.appendChild(b[Et]);break}for(Et=X;Et<=X+de&&Et<b.length;Et++)ft.appendChild(b[Et]);this._ePadBot.style.height=me*F+"px",ft.appendChild(this._ePadBot),g.textContent="",g.appendChild(ft),this._ePadBot.style.height=this._ePadBot.offsetHeight-((X+de+me)*F-g.scrollHeight)+"px";var xn=this._getSelectedElement(!0);return pt&&(xn||g).focus({preventScroll:!0}),g.tabIndex=xn?-1:this._orgTabIndex,!0},H.prototype._getSelectedElement=function(g){var b=this._getElementIndex(this.selectedIndex),Z=b>-1?this._children[b]:null;return g&&Z&&!Z.offsetHeight&&(Z=null),Z},H.prototype._handleResize=function(){this._updateViewRange()},H.prototype._createItem=function(g){var F=this._cv.items[g],b=g==this._cv.currentPosition,Z=this.getDisplayValue(g);1!=this._html&&(Z=(0,h.escapeHtml)(Z));var W=null;this.checkedMemberPath&&(W=!1,(0,h.isObject)(F)?W=!!this._pathChecked.getValue(F):this._checkedItems&&(W=this._checkedItems.indexOf(F)>-1),Z='<label><input type="checkbox" tabindex="-1"'+(W?" checked":"")+"><span></span> "+Z+"</label>");var X="wj-listbox-item";if(b&&(X+=" wj-state-selected"),W&&(X+=" wj-state-checked"),this._html){var de=["wj-separator","wj-state-disabled"];if(Z.indexOf(de[0])>-1||Z.indexOf(de[1])>-1){var me=(0,h.createElement)(Z);de.forEach(function(ft){(0,h.hasClass)(me,ft)&&(X+=" "+ft)})}}return'<div class="'+X+'" role="'+this.itemRole+'" '+(this._getAriaSelected(b,W)?'aria-selected="true" ':"")+'tabindex="'+(b&&!this.isDisabled?this._orgTabIndex:-1)+'">'+Z+"</div>"},H.prototype._getAriaSelected=function(g,F){return!!(F??g)||null},H.prototype._createHeaderItem=function(g){return'<div class="wj-listbox-item wj-header wj-state-disabled" role="presentation" tabindex="-1">'+(0,h.escapeHtml)(g.name)+"</div>"},H.prototype._click=function(g){if(0==g.button&&!g.defaultPrevented){var F=this.indexOf(g.target);if(F>-1)if(this.selectedIndex=F,this.checkedMemberPath){var b=this._getCheckbox(F),Z=(0,h.closest)(b,".wj-listbox-item");(g.target==b||g.target==Z)&&(Z.focus({preventScroll:!0}),this.setItemChecked(F,b.checked))}else(Z=(0,h.closest)(g.target,".wj-listbox-item")).focus({preventScroll:!0})}},H.prototype._keydown=function(g){var F=this.selectedIndex;if(!g.defaultPrevented){if(65==g.keyCode&&(g.ctrlKey||g.metaKey)){var b=this.collectionView;if(this.checkedMemberPath&&(0,h.hasItems)(b))return this.checkedItems=this.checkedItems.length!=b.items.length?b.items:[],void g.preventDefault()}if(!(g.ctrlKey||g.shiftKey||g.altKey||g.metaKey))switch(g.keyCode){case h.Key.Down:g.preventDefault(),this._selectNext();break;case h.Key.Up:g.preventDefault(),this._selectPrev();break;case h.Key.Home:g.preventDefault(),this._selectFirst();break;case h.Key.End:g.preventDefault(),this._selectLast();break;case h.Key.PageDown:g.preventDefault(),this._selectNextPage();break;case h.Key.PageUp:g.preventDefault(),this._selectPrevPage();break;case h.Key.Space:if(this.checkedMemberPath&&F>-1){var Z=this._getCheckbox(F);Z&&this.isItemEnabled(F)&&(this.setItemChecked(F,!Z.checked),g.preventDefault())}}}},H.prototype._keypress=function(g){var F=this;if(!g.defaultPrevented&&!(g.target instanceof HTMLInputElement)&&(g.charCode>32||32==g.charCode&&this._search)){g.preventDefault(),this._search+=String.fromCharCode(g.charCode),this._toSearch&&clearTimeout(this._toSearch),this._toSearch=setTimeout(function(){F._toSearch=null,F._search=""},h.Control._SEARCH_DELAY);var b=this._findNext();b<0&&this._search.length>1&&(this._search=this._search[this._search.length-1],b=this._findNext()),b>-1&&(this.selectedIndex=b)}},H.prototype._selectNext=function(){for(var g=this.selectedIndex+1;g<this._children.length;g++)if(this.isItemEnabled(g))return this.selectedIndex=g,!0;return!1},H.prototype._selectPrev=function(){for(var g=this.selectedIndex-1;g>=0;g--)if(this.isItemEnabled(g))return this.selectedIndex=g,!0;return!1},H.prototype._selectFirst=function(){for(var g=0;g<this._children.length;g++)if(this.isItemEnabled(g))return this.selectedIndex=g,!0;return!1},H.prototype._selectLast=function(){for(var g=this._children.length-1;g>=0;g--)if(this.isItemEnabled(g))return this.selectedIndex=g,!0;return!1},H.prototype._selectNextPage=function(){var g=this.hostElement.offsetHeight,F=this._children,b=this._cv?this._cv.items.length:0,Z=0;if(g>0)for(var W=this.selectedIndex+1;W<b;W++){var X=F[W].scrollHeight||this._itemHeight;if(Z+X>g&&this.isItemEnabled(W))return this.selectedIndex=W,!0;Z+=X}return this._selectLast()},H.prototype._selectPrevPage=function(){var g=this.hostElement.offsetHeight,F=this._children,b=0;if(g>0)for(var Z=this.selectedIndex-1;Z>0;Z--){var W=F[Z].scrollHeight||this._itemHeight;if(b+W>g&&this.isItemEnabled(Z))return this.selectedIndex=Z,!0;b+=W}return this._selectFirst()},H.prototype._findNext=function(){if(this.hostElement){var g=this._children.length,F=this.selectedIndex;(F<0||1==this._search.length)&&F++;var b=this._search,Z=this.caseSensitiveSearch;Z||(b=b.toLowerCase());for(var W=0;W<g;W++){var X=(F+W)%g;if(this.isItemEnabled(X)){var de=this.getDisplayText(X).trim();if(Z||(de=de.toLowerCase()),0==de.indexOf(b))return X}}}return-1},H.prototype._getCheckbox=function(g){var F=this._children;return g=this._getElementIndex(g),this.hostElement&&g>-1&&g<F.length?F[g].querySelector("input[type=checkbox]"):null},H.prototype._initFromSelect=function(g){for(var F=g.children,b=[],Z=-1,W=0;W<F.length;W++){var X=F[W];"OPTION"==X.tagName&&(X.hasAttribute("selected")&&(Z=b.length),b.push(X.innerHTML?{hdr:X.innerHTML,val:X.getAttribute("value"),cmdParam:X.getAttribute("cmd-param")}:{hdr:'<div class="wj-separator"></div>'}),g.removeChild(X),W--)}b&&(this.displayMemberPath="hdr",this.selectedValuePath="val",this.itemsSource=b,this.selectedIndex=Z)},H.prototype._setIsDisabled=function(g){Le.prototype._setIsDisabled.call(this,g),this._updateTabIndex()},H.prototype._setTabOrder=function(g){Le.prototype._setTabOrder.call(this,g),this.isDisabled||this._updateTabIndex()},H.prototype._updateTabIndex=function(){var g=this.hostElement,F=this._getSelectedElement(!0);F?(F.tabIndex=this.isDisabled?-1:this._orgTabIndex,g.tabIndex=-1):g.tabIndex=this.isDisabled?-1:this._orgTabIndex},H._DIDX_KEY="$WJ-DIDX",H._VTHRESH=Number.MAX_VALUE/2,H}(h.Control),le=function(Le){function H(g,F,b){var Z=Le.call(this)||this;return Z._index=(0,h.asNumber)(g),Z._data=F,Z._item=(0,h.asType)(b,HTMLElement,!0),Z}return V(H,Le),Object.defineProperty(H.prototype,"index",{get:function(){return this._index},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"item",{get:function(){return this._item},enumerable:!0,configurable:!0}),H}(h.EventArgs);(0,h._addCultureInfo)("MultiSelectListBox",{filterPlaceholder:"Filter",selectAll:"Select All"});var y,O,U=function(Le){function H(g,F){var b=Le.call(this,g)||this;b._selectAllLabel=null,b._filterPlaceholder=null,b._filterText="",b._checkOnFilter=!0,b._delay=h.Control._SEARCH_DELAY,b.checkedItemsChanged=new h.Event,b.selectedIndexChanged=new h.Event;var Z=b.getTemplate();b.applyTemplate("wj-control wj-content wj-multiselectlistbox",Z,{_selectAll:"select-all",_filter:"filter",_lbHost:"list-box"}),b._selectAll.style.display="none",b._filter.style.display="none",b._lbx=new re(b._lbHost,{checkedMemberPath:H._DEF_CHECKED_PATH,loadedItems:function(){return b._updateCheckAllCheckbox()},checkedItemsChanged:function(X){return b.onCheckedItemsChanged(X)},selectedIndexChanged:function(){return b.onSelectedIndexChanged()}}),b._cbSelectAll=b._selectAll.querySelector("input[type=checkbox]"),b._spSelectAll=b._selectAll.querySelector("label>span");var W=h.culture.MultiSelectListBox;return(0,h.setText)(b._spSelectAll,W.selectAll),b._filter.placeholder=W.filterPlaceholder,b.initialize(F),b.addEventListener(b._filter,"input",function(){b._filter.value!=b._filterText&&(b._filterText=b._filter.value,b._toSearch&&clearTimeout(b._toSearch),b._toSearch=setTimeout(function(){b._toSearch=null,b._applyFilter()},b.delay))}),b.addEventListener(b._cbSelectAll,"click",function(X){var de=b._lbx.collectionView;(0,h.hasItems)(de)&&(b.checkedItems=X.target.checked?de.items:[])}),b.addEventListener(b.hostElement,"keydown",function(X){var de=b.showFilterInput?b._filter:null,me=b._lbx;if(de&&X.keyCode==h.Key.F3&&((0,h.setSelectionRange)(de,0,de.value.length),X.preventDefault()),(0,h.getActiveElement)()==de){var ft=!X.altKey;switch(X.keyCode){case h.Key.Escape:case h.Key.F4:ft=!1}ft&&X.stopPropagation()}if(!me.containsFocus())switch(X.keyCode){case h.Key.Up:case h.Key.Down:b._lbx.focus(),me.selectedIndex=Math.max(0,me.selectedIndex+(X.keyCode==h.Key.Up?-1:1)),X.preventDefault()}},!0),b.hostElement.tabIndex=-1,b._lbx.tabOrder=b._orgTabIndex,b}return V(H,Le),Object.defineProperty(H.prototype,"itemsSource",{get:function(){return this._lbx.itemsSource},set:function(g){this._lbx.itemsSource=g},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"collectionView",{get:function(){return this._lbx.collectionView},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"virtualizationThreshold",{get:function(){return this._lbx.virtualizationThreshold},set:function(g){this._lbx.virtualizationThreshold=g},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"displayMemberPath",{get:function(){return this._lbx.displayMemberPath},set:function(g){this._lbx.displayMemberPath=g},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"isContentHtml",{get:function(){return this._lbx.isContentHtml},set:function(g){this._lbx.isContentHtml=g},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"caseSensitiveSearch",{get:function(){return this._lbx.caseSensitiveSearch},set:function(g){this._lbx.caseSensitiveSearch=g},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"delay",{get:function(){return this._delay},set:function(g){this._delay=(0,h.asNumber)(g,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"showGroups",{get:function(){return this._lbx.showGroups},set:function(g){this._lbx.showGroups=g},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"checkOnFilter",{get:function(){return this._checkOnFilter},set:function(g){g!=this.checkOnFilter&&(this._checkOnFilter=(0,h.asBoolean)(g),this.checkedItems=[])},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"selectedIndex",{get:function(){return this._lbx.selectedIndex},set:function(g){this._lbx.selectedIndex=g},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"listBox",{get:function(){return this._lbx},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"showFilterInput",{get:function(){return""==this._filter.style.display},set:function(g){g!=this.showFilterInput&&(this._filter.style.display=(0,h.asBoolean)(g)?"":"none",this.showFilterInput||(this._filter.value="",this._applyFilter()))},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"filterInputPlaceholder",{get:function(){return this._filterPlaceholder},set:function(g){g!=this._filterPlaceholder&&(this._filterPlaceholder=(0,h.asString)(g),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"showSelectAllCheckbox",{get:function(){return""==this._selectAll.style.display},set:function(g){this._selectAll.style.display=(0,h.asBoolean)(g)?"":"none"},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"selectAllLabel",{get:function(){return this._selectAllLabel},set:function(g){g!=this._selectAllLabel&&(this._selectAllLabel=(0,h.asString)(g),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"checkedMemberPath",{get:function(){var g=this.listBox.checkedMemberPath;return g!=H._DEF_CHECKED_PATH?g:null},set:function(g){g=(0,h.asString)(g),this.listBox.checkedMemberPath=g||H._DEF_CHECKED_PATH},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"checkedItems",{get:function(){return this.listBox.checkedItems},set:function(g){this.listBox.checkedItems=(0,h.asArray)(g)},enumerable:!0,configurable:!0}),H.prototype.onCheckedItemsChanged=function(g){var F=this;this._updateCheckAllCheckbox(),this.checkedItemsChanged.raise(this,g),"object"==typeof g._items[0]&&(this.checkedMemberPath||H._DEF_CHECKED_PATH)in g._items[0]&&setTimeout(function(){F._lbx._updateCheckedList(F.checkedItems)},0)},H.prototype.onSelectedIndexChanged=function(g){this.selectedIndexChanged.raise(this,g)},H.prototype.refresh=function(g){if(void 0===g&&(g=!0),Le.prototype.refresh.call(this,g),this.hostElement){var F=h.culture.MultiSelectListBox;this._filter.placeholder=null!=this._filterPlaceholder?this._filterPlaceholder:F.filterPlaceholder,this._spSelectAll&&(0,h.setText)(this._spSelectAll,null!=this._selectAllLabel?this._selectAllLabel:F.selectAll),this._updateCheckAllCheckbox()}},H.prototype.dispose=function(){this.listBox.dispose(),Le.prototype.dispose.call(this)},H.prototype._applyFilter=function(){var g=this,F=this._lbx,b=F.collectionView,Z=this._filter.value,W=Z?new RegExp((0,h.escapeRegExp)(Z),F.caseSensitiveSearch?"":"i"):null,X=this.displayMemberPath,de=X?new h.Binding(X):null,me=this.checkOnFilter?null:this.checkedItems;b.filter=function(ft){return null==W||!!(me&&me.indexOf(ft)>-1)||(de&&(ft=de.getValue(ft)),g.isContentHtml&&(ft=(0,h.toPlainText)(ft)),null!=ft&&W.test(ft.toString()))},F.selectedIndex=Math.max(0,F.selectedIndex),this._checkOnFilter&&(this.checkedItems=W?b.items:[])},H.prototype._updateCheckAllCheckbox=function(){var g=this._lbx.collectionView,F=this._cbSelectAll;if((0,h.hasItems)(g)){var Z=this.checkedItems.length;(0,h.setChecked)(F,Z==g.items.length||0!=Z&&null),F.disabled=!1}else(0,h.setChecked)(F,!1),F.checked=!1,F.disabled=!0},H.prototype._setIsDisabled=function(g){Le.prototype._setIsDisabled.call(this,g),this.hostElement.tabIndex=-1,this._lbx.tabOrder=this.isDisabled?-1:this._orgTabIndex},H.prototype._setTabOrder=function(g){this._orgTabIndex=g,this._lbx.tabOrder=g},H._DEF_CHECKED_PATH="$checked",H.controlTemplate='<div class="wj-template wj-listbox"><input wj-part="filter" class="wj-form-control" tabindex="-1"><div wj-part="select-all" class="wj-header wj-select-all wj-listbox-item"><label><input type="checkbox" tabindex="-1"> <span></span></label></div><div wj-part="list-box"/></div>',H}(h.Control);(0,h._addCultureInfo)("Calendar",{ariaLabels:{calendar:"Calendar",monthView:"Month View",yearView:"Year View",prvMo:"Previous Month",today:"Today",nxtMo:"Next Month",prvYr:"Previous Year",currMo:"Current Month",nxtYr:"Next Year"}}),function(Le){Le[Le.None=0]="None",Le[Le.Day=1]="Day",Le[Le.Month=2]="Month",Le[Le.Range=3]="Range"}(y||(y={})),function(Le){Le[Le.None=0]="None",Le[Le.FirstMonth=1]="FirstMonth",Le[Le.LastMonth=2]="LastMonth",Le[Le.FirstAndLastMonths=3]="FirstAndLastMonths",Le[Le.AllMonths=4]="AllMonths",Le[Le.Outside=5]="Outside"}(O||(O={}));var Q,$=function(Le){function H(g,F){var b=Le.call(this,g)||this;b._yrPicker=!0,b._mtPicker=O.FirstMonth,b._wksBefore=0,b._wksAfter=0,b._rngMin=0,b._rngMax=0,b._min=null,b._max=null,b._readOnly=!1,b._handleWheel=!0,b._fdw=null,b._selMode=y.Day,b._tmYrHidden=0,b._fmtYrMo="y",b._fmtYr="yyyy",b._fmtDayHdr="ddd",b._fmtDay="d ",b._fmtMonths="MMM",b.valueChanged=new h.Event,b.rangeEndChanged=new h.Event,b.rangeChanged=new h.Event,b.displayMonthChanged=new h.Event,b.formatItem=new h.Event(function(){b.invalidate()}),b._value=b._rngEnd=h.DateTime.newDate(),b._month=b._getMonth(b._value),b._cals=[b],b._createChildren(),b._createYearPicker();var Z=b.hostElement,W=b.addEventListener.bind(b);return W(Z,"keydown",b._keydown.bind(b)),W(Z,"click",b._click.bind(b)),b._rptUp=new h._ClickRepeater(b._btnPrv),b._rptDn=new h._ClickRepeater(b._btnNxt),b.addEventListener(Z,"wheel",function(X){b.handleWheel&&!X.defaultPrevented&&!b.isReadOnly&&b.containsFocus()&&(X.deltaY<0?b._btnPrv.click():b._btnNxt.click(),X.preventDefault())}),b.initialize(F),b.refresh(!0),b}return V(H,Le),Object.defineProperty(H.prototype,"value",{get:function(){return this._value},set:function(g){if(g!==this._value&&(this._clearingRangeEnd=!h.DateTime.equals(this._value,g),this.rangeEnd=null,this._clearingRangeEnd=!1,g=(0,h.asDate)(g,!0),g=this._clamp(g),(this._valid(g)||null==g)&&(this.ensureVisible(g||new Date),h.DateTime.equals(this._value,g)||(this._value=g,this.invalidate(!1),this.onValueChanged())),!this.value)){var F=this.min,b=this.max,Z=this.displayMonth;b&&b<Z?this.ensureVisible(b):F&&F>Z&&this.ensureVisible(F)}},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"rangeEnd",{get:function(){return this._rngEnd},set:function(g){if(g=(0,h.asDate)(g,!0),(g=this._clamp(g))&&this._value&&this._rngMode()){g<this._value&&(g=this._value);var F=this._rngMin,b=this._rngMax;if(F&&F>0||b&&b>0){var Z=this._value,W=Math.ceil((g.getTime()-Z.getTime())/864e5)+1;F&&F>0&&W<F&&(g=h.DateTime.addDays(Z,F-1)),b&&b>0&&W>b&&(g=h.DateTime.addDays(Z,b-1))}}(this._valid(g)||null==g)&&!h.DateTime.equals(this._rngEnd,g)&&(this._rngEnd=g,this.ensureVisible(g),this.invalidate(!1),this.onRangeEndChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"rangeMin",{get:function(){return this._rngMin},set:function(g){(g=(0,h.asNumber)(g,!0,!0))!=this._rngMin&&(this._rngMin=g,this._syncProp(this,"rangeMin"),this._rngMode()&&this._rngEnd&&(this.rangeEnd=this._rngEnd))},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"rangeMax",{get:function(){return this._rngMax},set:function(g){(g=(0,h.asNumber)(g,!0,!0))!=this._rngMax&&(this._rngMax=g,this._syncProp(this,"rangeMax"),this._rngMode()&&this._rngEnd&&(this.rangeEnd=this._rngEnd))},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"min",{get:function(){return this._min},set:function(g){(g=(0,h.asDate)(g,!0))!=this.min&&(this._min=g,this._syncProp(this,"min"),this.refresh(),!this.value&&g&&g>this.displayMonth&&this.ensureVisible(g))},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"max",{get:function(){return this._max},set:function(g){(g=(0,h.asDate)(g,!0))!=this.max&&(this._max=g,this._syncProp(this,"max"),this.refresh(),!this.value&&g&&g<this.displayMonth&&this.ensureVisible(g))},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"selectionMode",{get:function(){return this._selMode},set:function(g){var F=y;(g=(0,h.asEnum)(g,F))!=this._selMode&&(this._selMode=g,this._mthMode()&&(this.monthView=!1),this._rngEnd=g==F.Range?this._value:null,this.refresh(),this._syncProp(this,"selectionMode"))},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"isReadOnly",{get:function(){return this._readOnly},set:function(g){this._readOnly=(0,h.asBoolean)(g),(0,h.toggleClass)(this.hostElement,"wj-state-readonly",this.isReadOnly),this._syncProp(this,"isReadOnly")},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"handleWheel",{get:function(){return this._handleWheel},set:function(g){this._handleWheel=(0,h.asBoolean)(g),this._syncProp(this,"handleWheel")},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"repeatButtons",{get:function(){return!this._rptUp.disabled},set:function(g){this._rptUp.disabled=this._rptDn.disabled=!(0,h.asBoolean)(g),this._syncProp(this,"repeatButtons")},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"showYearPicker",{get:function(){return this._yrPicker},set:function(g){g!=this._yrPicker&&(this._yrPicker=(0,h.asBoolean)(g),this._syncProp(this,"showYearPicker"))},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"showMonthPicker",{get:function(){return this._mtPicker},set:function(g){if(g!=this._mtPicker){var F=O;(0,h.isBoolean)(g)&&(g=g?F.FirstMonth:F.None),this._mtPicker=(0,h.asEnum)(g,F),(0,h.toggleClass)(this.hostElement,"wj-btns-outside",this._getShowMonthPicker()==F.Outside),this.refresh(),this._syncProp(this,"showMonthPicker")}},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"firstDayOfWeek",{get:function(){return this._fdw},set:function(g){if(g!=this._fdw){if((g=(0,h.asNumber)(g,!0))&&(g>6||g<0))throw"firstDayOfWeek must be between 0 and 6 (Sunday to Saturday).";this._fdw=g,this.refresh(),this._syncProp(this,"firstDayOfWeek")}},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"displayMonth",{get:function(){return this._month},set:function(g){g=(0,h.asDate)(g),g=this._getMonth(g);var F=this._getDisplayMonthRange();F.to&&g>F.to&&(g=F.to),F.from&&g<F.from&&(g=F.from),h.DateTime.equals(this.displayMonth,g)||(this._month=g,this.invalidate(!0),this.onDisplayMonthChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"monthCount",{get:function(){var g=this.hostElement;return g?g.querySelectorAll(".wj-calendar").length+1:0},set:function(g){var F=this,b=this.hostElement;if(g!=this.monthCount&&b){var Z=b.querySelectorAll(".wj-calendar");g=(0,h.asInt)(g,!1),(0,h.assert)(g>0,"monthCount must be >= 1."),(0,h.assert)(1==g||!(0,h.closest)(b.parentElement,".wj-calendar"),"Only top-level calendars can set monthCount.");for(var W=0;W<Z.length;W++){var X=Z[W];(0,h.removeChild)(X),this._getCalendar(X).dispose()}for(this._cals=[this],W=1;W<g;W++){for(var de in(X=new H(document.createElement("div"),{itemFormatter:this.itemFormatter,itemValidator:this.itemValidator,formatItem:function(ft,pt){return F.onFormatItem(pt)}}))._selMode=this._selMode,X._value=this._value,X._rngEnd=this._rngEnd,this)if(!/^(_.*|constructor|displayMonth|monthCount|hostElement|rightToLeft|isUpdating|isTouching)$/.test(de)){var me=this[de];(0,h.isFunction)(me)||me instanceof h.Event||(X[de]=me)}this._cals.push(X),b.appendChild(X.hostElement)}(0,h.toggleClass)(b,"wj-calendar-multimonth",g>1),this._syncProp(this,"displayMonth")}},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"formatYearMonth",{get:function(){return this._fmtYrMo},set:function(g){g!=this._fmtYrMo&&(this._fmtYrMo=(0,h.asString)(g),this._syncProp(this,"formatYearMonth"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"formatDayHeaders",{get:function(){return this._fmtDayHdr},set:function(g){g!=this._fmtDayHdr&&(this._fmtDayHdr=(0,h.asString)(g),this._syncProp(this,"formatDayHeaders"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"formatDays",{get:function(){return this._fmtDay},set:function(g){g!=this._fmtDay&&(this._fmtDay=(0,h.asString)(g),this._syncProp(this,"formatDays"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"formatYear",{get:function(){return this._fmtYr},set:function(g){g!=this._fmtYr&&(this._fmtYr=(0,h.asString)(g),this._syncProp(this,"formatYear"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"formatMonths",{get:function(){return this._fmtMonths},set:function(g){g!=this._fmtMonths&&(this._fmtMonths=(0,h.asString)(g),this._syncProp(this,"formatMonths"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"showHeader",{get:function(){return"none"!=this._tbHdr.style.display},set:function(g){g!=this.showHeader&&(this._tbHdr.style.display=(0,h.asBoolean)(g)?"":"none",this._syncProp(this,"showHeader"))},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"monthView",{get:function(){return"none"!=this._tbMth.style.display},set:function(g){if(g!=this.monthView){this._tbMth.style.display=g?"":"none",this._tbYr.style.display=g?"none":"",this.refresh();var F=h.culture.Calendar.ariaLabels;(0,h.setAriaLabel)(this._btnPrv,g?F.prvMo:F.prvYr),(0,h.setAriaLabel)(this._btnTdy,g?F.today:F.currMo),(0,h.setAriaLabel)(this._btnNxt,g?F.nxtMo:F.nxtYr),(0,h.setAriaLabel)(this._btnMth,g?F.monthView:F.yearView),this._syncProp(this,"monthView")}},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"weeksBefore",{get:function(){return this._wksBefore},set:function(g){g!=this._wksBefore&&(this._wksBefore=Math.floor((0,h.asNumber)(g,!1,!0)),this._syncProp(this,"weeksBefore"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"weeksAfter",{get:function(){return this._wksAfter},set:function(g){g!=this._wksAfter&&(this._wksAfter=Math.floor((0,h.asNumber)(g,!1,!0)),this._syncProp(this,"weeksAfter"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"itemFormatter",{get:function(){return this._itemFormatter},set:function(g){g!=this._itemFormatter&&(this._itemFormatter=(0,h.asFunction)(g),this._syncProp(this,"itemFormatter"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"itemValidator",{get:function(){return this._itemValidator},set:function(g){g!=this._itemValidator&&(this._itemValidator=(0,h.asFunction)(g),this._syncProp(this,"itemValidator"),this.invalidate())},enumerable:!0,configurable:!0}),H.prototype.hitTest=function(g){var F=g instanceof MouseEvent?g.target:g instanceof Element?g:null;return(0,h.assert)(null!=F,"MouseEvent or Element expected"),F?F[H._DATE_KEY]:null},H.prototype.ensureVisible=function(g){if(null!=g){var F=this._getCalendars(),b=F.indexOf(this),W=F[F.length-1];g<F[0].displayMonth?this.displayMonth=h.DateTime.addMonths(this._getMonth(g),b):g>W.displayMonth&&(this.displayMonth=h.DateTime.addMonths(this._getMonth(g),b-F.length+1))}},H.prototype.onValueChanged=function(g){this.valueChanged.raise(this,g),this._syncProp(this,"value")},H.prototype.onRangeEndChanged=function(g){this.rangeEndChanged.raise(this,g),this._syncProp(this,"rangeEnd"),this._value&&this._rngEnd&&this.onRangeChanged(g)},H.prototype.onRangeChanged=function(g){this.rangeChanged.raise(this,g)},H.prototype.onDisplayMonthChanged=function(g){this.displayMonthChanged.raise(this,g),this._syncProp(this,"displayMonth")},H.prototype.onFormatItem=function(g){this.formatItem.raise(this,g)},H.prototype._containsFocusImpl=function(g){return Le.prototype._containsFocusImpl.call(this,g)||this._lbYears._containsFocusImpl(g)},H.prototype.dispose=function(){this._rptUp.element=null,this._rptDn.element=null,this._lbYears.dispose(),Le.prototype.dispose.call(this)},H.prototype.refresh=function(g){void 0===g&&(g=!0);var F=this.hostElement,b=this.containsFocus();if(F){Le.prototype.refresh.call(this,g),g&&this._updateContent(),this._updateSelection();var Z=this._getDisplayMonthRange(),W=this.displayMonth;if((0,h.enable)(this._btnPrv,null==Z.from||W>Z.from),(0,h.enable)(this._btnNxt,null==Z.to||W<Z.to),b){var X=(this.monthView?this._tbMth:this._tbYr).querySelector("td.wj-state-selected")||F;X&&X.focus()}var de=this._getCalendars();de.length>1&&this==de[0]&&de.forEach(function(me,ft){ft>0&&me.refresh(g)})}},H.prototype._getShowMonthPicker=function(){var g=O,F=this._getCalendars(),b=F.indexOf(this),Z=this.showMonthPicker;switch(Z){case g.FirstMonth:case g.Outside:return 0==b?Z:0;case g.LastMonth:return b==F.length-1?Z:0;case g.FirstAndLastMonths:return 0==b||b==F.length-1?Z:0;case g.AllMonths:return Z}return 0},H.prototype._getDisplayMonthRange=function(){var g={from:null,to:null};if(this.min||this.max){var F=this._getCalendars(),b=F.indexOf(this),Z=this._mthMode()?h.DateTime.addYears:h.DateTime.addMonths;this.min&&(g.from=Z(this._getMonth(this.min),b)),this.max&&(g.to=Z(this._getMonth(this.max),b-F.length+1))}return g},H.prototype._getCalendar=function(g){return h.Control.getControl(g)},H.prototype._getCalendars=function(){var g=(0,h.closest)(this.hostElement,".wj-calendar-multimonth");return(g?this._getCalendar(g):this)._cals},H.prototype._syncProp=function(g,F){var b=this;if(!this._syncing){var Z=this._getCalendars();if(Z&&Z.length>1){var W=g[F],X=this._mthMode()?h.DateTime.addYears:h.DateTime.addMonths;"displayMonth"==F&&(W=X(W,-Z.indexOf(g))),Z[0].deferUpdate(function(){b._syncing=!0,Z.forEach(function(de,me){if(de!=g){var ft=de.displayMonth;de[F]="displayMonth"==F?X(W,me):W,"value"==F&&(de.displayMonth=ft,b._rngMode()&&(de.rangeEnd=null))}}),b._syncing=!1})}}},H.prototype._updateContent=function(){var g=this.displayMonth,F=h.Globalize.format,b=h.DateTime,Z=this._getShowMonthPicker();(0,h.setText)(this._spMth,F(g,this._fmtYrMo));var W=this._btnMth.querySelector(".wj-glyph-down");W&&(W.style.display=this._mthMode()||!Z?"none":"");var X=(0,h.closest)(this._btnTdy,".wj-btn-group");X&&(X.style.display=Z?"":"none");for(var de=null!=this._fdw?this._fdw:h.Globalize.getFirstDayOfWeek(),me=b.addDays(g,-(g.getDay()-de+7)%7),ft=b.monthLast(g),pt=this._tbMth.querySelectorAll("td"),Et=0;Et<7&&Et<pt.length;Et++){var jt=b.addDays(me,Et);(0,h.setText)(pt[Et],F(jt,this._fmtDayHdr))}var xn=this._tbMth.querySelectorAll("tr");for(Et=1;Et<xn.length;Et++)(0,h.removeChild)(xn[Et]);var En=b.addDays(me,-7*this._wksBefore);for(Et=0;Et<this._wksBefore;Et++)En=this._addWeek(En,"wj-week-before");for(;En<=ft;)En=this._addWeek(En);for(Et=0;Et<this._wksAfter;Et++)En=this._addWeek(En,"wj-week-after");for((pt=this._tbYr.querySelectorAll("td")).length&&(0,h.setText)(pt[0],F(g,this._fmtYr)),Et=1;Et<pt.length;Et++){En=b.newDate(g.getFullYear(),Et-1,1);var In=pt[Et],Te=!this._monthInValidRange(En);In[H._DATE_KEY]=En,(0,h.setText)(In,F(En,this._fmtMonths)),(0,h.toggleClass)(In,"wj-state-disabled",Te),(0,h.setAriaLabel)(In,h.Globalize.format(En,"MMMM yyyy"))}},H.prototype._updateSelection=function(){for(var g=H._DATE_KEY,F=h.DateTime,b=this._tbMth.querySelectorAll("td"),Z=7;Z<b.length;Z++){var W=(Et=b[Z])[g],X=this.value,de=this.rangeEnd,me=this._selMode&&null!=X&&F.sameDate(W,X),ft=this._selMode&&null!=X&&F.sameDate(W,de),pt=this._selMode&&null!=X&&W>X&&null!=de&&W<=de;(0,h.toggleClass)(Et,"wj-state-selected",me),(0,h.toggleClass)(Et,"wj-state-multi-selected",pt),(0,h.toggleClass)(Et,"wj-state-last-selected",ft),(0,h.setAttribute)(Et,"aria-selected",!!me||null),this._customizeCell(Z,W,Et)}for(b=this._tbYr.querySelectorAll("td"),Z=0;Z<b.length;Z++){var Et;W=(Et=b[Z])[g],me=this._sameMonth(W,this.value),(0,h.toggleClass)(Et,"wj-state-selected",me),(0,h.setAttribute)(Et,"aria-selected",!!me||null)}},H.prototype._addWeek=function(g,F){for(var b=this._createElement("tr",this._tbMth,F),Z=h.DateTime,W=0;W<7;W++){var X=this._createElement("td",b),de=Z.addDays(g,W);X[H._DATE_KEY]=de,(0,h.setText)(X,h.Globalize.format(de,this._fmtDay)),(0,h.setAriaLabel)(X,h.Globalize.format(de,"D"));var me=!this._valid(de),ft=de.getDay(),pt=de.getMonth()!=this.displayMonth.getMonth();(0,h.toggleClass)(X,"wj-day-today",Z.sameDate(de,Z.newDate())),(0,h.toggleClass)(X,"wj-day-weekend",0==ft||6==ft),(0,h.toggleClass)(X,"wj-day-othermonth",pt||!this._inValidRange(de)||me),(0,h.toggleClass)(X,"wj-state-invalid",me)}return Z.addDays(g,7)},H.prototype._customizeCell=function(g,F,b){if((0,h.isFunction)(this.itemFormatter)&&this.itemFormatter(F,b),this.formatItem.hasHandlers){var Z=new le(g,F,b);this.onFormatItem(Z)}},H.prototype._canChangeValue=function(){return!this._readOnly&&this._selMode!=y.None},H.prototype._valid=function(g){return!(!(0,h.isDate)(g)||!h.DateTime.sameDate(g,this._clamp(g)))&&(!(0,h.isFunction)(this.itemValidator)||this.itemValidator(g))},H.prototype._inValidRange=function(g){var F=h.DateTime.fromDateTime;return!(this.min&&g<F(this.min,g)||this.max&&g>F(this.max,g))},H.prototype._monthInValidRange=function(g){if(this.min||this.max){var F=g.getFullYear(),b=g.getMonth(),Z=h.DateTime,W=Z.newDate(F,b,1),X=Z.newDate(F,b+1,0);if(this.min&&this.min>X||this.max&&this.max<W)return!1}return!0},H.prototype._sameMonth=function(g,F){return(0,h.isDate)(g)&&(0,h.isDate)(F)&&g.getMonth()==F.getMonth()&&g.getFullYear()==F.getFullYear()},H.prototype._getValidDate=function(g,F){if((0,h.isDate)(g))for(var b=g.getFullYear(),Z=g.getMonth()+(F?0:1),X=h.DateTime,de=X.newDate(b,Z,F?1:0),me=F?1:-1,ft=0;ft<31;ft++){if(this._valid(de))return de;de=X.addDays(de,me)}return null},H.prototype._clamp=function(g){if(g){var F=h.DateTime.fromDateTime;if(this.min){var b=F(this.min,g);g<b&&(g=b)}if(this.max){var Z=F(this.max,g);g>Z&&(g=Z)}}return g},H.prototype._createChildren=function(){var g=this.getTemplate();this.applyTemplate("wj-control wj-calendar",g,{_tbHdr:"tbl-header",_btnMth:"btn-month",_spMth:"span-month",_btnPrv:"btn-prev",_btnTdy:"btn-today",_btnNxt:"btn-next",_tbMth:"tbl-month",_tbYr:"tbl-year"}),this._tbYr.style.display="none";var F=h.culture.Calendar.ariaLabels;(0,h.setAriaLabel)(this._tbMth,F.calendar),(0,h.setAriaLabel)(this._tbYr,F.calendar),(0,h.setAriaLabel)(this._btnPrv,F.calendar),(0,h.setAriaLabel)(this._btnMth,F.monthView),(0,h.setAriaLabel)(this._btnPrv,F.prvMo),(0,h.setAriaLabel)(this._btnTdy,F.today),(0,h.setAriaLabel)(this._btnNxt,F.nxtMo);for(var b=this._createElement("tr",this._tbMth,"wj-header"),Z=0;Z<7;Z++)this._createElement("td",b);b=this._createElement("tr",this._tbYr,"wj-header"),this._createElement("td",b).setAttribute("colspan","4");for(var W=0;W<3;W++){b=this._createElement("tr",this._tbYr);for(var X=0;X<4;X++)this._createElement("td",b)}},H.prototype._createYearPicker=function(){var g=this,F=this.hostElement,b=this._createElement("div",null,"wj-dropdown-panel wj-yearpicker");b.tabIndex=this._orgTabIndex,this._lbYears=new re(b,{lostFocus:function(Z){if((0,h.hidePopup)(b),g._tmYrHidden=Date.now(),g.removeEventListener(window,"touchstart"),Z.selectedIndex>-1){var W=h.DateTime.clone(g.displayMonth);W.setFullYear(Z.selectedIndex+Z.itemsSource[0]),g.displayMonth=W}}}),this.addEventListener(b,"keydown",function(Z){switch(Z.keyCode){case h.Key.Enter:F.focus();break;case h.Key.Escape:g._lbYears.selectedIndex=-1,F.focus()}Z.defaultPrevented&&Z.stopPropagation()}),this.addEventListener(b,"click",function(Z){F.focus()})},H.prototype._createElement=function(g,F,b){var Z=document.createElement(g);return b&&(0,h.addClass)(Z,b),F&&F.appendChild(Z),Z},H.prototype._click=function(g){var F=this;if(!g.defaultPrevented&&0==g.button){var b=!1,Z=g.target;if((0,h.contains)(this._btnMth,Z)&&!this._mthMode()&&this._getShowMonthPicker()?(this.monthView=!this.monthView,b=!0):(0,h.contains)(this._btnPrv,Z)?(this._navigate(-1),b=!0):(0,h.contains)(this._btnNxt,Z)?(this._navigate(1),b=!0):(0,h.contains)(this._btnTdy,Z)&&(this._navigate(0),b=!0),Z&&!b&&this._yrPicker&&(0,h.contains)(this._tbYr,Z)&&(0,h.closest)(Z,".wj-header")){if(Date.now()-this._tmYrHidden<600)return void g.preventDefault();for(var W=this.displayMonth.getFullYear(),X=this.min?this.min.getFullYear():W-100,de=this.max?this.max.getFullYear():W+100,me=[],ft=X;ft<=de;ft++)me.push(ft);var pt=this._lbYears,Et=pt.hostElement,jt=(0,h.closest)(Z,".wj-header"),xn=this.hostElement,En=(0,h.closest)(xn,".wj-inputdate-dropdown")||xn;return pt.itemsSource=me,pt.selectedIndex=W-me[0],(0,h.setAttribute)(Et,"dir",this.rightToLeft?"rtl":null),(0,h.setCss)(Et,{minWidth:"",width:jt.offsetWidth}),(0,h.showPopup)(Et,jt,!1,!1,En),requestAnimationFrame(function(){pt.showSelection(!0)}),this.addEventListener(window,"touchstart",function(rt){(0,h.contains)(Et,rt.target)||((0,h.hidePopup)(Et),F._tmYrHidden=Date.now(),F.removeEventListener(window,"touchstart"))}),void g.preventDefault()}if(Z&&!b){var In=(0,h.closest)(Z,"td");if(In){var Te=this.hitTest(In),$t=h.DateTime.fromDateTime;if(this.monthView){if(Te&&this._canChangeValue()){var Lt=$t(Te,this._value);this._inValidRange(Lt)&&this._valid(Lt)&&(this._rngMode()&&this.value&&!this.rangeEnd&&Lt>=this.value?this.rangeEnd=Lt:this.value=Lt),b=!0}}else Te&&(this.displayMonth=Te,this._mthMode()?this._canChangeValue()&&(Lt=$t(this.displayMonth,this.value),this._inValidRange(Lt)&&(this.value=Lt)):this.monthView=!0,b=!0)}}b&&(g.preventDefault(),this.focus())}},H.prototype._keydown=function(g){if(!g.defaultPrevented){if(g.altKey)switch(g.keyCode){case h.Key.Up:case h.Key.Down:return;case h.Key.End:return this._navigate(0),void g.preventDefault()}if(!(g.ctrlKey||g.metaKey||g.shiftKey&&!this._rngMode())){var F=this._getKeyCode(g),b=0,Z=0,W=!0;if(this.monthView)switch(F){case h.Key.Left:b=-1;break;case h.Key.Right:b=1;break;case h.Key.Up:b=-7;break;case h.Key.Down:b=7;break;case h.Key.PageDown:Z=g.altKey?12:1;break;case h.Key.PageUp:Z=g.altKey?-12:-1;break;case h.Key.Home:case h.Key.End:if(this._canChangeValue()&&!g.shiftKey){var X=this.value||this.displayMonth;(me=this._getValidDate(X,F==h.Key.Home))&&(this.value=h.DateTime.fromDateTime(me,this.value),this._rngEnd=null)}break;default:W=!1}else switch(F){case h.Key.Left:Z=-1;break;case h.Key.Right:Z=1;break;case h.Key.Up:Z=-4;break;case h.Key.Down:Z=4;break;case h.Key.PageDown:Z=g.altKey?120:12;break;case h.Key.PageUp:Z=g.altKey?-120:-12;break;case h.Key.Home:Z=this.value?-this.value.getMonth():0;break;case h.Key.End:Z=this.value?11-this.value.getMonth():0;break;case h.Key.Enter:this._mthMode()?W=!1:this.monthView=!0;break;default:W=!1}if(this._canChangeValue()&&(b||Z)){var de=g.shiftKey&&null!=this.rangeEnd?this.rangeEnd:this.value,me=h.DateTime;if(de?(de=me.addDays(de,b),de=me.addMonths(de,Z)):de=this._getValidDate(new Date,!0),Z&&!this._valid(de)){X=de.getMonth();for(var ft=1;ft<31&&!this._valid(de);ft++){var pt=me.addDays(de,+ft),Et=me.addDays(de,-ft);this._valid(pt)&&pt.getMonth()==X?de=pt:this._valid(Et)&&Et.getMonth()==X&&(de=Et)}}for(ft=0;ft<31&&!this._valid(de);ft++)de=me.addDays(de,b>0||Z>0?1:-1);g.shiftKey&&de>this.value?this.rangeEnd=de:this.value=de}W&&g.preventDefault()}}},H.prototype._getMonth=function(g){var F=h.DateTime;return g=g||F.newDate(),F.newDate(g.getFullYear(),g.getMonth(),1)},H.prototype._mthMode=function(){return this.selectionMode==y.Month},H.prototype._rngMode=function(){return this.selectionMode==y.Range},H.prototype._navigate=function(g){var F=this.monthView,b=this.displayMonth,Z=h.DateTime;switch(g){case 0:var W=Z.newDate();this._canChangeValue()&&(this.value=F?Z.fromDateTime(W,this.value):this._getMonth(W)),b=this._getMonth(W);break;case 1:b=Z.addMonths(b,F?1:12);break;case-1:b=Z.addMonths(b,F?-1:-12)}this.displayMonth=b},H.prototype._setTabOrder=function(g){Le.prototype._setTabOrder.call(this,g),this._lbYears.tabOrder=this._orgTabIndex},H._DATE_KEY="$WJ-DATE",H.controlTemplate='<div class="wj-content wj-calendar-outer"><div wj-part="tbl-header" class="wj-calendar-header"><div wj-part="btn-month" class="wj-month-select" role="button"><span wj-part="span-month"></span> <span class="wj-glyph-down"></span></div><div class="wj-btn-group"><button wj-part="btn-prev" class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-left"></span></button><button wj-part="btn-today" class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-circle"></span></button><button wj-part="btn-next" class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-right"></span></button></div></div><table wj-part="tbl-month" class="wj-calendar-month" role="grid"></table><table wj-part="tbl-year" class="wj-calendar-year" role="grid"></table></div>',H}(h.Control);(0,h._addCultureInfo)("DropDown",{ariaLabels:{tgl:"Toggle Dropdown"}}),function(Le){Le[Le.Select=0]="Select",Le[Le.Open=1]="Open",Le[Le.Toggle=2]="Toggle"}(Q||(Q={}));var oe,xe,Ce=function(Le){function H(g,F){var b=Le.call(this,g)||this;b._clickAction=Q.Select,b._showBtn=!0,b._autoExpand=!0,b._animate=!1,b._internalSettingText=!1,b._oldText="",b.textChanged=new h.Event,b.isDroppedDownChanging=new h.Event,b.isDroppedDownChanged=new h.Event;var Z=b.getTemplate();b.applyTemplate("wj-control wj-content wj-dropdown",Z,{_tbx:"input",_btn:"btn",_dropDown:"dropdown"},"input"),b._dropDown.style.display="none";var W=h.culture.DropDown.ariaLabels;(0,h.setAriaLabel)(b._btn.querySelector("button"),W.tgl);var X=b._elRef=b._tbx;(0,h.disableAutoComplete)(X),b._createDropDown(),b._updateBtn();var de=b.hostElement;(0,h.addClass)(de,"wj-state-collapsed"),b.addEventListener(window,"resize",function(){b.isDroppedDown&&b.invalidate()});var me=b.dropDown,ft=b.addEventListener.bind(b),pt=b._updateFocusState.bind(b);ft(me,"blur",pt,!0),ft(me,"focus",pt);var Et=b._keydown.bind(b);ft(de,"keydown",Et),ft(me,"keydown",Et);var jt=b._keypress.bind(b);return ft(de,"keypress",jt,!0),ft(me,"keypress",jt,!0),ft(X,"input",function(){b._setText(b.text,!1)}),ft(X,"blur",function(){b._commitText(!0)},!0),ft(X,"click",function(){b._autoExpand&&b._expandSelection()}),ft(X,"mousedown",function(xn){switch(b._clickAction){case Q.Open:b.isDroppedDown||(xn.preventDefault(),b.focus(),b.isDroppedDown=!0);break;case Q.Toggle:xn.preventDefault(),b.focus(),b.isDroppedDown=!b.isDroppedDown}}),ft(b._btn,"mousedown",function(xn){b._btnclick(xn)}),(0,h.removeChild)(me),(0,h.isIE)()&&b._elRef==b._tbx&&ft(de,"mouseup",function(xn){if(!xn.defaultPrevented&&0==xn.button&&(0,h.hasClass)(xn.target,"wj-btn")){var En=(0,h.getActiveElement)();En&&En!=xn.target&&setTimeout(function(){En.focus()})}}),(0,h.isIE9)()&&ft(X,"keyup",function(){b._setText(b.text,!1)}),ft(me,"click",b._dropDownClick.bind(b)),b}return V(H,Le),Object.defineProperty(H.prototype,"text",{get:function(){return this._tbx.value},set:function(g){g!=this.text&&(this._setText(g,!0),this._commitText())},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"inputType",{get:function(){return this._tbx.type},set:function(g){this._tbx.type=(0,h.asString)(g)},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"isReadOnly",{get:function(){return this._tbx.readOnly},set:function(g){this._tbx.readOnly=(0,h.asBoolean)(g),(0,h.toggleClass)(this.hostElement,"wj-state-readonly",this.isReadOnly)},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"isRequired",{get:function(){return this._tbx.required},set:function(g){this._tbx.required=(0,h.asBoolean)(g)},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"placeholder",{get:function(){return this._tbx.placeholder},set:function(g){this._tbx.placeholder=g},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"clickAction",{get:function(){return this._clickAction},set:function(g){this._clickAction=(0,h.asEnum)(g,Q)},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"isDroppedDown",{get:function(){var g=this._dropDown;return g&&"none"!=g.style.display},set:function(g){var F=this,b=this.hostElement,Z=this._dropDown,W=this.containsFocus();b&&Z&&(g=(0,h.asBoolean)(g)&&!this.isDisabled&&!this.isReadOnly&&b.offsetWidth>0)!=this.isDroppedDown&&this.onIsDroppedDownChanging(new h.CancelEventArgs)&&(g?(this._minWidthDropdown=Z.style.minWidth,Z.style.display="",this._updateDropDown(),this.addEventListener(window,"touchstart",function(X){for(var de=X.target;de;){if(de==b)return;de=de[h.Control._OWNR_KEY]||de.parentNode}h.Control._touching=!0,F.isDroppedDown=!1,h.Control._touching=!1})):(this.removeEventListener(window,"touchstart"),(0,h.hidePopup)(Z),Z.style.minWidth=this._minWidthDropdown),W&&(this.isTouching&&this.showDropDownButton?b.focus():this.selectAll()),this._updateFocusState(),(0,h.toggleClass)(b,"wj-state-collapsed",!this.isDroppedDown),this.onIsDroppedDownChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"dropDown",{get:function(){return this._dropDown},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"dropDownCssClass",{get:function(){return this._cssClass},set:function(g){g!=this._cssClass&&((0,h.removeClass)(this._dropDown,this._cssClass),this._cssClass=(0,h.asString)(g),(0,h.addClass)(this._dropDown,this._cssClass))},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"showDropDownButton",{get:function(){return this._showBtn},set:function(g){this._showBtn=(0,h.asBoolean)(g),this._updateBtn()},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"autoExpandSelection",{get:function(){return this._autoExpand},set:function(g){this._autoExpand=(0,h.asBoolean)(g)},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"isAnimated",{get:function(){return this._animate},set:function(g){this._animate=(0,h.asBoolean)(g)},enumerable:!0,configurable:!0}),H.prototype.selectAll=function(){var g=this._tbx;this._elRef==g&&(0,h.setSelectionRange)(g,0,this.text.length),this.containsFocus()||this.focus()},H.prototype.onTextChanged=function(g){this.textChanged.raise(this,g),this._updateState()},H.prototype.onIsDroppedDownChanging=function(g){return this.isDroppedDownChanging.raise(this,g),!g.cancel},H.prototype.onIsDroppedDownChanged=function(g){this.isDroppedDownChanged.raise(this,g)},H.prototype.onGotFocus=function(g){this.isTouching||(0,h.contains)(this._dropDown,(0,h.getActiveElement)())||this.selectAll(),Le.prototype.onGotFocus.call(this,g)},H.prototype.onLostFocus=function(g){this._commitText(),this.isDroppedDown=!1,Le.prototype.onLostFocus.call(this,g)},H.prototype._containsFocusImpl=function(g){return Le.prototype._containsFocusImpl.call(this,g)||this.isDroppedDown&&(0,h.contains)(this._dropDown,g)},H.prototype.dispose=function(){this.isDroppedDown=!1;var g=this._dropDown;if(g){this._dropDown=null,(0,h.removeChild)(g);var F=h.Control.getControl(g);F&&F.dispose()}Le.prototype.dispose.call(this)},H.prototype.refresh=function(g){void 0===g&&(g=!0),Le.prototype.refresh.call(this,g);var F=this.hostElement;if(F&&F.offsetHeight&&this.isDroppedDown){var b=(0,h.getActiveElement)();this.isAnimated&&""!=this._dropDown.style.opacity||(0,h.showPopup)(this._dropDown,F,!1,!1,null==this.dropDownCssClass),b instanceof HTMLElement&&b!=(0,h.getActiveElement)()&&b.focus()}},H.prototype._handleResize=function(){this.isDroppedDown&&this.refresh()},H.prototype._dropDownClick=function(g){g.stopPropagation()},H.prototype._expandSelection=function(){var g=this._tbx,F=g.value,b=g.selectionStart,Z=g.selectionEnd;if(F&&b==Z){var W=this._getCharType(F,b);if(W>-1){for(;Z<F.length&&this._getCharType(F,Z)==W;Z++);for(;b>0&&this._getCharType(F,b-1)==W;b--);b!=Z&&(0,h.setSelectionRange)(g,b,Z)}}},H.prototype._getCharType=function(g,F){var b=g[F];return b>="0"&&b<="9"?0:b>="a"&&b<="z"||b>="A"&&b<="Z"?1:-1},H.prototype._keydown=function(g){if(!g.defaultPrevented&&!this._isHiddenEditor()){switch(g.keyCode){case h.Key.Tab:case h.Key.Escape:case h.Key.Enter:this.isDroppedDown&&(this.isDroppedDown=!1,g.keyCode==h.Key.Tab||this.containsFocus()||this.focus(),g.preventDefault());break;case h.Key.F4:case h.Key.Up:case h.Key.Down:if(g.keyCode==h.Key.F4||g.altKey){var F=this.hostElement;F&&F.offsetHeight&&(this.isDroppedDown=!this.isDroppedDown,g.preventDefault())}}if(!g.defaultPrevented&&g.keyCode==h.Key.Escape&&(0,h.isIE)()){var b=this._tbx;if(g.target==b){var Z=b.value;b.value=Z+" ",b.value=Z}}}},H.prototype._isHiddenEditor=function(){return(0,h.hasClass)(this._tbx,"wj-grid-ime")},H.prototype._keypress=function(g){"AltLeft"!=g.code&&"AltRight"!=g.code||g.preventDefault()},H.prototype._btnclick=function(g){!g.defaultPrevented&&0==g.button&&(g.preventDefault(),this.isTouching?this._containsFocus()||this.hostElement.focus():this.focus(),this.isDroppedDown=!this.isDroppedDown)},H.prototype._setText=function(g,F){(g=(g||"").toString())!=this._tbx.value&&(this._tbx.value=g),g!=this._oldText&&(this._oldText=g,this._internalSettingText||this.onTextChanged()),this._updateState()},H.prototype._updateBtn=function(){this._btn.style.display=this._showBtn?"":"none"},H.prototype._createDropDown=function(){},H.prototype._commitText=function(g){},H.prototype._updateDropDown=function(){if(this.isDroppedDown){this._commitText();var g=this.dropDown;(0,h.setAttribute)(g,"dir",this.rightToLeft?"rtl":null),(0,h.showPopup)(g,this.hostElement,!1,this._animate,null==this.dropDownCssClass)}},H.controlTemplate='<div class="wj-template"><div class="wj-input"><div class="wj-input-group wj-input-btn-visible"><input wj-part="input" type="text" class="wj-form-control"><span wj-part="btn" class="wj-input-group-btn"><button class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-down"></span></button></span></div></div><div wj-part="dropdown" class="wj-content wj-dropdown-panel"></div></div>',H}(h.Control);(function(Le){Le[Le.None=0]="None",Le[Le.ClickOwner=1]="ClickOwner",Le[Le.ClickPopup=2]="ClickPopup",Le[Le.Click=3]="Click",Le[Le.BlurOwner=4]="BlurOwner",Le[Le.BlurPopup=8]="BlurPopup",Le[Le.Blur=12]="Blur",Le[Le.ClickOrBlur=15]="ClickOrBlur",Le[Le.DownOwner=16]="DownOwner",Le[Le.DownPopup=32]="DownPopup",Le[Le.Down=48]="Down",Le[Le.EnterOwner=64]="EnterOwner",Le[Le.EnterPopup=128]="EnterPopup",Le[Le.Enter=192]="Enter",Le[Le.LeaveOwner=256]="LeaveOwner",Le[Le.LeavePopup=512]="LeavePopup",Le[Le.Leave=768]="Leave"})(xe||(xe={})),function(Le){Le[Le.None=0]="None",Le[Le.Left=1]="Left",Le[Le.Top=2]="Top",Le[Le.Right=4]="Right",Le[Le.Bottom=8]="Bottom",Le[Le.LeftTop=3]="LeftTop",Le[Le.RightTop=6]="RightTop",Le[Le.RightBottom=12]="RightBottom",Le[Le.LeftBottom=9]="LeftBottom"}(oe||(oe={}));var be=function(Le){function H(g,F){var b=Le.call(this,g)||this;b._owner=null,b._modal=!1,b._position=h.PopupPosition.BelowLeft,b._showTrigger=xe.ClickOwner,b._hideTrigger=xe.Blur,b._hideAnim=[],b._fadeIn=!0,b._fadeOut=!0,b._removeOnHide=!0,b._draggable=!1,b._resizable=!1,b._result=null,b._resultEnter=null,b._resultSubmit=null,b._callback=null,b._visible=!1,b._ownerClickBnd=b._ownerClick.bind(b),b._ownerDownBnd=b._ownerDown.bind(b),b._ownerBlurBnd=b._ownerBlur.bind(b),b._ownerEnterBnd=b._ownerEnter.bind(b),b._ownerLeaveBnd=b._ownerLeave.bind(b),b._mousedownBnd=b._mousedown.bind(b),b._mousemoveBnd=b._mousemove.bind(b),b._mousedragBnd=b._mousedrag.bind(b),b._mouseupBnd=b._mouseup.bind(b),b._hideBnd=b.hide.bind(b),b._lastShow=0,b.showing=new h.Event,b.shown=new h.Event,b.hiding=new h.Event,b.hidden=new h.Event,b.resizing=new h.Event,b.resized=new h.Event,b.dragging=new h.Event,b.dragged=new h.Event,b.sizeChanging=new h.Event,b.sizeChanged=new h.Event,b.positionChanging=new h.Event,b.positionChanged=new h.Event;var Z=b.hostElement;(0,h.addClass)(Z,"wj-control wj-content wj-popup"),Z.getAttribute("tabindex")||(Z.tabIndex=0),(0,h.hidePopup)(Z,!1);var W=b.addEventListener.bind(b);W(Z,"compositionstart",function(){b._composing=!0}),W(Z,"compositionend",function(){b._composing=!1}),W(window,"resize",function(){!b.isVisible||b._dragged||b.isTouching||b.invalidate()}),W(Z,"keydown",function(me){if(!me.defaultPrevented){if(me.keyCode==h.Key.Escape&&!b._composing&&(me.preventDefault(),b.hide()),me.keyCode==h.Key.Enter&&!b._composing){var ft=b.dialogResultEnter;ft&&(me.preventDefault(),b._validateAndHide(ft))}me.keyCode==h.Key.Tab&&b.modal&&(me.preventDefault(),(0,h.moveFocus)(Z,me.shiftKey?-1:1))}}),W(Z,"click",function(me){var ft=me.target;if(ft instanceof HTMLElement){if(ft instanceof HTMLButtonElement&&"submit"==ft.type){var pt=b.hostElement,Et=b.dialogResultSubmit;pt instanceof HTMLFormElement&&Et&&pt.reportValidity()&&(me.preventDefault(),b.hide(Et))}var jt=ft.className.match(/\bwj-hide[\S]*\b/);jt&&jt.length>0&&(me.preventDefault(),me.stopPropagation(),b.hide(jt[0]))}});var X=b._toggle.bind(b),de=xe;return b.addEventListener(Z,"click",function(me){b._ignoreClick||X(me,de.ClickPopup)},!0),b.addEventListener(Z,"mousedown",function(me){b._ignoreClick=!1,X(me,de.DownPopup)},!0),b.addEventListener(Z,"mouseenter",function(me){me.target==Z&&X(me,de.EnterPopup)},!0),b.addEventListener(Z,"mouseleave",function(me){me.target==Z&&X(me,de.LeavePopup)},!0),b.addEventListener(Z,"blur",function(me){b.containsFocus()||X(me,de.BlurPopup)},!0),W(document,"wheel",function(me){if(b.isVisible&&b._modal){for(var ft=me.target;ft&&ft!=document.body;ft=ft.parentElement)if(ft.scrollHeight>ft.clientHeight)return;me.preventDefault()}}),b.initialize(F),b}return V(H,Le),Object.defineProperty(H.prototype,"owner",{get:function(){return this._owner},set:function(g){var F=this._owner;F&&(this.removeEventListener(F,"click"),this.removeEventListener(F,"mousedown"),this.removeEventListener(F,"mouseenter"),this.removeEventListener(F,"mouseleave"),this.removeEventListener(F,"blur")),(F=this._owner=null!=g?(0,h.getElement)(g):null)&&(this.addEventListener(F,"click",this._ownerClickBnd,!0),this.addEventListener(F,"mousedown",this._ownerDownBnd,!0),this.addEventListener(F,"mouseenter",this._ownerEnterBnd,!0),this.addEventListener(F,"mouseleave",this._ownerLeaveBnd,!0),this.addEventListener(F,"blur",this._ownerBlurBnd,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"position",{get:function(){return this._position},set:function(g){this._position=(0,h.asEnum)(g,h.PopupPosition)},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"content",{get:function(){return this.hostElement.firstElementChild},set:function(g){g!=this.content&&(this.hostElement.innerHTML="",g instanceof HTMLElement&&this.hostElement.appendChild(g))},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"showTrigger",{get:function(){return this._showTrigger},set:function(g){this._showTrigger=(0,h.asEnum)(g,xe)},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"hideTrigger",{get:function(){return this._hideTrigger},set:function(g){this._hideTrigger=(0,h.asEnum)(g,xe)},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"fadeIn",{get:function(){return this._fadeIn},set:function(g){this._fadeIn=(0,h.asBoolean)(g)},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"fadeOut",{get:function(){return this._fadeOut},set:function(g){this._fadeOut=(0,h.asBoolean)(g)},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"removeOnHide",{get:function(){return this._removeOnHide},set:function(g){if((g=(0,h.asBoolean)(g))!=this.removeOnHide&&(this._removeOnHide=g,!this.isVisible)){var F=this.hostElement;g?(0,h.removeChild)(F):F&&document.body&&(F.style.display="none",document.body.appendChild(F))}},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"modal",{get:function(){return this._modal},set:function(g){this._modal=(0,h.asBoolean)(g)},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"isDraggable",{get:function(){return this._draggable},set:function(g){this._draggable=(0,h.asBoolean)(g)},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"isResizable",{get:function(){return this._resizable},set:function(g){this._resizable=(0,h.asBoolean)(g)},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"dialogResult",{get:function(){return this._result},set:function(g){this._result=g},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"dialogResultEnter",{get:function(){return this._resultEnter},set:function(g){this._resultEnter=g},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"dialogResultSubmit",{get:function(){return this._resultSubmit},set:function(g){this._resultSubmit=(0,h.asString)(g)},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"isVisible",{get:function(){var g=this.hostElement;return this._visible&&null!=g&&g.offsetHeight>0},enumerable:!0,configurable:!0}),H.prototype.show=function(g,F){var b=this;if(this._lastShow=Date.now(),!this.isVisible){var Z=this.hostElement;this.dialogResult=null,this._callback=null,this._oldFocus=null,this._myFocus=null,this._hideAnim.forEach(function(X){clearInterval(X)}),this._hideAnim.length>0&&(this._hideAnim.length=0,this._bkDrop&&((0,h.hidePopup)(this._bkDrop,this.removeOnHide),this._bkDrop.style.opacity=""),(0,h.hidePopup)(Z,this.removeOnHide),Z.style.opacity="");var W=new h.CancelEventArgs;this.onShowing(W)&&(null!=g&&(this.modal=(0,h.asBoolean)(g)),null!=F&&(this._callback=(0,h.asFunction)(F)),this._oldFocus=(0,h.getActiveElement)(),(0,h.showPopup)(Z,this._owner,this._position,this._fadeIn,!1,this._hideBnd),this._modal&&this._showBackdrop(),this._composing=!1,this._visible=!0,this.onShown(W),this._clearTimeouts(),this.modal&&(this.addEventListener(window,"focus",function(){if(!b.containsFocus()){var X=b._myFocus;X&&X.offsetHeight?X.focus():(0,h.moveFocus)(Z,0)}}),this.addEventListener(Z,"focusin",function(){var X=(0,h.getActiveElement)();X&&(0,h.contains)(Z,X)&&(X.tabIndex>-1||!b._myFocus)&&(b._myFocus=X)})),this._resized=this._dragged=this._ignoreClick=!1,this._handleDragResize(!0),this.addEventListener(window,"touchstart",function(X){b._hideTrigger&xe.Blur&&!(0,h.contains)(Z,X.target,!0)&&b.hide()}),setTimeout(function(){b.addEventListener(window,"click",function(X){b._hideTrigger&xe.BlurPopup&&b.isDisabled&&!(0,h.contains)(Z,X.target,!0)&&b.hide()})}),setTimeout(function(){if(!b.isDisabled&&!b.containsFocus()&&!b.isTouching){var X=Z.querySelector("[autofocus]");X&&X.clientHeight>0&&!X.disabled&&X.tabIndex>-1&&!(0,h.closest)(X,"[disabled],.wj-state-disabled")?(X.focus(),(0,h.isFunction)(X.select)&&X.select()):(0,h.moveFocus)(Z,0)}!b.isDisabled&&!b.containsFocus()&&(Z.tabIndex=0,Z.focus())},100))}},H.prototype.hide=function(g){var F=this;if(this._handleDragResize(!1),this.removeEventListener(window,"touchstart"),this.removeEventListener(window,"click"),this.isVisible){(0,h.isUndefined)(g)||(this.dialogResult=g);var b=new h.CancelEventArgs,Z=this.hostElement;if(this.onHiding(b)){for(var W=this.containsFocus()?this._oldFocus:null,X=Z.querySelectorAll(".wj-control.wj-dropdown"),de=0;de<X.length;de++){var me=h.Control.getControl(X[de]);me instanceof Ce&&(me.isDroppedDown=!1)}var ft=this.removeOnHide,pt=this.fadeOut;setTimeout(function(){if(F._updateState(),F.onHidden(b),F._callback&&F._callback(F),F.hideTrigger&xe.LeavePopup){var Et=h.Control.getControl((0,h.closest)(F.owner,".wj-popup"));if(Et instanceof H&&Et.hideTrigger&xe.Leave){var jt=H._evtHover,xn=jt?document.elementFromPoint(jt.clientX,jt.clientY):null,En=h.Control.getControl((0,h.closest)(xn,".wj-popup"));En instanceof H&&!En.isVisible&&(xn=null),xn&&(0,h.contains)(Et.hostElement,xn,!0)||Et.hide()}}},h.Control._FOCUS_INTERVAL+50),this._bkDrop&&this._hideAnim.push((0,h.hidePopup)(this._bkDrop,ft,pt)),this._hideAnim.push((0,h.hidePopup)(Z,ft,pt)),this._visible=!1,this._oldFocus=null,this._myFocus=null,this.removeEventListener(window,"focus"),this.removeEventListener(Z,"focusin"),this.containsFocus()&&(0,h.getActiveElement)().blur(),this._clearTimeouts(),!this.isVisible&&W&&W.offsetHeight&&W.focus()}}},H.prototype.onShowing=function(g){return this.showing.raise(this,g),!g.cancel},H.prototype.onShown=function(g){this.shown.raise(this,g)},H.prototype.onHiding=function(g){return this.hiding.raise(this,g),!g.cancel},H.prototype.onHidden=function(g){this._wasVisible=!1,this.hidden.raise(this,g)},H.prototype.onResizing=function(g){return this.resizing.raise(this,g),!g.cancel},H.prototype.onResized=function(g){this.resized.raise(this,g)},H.prototype.onDragging=function(g){return this.dragging.raise(this,g),!g.cancel},H.prototype.onDragged=function(g){this.dragged.raise(this,g)},H.prototype.onSizeChanging=function(g){return this.sizeChanging.raise(this,g),!g.cancel},H.prototype.onSizeChanged=function(g){this.sizeChanged.raise(this,g)},H.prototype.onPositionChanging=function(g){return this.positionChanging.raise(this,g),!g.cancel},H.prototype.onPositionChanged=function(g){this.positionChanged.raise(this,g)},H.prototype.onLostFocus=function(g){if(Le.prototype.onLostFocus.call(this,g),this._hideTrigger&xe.BlurPopup&&!this.containsFocus()){var F=document.createEvent("Event");F.initEvent("blur",!0,!0),this._toggle(F,xe.BlurPopup)}},H.prototype.dispose=function(){this.owner=null,Le.prototype.dispose.call(this)},H.prototype.refresh=function(g){void 0===g&&(g=!0);var F=this.hostElement;if(Le.prototype.refresh.call(this,g),this.isVisible&&!this._refreshing&&F){this._refreshing=!0;for(var b=(0,h.getActiveElement)(),Z=this._owner?this._owner.getBoundingClientRect():null,W=[],X=F.querySelectorAll(".wj-dropdown"),de=0;de<X.length;de++){var me=h.Control.getControl(X[de]);me instanceof Ce&&me.isDroppedDown&&(W.push(me),me.dropDown.style.display="none")}(0,h.showPopup)(F,Z,this._position),W.forEach(function(ft){ft.dropDown.style.display="",ft._updateDropDown()}),this._modal&&b instanceof HTMLElement&&b!=(0,h.getActiveElement)()&&b.focus(),this._refreshing=!1}},H.prototype._clearTimeouts=function(){this._toShow&&(clearTimeout(this._toShow),this._toShow=null),this._toHideLeave&&(clearTimeout(this._toHideLeave),this._toHideLeave=null),this._toHideBlur&&(clearTimeout(this._toHideBlur),this._toHideBlur=null)},H.prototype._handleDragResize=function(g){var F=this.hostElement,b=this._draggable?this._getHeaderElement():null,Z=this.addEventListener.bind(this),W=this.removeEventListener.bind(this),X=this._mousemoveBnd,de=this._mousedownBnd;g?(Z(F,"mousemove",X),Z(F,"mousedown",de),Z(F,"touchstart",de),b&&(b.style.touchAction="none")):(this._mousedownEvt=null,this._rcBounds=null,W(F,"mousemove",X),W(F,"mousedown",de),W(F,"touchstart",de),W(document,"mousemove",this._mousedragBnd),W(document,"mouseup",this._mouseupBnd),b&&(b.style.touchAction=""))},H.prototype._mousemove=function(g){if(!this._mousedownEvt){var F=this.hostElement,b=this._getEdges(F,g),Z="",W=oe;this._edges=b,this._resizable&&(b==W.LeftTop||b==W.RightBottom?Z="nwse-resize":b==W.LeftBottom||b==W.RightTop?Z="nesw-resize":b==W.Left||b==W.Right?Z="ew-resize":b!=W.Top&&b!=W.Bottom||(Z="ns-resize")),this._draggable&&!Z&&this._getClosestHeader(g.target)&&(Z="move"),F.style.cursor=Z}},H.prototype._mousedown=function(g){if(!g.defaultPrevented){var F=g.touches&&g.touches.length>0?g.touches[0]:g;if(this._edges=this._getEdges(this.hostElement,F),this._edges||this._draggable&&this._getClosestHeader(g.target)){var b=new h.CancelEventArgs;if(this._edges?this.onResizing(b):this.onDragging(b)){this._mousedownEvt=F,this._rcBounds=this.hostElement.getBoundingClientRect();var Z=this.addEventListener.bind(this),W=document,X=this._mousedragBnd,de=this._mouseupBnd;Z(W,"mousemove",X),Z(W,"touchmove",X),Z(W,"mouseup",de),Z(W,"touchend",de)}}this._ignoreClick=!1}},H.prototype._mouseup=function(){this._mousedownEvt=null,this._rcBounds=null;var g=this.removeEventListener.bind(this),F=document,b=this._mousedragBnd,Z=this._mouseupBnd;g(F,"mousemove",b),g(F,"touchmove",b),g(F,"mouseup",Z),g(F,"touchend",Z),this._resized?this.onResized():this._dragged&&this.onDragged(),this._resized=this._dragged=this._ignoreClick=!1},H.prototype._mousedrag=function(g){if(!g.defaultPrevented){var F=this.hostElement,b=this._mousedownEvt,Z=g.touches&&g.touches.length>0?g.touches[0]:g,W=Z.clientX-b.clientX,X=Z.clientY-b.clientY,de=this._rcBounds,me=this._edges,ft=H._SZ_MIN,pt=h.Rect.fromBoundingRect(de);if(me){if(me&oe.Left?(pt.left=de.left+W+(Z.pageX-Z.clientX),pt.width=Math.max(de.width-W,ft)):me&oe.Right&&(pt.left=de.left,pt.width=Math.max(de.width+W,ft)),me&oe.Top?(pt.top=de.top+X+(Z.pageY-Z.clientY),pt.height=Math.max(de.height-X,ft)):me&oe.Bottom&&(pt.top=de.top,pt.height=Math.max(de.height+X,ft)),this.onSizeChanging(new ke(pt))&&((0,h.setCss)(F,{left:pt.left,top:pt.top,width:pt.width,height:pt.height}),this._resized=this._dragged=this._ignoreClick=!0,this.onSizeChanged()),!window.ResizeObserver)for(var Et=this.hostElement.children,jt=0;jt<Et.length;jt++)h.Control.invalidateAll(Et[jt])}else this._draggable&&(this._dragged||Math.abs(W)+Math.abs(X)>H._DRAG_THRESHOLD)&&(pt.left=Math.max(de.left+W+(Z.pageX-Z.clientX),50-de.width),pt.top=Math.max(de.top+X+(Z.pageY-Z.clientY),0),this.onPositionChanging(new ke(pt))&&((0,h.setCss)(F,{left:pt.left,top:pt.top}),this._dragged=this._ignoreClick=!0,this.onPositionChanged()))}},H.prototype._getEdges=function(g,F){var b=0;if(this._resizable){var Z=g.getBoundingClientRect(),W=H._SZ_EDGE;F.clientX-Z.left<W&&(b|=oe.Left),F.clientY-Z.top<W&&(b|=oe.Top),Z.right-F.clientX<W&&(b|=oe.Right),Z.bottom-F.clientY<W&&(b|=oe.Bottom)}return b},H.prototype._ownerClick=function(g){this._toggle(g,xe.ClickOwner)},H.prototype._ownerDown=function(g){this._wasVisible=this.isVisible,this._toggle(g,xe.DownOwner)},H.prototype._ownerBlur=function(g){(0,h.contains)(this._owner,(0,h.getActiveElement)())||this._toggle(g,xe.BlurOwner)},H.prototype._ownerEnter=function(g){g.target==this._owner&&this._toggle(g,xe.EnterOwner)},H.prototype._ownerLeave=function(g){g.target==this._owner&&this._toggle(g,xe.LeaveOwner)},H.prototype._toggle=function(g,F){var b=this;if(g instanceof MouseEvent&&(H._evtHover=g),!("mouseenter"==g.type&&Date.now()-this._lastShow<300||g.defaultPrevented)){var Z=0!=(this._hideTrigger&F),W=0!=(this._showTrigger&F),X=xe;(Z||W)&&this._clearTimeouts(),Z&&this.isVisible&&(F&X.Leave?this._toHideLeave=setTimeout(function(){var de=H._evtHover,me=de?document.elementFromPoint(de.clientX,de.clientY):null;me&&(0,h.contains)(b.hostElement,me,!0)||b.hide()},h.Control._LEAVE_DELAY):F&X.Blur?this._toHideBlur=setTimeout(function(){b.containsFocus()||(0,h.contains)(b._owner,(0,h.getActiveElement)())||b.hide()},h.Control._FOCUS_INTERVAL+50):this.hide()),W&&F!=X.ClickPopup&&(this._wasVisible||(F&X.Enter?this._toShow=setTimeout(function(){b.show()},h.Control._HOVER_DELAY):this.show()))}},H.prototype._getHeaderElement=function(){var g=this.hostElement;return g.querySelector(".wj-dialog-header")||g.querySelector(".modal-header")},H.prototype._getClosestHeader=function(g){return(0,h.closest)(g,".wj-dialog-header")||(0,h.closest)(g,".modal-header")},H.prototype._showBackdrop=function(){var g=this;this._bkDrop||(this._bkDrop=document.createElement("div"),this._bkDrop.tabIndex=-1,(0,h.addClass)(this._bkDrop,"wj-popup-backdrop"),this.addEventListener(this._bkDrop,"mousedown",function(b){b.preventDefault(),b.stopPropagation(),g.hostElement.focus(),g.hideTrigger&xe.Blur&&g.hide()})),(0,h.setCss)(this._bkDrop,{zIndex:h.Control._POPUP_ZINDEX,display:""});var F=this.hostElement;F.parentElement.insertBefore(this._bkDrop,F)},H.prototype._validateAndHide=function(g){var F=this.hostElement;if(F instanceof HTMLFormElement)F.reportValidity()&&this.hide(g);else{var b=this.hostElement.querySelector(":invalid");b?b.focus():this.hide(g)}},H._DRAG_THRESHOLD=6,H._SZ_EDGE=10,H._SZ_MIN=40,H}(h.Control),ke=function(Le){function H(g){var F=Le.call(this)||this;return F._rc=g,F}return V(H,Le),Object.defineProperty(H.prototype,"bounds",{get:function(){return this._rc},enumerable:!0,configurable:!0}),H}(h.CancelEventArgs),Ze=function(Le){function H(g,F){var b=Le.call(this,g)||this;b._fmt="d",b._sep=" - ",b._rngs=null,b._showCal=!1,b._clsOnSel=!0,b._handleWheel=!0,b._clicked=!1,b._rangeChanged=!1,b._textInitialized=!1,b.valueChanged=new h.Event,b.rangeEndChanged=new h.Event,b.rangeChanged=new h.Event,(0,h.addClass)(b.hostElement,"wj-inputdate"),b._msk=new h._MaskProvider(b._tbx),(0,h.isIE9)()||(b.inputType="tel"),b._tbx.type.match(/^(tel|text|)$/i)||(b.inputType="text"),b.addEventListener(b.hostElement,"wheel",function(me){if(b.handleWheel&&!me.defaultPrevented&&!b.isDroppedDown&&b.containsFocus()&&null!=b.value&&b._canChangeValue()){var ft=(0,h.clamp)(-me.deltaY,-1,1),pt=b.value;b.value=b.selectionMode==y.Month?h.DateTime.addMonths(pt,ft):h.DateTime.addDays(pt,ft),b.selectAll(),me.preventDefault()}});var Z=b._lbx=new re(document.createElement("div"),{displayMemberPath:"name",selectedIndexChanged:function(me){var ft=me.selectedItem,pt=h.DateTime.fromDateTime;if(ft&&ft.from&&ft.to){var Et=b.value;b.value=pt(ft.from,Et),b.rangeEnd=pt(ft.to,Et),b._selectAll()}else b._cal.hostElement.style.display=""}}),W=b._cal=new $(document.createElement("div")),X=b._dropDown;if((0,h.addClass)(X,"wj-inputdate-dropdown"),X.appendChild(Z.hostElement),X.appendChild(W.hostElement),b.addEventListener(X,"click",function(){b._clicked=!0,setTimeout(function(){b._clicked=!1},50)},!0),"INPUT"==b._orgTag){var de=b._tbx.getAttribute("value");de&&(W.value=W.rangeEnd=h.Globalize.parseDate(de,"yyyy-MM-dd"))}return b.isRequired=!0,b._tbx.value=b._oldText=b._getText(),b.initialize(F),b._textInitialized&&b._tbx.value!==b._oldText&&(b._oldText=b._tbx.value,b._commitText()),b._updateState(),W.valueChanged.addHandler(function(me,ft){b._refreshText(),b.onValueChanged(ft),b._closeOnChange()}),W.rangeEndChanged.addHandler(function(me,ft){W._rngMode()&&(b.onRangeEndChanged(ft),b._closeOnChange(),W._clearingRangeEnd||b._refreshText())}),W.hostElement.addEventListener("click",function(me){if(W.selectionMode&&!W._rngMode()){var ft=me.target,pt=W.hitTest(ft);(h.DateTime.sameDate(b.value,pt)||(0,h.closest)(ft,"[wj-part=btn-today]"))&&(b._closeOnChange(),b._refreshText())}}),b}return V(H,Le),Object.defineProperty(H.prototype,"value",{get:function(){return this._cal.value},set:function(g){this._cal.value=g,this._refreshText()},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"rangeEnd",{get:function(){return this._cal.rangeEnd},set:function(g){this._cal.rangeEnd=g},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"rangeMin",{get:function(){return this._cal.rangeMin},set:function(g){this._cal.rangeMin=g},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"rangeMax",{get:function(){return this._cal.rangeMax},set:function(g){this._cal.rangeMax=g},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"text",{get:function(){return this._tbx.value},set:function(g){var F=(g||"").toString();F!=this.text&&(F!=this._tbx.value&&(this._tbx.value=F),F!=this._oldText&&(this._oldText=F),this._commitText(),this.onTextChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"format",{get:function(){return this._fmt},set:function(g){g!=this.format&&(this._fmt=(0,h.asString)(g),this._refreshText())},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"separator",{get:function(){return this._sep},set:function(g){g!=this._sep&&(this._sep=(0,h.asString)(g,!1),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"mask",{get:function(){return this._msk.mask},set:function(g){this._msk.mask=(0,h.asString)(g)},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"closeOnSelection",{get:function(){return this._clsOnSel},set:function(g){this._clsOnSel=(0,h.asBoolean)(g)},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"handleWheel",{get:function(){return this._handleWheel},set:function(g){g=(0,h.asBoolean)(g),this._handleWheel=g,g||(this.calendar.handleWheel=g)},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"predefinedRanges",{get:function(){return this._rngs},set:function(g){this._rngs!=g&&((0,h.assert)(null==g||(0,h.isObject)(g),"Object expected"),this._rngs=g,this._lbx.itemsSource=this._getRanges(g),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"alwaysShowCalendar",{get:function(){return this._showCal},set:function(g){this._showCal=(0,h.asBoolean)(g)},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"min",{get:function(){return this._cal.min},set:function(g){this._cal.min=(0,h.asDate)(g,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"max",{get:function(){return this._cal.max},set:function(g){this._cal.max=(0,h.asDate)(g,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"repeatButtons",{get:function(){return this._cal.repeatButtons},set:function(g){this._cal.repeatButtons=(0,h.asBoolean)(g)},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"showYearPicker",{get:function(){return this._cal.showYearPicker},set:function(g){this._cal.showYearPicker=(0,h.asBoolean)(g)},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"showMonthPicker",{get:function(){return this._cal.showMonthPicker},set:function(g){this._cal.showMonthPicker=g},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"showHeader",{get:function(){return this._cal.showHeader},set:function(g){this._cal.showHeader=g},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"weeksBefore",{get:function(){return this._cal.weeksBefore},set:function(g){this._cal.weeksBefore=g},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"weeksAfter",{get:function(){return this._cal.weeksAfter},set:function(g){this._cal.weeksAfter=g},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"selectionMode",{get:function(){return this._cal.selectionMode},set:function(g){g!=this.selectionMode&&(this._cal.selectionMode=g,this._refreshText(),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"monthCount",{get:function(){return this._cal.monthCount},set:function(g){this._cal.monthCount=g},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"calendar",{get:function(){return this._cal},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"inputType",{get:function(){return this._tbx.type},set:function(g){this._tbx.type=(0,h.asString)(g)},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"itemValidator",{get:function(){return this._cal.itemValidator},set:function(g){g!=this.itemValidator&&(this._cal.itemValidator=(0,h.asFunction)(g),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"itemFormatter",{get:function(){return this._cal.itemFormatter},set:function(g){this._cal.itemFormatter=(0,h.asFunction)(g)},enumerable:!0,configurable:!0}),H.prototype.onValueChanged=function(g){this.valueChanged.raise(this,g)},H.prototype.onRangeEndChanged=function(g){this.rangeEndChanged.raise(this,g),this.rangeEnd&&(this.isDroppedDown?this._rangeChanged=!0:this.onRangeChanged(g))},H.prototype.onRangeChanged=function(g){this._rangeChanged=!1,this.rangeChanged.raise(this,g)},H.prototype.refresh=function(g){void 0===g&&(g=!0),Le.prototype.refresh.call(this,g),this.hostElement&&(this._msk&&this._msk.refresh(),this._cal&&this._cal.refresh(),this._refreshText())},H.prototype.onIsDroppedDownChanging=function(g){if(this.isDroppedDown)(b=this._cal)._rngMode()&&b.value&&!b.rangeEnd&&(b.rangeEnd=b.value);else{var F=this._lbx,b=this._cal,Z=F.collectionView,W=F.hostElement.style,X=b.hostElement.style;if(b._rngMode()&&(0,h.hasItems)(Z)){var de=this._updateRangeSelection();W.display="",X.display=!this._showCal&&de&&de.from&&Z.items.some(function(me){return!me.to})?"none":""}else W.display="none",X.display="";b._mthMode()||(b.monthView=!0)}return Le.prototype.onIsDroppedDownChanging.call(this,g)},H.prototype.onIsDroppedDownChanged=function(g){Le.prototype.onIsDroppedDownChanged.call(this,g);var F=this.containsFocus();this.isDroppedDown?(F&&(this._tryFocus(this._cal)||this._tryFocus(this._lbx)||this.dropDown.focus()),this._lbx.showSelection(),this._cal.refresh()):(this._commitText(),this._rangeChanged&&this.onRangeChanged())},H.prototype._updateDropDown=function(){this._commitText();var g=getComputedStyle(this.hostElement);this._dropDown.style.minWidth=18*parseFloat(g.fontSize)+"px",this._cal.refresh(),Le.prototype._updateDropDown.call(this)},H.prototype._keydown=function(g){if(!(g.defaultPrevented||g.altKey||g.ctrlKey||g.metaKey)){if(this._isHiddenEditor())return;switch(g.keyCode){case h.Key.Enter:this.isDroppedDown?this._refreshText():this._commitText();break;case h.Key.Escape:this.text=this._getText(),this.selectAll();break;case h.Key.Tab:if(this._cal._rngMode()){var F=this._tbx,b=this._sep,Z=F.value,W=Z.indexOf(b);if(W>-1){var X=Z.length,de=F.selectionStart,me=F.selectionEnd,ft=null;F.selectionEnd<=W&&!g.shiftKey?ft=0==de&&0==me:g.shiftKey&&F.selectionStart>=W+b.length&&(ft=de<X||me<X),null!=ft&&(ft?(0,h.setSelectionRange)(F,0,W):(0,h.setSelectionRange)(F,W+b.length,X),g.preventDefault())}}break;case h.Key.Up:case h.Key.Down:if(!this.isDroppedDown&&this.value&&this._canChangeValue()){var pt=g.keyCode==h.Key.Up?1:-1,Et=this.selectionMode==y.Month?h.DateTime.addMonths(this.value,pt):h.DateTime.addDays(this.value,pt);this.value=this._fromDateTime(Et),this.selectAll(),g.preventDefault()}}}Le.prototype._keydown.call(this,g)},H.prototype._expandSelection=function(){if(this._cal._rngMode()){var g=this._tbx,b=g.selectionStart,Z=g.selectionEnd,W=this._sep,X=g.value.indexOf(W);X>-1&&b==Z&&(Z<=X?(0,h.setSelectionRange)(g,0,X):b>=X+W.length&&(0,h.setSelectionRange)(g,X+W.length,g.value.length))}else Le.prototype._expandSelection.call(this)},H.prototype._refreshText=function(){var g=this._getText();g!=this.text&&(this._tbx.value=this._oldText=g,this.onTextChanged())},H.prototype._selectAll=function(){this.isDroppedDown||!this.containsFocus()||this.isTouching||this.selectAll()},H.prototype._closeOnChange=function(){var g=this;if(this._clsOnSel&&this._clicked){var F=this._cal;(!F._rngMode()||F.value&&F.rangeEnd)&&setTimeout(function(){g.isDroppedDown=!1})}},H.prototype._tryFocus=function(g){var F=g.hostElement;return!(!F||!F.offsetHeight||(F.focus(),0))},H.prototype._clamp=function(g){return this._cal._clamp(g)},H.prototype._getText=function(){var g=h.Globalize.format,F=this._fmt,b=g(this.value,F);return this._cal._rngMode()&&b&&(b+=this._sep+g(this.rangeEnd,F)),b},H.prototype._commitText=function(g){var F=this._tbx.value;if(F!=this._getText()){var b=!1,Z=this._fmt,W=this._cal,X=h.Globalize.parseDate;if(F||this.isRequired)if(W._rngMode()){var de=F.split(this._sep);if(2==de.length&&de[0]&&(ft=X(de[0],Z,this.value))){var me=X(de[1],Z,this.value);W.value=this._fromDateTime(ft),W.rangeEnd=me&&me>=ft?this._fromDateTime(me):ft,b=!0}}else{var ft;(ft=X(F,Z,this.value))&&(this.value=this._fromDateTime(ft),b=!0)}else this.value=this.rangeEnd=null,b=!0;(b||!this._containsFocus()&&this.onInvalidInput(new h.CancelEventArgs))&&(this.text=this._getText())}g||this._selectAll()},H.prototype._fromDateTime=function(g){return h.DateTime.fromDateTime(g,this.value)},H.prototype._canChangeValue=function(){return!this.isReadOnly&&!this.isDisabled&&this.selectionMode!=y.None},H.prototype._isValidDate=function(g){return!(g&&(this._clamp(g)!=g||this.itemValidator&&!this.itemValidator(g)))},H.prototype._getRanges=function(g){var F=[];if((0,h.isObject)(g))for(var b in g){var Z=g[b];F.push({name:b,from:Z?Z[0]:null,to:Z?Z[1]:null})}return new h.CollectionView(F,{currentItem:null})},H.prototype._updateRangeSelection=function(){var g=this._lbx,F=-1;if((0,h.hasItems)(g.collectionView))for(var b=this._lbx.collectionView.items,Z=h.DateTime.sameDate,W=0;W<b.length;W++){var X=b[W];if(X.from){if(Z(X.from,this.value)&&Z(X.to,this.rangeEnd)){F=W;break}}else F=W}return g.selectedIndex=F,g.selectedItem},H.prototype._copy=function(g,F){if("text"===g){var b=(F||"").toString();return b!==this.text&&(this._tbx.value=b,this._textInitialized=!0),!0}return!1},H}(Ce),Ke=function(Le){function H(g,F){var b=Le.call(this,g,{selectionMode:y.Range,showMonthPicker:"Outside",monthCount:2})||this;return(0,h.addClass)(b.hostElement,"wj-inputdaterange"),b._tbx.value=b._oldText=b._getText(),b.initialize(F),b._tbx.value!==b._oldText&&(b._oldText=b._tbx.value,b._commitText()),b}return V(H,Le),Object.defineProperty(H.prototype,"selectionMode",{get:function(){return this.calendar.selectionMode},set:function(g){g=(0,h.asEnum)(g,y),(0,h.assert)(g==y.Range,'InputDateRange.selectionMode must be "Range"'),this.calendar.selectionMode=g},enumerable:!0,configurable:!0}),H}(Ze),De=function(Le){function H(g,F){var b=Le.call(this,g)||this;return b.valueChanged=new h.Event,(0,h.addClass)(b.hostElement,"wj-inputcolor"),b._ePreview=(0,h.createElement)('<div class="wj-inputcolorbox"></div>',b.hostElement.firstElementChild),"INPUT"==b._orgTag&&(b._tbx.type="",b._commitText()),b.value="#ffffff",b.isRequired=!0,b.initialize(F),b._commitText(),b.addEventListener(b._colorPicker.hostElement,"click",function(Z){var W=Z.target;W&&"DIV"==W.tagName&&((0,h.closest)(W,'[wj-part="div-pal"]')||(0,h.closest)(W,'[wj-part="div-pv"]'))&&W.style.backgroundColor&&(b.isDroppedDown=!1)}),b}return V(H,Le),Object.defineProperty(H.prototype,"value",{get:function(){return this._value},set:function(g){this.text=g},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"text",{get:function(){return this._tbx.value},set:function(g){(g=(0,h.asString)(g))!=this.text&&(g||!this.isRequired)&&(!g||h.Color.fromString(g))&&(this._setText(g,!0),this._commitText())},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"showAlphaChannel",{get:function(){return this._colorPicker.showAlphaChannel},set:function(g){this._colorPicker.showAlphaChannel=g},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"showColorString",{get:function(){return this._colorPicker.showColorString},set:function(g){this._colorPicker.showColorString=g},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"palette",{get:function(){return this._colorPicker.palette},set:function(g){this._colorPicker.palette=g},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"colorPicker",{get:function(){return this._colorPicker},enumerable:!0,configurable:!0}),H.prototype.onValueChanged=function(g){this.valueChanged.raise(this,g)},H.prototype.onIsDroppedDownChanged=function(g){Le.prototype.onIsDroppedDownChanged.call(this,g),this.isDroppedDown&&!this.isTouching&&this.selectAll()},H.prototype._createDropDown=function(){var g=this;this._colorPicker=new ue(this._dropDown),(0,h.setCss)(this._dropDown,{minWidth:420,minHeight:200}),this._colorPicker.valueChanged.addHandler(function(){g.value=g._colorPicker.value})},H.prototype._keydown=function(g){if(!g.defaultPrevented)switch(g.keyCode){case h.Key.Enter:this._commitText(),this.selectAll();break;case h.Key.Escape:this.text=this.value,this.selectAll()}Le.prototype._keydown.call(this,g)},H.prototype._commitText=function(){if(this._value!=this.text){if(!this.isRequired&&!this.text)return this._value=this.text,this._ePreview.style.backgroundColor="",void this.onValueChanged();if(h.Color.fromString(this.text)){var g=this._colorPicker;g.value=this.text,this._value=g.value,this._ePreview.style.backgroundColor=this.value,this.onValueChanged()}else this.onInvalidInput(new h.CancelEventArgs)&&(this.text=this._value?this._value:"")}},H.prototype._copy=function(g,F){if("text"===g){var b=(F||"").toString();return b!==this.text&&(this._tbx.value=b),!0}return!1},H}(Ce),et=function(Le){function H(g,F){var b=Le.call(this,g)||this;b._editable=!1,b._trimText=!0,b._handleWheel=!0,b._delKey=0,b._pathHdr=new h.Binding(null),b._bsCollapse=!0,b._fmtItemHandlers=0,b.itemsSourceChanged=new h.Event,b.selectedIndexChanged=new h.Event;var Z=b.hostElement;(0,h.addClass)(Z,"wj-combobox"),b.dropDown.id=(0,h.getUniqueId)(Z.id+"_dropdown"),b.autoExpandSelection=!1;var W=b._tbx;b.addEventListener(W,"compositionstart",function(){b._composing=!0}),b.addEventListener(W,"compositionend",function(){b._composing=!1,b._setText(b.text,!0)}),b.addEventListener(Z,"wheel",b._wheel.bind(b)),"SELECT"==b._orgTag&&b._lbx._initFromSelect(Z);var X=b._lbx;return X.loadedItems.addHandler(function(de){b.selectedIndex>-1&&(b.selectedIndex=X.selectedIndex)}),b.isRequired=!0,b.initialize(F),b}return V(H,Le),Object.defineProperty(H.prototype,"itemsSource",{get:function(){return this._lbx.itemsSource},set:function(g){this._lbx.itemsSource!=g&&(this._lbx.itemsSource=g,this.onItemsSourceChanged()),this._updateBtn()},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"collectionView",{get:function(){return this._lbx.collectionView},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"virtualizationThreshold",{get:function(){return this._lbx.virtualizationThreshold},set:function(g){this._lbx.virtualizationThreshold=g},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"showGroups",{get:function(){return this._lbx.showGroups},set:function(g){this._lbx.showGroups=g},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"displayMemberPath",{get:function(){return this._lbx.displayMemberPath},set:function(g){this._lbx.displayMemberPath=g;var F=this.getDisplayText();this.text!=F&&this._setText(F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"headerPath",{get:function(){return this._pathHdr.path},set:function(g){this._pathHdr.path=(0,h.asString)(g);var F=this.getDisplayText();this.text!=F&&this._setText(F,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"selectedValuePath",{get:function(){return this._lbx.selectedValuePath},set:function(g){this._lbx.selectedValuePath=g},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"isContentHtml",{get:function(){return this._lbx.isContentHtml},set:function(g){if(g!=this.isContentHtml){this._lbx.isContentHtml=(0,h.asBoolean)(g);var F=this.getDisplayText();this.text!=F&&this._setText(F,!0)}},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"caseSensitiveSearch",{get:function(){return this._lbx.caseSensitiveSearch},set:function(g){this._lbx.caseSensitiveSearch=(0,h.asBoolean)(g)},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"trimText",{get:function(){return this._trimText},set:function(g){g!=this._trimText&&(this._trimText=(0,h.asBoolean)(g),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"itemFormatter",{get:function(){return this._lbx.itemFormatter},set:function(g){this._lbx.itemFormatter=(0,h.asFunction)(g),this.selectedIndex=this._lbx.selectedIndex},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"formatItem",{get:function(){return this._lbx.formatItem},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"selectedIndex",{get:function(){return this._lbx.selectedIndex},set:function(g){g!=this.selectedIndex&&(0,h.isNumber)(g)&&(this._lbx.selectedIndex=g);var F=this.getDisplayText(g=this.selectedIndex);if(this.text!=F){var b=this._internalSettingText;this._internalSettingText=this._lbx._ignoredItemChangedEvents,this._setText(F,!0),this._internalSettingText=b}},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"selectedItem",{get:function(){return this._lbx.selectedItem},set:function(g){this._lbx.selectedItem=g},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"selectedValue",{get:function(){return this.collectionView?this._lbx.selectedValue:this.text},set:function(g){this.collectionView?this._lbx.selectedValue=g:null!=g&&(this.text=g.toString())},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"isEditable",{get:function(){return this._editable},set:function(g){this._editable=(0,h.asBoolean)(g)},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"handleWheel",{get:function(){return this._handleWheel},set:function(g){this._handleWheel=(0,h.asBoolean)(g)},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"maxDropDownHeight",{get:function(){return this._lbx.maxHeight},set:function(g){this._lbx.maxHeight=g},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"maxDropDownWidth",{get:function(){var g=this._dropDown,F=g?parseInt(g.style.maxWidth):null;return isNaN(F)?null:F},set:function(g){var F=this._dropDown.style;g=(0,h.asNumber)(g,!0),F.maxWidth=null==g?"":g+"px",F.minWidth=""},enumerable:!0,configurable:!0}),H.prototype.getDisplayText=function(g,F){void 0===g&&(g=this.selectedIndex),void 0===F&&(F=this._trimText);var b,Z=this.collectionView;if(this.headerPath&&g>-1&&(0,h.hasItems)(Z)){var W=Z.items[g];b=null!=(b=W?this._pathHdr.getValue(W):null)?b.toString():"",this.isContentHtml&&(b=(0,h.toPlainText)(b))}else b=this._lbx.getDisplayText(g);return F?b.trim():b},H.prototype.indexOf=function(g,F){var b=this.collectionView,Z=this.caseSensitiveSearch;if((0,h.hasItems)(b)&&null!=g){g=g.toString(),Z||(g=g.toLowerCase()),this._trimText&&(g=g.trim());var W=this.selectedIndex,X=this.getDisplayText(W);if(F){if(Z||(X=X.toLowerCase()),g==X)return W}else if(!g&&""==X)return W;for(var de=0;de<b.items.length;de++)if(this._lbx.isItemEnabled(de))if(X=this.getDisplayText(de),Z||(X=X.toLowerCase()),F){if(X==g)return de}else if(g&&0==X.indexOf(g)||!g&&""==X)return de}return-1},Object.defineProperty(H.prototype,"listBox",{get:function(){return this._lbx},enumerable:!0,configurable:!0}),H.prototype.onItemsSourceChanged=function(g){this.itemsSourceChanged.raise(this,g)},H.prototype.onSelectedIndexChanged=function(g){this._updateBtn(),this.selectedIndexChanged.raise(this,g)},H.prototype.refresh=function(g){void 0===g&&(g=!0),Le.prototype.refresh.call(this,g),this.hostElement&&(0,h.hasItems)(this.collectionView)&&(this._lbx.refresh(),this.selectedIndex>-1&&(this.selectedIndex=this._lbx.selectedIndex))},H.prototype.onLostFocus=function(g){this._composing&&(this._composing=!1,this._setText(this.text,!0)),this.isEditable&&this.isRequired&&!this.text&&(0,h.hasItems)(this.collectionView)&&(this.selectedIndex=0),Le.prototype.onLostFocus.call(this,g)},H.prototype.onIsDroppedDownChanging=function(g){return this.isDroppedDown||this._hasItems()?Le.prototype.onIsDroppedDownChanging.call(this,g):(g.cancel=!0,!1)},H.prototype.onIsDroppedDownChanged=function(g){Le.prototype.onIsDroppedDownChanged.call(this,g),this.isDroppedDown&&(this._fmtItemHandlers=this.formatItem.handlerCount,this._lbx.showSelection()),this._updateAria()},H.prototype._setIsDisabled=function(g){Le.prototype._setIsDisabled.call(this,g),this._updateBtn()},H.prototype._updateBtn=function(){var g=this.collectionView,F=this._tbx,b=this._hasItems();Le.prototype._updateBtn.call(this),this._btn.style.display=this._showBtn&&null!=g?"":"none",(0,h.enable)(this._btn,b&&!this.isDisabled),(0,h.setAttribute)(F,"role",b?"combobox":null),(0,h.setAttribute)(F,"aria-autocomplete",b?"both":null),this._updateAria()},H.prototype._hasItems=function(){return(0,h.hasItems)(this.collectionView)},H.prototype._updateAria=function(){var g=this._tbx,F=this.isDroppedDown,b=this.dropDown?this.dropDown.id:null,Z=b&&(0,h.hasItems)(this.collectionView);(0,h.setAttribute)(g,"aria-owns",Z&&F?b:null),(0,h.setAttribute)(g,"aria-expanded",Z?F:null)},H.prototype._createDropDown=function(){var g=this;this._lbx||(this._lbx=new re(this._dropDown),this._lbx._container=this.hostElement),this._lbx.maxHeight=200,this._lbx.selectedIndexChanged.addHandler(function(){g._updateBtn();var F=g._lbx.selectedIndex,b=g._lbx.hostElement.children,Z=F>-1&&F<b.length?b[F].id:null;(0,h.setAttribute)(g._tbx,"aria-activedescendant",Z&&Z.length?Z:null),g.selectedIndex=F,g.onSelectedIndexChanged()}),this._lbx.itemsChanged.addHandler(function(){g._updateBtn()})},H.prototype._wheel=function(g){if(this.handleWheel&&!g.defaultPrevented&&!this.isDroppedDown&&!this.isReadOnly&&this.containsFocus()&&this.selectedIndex>-1){var F=this._findNext("",g.deltaY>0?1:-1);F>-1&&(this.selectedIndex=F),g.preventDefault()}},H.prototype._dropDownClick=function(g){g.defaultPrevented||g.target!=this._dropDown&&(this.isDroppedDown=!1),Le.prototype._dropDownClick.call(this,g)},H.prototype._setText=function(g,F){if(!this._composing&&!this._settingText){if(this._settingText=!0,this.containsFocus()){var b=this.formatItem.handlerCount;this._fmtItemHandlers!=b&&(this._fmtItemHandlers=b,this._lbx.loadList())}null==g&&(g=""),g=g.toString();var Z=this.selectedIndex,W=this.collectionView,X=this._getSelStart(),de=-1,me=!0;if(this.isEditable&&(this._delKey||this._getSelEnd()<g.length||!this.containsFocus())&&(F=!0,me=!1),Z=this.indexOf(g,F),me&&(Z<0&&F&&(Z=this.indexOf(g,!1)),Z<0&&X>0&&(Z=this.indexOf(g.substr(0,X),!1))),Z<0&&!this.isEditable&&(0,h.hasItems)(W)&&(this.isRequired||g)){var ft=this._oldText||"";Z=Math.max(0,this.indexOf(ft,!1)),X=0;for(var pt=0;pt<g.length&&pt<ft.length;pt++)if(g[pt]!=ft[pt]){X=pt;break}}Z>-1&&(de=X,g=this.getDisplayText(Z));var Et=this._tbx;g!=Et.value&&(Et.value=g),de>-1&&this.containsFocus()&&!this.isTouching&&this._updateInputSelection(de),W&&W.moveCurrentToPosition(Z),this._delKey=0,this._settingText=!1,Le.prototype._setText.call(this,g,F)}},H.prototype._findNext=function(g,F,b){void 0===b&&(b=this.selectedIndex);var Z=this.collectionView,W=Z?Z.items.length:0,X=this._lbx,de=this.caseSensitiveSearch;if(Z&&W&&F){de||(g=g.toLowerCase());for(var me=b+F;me>-1&&me<W;me+=F){var ft=this.getDisplayText(me);if(de||(ft=ft.toLowerCase()),0==ft.indexOf(g)&&(!this.dropDown.children[me]||X.isItemEnabled(me)))return me}}return b},H.prototype._keydown=function(g){if(Le.prototype._keydown.call(this,g),!g.defaultPrevented&&!this.isReadOnly&&!g.altKey&&(0,h.hasItems)(this.collectionView)&&this._elRef==this._tbx&&!this._isHiddenEditor()){this._delKey=0;var F=this._getSelStart();switch(g.keyCode){case h.Key.Back:if(this._bsCollapse&&!this.isEditable){var b=this._getSelEnd();F>0&&b==this._tbx.value.length&&(0,h.hasItems)(this.collectionView)&&this._setSelRange(F-1,b)}this._delKey=g.keyCode;break;case h.Key.Delete:this._delKey=g.keyCode;break;case h.Key.Up:case h.Key.Down:F==this.text.length&&(F=0),this.selectedIndex=this._findNext(this.text.substr(0,F),g.keyCode==h.Key.Up?-1:1),this._setSelRange(F,this.text.length),g.preventDefault();break;case h.Key.PageUp:this._lbx._selectPrevPage(),this.selectAll(),g.preventDefault();break;case h.Key.PageDown:this._lbx._selectNextPage(),this.selectAll(),g.preventDefault()}}},H.prototype._updateInputSelection=function(g){var F=this._tbx;this._elRef==F&&this._setSelRange(g,F.value.length)},H.prototype._getSelStart=function(){var g=this._tbx;return g&&g.value?g.selectionStart:0},H.prototype._getSelEnd=function(){var g=this._tbx;return g&&g.value?g.selectionEnd:0},H.prototype._setSelRange=function(g,F){var b=this._tbx;this._elRef!=b||b.readOnly||(0,h.setSelectionRange)(b,g,F)},H}(Ce);(0,h._addCultureInfo)("MultiSelect",{itemsSelected:"{count:n0} items selected",selectAll:"Select All"});var tt=function(Le){function H(g,F){var b=Le.call(this,g)||this;return b._maxHdrItems=2,b._readOnly=!1,b._hdrFmt=null,b.checkedItemsChanged=new h.Event,(0,h.addClass)(b.hostElement,"wj-multiselect"),b._tbx.readOnly=!0,b.checkedMemberPath=null,b.removeEventListener(b.dropDown,"click"),b._lbx.itemsChanged.addHandler(function(){b._updateHeader(!1)}),b._lbx.checkedItemsChanged.addHandler(function(){b._updateHeader(!1),b.onCheckedItemsChanged()}),b.clickAction=Q.Toggle,b.initialize(F),b}return V(H,Le),Object.defineProperty(H.prototype,"showSelectAllCheckbox",{get:function(){return this._msLbx.showSelectAllCheckbox},set:function(g){this._msLbx.showSelectAllCheckbox=(0,h.asBoolean)(g)},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"showFilterInput",{get:function(){return this._msLbx.showFilterInput},set:function(g){this._msLbx.showFilterInput=(0,h.asBoolean)(g)},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"delay",{get:function(){return this._msLbx.delay},set:function(g){this._msLbx.delay=g},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"caseSensitiveSearch",{get:function(){return this._msLbx.caseSensitiveSearch},set:function(g){this._msLbx.caseSensitiveSearch=g},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"filterInputPlaceholder",{get:function(){return this._msLbx.filterInputPlaceholder},set:function(g){this._msLbx.filterInputPlaceholder=(0,h.asString)(g)},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"checkOnFilter",{get:function(){return this._msLbx.checkOnFilter},set:function(g){g!=this.checkOnFilter&&(this._msLbx.checkOnFilter=(0,h.asBoolean)(g),this.checkedItems=[])},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"selectAllLabel",{get:function(){return this._msLbx.selectAllLabel},set:function(g){this._msLbx.selectAllLabel=(0,h.asString)(g)},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"checkedMemberPath",{get:function(){return this._msLbx.checkedMemberPath},set:function(g){this._msLbx.checkedMemberPath=(0,h.asString)(g)},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"maxHeaderItems",{get:function(){return this._maxHdrItems},set:function(g){this._maxHdrItems!=g&&(this._maxHdrItems=(0,h.asNumber)(g),this._updateHeader())},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"headerFormat",{get:function(){return this._hdrFmt},set:function(g){g!=this._hdrFmt&&(this._hdrFmt=(0,h.asString)(g),this._updateHeader())},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"headerFormatter",{get:function(){return this._hdrFormatter},set:function(g){g!=this._hdrFormatter&&(this._hdrFormatter=(0,h.asFunction)(g),this._updateHeader())},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"checkedItems",{get:function(){return this._msLbx.checkedItems},set:function(g){this._msLbx.checkedItems=null==g?[]:(0,h.asArray)(g),this._updateHeader()},enumerable:!0,configurable:!0}),H.prototype.onCheckedItemsChanged=function(g){this.checkedItemsChanged.raise(this,g)},H.prototype.dispose=function(){this._lbx.dispose(),Le.prototype.dispose.call(this)},H.prototype.onIsDroppedDownChanged=function(g){var F=this;Le.prototype.onIsDroppedDownChanged.call(this,g),setTimeout(function(){if(F.isDroppedDown&&F.containsFocus())if(F.showFilterInput&&!F.isTouching)F._msLbx._filter.focus();else{var b=F.listBox;if(b.selectedIndex<0){var Z=0,W=b.checkedItems;W.length&&(Z=b.collectionView.items.indexOf(W[0])),b.selectedIndex=Math.max(0,Z)}b.showSelection(!0),b.focus()}})},H.prototype._createDropDown=function(){var g=(0,h.createElement)("<div></div>",this._dropDown);this._msLbx=new U(g),this._lbx=this._msLbx.listBox,Le.prototype._createDropDown.call(this)},Object.defineProperty(H.prototype,"isReadOnly",{get:function(){return this._readOnly},set:function(g){this._readOnly=(0,h.asBoolean)(g),(0,h.toggleClass)(this.hostElement,"wj-state-readonly",this.isReadOnly)},enumerable:!0,configurable:!0}),H.prototype.refresh=function(g){void 0===g&&(g=!0),Le.prototype.refresh.call(this,g),this.hostElement&&this._updateHeader()},H.prototype._setText=function(g,F){},H.prototype._keydown=function(g){Le.prototype._keydown.call(this,g),(0,h.hasClass)(this._tbx,"wj-grid-ime")||!g.defaultPrevented&&(0,h.hasItems)(this.collectionView)&&g.keyCode>32&&(this.isDroppedDown=!0)},H.prototype._hasItems=function(){var g=this.collectionView,F=g?g.sourceCollection:null;return(0,h.hasItems)(g)||F&&F.length&&this.showFilterInput},H.prototype._updateHeader=function(g){void 0===g&&(g=!0);var F="";if((0,h.isFunction)(this._hdrFormatter))F=this._hdrFormatter(this);else{var b=this.checkedItems;if(b.length>0)if(b.length<=this._maxHdrItems){if(this.headerPath){var Z=new h.Binding(this.headerPath);b=b.map(function(de){return Z.getValue(de)})}else if(this.displayMemberPath){var W=new h.Binding(this.displayMemberPath);b=b.map(function(de){return W.getValue(de)})}this.isContentHtml&&(b=b.map(function(de){return(0,h.toPlainText)(de)})),this.trimText&&(b=b.map(function(de){return de?de.toString().trim():""})),F=b.join(", ")}else F=(0,h.format)(this.headerFormat||h.culture.MultiSelect.itemsSelected,{count:b.length})}var X=this.inputElement;F!=X.value&&(X.value=F,this.onTextChanged()),g&&this._lbx._updateCheckedList(this.checkedItems),this._updateState()},H._DEF_CHECKED_PATH="$checked",H}(et),u=function(Le){function H(g,F){var b=Le.call(this,g)||this;b._closing=!1,b._cmd=null,b._cmdPath=null,b._cmdParamPath=null,b._subPath=null,b._owner=null,b._isButton=!1,b._openOnHover=!1,b._closeOnLeave=!0,b._subMenu=null,b._hoverEnterBnd=b._hoverEnter.bind(b),b._hoverLeaveBnd=b._hoverLeave.bind(b),b._hoverOverBnd=b._hoverOver.bind(b),b.itemClicked=new h.Event;var Z=b.hostElement,W=b._tbx,X=b._lbx,de=b.dropDown;return(0,h.addClass)(Z,"wj-menu"),W.style.display="none",b._hdr=b._elRef=(0,h.createElement)('<div wj-part="header" class="wj-form-control"/>'),W.parentElement.insertBefore(b._hdr,b._tbx),Z.tabIndex=b.isDisabled?-1:b._orgTabIndex,b.isRequired=!1,(0,h.setAttribute)(Z,"role","menubar",!0),(0,h.setAttribute)(W,"role",null),(0,h.setAttribute)(W,"aria-autocomplete",null),(0,h.setAttribute)(W,"aria-owns",null),(0,h.setAttribute)(de,"role","menu"),X.itemRole="menuitem","SELECT"==b._orgTag&&(b.header=Z.getAttribute("header"),b._lbx.itemsSource&&(b.commandParameterPath="cmdParam")),b.isContentHtml=!0,b.maxDropDownHeight=500,b.addEventListener(b._hdr,"click",function(me){me.defaultPrevented||(b._clearHover(me),b._isButton?(b.isDroppedDown=!1,b._raiseCommand()):b.isDroppedDown=!b.isDroppedDown)}),X.lostFocus.addHandler(function(){b.containsFocus()||(b.isDroppedDown=!1)}),(0,h.addClass)(de,"wj-menu-items"),X.formatItem.addHandler(b._formatMenuItem.bind(b)),b.initialize(F),b}return V(H,Le),Object.defineProperty(H.prototype,"header",{get:function(){return this._hdr.innerHTML},set:function(g){this._hdr.innerHTML=(0,h.asString)(g)},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"command",{get:function(){return this._cmd},set:function(g){this._cmd=g},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"commandPath",{get:function(){return this._cmdPath},set:function(g){this._cmdPath=(0,h.asString)(g)},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"commandParameterPath",{get:function(){return this._cmdParamPath},set:function(g){this._cmdParamPath=(0,h.asString)(g)},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"subItemsPath",{get:function(){return this._subPath},set:function(g){g!=this._subPath&&(this._subPath=g,this.refresh(!0))},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"openOnHover",{get:function(){return this._openOnHover},set:function(g){this._openOnHover=(0,h.asBoolean)(g),this._updateHoverEvents()},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"closeOnLeave",{get:function(){return this._closeOnLeave},set:function(g){this._closeOnLeave=(0,h.asBoolean)(g),this._updateHoverEvents()},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"isButton",{get:function(){return this._isButton},set:function(g){this._isButton=(0,h.asBoolean)(g)},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"owner",{get:function(){return this._owner},set:function(g){this._owner=(0,h.asType)(g,HTMLElement,!0),this._enableDisableItems()},enumerable:!0,configurable:!0}),H.prototype.show=function(g){if(!this.isDroppedDown&&(this.selectedIndex=-1,this.onIsDroppedDownChanging(new h.CancelEventArgs))){var F=this.dropDown,b=this.owner;!b&&g instanceof MouseEvent&&(b=g.target),b instanceof HTMLElement&&(F[h.Control._OWNR_KEY]=b),g instanceof MouseEvent&&this.openOnHover&&this.closeOnLeave&&(g=new h.Point(g.pageX-pageXOffset-2,g.pageY-pageYOffset-2)),(0,h.showPopup)(F,g,!1,this.isAnimated),this.onIsDroppedDownChanged(),F.focus()}},H.prototype.hide=function(){this.isDroppedDown&&this.onIsDroppedDownChanging(new h.CancelEventArgs)&&((0,h.hidePopup)(this.dropDown),this.onIsDroppedDownChanged())},H.prototype.onItemClicked=function(g){this.itemClicked.raise(this,g)},H.prototype.refresh=function(g){void 0===g&&(g=!0),Le.prototype.refresh.call(this,g),this.hostElement&&this._enableDisableItems()},H.prototype.onIsDroppedDownChanged=function(g){if(Le.prototype.onIsDroppedDownChanged.call(this,g),this.isDroppedDown){this._closing=!0;var F=this._lbx._ignoredItemChangedEvents;this._lbx._ignoredItemChangedEvents=!0,this._defaultItem=this.selectedItem,this.isRequired=!1,this.selectedIndex=-1,this._enableDisableItems(),this._closing=!1,this._lbx._ignoredItemChangedEvents=F,this.dropDown.focus()}else{if(!this.selectedItem){var b=this._lbx._checking;this._lbx._checking=!0,this.selectedItem=this._defaultItem,this._lbx._checking=b}var Z=this._subMenu;Z&&(Z.isDroppedDown=!1)}},H.prototype._updateHoverEvents=function(){var g=this.hostElement,F=this.dropDown,b=this.addEventListener.bind(this),Z=this.removeEventListener.bind(this),W="mouseleave";Z(g,"mouseenter",this._hoverEnterBnd),Z(g,W,this._hoverLeaveBnd),Z(F,"mouseover",this._hoverOverBnd),Z(F,W,this._hoverLeaveBnd),this._openOnHover&&(b(g,"mouseenter",this._hoverEnterBnd),b(F,"mouseover",this._hoverOverBnd),this._closeOnLeave&&(b(g,W,this._hoverLeaveBnd),b(F,W,this._hoverLeaveBnd)))},H.prototype._getSubItems=function(g){var F=this.subItemsPath,b=g&&F?g[F]:null;return(0,h.isArray)(b)&&b.length?b:null},H.prototype._formatMenuItem=function(g,F){var b=F.item;this._getSubItems(F.data)?(0,h.addClass)(b,"wj-subitems"):"-"==b.innerHTML&&(b.innerHTML="",(0,h.addClass)(b,"wj-separator"))},H.prototype._keydown=function(g){if(!g.defaultPrevented){var F=this._getKeyCode(g);if(this.isDroppedDown)switch(F){case h.Key.Enter:case h.Key.Right:if(this._showSubMenu())return void g.preventDefault();break;case h.Key.Left:var b=h.Control.getControl(this.owner);if(b instanceof H){var Z=b.dropDown,W=b.selectedIndex;return(W>-1?Z.children[W]:Z).focus(),void g.preventDefault()}}F==h.Key.Enter&&(this.isDroppedDown?this.selectedIndex>-1&&this._raiseCommand():(this.isDroppedDown=!0,g.preventDefault()))}Le.prototype._keydown.call(this,g)},H.prototype._dropDownClick=function(g){if(!g.defaultPrevented&&g.target!=this.dropDown){if(this._clearHover(g),this._showSubMenu())return void g.preventDefault();this.selectedIndex>-1&&this._raiseCommand()}Le.prototype._dropDownClick.call(this,g)},H.prototype._showSubMenu=function(){var g=this,F=this._getSubItems(this.selectedItem);if(!F)return null;var b=this.dropDown.children[this.selectedIndex].getBoundingClientRect(),Z=new h.Point(b.right,b.top);if(0==b.height)return null;var W=this.rightToLeft||"rtl"==this.dropDown.getAttribute("dir");W&&(Z.x=b.left);var X=this._subMenu;X&&(X.isDroppedDown=!1),X=new H(document.createElement("div"),{owner:this.hostElement,itemsSource:F,itemClicked:function(pt,Et){g.itemClicked.raise(pt,Et)},formatItem:function(pt,Et){g.formatItem.raise(pt,Et)}});var de=this.collectionView,me=X.collectionView;de&&de.filter&&me&&!me.filter&&(me.filter=de.filter),"displayMemberPath,selectedValuePath,isContentHtml,command,commandPath,commandParameterPath,maxDropDownWidth,maxDropDownHeight,dropDownCssClass,isAnimated,subItemsPath,openOnHover,closeOnLeave".split(",").forEach(function(pt){X[pt]=g[pt]});var ft=X.dropDown;return(0,h.setAttribute)(ft,"dir",W?"rtl":null),X.show(Z),ft[h.Control._OWNR_KEY]=this.dropDown,ft.focus(),X},H.prototype._raiseCommand=function(g){var F=this.selectedItem,b=this._getSubItems(F),Z=this._getCommand(F);if(Z&&!b){var W=this._getCommandParm(F);if(!this._canExecuteCommand(Z,W))return;this._executeCommand(Z,W)}var X=this.headerPath;if(X){var de=new h.Binding(X).getValue(F);de=null==de?"":de.toString(),this.header=this.isContentHtml?de:(0,h.escapeHtml)(de)}if(this.onItemClicked(g),this.containsFocus()){for(var me=this;me&&me.owner;){var ft=h.Control.getControl(me.owner);if(!(ft instanceof H))break;me=ft}var pt=me.owner;if(!pt&&me.dropDown&&(pt=me.dropDown[h.Control._OWNR_KEY]),me.isDroppedDown=!1,me.focus(),!me.containsFocus()&&pt instanceof HTMLElement&&pt.offsetHeight)if(h.isIE){var Et=document.documentElement,jt=Et.scrollLeft,xn=Et.scrollTop;pt.focus(),Et.scrollLeft=jt,Et.scrollTop=xn}else pt.focus()}},H.prototype._getCommand=function(g){return(g&&this._cmdPath?g[this._cmdPath]:null)||this._cmd},H.prototype._getCommandParm=function(g){var F=this._cmdParamPath;return g&&F?g[F]:g},H.prototype._executeCommand=function(g,F){g&&!(0,h.isFunction)(g)&&(g=g.executeCommand),(0,h.isFunction)(g)&&g(F)},H.prototype._canExecuteCommand=function(g,F){if(g){var b=g.canExecuteCommand;if((0,h.isFunction)(b))return b(F)}return!0},H.prototype._enableDisableItems=function(){if(this.collectionView&&(this._cmd||this._cmdPath))for(var g=this.collectionView.items,F=0;F<g.length;F++){var b=g[F],Z=this._getCommand(b);if(Z){var W=this._lbx.hostElement.children[F],X=this._getCommandParm(b);(0,h.toggleClass)(W,"wj-state-disabled",!this._canExecuteCommand(Z,X))}}},H.prototype._clearHover=function(g){this._toHover&&clearTimeout(this._toHover),this._toHover=null,H._evtHover=g},H.prototype._isTargetDisabled=function(g){return(0,h.hasClass)(g.target,"wj-state-disabled")},H.prototype._hoverEnter=function(g){var F=this;this._clearHover(g),this._toHover=setTimeout(function(){F._toHover=null,F.isDroppedDown=!0},h.Control._HOVER_DELAY)},H.prototype._hoverOver=function(g){var F=this;this._clearHover(g),this._toHover=setTimeout(function(){F._toHover=null;var b=F.listBox.indexOf(g.target);b>-1&&!(0,h.hasClass)(g.target,"wj-state-disabled")&&(F.selectedIndex=b,F._subMenu=F._showSubMenu())},h.Control._HOVER_DELAY)},H.prototype._hoverLeave=function(g){var F=this;this._clearHover(g),this.isDroppedDown&&(this._toHover=setTimeout(function(){var b=(g=H._evtHover)?document.elementFromPoint(g.clientX,g.clientY):null,Z=(0,h.closest)(b,".wj-listbox.wj-menu-items"),W=F._subMenu;!Z&&!(0,h.contains)(F.hostElement,b,!0)&&(F.isDroppedDown=!1,W&&(W.isDroppedDown=!1))},h.Control._LEAVE_DELAY))},H.prototype._setIsDisabled=function(g){Le.prototype._setIsDisabled.call(this,g),this.hostElement.tabIndex=this.isDisabled?-1:this._orgTabIndex},H.prototype._setTabOrder=function(g){Le.prototype._setTabOrder.call(this,g),this.hostElement.tabIndex=this.isDisabled?-1:this._orgTabIndex},H}(et),dt=function(Le){function H(g,F){var b=Le.call(this,g)||this;if(b._format="t",b.valueChanged=new h.Event,(0,h.addClass)(b.hostElement,"wj-inputtime"),b.isEditable=!0,b._value=h.DateTime.newDate(),b._min=b._max=null,b._msk=new h._MaskProvider(b._tbx),(0,h.isIE9)()||(b._tbx.type="tel"),"INPUT"==b._orgTag){var Z=b._tbx.getAttribute("value");Z&&(b.value=h.Globalize.parseDate(Z,"HH:mm:ss"))}return b.step=15,b.autoExpandSelection=!0,b.initialize(F),b._commitText(),b}return V(H,Le),Object.defineProperty(H.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"inputType",{get:function(){return this._tbx.type},set:function(g){this._tbx.type=(0,h.asString)(g)},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"value",{get:function(){return this._value},set:function(g){(g=(0,h.asDate)(g,!this.isRequired))&&(g=this._clamp(g)),this._setText(g?h.Globalize.format(g,this.format):"",!0),this.selectedItem&&this.selectedItem.value&&(g=h.DateTime.fromDateTime(g,this.selectedItem.value)),g!=this._value&&!h.DateTime.equals(g,this._value)&&(this._value=g,this.onValueChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"text",{get:function(){return this._tbx.value},set:function(g){g!=this.text&&(this._setText(g,!0),this._commitText())},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"min",{get:function(){return this._min},set:function(g){this._min=(0,h.asDate)(g,!0),this.isDroppedDown=!1,this._updateItems()},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"max",{get:function(){return this._max},set:function(g){this._max=(0,h.asDate)(g,!0),this.isDroppedDown=!1,this._updateItems()},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"step",{get:function(){return this._step},set:function(g){g!=this.step&&(this._step=(0,h.asNumber)(g,!0),this.isDroppedDown=!1,this._updateItems())},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"format",{get:function(){return this._format},set:function(g){g!=this.format&&(this._format=(0,h.asString)(g),this._tbx.value=h.Globalize.format(this.value,this.format),(0,h.hasItems)(this.collectionView)&&this._updateItems())},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"mask",{get:function(){return this._msk.mask},set:function(g){this._msk.mask=(0,h.asString)(g)},enumerable:!0,configurable:!0}),H.prototype.onValueChanged=function(g){this.valueChanged.raise(this,g)},H.prototype.onItemsSourceChanged=function(g){Le.prototype.onItemsSourceChanged.call(this,g),this._hasCustomItems=null!=this.itemsSource},H.prototype.refresh=function(g){void 0===g&&(g=!0),Le.prototype.refresh.call(this,g),this.hostElement&&(this._msk.refresh(),this._tbx.value=h.Globalize.format(this.value,this.format),this._updateItems())},H.prototype.onSelectedIndexChanged=function(g){if(this.selectedIndex>-1&&!this._settingText){var F=this.value?this.value:h.DateTime.newDate(),b=null!=this.selectedItem.value?this.selectedItem.value:h.Globalize.parseDate(this.text,this.format,this.value);this.value=h.DateTime.fromDateTime(F,b)}Le.prototype.onSelectedIndexChanged.call(this,g)},H.prototype._clamp=function(g){return null!=this._min&&this._getTime(g)<this._getTime(this._min)&&(g=h.DateTime.fromDateTime(g,this._min)),null!=this._max&&this._getTime(g)>this._getTime(this._max)&&(g=h.DateTime.fromDateTime(g,this._max)),g},H.prototype._wheel=function(g){if(!g.defaultPrevented&&!this.isDroppedDown&&!this.isReadOnly&&this.containsFocus()&&this.selectedIndex<0&&this.value&&(0,h.isNumber)(this.step)&&this.step>0){var F=h.DateTime.addMinutes(this.value,this.step*(0,h.clamp)(g.deltaY,-1,1));this.value=this._clamp(F),this.selectAll(),g.preventDefault()}Le.prototype._wheel.call(this,g)},H.prototype._updateInputSelection=function(g){if(this._delKey)Le.prototype._updateInputSelection.call(this,g);else{for(var F=this._tbx.value;g<F.length&&!F[g].match(/[a-z0-9]/i);)g++;(0,h.setSelectionRange)(this._tbx,g,this._tbx.value.length)}},H.prototype._updateItems=function(){if(!this._hasCustomItems){var g=[],F=new Date(2020,0),b=new Date(2020,0,1,23,59,59),Z=this.step;if(this.min&&F.setHours(this.min.getHours(),this.min.getMinutes(),this.min.getSeconds()),this.max&&b.setHours(this.max.getHours(),this.max.getMinutes(),this.max.getSeconds()),(0,h.isNumber)(Z)&&Z>=1)for(var W=F;W<=b;W=h.DateTime.addMinutes(W,Z))g.push({value:W,text:h.Globalize.format(W,this.format)});var X=this.value;this._settingText=!0,this.displayMemberPath="text",this.selectedValuePath="text",this.itemsSource=g,this._hasCustomItems=!1,this._settingText=!1,!X&&this.isRequired||(this.value=X)}},H.prototype._getTime=function(g){return 3600*g.getHours()+60*g.getMinutes()+g.getSeconds()},H.prototype._keydown=function(g){if(Le.prototype._keydown.call(this,g),!g.defaultPrevented)switch(g.keyCode){case h.Key.Enter:this.isDroppedDown||(this._commitText(),this.selectAll());break;case h.Key.Escape:this.text=h.Globalize.format(this.value,this.format),this.selectAll()}},H.prototype._commitText=function(){if(this.text||this.isRequired){var g=this.value?h.Globalize.format(this.value,this.format):"";if(this.text!=g){var F=this.selectedItem&&this.selectedItem.value?this.selectedItem.value:h.Globalize.parseDate(this.text,this.format,this.value);F?(h.DateTime.sameTime(F,this._clamp(F))||this.onInvalidInput(new h.CancelEventArgs))&&(this.value=h.DateTime.fromDateTime(this.value,F)):this.onInvalidInput(new h.CancelEventArgs)&&(this.text=g)}}else this.value=null},H.prototype._copy=function(g,F){return"text"===g&&((F||"").toString()!==this.text&&this._setText(F,!0),!0)},H}(et);(0,h._addCultureInfo)("InputDateTime",{ariaLabels:{tglDate:"Toggle Calendar",tglTime:"Toggle Time List"}});var we=function(Le){function H(g,F){var b=Le.call(this,g)||this;(0,h.addClass)(b.hostElement,"wj-inputdatetime");var Z=h.culture.InputDateTime.ariaLabels;(0,h.setAriaLabel)(b._btn,Z.tglDate),(0,h.setAriaLabel)(b._btnTm,Z.tglTime),b.value=new Date,b.format="g",b._inputTime=new dt(document.createElement("div"),{valueChanged:function(de){var me=b.rangeEnd;b.value=h.DateTime.fromDateTime(b.value,de.value),b.calendar._rngMode()&&me&&(b.rangeEnd=h.DateTime.fromDateTime(me,de.value))},isDroppedDownChanged:function(de){de.listBox.containsFocus()&&b.inputElement.focus(),b._selectAll()}});var W=b.addEventListener.bind(b);b._btnTm=b.hostElement.querySelector('[wj-part="btn-tm"]'),W(b._btnTm,"mousedown",function(de){b._btnclick(de)}),b._ddDate=b._dropDown;var X=b._ddTime=b._inputTime.dropDown;return W(X,"keydown",b._keydown.bind(b),!0),W(X,"blur",function(){b._updateFocusState()},!0),W(X,"click",function(de){de.defaultPrevented||de.target!=X&&b.hostElement.focus()},!0),b.initialize(F),b._commitText(),b}return V(H,Le),Object.defineProperty(H.prototype,"timeMin",{get:function(){return this._inputTime.min},set:function(g){this._inputTime.min=g},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"timeMax",{get:function(){return this._inputTime.max},set:function(g){this._inputTime.max=g},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"timeFormat",{get:function(){return this._inputTime.format},set:function(g){this._inputTime.format=g},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"timeStep",{get:function(){return this._inputTime.step},set:function(g){this._inputTime.step=g,this._btnTm.style.display=(0,h.isNumber)(g)&&g>0?"":"none"},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"inputTime",{get:function(){return this._inputTime},enumerable:!0,configurable:!0}),H.prototype._fromDateTime=function(g){return g},H.prototype._btnclick=function(g){var F=(0,h.closest)(g.target,"button")==this._btn?this._ddDate:this._ddTime;this._setDropdown(F),Le.prototype._btnclick.call(this,g)},H.prototype.dispose=function(){this._setDropdown(this._ddDate),Le.prototype.dispose.call(this),this._inputTime.dispose()},H.prototype.refresh=function(g){void 0===g&&(g=!0),this._inputTime.refresh(),Le.prototype.refresh.call(this,g)},H.prototype._updateBtn=function(){Le.prototype._updateBtn.call(this),this._btnTm&&(this._btnTm.tabIndex=this._btn.tabIndex,this._btnTm.parentElement.style.display=this._btn.style.display)},H.prototype._setDropdown=function(g){if(this._dropDown==g)return!1;this.isDroppedDown&&(this.isDroppedDown=!1);var F=this.dropDownCssClass;return this.dropDownCssClass="",this._dropDown=g,this.dropDownCssClass=F,!0},H.prototype._updateDropDown=function(){var g=this._inputTime;this._dropDown==g.dropDown?(this._commitText(),Le.prototype._updateDropDown.call(this),g.isRequired=this.isRequired&&null!=this.value,g.value=this.value,this.isDroppedDown&&g.listBox.showSelection()):Le.prototype._updateDropDown.call(this)},H.controlTemplate='<div class="wj-template"><div class="wj-input"><div class="wj-input-group wj-input-btn-visible"><input wj-part="input" type="text" class="wj-form-control"/><span class="wj-input-group-btn"><button wj-part="btn" class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-calendar"></span></button><button wj-part="btn-tm" class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-clock"></span></button></span></div></div><div wj-part="dropdown" class="wj-content wj-dropdown-panel"></div></div>',H}(Ze),mt=function(Le){function H(g,F){var b=Le.call(this,g)||this;return b._cssMatch="wj-state-match",b._minLength=2,b._maxItems=6,b._itemCount=0,b._beginsWith=!1,b._delay=h.Control._SEARCH_DELAY,b._query="",b._inCallback=!1,b._srchProps=[],b._oldSelectedIndex=-1,(0,h.addClass)(b.hostElement,"wj-autocomplete"),b._bsCollapse=!1,b.isEditable=!0,b.isRequired=!1,b.listBox.formatItem.addHandler(b._formatListItem,b),b._itemsSourceFnCallbackBnd=b._itemSourceFunctionCallback.bind(b),b.initialize(F),b}return V(H,Le),Object.defineProperty(H.prototype,"minLength",{get:function(){return this._minLength},set:function(g){this._minLength=(0,h.asNumber)(g,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"beginsWithSearch",{get:function(){return this._beginsWith},set:function(g){this._beginsWith=(0,h.asBoolean)(g)},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"maxItems",{get:function(){return this._maxItems},set:function(g){this._maxItems=(0,h.asNumber)(g,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"delay",{get:function(){return this._delay},set:function(g){this._delay=(0,h.asNumber)(g,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"searchMemberPath",{get:function(){return this._srchProp},set:function(g){this._srchProp=(0,h.asString)(g),this._srchProps=g?g.trim().split(/\s*,\s*/):[]},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"itemsSourceFunction",{get:function(){return this._itemsSourceFn},set:function(g){this._itemsSourceFn=(0,h.asFunction)(g),(0,h.isFunction)(this._itemsSourceFn)&&this.itemsSourceFunction(this.text,this.maxItems,this._itemsSourceFnCallbackBnd)},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"cssMatch",{get:function(){return this._cssMatch},set:function(g){this._cssMatch=(0,h.asString)(g)},enumerable:!0,configurable:!0}),H.prototype.onSelectedIndexChanged=function(g){this._settingText||Le.prototype.onSelectedIndexChanged.call(this,g)},H.prototype._keydown=function(g){if(!g.defaultPrevented&&this.isDroppedDown)switch(g.keyCode){case h.Key.Up:case h.Key.Down:this.selectAll()}Le.prototype._keydown.call(this,g)},H.prototype._setText=function(g){var F=this;if(this._composing&&g!=this._oldText&&(this._oldText=g,this.onTextChanged()),!(this._inCallback||this._composing||this._settingText)){if(this._toSearch||(this._oldSelectedIndex=this.selectedIndex),this.selectedIndex>-1&&this.getDisplayText()!=g&&(this._settingText=!0,this.selectedIndex=-1,this._settingText=!1),g!=this._oldText){var b=this._tbx;b.value!=g&&(b.value=g),this._oldText=g,this.onTextChanged();var Z=this.collectionView;if(!g&&Z){(this._query||this.selectedIndex<0)&&(this.isDroppedDown=!1),this._query=this._rxHighlight=null,Z.filter=null;var W=this.itemsSourceFunction;return(0,h.isFunction)(W)&&(this.isDroppedDown=!1,W(this._query,this.maxItems,this._itemsSourceFnCallbackBnd)),void(-1==this.selectedIndex&&-1!=this._oldSelectedIndex&&this.onSelectedIndexChanged())}}this._toSearch&&clearTimeout(this._toSearch),g!=this.getDisplayText()&&(this._toSearch=setTimeout(function(){F._toSearch=null;var X=F.text.trim();if(X.length>=F._minLength&&X!=F._query){F._query=X,X=(0,h.escapeRegExp)(X);var de=(0,h.escapeHtml)(X),me=F.caseSensitiveSearch?"":"i";F._beginsWith||(me+="g"),F._rxSrch=F._beginsWith?new RegExp("^"+X+".*",me):new RegExp("(?=.*"+X.replace(/ /g,")(?=.*")+")",me),F._rxHighlight=F._beginsWith?new RegExp("^"+X,me):new RegExp("("+de.replace(/\s+/g,"|")+")",me);var ft=F.itemsSourceFunction;(0,h.isFunction)(ft)?ft(F._query,F.maxItems,F._itemsSourceFnCallbackBnd):F._updateItems()}-1==F.selectedIndex&&-1!=F._oldSelectedIndex&&F.onSelectedIndexChanged()},this._delay))}},H.prototype._itemSourceFunctionCallback=function(g){this._inCallback=!0;var F=(0,h.asCollectionView)(g||[]);if(F.moveCurrentToPosition(-1),this.itemsSource=F,this._inCallback=!1,this.containsFocus()){var b=this._tbx,Z=b.selectionStart,W=b.selectionEnd,X=this.collectionView;this.isDroppedDown=null!=X&&X.items.length>0,(0,h.setSelectionRange)(b,Z,W),this.refresh()}},H.prototype.onIsDroppedDownChanged=function(g){if(Le.prototype.onIsDroppedDownChanged.call(this,g),this.containsFocus()&&!this.isTouching){var F=this.collectionView;if(this.selectedIndex<0&&F){var b=F.items,Z=this.text;1==b.length&&b[0]==Z?this.selectedIndex=0:(0,h.setSelectionRange)(this._tbx,Z.length)}}this._query=""},H.prototype._updateItems=function(){var g=this.collectionView;if(g){this._inCallback=!0,g.beginUpdate(),this._itemCount=0,g.filter=this._filter.bind(this),g.moveCurrentToPosition(-1),g.endUpdate(),this._inCallback=!1;var F=g.items.length,b=this._tbx,Z=b.selectionStart,W=b.selectionEnd;if(this.isDroppedDown=F>0&&this.containsFocus(),F||this.isEditable||(this.selectedIndex=-1),1==F&&this.selectedIndex<0){var X=this._getItemText(g.items[0],!1),de=b.value;this.caseSensitiveSearch||(X=X.toLowerCase(),de=de.toLowerCase()),X==de&&(this.selectedIndex=0)}this.isDroppedDown&&(0,h.setSelectionRange)(b,Z,W),this.refresh()}},H.prototype._filter=function(g){if(this._itemCount>=this._maxItems)return!1;var F=[this._getItemText(g,!1)];this._srchProps&&this._srchProps.forEach(function(Z){var W=g[Z];null!=W&&F.push(W)}),this.isContentHtml&&(F=F.map(function(Z){return Z.replace(/(<[^>]*>|&[^;]*;)/g,"")}));for(var b=0;b<F.length;b++)if(this._rxSrch.test(F[b]))return this._itemCount++,!0;return!1},H.prototype._getItemText=function(g,F){var b=g?g.toString():"",Z=F&&this.headerPath?this._pathHdr:this._lbx._pathDisplay;return Z&&(b=null!=(b=Z.getValue(g))?b.toString():""),b},H.prototype._formatListItem=function(g,F){var b=this;this._cssMatch&&this._rxHighlight&&(F.item.innerHTML=F.item.innerHTML.replace(this._rxHighlight,function(Z,W,X,de){return b._enclosed(de,X,"<",">")||b._enclosed(de,X,"&",";")?Z:'<span class="'+b._cssMatch+'">'+Z+"</span>"}))},H.prototype._enclosed=function(g,F,b,Z){for(var W=F;W>=0&&g[W]!=Z;W--)if(g[W]==b)for(var X=F;X<g.length&&g[X]!=b;X++)if(g[X]==Z)return!0;return!1},H}(et),Gt=function(Le){function H(g,F){var b=Le.call(this,g)||this;return b._selItems=[],b._maxSelItems=null,b._lastInputValue="",b._selPath=new h.Binding(null),b._notAddItm=!1,b.selectedItemsChanged=new h.Event,(0,h.addClass)(b.hostElement,"wj-multi-autocomplete"),b._wjTpl=b.hostElement.querySelector(".wj-template"),b._wjInput=b.hostElement.querySelector(".wj-input"),b.showDropDownButton=!1,b.initialize(F),b.addEventListener(b.hostElement,"keyup",b._keyup.bind(b),!0),b.addEventListener(window,"resize",b._adjustInputWidth.bind(b)),b.addEventListener(b._tbx,"focus",function(){b._itemOff()}),b._addHelperInput(),b._initSeltems(),b.listBox.itemsChanged.addHandler(function(){return b.selectedIndex=-1}),b._refreshHeader(),b._updateTabIndex(),b}return V(H,Le),Object.defineProperty(H.prototype,"showDropDownButton",{set:function(g){this._showBtn=!1},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"maxSelectedItems",{get:function(){return this._maxSelItems},set:function(g){this._maxSelItems!=g&&(this._maxSelItems=(0,h.asNumber)(g,!0),this._updateMaxItems(),this._refreshHeader(),this._clearSelIndex())},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"selectedMemberPath",{get:function(){return this._selPath.path},set:function(g){(g=(0,h.asString)(g))!==this.selectedMemberPath&&(this._selPath.path=g,this._initSeltems(),this._refreshHeader(),this.onSelectedItemsChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"selectedItems",{get:function(){return this._selItems},set:function(g){var F=this._selItems===g;if(F||null==this._selItems||null==g||this._selItems.length!==g.length||(F=this._selItems.every(function(W,X){return W===g[X]})),this._selItems=(0,h.asArray)(g),!F){if(this.selectedMemberPath&&""!==this.selectedMemberPath&&this._selItems)for(var b=0;b<this._selItems.length;b++)this._setSelItem(this._selItems[b],!1);this._updateMaxItems(),this.onSelectedItemsChanged(),this._refreshHeader(),this._clearSelIndex()}},enumerable:!0,configurable:!0}),H.prototype.onSelectedItemsChanged=function(g){this.selectedItemsChanged.raise(this,g)},H.prototype.onIsDroppedDownChanged=function(g){!this.isDroppedDown&&this.selectedIndex>-1&&!this._notAddItm&&this._addItem(!0),this._notAddItm=!1,Le.prototype.onIsDroppedDownChanged.call(this,g)},H.prototype.refresh=function(g){void 0===g&&(g=!0),Le.prototype.refresh.call(this,g),this.hostElement&&(this._initSeltems(),this.isDroppedDown||this._refreshHeader())},H.prototype._keydown=function(g){if(!this.isReadOnly){if(!g.defaultPrevented)switch(g.keyCode){case h.Key.Back:this._lastInputValue=this._tbx.value;break;case h.Key.Enter:this._itemOff(),this._addItem(!0),(0,h.isIE)()&&(0,h.setSelectionRange)(this._tbx,this._tbx.textContent.length,this._tbx.textContent.length);break;case h.Key.Tab:this.isDroppedDown?(this._addItem(!1),this._tbx.value="",this._lbx.selectedIndex=-1,g.preventDefault()):this._updateFocus();break;case h.Key.Space:if(""!==this._tbx.value)return;!this.isDroppedDown&&!this._tbx.disabled&&(this.isDroppedDown=!0,this._clearSelIndex());break;case h.Key.Escape:this.isDroppedDown&&(this._notAddItm=!0);break;case h.Key.Left:this._itemOn(!this.rightToLeft);break;case h.Key.Right:this._itemOn(!!this.rightToLeft);break;case h.Key.Up:case h.Key.Down:var F=(0,h.getActiveElement)();if(g.altKey){if(this._tbx==F)return this.isDroppedDown=!this.isDroppedDown,this.isDroppedDown||this._tbx.focus(),void g.preventDefault()}else if(this._tbx!==F)return;default:if(g.keyCode===h.Key.Back||g.keyCode===h.Key.Delete)return;this._itemOff(),null!=this._maxSelItems&&this._selItems.length>=this._maxSelItems&&g.preventDefault()}this._tbx.disabled||Le.prototype._keydown.call(this,g)}},H.prototype._updateState=function(){Le.prototype._updateState.call(this),this._wjTpl&&((0,h.hasClass)(this.hostElement,"wj-state-focused")||this._itemOff())},H.prototype._keyup=function(g){if(!this.isReadOnly&&!g.defaultPrevented)switch(g.keyCode){case h.Key.Back:0===this._tbx.value.length&&0===this._lastInputValue.length&&this._delItem(!1);break;case h.Key.Delete:this._delItem(!0)}},H.prototype._addHelperInput=function(){var g=document.createElement("input");g.type="text",g.tabIndex=-1,g.className="wj-token-helper",g.readOnly=!0,this._wjTpl.insertBefore(g,this._wjInput),this._helperInput=g},H.prototype._refreshHeader=function(){for(var g=this.hostElement.querySelectorAll(".wj-token"),F=0;F<g.length;F++)this._wjTpl.removeChild(g[F]);var b=this.selectedItems;if(b&&0!==b.length){for(F=0;F<b.length;F++)this._insertToken(b[F]);this._wjInput.style.cssFloat=this.rightToLeft?"right":"left",this._adjustInputWidth()}else this._wjInput.style.cssFloat=this.rightToLeft?"right":"left",this._adjustInputWidth()},H.prototype._insertToken=function(g){var F=this._getItemText(g,!0);this.isContentHtml||(F=(0,h.escapeHtml)(F)),this._wjTpl.insertBefore(this._createItem(F),this._wjInput)},H.prototype._updateMaxItems=function(){null!=this._maxSelItems&&this._selItems&&this._selItems.length>this._maxSelItems&&(this._selItems=this._selItems.slice(0,this._maxSelItems))},H.prototype._updateFocus=function(){var g=this,F=this._wjTpl.querySelector("."+H._clsActive);F?((0,h.removeClass)(F,H._clsActive),setTimeout(function(){g._tbx.focus()})):this._clearSelIndex()},H.prototype._addItem=function(g){this.selectedItems.indexOf(this.selectedItem)>-1?this._clearSelIndex():this.selectedIndex>-1&&(this._updateSelItems(this.selectedItem,!0),this._refreshHeader(),g&&this._clearSelIndex(),this._disableInput(!0))},H.prototype._delItem=function(g){var F,b,Z=this._wjTpl.querySelector("."+H._clsActive),W=!1;(!g||Z)&&(Z?(b=this._getItemIndex(Z))>-1&&(F=this._selItems[b],W=!0):this._selItems.length>0&&(F=this._selItems[this._selItems.length-1],W=!0),W&&(this._updateSelItems(F,!1),this._refreshHeader(),this._clearSelIndex(),this._disableInput(!1)),this._tbx.focus())},H.prototype._updateSelItems=function(g,F){if(F){if(this._selItems&&0!==this._selItems.length||(this._selItems=[]),null!=this._maxSelItems&&this._selItems.length>=this._maxSelItems)return;this._selItems.push(g)}else{var b=this._selItems.indexOf(g);this._selItems.splice(b,1)}this._hasSelectedMemeberPath()&&this._setSelItem(g,F),this.onSelectedItemsChanged()},H.prototype._createItem=function(g){var F=this,b=document.createElement("div"),Z=document.createElement("span"),W=document.createElement("a");return b.appendChild(Z),b.appendChild(W),b.className="wj-token",Z.className="wj-token-label",Z.innerHTML=g,W.className="wj-token-close",W.href="#",W.tabIndex=-1,W.text="\xd7",b.style.cssFloat=this.rightToLeft?"right":"left",this.addEventListener(b,"click",function(X){F._helperInput.focus();var de=F._wjTpl.querySelector("."+H._clsActive);de&&(0,h.removeClass)(de,H._clsActive),(0,h.addClass)(b,H._clsActive),X.stopPropagation(),X.preventDefault()}),this.addEventListener(W,"click",function(X){if(!F.isReadOnly){var de=F._getItemIndex(b);de>-1&&F._updateSelItems(F._selItems[de],!1),F._wjTpl.removeChild(b),F._adjustInputWidth(),F._disableInput(!1),F._tbx.focus(),X.stopPropagation(),X.preventDefault()}}),b},H.prototype._itemOn=function(g){var F,b,Z,W=(0,h.getActiveElement)();if((this._tbx!=W||0===this._tbx.value.length)&&0!==(F=this._wjTpl.querySelectorAll(".wj-token")).length)if(b=this._wjTpl.querySelector("."+H._clsActive),Z=this._getItemIndex(b),g){if(0===Z)return;-1===Z?((0,h.addClass)(F[F.length-1],H._clsActive),this._helperInput.focus()):((0,h.removeClass)(b,H._clsActive),(0,h.addClass)(F[Z-1],H._clsActive),this._helperInput.focus())}else if(!g){if(-1===Z)return;Z!==F.length-1?((0,h.removeClass)(b,H._clsActive),(0,h.addClass)(F[Z+1],H._clsActive),this._helperInput.focus()):((0,h.removeClass)(b,H._clsActive),this._tbx.focus())}},H.prototype._itemOff=function(){var g=this._wjTpl.querySelector("."+H._clsActive);g&&(0,h.removeClass)(g,H._clsActive)},H.prototype._initSeltems=function(){if(this.selectedMemberPath){this._selItems.splice(0,this._selItems.length);var g=this.collectionView;if(g)for(var F=0;F<g.sourceCollection.length;F++)this._getSelItem(F)&&this._selItems.push(g.sourceCollection[F])}},H.prototype._getSelItem=function(g){var F=this.collectionView,b=F?F.sourceCollection[g]:null;return!(!(0,h.isObject)(b)||!this.selectedMemberPath)&&this._selPath.getValue(b)},H.prototype._setSelItem=function(g,F){(0,h.isObject)(g)&&this._selPath.getValue(g)!=F&&this._selPath.setValue(g,F)},H.prototype._clearSelIndex=function(){this.selectedIndex=-1},H.prototype._hasSelectedMemeberPath=function(){return this.selectedMemberPath&&""!==this.selectedMemberPath},H.prototype._disableInput=function(g){null!=this._maxSelItems&&(this._selItems.length<this._maxSelItems?(this._tbx.disabled=!1,this._tbx.focus()):(this._tbx.disabled=!0,this.hostElement.focus()))},H.prototype._adjustInputWidth=function(){this._tbx.style.width="60px";var F=(0,h.getElementRect)(this.hostElement),b=(0,h.getElementRect)(this._tbx),Z=getComputedStyle(this._tbx),W=parseInt(Z.paddingLeft,10),X=parseInt(Z.paddingRight,10);this._tbx.style.width=(this.rightToLeft?b.left+b.width-F.left-W-X-8:F.left+F.width-b.left-W-X-8)+"px"},H.prototype._getItemIndex=function(g){for(var F=this.hostElement.querySelectorAll(".wj-token"),b=0;b<F.length;b++)if(g===F[b])return b;return-1},H.prototype._setIsDisabled=function(g){Le.prototype._setIsDisabled.call(this,g),this._updateTabIndex()},H.prototype._setTabOrder=function(g){this._orgTabIndex=g,this._updateTabIndex()},H.prototype._updateTabIndex=function(){var g=this.hostElement;this._tbx.tabIndex=this.isDisabled?-1:this._orgTabIndex,g.tabIndex=-1},H._clsActive="wj-token-active",H}(mt);(0,h._registerModule)("wijmo.input",C)},7665:(cn,Ve,G)=>{"use strict";G.r(Ve),G.d(Ve,{Aggregate:()=>sr,ArrayBase:()=>co,Binding:()=>X,CancelEventArgs:()=>pt,Clipboard:()=>Uo,CollectionView:()=>Ar,CollectionViewGroup:()=>ys,Color:()=>hr,Control:()=>Oe,ControlBase:()=>q,DataType:()=>un,DateTime:()=>Co,Event:()=>me,EventArgs:()=>ft,Globalize:()=>Ao,GroupDescription:()=>$t,Key:()=>fn,NotifyCollectionChangedAction:()=>xn,NotifyCollectionChangedEventArgs:()=>En,ObservableArray:()=>uo,PageChangingEventArgs:()=>Te,Point:()=>Ri,PopupPosition:()=>Kr,PrintDocument:()=>Cr,PropertyChangedEventArgs:()=>Et,PropertyGroupDescription:()=>Lt,Rect:()=>io,RequestErrorEventArgs:()=>jt,Size:()=>gs,SortDescription:()=>In,SortNulls:()=>Di,Tooltip:()=>Ai,TooltipEventArgs:()=>nl,_ClickRepeater:()=>Vr,_Map:()=>Oo,_MaskElement:()=>vs,_MaskProvider:()=>As,_addCultureInfo:()=>sa,_deprecated:()=>ln,_focusSrv:()=>W,_getActiveElement:()=>Xs,_getCalculatedArray:()=>H,_getModule:()=>_s,_getTargetObject:()=>F,_registerModule:()=>ms,_startDrag:()=>tt,_updateCulture:()=>Nr,_updateWme:()=>Ss,addClass:()=>Qn,animate:()=>wo,asArray:()=>si,asBoolean:()=>pi,asCollectionView:()=>Ae,asDate:()=>bi,asEnum:()=>Je,asFunction:()=>ei,asInt:()=>Wi,asNumber:()=>Ln,asString:()=>on,asType:()=>qt,assert:()=>Xe,changeType:()=>Fr,clamp:()=>nt,closest:()=>_o,closestClass:()=>ur,contains:()=>Eo,controlBaseClass:()=>Qi,copy:()=>He,createElement:()=>qi,culture:()=>Nn,disableAutoComplete:()=>wr,enable:()=>No,escapeHtml:()=>Wt,escapeRegExp:()=>ht,evalTemplate:()=>Xr,format:()=>fo,getActiveElement:()=>mo,getAggregate:()=>Do,getElement:()=>ii,getElementRect:()=>pr,getEventOptions:()=>Ke,getType:()=>Fn,getTypes:()=>dr,getUniqueId:()=>ni,getVersion:()=>_t,glbz:()=>Fi,hasClass:()=>gn,hasItems:()=>Ne,hidePopup:()=>Lr,httpRequest:()=>Ps,isArray:()=>Pt,isBoolean:()=>It,isDate:()=>Ge,isEdge:()=>$,isEmpty:()=>ut,isFirefox:()=>le,isFunction:()=>Ue,isIE:()=>oe,isIE10:()=>ke,isIE9:()=>xe,isInt:()=>Ti,isMobile:()=>pe,isNullOrWhiteSpace:()=>Dn,isNumber:()=>On,isObject:()=>Yt,isPrimitive:()=>Pn,isSafari:()=>y,isString:()=>yn,isUndefined:()=>Ht,isiOS:()=>ve,mouseToPage:()=>Kn,moveFocus:()=>Ts,removeChild:()=>Jr,removeClass:()=>Zn,saveFile:()=>qo,setAriaLabel:()=>Ii,setAttribute:()=>Pi,setChecked:()=>Ui,setCss:()=>no,setLicenseKey:()=>Ut,setSelectionRange:()=>Hi,setText:()=>Br,showPopup:()=>zr,supportsFocusOptions:()=>et,toFixed:()=>Ei,toHeaderCase:()=>Mt,toPlainText:()=>sn,toggleClass:()=>Vn,tryCast:()=>Ft});var I,h=G(7665),C=(I=function(w,A){return(I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(te,_e){te.__proto__=_e}||function(te,_e){for(var Be in _e)_e.hasOwnProperty(Be)&&(te[Be]=_e[Be])})(w,A)},function(w,A){function te(){this.constructor=w}I(w,A),w.prototype=null===A?Object.create(A):(te.prototype=A.prototype,new te)}),V=typeof navigator<"u"?navigator.userAgent:"",ee=null!=V.match(/iPad|iPhone|iPod|Android|webOS|BlackBerry|Windows Phone/i);function pe(){return ee}var ue=null!=V.match(/iPad|iPhone|iPod/i);function ve(){return ue}var re=null!=V.match(/Firefox\//);function le(){return re}var U=null!=V.match(/^((?!Chrome|Android).)*safari/i);function y(){return U}var O=null!=V.match(/Edge\//);function $(){return O}var Q=null!=V.match(/MSIE |Trident\/|Edge\//);function oe(){return Q}var Ce=!1;function xe(){return Ce}var be=!1;function ke(){return be}var Ze=!1;function Ke(I,w){return Ze?{capture:I,passive:w}:I}typeof document<"u"&&document.addEventListener("test",function(I){},{get passive(){return Ze=!0,!0}});var De=!1;function et(){return De}function tt(I,w){I.effectAllowed=w,le()&&I.setData("text","")}if(typeof document<"u"&&document.createElement("div").focus({get preventScroll(){return De=!0,!0}}),typeof document<"u"&&document.doctype&&(navigator.appVersion.indexOf("MSIE 10")>-1&&(be=!0),navigator.appVersion.indexOf("MSIE 9")>-1&&(Ce=!0,document.addEventListener("mousemove",function(I){if(1==I.which){var w=_o(I.target,".wj-control");if(w&&!w.style.cursor)for(var A=I.target;A;A=A.parentElement)if(A.attributes&&A.attributes.draggable)return A.dragDrop(),!1}}))),typeof window<"u"){var u="requestAnimationFrame";if(!window[u]){var we=0;window[u]=function(I){var w=Date.now(),A=16-(w-we),te=A>0?A:0;return we=w+te,setTimeout(function(){I(we)},te)},window.cancelAnimationFrame=clearTimeout}if(!window.atob){var mt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Gt=new RegExp("[^"+mt+"]");window.atob=function(I){var w,A,te,_e,Be=[],We=0,vt=I.length;if(Gt.test(I)||/=/.test(I)&&(/=[^=]/.test(I)||/={3}/.test(I)))throw new Error("Invalid base64 data");for(vt%4>0&&(vt=(I+=Array(4-vt%4+1).join("=")).length);We<vt;){for(A=[],_e=We;We<_e+4;)A.push(mt.indexOf(I.charAt(We++)));for(te=[((w=(A[0]<<18)+(A[1]<<12)+((63&A[2])<<6)+(63&A[3]))&255<<16)>>16,64===A[2]?-1:(65280&w)>>8,64===A[3]?-1:255&w],_e=0;_e<3;++_e)(te[_e]>=0||0===_e)&&Be.push(String.fromCharCode(te[_e]))}return Be.join("")},window.btoa=function(I){for(var w,A,te=[],_e=0,Be=I.length;_e<Be;)w=((A=[I.charCodeAt(_e++),I.charCodeAt(_e++),I.charCodeAt(_e++)])[0]<<16)+((A[1]||0)<<8)+(A[2]||0),te.push(mt.charAt((w&63<<18)>>18),mt.charAt((258048&w)>>12),mt.charAt(isNaN(A[1])?64:(4032&w)>>6),mt.charAt(isNaN(A[2])?64:63&w));return te.join("")}}}var Le=typeof window<"u"&&window.Symbol?Symbol("_getProxyTarget"):"\t_get\tProxy\tTarget\t";function H(I,w,A){var te=new WeakMap;if(!A){var _e={};if(I.length){var Be=I[0];for(var We in Be){var vt=typeof Be[We];_e[We]="string"==vt?"":"number"==vt?0:null}A=_e}}return new Proxy(I,{get:function(zt,an){if(an===Le)return zt;if("string"==typeof an||"number"==typeof an){if("indexOf"==an)return function(hi,Un){var br=zt.indexOf(hi,Un);return br<0&&hi&&(hi=hi[Le])&&(br=zt.indexOf(hi,Un)),br};var Mn=parseInt(an);if(!isNaN(Mn)){var qn=zt[Mn];if(qn&&!qn[Le]){var Xn=te.get(qn);Xn||(Xn=function g(I,w,A){if(!I[Le]){if(oe())for(var te in w)I[te]=null;var _e={get:function(Be,We,vt){if(We===Le)return Be;if("constructor"===We)return function(){return Object.assign({},A||{})};var zt=w[We];if(zt)switch(typeof zt){case"function":return zt(vt);case"string":return function b(I,w){var A=[w];return(new(Function.bind.apply(Function,[void 0].concat(["$"],["return "+I])))).apply(void 0,A)}(zt,vt)}return Be[We]}};oe()||(_e.ownKeys=function(Be){return Object.keys(Be).concat(Object.keys(w))},_e.getOwnPropertyDescriptor=function(Be,We){return We in w?{enumerable:!0,configurable:!0,writable:!1}:Reflect.getOwnPropertyDescriptor(Be,We)}),I=new Proxy(I,_e)}return I}(qn,w,A),te.set(qn,Xn)),qn=Xn}return qn}}return Reflect.get(zt,an)}})}function F(I){return(I?I[Le]:null)||I}var W,Z=function(){function I(){this._hasDoc=typeof Document<"u",this._ae=this._nativeAe();var w=window,A=this._onBlur.bind(this),te=this._onFocus.bind(this);w.addEventListener("focusout",A,!0),w.addEventListener("focusin",te,!0),oe()||(w.addEventListener("blur",A,!0),w.addEventListener("focus",te,!0))}return Object.defineProperty(I.prototype,"activeElement",{get:function(){var w=this._ae,A=this._nativeAe();return w===I._noAe?w=this._ae=A:w!=A&&(this._isSpecialRoot(w)||document.body.contains(w)||(w=this._ae=A)),w!==I._noAe?w:null},enumerable:!0,configurable:!0}),I.prototype._onBlur=function(w){if(w.isTrusted){var A=w.relatedTarget;this._ae=this._isSpecialRoot(A)?this._nativeAe():A}},I.prototype._onFocus=function(w){w.isTrusted&&(this._ae=this._nativeAe())},I.prototype._isSpecialRoot=function(w){return null==w||w===document.body||this._hasDoc&&w instanceof Document},I.prototype._nativeAe=function(){var w;try{w="unknown"!=typeof document.activeElement?document.activeElement:I._noAe}catch{w=I._noAe}return w},I._noAe={},I}();typeof window<"u"&&(W=new Z);var xn,X=function(){function I(w){this.path=w}return Object.defineProperty(I.prototype,"path",{get:function(){return this._path},set:function(w){this._path=w,this._parts=w?w.split("."):[];for(var A=0;A<this._parts.length;A++){var te=this._parts[A],_e=te.indexOf("[");_e>-1&&(this._parts[A]=te.substr(0,_e),this._parts.splice(++A,0,parseInt(te.substr(_e+1))))}this._key=1==this._parts.length?this._parts[0]:null},enumerable:!0,configurable:!0}),I.prototype.getValue=function(w){if(w){if(this._key)return w[this._key];if(this._path&&this._path in w)return w[this._path];for(var A=0;A<this._parts.length&&w;A++)w=w[this._parts[A]]}return w},I.prototype.setValue=function(w,A){if(w)try{var te=this._path;if(te in w)return w[te]=A,w[te]==A;for(var _e=0;_e<this._parts.length-1;_e++)if(null==(w=w[this._parts[_e]]))return!1;return w[te=this._parts[this._parts.length-1]]=A,w[te]==A}catch{return!1}return!1},I}(),de=function(w,A){this.handler=w,this.self=A},me=function(){function I(w){this._handlers=[],this._handlersChanged=w}return I.prototype.addHandler=function(w,A){w=ei(w),this._handlers.push(new de(w,A)),Ue(this._handlersChanged)&&this._handlersChanged()},I.prototype.removeHandler=function(w,A){var te=!1;w=ei(w);for(var _e=0;_e<this._handlers.length;_e++){var Be=this._handlers[_e];if(!(Be.handler!=w&&null!=w||Be.self!=A&&null!=A)&&(this._handlers.splice(_e--,1),te=!0,w&&A))break}te&&Ue(this._handlersChanged)&&this._handlersChanged()},I.prototype.removeAllHandlers=function(){var w=this._handlers.length>0;this._handlers.length=0,w&&Ue(this._handlersChanged)&&this._handlersChanged()},I.prototype.raise=function(w,A){void 0===A&&(A=ft.empty);for(var te=this._handlers,_e=0;_e<te.length;_e++){var Be=te[_e];Be.handler.call(Be.self,w,A),te[_e]!==Be&&_e--}},Object.defineProperty(I.prototype,"hasHandlers",{get:function(){return this._handlers.length>0},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"handlerCount",{get:function(){return this._handlers.length},enumerable:!0,configurable:!0}),I}(),ft=function(){function I(){}return I.empty=new I,I}(),pt=function(I){function w(){var A=null!==I&&I.apply(this,arguments)||this;return A.cancel=!1,A}return C(w,I),w}(ft),Et=function(I){function w(A,te,_e){var Be=I.call(this)||this;return Be._name=A,Be._oldVal=te,Be._newVal=_e,Be}return C(w,I),Object.defineProperty(w.prototype,"propertyName",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"oldValue",{get:function(){return this._oldVal},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"newValue",{get:function(){return this._newVal},enumerable:!0,configurable:!0}),w}(ft),jt=function(I){function w(A,te){var _e=I.call(this)||this;return _e._xhr=A,_e._msg=te,_e}return C(w,I),Object.defineProperty(w.prototype,"request",{get:function(){return this._xhr},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"message",{get:function(){return this._msg},set:function(A){this._msg=A},enumerable:!0,configurable:!0}),w}(pt);!function(I){I[I.Add=0]="Add",I[I.Remove=1]="Remove",I[I.Change=2]="Change",I[I.Reset=3]="Reset"}(xn||(xn={}));var fn,un,En=function(I){function w(A,te,_e){void 0===A&&(A=xn.Reset),void 0===te&&(te=null),void 0===_e&&(_e=-1);var Be=I.call(this)||this;return Be.action=A,Be.item=te,Be.index=_e,Be}return C(w,I),w.reset=new w(xn.Reset),w}(ft),In=function(){function I(w,A){this._bnd=new X(w),this._asc=A}return Object.defineProperty(I.prototype,"property",{get:function(){return this._bnd.path},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"ascending",{get:function(){return this._asc},enumerable:!0,configurable:!0}),I}(),Te=function(I){function w(A){var te=I.call(this)||this;return te.newPageIndex=A,te}return C(w,I),w}(pt),$t=function(){function I(){}return I.prototype.groupNameFromItem=function(w,A){return""},I.prototype.namesMatch=function(w,A){return w===A},I}(),Lt=function(I){function w(A,te){var _e=I.call(this)||this;return _e._bnd=new X(A),_e._converter=te,_e}return C(w,I),Object.defineProperty(w.prototype,"propertyName",{get:function(){return this._bnd.path},enumerable:!0,configurable:!0}),w.prototype.groupNameFromItem=function(A,te){return this._converter?this._converter(A,this.propertyName):this._bnd.getValue(A)},w.prototype.namesMatch=function(A,te){return A===te},w}($t),rt="5.20222.877";function _t(){return rt}function Ut(I){Oe._licKey=I}function Ft(I,w){return null==I?null:yn(w)?Ue(I.implementsInterface)&&I.implementsInterface(w)?I:null:I instanceof w?I:null}function Pn(I){return yn(I)||On(I)||It(I)||Ge(I)}function yn(I){return"string"==typeof I}function Dn(I){return!I||!/\S/.test(I)}function On(I){return"number"==typeof I}function Ti(I){return On(I)&&I==Math.round(I)}function It(I){return"boolean"==typeof I}function Ue(I){return"function"==typeof I}function Ht(I){return void 0===I}function Ge(I){return(I instanceof Date||"[object Date]"===Object.prototype.toString.call(I))&&!isNaN(I.getTime())}function Pt(I){return I instanceof Array||Array.isArray(I)||"[object Array]"===Object.prototype.toString.call(I)}function Yt(I){return null!=I&&"object"==typeof I&&!Ge(I)&&!Pt(I)}function ut(I){for(var w in I)return!1;return!0}function ni(I){for(var w=I,A=0;null!=document.getElementById(w);A++)w=I+A;return w}function Kn(I){if(I instanceof Ri)return I;if(I&&I.touches&&I.touches.length>0&&(I=I.touches[0]),On(I.clientX)&&On(I.clientY))return new Ri(I.clientX+pageXOffset,I.clientY+pageYOffset);throw"Mouse or touch event expected."}function Fn(I){return On(I)?un.Number:It(I)?un.Boolean:Ge(I)?un.Date:yn(I)?un.String:Pt(I)?un.Array:un.Object}function dr(I,w){if(void 0===w&&(w=1e3),!I)return[];var A=I.length;(w<=0||A<w)&&(w=A);var te=[];if(w){for(var _e=Object.keys(I[0]),Be={},We=_e.slice(),vt=0;vt<w;vt++){for(var zt=I[vt],an=We.length-1;an>=0;an--){var Mn=We[an],qn=zt[Mn];if(Pn(qn)){var Xn=Object.getOwnPropertyDescriptor(I[vt],Mn);Be[Mn]={binding:Mn,dataType:Fn(qn),isReadOnly:Xn&&!Xn.writable&&!Xn.set},We.splice(an,1)}}if(!We.length)break}for(vt=0;vt<_e.length;vt++){var hi=Be[_e[vt]];hi&&te.push(hi)}}return te}function Fr(I,w,A,te){if(null!=I){var _e=un;if(yn(I))switch(w){case _e.Number:var Be=Ao.parseFloat(I,A);return isNaN(Be)?I:Be;case _e.Date:var We=Ao.parseDate(I,A,Ge(te)?te:null);return We||A||!I||(We=new Date(I)),We&&isFinite(We.getTime())?We:I;case _e.Boolean:switch(I.toLowerCase()){case"true":return!0;case"false":return!1}return I;case _e.Array:try{var vt=I.split(",").map(function(zt){return(zt=zt.trim()).match(/^(\+|\-)?\d+\.?\d*$/)?zt:'"'+zt+'"'});return JSON.parse("["+vt.join(",")+"]")}catch{}}if(w==un.String)return Ao.format(I,A)}return I}function Ei(I,w,A){if(A){var te=I.toString(),_e=te.indexOf("e"),Be=te.indexOf(".");if(_e>-1){if("-"===te[_e+1]){var We=parseFloat(te.substr(_e+2)),vt=te.substr(0,_e);Be>-1&&(vt=vt.substr(0,Be)+vt.substr(Be+1)),te="0."+(Array(We).join("0")+vt).substr(0,w),I=parseFloat(te)}}else Be>-1&&(te=te.substr(0,Be+1+w),I=parseFloat(te))}else{var zt=Math.pow(10,w);I=Math.round(I*zt)/zt}return I}function fo(I,w,A){if((I=on(I)).match(/\{.*"count".*:.*"when".*:.*\}/))try{var te=JSON.parse(I);if(yn(te.count)){var _e=w[te.count],Be=te.when;if(On(_e)&&Yt(Be)){var We=Be[_e]||Be.other;yn(We)&&(I=We)}}}catch{}return I.replace(/\{(.*?)(:(.*?))?\}/g,function(vt,zt,an,Mn){var qn=vt;return zt&&"{"!=zt[0]&&w&&(qn=new X(zt).getValue(w),Mn&&(qn=Ao.format(qn,Mn)),A&&(qn=A(w,zt,Mn,qn))),qn??""})}function Fi(){for(var I=[],w=0;w<arguments.length;w++)I[w]=arguments[w];var A=[],te=-1;return I[0].forEach(function(_e,Be){if(Be>0&&Be!=te){var We=I[Be],vt=_e.match(/^:([a-z][0-9]*\b)/i)||_e.match(/^:'(.+?)'/)||_e.match(/^:"(.+?)"/);vt?(We=Ao.format(We,vt[1]),_e=_e.substr(vt[0].length)):":"==_e&&Be<I.length-1&&(On(We)||Ge(We))&&(We=Ao.format(We,I[Be+1]),_e="",te=Be+1),A.push(We)}_e&&A.push(_e)}),A.join("")}function Xr(I,w){return oe()?(I=I.replace(/:\${([^}]*)}/g,function(A,te){return":"+pn(te,w)})).replace(/\${([^}]*)}(:(([A-Za-z]\d*)|"([^"]+)"|'([^']+)'))?/g,function(A,te,_e,Be,We,vt,zt){var an=pn(te,w);return Be?Ao.format(an,We||vt||zt):an}):pn(I,w)}function pn(I,w){(w=w||{}).glbz=Fi;var A=Object.keys(w),te=A.map(function(_e){return w[_e]});return(oe()?new(Function.bind.apply(Function,[void 0].concat(A,["return "+I]))):new(Function.bind.apply(Function,[void 0].concat(A,["return glbz`"+I+"`"])))).apply(void 0,te)}function nt(I,w,A){return null!=I&&(null!=A&&I>A&&(I=A),null!=w&&I<w&&(I=w)),I}function He(I,w){if(w)for(var A in w)if("_"!=A[0]){Xe(A in I,'Unknown property "'+A+'".');var te=w[A];I._copy&&I._copy(A,te)||(I[A]instanceof me?Ue(te)&&I[A].addHandler(te):!Yt(te)||typeof Element<"u"&&te instanceof Element||!I[A]||"itemsSource"==A?I[A]=te:He(I[A],te))}return I}function Xe(I,w){if(!I){w="** Assertion failed in Wijmo: "+w;var A=new Error;throw yn(A.stack)&&(w+=" "+A.stack),w}}function ln(I,w){console.error('** WARNING: "'+I+'" has been deprecated; please use "'+w+'" instead.')}function on(I,w){return void 0===w&&(w=!0),Ht(I)&&(I=null),Xe(w&&null==I||yn(I),"String expected."),I}function Ln(I,w,A){if(void 0===w&&(w=!1),void 0===A&&(A=!1),Xe(w&&null==I||On(I),"Number expected."),A&&I&&I<0)throw"Positive number expected.";return I}function Wi(I,w,A){if(void 0===w&&(w=!1),void 0===A&&(A=!1),Xe(w&&null==I||Ti(I),"Integer expected."),A&&I&&I<0)throw"Positive integer expected.";return I}function pi(I,w){return void 0===w&&(w=!1),Xe(w&&null==I||It(I),"Boolean expected."),I}function bi(I,w){if(void 0===w&&(w=!1),yn(I)){var A=Fr(I,un.Date,"r");Ge(A)&&(I=A)}return Xe(w&&null==I||Ge(I),"Date expected."),I}function ei(I,w){return void 0===w&&(w=!0),Xe(w&&null==I||Ue(I),"Function expected."),I}function si(I,w){return void 0===w&&(w=!0),Xe(w&&null==I||Pt(I),"Array expected."),I}function qt(I,w,A){return void 0===A&&(A=!1),I=Ft(I,w),Xe(A||null!=I,w+" expected."),I}function Je(I,w,A){if(void 0===A&&(A=!1),null==I&&A)return null;var te=yn(I)?w[I]:I;return Xe(null!=te,'Invalid enum value: "'+I+'"'),On(te)?te:I}function Ae(I,w){return void 0===w&&(w=!0),null==I&&w?null:Ft(I,"ICollectionView")??(Pt(I)||Xe(!1,"Array or ICollectionView expected."),new Ar(I))}function Ne(I){return null!=I&&null!=I.items&&I.items.length>0}function Mt(I){return I&&I.length?I[0].toUpperCase()+I.substr(1).replace(/([a-z])([A-Z])/g,"$1 $2"):""}function Wt(I){return I&&yn(I)&&(I=I.replace(/[&<>"'\/]/g,function(w){return Zt[w]})),null!=I?I.toString():""}!function(I){I[I.Back=8]="Back",I[I.Tab=9]="Tab",I[I.Enter=13]="Enter",I[I.Escape=27]="Escape",I[I.Space=32]="Space",I[I.PageUp=33]="PageUp",I[I.PageDown=34]="PageDown",I[I.End=35]="End",I[I.Home=36]="Home",I[I.Left=37]="Left",I[I.Up=38]="Up",I[I.Right=39]="Right",I[I.Down=40]="Down",I[I.Delete=46]="Delete",I[I.F1=112]="F1",I[I.F2=113]="F2",I[I.F3=114]="F3",I[I.F4=115]="F4",I[I.F5=116]="F5",I[I.F6=117]="F6",I[I.F7=118]="F7",I[I.F8=119]="F8",I[I.F9=120]="F9",I[I.F10=121]="F10",I[I.F11=122]="F11",I[I.F12=123]="F12"}(fn||(fn={})),function(I){I[I.Object=0]="Object",I[I.String=1]="String",I[I.Number=2]="Number",I[I.Boolean=3]="Boolean",I[I.Date=4]="Date",I[I.Array=5]="Array"}(un||(un={}));var Qe,Zt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function ht(I){return I.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function sn(I){var w=on(I);return yn(w)&&w.indexOf("<")>-1&&(Qe||(Qe=document.createElement("div")),Qe.innerHTML=w,w=Qe.textContent),w}function gn(I,w){if(I&&w){if(I instanceof HTMLElement&&I.classList&&!xe())return I.classList.contains(w);if(I.getAttribute){var A=new RegExp("(\\s|^)"+w+"(\\s|$)");return I&&A.test(I.getAttribute("class"))}}return!1}function Qn(I,w){if(I&&w){if(I instanceof HTMLElement&&I.classList&&!xe())return void(w.indexOf(" ")<0?I.classList.add(w):w.split(" ").forEach(function(A){I.classList.add(A)}));I.setAttribute&&w.split(" ").forEach(function(A){if(!gn(I,A)){var te=I.getAttribute("class");I.setAttribute("class",te?te+" "+A:A)}})}}function Zn(I,w){if(I&&w){if(I instanceof HTMLElement&&I.classList&&!xe())return void(w.indexOf(" ")<0?I.classList.remove(w):w.split(" ").forEach(function(A){I.classList.remove(A)}));I.setAttribute&&w.split(" ").forEach(function(A){if(gn(I,A)){var te=new RegExp("((\\s|^)"+A+"(\\s|$))","g"),_e=I.getAttribute("class");(_e=_e.replace(te," ").replace(/ +/g," ").trim())?I.setAttribute("class",_e):I.removeAttribute("class")}})}}function Vn(I,w,A){null==A&&(A=!gn(I,w)),A?Qn(I,w):Zn(I,w)}function Pi(I,w,A,te){I&&(null!=A?te&&I.getAttribute(w)||I.setAttribute(w,A.toString()):I.removeAttribute(w))}function Ui(I,w){var A=null==w;I.checked=oe()?w||A:w,I.indeterminate=A}function Ii(I,w){Pi(I,"aria-label",w)}function Hi(I,w,A,te){if(void 0===A&&(A=w),void 0===te&&(te=!0),Xe(I instanceof HTMLInputElement||I instanceof HTMLTextAreaElement,"INPUT or TEXTAREA element expected"),Eo(document.body,I)&&!I.disabled&&I.offsetHeight){try{I.setSelectionRange(w,A,"backward")}catch{}if(te)try{return I.focus(),!0}catch{}}return!1}function wr(I){var w="autocomplete",A=I.getAttribute(w);A&&"on"!=A||I.setAttribute(w,"off"),"autocorrect,autocapitalize,spellcheck".split(",").forEach(function(te){I.setAttribute(te,"spellcheck"==te?"false":"off")})}function Jr(I){return I&&I.parentNode?I.parentNode.removeChild(I):null}function mo(){var I=document.activeElement;if(I){var w=I.shadowRoot;w&&w.activeElement&&(I=w.activeElement)}return I}function Xs(){var I=W.activeElement;if(I){var w=I.shadowRoot;w&&w.activeElement&&(I=w.activeElement)}return I}function Ts(I,w){var A=ks(I,w<0),te=0;if(w){var _e=A.indexOf(mo());_e>-1&&(te=(_e+w+A.length)%A.length)}if(te<A.length){var Be=A[te];return Be.focus(),Be instanceof HTMLInputElement&&Be.select(),!0}return!1}function ks(I,w){void 0===w&&(w=!1);var A=[],te=Array.prototype.slice.call(I.querySelectorAll("input,select,textarea,button,a,div")),_e={},Be=function(Mn){return Mn instanceof HTMLInputElement&&"radio"===Mn.type};te.forEach(function(Mn){Be(Mn)&&Mn.checked&&(_e[Mn.name||""]=!0)}),(te=te.filter(function(Mn){return!Be(Mn)||Mn.checked||!_e[Mn.name||""]})).sort(function(Mn,qn){return Mn.tabIndex-qn.tabIndex});for(var We=0;We<te.length;We++){var vt=te[We];if(vt.offsetHeight>0&&vt.tabIndex>-1&&!vt.disabled&&"hidden"!==window.getComputedStyle(vt).visibility&&!_o(vt,"[disabled],.wj-state-disabled")){if(vt instanceof HTMLAnchorElement&&!vt.hasAttribute("href"))continue;if(oe()&&!vt.hasAttribute("tabindex")){if(vt instanceof HTMLDivElement)continue;var zt=Oe.getControl(_o(vt,".wj-flexgrid"));if(zt&&0==zt.keyActionTab)continue}if("radio"===vt.type&&!vt.checked&&A.length>0){var an=A[A.length-1];if("radio"===an.type&&an.name===vt.name){w&&(A[A.length-1]=vt);continue}}!Oe.getControl(vt)&&ks(vt).length||A.push(vt)}}return A}function qo(I,w,A){void 0===A&&(A="text/plain");var te=I instanceof Blob;te||!A.match(/\bcsv\b/i)&&!w.match(/\.csv$/i)||(I="\ufeff"+I);var _e=te?I:new Blob([I],{type:A});if(Ue(navigator.msSaveOrOpenBlob))navigator.msSaveOrOpenBlob(_e,w);else{var Be=document.createElement("a"),We=function(Mn){var qn=document.createEvent("MouseEvents");qn.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),Mn.dispatchEvent(qn)};if("download"in Be){var vt=window.URL||window.webkitURL,zt=vt.createObjectURL(_e);Be.href=zt,Be.target="_blank",Be.download=w,We(Be),Be=null,window.setTimeout(function(){vt.revokeObjectURL(zt)},3e4)}else{var an=new FileReader;an.onloadend=function(){Be.href=an.result,Be.download=w,We(Be),Be=null},an.readAsDataURL(_e)}}}function ii(I){if(I instanceof Element)return I;if(yn(I))try{return document.querySelector(I)}catch{}return I&&I.jquery?I[0]:null}function qi(I,w,A){I=I.replace(/\bstyle\s*=\s*"/g,'_wj-style="');var te=document.createElement("div");if(te.innerHTML=I,I.indexOf("_wj-style")>-1)for(var _e=te.querySelectorAll("[_wj-style]"),Be=function(vt){var zt=_e[vt];zt.getAttribute("_wj-style").split(";").forEach(function(an){var Mn=an.split(":");2==Mn.length&&(zt.style[Mn[0].trim()]=Mn[1].trim())}),zt.removeAttribute("_wj-style")},We=0;We<_e.length;We++)Be(We);return 1==te.children.length&&(te=te.children[0]),A&&no(te,A),w&&(w=ii(w)).appendChild(te),te}function Br(I,w){I.textContent=w||""}function Eo(I,w,A){for(var te=w;te&&I;){if(te===I)return!0;te=(A?te[Oe._OWNR_KEY]:null)||te.parentNode||te.host}return!1}function _o(I,w){if(I){if(Ue(I.closest))return I.closest(w);var A=I.matches||I.webkitMatchesSelector||I.msMatchesSelector||I.mozMatchesSelector;if(A)for(;I&&1===I.nodeType;I=I.parentElement||I.parentNode)if(A.call(I,w))return I}return null}function ur(I,w){return _o(I,"."+w)}function No(I,w){var A=!w,te="disabled";Vn(I,"wj-state-disabled",A),Pi(I,te,A?te:null);for(var _e=I.querySelectorAll("input,button"),Be=0;Be<_e.length;Be++)Pi(_e[Be],te,A?te:null)}function pr(I){var w=I.getBoundingClientRect();return new io(w.left+pageXOffset,w.top+pageYOffset,w.width,w.height)}function no(I,w){if(Xe(Yt(w),"css parameter should be an object"),I instanceof Array)for(var A=0;A<I.length;A++)no(I[A],w);else if(I&&I.style){var te=I.style;for(var _e in w){var Be=w[_e];"number"==typeof Be&&_e.match(/width|height|left|top|right|bottom|size|padding|margin'/i)&&(Be+="px"),te[_e]!==Be&&(te[_e]=Be)}}}function wo(I,w,A){null==w&&(w=Oe._ANIM_DEF_DURATION),null==A&&(A=Oe._ANIM_DEF_STEP),I=ei(I),w=Ln(w,!1,!0),A=Ln(A,!1,!0);var te,_e=Date.now(),Be=setInterval(function(){var We=Math.min(1,(Date.now()-_e)/w);We=Math.sin(We*Math.PI/2),We*=We,te&&cancelAnimationFrame(te),te=requestAnimationFrame(function(){te=null,I(We)}),We>=1&&clearInterval(Be)},A);return Be}var Ri=function(){function I(w,A){void 0===w&&(w=0),void 0===A&&(A=0),this.x=Ln(w),this.y=Ln(A)}return I.prototype.equals=function(w){return w instanceof I&&this.x==w.x&&this.y==w.y},I.prototype.clone=function(){return new I(this.x,this.y)},I}(),gs=function(){function I(w,A){void 0===w&&(w=0),void 0===A&&(A=0),this.width=Ln(w),this.height=Ln(A)}return I.prototype.equals=function(w){return w instanceof I&&this.width==w.width&&this.height==w.height},I.prototype.clone=function(){return new I(this.width,this.height)},I}(),io=function(){function I(w,A,te,_e){this.left=Ln(w),this.top=Ln(A),this.width=Ln(te),this.height=Ln(_e)}return Object.defineProperty(I.prototype,"right",{get:function(){return this.left+this.width},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"bottom",{get:function(){return this.top+this.height},enumerable:!0,configurable:!0}),I.prototype.equals=function(w){return w instanceof I&&this.left==w.left&&this.top==w.top&&this.width==w.width&&this.height==w.height},I.prototype.clone=function(){return new I(this.left,this.top,this.width,this.height)},I.fromBoundingRect=function(w){return null!=w.left?new I(w.left,w.top,w.width,w.height):null!=w.x?new I(w.x,w.y,w.width,w.height):void Xe(!1,"Invalid source rectangle.")},I.union=function(w,A){var te=Math.min(w.left,A.left),_e=Math.min(w.top,A.top);return new I(te,_e,Math.max(w.right,A.right)-te,Math.max(w.bottom,A.bottom)-_e)},I.intersection=function(w,A){var te=Math.max(w.left,A.left),_e=Math.max(w.top,A.top);return new I(te,_e,Math.min(w.right,A.right)-te,Math.min(w.bottom,A.bottom)-_e)},I.prototype.contains=function(w){return w instanceof Ri?w.x>=this.left&&w.x<=this.right&&w.y>=this.top&&w.y<=this.bottom:w instanceof I?w.left>=this.left&&w.right<=this.right&&w.top>=this.top&&w.bottom<=this.bottom:void Xe(!1,"Point or Rect expected.")},I.prototype.inflate=function(w,A){return new I(this.left-w,this.top-A,this.width+2*w,this.height+2*A)},I}(),Co=function(){function I(){}return I.addDays=function(w,A){return(w=new Date(w.getTime())).setDate(w.getDate()+A),w},I.addMonths=function(w,A){var te=(w=new Date(w.getTime())).getDate();return w.setMonth(w.getMonth()+A),w.getDate()!=te&&w.setDate(0),w},I.addYears=function(w,A){return(w=new Date(w.getTime())).setFullYear(w.getFullYear()+A),w},I.addHours=function(w,A){return(w=new Date(w.getTime())).setHours(w.getHours()+A),w},I.addMinutes=function(w,A){return(w=new Date(w.getTime())).setMinutes(w.getMinutes()+A),w},I.addSeconds=function(w,A){return(w=new Date(w.getTime())).setSeconds(w.getSeconds()+A),w},I.weekFirst=function(w,A){return void 0===A&&(A=Ao.getFirstDayOfWeek()),I.addDays(w,-(w.getDay()-A))},I.weekLast=function(w,A){return void 0===A&&(A=Ao.getFirstDayOfWeek()),w=I.weekFirst(w,A),I.addDays(w,6)},I.monthFirst=function(w){return I.addDays(w,1-w.getDate())},I.monthLast=function(w){return w=I.monthFirst(w),w=I.addMonths(w,1),I.addDays(w,-1)},I.yearFirst=function(w){return new Date(w.getFullYear(),0,1)},I.yearLast=function(w){return new Date(w.getFullYear(),11,31)},I.sameDate=function(w,A){return Ge(w)&&Ge(A)&&w.getFullYear()==A.getFullYear()&&w.getMonth()==A.getMonth()&&w.getDate()==A.getDate()},I.sameTime=function(w,A){return Ge(w)&&Ge(A)&&w.getHours()==A.getHours()&&w.getMinutes()==A.getMinutes()&&w.getSeconds()==A.getSeconds()&&w.getMilliseconds()==A.getMilliseconds()},I.equals=function(w,A){return null==w&&null==A||Ge(w)&&Ge(A)&&w.getTime()==A.getTime()},I.fromDateTime=function(w,A){return w||A?(w||(w=A),A||(A=w),I.newDate(w.getFullYear(),w.getMonth(),w.getDate(),A.getHours(),A.getMinutes(),A.getSeconds(),A.getMilliseconds())):null},I.toFiscal=function(w,A){var te=Nn.Globalize.calendar;return Pt(te.fiscalYearOffsets)?I.addMonths(w,-te.fiscalYearOffsets[A?0:1]):w},I.fromFiscal=function(w,A){var te=Nn.Globalize.calendar;return Pt(te.fiscalYearOffsets)?I.addMonths(w,+te.fiscalYearOffsets[A?0:1]):w},I.newDate=function(w,A,te,_e,Be,We,vt){if(null==w||null==A||null==te){var zt=new Date;null==w&&(w=zt.getFullYear()),null==A&&(A=zt.getMonth()),null==te&&(te=zt.getDate())}null==_e&&(_e=0),null==Be&&(Be=0),null==We&&(We=0),null==vt&&(vt=0);var an=new Date(w,A,te,_e,Be,We,vt),Mn=an.getFullYear();return w<100&&Mn>=1900&&an.setFullYear(an.getFullYear()-1900),an},I.clone=function(w){return I.fromDateTime(w,w)},I}();function Ps(I,w){var A=w||{},te=A.method?on(A.method).toUpperCase():"GET",_e=null==A.async||pi(A.async),Be=A.data;if(null!=Be&&"GET"==te){var We=[];for(var vt in Be){var zt=Be[vt];Ge(zt)&&(zt=zt.toJSON()),We.push(vt+"="+encodeURIComponent(zt))}if(We.length){var an=I.indexOf("?")<0?"?":"&";I+=an+We.join("&")}Be=null}var Mn=new XMLHttpRequest;Mn.URL_DEBUG=I;var qn=!1;if(null!=Be&&!yn(Be)&&(qn=Yt(Be),Be=JSON.stringify(Be)),Mn.onload=function(){4==Mn.readyState&&(Mn.status<300?A.success&&ei(A.success)(Mn):A.error&&ei(A.error)(Mn),A.complete&&ei(A.complete)(Mn))},Mn.onerror=function(){if(!Ue(A.error))throw"HttpRequest Error: "+Mn.status+" "+Mn.statusText;A.error(Mn)},Mn.open(te,I,_e,A.user,A.password),A.user&&A.password&&Mn.setRequestHeader("Authorization","Basic "+btoa(A.user+":"+A.password)),qn&&function(){for(var hi in A.requestHeaders)if("content-type"===hi.toLowerCase())return!1;return!0}()&&Mn.setRequestHeader("Content-Type","application/json"),A.requestHeaders)for(var Xn in A.requestHeaders)Mn.setRequestHeader(Xn,A.requestHeaders[Xn]);return On(A.timeout)&&(Mn.timeout=A.timeout),Ue(A.beforeSend)&&A.beforeSend(Mn),Mn.send(Be),Mn}var po={};function ms(I,w){if(po[I]=w,"wijmo"===I){var A=typeof window<"u"?window:typeof self<"u"?self:null;A&&(A.wijmo=w)}}function _s(I){return po[I]}var Oo=function(){function I(w){if(void 0===w&&(w=!0),w)this._h={};else{var A=function os(){var I=null;return typeof window<"u"?I=window:typeof global<"u"?I=global:typeof self<"u"&&(I=self),I}();this._m=A&&A.Map&&new Map||new Is}}return Object.defineProperty(I.prototype,"isPojoHash",{get:function(){return null!=this._h},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"size",{get:function(){return this._h&&Object.keys(this._h).length||this._m.size},enumerable:!0,configurable:!0}),I.prototype.clear=function(){this._h?this._h={}:this._m.clear()},I.prototype.delete=function(w){this._h?delete this._h[w]:this._m.delete(w)},I.prototype.get=function(w){return this._h?this._h[w]:this._m.get(w)},I.prototype.has=function(w){return this._h?w in this._h:this._m.has(w)},I.prototype.set=function(w,A){return this._h?this._h[w]=A:this._m.set(w,A),this},I}(),Is=function(){function I(){this._d=[]}return Object.defineProperty(I.prototype,"size",{get:function(){return this._d.length},enumerable:!0,configurable:!0}),I.prototype.clear=function(){this._d=[]},I.prototype.delete=function(w){var A=this._kIdx(w);return A>-1&&(this._d.splice(A,1),!0)},I.prototype.get=function(w){var A=this._kIdx(w);return A>-1?this._d[A].v:void 0},I.prototype.has=function(w){return this._kIdx(w)>-1},I.prototype.set=function(w,A){var te=this._kIdx(w);return te>-1?this._d[te].v=A:this._d.push({k:w,v:A}),this},I.prototype._kIdx=function(w){var A=this._d,te=A.length;if(w==w){for(var _e=0;_e<te;_e++)if(A[_e].k===w)return _e}else for(_e=0;_e<te;_e++){var Be=A[_e].k;if(Be!=Be)return _e}return-1},I}(),hr=function(){function I(w){this._r=0,this._g=0,this._b=0,this._a=1,w&&this._parse(w)}return Object.defineProperty(I.prototype,"r",{get:function(){return this._r},set:function(w){this._r=nt(Ln(w),0,255)},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"g",{get:function(){return this._g},set:function(w){this._g=nt(Ln(w),0,255)},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"b",{get:function(){return this._b},set:function(w){this._b=nt(Ln(w),0,255)},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"a",{get:function(){return this._a},set:function(w){this._a=nt(Ln(w),0,1)},enumerable:!0,configurable:!0}),I.prototype.equals=function(w){return w instanceof I&&this.r==w.r&&this.g==w.g&&this.b==w.b&&this.a==w.a},I.prototype.toString=function(){var w=Math.round(100*this.a);return w>99?"#"+((1<<24)+(this.r<<16)+(this.g<<8)+this.b).toString(16).slice(1):"rgba("+this.r+","+this.g+","+this.b+","+w/100+")"},I.fromRgba=function(w,A,te,_e){void 0===_e&&(_e=1);var Be=new I(null);return Be.r=Math.round(nt(Ln(w),0,255)),Be.g=Math.round(nt(Ln(A),0,255)),Be.b=Math.round(nt(Ln(te),0,255)),Be.a=nt(Ln(_e),0,1),Be},I.fromHsb=function(w,A,te,_e){void 0===_e&&(_e=1);var Be=I._hsbToRgb(nt(Ln(w),0,1),nt(Ln(A),0,1),nt(Ln(te),0,1));return I.fromRgba(Be[0],Be[1],Be[2],_e)},I.fromHsl=function(w,A,te,_e){void 0===_e&&(_e=1);var Be=I._hslToRgb(nt(Ln(w),0,1),nt(Ln(A),0,1),nt(Ln(te),0,1));return I.fromRgba(Be[0],Be[1],Be[2],_e)},I.fromString=function(w){var A=new I(null);return A._parse(on(w))?A:null},I.prototype.getHsb=function(){return I._rgbToHsb(this.r,this.g,this.b)},I.prototype.getHsl=function(){return I._rgbToHsl(this.r,this.g,this.b)},I.interpolate=function(w,A,te){te=nt(Ln(te),0,1);var _e=I._rgbToHsl(w.r,w.g,w.b),Be=I._rgbToHsl(A.r,A.g,A.b),We=1-te,vt=w.a*We+A.a*te,zt=[_e[0]*We+Be[0]*te,_e[1]*We+Be[1]*te,_e[2]*We+Be[2]*te],an=I._hslToRgb(zt[0],zt[1],zt[2]);return I.fromRgba(an[0],an[1],an[2],vt)},I.toOpaque=function(w,A){if(1==(w=yn(w)?I.fromString(w):qt(w,I)).a)return w;A=null==A?I.fromRgba(255,255,255,1):yn(A)?I.fromString(A):qt(A,I);var te=w.a,_e=1-te;return I.fromRgba(w.r*te+A.r*_e,w.g*te+A.g*_e,w.b*te+A.b*_e)},I.prototype._parse=function(w){if("transparent"==(w=w.toLowerCase()))return this._r=this._g=this._b=this._a=0,!0;if(w&&0!=w.indexOf("#")&&0!=w.indexOf("rgb")&&0!=w.indexOf("hsl")){var A=document.createElement("div");A.style.color=w;var te=A.style.color;te==w&&!(te=window.getComputedStyle(A).color)&&(document.body.appendChild(A),te=window.getComputedStyle(A).color,Jr(A)),w=te.toLowerCase()}if(0==w.indexOf("#"))return 4==w.length?(this.r=parseInt(w[1]+w[1],16),this.g=parseInt(w[2]+w[2],16),this.b=parseInt(w[3]+w[3],16),this.a=1,!0):7==w.length&&(this.r=parseInt(w.substr(1,2),16),this.g=parseInt(w.substr(3,2),16),this.b=parseInt(w.substr(5,2),16),this.a=1,!0);if(0==w.indexOf("rgb")){var _e=w.indexOf("("),Be=w.indexOf(")");if(_e>-1&&Be>-1&&(We=w.substr(_e+1,Be-(_e+1)).split(",")).length>2)return this.r=parseInt(We[0]),this.g=parseInt(We[1]),this.b=parseInt(We[2]),this.a=We.length>3?parseFloat(We[3]):1,!0}var We;if(0==w.indexOf("hsl")&&(_e=w.indexOf("("),Be=w.indexOf(")"),_e>-1&&Be>-1)&&(We=w.substr(_e+1,Be-(_e+1)).split(",")).length>2){var vt=parseInt(We[0])/360,zt=parseInt(We[1]),an=parseInt(We[2]);We[1].indexOf("%")>-1&&(zt/=100),We[2].indexOf("%")>-1&&(an/=100);var Mn=I._hslToRgb(vt,zt,an);return this.r=Mn[0],this.g=Mn[1],this.b=Mn[2],this.a=We.length>3?parseFloat(We[3]):1,!0}return!1},I._hslToRgb=function(w,A,te){var _e,Be,We;if(Xe(w>=0&&w<=1&&A>=0&&A<=1&&te>=0&&te<=1,"bad HSL values"),0==A)_e=Be=We=te;else{var vt=te<.5?te*(1+A):te+A-te*A,zt=2*te-vt;_e=I._hue2rgb(zt,vt,w+1/3),Be=I._hue2rgb(zt,vt,w),We=I._hue2rgb(zt,vt,w-1/3)}return[Math.round(255*_e),Math.round(255*Be),Math.round(255*We)]},I._hue2rgb=function(w,A,te){return te<0&&(te+=1),te>1&&(te-=1),te<1/6?w+6*(A-w)*te:te<.5?A:te<2/3?w+(A-w)*(2/3-te)*6:w},I._rgbToHsl=function(w,A,te){Xe(w>=0&&w<=255&&A>=0&&A<=255&&te>=0&&te<=255,"bad RGB values"),w/=255,A/=255,te/=255;var _e,Be,We=Math.max(w,A,te),vt=Math.min(w,A,te),zt=(We+vt)/2;if(We==vt)_e=Be=0;else{var an=We-vt;switch(Be=zt>.5?an/(2-We-vt):an/(We+vt),We){case w:_e=(A-te)/an+(A<te?6:0);break;case A:_e=(te-w)/an+2;break;case te:_e=(w-A)/an+4}_e/=6}return[_e,Be,zt]},I._rgbToHsb=function(w,A,te){Xe(w>=0&&w<=255&&A>=0&&A<=255&&te>=0&&te<=255,"bad RGB values");var _e=I._rgbToHsl(w,A,te);return I._hslToHsb(_e[0],_e[1],_e[2])},I._hsbToRgb=function(w,A,te){var _e=I._hsbToHsl(w,A,te);return I._hslToRgb(_e[0],_e[1],_e[2])},I._hsbToHsl=function(w,A,te){Xe(w>=0&&w<=1&&A>=0&&A<=1&&te>=0&&te<=1,"bad HSB values");var _e=nt(te*(2-A)/2,0,1),Be=1-Math.abs(2*_e-1),We=nt(Be>0?te*A/Be:A,0,1);return Xe(!isNaN(_e)&&!isNaN(We),"bad conversion to HSL"),[w,We,_e]},I._hslToHsb=function(w,A,te){Xe(w>=0&&w<=1&&A>=0&&A<=1&&te>=0&&te<=1,"bad HSL values");var _e=nt(1==te?1:(2*te+A*(1-Math.abs(2*te-1)))/2,0,1),Be=nt(_e>0?2*(_e-te)/_e:A,0,1);return Xe(!isNaN(_e)&&!isNaN(Be),"bad conversion to HSB"),[w,Be,_e]},I}(),Nn=typeof window<"u"&&window.wijmo&&window.wijmo.culture||{Globalize:{numberFormat:{".":".",",":",","-":"-","+":"+","%":"%",percent:{pattern:["-n%","n%"]},currency:{decimals:2,symbol:"$",pattern:["($n)","$n"]}},calendar:{"/":"/",":":":",firstDay:0,days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],am:["AM","A"],pm:["PM","P"],eras:["A.D.","B.C."],patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",t:"h:mm tt",T:"h:mm:ss tt",M:"MMMM d",m:"MMMM d",Y:"MMMM, yyyy",y:"MMMM, yyyy",g:"M/d/yyyy h:mm tt",G:"M/d/yyyy h:mm:ss tt",s:'yyyy"-"MM"-"dd"T"HH":"mm":"ss',o:'yyyy"-"MM"-"dd"T"HH":"mm":"ss"."fffffffK',O:'yyyy"-"MM"-"dd"T"HH":"mm":"ss"."fffffffK',U:"dddd, MMMM dd, yyyy h:mm:ss tt"},fiscalYearOffsets:[-3,-3]}}},Ao=function(){function I(){}return I.format=function(w,A,te,_e,Be){return yn(w)?w:On(w)?(A=A||(w==Math.round(w)?"n0":"n2"),I.formatNumber(w,A,te,_e,Be)):Ge(w)?I.formatDate(w,A=A||"d"):null!=w?w.toString():""},I.formatNumber=function(w,A,te,_e,Be){w=Ln(w),A=on(A);var We,vt=Nn.Globalize.numberFormat,zt=I._parseNumericFormat(A),an=zt.spec,Mn=zt.prec,qn=vt["."]||".",Xn=vt[","]||",",hi=vt["-"]||"-",Un=Math;if(null==Mn&&(Mn=Be??("c"==an?vt.currency.decimals:"e"==an?6:"r"==an?15:w==Un.round(w)?0:2)),zt.scale&&(w/=Un.pow(10,zt.scale)),"d"==an||"x"==an){for(We=(_e?Un.floor:Un.round)(Un.abs(w)).toString("d"==an?10:16);We.length<Mn;)We="0"+We;return w<0&&(We=hi+We),"X"==zt.specRaw?We.toUpperCase():We}switch(_e&&"p"!=an&&"e"!=an&&(w=Ei(w,Mn,!0)),an){case"e":We=w.toExponential(Mn),"E"==zt.specRaw&&(We=We.replace("e","E"));break;case"c":We=I._toFixedStr(Un.abs(w),Mn);break;case"p":w=I._shiftDecimal(w,2,14),_e&&(w=Ei(w,Mn,_e)),We=I._toFixedStr(Un.abs(w),Mn);break;default:"-"!=(We=I._toFixedStr(w,Mn))[0]||We.match(/[1-9]/)||(We=We.substr(1))}if((te||"g"==an||"r"==an)&&We.indexOf(".")>-1&&(We=We.replace(/(\.\d*?)0+$/g,"$1").replace(/\.$/,"")),"."!=qn&&(We=We.replace(".",qn)),"-"!=hi&&(We=We.replace("-",hi)),Xn&&("n"==an||"c"==an||"p"==zt.specRaw||"F"==zt.specRaw||"G"==zt.specRaw)){var br=We.indexOf(qn),jo=/\B(?=(\d\d\d)+(?!\d))/g;We=br>-1?We.substr(0,br).replace(jo,Xn)+We.substr(br):We.replace(jo,Xn)}if("c"==an){var $r=w<0&&We.match(/[1-9]/)?0:1,Bo=vt.currency.pattern[$r],ns=zt.curr||vt.currency.symbol;"\u200b"==ns&&(ns=""),We=Bo.replace("n",We).replace("$",ns)}if("p"==an){$r=w<0&&We.match(/[1-9]/)?0:1;var vr=vt["%"]||"%";We=(Bo=vt.percent.pattern[$r]).replace("n",We),"%"!=vr&&(We=We.replace("%",vr)),"-"!=hi&&0==$r&&(We=We.replace("-",hi))}return zt.prefix||zt.suffix?zt.prefix+We+zt.suffix:We},I.formatDate=function(w,A){switch(w=bi(w),A){case"r":case"R":return w.toUTCString();case"u":return w.toISOString().replace(/\.\d{3}/,"")}return A=I._expandFormat(A),I._parseDateFormat(A).map(function(te){return I._formatDatePart(w,A,te)}).join("")},I.parseInt=function(w,A){return Math.round(I.parseFloat(w,A))},I.parseFloat=function(w,A){var te=I._parseNumericFormat(A),_e=te.prefix;_e&&0==w.indexOf(_e)&&(w=w.substring(_e.length));var Be=te.suffix;if(Be){var We=w.lastIndexOf(Be);We>-1&&We==w.length-Be.length&&(w=w.substring(0,w.length-Be.length))}var vt=Nn.Globalize.numberFormat,zt=vt["."]||".",an=vt[","]||",",Mn=vt["-"]||"-",qn=vt["%"]||"%",Xn=te.curr||vt.currency.symbol||"$",hi=w.indexOf(qn)>-1,Un=w.indexOf("(")>-1&&w.indexOf(")")>-1,br=0;if("x"==te.spec)br=parseInt(w,16);else{[Xn,qn,"(",")"].forEach(function($r){w=w.replace($r,"")}),/\s/.test(an)&&(w=w.replace(/\s+/g,""));var jo=(w=w.replace(new RegExp("\\"+an,"g"),"").replace(new RegExp("\\"+Mn,"g"),"-").replace(/(\+|\-)\s+/g,"$1").replace(zt,".").trim()).length;!Un&&jo&&"-"==w[jo-1]&&(Un=!0,w=w.substring(0,jo-1)),br=/^\s*(\+|\-)?\d*(\.\d*)?(\s*E(\+|\-)?\d+)?\s*$/i.test(w)?parseFloat(w):Number.NaN}return isNaN(br)||(Un=Un||br<0,br=Math.abs(br),hi&&(br=I._shiftDecimal(br,-2)),Un&&(br=-br),te.scale&&(br*=Math.pow(10,te.scale))),br},I.parseDate=function(w,A,te){if(!(w=on(w)))return null;if("u"==A)return new Date(w);var _e;if("R"==A||"r"==A){var Be=w.match(/((\d+)\-(\d+)\-(\d+))?\s?((\d+):(\d+)(:(\d+))?)?/);return Be[1]||Be[5]?(_e=Be[1]?new Date(parseInt(Be[2]),parseInt(Be[3])-1,parseInt(Be[4])):new Date,Be[5]&&(_e.setHours(parseInt(Be[6])),_e.setMinutes(parseInt(Be[7])),_e.setSeconds(Be[8]?parseInt(Be[9]):0))):_e=new Date(w),isNaN(_e.getTime())?null:_e}A=I._expandFormat(A||"d");var We=Nn.Globalize.calendar,vt=I._CJK,zt=new RegExp("(\\"+We["/"]+")|(\\"+We[":"]+")|(\\d+)|(["+vt+"\\.]{2,})|(["+vt+"]+)","gi"),an=w.match(zt),Mn=I._parseDateFormat(A),qn=0;if(!(an&&an.length&&Mn&&Mn.length))return null;var Xn,hi,Un,br,jo,$r=-1,Bo=0,ns=1,vr=0,Vo=0,Jt=0,An=0,bn=-1,vi=null;(te=bi(te,!0))&&(Bo=te.getMonth(),ns=te.getDate(),vr=te.getHours(),Vo=te.getMinutes(),Jt=te.getSeconds(),An=te.getMilliseconds());for(var Gi=0;Gi<Mn.length&&an;Gi++){var gr=Gi-qn,Oi=gr>-1&&gr<an.length?an[gr]:"",Ni=Mn[Gi].length;switch(Mn[Gi]){case"EEEE":case"EEE":case"EE":case"E":case"eeee":case"eee":case"ee":case"e":jo=Mn[Gi];case"yyyy":case"yyy":case"yy":case"y":Ni>1&&Oi.length>Ni&&(an[gr]=Oi.substr(Ni),Oi=Oi.substr(0,Ni),qn++),$r=parseInt(Oi),br=4==Oi.length;break;case"MMMM":case"MMM":Un=!0,Bo=-1;for(var Da=Oi.toLowerCase(),xo="MMMM"==Mn[Gi]?We.months:We.monthsAbbr,Or=0;Or<12;Or++)if(0==xo[Or].toLowerCase().indexOf(Da)){Bo=Or;break}if(Bo>-1)break;case"MM":case"M":Un=!0,Ni>1&&Oi.length>Ni&&(an[gr]=Oi.substr(Ni),Oi=Oi.substr(0,Ni),qn++),Bo=parseInt(Oi)-1;break;case"dddd":case"ddd":Xn=!0;break;case"dd":case"d":Ni>1&&Oi.length>Ni&&(an[gr]=Oi.substr(Ni),Oi=Oi.substr(0,Ni),qn++),ns=parseInt(Oi),hi=!0;break;case"hh":case"h":Ni>1&&Oi.length>Ni&&(an[gr]=Oi.substr(Ni),Oi=Oi.substr(0,Ni),qn++),vr=12==(vr=parseInt(Oi))?0:vr;break;case"HH":Ni>1&&Oi.length>Ni&&(an[gr]=Oi.substr(Ni),Oi=Oi.substr(0,Ni),qn++),vr=parseInt(Oi);break;case"H":vr=parseInt(Oi);break;case"mm":case"m":Ni>1&&Oi.length>Ni&&(an[gr]=Oi.substr(Ni),Oi=Oi.substr(0,Ni),qn++),Vo=parseInt(Oi);break;case"ss":case"s":Ni>1&&Oi.length>Ni&&(an[gr]=Oi.substr(Ni),Oi=Oi.substr(0,Ni),qn++),Jt=parseInt(Oi);break;case"fffffff":case"FFFFFFF":case"ffffff":case"FFFFFF":case"fffff":case"FFFFF":case"ffff":case"FFFF":case"fff":case"FFF":case"ff":case"FF":case"f":case"F":An=parseInt(Oi)/Math.pow(10,Ni-3);break;case"tt":case"t":Oi=Oi.toUpperCase(),vr<12&&We.pm.indexOf(Oi)>-1&&(vr+=12);break;case"q":case"Q":case"u":case"U":bn=parseInt(Oi);break;case"ggg":case"gg":case"g":if(vi=We.eras.length>1?I._getEra(Oi,We):null,We.eras.length>0&&!vi)return null;break;case"/":case":":if(Oi&&Oi!=We[Mn[Gi]])return null;break;case We["/"]:case We[":"]:if(Oi&&Oi!=Mn[Gi])return null;break;case"K":break;default:I._unquote(Mn[Gi]).trim()!=Oi.trim()&&qn++}}if(Un&&hi&&(isNaN(vr)&&(vr=0),isNaN(Vo)&&(Vo=0),isNaN(Jt)&&(Jt=0)),Bo<0||Bo>11||isNaN(Bo)||ns<1||ns>31||isNaN(ns)||vr<0||vr>=24||isNaN(vr)||Vo<0||Vo>=60||isNaN(Vo)||Jt<0||Jt>=60||isNaN(Jt)||an.length+qn>Mn.length)return null;if(jo){if(!Un)return null;var ka=Nn.Globalize.calendar;if(Pt(ka.fiscalYearOffsets)){var za=Bo-ka.fiscalYearOffsets["E"==jo[0]?0:1];$r+=za>11?-1:za<0?1:0}}if(Xn&&!hi)return null;if(!Un&&bn>=1&&bn<=4&&(Bo=3*(bn-1)),isNaN($r)||$r<0)$r=te?te.getFullYear():(new Date).getFullYear();else if(vi&&vi.start)$r=$r+vi.start.getFullYear()-1;else if($r<100&&!br){var Wa=On(We.twoDigitYearMax)?We.twoDigitYearMax:2029;Wa>99&&($r+=$r+2e3<=Wa?2e3:1900)}return(_e=Co.newDate($r,Bo,ns,vr,Vo+0,Jt,An)).getMonth()!=Bo||_e.getDate()!=ns||isNaN(_e.getTime())?null:_e},I.getFirstDayOfWeek=function(){return Nn.Globalize.calendar.firstDay||0},I.getNumberDecimalSeparator=function(){return Nn.Globalize.numberFormat["."]||"."},I._toFixedStr=function(w,A){var te=w.toString(),_e=te.indexOf("."),Be=A-(te.length-_e)+1,We=te.indexOf("e")>-1;return!We&&_e>-1&&Be>=0?te+Array(Be+1).join("0"):(_e>-1&&!We&&"5"==te[te.length-1]&&(w=+(Math.round(+(Math.abs(w)+"e"+A))+"e"+-A)*(w<0?-1:1)),w.toFixed(A))},I._unquote=function(w){return w.length>1&&w[0]==w[w.length-1]&&("'"==w[0]||'"'==w[0])?w.substr(1,w.length-2):w},I._parseNumericFormat=function(w){var A=I._numFormatInfo[w];if(!A){var te=w&&w.match(/(\"(.*?)\"\s*)?([a-z]+)\s*(\d*)\s*(,*)(\s*\"(.*?)\"\s*)?(.*)/i)||[],_e=te[3]?te[3]:"n";_e.length>1&&(te=[],_e="n"),A={prefix:te[2]||"",spec:_e.toLowerCase(),specRaw:_e,prec:te[4]?parseInt(te[4]):null,scale:te[5]?3*te[5].length:0,suffix:te[7]||"",curr:te[8]||null},I._numFormatInfo[w]=A}return A},I._parseDateFormat=function(w){var A=I._dateFormatParts[w];if(!A){if(A=[],w){var te=void 0,_e=void 0;for(te=0;te>-1&&te<w.length;te++){var Be=w[te];if(("'"==Be||'"'==Be)&&(_e=w.indexOf(Be,te+1))>-1)A.push(w.substring(te,_e+1)),te=_e;else if("\\"==Be&&te<w.length-1)te++,A.push('"'+w[te]+'"');else{for(_e=te+1;_e<w.length&&w[_e]==Be;_e++);A.push(w.substring(te,_e)),te=_e-1}}}I._dateFormatParts[w]=A}return A},I._formatDatePart=function(w,A,te){var _e,Be=Nn.Globalize.calendar,We=null,vt=0,zt=0,an=te.length;switch(te){case"yyyy":case"yyy":case"yy":case"y":case"EEEE":case"EEE":case"EE":case"E":case"eeee":case"eee":case"ee":case"e":return vt=(_e="E"==te[0]?Co.toFiscal(w,!0):"e"==te[0]?Co.toFiscal(w,!1):w).getFullYear(),Be.eras.length>1&&A.indexOf("g")>-1&&(We=I._getEra(w,Be))&&(vt=Ge(We.start)?vt-We.start.getFullYear()+1:Math.abs(vt)),I._zeroPad(te.length<3?vt%100:3==te.length?vt%1e3:vt,te.length);case"MMMMM":return Be.monthsAbbr[w.getMonth()][0];case"MMMM":return Be.months[w.getMonth()];case"MMM":return Be.monthsAbbr[w.getMonth()];case"MM":case"M":return I._zeroPad(w.getMonth()+1,an);case"dddd":return Be.days[w.getDay()];case"ddd":return Be.daysAbbr[w.getDay()];case"dd":return I._zeroPad(w.getDate(),2);case"d":return w.getDate().toString();case"hh":case"h":return I._zeroPad(I._h12(w),an);case"HH":case"H":return I._zeroPad(w.getHours(),an);case"mm":case"m":return I._zeroPad(w.getMinutes(),an);case"ss":case"s":return I._zeroPad(w.getSeconds(),an);case"fffffff":case"FFFFFFF":case"ffffff":case"FFFFFF":case"fffff":case"FFFFF":case"ffff":case"FFFF":case"fff":case"FFF":case"ff":case"FF":case"f":case"F":return zt=w.getMilliseconds()*Math.pow(10,an-3),"f"==te[0]?I._zeroPad(zt,an):zt.toFixed(0);case"tt":return w.getHours()<12?Be.am[0]:Be.pm[0];case"t":return w.getHours()<12?Be.am[1]:Be.pm[1];case"q":case"Q":return(Math.floor(w.getMonth()/3)+1).toString();case"u":case"U":return _e=Co.toFiscal(w,"U"==te),(Math.floor(_e.getMonth()/3)+1).toString();case"ggg":case"gg":case"g":if(Be.eras.length>1&&(We=I._getEra(w,Be))){if(yn(We))return We;switch(te){case"gg":return We.name[0];case"g":return We.symbol;default:return We.name}}return Be.eras[0];case":":case"/":return Be[te];case"K":var qn=w.toString().match(/(\+|\-)(\d{2})(\d{2})/);return qn?qn[1]+qn[2]+qn[3]:"";case"zzz":case"zz":case"z":var Xn=-w.getTimezoneOffset(),hi=Math.abs(Xn),Un=I.formatNumber,br=void 0;switch(te){case"zzz":br=Un(hi/60,"d2",!1,!0)+Be[":"]+Un(hi%60,"d2",!1,!0);break;case"zz":br=Un(hi/60,"d2",!1,!0);break;case"z":br=Un(hi/60,"d1",!1,!0)}return(Xn>=0?"+":"-")+br}return an>1&&te[0]==te[an-1]&&('"'==te[0]||"'"==te[0])?te.substr(1,an-2):te},I._getEra=function(w,A){if(A.eras){var te=A.eras,_e=A.eras.length;if(Ge(w)){if(yn(te[0]))return te[w.getFullYear()>=0?0:1];if(Ge(te[0].start)){for(var Be=0;Be<_e;Be++)if(w>=te[Be].start)return te[Be];return te[_e-1]}}else if(yn(w)&&w.length>0)for(w=w.toLowerCase(),Be=0;Be<_e;Be++){var We=te[Be];if(yn(We)){if(0==We.toLowerCase().indexOf(w))return We}else if(We.name&&0==We.name.toLowerCase().indexOf(w)||We.symbol&&0==We.symbol.toLowerCase().indexOf(w))return We}}return null},I._expandFormat=function(w){return Nn.Globalize.calendar.patterns[w]||w},I._zeroPad=function(w,A){var te=w.toFixed(0),_e=A-te.length+1;return _e>0?Array(_e).join("0")+te:te},I._h12=function(w){var A=Nn.Globalize.calendar,te=w.getHours();return A.am&&A.am[0]&&0==(te%=12)&&(te=12),te},I._shiftDecimal=function(w,A,te){if(0==A||isNaN(w))return w;var _e=w.toString();if(_e.indexOf("e")>-1){var Be=w*Math.pow(10,A);return null!=te&&(Be=parseFloat(Be.toFixed(te))),Be}var We=Array(Math.abs(A)+1).join("0");A<0&&(_e=We+_e);var vt=_e.indexOf(".");return vt<0&&(vt=(_e+=".").indexOf(".")),A>0&&(_e+=We),vt+=A,_e=(_e=_e.replace(".","")).substr(0,vt)+"."+_e.substr(vt),parseFloat(_e)},I._CJK="a-z"+"u00c0-u017fu3000-u30ffu4e00-u9faf".replace(/u/g,"\\u")+"u1100-u11ffu3130-u318fua960-ua97fuac00-ud7afud7b0-ud7ff".replace(/u/g,"\\u"),I._numFormatInfo={},I._dateFormatParts={},I}();function Nr(I){Nn=I}function sa(I,w){var A=typeof window<"u"?window.wijmo:null,te=A?A.culture:null;Nn[I]=(te?te[I]:null)||w}var sr,As=function(){function I(w,A,te){void 0===A&&(A=""),void 0===te&&(te="_"),this._promptChar="_",this._mskArr=[],this._overWrite=!1,this._full=!0,this._inputBnd=this._input.bind(this),this._keydownBnd=this._keydown.bind(this),this._keypressBnd=this._keypress.bind(this),this._cmpstartBnd=this._cmpstart.bind(this),this._cmpendBnd=this._cmpend.bind(this),this.mask=on(A),this.input=w,this.promptChar=on(te,!1),this._connect(!0),(this._evtInput=document.createEvent("HTMLEvents")).initEvent("input",!0,!1)}return Object.defineProperty(I.prototype,"input",{get:function(){return this._tbx},set:function(w){this._connect(!1),this._tbx=w,this._connect(!0)},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"mask",{get:function(){return this._msk},set:function(w){w!=this._msk&&(this._msk=on(w,!0),this._parseMask(),this._valueChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"promptChar",{get:function(){return this._promptChar},set:function(w){if(w!=this._promptChar){Xe(1==(w=on(w,!1)).length,"promptChar must be a string with length 1.");for(var A=this._tbx,te=A.value,_e="",Be=this._mskArr,We=this._promptChar,vt=0;vt<te.length;vt++){var zt=Be[vt],an=te[vt];zt&&zt.literal||an!==We||(an=w),_e+=an}A.value=_e,this._promptChar=w}},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"overwriteMode",{get:function(){return this._overWrite},set:function(w){this._overWrite=pi(w)},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"maskFull",{get:function(){return this._full},enumerable:!0,configurable:!0}),I.prototype.getMaskRange=function(){return this._mskArr.length?[this._firstPos,this._lastPos]:[0,this._tbx.value.length-1]},I.prototype.getRawValue=function(){var w=this._tbx?this._tbx.value:"";if(!this.mask)return w;for(var A="",te=0;te<this._mskArr.length&&te<w.length;te++)this._mskArr[te].literal||w[te]==this._promptChar||(A+=w[te]);return A},I.prototype.refresh=function(){this._parseMask(),this._valueChanged()},I.prototype._input=function(w){var A=this;this._msk&&!this._composing&&w!=this._evtInput&&(w.preventDefault(),w.stopImmediatePropagation(),setTimeout(function(){A._valueChanged(),A._tbx&&A._tbx.dispatchEvent(A._evtInput)}))},I.prototype._keydown=function(w){if(w.keyCode==fn.Back){var A=this._tbx.selectionStart;if(A<=this._firstPos&&this._tbx.selectionEnd==A)return w.preventDefault(),void(this._backSpace=!1)}this._backSpace=w.keyCode==fn.Back},I.prototype._keypress=function(w){w.ctrlKey||w.metaKey||w.altKey||this._composing||!this._preventKey(w.charCode)||w.preventDefault()},I.prototype._cmpstart=function(w){this._composing=!0},I.prototype._cmpend=function(w){var A=this;this._composing&&(this._composing=!1,setTimeout(function(){var te=A._tbx;te&&A._valueChanged()&&te.dispatchEvent(A._evtInput)}))},I.prototype._preventKey=function(w){if(w&&this._mskArr.length){var A=this._tbx,te=A.selectionStart,_e=String.fromCharCode(w);if(te<this._firstPos&&Hi(A,te=this._firstPos),te>=this._mskArr.length)return!0;var Be=this._mskArr[te];if(Be.literal)this._validatePosition(te);else if(Be.wildCard!=_e&&!this._isCharValid(Be.wildCard,_e))return!0}return!1},I.prototype._connect=function(w){var A=this._tbx;A&&(Xe(A instanceof HTMLInputElement||A instanceof HTMLTextAreaElement,"INPUT or TEXTAREA element expected."),w?(this._autoComplete=A.autocomplete,this._spellCheck=A.spellcheck,A.autocomplete="off",A.spellcheck=!1,A.addEventListener("input",this._inputBnd,!0),A.addEventListener("keydown",this._keydownBnd,!0),A.addEventListener("keypress",this._keypressBnd,!0),A.addEventListener("compositionstart",this._cmpstartBnd,!0),A.addEventListener("compositionend",this._cmpendBnd,!0),A.addEventListener("blur",this._cmpendBnd,!0),this._valueChanged()):(A.autocomplete=this._autoComplete,A.spellcheck=this._spellCheck,A.removeEventListener("input",this._inputBnd,!0),A.removeEventListener("keydown",this._keydownBnd,!0),A.removeEventListener("keypress",this._keypressBnd,!0),A.removeEventListener("compositionstart",this._cmpstartBnd,!0),A.removeEventListener("compositionend",this._cmpendBnd,!0),A.removeEventListener("blur",this._cmpendBnd,!0)))},I.prototype._valueChanged=function(){if(!this._tbx||!this._msk)return!1;var w=this._tbx,A=w.selectionStart,te=A>0?w.value[A-1]:"",_e=w.value;return w.value=this._applyMask(),""==_e&&(A=this._firstPos+1),A>0&&(A>0?w.value[A-1]:"")==this._promptChar&&te!=this.promptChar&&A--,A==_e.length&&(A=this._matchEnd),this._validatePosition(A),_e!=w.value},I.prototype._applyMask=function(){var w=this._tbx,A=w.value;if(this._full=!0,this._matchEnd=0,!this._msk||!A&&!w.required)return A;if(this._overWrite){var te=w.selectionStart;w==document.activeElement&&w.selectionEnd==te&&A.length>this.mask.length&&(A=A.substr(0,te)+A.substr(te+A.length-this.mask.length))}A=this._handleVagueLiterals(A);for(var _e="",Be=0,We=this._promptChar,vt=0;vt<this._mskArr.length;vt++){var zt=this._mskArr[vt],an=zt.literal;if(an&&an==A[Be]&&Be++,zt.wildCard){if(an=We,A){for(var Mn=Be;Mn<A.length;Mn++)if(this._isCharValid(zt.wildCard,A[Mn])){switch(an=A[Mn],zt.charCase){case">":an=an.toUpperCase();break;case"<":an=an.toLowerCase()}an!=We&&(this._matchEnd=_e.length+1);break}Be=Mn+1}an==We&&(this._full=!1)}_e+=an}return _e},I.prototype._handleVagueLiterals=function(w){if(w.length>this._mskArr.length+1)return w;var A=w.length-this._mskArr.length;if(0!=A&&w.length>1){for(var te=-1,_e=this._tbx,Be=_e==mo()?_e.selectionStart:_e.value.length,We=Math.max(0,Be-A);We<this._mskArr.length;We++)if(this._mskArr[We].vague){te=We;break}if(te>-1)if(A<0){var vt=Array(1-A).join(this._promptChar),zt=te+A;zt>-1&&(w=w.substr(0,zt)+vt+w.substr(zt))}else{for(;te>0&&this._mskArr[te-1].literal;)te--;w=w.substr(0,te)+w.substr(te+A)}}return w},I.prototype._isCharValid=function(w,A){if(A==this._promptChar)return!0;switch(w){case"0":return this._isDigit(A);case"9":return this._isDigit(A)||" "==A;case"#":return this._isDigit(A)||" "==A||"+"==A||"-"==A;case"L":return this._isLetter(A);case"l":return this._isLetter(A)||" "==A;case"A":return this._isDigit(A)||this._isLetter(A);case"a":return this._isDigit(A)||this._isLetter(A)||" "==A;case"\uff19":return A>="\uff10"&&A<="\uff19";case"\uff2a":case"\uff27":return!("\uff27"==w&&I._X_DBCS_BIG_HIRA.indexOf(A)>-1)&&A>="\u3041"&&A<="\u309f";case"\uff2b":case"\uff2e":return!("\uff2e"==w&&I._X_DBCS_BIG_KATA.indexOf(A)>-1)&&A>="\u30a0"&&A<="\u30ff";case"\uff3a":return!(A>="\uff66"&&A<="\uff9f")&&(A<="!"||A>="\xff");case"H":return A>="!"&&A<="\xff"||A>="\uff66"&&A<="\uff9f";case"K":case"N":return!("N"==w&&I._X_SBCS_BIG_KATA.indexOf(A)>-1)&&A>="\uff66"&&A<="\uff9f"}return!1},I.prototype._isDigit=function(w){return w>="0"&&w<="9"},I.prototype._isLetter=function(w){return w>="a"&&w<="z"||w>="A"&&w<="Z"},I.prototype._validatePosition=function(w){var A=this._mskArr;if(this._backSpace)for(;w>0&&w<A.length&&A[w-1].literal;)w--;if(0==w||!this._backSpace)for(;w<A.length&&A[w].literal;)w++;mo()==this._tbx&&Hi(this._tbx,w),this._backSpace=!1},I.prototype._parseMask=function(){this._mskArr=[],this._firstPos=-1,this._lastPos=-1;for(var w,A=this._msk,te="|",_e=0;A&&_e<A.length;_e++)switch(A[_e]){case"0":case"9":case"#":case"A":case"a":case"L":case"l":case"\uff19":case"\uff2a":case"\uff27":case"\uff2b":case"\uff2e":case"\uff3a":case"K":case"N":case"H":this._firstPos<0&&(this._firstPos=this._mskArr.length),this._lastPos=this._mskArr.length,this._mskArr.push(new vs(A[_e],te));break;case".":case",":case":":case"/":case"$":switch(A[_e]){case".":case",":w=Nn.Globalize.numberFormat[A[_e]];break;case":":case"/":w=Nn.Globalize.calendar[A[_e]];break;case"$":w=Nn.Globalize.numberFormat.currency.symbol}for(var Be=0;Be<w.length;Be++)this._mskArr.push(new vs(w[Be]));break;case"<":case">":case"|":te=A[_e];break;case"\\":_e<A.length-1&&_e++,this._mskArr.push(new vs(A[_e]));break;default:this._mskArr.push(new vs(A[_e]))}for(_e=0;_e<this._mskArr.length;_e++){var We=this._mskArr[_e];if(We.literal)for(Be=0;Be<_e;Be++){var vt=this._mskArr[Be];if(vt.wildCard&&this._isCharValid(vt.wildCard,We.literal)){We.vague=!0;break}}}},I._X_DBCS_BIG_HIRA="\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308e\u3095\u3096",I._X_DBCS_BIG_KATA="\u30a1\u30a3\u30a5\u30a7\u30a9\u30c3\u30e3\u30e5\u30e7\u30ee\u30f5\u30f6",I._X_SBCS_BIG_KATA="\uff67\uff68\uff69\uff6a\uff6b\uff6c\uff6d\uff6e\uff6f",I}(),vs=function(w,A){A?(this.wildCard=w,this.charCase=A):this.literal=w};function Do(I,w,A){var te=0,_e=0,Be=0,We=0,vt=null,zt=null,an=null,Mn=A?new X(A):null;if((I=Je(I,sr))==sr.CntAll)return w.length;for(var qn=0;qn<w.length;qn++){var Xn=w[qn];if(Mn&&(Xn=Mn.getValue(Xn)),null!=Xn){if(I==sr.First)return Xn;te++,(null==vt||Xn<vt)&&(vt=Xn),(null==zt||Xn>zt)&&(zt=Xn),an=Xn,On(Xn)&&!isNaN(Xn)?(_e++,Be+=Xn,We+=Xn*Xn):It(Xn)&&(_e++,1==Xn&&(Be++,We++))}}var hi=0==_e?0:Be/_e;switch(I){case sr.Avg:return hi;case sr.Cnt:return te;case sr.Max:return zt;case sr.Min:return vt;case sr.Rng:return zt-vt;case sr.Sum:return Be;case sr.VarPop:return _e<=1?0:We/_e-hi*hi;case sr.StdPop:return _e<=1?0:Math.sqrt(We/_e-hi*hi);case sr.Var:return _e<=1?0:(We/_e-hi*hi)*_e/(_e-1);case sr.Std:return _e<=1?0:Math.sqrt((We/_e-hi*hi)*_e/(_e-1));case sr.Last:return an}throw"Invalid aggregate type."}!function(I){I[I.None=0]="None",I[I.Sum=1]="Sum",I[I.Cnt=2]="Cnt",I[I.Avg=3]="Avg",I[I.Max=4]="Max",I[I.Min=5]="Min",I[I.Rng=6]="Rng",I[I.Std=7]="Std",I[I.Var=8]="Var",I[I.StdPop=9]="StdPop",I[I.VarPop=10]="VarPop",I[I.CntAll=11]="CntAll",I[I.First=12]="First",I[I.Last=13]="Last"}(sr||(sr={}));var co=function(I){function w(){var A=this;return go?A.length=0:A=I.call(this)||this,A}return C(w,I),w}(Array),go=!0;try{co.prototype=Array.prototype,go=co.prototype===Array.prototype}catch{go=!1}var Fs=typeof window<"u"?window.Symbol:null;!go&&Fs&&Fs.species&&Object.defineProperty(co,Fs.species,{get:function(){return Array},enumerable:!1,configurable:!1});var Di,uo=function(I){function w(A){var te=I.call(this)||this;if(te._updating=0,te.collectionChanged=new me,A){A=si(A),te._updating++;for(var _e=0;_e<A.length;_e++)te.push(A[_e]);te._updating--}return te}return C(w,I),w.prototype.push=function(){for(var A=this,te=[],_e=0;_e<arguments.length;_e++)te[_e]=arguments[_e];return te.forEach(function(Be){I.prototype.push.call(A,Be),A._raiseCollectionChanged(xn.Add,Be,A.length-1)}),this.length},w.prototype.shift=function(){var A=I.prototype.shift.call(this);return this._raiseCollectionChanged(xn.Remove,A,0),A},w.prototype.unshift=function(){for(var A=[],te=0;te<arguments.length;te++)A[te]=arguments[te];var _e=I.prototype.unshift.apply(this,A);return 1==A.length?this._raiseCollectionChanged(xn.Add,A[0],0):this._raiseCollectionChanged(),_e},w.prototype.pop=function(){var A=I.prototype.pop.call(this);return this._raiseCollectionChanged(xn.Remove,A,this.length),A},w.prototype.splice=function(A,te){for(var _e=[],Be=2;Be<arguments.length;Be++)_e[Be-2]=arguments[Be];var We,vt=xn,zt=this._raiseCollectionChanged.bind(this);return te&&_e.length?(We=I.prototype.splice.apply(this,[A,te].concat(_e)),1==te&&1==_e.length?zt(vt.Change,_e[0],A):zt()):_e.length?(We=I.prototype.splice.apply(this,[A,0].concat(_e)),1==_e.length?zt(vt.Add,_e[0],A):zt()):(We=I.prototype.splice.call(this,A,te),1==te?zt(vt.Remove,We[0],A):zt()),We},w.prototype.slice=function(A,te){return I.prototype.slice.call(this,A,te)},w.prototype.indexOf=function(A,te){return I.prototype.indexOf.call(this,A,te)},w.prototype.sort=function(A){var te=I.prototype.sort.call(this,A);return this._raiseCollectionChanged(),te},w.prototype.insert=function(A,te){this.splice(A,0,te)},w.prototype.remove=function(A){var te=this.indexOf(A);return te>-1&&this.removeAt(te),te>-1},w.prototype.removeAt=function(A){this.splice(A,1)},w.prototype.setAt=function(A,te){A>=this.length&&(this.length=A+1),this.splice(A,1,te)},w.prototype.clear=function(){this.length&&this.splice(0,this.length)},w.prototype.beginUpdate=function(){this._updating++},w.prototype.endUpdate=function(){this._updating--,this._updating<=0&&this._raiseCollectionChanged()},Object.defineProperty(w.prototype,"isUpdating",{get:function(){return this._updating>0},enumerable:!0,configurable:!0}),w.prototype.deferUpdate=function(A){try{this.beginUpdate(),A()}finally{this.endUpdate()}},w.prototype.implementsInterface=function(A){return"INotifyCollectionChanged"==A},w.prototype.onCollectionChanged=function(A){void 0===A&&(A=En.reset),this.isUpdating||this.collectionChanged.raise(this,A)},w.prototype._raiseCollectionChanged=function(A,te,_e){if(void 0===A&&(A=xn.Reset),!this.isUpdating){var Be=new En(A,te,_e);this.onCollectionChanged(Be)}},w}(co);!function(I){I[I.Natural=0]="Natural",I[I.First=1]="First",I[I.Last=2]="Last"}(Di||(Di={}));var Ar=function(){function I(w,A){var te=this;this._srcRaw=null,this._src=null,this._ncc=null,this._view=null,this._pgView=null,this._groups=null,this._fullGroups=null,this._digest="",this._idx=-1,this._filter=null,this._filters=new uo,this._srtDsc=new uo,this._grpDesc=new uo,this._newItem=null,this._edtItem=null,this._edtClone=null,this._committing=!1,this._canceling=!1,this._pendingRefresh=!1,this._pendingRemove=!1,this._pgSz=0,this._pgIdx=0,this._updating=0,this._stableSort=!1,this._srtNulls=Di.Last,this._canFilter=!0,this._canGroup=!0,this._canSort=!0,this._canAddNew=!0,this._canCancelEdit=!0,this._canRemove=!0,this._canChangePage=!0,this._refreshOnEdit=!0,this._trackChanges=!1,this._chgAdded=new uo,this._chgRemoved=new uo,this._chgEdited=new uo,this._orgVals=window.Map?new Map:null,this._srtCvt=null,this._srtCmp=null,this._getError=null,this._keepCurrentItem=null,this._initializing=!1,this.collectionChanged=new me,this.sourceCollectionChanging=new me,this.sourceCollectionChanged=new me,this.currentChanged=new me,this.currentChanging=new me,this.pageChanged=new me,this.pageChanging=new me,this._srtDsc.collectionChanged.addHandler(function(){te._srtDsc.forEach(function(_e){Xe(_e instanceof In,"sortDescriptions array must contain SortDescription objects.")}),te.canSort&&te._commitAndRefresh()}),this._grpDesc.collectionChanged.addHandler(function(){te._grpDesc.forEach(function(_e){Xe(_e instanceof $t,"groupDescriptions array must contain GroupDescription objects.")}),te.canGroup&&te._commitAndRefresh()}),this._filters.collectionChanged.addHandler(function(){te._filters.forEach(function(_e){Xe(Ue(_e),"filters array must contain IPredicate functions.")}),te.canFilter&&te._commitAndRefresh()}),this.sourceCollection=w||new uo,A&&(this._initializing=!0,this.deferUpdate(function(){He(te,A)}),this._initializing=!1),null==this._keepCurrentItem&&(this._keepCurrentItem=!0)}return I.prototype._copy=function(w,A){switch(w){case"sortDescriptions":var te=this.sortDescriptions;return te.deferUpdate(function(){te.clear(),si(A).forEach(function(Be){yn(Be)?Be=new In(Be,!0):Be instanceof In||!Be.property||(Be=new In(Be.property,Be.ascending)),te.push(Be)})}),!0;case"groupDescriptions":var _e=this.groupDescriptions;return _e.deferUpdate(function(){_e.clear(),A.forEach(function(Be){yn(Be)&&(Be=new Lt(Be)),_e.push(Be)})}),!0;case"currentItem":return this.currentItem=A,!0}return!1},Object.defineProperty(I.prototype,"calculatedFields",{get:function(){return this._calcFields},set:function(w){if(w&&!window.Proxy&&(console.warn("** Calculated fields require Proxy (see https://www.npmjs.com/package/proxy-polyfill)."),w=null),w!=this._calcFields){this._calcFields=w;var A=this._srcRaw;this._srcRaw=null,this.sourceCollection=A}},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"newItemCreator",{get:function(){return this._itemCreator},set:function(w){this._itemCreator=ei(w)},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"sortConverter",{get:function(){return this._srtCvt},set:function(w){w!=this._srtCvt&&(this._srtCvt=ei(w,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"sortComparer",{get:function(){return this._srtCmp},set:function(w){w!=this._srtCmp&&(this._srtCmp=ei(w,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"useStableSort",{get:function(){return this._stableSort},set:function(w){w!=this._stableSort&&(this._stableSort=pi(w),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"sortNulls",{get:function(){return this._srtNulls},set:function(w){(w=Je(w,Di))!=this._srtNulls&&(this._srtNulls=w,this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"sortNullsFirst",{get:function(){return this.sortNulls!=Di.Last},set:function(w){ln("sortNullsFirst","sortNulls"),this.sortNulls=pi(w)?Di.First:Di.Last},enumerable:!0,configurable:!0}),I.prototype.getAggregate=function(w,A,te){return Do(w,te?this._pgView:this._view,A)},Object.defineProperty(I.prototype,"trackChanges",{get:function(){return this._trackChanges},set:function(w){this._trackChanges=pi(w)},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"refreshOnEdit",{get:function(){return this._refreshOnEdit},set:function(w){this._refreshOnEdit=pi(w)},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"itemsAdded",{get:function(){return this._chgAdded},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"itemsRemoved",{get:function(){return this._chgRemoved},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"itemsEdited",{get:function(){return this._chgEdited},enumerable:!0,configurable:!0}),I.prototype.clearChanges=function(){this._chgAdded.clear(),this._chgRemoved.clear(),this._chgEdited.clear(),this._orgVals&&this._orgVals.clear()},I.prototype.implementsInterface=function(w){switch(w){case"ICollectionView":case"IEditableCollectionView":case"IPagedCollectionView":case"INotifyCollectionChanged":return!0}return!1},Object.defineProperty(I.prototype,"getError",{get:function(){return this._getError},set:function(w){this._getError!=w&&(this._getError=ei(w),this._raiseCollectionChanged())},enumerable:!0,configurable:!0}),I.prototype.onCollectionChanged=function(w){void 0===w&&(w=En.reset),w.action!=xn.Change||this._committing||this._canceling||w.item==this.currentEditItem||w.item==this.currentAddItem||this._trackItemChanged(w.item),this._updating||this.collectionChanged.raise(this,w)},I.prototype._raiseCollectionChanged=function(w,A,te){void 0===w&&(w=xn.Reset);var _e=new En(w,A,te);this.onCollectionChanged(_e)},I.prototype.onSourceCollectionChanging=function(w){return this.sourceCollectionChanging.raise(this,w),!w.cancel},I.prototype.onSourceCollectionChanged=function(w){this.sourceCollectionChanged.raise(this,w)},Object.defineProperty(I.prototype,"canFilter",{get:function(){return this._canFilter},set:function(w){this._canFilter=pi(w)},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"canGroup",{get:function(){return this._canGroup},set:function(w){this._canGroup=pi(w)},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"canSort",{get:function(){return this._canSort},set:function(w){this._canSort=pi(w)},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"currentItem",{get:function(){return this._pgView&&this._idx>-1&&this._idx<this._pgView.length?this._pgView[this._idx]:null},set:function(w){this.moveCurrentTo(w)},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"currentPosition",{get:function(){return this._idx},set:function(w){this.moveCurrentToPosition(Ln(w))},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"filter",{get:function(){return this._filter},set:function(w){this._filter!=w&&(this._filter=ei(w),this.canFilter&&this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"filters",{get:function(){return this._filters},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"groupDescriptions",{get:function(){return this._grpDesc},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"groups",{get:function(){return this._groups},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"isEmpty",{get:function(){return!this._pgView||!this._pgView.length},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"sortDescriptions",{get:function(){return this._srtDsc},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"sourceCollection",{get:function(){return this._src},set:function(w){if(w!=this._srcRaw){if(!this.onSourceCollectionChanging(new pt))return;var A=this.currentPosition;this.commitEdit(),null!=this._ncc&&this._ncc.collectionChanged.removeHandler(this._sourceChanged),this._srcRaw=w,this._src=si(w,!1),this._calcFields&&(this._src=H(this._src,this._calcFields)),this._ncc=Ft(this._src,"INotifyCollectionChanged"),this._ncc&&this._ncc.collectionChanged.addHandler(this._sourceChanged,this),this.clearChanges(),this.refresh(),this.moveCurrentToFirst(),this.onSourceCollectionChanged(),this.currentPosition<0&&A>-1&&this.onCurrentChanged()}},enumerable:!0,configurable:!0}),I.prototype._sourceChanged=function(w,A){this._updating<=0&&this.refresh()},I.prototype.contains=function(w){return this._pgView.indexOf(w)>-1},I.prototype.moveCurrentTo=function(w){return this.moveCurrentToPosition(this._pgView.indexOf(w))},I.prototype.moveCurrentToFirst=function(){return this.moveCurrentToPosition(0)},I.prototype.moveCurrentToLast=function(){return this.moveCurrentToPosition(this._pgView.length-1)},I.prototype.moveCurrentToPrevious=function(){return this._idx>0&&this.moveCurrentToPosition(this._idx-1)},I.prototype.moveCurrentToNext=function(){return this.moveCurrentToPosition(this._idx+1)},I.prototype.moveCurrentToPosition=function(w){if(w>=-1&&w<this._pgView.length&&w!=this._idx){var A=new pt;if(this.onCurrentChanging(A)){var te=this._pgView[w],_e=F(te),Be=this._edtItem,We=this._newItem;Be&&Be!=te&&Be!=_e?this.commitEdit():We&&We!=te&&We!=_e&&this.commitNew(),this._idx=w,this.onCurrentChanged()}}return this._idx==w},I.prototype.refresh=function(){if(this._newItem||this._edtItem||this._updating>0)this._pendingRefresh=!0;else{var w=this.currentItem;this._performRefresh(),this.onCollectionChanged(),w==this.currentItem||this._initializing||this.onCurrentChanged()}},I.prototype._commitAndRefresh=function(){this.currentEditItem||this.currentAddItem?(this._pendingRefresh=!0,this.commitEdit()):this.refresh()},I.prototype._performRefresh=function(){if(this._updating>0)this._pendingRefresh=!0;else{this._pendingRefresh=!1,this._pendingRemove=!1;var w=this.currentItem;this._view=this._src?this._performFilter(this._src):[],this.canSort&&this._srtDsc.length>0&&(this._view==this._src&&(this._view=this._src.slice()),this._performSort(this._view)),this._groups=this.canGroup?this._createGroups(this._view):null,this._fullGroups=this._groups,this._groups&&(this._view=this._mergeGroupItems(this._groups)),this._pgIdx=nt(this._pgIdx,0,this.pageCount-1),this._pgView=this._getPageView(),this._groups&&this.pageCount>1&&(this._groups=this._createGroups(this._pgView),this._mergeGroupItems(this._groups));var A=this._keepCurrentItem&&null!=w?this._pgView.indexOf(w):-1;A<0&&(A=Math.min(this._idx,this._pgView.length-1)),this._idx=A,this._digest=this._getGroupsDigest(this.groups)}},I.prototype._performSort=function(w){if(this._stableSort){var A=w.map(function(Be,We){return{item:Be,index:We}}),te=this._compareItems();A.sort(function(Be,We){var vt=te(Be.item,We.item);return 0==vt?Be.index-We.index:vt});for(var _e=0;_e<w.length;_e++)w[_e]=A[_e].item}else w.sort(this._compareItems())},I.prototype._compareItems=function(){var w=this,A=this._srtDsc,te=this._srtCvt,_e=this._srtCmp,Be=I._collator,We=!0,vt=0;return function(zt,an){for(var Mn=0;Mn<A.length;Mn++){var qn=A[Mn],Xn=qn._bnd.getValue(zt),hi=qn._bnd.getValue(an);if(te&&(Xn=te(qn,zt,Xn,We),hi=te(qn,an,hi,!1),We=!1),_e&&null!=(vt=_e(Xn,hi))){if(0!=vt)return qn.ascending?+vt:-vt}else{if(Xn!=Xn&&(Xn=null),hi!=hi&&(hi=null),Xn!==hi&&(null==Xn||null==hi))switch(w._srtNulls){case Di.First:return null==Xn?-1:1;case Di.Last:return null==Xn?1:-1;default:return vt=null==Xn?-1:1,qn.ascending?+vt:-vt}if("string"==typeof Xn&&"string"==typeof hi){if(Be){if(0!=(vt=Be.compare(Xn,hi)))return qn.ascending?+vt:-vt;continue}var Un=Xn.toLowerCase(),br=hi.toLowerCase();Un!=br&&(Xn=Un,hi=br)}if(0!=(vt=Xn<hi?-1:Xn>hi?1:0))return qn.ascending?+vt:-vt}}return 0}},I.prototype._performFilter=function(w){return this.canFilter&&this._filter||this._filters.length?w.filter(this._filterItem,this):w},I.prototype._filterItem=function(w){for(var A=!this.canFilter||!this._filter||this._filter(w),te=0;te<this._filters.length&&A;te++)A=this._filters[te](w);return A},I.prototype.onCurrentChanged=function(w){this.currentChanged.raise(this,w)},I.prototype.onCurrentChanging=function(w){return this.currentChanging.raise(this,w),!w.cancel},Object.defineProperty(I.prototype,"items",{get:function(){return this._pgView},enumerable:!0,configurable:!0}),I.prototype.beginUpdate=function(){this._updating++},I.prototype.endUpdate=function(w){void 0===w&&(w=!0),this._updating--,w&&(this._pendingRefresh=!0),this._updating<=0&&(this._pendingRefresh&&this.refresh(),this._pendingRemove&&(this._pendingRemove=!1,this._raiseCollectionChanged()))},Object.defineProperty(I.prototype,"isUpdating",{get:function(){return this._updating>0},enumerable:!0,configurable:!0}),I.prototype.deferUpdate=function(w,A){void 0===A&&(A=!0);try{this.beginUpdate(),w()}finally{this.endUpdate(A)}},Object.defineProperty(I.prototype,"canAddNew",{get:function(){return this._canAddNew},set:function(w){w!=this._canAddNew&&(this._canAddNew=pi(w),this._raiseCollectionChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"canCancelEdit",{get:function(){return this._canCancelEdit},set:function(w){this._canCancelEdit=pi(w)},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"canRemove",{get:function(){return this._canRemove},set:function(w){this._canRemove=pi(w)},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"currentAddItem",{get:function(){return this._newItem},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"currentEditItem",{get:function(){return this._edtItem},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"isAddingNew",{get:function(){return null!=this._newItem},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"isEditingItem",{get:function(){return null!=this._edtItem},enumerable:!0,configurable:!0}),I.prototype.editItem=function(w){w!=this._edtItem&&this.moveCurrentTo(w)&&(this.commitEdit(),this._edtItem=w,this._edtClone=this._extend({},this._edtItem))},I.prototype.commitEdit=function(){var w=this._edtItem,A=this._edtClone;if(null!=w){this._committing=!0;var te=this._getChangedFields(w,A),_e=this._pendingRefresh;this._edtItem=null,this._edtClone=null;var Be=this._pgView.indexOf(w),We=this._digest;if(this._needRefresh(te)&&this._refreshOnEdit&&this._performRefresh(),te&&this._trackItemChanged(w,A),this._pgView.indexOf(w)!=Be||We!=this._digest||_e?this._raiseCollectionChanged():this._raiseCollectionChanged(xn.Change,w,Be),this.commitNew(),this._committing=!1,this.sourceCollection instanceof uo){this._updating++;var vt=new En(xn.Change,w);this.sourceCollection.onCollectionChanged(vt),this._updating--}}},I.prototype.cancelEdit=function(){var w=this._edtItem;if(null!=w){if(this._edtItem=null,!this.canCancelEdit)return;var A=this._src.indexOf(w);A>=0&&this._edtClone&&(this._extend(this._src[A],this._edtClone),this._edtClone=null,this._canceling=!0,this._raiseCollectionChanged(xn.Change,w,A),this._canceling=!1,this._pendingRefresh&&this._refreshOnEdit&&(this._performRefresh(),this._raiseCollectionChanged()))}},I.prototype.addNew=function(w,A){if(void 0===A&&(A=!1),this.commitEdit(),!this.canAddNew)return null;var te=this.sourceCollection;if(null==w&&(w=this.newItemCreator?this.newItemCreator():te&&te.length?new te[0].constructor:{}),null!=w){if(this._updating++,te.push(w),this._updating--,this._newItem=w=te[te.length-1],this._pgView!=this._src&&this._pgView.push(w),this.groups&&this.groups.length){var _e=this.groups[this.groups.length-1];for(_e.items.push(w);_e.groups&&_e.groups.length;)(_e=_e.groups[_e.groups.length-1]).items.push(w)}this._raiseCollectionChanged(xn.Add,w,this._pgView.length-1),this.moveCurrentTo(w),A&&this.commitNew()}return this._newItem},I.prototype.commitNew=function(){var w=this._newItem;if(null!=w){this._newItem=null;var A=this._pgView.indexOf(w),te=this._digest;if(this._refreshOnEdit&&this._performRefresh(),this._trackChanges){var _e=this._chgEdited.indexOf(w);_e>-1&&this._chgEdited.removeAt(_e),this._chgAdded.indexOf(w)<0&&this._chgAdded.push(w)}this._pgView.indexOf(w)!=A||te!=this._digest||this.calculatedFields?this._raiseCollectionChanged():this._raiseCollectionChanged(xn.Change,w,A)}},I.prototype.cancelNew=function(){var w=this._newItem;null!=w&&this.remove(w)},I.prototype.remove=function(w){var A=w==this._newItem;if(A&&(this._newItem=null),w==this._edtItem&&this.cancelEdit(),this.canRemove){var te=this._src.indexOf(w);if(te>-1){var _e=this._view.indexOf(w)<0,Be=this.currentItem;this._updating++,this._src.splice(te,1),this._updating--;var We=this._digest;if(this._refreshOnEdit)this._performRefresh();else{this._updating>0&&(this._pendingRemove=!0);var vt=this._pgView.indexOf(w);vt>=0&&this._pgView.splice(vt,1)}if(this._trackChanges){var zt=this._chgAdded.indexOf(w);zt>-1&&this._chgAdded.removeAt(zt);var an=this._chgEdited.indexOf(w);an>-1&&this._chgEdited.removeAt(an),this._chgRemoved.indexOf(w)<0&&!A&&zt<0&&this._chgRemoved.push(w)}this.sortDescriptions.length>0||this.pageSize>0&&this._pgIdx>-1||We!=this._getGroupsDigest(this.groups)?this._raiseCollectionChanged():_e||this._raiseCollectionChanged(xn.Remove,w,te),this.currentItem!==Be&&this.onCurrentChanged()}}},I.prototype.removeAt=function(w){w=Wi(w),this.remove(this._pgView[w])},I.prototype._trackItemChanged=function(w,A){if(this._trackChanges){var te=this.sourceCollection;if(te&&te.indexOf(w)>-1){var _e=this._orgVals,Be=_e?_e.get(w):null;A&&!Be&&_e&&(_e.set(w,A),Be=A);var We=this._chgEdited.indexOf(w),vt=xn.Change;if(Be&&this._sameContent(w,Be)&&We>-1)return this._chgEdited.removeAt(We),void _e.delete(w);if(We<0&&this._chgAdded.indexOf(w)<0)this._chgEdited.push(w);else if(We>-1){var zt=new En(vt,w,We);this._chgEdited.onCollectionChanged(zt)}else(We=this._chgAdded.indexOf(w))>-1&&(zt=new En(vt,w,We),this._chgAdded.onCollectionChanged(zt))}}},I.prototype._extend=function(w,A,te){for(var _e in void 0===te&&(te=2),A)try{var Be=A[_e];te>0&&Yt(Be)?(w[_e]={},this._extend(w[_e],Be,te-1)):w[_e]=Be}catch{}return w},I.prototype._getChangedFields=function(w,A,te){void 0===te&&(te=2),Xe(null!=A&&null!=w,"Two objects expected.");var _e={};for(var Be in A)try{this._sameValue(w[Be],A[Be],te)||(_e[Be]=!0)}catch{}for(var Be in w)try{_e[Be]||this._sameValue(w[Be],A[Be],te)||(_e[Be]=!0)}catch{}var We=Object.keys(_e);return We.length?We:null},I.prototype._sameValue=function(w,A,te){return void 0===te&&(te=2),!(w!==A&&!Co.equals(w,A)&&(!Yt(w)||!Yt(A)||te>0&&null!=this._getChangedFields(w,A,te-1)))},I.prototype._sameContent=function(w,A){return null==this._getChangedFields(w,A)},I.prototype._needRefresh=function(w){if(this._pendingRefresh)return!0;if(!w)return!1;if(this._filter)return!0;for(var A=0;A<this._srtDsc.length;A++){var te=this._getBindingRoot(this._srtDsc[A].property);if(w.indexOf(te)>-1)return!0}for(A=0;A<this._grpDesc.length;A++){var _e=this._grpDesc[A];if(!(_e instanceof Lt)||(te=this._getBindingRoot(_e.propertyName),w.indexOf(te)>-1))return!0}return!1},I.prototype._getBindingRoot=function(w){var A=w.indexOf(".");return A>-1?w.substr(0,A):w},Object.defineProperty(I.prototype,"canChangePage",{get:function(){return this._canChangePage},set:function(w){this._canChangePage=pi(w)},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"isPageChanging",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"itemCount",{get:function(){return this._pgView.length},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"pageIndex",{get:function(){return this._pgIdx},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"pageSize",{get:function(){return this._pgSz},set:function(w){w!=this._pgSz&&(this._pgSz=Wi(w),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"totalItemCount",{get:function(){return this._view.length},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"pageCount",{get:function(){return this.pageSize?Math.ceil(this.totalItemCount/this.pageSize):1},enumerable:!0,configurable:!0}),I.prototype.moveToFirstPage=function(){return this.moveToPage(0)},I.prototype.moveToLastPage=function(){return this.moveToPage(this.pageCount-1)},I.prototype.moveToPreviousPage=function(){return this.moveToPage(this.pageIndex-1)},I.prototype.moveToNextPage=function(){return this.moveToPage(this.pageIndex+1)},I.prototype.moveToPage=function(w){var A=nt(w,0,this.pageCount-1);if(A!=this._pgIdx){if(!this.canChangePage)return!1;var te=new Te(A);if(this.onPageChanging(te)&&this.onCurrentChanging(te)){this.commitEdit(),this.commitNew();var _e=this.currentItem;this._pgIdx=A,this._pgView=this._getPageView(),this._idx=0,this.groupDescriptions&&0!=this.groupDescriptions.length?this.refresh():(this.onCollectionChanged(),_e!=this.currentItem&&this.onCurrentChanged()),this.onPageChanged()}}return this._pgIdx==w},I.prototype.onPageChanged=function(w){this.pageChanged.raise(this,w)},I.prototype.onPageChanging=function(w){return this.pageChanging.raise(this,w),!w.cancel},I.prototype._getFullGroup=function(w){var A=this._getGroupByPath(this._fullGroups,w.level,w._path);return null!=A&&(w=A),w},I.prototype._getGroupByPath=function(w,A,te){if(w)for(var _e=0;_e<w.length;_e++){var Be=w[_e];if(Be.level==A&&Be._path==te||Be.level<A&&0==te.indexOf(Be._path)&&null!=(Be=this._getGroupByPath(Be.groups,A,te)))return Be}return null},I.prototype._getPageView=function(){if(this.pageSize<=0||this._pgIdx<0)return this._view;var w=this._pgSz*this._pgIdx,A=Math.min(w+this._pgSz,this._view.length);return this._view.slice(w,A)},I.prototype._createGroups=function(w){var A=this;if(!this._grpDesc||!this._grpDesc.length)return null;var te=[],_e={},Be=null;return w.forEach(function(We){for(var vt=te,zt=A._grpDesc.length,an="",Mn=0;Mn<zt;Mn++){var qn=A._grpDesc[Mn],Xn=qn.groupNameFromItem(We,Mn),hi=Mn==zt-1;!(Be=_e[an])&&Pn(Xn)&&(_e[an]=Be={});var Un=A._getGroup(qn,vt,Be,Xn,Mn,hi);Un._path=an+="/"+Xn,hi&&Un.items.push(We),vt=Un.groups}}),te},I.prototype._getGroupsDigest=function(w){for(var A="",te=0;null!=w&&te<w.length;te++){var _e=w[te];A+="{"+_e.name+":"+(_e.items?_e.items.length:"*"),_e.groups.length>0&&(A+=",",A+=this._getGroupsDigest(_e.groups)),A+="}"}return A},I.prototype._mergeGroupItems=function(w){for(var A=[],te=0;te<w.length;te++){var _e=w[te];if(!_e._isBottomLevel)for(var Be=this._mergeGroupItems(_e.groups),We=0,vt=Be.length;We<vt;We++)_e._items.push(Be[We]);for(We=0,vt=_e._items.length;We<vt;We++)A.push(_e._items[We])}return A},I.prototype._getGroup=function(w,A,te,_e,Be,We){var vt;if(te&&Pn(_e)){if(vt=te[_e])return vt}else for(var zt=0;zt<A.length;zt++)if(w.namesMatch(A[zt].name,_e))return A[zt];var an=new ys(w,_e,Be,We);return A.push(an),te&&(te[_e]=an),an},I._collator=typeof window<"u"&&window.Intl&&Intl.Collator?new Intl.Collator:null,I}(),ys=function(){function I(w,A,te,_e){this._gd=w,this._name=A,this._level=te,this._isBottomLevel=_e,this._groups=[],this._items=[]}return Object.defineProperty(I.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"level",{get:function(){return this._level},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"isBottomLevel",{get:function(){return this._isBottomLevel},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"items",{get:function(){return this._items},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"groups",{get:function(){return this._groups},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"groupDescription",{get:function(){return this._gd},enumerable:!0,configurable:!0}),I.prototype.getAggregate=function(w,A,te){var _e=Ft(te,Ar);return Do(w,(_e?_e._getFullGroup(this):this).items,A)},I}(),Qi=typeof window<"u"&&window["wj-control-is-element"]?HTMLElement:Object,Vs=!1;try{Vs=(function(){}.prototype=Array.prototype)!==Array.prototype}catch{Vs=!0}var Tt=Vs||Qi!==Object,q=function(I){function w(){var A=this;return Tt&&(A=I.call(this)||this),A}return C(w,I),w}(Qi),Oe=function(I){function w(A,te,_e){void 0===te&&(te=null),void 0===_e&&(_e=!1);var Be=I.call(this)||this;Be._listeners=[],Be._pristine=!0,Be._focus=!1,Be._updating=0,Be._fullUpdate=!1,Be.gotFocus=new me,Be.lostFocus=new me,Be.invalidInput=new me,Be.refreshing=new me,Be.refreshed=new me,Be._updateWme(),Xe(null==w.getControl(A),"Element is already hosting a control.");var We=ii(A);Xe(null!=We,"Cannot find the host element."),Be._orgTabIndex=We.hasAttribute("tabindex")?We.tabIndex:0,Be._orgOuter=We.outerHTML,Be._orgInner=We.innerHTML,Be._orgTag=We.tagName,Be._orgAtts=We.attributes,"INPUT"!=We.tagName&&"SELECT"!=We.tagName||(We=Be._replaceWithDiv(We)),Be._e=We,We[w._CTRL_KEY]=Be;var vt=Be.addEventListener.bind(Be);if(1==_e){Be._szCtl=new gs(We.offsetWidth,We.offsetHeight);var zt=window.ResizeObserver,an=null;zt&&(an=Be._szObserver=new zt(function(Xn){return Be._resizeObserverCallback(Xn)})),an?an.observe(We):vt(window,"resize",Be._handleResize.bind(Be))}var Mn=Be._handleFocusBlur.bind(Be);vt(We,"focus",Mn,!0),vt(We,"blur",Mn,!0);var qn=Be._handleDisabled.bind(Be);return vt(We,"mousedown",qn,!0),vt(We,"mouseup",qn,!0),vt(We,"click",qn,!0),vt(We,"dblclick",qn,!0),vt(We,"wheel",qn,Ke(!0,!0)),vt(We,"keydown",function(Xn){Be.isDisabled&&Xn.keyCode!=fn.Tab&&Xn.preventDefault()}),0==w._ctlCnt&&gt(!0),w._ctlCnt++,Be}return C(w,I),w.prototype.getTemplate=function(){for(var A=Object.getPrototypeOf(this);A;A=Object.getPrototypeOf(A)){var te=A.constructor.controlTemplate;if(te)return te}return null},w.prototype.applyTemplate=function(A,te,_e,Be){var We=this,vt=this._e;A&&Qn(vt,A);var zt=null;te&&(zt=qi(te,vt));for(var an=vt.querySelectorAll("a.wj-btn"),Mn=0;Mn<an.length;Mn++){var qn=an[Mn];Pi(qn,"role","button",!0),Pi(qn,"href","",!0),Pi(qn,"draggable",!1,!0)}var Xn=vt.querySelectorAll("button");for(Mn=0;Mn<Xn.length;Mn++)Pi(Xn[Mn],"type","button",!0);var hi=vt.querySelectorAll("input"),Un=1==hi.length?hi[0]:null;if(Un){var br=w._rxInputAtts;this._copyAttributes(Un,vt.attributes,br),this._copyAttributes(Un,this._orgAtts,br)}if(Un&&vt.id){for(var jo=vt;jo.parentElement;)jo=jo.parentElement;var $r=jo.querySelector('label[for="'+vt.id+'"]');if($r instanceof HTMLLabelElement){var Bo=ni(vt.id+"_input");Un.id=Bo,$r.htmlFor=Bo}}if(Un){var ns=Un.value,vr=!0,Vo=!1,Jt=document.createEvent("HTMLEvents");Jt.initEvent("change",!0,!1),this.gotFocus.addHandler(function(){vr=!1,Vo=!0,ns=Un.value}),this.addEventListener(vt,"focusin",function(Oi){vr&&(Vo=!0,vr=!1,ns=Un.value)}),this.addEventListener(Un,"input",function(){We._pristine=!1,setTimeout(function(){ns=Un.value})}),this.addEventListener(Un,"change",function(Oi){Oi.isTrusted&&(ns=Un.value)});var An=function(){We._containsFocus()||(vr=!0,We._pristine&&(We._pristine=!1,We._updateState()),Vo&&ns!=Un.value&&(ns=Un.value,Un.dispatchEvent(Jt)),Vo=!1)};this.addEventListener(vt,"blur",function(){An()}),this.lostFocus.addHandler(function(){An()})}if(Un?vt.tabIndex=-1:vt.getAttribute("tabindex")||(vt.tabIndex=0),this._updateState(),_e)for(var bn in _e){var vi=_e[bn];if(this[bn]=zt.querySelector('[wj-part="'+vi+'"]'),null==this[bn]&&zt.getAttribute("wj-part")==vi&&(this[bn]=zt),null==this[bn])throw'Missing template part: "'+vi+'"';if(vi==Be){var Gi="name",gr=vt.attributes[Gi];gr&&gr.value&&this[bn].setAttribute(Gi,gr.value),(gr=vt.attributes[Gi="accesskey"])&&gr.value&&(this[bn].setAttribute(Gi,gr.value),vt.removeAttribute(Gi))}}return zt},w.prototype.dispose=function(){if(this._e){for(var A=this._e.querySelectorAll(".wj-control"),te=0;te<A.length;te++){var _e=w.getControl(A[te]);_e&&_e.dispose()}this._toInv&&(clearTimeout(this._toInv),this._toInv=null),this._toFocus&&(clearTimeout(this._toFocus),this._toFocus=null);var Be=this._szObserver;for(var We in Be&&Be.disconnect(),this.removeEventListener(),this)We.length>2&&0==We.indexOf("on")&&(zt=this[We[2].toLowerCase()+We.substr(3)])instanceof me&&zt.removeAllHandlers();var vt=this.collectionView;if(vt instanceof Ar)for(var We in vt){var zt;(zt=vt[We])instanceof me&&zt.removeHandler(null,this)}this._e.parentNode&&(null!=this._orgOuter&&(this._e.outerHTML=this._orgOuter),this._e.innerHTML=this._orgInner),this._e[w._CTRL_KEY]=null,this._e=this._orgOuter=this._orgTag=this._szObserver=null,0==--w._ctlCnt&&gt(!1),w._ctlInvalidInput===this&&(w._toInvalidInput&&(clearTimeout(w._toInvalidInput),w._toInvalidInput=null),w._toClearCtlInvalid&&(clearTimeout(w._toClearCtlInvalid),w._toClearCtlInvalid=null),w._ctlInvalidInput=null)}},w.getControl=function(A){var te=ii(A);return te?qt(te[w._CTRL_KEY],w,!0):null},Object.defineProperty(w.prototype,"hostElement",{get:function(){return this._e},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"rightToLeft",{get:function(){return null==this._rtlDir&&(this._rtlDir=!!this._e&&"rtl"==getComputedStyle(this._e).direction),this._rtlDir},enumerable:!0,configurable:!0}),w.prototype.focus=function(){var A=this._e;A&&A.offsetHeight&&(this.isDisabled||!(A.tabIndex>=0)&&Ts(A,0)||A.focus())},w.prototype.containsFocus=function(){return this._containsFocusImpl(mo())},w.prototype._containsFocus=function(){return this._containsFocusImpl(Xs())},w.prototype._containsFocusImpl=function(A){return Eo(this._e,A,!0)},w.prototype.invalidate=function(A){var te=this;void 0===A&&(A=!0),this._rtlDir=null,this._fullUpdate=this._fullUpdate||A,this._toInv&&(clearTimeout(this._toInv),this._toInv=null),this.isUpdating||(this._toInv=setTimeout(function(){te.refresh(te._fullUpdate),te._toInv=null},w._REFRESH_INTERVAL))},w.prototype.refresh=function(A){var te=this;void 0===A&&(A=!0),this.isUpdating||(this.onRefreshing(),this.refreshed.hasHandlers&&setTimeout(function(){te.onRefreshed()})),!this.isUpdating&&this._toInv&&(clearTimeout(this._toInv),this._toInv=null,this._fullUpdate=!1),this._updateState(),this._updateWme()},w.invalidateAll=function(A){A||(A=document.body);var te=A.children;if(te)for(var _e=0;_e<te.length;_e++)w.invalidateAll(te[_e]);var Be=w.getControl(A);Be&&Be.invalidate()},w.refreshAll=function(A){if(A||(A=document.body),A.children)for(var te=0;te<A.children.length;te++)w.refreshAll(A.children[te]);var _e=w.getControl(A);_e&&_e.refresh()},w.disposeAll=function(A){var te=w.getControl(A);if(te)te.dispose();else if(A.children)for(var _e=0;_e<A.children.length;_e++)w.disposeAll(A.children[_e])},w.prototype.beginUpdate=function(){this._updating++},w.prototype.endUpdate=function(){this._updating--,this._updating<=0&&this.invalidate()},Object.defineProperty(w.prototype,"isUpdating",{get:function(){return this._updating>0},enumerable:!0,configurable:!0}),w.prototype.deferUpdate=function(A){try{this.beginUpdate(),A()}finally{this.endUpdate()}},Object.defineProperty(w.prototype,"isTouching",{get:function(){return w._touching},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"tabOrder",{get:function(){return this._orgTabIndex},set:function(A){this._setTabOrder(A)},enumerable:!0,configurable:!0}),w.prototype._setTabOrder=function(A){var te=this._e;this._orgTabIndex=A;var _e=te.querySelectorAll("input"),Be=1===_e.length?_e[0]:null;te.tabIndex=this.isDisabled||Be?-1:this._orgTabIndex,Be&&(Be.tabIndex=this._orgTabIndex)},Object.defineProperty(w.prototype,"isDisabled",{get:function(){return this._e&&null!=this._e.getAttribute("disabled")},set:function(A){this._setIsDisabled(A)},enumerable:!0,configurable:!0}),w.prototype._setIsDisabled=function(A){if((A=!!pi(A,!0))!=this.isDisabled){var te=this._e;if(te){Vn(te,"wj-state-disabled",A),Pi(te,"disabled",A?"disabled":null),te.tabIndex=this.isDisabled||1===te.querySelectorAll("input").length?-1:this._orgTabIndex;for(var _e=te.querySelectorAll("input,textarea,button,command,fieldset,keygen,optgroup,option,select"),Be=w._DSBL_KEY,We=0;We<_e.length;We++){var vt=_e[We];if(A)vt[Be]=vt.disabled,vt.disabled=!0;else if(_o(vt,".wj-control.wj-state-disabled"))vt[Be]=vt.disabled,vt.disabled=!0;else{var zt=vt[Be];It(zt)||(zt=!1),vt.disabled=zt,delete vt[Be]}}}}},w.prototype.initialize=function(A){He(this,A)},w.prototype.addEventListener=function(A,te,_e,Be,We){if(A){null==Be&&(Be=!1),It(Be)&&null==We&&(te.indexOf("touch")>-1||te.indexOf("wheel")>-1)&&(We=!1);var vt=It(Be)&&It(We)?Ke(Be,We):Be;A.addEventListener(te,_e,vt),this._listeners.push({target:A,type:te,fn:_e,capture:Be})}},w.prototype.removeEventListener=function(A,te,_e,Be){for(var We=0,vt=0;vt<this._listeners.length;vt++){var zt=this._listeners[vt];null!=A&&A!=zt.target||null!=te&&te!=zt.type||null!=_e&&_e!=zt.fn||null!=Be&&Be!=zt.capture||(zt.target.removeEventListener(zt.type,zt.fn,zt.capture),this._listeners.splice(vt,1),vt--,We++)}return We},w.prototype.onGotFocus=function(A){this.gotFocus.raise(this,A)},w.prototype.onLostFocus=function(A){this.lostFocus.raise(this,A)},w.prototype.onInvalidInput=function(A){var te=this;if(this.invalidInput.raise(this,A),A.cancel){var _e=w._FOCUS_INTERVAL+50;(null==w._ctlInvalidInput||w._ctlInvalidInput===this)&&(w._ctlInvalidInput=this,w._toInvalidInput&&clearTimeout(w._toInvalidInput),w._toClearCtlInvalid&&clearTimeout(w._toClearCtlInvalid),w._toInvalidInput=setTimeout(function(){w._toInvalidInput=null,te.focus(),w._toClearCtlInvalid=setTimeout(function(){w._ctlInvalidInput=null,w._toClearCtlInvalid=null},_e)},_e))}else w._ctlInvalidInput=null;return this._updateState(),!A.cancel},w.prototype.onRefreshing=function(A){this.refreshing.raise(this,A)},w.prototype.onRefreshed=function(A){this.refreshed.raise(this,A)},w.prototype._getProductInfo=function(){return"B0C3,Control"},w.prototype._updateWme=function(){var A=this._getProductInfo(),te=w._toWme,_e=Ss;Ue(_e)&&!te[A]&&(te[A]=!0,_e(this,w._licKey))},w.prototype._hasPendingUpdates=function(){return null!=this._toInv},w.prototype._handleResize=function(){if(this._e.parentElement){var A=new gs(this._e.offsetWidth,this._e.offsetHeight);A.equals(this._szCtl)||(this._szCtl=A,(A.width||A.height)&&this.invalidate())}},w.prototype._resizeObserverCallback=function(A){A.forEach(function(te){var _e=w.getControl(te.target);_e&&_e._handleResize()})},w.prototype._handleFocusBlur=function(){var A=this;this._toFocus||(this._toFocus=setTimeout(function(){A._toFocus=null,A._updateFocusState()},w._FOCUS_INTERVAL))},w.prototype._updateFocusState=function(){setTimeout(function(){for(var A=ft.empty,te=document.body.querySelectorAll(".wj-state-focused"),_e=0;_e<te.length;_e++)(zt=w.getControl(te[_e]))&&zt._focus&&!zt.containsFocus()&&(Zn(zt._e,"wj-state-focus"),zt._focus=!1,zt._updateState(),zt.onLostFocus(A));var Be=mo();if(Be)for(var We=!0,vt=Be;vt;){var zt;(zt=w.getControl(vt))&&!zt._focus&&zt.containsFocus()&&(We&&(Qn(vt,"wj-state-focus"),We=!1),zt._focus=!0,zt._updateState(),zt.onGotFocus(A)),vt=vt[w._OWNR_KEY]||vt.parentNode}})},w.prototype._updateState=function(){var A=this.hostElement;if(A){Vn(A,"wj-state-focused",this._focus),this._rtlDir="rtl"==getComputedStyle(A).direction,Vn(A,"wj-rtl",this._rtlDir);var te=A.querySelector("input");if(te instanceof HTMLInputElement){Vn(A,"wj-state-empty",0==te.value.length),Vn(A,"wj-state-readonly",te.readOnly);var _e=te.validationMessage;Vn(A,"wj-state-invalid",!this._pristine&&null!=_e&&_e.length>0)}}},w.prototype._handleDisabled=function(A){(this.isDisabled||_o(A.target,".wj-state-disabled"))&&(A.preventDefault(),A.stopPropagation(),A.stopImmediatePropagation())},w.prototype._replaceWithDiv=function(A){var te=document.createElement("div");return A.parentElement.replaceChild(te,A),te.innerHTML=A.innerHTML,this._copyAttributes(te,A.attributes,/id|style|class/i),te},w.prototype._copyAttributes=function(A,te,_e){if(A)for(var Be=0;Be<te.length;Be++){var We=te[Be].name;We.match(_e)&&A.setAttribute(We,te[Be].value)}},w.prototype._getKeyCode=function(A){var te=A.keyCode;if(this.rightToLeft)switch(te){case fn.Right:te=fn.Left;break;case fn.Left:te=fn.Right}return te},w._toWme={},w._ctlCnt=0,w._touching=!1,w._REFRESH_INTERVAL=10,w._FOCUS_INTERVAL=5,w._ANIM_DEF_DURATION=400,w._ANIM_DEF_STEP=35,w._CLICK_DELAY=800,w._CLICK_REPEAT=75,w._CLIPBOARD_DELAY=100,w._POPUP_ZINDEX=1500,w._SEARCH_DELAY=500,w._HOVER_DELAY=400,w._LEAVE_DELAY=600,w._DRAG_SCROLL_EDGE=15,w._DRAG_SCROLL_STEP=20,w._CTRL_KEY="$WJ-CTRL",w._OWNR_KEY="$WJ-OWNR",w._SCRL_KEY="$WJ-SCRL",w._TTIP_KEY="$WJ-TTIP",w._DSBL_KEY="$WJ-DSBL",w._rxInputAtts=/name|tabindex|placeholder|autofocus|autocomplete|autocorrect|autocapitalize|spellcheck|readonly|minlength|maxlength|pattern|type|aria-.+/i,w}(q);function gt(I){if("ontouchstart"in window||"onpointerdown"in window){var w=document,A=Ke(!0,!0),te=rn,_e=wi,Be=I?w.addEventListener.bind(w):w.removeEventListener.bind(w);"ontouchstart"in window?(Be("touchstart",te,A),Be("touchend",_e,A),Be("touchcancel",_e,A)):"onpointerdown"in window&&(Be("pointerdown",te,A),Be("pointerup",_e,A),Be("pointercancel",_e,A))}}function rn(I){(null==I.pointerType||"touch"==I.pointerType)&&(Oe._toTouch&&(clearTimeout(Oe._toTouch),Oe._toTouch=null),Oe._touching=!0)}function wi(I){if((null==I.pointerType||"touch"==I.pointerType)&&(Oe._toTouch=setTimeout(function(){Oe._toTouch=null,Oe._touching=!1},900),document.querySelector("ion-app"))){var w=I.target;_o(w,".wj-dropdown-panel,.wj-dropdown")&&(w.focus(),I.stopPropagation(),I.stopImmediatePropagation())}}var Kr,Cr=function(){function I(w){this._title=null,this._copyCss=!0,null!=w&&He(this,w)}return Object.defineProperty(I.prototype,"title",{get:function(){return this._title},set:function(w){this._title=on(w)},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"copyCss",{get:function(){return this._copyCss},set:function(w){this._copyCss=pi(w)},enumerable:!0,configurable:!0}),I.prototype.addCSS=function(w){this._css||(this._css=[]),this._css.push(w)},I.prototype.append=function(w){var A=this._getDocument();if(yn(w))A.write(w);else if(w instanceof Element){w instanceof HTMLElement&&Oe.refreshAll(w);for(var te=w.cloneNode(!0),_e=te.querySelectorAll("input"),Be=0;Be<_e.length;Be++){var We=_e[Be];switch(We.type){case"checkbox":Pi(We,"checked",!!We.checked||null),Pi(We,"indeterminate",!!We.indeterminate||null);break;case"radio":Pi(We,"checked",!!We.checked||null);break;default:Pi(We,"value",We.value||null)}}A.write(te.outerHTML)}else Xe(!1,"content should be an HTML string or an Element.")},I.prototype.print=function(w){var A=this;this._iframe&&(this._close(),setTimeout(function(){var te=A._iframe.contentWindow,_e="onafterprint"in te&&!le();_e&&(te.onafterprint=function(){A._afterPrint(w)}),oe()&&null==te.document.body||!document.queryCommandSupported("print")?(te.focus(),te.print()):te.document.execCommand("print",!0,null),_e||A._afterPrint(w)},100))},I.prototype._afterPrint=function(w){document.body.removeChild(this._iframe),this._iframe=null,Ue(w)&&w()},I.prototype._getDocument=function(){if(!this._iframe){var w=this._iframe=document.createElement("iframe");Qn(w,"wj-printdocument"),no(w,{position:"fixed",left:32e3,top:32e3}),document.body.appendChild(w)}return this._iframe.contentDocument},I.prototype._close=function(){var w=this,A=this._getDocument();if(A.close(),A.title=null!=this.title?this.title:document.title,A.title&&A.title.trim()||(A.title="\xa0"),this._copyCss&&[document.head,document.body].forEach(function(We){for(var vt=We.querySelectorAll("LINK"),zt=0;zt<vt.length;zt++){var an=vt[zt];if(an.rel.match(/stylesheet/i)&&(!an.type||an.type.match(/text\/css/i))){var Mn=Ps(an.href,{async:!1});w._addStyle(Mn.responseText)}}var qn=We.querySelectorAll("STYLE");for(zt=0;zt<qn.length;zt++)w._addStyle(qn[zt].textContent)}),this._css)for(var te=0;te<this._css.length;te++){var _e=A.createElement("style"),Be=Ps(this._css[te],{async:!1});_e.textContent=Be.responseText,A.head.appendChild(_e)}},I.prototype._addStyle=function(w){var A=this._getDocument(),te=A.createElement("style");te.textContent=w,A.head.appendChild(te)},I}(),Uo=function(){function I(){}return I.copy=function(w){I._copyPaste(on(w),null)},I.paste=function(w){w=ei(w),I._copyPaste(null,w)},I._copyPaste=function(w,A){for(var te=mo(),_e=_o(te,".wj-control");_e&&Oe.getControl(_e);)_e=_e.parentElement;if(_e=_e||document.body){var Be=!1,We=qi('<textarea class="wj-clipboard">',_e,{position:"fixed",opacity:"0"});We.onkeydown=function(vt){return vt.preventDefault()},We.onchange=function(vt){return vt.stopImmediatePropagation()},yn(w)?(We.value=w,We.select(),document.execCommand("copy")&&(Be=!0)):(We.select(),Ue(A)&&document.execCommand("paste")&&(A(We.value),Be=!0)),setTimeout(function(){te.focus({preventScroll:!0}),(oe()?setTimeout:function(vt,zt){return vt()})(function(){return Jr(We)},500),!Be&&Ue(A)&&A(We.value)},Oe._CLIPBOARD_DELAY)}},I}(),Vr=function(){function I(w){this._isDown=!1,this._mousedownBnd=this._mousedown.bind(this),this._mouseupBnd=this._mouseup.bind(this),this._clickBnd=this._click.bind(this),this.element=w,this._connect(!0)}return Object.defineProperty(I.prototype,"element",{get:function(){return this._e},set:function(w){this._connect(!1),this._e=qt(w,HTMLElement,!0),this._connect(!0)},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"disabled",{get:function(){return this._disabled},set:function(w){this._disabled=pi(w)},enumerable:!0,configurable:!0}),I.prototype._connect=function(w){var A=this;this._e&&I._startEvents.forEach(function(te){w?A._e.addEventListener(te,A._mousedownBnd):A._e.removeEventListener(te,A._mousedownBnd)})},I.prototype._clearTimeouts=function(){this._toRepeat&&(clearTimeout(this._toRepeat),this._toRepeat=null),this._toDelay&&(clearTimeout(this._toDelay),this._toDelay=null)},I.prototype._mousedown=function(w){var A=this;this._isDown&&this._mouseup(null),this._disabled||(this._isDown=!0,I._stopEvents.forEach(function(te){document.addEventListener(te,A._mouseupBnd)}),this._clearTimeouts(),this._toDelay=setTimeout(function(){A._isDown&&(A._click(),A._toRepeat=setTimeout(A._clickBnd,Oe._CLICK_REPEAT))},Oe._CLICK_DELAY))},I.prototype._mouseup=function(w){var A=this;this._isDown&&w&&"keydown"!=w.type&&this._clicked&&w.preventDefault(),I._stopEvents.forEach(function(te){document.removeEventListener(te,A._mouseupBnd)}),this._clearTimeouts(),this._isDown=!1,this._clicked=!1},I.prototype._click=function(){this._clicked=!0,this._clearTimeouts(),this._e&&(this._e.click(),this._isDown&&(this._toRepeat=setTimeout(this._clickBnd,Oe._CLICK_REPEAT)))},I._startEvents=["mousedown","touchstart"],I._stopEvents=["mouseup","mouseout","keydown","touchend","touchcancel"],I}();function zr(I,w,A,te,_e,Be){void 0===_e&&(_e=!0);var We=I.offsetHeight||I.offsetWidth,vt=A;(It(A)||null==A)&&(vt=A?Kr.AboveLeft:Kr.BelowLeft);var zt=function Xo(I){var w=document.body;if(I instanceof HTMLElement){if(!Eo(document.body,I))return w;for(var A=I;A;A=A.parentElement){if("DIALOG"==A.tagName||"ION-CONTENT"==A.tagName||"fixed"==getComputedStyle(A).position){w=A;break}if(Lo(A)){w=A.querySelector(".ui-dialog-content")||A;break}}}return w}(w);if(function Hr(I,w){(!I.offsetHeight||!I.offsetWidth||I.parentElement!=w)&&(no(I,{opacity:"0",position:"fixed",left:0,top:0,transform:"",display:""}),w.appendChild(I))}(I,zt),function Hs(I,w,A){if(w instanceof HTMLElement&&A){var te=A instanceof HTMLElement?A:w,_e=getComputedStyle(te);1==new hr(_e.backgroundColor).a&&no(I,{color:_e.color,backgroundColor:_e.backgroundColor,fontFamily:_e.fontFamily,fontSize:_e.fontSize,fontWeight:_e.fontWeight,fontStyle:_e.fontStyle})}}(I,w,_e),Oe.refreshAll(I),le()?requestAnimationFrame(function(){Js(I,w,vt)}):Js(I,w,vt),w instanceof HTMLElement&&(I[Oe._OWNR_KEY]=w),!We){if(function ma(I,w,A){var te=w instanceof MouseEvent?w.target:w;if(te instanceof HTMLElement&&te.parentElement!=document.body){var _e=Date.now(),Be=te.getBoundingClientRect(),We=new Oe(document.createElement("div"));I[Oe._SCRL_KEY]=We,We.addEventListener(document,"scroll",function(vt){if(vt.target!=I.parentElement&&Date.now()-_e>100&&Eo(document,te)&&!Eo(I,vt.target)&&(vt.target!=document||null!=w&&"fixed"==I.style.position)){var zt=te.getBoundingClientRect(),an=Math.abs(zt.left-Be.left),Mn=Math.abs(zt.top-Be.top);(an>1||Mn>1)&&(Ue(A)&&A(),ss(I,!0),We.dispose())}},!0)}}(I,w,Be),te)return wo(function(an){return I.style.opacity=an<1?an.toString():""});I.style.opacity=""}return null}function Lr(I,w,A){void 0===w&&(w=!0),void 0===A&&(A=!1);var te=null;return A?te=wo(function(_e){I.style.opacity=(1-_e).toString(),1==_e&&(ss(I,w),I.style.opacity="")}):ss(I,w),te}function Js(I,w,A){var te=function Wr(I,w){return w instanceof MouseEvent?w.clientX<=0&&w.clientY<=0&&w.target instanceof HTMLElement?io.fromBoundingRect(w.target.getBoundingClientRect()):new io(w.pageX-pageXOffset,w.pageY-pageYOffset,0,0):w instanceof Ri?new io(w.x,w.y,0,0):w instanceof HTMLElement?io.fromBoundingRect(w.getBoundingClientRect()):w&&null!=w.top&&null!=w.left?w:null}(0,w),_e=function ts(I){var w=document.body,A=document.documentElement,te=I.parentElement,_e=new Ri(w.scrollLeft||pageXOffset,w.scrollTop||pageYOffset);if(te!=w){var Be=te==w?A:I.offsetParent||te;if(Be==w&&(Be=te),Be){var We=Be.getBoundingClientRect();_e=new Ri(Be.scrollLeft-We.left,Be.scrollTop-We.top)}}if(te instanceof HTMLElement){var vt=getComputedStyle(te);_e.x-=parseFloat(vt.borderLeftWidth),_e.y-=parseFloat(vt.borderTopWidth)}return _e}(I),Be=function xs(I,w,A,te){var _e=document.documentElement,Be=_e.clientWidth,We=_e.clientHeight,vt=Kr;switch(A){case vt.AboveLeft:case vt.AboveRight:case vt.BelowLeft:case vt.BelowRight:if(w){var zt=w.width;zt&&(oe()&&(zt-=I.offsetWidth-I.clientWidth),I.style.minWidth=zt+"px")}}var an=getComputedStyle(I),Mn=parseFloat(an.marginTop)+parseFloat(an.marginBottom),qn=parseFloat(an.marginLeft)+parseFloat(an.marginRight),Xn=new gs(I.offsetWidth+qn,I.offsetHeight+Mn),hi=new Ri((Be-Xn.width)/2,Math.round((We-Xn.height)/2*.7));if(w){"rtl"==an.direction&&(A=function xi(I){var w=Kr;switch(I){case w.AboveLeft:return w.AboveRight;case w.AboveRight:return w.AboveLeft;case w.BelowLeft:return w.BelowRight;case w.BelowRight:return w.BelowLeft;case w.Left:return w.Right;case w.LeftTop:return w.RightTop;case w.LeftBottom:return w.RightBottom;case w.Right:return w.Left;case w.RightTop:return w.LeftTop;case w.RightBottom:return w.LeftBottom}return I}(A));var Un=w.left,br=Be-w.right;switch(hi.x=w.left,A){case vt.Above:case vt.Below:hi.x=w.left+(w.width-Xn.width)/2;break;case vt.AboveLeft:case vt.BelowLeft:hi.x=w.left;break;case vt.AboveRight:case vt.BelowRight:hi.x=w.right-Xn.width;break;case vt.Left:case vt.LeftTop:case vt.LeftBottom:hi.x=Un>=Xn.width||Un>=br?w.left-Xn.width:w.right;break;case vt.RightTop:case vt.RightBottom:case vt.Right:hi.x=br>=Xn.width||br>=Un?w.right:w.left-Xn.width}var jo=w.top,$r=We-w.bottom;switch(A){case vt.Above:case vt.AboveLeft:case vt.AboveRight:hi.y=jo>Xn.height||jo>$r?w.top-Xn.height:w.bottom;break;case vt.Below:case vt.BelowLeft:case vt.BelowRight:hi.y=$r>Xn.height||$r>jo?w.bottom:w.top-Xn.height;break;case vt.LeftTop:case vt.RightTop:hi.y=w.top;break;case vt.LeftBottom:case vt.RightBottom:hi.y=w.bottom-Xn.height;break;case vt.Left:case vt.Right:hi.y=w.bottom-Xn.height+(Xn.height-w.height)/2}}return hi.x=Math.min(hi.x,Be-Xn.width),hi.y=Math.min(hi.y,We-Xn.height),hi.x=Math.max(0,hi.x)+te.x,hi.y=Math.max(0,hi.y)+te.y,hi}(I,te,A,_e),We={position:"absolute",zIndex:Oe._POPUP_ZINDEX},vt=0==_e.x;vt?(We.left=Be.x,We.top=Be.y):We.transform="translate("+Be.x+"px, "+Be.y+"px)";var zt=I.getBoundingClientRect().width;if(no(I,We),vt){var an=zt-I.getBoundingClientRect().width;an>0&&(I.style.left=Be.x-Math.ceil(an)+"px")}}function ss(I,w){I.style.display="none",w&&I.parentElement&&setTimeout(function(){"none"==I.style.display&&(Jr(I),Ue(w)&&w())},Oe._FOCUS_INTERVAL+50);var A=I[Oe._SCRL_KEY];A instanceof Oe&&A.dispose(),delete I[Oe._SCRL_KEY],delete I[Oe._OWNR_KEY]}function Lo(I){var w=window.jQuery,A=Ue(w)?w(I):null;return A&&Ue(A.dialog)&&gn(I,"ui-dialog")}!function(I){I[I.Above=0]="Above",I[I.AboveRight=1]="AboveRight",I[I.RightTop=2]="RightTop",I[I.Right=3]="Right",I[I.RightBottom=4]="RightBottom",I[I.BelowRight=5]="BelowRight",I[I.Below=6]="Below",I[I.BelowLeft=7]="BelowLeft",I[I.LeftBottom=8]="LeftBottom",I[I.Left=9]="Left",I[I.LeftTop=10]="LeftTop",I[I.AboveLeft=11]="AboveLeft"}(Kr||(Kr={}));var Ai=function(){function I(w){this._showAutoTipBnd=this._showAutoTip.bind(this),this._hideAutoTipBnd=this._hideAutoTip.bind(this),this._mousemoveBnd=this._mousemove.bind(this),this._html=!0,this._cssClass="",this._gap=6,this._isAnimated=!1,this._position=Kr.Above,this._showAtMouse=!1,this._showDelay=500,this._hideDelay=0,this._tips=[],this.popup=new me,He(this,w)}return Object.defineProperty(I.prototype,"position",{get:function(){return this._position},set:function(w){this._position=Je(w,Kr)},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"isAnimated",{get:function(){return this._isAnimated},set:function(w){this._isAnimated=pi(w)},enumerable:!0,configurable:!0}),I.prototype.setTooltip=function(w,A,te){w=ii(w),A=this._getContent(A);var _e=this._indexOf(w);_e>-1&&(this._detach(w),this._tips.splice(_e,1)),A&&(this._attach(w),this._tips.push({element:w,content:A,position:te}));var Be=I._eTip;Be&&Be[Oe._TTIP_KEY]==w&&(A?this._setContent(A):this._hideAutoTip())},I.prototype.getTooltip=function(w){w=ii(w);for(var A=this._tips,te=0;te<A.length;te++)if(A[te].element==w)return A[te].content;return null},I.prototype.show=function(w,A,te,_e){if(w=ii(w),A=this._getContent(A),w){null==_e&&(_e=this.position);var Be=I._eTip;Be||(Qn(Be=I._eTip=document.createElement("div"),"wj-tooltip"),Be.style.visibility="none"),Qn(Be,this.cssClass),this._setContent(A),Be[Oe._TTIP_KEY]=w;var We=new nl(A,w);if(this.onPopup(We),We.content&&!We.cancel){this._setContent(We.content),te||(te=io.fromBoundingRect(w.getBoundingClientRect()));var vt=this.gap;if(vt)switch(_e){case Kr.Above:case Kr.AboveLeft:case Kr.AboveRight:case Kr.Below:case Kr.BelowLeft:case Kr.BelowRight:te=te.inflate(0,vt);break;default:te=te.inflate(vt,0)}zr(Be,te,_e,this.isAnimated),document.addEventListener("mousedown",this._hideAutoTipBnd)}}},I.prototype.hide=function(){var w=I._eTip;w&&(Jr(w),Zn(w,this.cssClass),w.innerHTML=""),document.removeEventListener("mousedown",this._hideAutoTipBnd)},I.prototype.dispose=function(){var w=this;this.isVisible&&this.hide();var A=this._tips;A.length&&(A.forEach(function(te){w._detach(te.element)}),A.splice(0,A.length)),this._clearTimeouts()},Object.defineProperty(I.prototype,"isVisible",{get:function(){var w=I._eTip;return null!=w&&null!=w.parentElement&&w.offsetWidth>0},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"isContentHtml",{get:function(){return this._html},set:function(w){this._html=pi(w)},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"cssClass",{get:function(){return this._cssClass},set:function(w){this._cssClass=on(w)},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"gap",{get:function(){return this._gap},set:function(w){this._gap=Ln(w)},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"showAtMouse",{get:function(){return this._showAtMouse},set:function(w){this._showAtMouse=pi(w)},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"showDelay",{get:function(){return this._showDelay},set:function(w){this._showDelay=Wi(w)},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"hideDelay",{get:function(){return this._hideDelay},set:function(w){this._hideDelay=Wi(w)},enumerable:!0,configurable:!0}),I.prototype.onPopup=function(w){return this.popup&&this.popup.raise(this,w),!w.cancel},I.prototype._indexOf=function(w){for(var A=0;A<this._tips.length;A++)if(this._tips[A].element==w)return A;return-1},I.prototype._attach=function(w){w.addEventListener("mouseenter",this._showAutoTipBnd),w.addEventListener("mouseleave",this._hideAutoTipBnd),w.addEventListener("click",this._showAutoTipBnd),this.showAtMouse&&w.addEventListener("mousemove",this._mousemoveBnd)},I.prototype._detach=function(w){w.removeEventListener("mouseenter",this._showAutoTipBnd),w.removeEventListener("mouseleave",this._hideAutoTipBnd),w.removeEventListener("click",this._showAutoTipBnd),w.removeEventListener("mousemove",this._mousemoveBnd)},I.prototype._showAutoTip=function(w){var A=this;if(!w.defaultPrevented)if("click"!=w.type||Oe._touching){var te="mouseenter"==w.type?this._showDelay:0,_e=this._hideDelay;this._clearTimeouts(),this._eMouse=w,this._toShow=setTimeout(function(){var Be=A._indexOf(w.target);if(Be>-1){var We=A._tips[Be],vt=A._eMouse,zt=A._showAtMouse?new io(vt.clientX,vt.clientY,0,0):null,an=We&&We.element;if(an&&(an.offsetHeight||an.offsetWidth)){var Mn=Oe.getControl(We.element);(null==Mn||0!=Mn.isVisible)&&(A.show(We.element,We.content,zt,We.position),_e>0&&(A._toHide=setTimeout(function(){A.hide()},_e)))}}},te)}else this._hideAutoTip()},I.prototype._mousemove=function(w){this._eMouse=w},I.prototype._hideAutoTip=function(){this._clearTimeouts(),this.hide()},I.prototype._clearTimeouts=function(){this._toShow&&(clearTimeout(this._toShow),this._toShow=null),this._toHide&&(clearTimeout(this._toHide),this._toHide=null)},I.prototype._getContent=function(w){if((w=on(w))&&"#"==w[0]){var A=ii(w);A&&(w=A.innerHTML)}return w},I.prototype._setContent=function(w){var A=I._eTip;A&&(this._html?A.innerHTML=w:A.textContent=w)},I}(),nl=function(I){function w(A,te){var _e=I.call(this)||this;return _e._content=on(A),_e._e=te,_e}return C(w,I),Object.defineProperty(w.prototype,"tip",{get:function(){return Ai._eTip},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"element",{get:function(){return this._e},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"content",{get:function(){return this._content},set:function(A){this._content=on(A)},enumerable:!0,configurable:!0}),w}(pt);ms("wijmo",h);var $i="The Wijmo license in this application ",Oa={evl:"Wijmo Evaluation Version ({version})",prd:$i+"is not valid for the <b>{control}</b> control.",ver:$i+"is not valid for the version in use. The license version is <b>{licVer}</b>; the product version is <b>{version}</b>.",dmn:$i+"is not valid for the current domain. The license domain is <b>{licDomain}</b>; the current domain is <b>{domain}</b>.",exp:$i+"has expired. The license expiration date is <b>{expDate:d}</b>.",lic:$i+"is invalid.",mss:$i+"is not set.",ctc:'If you are a customer, you can <a target="_blank" rel="noopener" href="https://www.grapecity.com/licensing/wijmo?utm_source=Wijmo-In-App&utm_medium=Click-to-Site&utm_campaign=Wijmo-User-Analysis">create a license</a> online. Otherwise, you can <a target="_blank" rel="noopener" href="https://www.grapecity.com/wijmo/request-trial-key?utm_source=Wijmo-In-App&utm_medium=Click-to-Site&utm_campaign=Wijmo-User-Analysis">generate a 30-day license</a> for free. For further assistance, contact GrapeCity: <a href="mailto:us.sales@grapecity.com">us.sales@grapecity.com</a>.',hdr:"Wijmo License",cls:"CLOSE"},To={};function Ss(I,w){var A=Oe._wme;if(!(A&&Eo(document.body,A)&&A.offsetWidth&&A.offsetHeight))if(w){var te=Qs(I);To[te]||(To[te]=!0,function nr(I,w,A,te){var _e=function ya(I,w){try{var A=I.indexOf(w="#"+w);if(A>-1)return{prefix:I.substring(0,A),lic:JSON.parse(Pe(I.substr(A+w.length)))}}catch{}return null}(I,w.algorithmCode);if(!_e)return te();var Be=_e.lic,We=_e.prefix+"#"+w.algorithmCode;if(function Bl(I){for(var w=0,A=5381,te=0,_e=I.length-1;_e>=0;_e--){var Be=I.charCodeAt(_e);w=Be+(w<<6)+(w<<16)-w,A=Be+((A<<5)+A),te=Be+((te<<5)-te)}var We=w^A^te;return We<0&&(We=~We),We.toString(16).toUpperCase()}(We+JSON.stringify(Be.D))!=Be.H)return te();var vt=window.msCrypto||window.crypto,zt=vt?vt.subtle:null;if(!zt||!location.protocol.match(/^https/i))return A(Be.D);var an={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},Mn={alg:"RS256",e:"AQAB",kty:"RSA",n:$a(w.publicKey)};Mn=window.msCrypto?Yo(JSON.stringify(Mn)):Mn;try{Za(zt.importKey("jwk",Mn,an,!1,["verify"])).then(function(qn){var Xn=function Sn(I){return String.fromCharCode.apply(null,new ar(I))}(Sr(function _a(I){return btoa(encodeURIComponent(I).replace(/%([0-9A-F]{2})/g,function(w,A){return String.fromCharCode(parseInt(A,16))}))}(We+JSON.stringify(Be.D))));Za(zt.verify(an,qn,Sr(Be.S),Yo(Xn))).then(function(hi){return hi?A(Be.D):te()})},function(){return A(Be.D)})}catch{return A(Be.D)}}(w,{algorithmCode:"B0",publicKey:"l6/zrbWoSbcLFwEetFh38rH3ErBZE9H+Cqix3R+wTlfA1wD5B+lUcCQn+EJ60I4RGrm0x1sFjkiLWwB0jAn6BWZv0W4WbqAKriOdeoivxDp1Wmjs3qkEDhvbsjPtfvwx2BHil6o+/tDrdMJQSGs18WZm2PoQLQuL+9VhZ4FNRHUQU3Jtioke/OZEGHJOdYVwvCGalzBad6QFOiVbDBQPePpS3++GJzOxN8SN/7lyS5/IdKiy3WJRaVGkB370+HbN6hKraDfUgReLX26yxRaKC/5aWnGAJ2NnWLoGyAGRcwT9dVjo4bcAZNrrA0U9JVKQxaSskhdv2p49XzJkltXx5w=="},function(_e){xr(I,w,_e),delete To[te]},function(){xr(I,w,null),delete To[te]}))}else xr(I,null,null)}function Qs(I){return I._getProductInfo().split(",")[0]}function Pr(I){return I._getProductInfo().split(",")[1]}function xr(I,w,A){var te=Nn.Licensing||Oa,_e=null;A?function bt(I,w){if(w.Exp){var A=w.Exp,te=new Date(parseInt(A.substr(0,4))||0,parseInt(A.substr(4,2))-1||0,parseInt(A.substr(6,2))||0);if(Math.ceil((te.valueOf()-Date.now())/864e5)<=0)return!1}return!0}(0,A)?function Se(I,w){var A=w.Anl?w.Anl.ver:null,te=_t();return!A||!te||parseInt(A.replace("v",""))+10>=parseInt(te.split(".")[1])}(0,A)?function Ct(I,w){if(Hn()||!w.Dms)return!0;for(var A=location.hostname,te=w.Dms.split(","),_e=0;_e<te.length;_e++)if(kt(A,te[_e]))return!0;return!1}(0,A)?function Fe(I,w){var A=Qs(I);if(A&&A.length>=4)for(var te=0;te<w.Prd.length;te++)if(w.Prd[te].C.indexOf(A)>-1)return!0;return!1}(I,A)?mn(0,A)&&(_e=te.evl):_e=te.prd:_e=te.dmn:_e=te.ver:_e=te.exp:_e=w?te.lic:te.mss,_e&&function Rr(I,w,A){if(w=Jo(I,w,A),!To[" "]&&!Hn()&&!mn(0,A)){To[" "]=!0;var te=Nn.Licensing||Oa,_e=qi('<div style="position:fixed;background:rgba(0,0,0,0.3);left:0;top:0;width:100%;height:100%;font-family: sans-serif;z-index:10000;"><div style="position:relative;overflow:auto;background:white;width:450px;padding:36pt;left:50%;top:50%;transform:translate(-50%,-50%)"><div><p style="font-size:150%;font-weight:bold">'+te.hdr+"</p><p>"+w+'</p></div><div style="text-align:right;margin-top:24pt"><button style="border:none;background:rgba(158,158,158,.2);padding:8px 16px">'+te.cls+"</button></div></div></div>",document.body);_e.addEventListener("click",function(vt){vt.target instanceof HTMLButtonElement&&Jr(_e)})}if(!Oe._wme){var Be=qi('<div><a href="'+function Qr(){switch(Nn.Globalize.name){case"ja":return"https://www.grapecity.co.jp/developer/support/wijmo-license";case"ko":return"https://www.grapecity.co.kr/wijmojs#price";default:return"https://www.grapecity.com/licensing/wijmo?utm_source=Wijmo-In-App&utm_medium=Click-to-Site&utm_campaign=Wijmo-User-Analysis"}}()+'" target="_blank" rel="noopener">'+Jo(I)+"</a></div>"),We={position:"fixed",display:"block",visibility:"visible",background:"rgba(240,240,240,.9)",padding:"8px 12px",margin:"6px",fontFamily:"sans-serif",fontSize:"14pt",fontWeight:"bold",zIndex:1e4,opacity:.8,height:"auto",width:"auto",transform:"none"};switch(Math.round(100*Math.random())%3){case 0:We.right=We.bottom=0;break;case 1:We.left=We.bottom=0;break;case 2:We.right=We.top=0}no(Be,We),document.body.appendChild(Be),Oe._wme=Be,function zs(I,w){var A,te=qi(w);te.className="wj-tooltip",no(te,{pointerEvents:"auto",padding:"10px",margin:"6px"}),[I,te].forEach(function(We){We.addEventListener("mouseenter",function(){return Be(!0)}),We.addEventListener("mouseleave",function(){return Be(!1)})});var _e=0;function Be(We){_e+=We?1:-1,A&&clearTimeout(A),A=setTimeout(function(){A=null,1==_e?zr(te,I.getBoundingClientRect()):_e<1&&Lr(te)},500)}}(Be,w)}}(I,_e+="<br/><br/>"+te.ctc,A)}function kt(I,w){var A="^"+w.replace(/\./g,"\\.").replace(/\*/g,"(.*)")+"$",te=new RegExp(A,"i").test(I);return te||"*."!=w.substr(0,2)?te:kt(I,w.substr(2))}function mn(I,w){return!!w&&w.Evl}function Hn(){var I=location,w=atob("Xih8bG9jYWxob3N0fGZpZGRsZS5qc2hlbGwubmV0fHJ1bi5wbG5rci5jb3xzLmNvZGVwZW4uaW98bnVsbC5qc2Jpbi5jb218Lio/LnN0YWNrYmxpdHouaW98MTI3LjAuMC4xfFt3LV0rLmxvY2FsfFt3LV0rfDo6MSkk");return"file:"==I.protocol||new RegExp(w,"i").test(I.hostname)}function Jo(I,w,A){(!w||w.trim().length<15)&&(w=(Nn.Licensing||Oa).evl),(!w||w.trim().length<15)&&(w=atob("V2lqbW8gRXZhbHVhdGlvbiBWZXJzaW9uICh7dmVyc2lvbn0p"));var te=null;if(A&&A.Exp){var _e=A.Exp;te=new Date(parseInt(_e.substr(0,4))||0,parseInt(_e.substr(4,2))-1||0,parseInt(_e.substr(6,2))||0)}return fo(w,{version:_t(),domain:location.hostname,control:Pr(I),licVer:A&&A.Anl?"5."+A.Anl.ver.replace("v","")+".*":null,licDomain:A?A.Dms:null,expDate:te})}var ar=typeof window>"u"?null:window.Uint8Array||window.TypedArray;function Pe(I){if(!I)return"";var w=function ye(I){for(var w=I.split(""),A=w.length-5;A>=0;A--)fe(w,A+1,A+3,Tn),fe(w,A,A+2,Tn);return w.join("")}(I);w=function ir(I){return I.split("").reverse().join("")}(w);var A=Math.ceil(w.length/2);return function Go(I){for(var w=atob(I),A="",te=0;te<w.length;te++)A+="%"+("00"+w.charCodeAt(te).toString(16)).slice(-2);return decodeURIComponent(A)}(w=(w=(w=w.substr(A)+w.substr(0,A)).replace("#","=")).replace("&","=="))}function fe(I,w,A,te){I.length>1&&I.splice(A,1,te(I.splice(w,1,te(I[A]))[0]))}function Tn(I){return function at(I,w){var A=I.charCodeAt(0);return A>=65&&A<=90?I.toLowerCase():A>=97&&A<=122?I.toUpperCase():A>=48&&A<=57?String.fromCharCode(48+(A-48+10+w)%10):I}(I,-1)}function Sr(I){for(var w=atob(I),A=w.length,te=new ar(A),_e=0;_e<A;_e++)te[_e]=w.charCodeAt(_e);return te.buffer}function $a(I){return I.replace(/\+/g,"-").replace(/\//g,"_").replace(/\=+$/,"")}function Yo(I){for(var w=new ArrayBuffer(I.length),A=new ar(w),te=0,_e=I.length;te<_e;te++)A[te]=I.charCodeAt(te);return w}function Za(I){return"oncomplete"in I&&(I.then=function(w,A){I.resolve=w,I.reject=A},I.oncomplete=function(w){I.resolve(I.result)},I.onerror=function(w){I.reject()}),I}},9029:(cn,Ve,G)=>{"use strict";var h=G(1481),C=G(529),V=G(4650),ee=G(7340);function ue(R){return new V.vHH(3e3,!1)}function jt(){return typeof window<"u"&&typeof window.document<"u"}function xn(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function En(R){switch(R.length){case 0:return new ee.ZN;case 1:return R[0];default:return new ee.ZE(R)}}function In(R,D,S,N,ie=new Map,Re=new Map){const ot=[],At=[];let nn=-1,Cn=null;if(N.forEach(Gn=>{const hn=Gn.get("offset"),Xi=hn==nn,yi=Xi&&Cn||new Map;Gn.forEach((Si,er)=>{let Dr=er,Zr=Si;if("offset"!==er)switch(Dr=D.normalizePropertyName(Dr,ot),Zr){case ee.k1:Zr=ie.get(er);break;case ee.l3:Zr=Re.get(er);break;default:Zr=D.normalizeStyleValue(er,Dr,Zr,ot)}yi.set(Dr,Zr)}),Xi||At.push(yi),Cn=yi,nn=hn}),ot.length)throw function Le(R){return new V.vHH(3502,!1)}();return At}function Te(R,D,S,N){switch(D){case"start":R.onStart(()=>N(S&&$t(S,"start",R)));break;case"done":R.onDone(()=>N(S&&$t(S,"done",R)));break;case"destroy":R.onDestroy(()=>N(S&&$t(S,"destroy",R)))}}function $t(R,D,S){const Re=Lt(R.element,R.triggerName,R.fromState,R.toState,D||R.phaseName,S.totalTime??R.totalTime,!!S.disabled),ot=R._data;return null!=ot&&(Re._data=ot),Re}function Lt(R,D,S,N,ie="",Re=0,ot){return{element:R,triggerName:D,fromState:S,toState:N,phaseName:ie,totalTime:Re,disabled:!!ot}}function rt(R,D,S){let N=R.get(D);return N||R.set(D,N=S),N}function _t(R){const D=R.indexOf(":");return[R.substring(1,D),R.slice(D+1)]}let Ut=(R,D)=>!1,fn=(R,D,S)=>[],un=null;function Ft(R){const D=R.parentNode||R.host;return D===un?null:D}(xn()||typeof Element<"u")&&(jt()?(un=(()=>document.documentElement)(),Ut=(R,D)=>{for(;D;){if(D===R)return!0;D=Ft(D)}return!1}):Ut=(R,D)=>R.contains(D),fn=(R,D,S)=>{if(S)return Array.from(R.querySelectorAll(D));const N=R.querySelector(D);return N?[N]:[]});let Dn=null,On=!1;const Ht=Ut,Ge=fn;let Yt=(()=>{class R{validateStyleProperty(S){return function Ti(R){Dn||(Dn=function Ue(){return typeof document<"u"?document.body:null}()||{},On=!!Dn.style&&"WebkitAppearance"in Dn.style);let D=!0;return Dn.style&&!function yn(R){return"ebkit"==R.substring(1,6)}(R)&&(D=R in Dn.style,!D&&On&&(D="Webkit"+R.charAt(0).toUpperCase()+R.slice(1)in Dn.style)),D}(S)}matchesElement(S,N){return!1}containsElement(S,N){return Ht(S,N)}getParentElement(S){return Ft(S)}query(S,N,ie){return Ge(S,N,ie)}computeStyle(S,N,ie){return ie||""}animate(S,N,ie,Re,ot,At=[],nn){return new ee.ZN(ie,Re)}}return R.\u0275fac=function(S){return new(S||R)},R.\u0275prov=V.Yz7({token:R,factory:R.\u0275fac}),R})(),ut=(()=>{class R{}return R.NOOP=new Yt,R})();const ni=1e3,dr="ng-enter",Fr="ng-leave",Ei="ng-trigger",fo=".ng-trigger",Fi="ng-animating",Xr=".ng-animating";function pn(R){if("number"==typeof R)return R;const D=R.match(/^(-?[\.\d]+)(m?s)/);return!D||D.length<2?0:nt(parseFloat(D[1]),D[2])}function nt(R,D){return"s"===D?R*ni:R}function He(R,D,S){return R.hasOwnProperty("duration")?R:function Xe(R,D,S){let ie,Re=0,ot="";if("string"==typeof R){const At=R.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===At)return D.push(ue()),{duration:0,delay:0,easing:""};ie=nt(parseFloat(At[1]),At[2]);const nn=At[3];null!=nn&&(Re=nt(parseFloat(nn),At[4]));const Cn=At[5];Cn&&(ot=Cn)}else ie=R;if(!S){let At=!1,nn=D.length;ie<0&&(D.push(function ve(){return new V.vHH(3100,!1)}()),At=!0),Re<0&&(D.push(function re(){return new V.vHH(3101,!1)}()),At=!0),At&&D.splice(nn,0,ue())}return{duration:ie,delay:Re,easing:ot}}(R,D,S)}function ln(R,D={}){return Object.keys(R).forEach(S=>{D[S]=R[S]}),D}function on(R){const D=new Map;return Object.keys(R).forEach(S=>{D.set(S,R[S])}),D}function pi(R,D=new Map,S){if(S)for(let[N,ie]of S)D.set(N,ie);for(let[N,ie]of R)D.set(N,ie);return D}function bi(R,D,S){return S?D+":"+S+";":""}function ei(R){let D="";for(let S=0;S<R.style.length;S++){const N=R.style.item(S);D+=bi(0,N,R.style.getPropertyValue(N))}for(const S in R.style)R.style.hasOwnProperty(S)&&!S.startsWith("_")&&(D+=bi(0,sn(S),R.style[S]));R.setAttribute("style",D)}function si(R,D,S){R.style&&(D.forEach((N,ie)=>{const Re=ht(ie);S&&!S.has(ie)&&S.set(ie,R.style[Re]),R.style[Re]=N}),xn()&&ei(R))}function qt(R,D){R.style&&(D.forEach((S,N)=>{const ie=ht(N);R.style[ie]=""}),xn()&&ei(R))}function Je(R){return Array.isArray(R)?1==R.length?R[0]:(0,ee.vP)(R):R}const Ne=new RegExp("{{\\s*(.+?)\\s*}}","g");function Mt(R){let D=[];if("string"==typeof R){let S;for(;S=Ne.exec(R);)D.push(S[1]);Ne.lastIndex=0}return D}function Wt(R,D,S){const N=R.toString(),ie=N.replace(Ne,(Re,ot)=>{let At=D[ot];return null==At&&(S.push(function U(R){return new V.vHH(3003,!1)}()),At=""),At.toString()});return ie==N?R:ie}function Qe(R){const D=[];let S=R.next();for(;!S.done;)D.push(S.value),S=R.next();return D}const Zt=/-+([a-z0-9])/g;function ht(R){return R.replace(Zt,(...D)=>D[1].toUpperCase())}function sn(R){return R.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Zn(R,D,S){switch(D.type){case 7:return R.visitTrigger(D,S);case 0:return R.visitState(D,S);case 1:return R.visitTransition(D,S);case 2:return R.visitSequence(D,S);case 3:return R.visitGroup(D,S);case 4:return R.visitAnimate(D,S);case 5:return R.visitKeyframes(D,S);case 6:return R.visitStyle(D,S);case 8:return R.visitReference(D,S);case 9:return R.visitAnimateChild(D,S);case 10:return R.visitAnimateRef(D,S);case 11:return R.visitQuery(D,S);case 12:return R.visitStagger(D,S);default:throw function y(R){return new V.vHH(3004,!1)}()}}function Vn(R,D){return window.getComputedStyle(R)[D]}const Xs="*";function Ts(R,D){const S=[];return"string"==typeof R?R.split(/\s*,\s*/).forEach(N=>function ks(R,D,S){if(":"==R[0]){const nn=function qo(R,D){switch(R){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(S,N)=>parseFloat(N)>parseFloat(S);case":decrement":return(S,N)=>parseFloat(N)<parseFloat(S);default:return D.push(function dt(R){return new V.vHH(3016,!1)}()),"* => *"}}(R,S);if("function"==typeof nn)return void D.push(nn);R=nn}const N=R.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==N||N.length<4)return S.push(function u(R){return new V.vHH(3015,!1)}()),D;const ie=N[1],Re=N[2],ot=N[3];D.push(Br(ie,ot));"<"==Re[0]&&!(ie==Xs&&ot==Xs)&&D.push(Br(ot,ie))}(N,S,D)):S.push(R),S}const ii=new Set(["true","1"]),qi=new Set(["false","0"]);function Br(R,D){const S=ii.has(R)||qi.has(R),N=ii.has(D)||qi.has(D);return(ie,Re)=>{let ot=R==Xs||R==ie,At=D==Xs||D==Re;return!ot&&S&&"boolean"==typeof ie&&(ot=ie?ii.has(R):qi.has(R)),!At&&N&&"boolean"==typeof Re&&(At=Re?ii.has(D):qi.has(D)),ot&&At}}const _o=new RegExp("s*:selfs*,?","g");function ur(R,D,S,N){return new pr(R).build(D,S,N)}class pr{constructor(D){this._driver=D}build(D,S,N){const ie=new Ri(S);return this._resetContextStyleTimingState(ie),Zn(this,Je(D),ie)}_resetContextStyleTimingState(D){D.currentQuerySelector="",D.collectedStyles=new Map,D.collectedStyles.set("",new Map),D.currentTime=0}visitTrigger(D,S){let N=S.queryCount=0,ie=S.depCount=0;const Re=[],ot=[];return"@"==D.name.charAt(0)&&S.errors.push(function $(){return new V.vHH(3006,!1)}()),D.definitions.forEach(At=>{if(this._resetContextStyleTimingState(S),0==At.type){const nn=At,Cn=nn.name;Cn.toString().split(/\s*,\s*/).forEach(Gn=>{nn.name=Gn,Re.push(this.visitState(nn,S))}),nn.name=Cn}else if(1==At.type){const nn=this.visitTransition(At,S);N+=nn.queryCount,ie+=nn.depCount,ot.push(nn)}else S.errors.push(function Q(){return new V.vHH(3007,!1)}())}),{type:7,name:D.name,states:Re,transitions:ot,queryCount:N,depCount:ie,options:null}}visitState(D,S){const N=this.visitStyle(D.styles,S),ie=D.options&&D.options.params||null;if(N.containsDynamicStyles){const Re=new Set,ot=ie||{};N.styles.forEach(At=>{At instanceof Map&&At.forEach(nn=>{Mt(nn).forEach(Cn=>{ot.hasOwnProperty(Cn)||Re.add(Cn)})})}),Re.size&&(Qe(Re.values()),S.errors.push(function oe(R,D){return new V.vHH(3008,!1)}()))}return{type:0,name:D.name,style:N,options:ie?{params:ie}:null}}visitTransition(D,S){S.queryCount=0,S.depCount=0;const N=Zn(this,Je(D.animation),S);return{type:1,matchers:Ts(D.expr,S.errors),animation:N,queryCount:S.queryCount,depCount:S.depCount,options:Co(D.options)}}visitSequence(D,S){return{type:2,steps:D.steps.map(N=>Zn(this,N,S)),options:Co(D.options)}}visitGroup(D,S){const N=S.currentTime;let ie=0;const Re=D.steps.map(ot=>{S.currentTime=N;const At=Zn(this,ot,S);return ie=Math.max(ie,S.currentTime),At});return S.currentTime=ie,{type:3,steps:Re,options:Co(D.options)}}visitAnimate(D,S){const N=function io(R,D){if(R.hasOwnProperty("duration"))return R;if("number"==typeof R)return Ps(He(R,D).duration,0,"");const S=R;if(S.split(/\s+/).some(Re=>"{"==Re.charAt(0)&&"{"==Re.charAt(1))){const Re=Ps(0,0,"");return Re.dynamic=!0,Re.strValue=S,Re}const ie=He(S,D);return Ps(ie.duration,ie.delay,ie.easing)}(D.timings,S.errors);S.currentAnimateTimings=N;let ie,Re=D.styles?D.styles:(0,ee.oB)({});if(5==Re.type)ie=this.visitKeyframes(Re,S);else{let ot=D.styles,At=!1;if(!ot){At=!0;const Cn={};N.easing&&(Cn.easing=N.easing),ot=(0,ee.oB)(Cn)}S.currentTime+=N.duration+N.delay;const nn=this.visitStyle(ot,S);nn.isEmptyStep=At,ie=nn}return S.currentAnimateTimings=null,{type:4,timings:N,style:ie,options:null}}visitStyle(D,S){const N=this._makeStyleAst(D,S);return this._validateStyleAst(N,S),N}_makeStyleAst(D,S){const N=[],ie=Array.isArray(D.styles)?D.styles:[D.styles];for(let At of ie)"string"==typeof At?At===ee.l3?N.push(At):S.errors.push(new V.vHH(3002,!1)):N.push(on(At));let Re=!1,ot=null;return N.forEach(At=>{if(At instanceof Map&&(At.has("easing")&&(ot=At.get("easing"),At.delete("easing")),!Re))for(let nn of At.values())if(nn.toString().indexOf("{{")>=0){Re=!0;break}}),{type:6,styles:N,easing:ot,offset:D.offset,containsDynamicStyles:Re,options:null}}_validateStyleAst(D,S){const N=S.currentAnimateTimings;let ie=S.currentTime,Re=S.currentTime;N&&Re>0&&(Re-=N.duration+N.delay),D.styles.forEach(ot=>{"string"!=typeof ot&&ot.forEach((At,nn)=>{const Cn=S.collectedStyles.get(S.currentQuerySelector),Gn=Cn.get(nn);let hn=!0;Gn&&(Re!=ie&&Re>=Gn.startTime&&ie<=Gn.endTime&&(S.errors.push(function be(R,D,S,N,ie){return new V.vHH(3010,!1)}()),hn=!1),Re=Gn.startTime),hn&&Cn.set(nn,{startTime:Re,endTime:ie}),S.options&&function Ae(R,D,S){const N=D.params||{},ie=Mt(R);ie.length&&ie.forEach(Re=>{N.hasOwnProperty(Re)||S.push(function le(R){return new V.vHH(3001,!1)}())})}(At,S.options,S.errors)})})}visitKeyframes(D,S){const N={type:5,styles:[],options:null};if(!S.currentAnimateTimings)return S.errors.push(function ke(){return new V.vHH(3011,!1)}()),N;let Re=0;const ot=[];let At=!1,nn=!1,Cn=0;const Gn=D.steps.map(Zr=>{const oo=this._makeStyleAst(Zr,S);let so=null!=oo.offset?oo.offset:function gs(R){if("string"==typeof R)return null;let D=null;if(Array.isArray(R))R.forEach(S=>{if(S instanceof Map&&S.has("offset")){const N=S;D=parseFloat(N.get("offset")),N.delete("offset")}});else if(R instanceof Map&&R.has("offset")){const S=R;D=parseFloat(S.get("offset")),S.delete("offset")}return D}(oo.styles),Po=0;return null!=so&&(Re++,Po=oo.offset=so),nn=nn||Po<0||Po>1,At=At||Po<Cn,Cn=Po,ot.push(Po),oo});nn&&S.errors.push(function Ze(){return new V.vHH(3012,!1)}()),At&&S.errors.push(function Ke(){return new V.vHH(3200,!1)}());const hn=D.steps.length;let Xi=0;Re>0&&Re<hn?S.errors.push(function De(){return new V.vHH(3202,!1)}()):0==Re&&(Xi=1/(hn-1));const yi=hn-1,Si=S.currentTime,er=S.currentAnimateTimings,Dr=er.duration;return Gn.forEach((Zr,oo)=>{const so=Xi>0?oo==yi?1:Xi*oo:ot[oo],Po=so*Dr;S.currentTime=Si+er.delay+Po,er.duration=Po,this._validateStyleAst(Zr,S),Zr.offset=so,N.styles.push(Zr)}),N}visitReference(D,S){return{type:8,animation:Zn(this,Je(D.animation),S),options:Co(D.options)}}visitAnimateChild(D,S){return S.depCount++,{type:9,options:Co(D.options)}}visitAnimateRef(D,S){return{type:10,animation:this.visitReference(D.animation,S),options:Co(D.options)}}visitQuery(D,S){const N=S.currentQuerySelector,ie=D.options||{};S.queryCount++,S.currentQuery=D;const[Re,ot]=function no(R){const D=!!R.split(/\s*,\s*/).find(S=>":self"==S);return D&&(R=R.replace(_o,"")),R=R.replace(/@\*/g,fo).replace(/@\w+/g,S=>fo+"-"+S.slice(1)).replace(/:animating/g,Xr),[R,D]}(D.selector);S.currentQuerySelector=N.length?N+" "+Re:Re,rt(S.collectedStyles,S.currentQuerySelector,new Map);const At=Zn(this,Je(D.animation),S);return S.currentQuery=null,S.currentQuerySelector=N,{type:11,selector:Re,limit:ie.limit||0,optional:!!ie.optional,includeSelf:ot,animation:At,originalSelector:D.selector,options:Co(D.options)}}visitStagger(D,S){S.currentQuery||S.errors.push(function et(){return new V.vHH(3013,!1)}());const N="full"===D.timings?{duration:0,delay:0,easing:"full"}:He(D.timings,S.errors,!0);return{type:12,animation:Zn(this,Je(D.animation),S),timings:N,options:null}}}class Ri{constructor(D){this.errors=D,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Co(R){return R?(R=ln(R)).params&&(R.params=function wo(R){return R?ln(R):null}(R.params)):R={},R}function Ps(R,D,S){return{duration:R,delay:D,easing:S}}function po(R,D,S,N,ie,Re,ot=null,At=!1){return{type:1,element:R,keyframes:D,preStyleProps:S,postStyleProps:N,duration:ie,delay:Re,totalTime:ie+Re,easing:ot,subTimeline:At}}class ms{constructor(){this._map=new Map}get(D){return this._map.get(D)||[]}append(D,S){let N=this._map.get(D);N||this._map.set(D,N=[]),N.push(...S)}has(D){return this._map.has(D)}clear(){this._map.clear()}}const Is=new RegExp(":enter","g"),hr=new RegExp(":leave","g");function Nn(R,D,S,N,ie,Re=new Map,ot=new Map,At,nn,Cn=[]){return(new Ao).buildKeyframes(R,D,S,N,ie,Re,ot,At,nn,Cn)}class Ao{buildKeyframes(D,S,N,ie,Re,ot,At,nn,Cn,Gn=[]){Cn=Cn||new ms;const hn=new sa(D,S,Cn,ie,Re,Gn,[]);hn.options=nn;const Xi=nn.delay?pn(nn.delay):0;hn.currentTimeline.delayNextStep(Xi),hn.currentTimeline.setStyles([ot],null,hn.errors,nn),Zn(this,N,hn);const yi=hn.timelines.filter(Si=>Si.containsAnimation());if(yi.length&&At.size){let Si;for(let er=yi.length-1;er>=0;er--){const Dr=yi[er];if(Dr.element===S){Si=Dr;break}}Si&&!Si.allowOnlyTimelineStyles()&&Si.setStyles([At],null,hn.errors,nn)}return yi.length?yi.map(Si=>Si.buildKeyframes()):[po(S,[],[],[],0,Xi,"",!1)]}visitTrigger(D,S){}visitState(D,S){}visitTransition(D,S){}visitAnimateChild(D,S){const N=S.subInstructions.get(S.element);if(N){const ie=S.createSubContext(D.options),Re=S.currentTimeline.currentTime,ot=this._visitSubInstructions(N,ie,ie.options);Re!=ot&&S.transformIntoNewTimeline(ot)}S.previousNode=D}visitAnimateRef(D,S){const N=S.createSubContext(D.options);N.transformIntoNewTimeline(),this._applyAnimationRefDelays([D.options,D.animation.options],S,N),this.visitReference(D.animation,N),S.transformIntoNewTimeline(N.currentTimeline.currentTime),S.previousNode=D}_applyAnimationRefDelays(D,S,N){for(const ie of D){const Re=ie?.delay;if(Re){const ot="number"==typeof Re?Re:pn(Wt(Re,ie?.params??{},S.errors));N.delayNextStep(ot)}}}_visitSubInstructions(D,S,N){let Re=S.currentTimeline.currentTime;const ot=null!=N.duration?pn(N.duration):null,At=null!=N.delay?pn(N.delay):null;return 0!==ot&&D.forEach(nn=>{const Cn=S.appendInstructionToTimeline(nn,ot,At);Re=Math.max(Re,Cn.duration+Cn.delay)}),Re}visitReference(D,S){S.updateOptions(D.options,!0),Zn(this,D.animation,S),S.previousNode=D}visitSequence(D,S){const N=S.subContextCount;let ie=S;const Re=D.options;if(Re&&(Re.params||Re.delay)&&(ie=S.createSubContext(Re),ie.transformIntoNewTimeline(),null!=Re.delay)){6==ie.previousNode.type&&(ie.currentTimeline.snapshotCurrentStyles(),ie.previousNode=Nr);const ot=pn(Re.delay);ie.delayNextStep(ot)}D.steps.length&&(D.steps.forEach(ot=>Zn(this,ot,ie)),ie.currentTimeline.applyStylesToKeyframe(),ie.subContextCount>N&&ie.transformIntoNewTimeline()),S.previousNode=D}visitGroup(D,S){const N=[];let ie=S.currentTimeline.currentTime;const Re=D.options&&D.options.delay?pn(D.options.delay):0;D.steps.forEach(ot=>{const At=S.createSubContext(D.options);Re&&At.delayNextStep(Re),Zn(this,ot,At),ie=Math.max(ie,At.currentTimeline.currentTime),N.push(At.currentTimeline)}),N.forEach(ot=>S.currentTimeline.mergeTimelineCollectedStyles(ot)),S.transformIntoNewTimeline(ie),S.previousNode=D}_visitTiming(D,S){if(D.dynamic){const N=D.strValue;return He(S.params?Wt(N,S.params,S.errors):N,S.errors)}return{duration:D.duration,delay:D.delay,easing:D.easing}}visitAnimate(D,S){const N=S.currentAnimateTimings=this._visitTiming(D.timings,S),ie=S.currentTimeline;N.delay&&(S.incrementTime(N.delay),ie.snapshotCurrentStyles());const Re=D.style;5==Re.type?this.visitKeyframes(Re,S):(S.incrementTime(N.duration),this.visitStyle(Re,S),ie.applyStylesToKeyframe()),S.currentAnimateTimings=null,S.previousNode=D}visitStyle(D,S){const N=S.currentTimeline,ie=S.currentAnimateTimings;!ie&&N.hasCurrentStyleProperties()&&N.forwardFrame();const Re=ie&&ie.easing||D.easing;D.isEmptyStep?N.applyEmptyStep(Re):N.setStyles(D.styles,Re,S.errors,S.options),S.previousNode=D}visitKeyframes(D,S){const N=S.currentAnimateTimings,ie=S.currentTimeline.duration,Re=N.duration,At=S.createSubContext().currentTimeline;At.easing=N.easing,D.styles.forEach(nn=>{At.forwardTime((nn.offset||0)*Re),At.setStyles(nn.styles,nn.easing,S.errors,S.options),At.applyStylesToKeyframe()}),S.currentTimeline.mergeTimelineCollectedStyles(At),S.transformIntoNewTimeline(ie+Re),S.previousNode=D}visitQuery(D,S){const N=S.currentTimeline.currentTime,ie=D.options||{},Re=ie.delay?pn(ie.delay):0;Re&&(6===S.previousNode.type||0==N&&S.currentTimeline.hasCurrentStyleProperties())&&(S.currentTimeline.snapshotCurrentStyles(),S.previousNode=Nr);let ot=N;const At=S.invokeQuery(D.selector,D.originalSelector,D.limit,D.includeSelf,!!ie.optional,S.errors);S.currentQueryTotal=At.length;let nn=null;At.forEach((Cn,Gn)=>{S.currentQueryIndex=Gn;const hn=S.createSubContext(D.options,Cn);Re&&hn.delayNextStep(Re),Cn===S.element&&(nn=hn.currentTimeline),Zn(this,D.animation,hn),hn.currentTimeline.applyStylesToKeyframe(),ot=Math.max(ot,hn.currentTimeline.currentTime)}),S.currentQueryIndex=0,S.currentQueryTotal=0,S.transformIntoNewTimeline(ot),nn&&(S.currentTimeline.mergeTimelineCollectedStyles(nn),S.currentTimeline.snapshotCurrentStyles()),S.previousNode=D}visitStagger(D,S){const N=S.parentContext,ie=S.currentTimeline,Re=D.timings,ot=Math.abs(Re.duration),At=ot*(S.currentQueryTotal-1);let nn=ot*S.currentQueryIndex;switch(Re.duration<0?"reverse":Re.easing){case"reverse":nn=At-nn;break;case"full":nn=N.currentStaggerTime}const Gn=S.currentTimeline;nn&&Gn.delayNextStep(nn);const hn=Gn.currentTime;Zn(this,D.animation,S),S.previousNode=D,N.currentStaggerTime=ie.currentTime-hn+(ie.startTime-N.currentTimeline.startTime)}}const Nr={};class sa{constructor(D,S,N,ie,Re,ot,At,nn){this._driver=D,this.element=S,this.subInstructions=N,this._enterClassName=ie,this._leaveClassName=Re,this.errors=ot,this.timelines=At,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Nr,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=nn||new As(this._driver,S,0),At.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(D,S){if(!D)return;const N=D;let ie=this.options;null!=N.duration&&(ie.duration=pn(N.duration)),null!=N.delay&&(ie.delay=pn(N.delay));const Re=N.params;if(Re){let ot=ie.params;ot||(ot=this.options.params={}),Object.keys(Re).forEach(At=>{(!S||!ot.hasOwnProperty(At))&&(ot[At]=Wt(Re[At],ot,this.errors))})}}_copyOptions(){const D={};if(this.options){const S=this.options.params;if(S){const N=D.params={};Object.keys(S).forEach(ie=>{N[ie]=S[ie]})}}return D}createSubContext(D=null,S,N){const ie=S||this.element,Re=new sa(this._driver,ie,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(ie,N||0));return Re.previousNode=this.previousNode,Re.currentAnimateTimings=this.currentAnimateTimings,Re.options=this._copyOptions(),Re.updateOptions(D),Re.currentQueryIndex=this.currentQueryIndex,Re.currentQueryTotal=this.currentQueryTotal,Re.parentContext=this,this.subContextCount++,Re}transformIntoNewTimeline(D){return this.previousNode=Nr,this.currentTimeline=this.currentTimeline.fork(this.element,D),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(D,S,N){const ie={duration:S??D.duration,delay:this.currentTimeline.currentTime+(N??0)+D.delay,easing:""},Re=new vs(this._driver,D.element,D.keyframes,D.preStyleProps,D.postStyleProps,ie,D.stretchStartingKeyframe);return this.timelines.push(Re),ie}incrementTime(D){this.currentTimeline.forwardTime(this.currentTimeline.duration+D)}delayNextStep(D){D>0&&this.currentTimeline.delayNextStep(D)}invokeQuery(D,S,N,ie,Re,ot){let At=[];if(ie&&At.push(this.element),D.length>0){D=(D=D.replace(Is,"."+this._enterClassName)).replace(hr,"."+this._leaveClassName);let Cn=this._driver.query(this.element,D,1!=N);0!==N&&(Cn=N<0?Cn.slice(Cn.length+N,Cn.length):Cn.slice(0,N)),At.push(...Cn)}return!Re&&0==At.length&&ot.push(function tt(R){return new V.vHH(3014,!1)}()),At}}class As{constructor(D,S,N,ie){this._driver=D,this.element=S,this.startTime=N,this._elementTimelineStylesLookup=ie,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(S),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(S,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(D){const S=1===this._keyframes.size&&this._pendingStyles.size;this.duration||S?(this.forwardTime(this.currentTime+D),S&&this.snapshotCurrentStyles()):this.startTime+=D}fork(D,S){return this.applyStylesToKeyframe(),new As(this._driver,D,S||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(D){this.applyStylesToKeyframe(),this.duration=D,this._loadKeyframe()}_updateStyle(D,S){this._localTimelineStyles.set(D,S),this._globalTimelineStyles.set(D,S),this._styleSummary.set(D,{time:this.currentTime,value:S})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(D){D&&this._previousKeyframe.set("easing",D);for(let[S,N]of this._globalTimelineStyles)this._backFill.set(S,N||ee.l3),this._currentKeyframe.set(S,ee.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(D,S,N,ie){S&&this._previousKeyframe.set("easing",S);const Re=ie&&ie.params||{},ot=function Do(R,D){const S=new Map;let N;return R.forEach(ie=>{if("*"===ie){N=N||D.keys();for(let Re of N)S.set(Re,ee.l3)}else pi(ie,S)}),S}(D,this._globalTimelineStyles);for(let[At,nn]of ot){const Cn=Wt(nn,Re,N);this._pendingStyles.set(At,Cn),this._localTimelineStyles.has(At)||this._backFill.set(At,this._globalTimelineStyles.get(At)??ee.l3),this._updateStyle(At,Cn)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((D,S)=>{this._currentKeyframe.set(S,D)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((D,S)=>{this._currentKeyframe.has(S)||this._currentKeyframe.set(S,D)}))}snapshotCurrentStyles(){for(let[D,S]of this._localTimelineStyles)this._pendingStyles.set(D,S),this._updateStyle(D,S)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const D=[];for(let S in this._currentKeyframe)D.push(S);return D}mergeTimelineCollectedStyles(D){D._styleSummary.forEach((S,N)=>{const ie=this._styleSummary.get(N);(!ie||S.time>ie.time)&&this._updateStyle(N,S.value)})}buildKeyframes(){this.applyStylesToKeyframe();const D=new Set,S=new Set,N=1===this._keyframes.size&&0===this.duration;let ie=[];this._keyframes.forEach((At,nn)=>{const Cn=pi(At,new Map,this._backFill);Cn.forEach((Gn,hn)=>{Gn===ee.k1?D.add(hn):Gn===ee.l3&&S.add(hn)}),N||Cn.set("offset",nn/this.duration),ie.push(Cn)});const Re=D.size?Qe(D.values()):[],ot=S.size?Qe(S.values()):[];if(N){const At=ie[0],nn=new Map(At);At.set("offset",0),nn.set("offset",1),ie=[At,nn]}return po(this.element,ie,Re,ot,this.duration,this.startTime,this.easing,!1)}}class vs extends As{constructor(D,S,N,ie,Re,ot,At=!1){super(D,S,ot.delay),this.keyframes=N,this.preStyleProps=ie,this.postStyleProps=Re,this._stretchStartingKeyframe=At,this.timings={duration:ot.duration,delay:ot.delay,easing:ot.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let D=this.keyframes,{delay:S,duration:N,easing:ie}=this.timings;if(this._stretchStartingKeyframe&&S){const Re=[],ot=N+S,At=S/ot,nn=pi(D[0]);nn.set("offset",0),Re.push(nn);const Cn=pi(D[0]);Cn.set("offset",sr(At)),Re.push(Cn);const Gn=D.length-1;for(let hn=1;hn<=Gn;hn++){let Xi=pi(D[hn]);const yi=Xi.get("offset");Xi.set("offset",sr((S+yi*N)/ot)),Re.push(Xi)}N=ot,S=0,ie="",D=Re}return po(this.element,D,this.preStyleProps,this.postStyleProps,N,S,ie,!0)}}function sr(R,D=3){const S=Math.pow(10,D-1);return Math.round(R*S)/S}class go{}const uo=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Di extends go{normalizePropertyName(D,S){return ht(D)}normalizeStyleValue(D,S,N,ie){let Re="";const ot=N.toString().trim();if(uo.has(S)&&0!==N&&"0"!==N)if("number"==typeof N)Re="px";else{const At=N.match(/^[+-]?[\d\.]+([a-z]*)$/);At&&0==At[1].length&&ie.push(function O(R,D){return new V.vHH(3005,!1)}())}return ot+Re}}function ro(R,D,S,N,ie,Re,ot,At,nn,Cn,Gn,hn,Xi){return{type:0,element:R,triggerName:D,isRemovalTransition:ie,fromState:S,fromStyles:Re,toState:N,toStyles:ot,timelines:At,queriedElements:nn,preStyleProps:Cn,postStyleProps:Gn,totalTime:hn,errors:Xi}}const Ar={};class ys{constructor(D,S,N){this._triggerName=D,this.ast=S,this._stateStyles=N}match(D,S,N,ie){return function Vs(R,D,S,N,ie){return R.some(Re=>Re(D,S,N,ie))}(this.ast.matchers,D,S,N,ie)}buildStyles(D,S,N){let ie=this._stateStyles.get("*");return void 0!==D&&(ie=this._stateStyles.get(D?.toString())||ie),ie?ie.buildStyles(S,N):new Map}build(D,S,N,ie,Re,ot,At,nn,Cn,Gn){const hn=[],Xi=this.ast.options&&this.ast.options.params||Ar,Si=this.buildStyles(N,At&&At.params||Ar,hn),er=nn&&nn.params||Ar,Dr=this.buildStyles(ie,er,hn),Zr=new Set,oo=new Map,so=new Map,Po="void"===ie,Ns={params:qe(er,Xi),delay:this.ast.options?.delay},ba=Gn?[]:Nn(D,S,this.ast.animation,Re,ot,Si,Dr,Ns,Cn,hn);let Qo=0;if(ba.forEach(Fa=>{Qo=Math.max(Fa.duration+Fa.delay,Qo)}),hn.length)return ro(S,this._triggerName,N,ie,Po,Si,Dr,[],[],oo,so,Qo,hn);ba.forEach(Fa=>{const vo=Fa.element,Ms=rt(oo,vo,new Set);Fa.preStyleProps.forEach(wa=>Ms.add(wa));const is=rt(so,vo,new Set);Fa.postStyleProps.forEach(wa=>is.add(wa)),vo!==S&&Zr.add(vo)});const Xa=Qe(Zr.values());return ro(S,this._triggerName,N,ie,Po,Si,Dr,ba,Xa,oo,so,Qo)}}function qe(R,D){const S=ln(D);for(const N in R)R.hasOwnProperty(N)&&null!=R[N]&&(S[N]=R[N]);return S}class Tt{constructor(D,S,N){this.styles=D,this.defaultParams=S,this.normalizer=N}buildStyles(D,S){const N=new Map,ie=ln(this.defaultParams);return Object.keys(D).forEach(Re=>{const ot=D[Re];null!==ot&&(ie[Re]=ot)}),this.styles.styles.forEach(Re=>{"string"!=typeof Re&&Re.forEach((ot,At)=>{ot&&(ot=Wt(ot,ie,S));const nn=this.normalizer.normalizePropertyName(At,S);ot=this.normalizer.normalizeStyleValue(At,nn,ot,S),N.set(At,ot)})}),N}}class Oe{constructor(D,S,N){this.name=D,this.ast=S,this._normalizer=N,this.transitionFactories=[],this.states=new Map,S.states.forEach(ie=>{this.states.set(ie.name,new Tt(ie.style,ie.options&&ie.options.params||{},N))}),rn(this.states,"true","1"),rn(this.states,"false","0"),S.transitions.forEach(ie=>{this.transitionFactories.push(new ys(D,ie,this.states))}),this.fallbackTransition=function gt(R,D,S){return new ys(R,{type:1,animation:{type:2,steps:[],options:null},matchers:[(ot,At)=>!0],options:null,queryCount:0,depCount:0},D)}(D,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(D,S,N,ie){return this.transitionFactories.find(ot=>ot.match(D,S,N,ie))||null}matchStyles(D,S,N){return this.fallbackTransition.buildStyles(D,S,N)}}function rn(R,D,S){R.has(D)?R.has(S)||R.set(S,R.get(D)):R.has(S)&&R.set(D,R.get(S))}const wi=new ms;class Cr{constructor(D,S,N){this.bodyNode=D,this._driver=S,this._normalizer=N,this._animations=new Map,this._playersById=new Map,this.players=[]}register(D,S){const N=[],ie=[],Re=ur(this._driver,S,N,ie);if(N.length)throw function H(R){return new V.vHH(3503,!1)}();this._animations.set(D,Re)}_buildPlayer(D,S,N){const ie=D.element,Re=In(0,this._normalizer,0,D.keyframes,S,N);return this._driver.animate(ie,Re,D.duration,D.delay,D.easing,[],!0)}create(D,S,N={}){const ie=[],Re=this._animations.get(D);let ot;const At=new Map;if(Re?(ot=Nn(this._driver,S,Re,dr,Fr,new Map,new Map,N,wi,ie),ot.forEach(Gn=>{const hn=rt(At,Gn.element,new Map);Gn.postStyleProps.forEach(Xi=>hn.set(Xi,null))})):(ie.push(function g(){return new V.vHH(3300,!1)}()),ot=[]),ie.length)throw function F(R){return new V.vHH(3504,!1)}();At.forEach((Gn,hn)=>{Gn.forEach((Xi,yi)=>{Gn.set(yi,this._driver.computeStyle(hn,yi,ee.l3))})});const Cn=En(ot.map(Gn=>{const hn=At.get(Gn.element);return this._buildPlayer(Gn,new Map,hn)}));return this._playersById.set(D,Cn),Cn.onDestroy(()=>this.destroy(D)),this.players.push(Cn),Cn}destroy(D){const S=this._getPlayer(D);S.destroy(),this._playersById.delete(D);const N=this.players.indexOf(S);N>=0&&this.players.splice(N,1)}_getPlayer(D){const S=this._playersById.get(D);if(!S)throw function b(R){return new V.vHH(3301,!1)}();return S}listen(D,S,N,ie){const Re=Lt(S,"","","");return Te(this._getPlayer(D),N,Re,ie),()=>{}}command(D,S,N,ie){if("register"==N)return void this.register(D,ie[0]);if("create"==N)return void this.create(D,S,ie[0]||{});const Re=this._getPlayer(D);switch(N){case"play":Re.play();break;case"pause":Re.pause();break;case"reset":Re.reset();break;case"restart":Re.restart();break;case"finish":Re.finish();break;case"init":Re.init();break;case"setPosition":Re.setPosition(parseFloat(ie[0]));break;case"destroy":this.destroy(D)}}}const Uo="ng-animate-queued",Kr="ng-animate-disabled",ss=[],Lo={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Xo={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Hr="__ng_removed";class ts{get params(){return this.options.params}constructor(D,S=""){this.namespaceId=S;const N=D&&D.hasOwnProperty("value");if(this.value=function nl(R){return R??null}(N?D.value:D),N){const Re=ln(D);delete Re.value,this.options=Re}else this.options={};this.options.params||(this.options.params={})}absorbOptions(D){const S=D.params;if(S){const N=this.options.params;Object.keys(S).forEach(ie=>{null==N[ie]&&(N[ie]=S[ie])})}}}const Hs="void",ma=new ts(Hs);class xs{constructor(D,S,N){this.id=D,this.hostElement=S,this._engine=N,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+D,Pr(S,this._hostClassName)}listen(D,S,N,ie){if(!this._triggers.has(S))throw function Z(R,D){return new V.vHH(3302,!1)}();if(null==N||0==N.length)throw function W(R){return new V.vHH(3303,!1)}();if(!function Oa(R){return"start"==R||"done"==R}(N))throw function X(R,D){return new V.vHH(3400,!1)}();const Re=rt(this._elementListeners,D,[]),ot={name:S,phase:N,callback:ie};Re.push(ot);const At=rt(this._engine.statesByElement,D,new Map);return At.has(S)||(Pr(D,Ei),Pr(D,Ei+"-"+S),At.set(S,ma)),()=>{this._engine.afterFlush(()=>{const nn=Re.indexOf(ot);nn>=0&&Re.splice(nn,1),this._triggers.has(S)||At.delete(S)})}}register(D,S){return!this._triggers.has(D)&&(this._triggers.set(D,S),!0)}_getTrigger(D){const S=this._triggers.get(D);if(!S)throw function de(R){return new V.vHH(3401,!1)}();return S}trigger(D,S,N,ie=!0){const Re=this._getTrigger(S),ot=new Wr(this.id,S,D);let At=this._engine.statesByElement.get(D);At||(Pr(D,Ei),Pr(D,Ei+"-"+S),this._engine.statesByElement.set(D,At=new Map));let nn=At.get(S);const Cn=new ts(N,this.id);if(!(N&&N.hasOwnProperty("value"))&&nn&&Cn.absorbOptions(nn.options),At.set(S,Cn),nn||(nn=ma),Cn.value!==Hs&&nn.value===Cn.value){if(!function Ct(R,D){const S=Object.keys(R),N=Object.keys(D);if(S.length!=N.length)return!1;for(let ie=0;ie<S.length;ie++){const Re=S[ie];if(!D.hasOwnProperty(Re)||R[Re]!==D[Re])return!1}return!0}(nn.params,Cn.params)){const er=[],Dr=Re.matchStyles(nn.value,nn.params,er),Zr=Re.matchStyles(Cn.value,Cn.params,er);er.length?this._engine.reportError(er):this._engine.afterFlush(()=>{qt(D,Dr),si(D,Zr)})}return}const Xi=rt(this._engine.playersByElement,D,[]);Xi.forEach(er=>{er.namespaceId==this.id&&er.triggerName==S&&er.queued&&er.destroy()});let yi=Re.matchTransition(nn.value,Cn.value,D,Cn.params),Si=!1;if(!yi){if(!ie)return;yi=Re.fallbackTransition,Si=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:D,triggerName:S,transition:yi,fromState:nn,toState:Cn,player:ot,isFallbackTransition:Si}),Si||(Pr(D,Uo),ot.onStart(()=>{xr(D,Uo)})),ot.onDone(()=>{let er=this.players.indexOf(ot);er>=0&&this.players.splice(er,1);const Dr=this._engine.playersByElement.get(D);if(Dr){let Zr=Dr.indexOf(ot);Zr>=0&&Dr.splice(Zr,1)}}),this.players.push(ot),Xi.push(ot),ot}deregister(D){this._triggers.delete(D),this._engine.statesByElement.forEach(S=>S.delete(D)),this._elementListeners.forEach((S,N)=>{this._elementListeners.set(N,S.filter(ie=>ie.name!=D))})}clearElementCache(D){this._engine.statesByElement.delete(D),this._elementListeners.delete(D);const S=this._engine.playersByElement.get(D);S&&(S.forEach(N=>N.destroy()),this._engine.playersByElement.delete(D))}_signalRemovalForInnerTriggers(D,S){const N=this._engine.driver.query(D,fo,!0);N.forEach(ie=>{if(ie[Hr])return;const Re=this._engine.fetchNamespacesByElement(ie);Re.size?Re.forEach(ot=>ot.triggerLeaveAnimation(ie,S,!1,!0)):this.clearElementCache(ie)}),this._engine.afterFlushAnimationsDone(()=>N.forEach(ie=>this.clearElementCache(ie)))}triggerLeaveAnimation(D,S,N,ie){const Re=this._engine.statesByElement.get(D),ot=new Map;if(Re){const At=[];if(Re.forEach((nn,Cn)=>{if(ot.set(Cn,nn.value),this._triggers.has(Cn)){const Gn=this.trigger(D,Cn,Hs,ie);Gn&&At.push(Gn)}}),At.length)return this._engine.markElementAsRemoved(this.id,D,!0,S,ot),N&&En(At).onDone(()=>this._engine.processLeaveNode(D)),!0}return!1}prepareLeaveAnimationListeners(D){const S=this._elementListeners.get(D),N=this._engine.statesByElement.get(D);if(S&&N){const ie=new Set;S.forEach(Re=>{const ot=Re.name;if(ie.has(ot))return;ie.add(ot);const nn=this._triggers.get(ot).fallbackTransition,Cn=N.get(ot)||ma,Gn=new ts(Hs),hn=new Wr(this.id,ot,D);this._engine.totalQueuedPlayers++,this._queue.push({element:D,triggerName:ot,transition:nn,fromState:Cn,toState:Gn,player:hn,isFallbackTransition:!0})})}}removeNode(D,S){const N=this._engine;if(D.childElementCount&&this._signalRemovalForInnerTriggers(D,S),this.triggerLeaveAnimation(D,S,!0))return;let ie=!1;if(N.totalAnimations){const Re=N.players.length?N.playersByQueriedElement.get(D):[];if(Re&&Re.length)ie=!0;else{let ot=D;for(;ot=ot.parentNode;)if(N.statesByElement.get(ot)){ie=!0;break}}}if(this.prepareLeaveAnimationListeners(D),ie)N.markElementAsRemoved(this.id,D,!1,S);else{const Re=D[Hr];(!Re||Re===Lo)&&(N.afterFlush(()=>this.clearElementCache(D)),N.destroyInnerAnimations(D),N._onRemovalComplete(D,S))}}insertNode(D,S){Pr(D,this._hostClassName)}drainQueuedTransitions(D){const S=[];return this._queue.forEach(N=>{const ie=N.player;if(ie.destroyed)return;const Re=N.element,ot=this._elementListeners.get(Re);ot&&ot.forEach(At=>{if(At.name==N.triggerName){const nn=Lt(Re,N.triggerName,N.fromState.value,N.toState.value);nn._data=D,Te(N.player,At.phase,nn,At.callback)}}),ie.markedForDestroy?this._engine.afterFlush(()=>{ie.destroy()}):S.push(N)}),this._queue=[],S.sort((N,ie)=>{const Re=N.transition.ast.depCount,ot=ie.transition.ast.depCount;return 0==Re||0==ot?Re-ot:this._engine.driver.containsElement(N.element,ie.element)?1:-1})}destroy(D){this.players.forEach(S=>S.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,D)}elementContainsData(D){let S=!1;return this._elementListeners.has(D)&&(S=!0),S=!!this._queue.find(N=>N.element===D)||S,S}}class xi{_onRemovalComplete(D,S){this.onRemovalComplete(D,S)}constructor(D,S,N){this.bodyNode=D,this.driver=S,this._normalizer=N,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(ie,Re)=>{}}get queuedPlayers(){const D=[];return this._namespaceList.forEach(S=>{S.players.forEach(N=>{N.queued&&D.push(N)})}),D}createNamespace(D,S){const N=new xs(D,S,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,S)?this._balanceNamespaceList(N,S):(this.newHostElements.set(S,N),this.collectEnterElement(S)),this._namespaceLookup[D]=N}_balanceNamespaceList(D,S){const N=this._namespaceList,ie=this.namespacesByHostElement;if(N.length-1>=0){let ot=!1,At=this.driver.getParentElement(S);for(;At;){const nn=ie.get(At);if(nn){const Cn=N.indexOf(nn);N.splice(Cn+1,0,D),ot=!0;break}At=this.driver.getParentElement(At)}ot||N.unshift(D)}else N.push(D);return ie.set(S,D),D}register(D,S){let N=this._namespaceLookup[D];return N||(N=this.createNamespace(D,S)),N}registerTrigger(D,S,N){let ie=this._namespaceLookup[D];ie&&ie.register(S,N)&&this.totalAnimations++}destroy(D,S){if(!D)return;const N=this._fetchNamespace(D);this.afterFlush(()=>{this.namespacesByHostElement.delete(N.hostElement),delete this._namespaceLookup[D];const ie=this._namespaceList.indexOf(N);ie>=0&&this._namespaceList.splice(ie,1)}),this.afterFlushAnimationsDone(()=>N.destroy(S))}_fetchNamespace(D){return this._namespaceLookup[D]}fetchNamespacesByElement(D){const S=new Set,N=this.statesByElement.get(D);if(N)for(let ie of N.values())if(ie.namespaceId){const Re=this._fetchNamespace(ie.namespaceId);Re&&S.add(Re)}return S}trigger(D,S,N,ie){if($i(S)){const Re=this._fetchNamespace(D);if(Re)return Re.trigger(S,N,ie),!0}return!1}insertNode(D,S,N,ie){if(!$i(S))return;const Re=S[Hr];if(Re&&Re.setForRemoval){Re.setForRemoval=!1,Re.setForMove=!0;const ot=this.collectedLeaveElements.indexOf(S);ot>=0&&this.collectedLeaveElements.splice(ot,1)}if(D){const ot=this._fetchNamespace(D);ot&&ot.insertNode(S,N)}ie&&this.collectEnterElement(S)}collectEnterElement(D){this.collectedEnterElements.push(D)}markElementAsDisabled(D,S){S?this.disabledNodes.has(D)||(this.disabledNodes.add(D),Pr(D,Kr)):this.disabledNodes.has(D)&&(this.disabledNodes.delete(D),xr(D,Kr))}removeNode(D,S,N,ie){if($i(S)){const Re=D?this._fetchNamespace(D):null;if(Re?Re.removeNode(S,ie):this.markElementAsRemoved(D,S,!1,ie),N){const ot=this.namespacesByHostElement.get(S);ot&&ot.id!==D&&ot.removeNode(S,ie)}}else this._onRemovalComplete(S,ie)}markElementAsRemoved(D,S,N,ie,Re){this.collectedLeaveElements.push(S),S[Hr]={namespaceId:D,setForRemoval:ie,hasAnimation:N,removedBeforeQueried:!1,previousTriggersValues:Re}}listen(D,S,N,ie,Re){return $i(S)?this._fetchNamespace(D).listen(S,N,ie,Re):()=>{}}_buildInstruction(D,S,N,ie,Re){return D.transition.build(this.driver,D.element,D.fromState.value,D.toState.value,N,ie,D.fromState.options,D.toState.options,S,Re)}destroyInnerAnimations(D){let S=this.driver.query(D,fo,!0);S.forEach(N=>this.destroyActiveAnimationsForElement(N)),0!=this.playersByQueriedElement.size&&(S=this.driver.query(D,Xr,!0),S.forEach(N=>this.finishActiveQueriedAnimationOnElement(N)))}destroyActiveAnimationsForElement(D){const S=this.playersByElement.get(D);S&&S.forEach(N=>{N.queued?N.markedForDestroy=!0:N.destroy()})}finishActiveQueriedAnimationOnElement(D){const S=this.playersByQueriedElement.get(D);S&&S.forEach(N=>N.finish())}whenRenderingDone(){return new Promise(D=>{if(this.players.length)return En(this.players).onDone(()=>D());D()})}processLeaveNode(D){const S=D[Hr];if(S&&S.setForRemoval){if(D[Hr]=Lo,S.namespaceId){this.destroyInnerAnimations(D);const N=this._fetchNamespace(S.namespaceId);N&&N.clearElementCache(D)}this._onRemovalComplete(D,S.setForRemoval)}D.classList?.contains(Kr)&&this.markElementAsDisabled(D,!1),this.driver.query(D,".ng-animate-disabled",!0).forEach(N=>{this.markElementAsDisabled(N,!1)})}flush(D=-1){let S=[];if(this.newHostElements.size&&(this.newHostElements.forEach((N,ie)=>this._balanceNamespaceList(N,ie)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let N=0;N<this.collectedEnterElements.length;N++)Pr(this.collectedEnterElements[N],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const N=[];try{S=this._flushAnimations(N,D)}finally{for(let ie=0;ie<N.length;ie++)N[ie]()}}else for(let N=0;N<this.collectedLeaveElements.length;N++)this.processLeaveNode(this.collectedLeaveElements[N]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(N=>N()),this._flushFns=[],this._whenQuietFns.length){const N=this._whenQuietFns;this._whenQuietFns=[],S.length?En(S).onDone(()=>{N.forEach(ie=>ie())}):N.forEach(ie=>ie())}}reportError(D){throw function me(R){return new V.vHH(3402,!1)}()}_flushAnimations(D,S){const N=new ms,ie=[],Re=new Map,ot=[],At=new Map,nn=new Map,Cn=new Map,Gn=new Set;this.disabledNodes.forEach(Yi=>{Gn.add(Yi);const Ji=this.driver.query(Yi,".ng-animate-queued",!0);for(let ci=0;ci<Ji.length;ci++)Gn.add(Ji[ci])});const hn=this.bodyNode,Xi=Array.from(this.statesByElement.keys()),yi=Qs(Xi,this.collectedEnterElements),Si=new Map;let er=0;yi.forEach((Yi,Ji)=>{const ci=dr+er++;Si.set(Ji,ci),Yi.forEach(fr=>Pr(fr,ci))});const Dr=[],Zr=new Set,oo=new Set;for(let Yi=0;Yi<this.collectedLeaveElements.length;Yi++){const Ji=this.collectedLeaveElements[Yi],ci=Ji[Hr];ci&&ci.setForRemoval&&(Dr.push(Ji),Zr.add(Ji),ci.hasAnimation?this.driver.query(Ji,".ng-star-inserted",!0).forEach(fr=>Zr.add(fr)):oo.add(Ji))}const so=new Map,Po=Qs(Xi,Array.from(Zr));Po.forEach((Yi,Ji)=>{const ci=Fr+er++;so.set(Ji,ci),Yi.forEach(fr=>Pr(fr,ci))}),D.push(()=>{yi.forEach((Yi,Ji)=>{const ci=Si.get(Ji);Yi.forEach(fr=>xr(fr,ci))}),Po.forEach((Yi,Ji)=>{const ci=so.get(Ji);Yi.forEach(fr=>xr(fr,ci))}),Dr.forEach(Yi=>{this.processLeaveNode(Yi)})});const Ns=[],ba=[];for(let Yi=this._namespaceList.length-1;Yi>=0;Yi--)this._namespaceList[Yi].drainQueuedTransitions(S).forEach(ci=>{const fr=ci.player,zo=ci.element;if(Ns.push(fr),this.collectedEnterElements.length){const Us=zo[Hr];if(Us&&Us.setForMove){if(Us.previousTriggersValues&&Us.previousTriggersValues.has(ci.triggerName)){const ta=Us.previousTriggersValues.get(ci.triggerName),ko=this.statesByElement.get(ci.element);if(ko&&ko.has(ci.triggerName)){const aa=ko.get(ci.triggerName);aa.value=ta,ko.set(ci.triggerName,aa)}}return void fr.destroy()}}const ea=!hn||!this.driver.containsElement(hn,zo),ji=so.get(zo),Ws=Si.get(zo),bs=this._buildInstruction(ci,N,Ws,ji,ea);if(bs.errors&&bs.errors.length)return void ba.push(bs);if(ea)return fr.onStart(()=>qt(zo,bs.fromStyles)),fr.onDestroy(()=>si(zo,bs.toStyles)),void ie.push(fr);if(ci.isFallbackTransition)return fr.onStart(()=>qt(zo,bs.fromStyles)),fr.onDestroy(()=>si(zo,bs.toStyles)),void ie.push(fr);const il=[];bs.timelines.forEach(Us=>{Us.stretchStartingKeyframe=!0,this.disabledNodes.has(Us.element)||il.push(Us)}),bs.timelines=il,N.append(zo,bs.timelines),ot.push({instruction:bs,player:fr,element:zo}),bs.queriedElements.forEach(Us=>rt(At,Us,[]).push(fr)),bs.preStyleProps.forEach((Us,ta)=>{if(Us.size){let ko=nn.get(ta);ko||nn.set(ta,ko=new Set),Us.forEach((aa,Ua)=>ko.add(Ua))}}),bs.postStyleProps.forEach((Us,ta)=>{let ko=Cn.get(ta);ko||Cn.set(ta,ko=new Set),Us.forEach((aa,Ua)=>ko.add(Ua))})});if(ba.length){const Yi=[];ba.forEach(Ji=>{Yi.push(function pt(R,D){return new V.vHH(3505,!1)}())}),Ns.forEach(Ji=>Ji.destroy()),this.reportError(Yi)}const Qo=new Map,Xa=new Map;ot.forEach(Yi=>{const Ji=Yi.element;N.has(Ji)&&(Xa.set(Ji,Ji),this._beforeAnimationBuild(Yi.player.namespaceId,Yi.instruction,Qo))}),ie.forEach(Yi=>{const Ji=Yi.element;this._getPreviousPlayers(Ji,!1,Yi.namespaceId,Yi.triggerName,null).forEach(fr=>{rt(Qo,Ji,[]).push(fr),fr.destroy()})});const Fa=Dr.filter(Yi=>kt(Yi,nn,Cn)),vo=new Map;Ss(vo,this.driver,oo,Cn,ee.l3).forEach(Yi=>{kt(Yi,nn,Cn)&&Fa.push(Yi)});const is=new Map;yi.forEach((Yi,Ji)=>{Ss(is,this.driver,new Set(Yi),nn,ee.k1)}),Fa.forEach(Yi=>{const Ji=vo.get(Yi),ci=is.get(Yi);vo.set(Yi,new Map([...Array.from(Ji?.entries()??[]),...Array.from(ci?.entries()??[])]))});const wa=[],Tl=[],tc={};ot.forEach(Yi=>{const{element:Ji,player:ci,instruction:fr}=Yi;if(N.has(Ji)){if(Gn.has(Ji))return ci.onDestroy(()=>si(Ji,fr.toStyles)),ci.disabled=!0,ci.overrideTotalTime(fr.totalTime),void ie.push(ci);let zo=tc;if(Xa.size>1){let ji=Ji;const Ws=[];for(;ji=ji.parentNode;){const bs=Xa.get(ji);if(bs){zo=bs;break}Ws.push(ji)}Ws.forEach(bs=>Xa.set(bs,zo))}const ea=this._buildAnimation(ci.namespaceId,fr,Qo,Re,is,vo);if(ci.setRealPlayer(ea),zo===tc)wa.push(ci);else{const ji=this.playersByElement.get(zo);ji&&ji.length&&(ci.parentPlayer=En(ji)),ie.push(ci)}}else qt(Ji,fr.fromStyles),ci.onDestroy(()=>si(Ji,fr.toStyles)),Tl.push(ci),Gn.has(Ji)&&ie.push(ci)}),Tl.forEach(Yi=>{const Ji=Re.get(Yi.element);if(Ji&&Ji.length){const ci=En(Ji);Yi.setRealPlayer(ci)}}),ie.forEach(Yi=>{Yi.parentPlayer?Yi.syncPlayerEvents(Yi.parentPlayer):Yi.destroy()});for(let Yi=0;Yi<Dr.length;Yi++){const Ji=Dr[Yi],ci=Ji[Hr];if(xr(Ji,Fr),ci&&ci.hasAnimation)continue;let fr=[];if(At.size){let ea=At.get(Ji);ea&&ea.length&&fr.push(...ea);let ji=this.driver.query(Ji,Xr,!0);for(let Ws=0;Ws<ji.length;Ws++){let bs=At.get(ji[Ws]);bs&&bs.length&&fr.push(...bs)}}const zo=fr.filter(ea=>!ea.destroyed);zo.length?Fe(this,Ji,zo):this.processLeaveNode(Ji)}return Dr.length=0,wa.forEach(Yi=>{this.players.push(Yi),Yi.onDone(()=>{Yi.destroy();const Ji=this.players.indexOf(Yi);this.players.splice(Ji,1)}),Yi.play()}),wa}elementContainsData(D,S){let N=!1;const ie=S[Hr];return ie&&ie.setForRemoval&&(N=!0),this.playersByElement.has(S)&&(N=!0),this.playersByQueriedElement.has(S)&&(N=!0),this.statesByElement.has(S)&&(N=!0),this._fetchNamespace(D).elementContainsData(S)||N}afterFlush(D){this._flushFns.push(D)}afterFlushAnimationsDone(D){this._whenQuietFns.push(D)}_getPreviousPlayers(D,S,N,ie,Re){let ot=[];if(S){const At=this.playersByQueriedElement.get(D);At&&(ot=At)}else{const At=this.playersByElement.get(D);if(At){const nn=!Re||Re==Hs;At.forEach(Cn=>{Cn.queued||!nn&&Cn.triggerName!=ie||ot.push(Cn)})}}return(N||ie)&&(ot=ot.filter(At=>!(N&&N!=At.namespaceId||ie&&ie!=At.triggerName))),ot}_beforeAnimationBuild(D,S,N){const Re=S.element,ot=S.isRemovalTransition?void 0:D,At=S.isRemovalTransition?void 0:S.triggerName;for(const nn of S.timelines){const Cn=nn.element,Gn=Cn!==Re,hn=rt(N,Cn,[]);this._getPreviousPlayers(Cn,Gn,ot,At,S.toState).forEach(yi=>{const Si=yi.getRealPlayer();Si.beforeDestroy&&Si.beforeDestroy(),yi.destroy(),hn.push(yi)})}qt(Re,S.fromStyles)}_buildAnimation(D,S,N,ie,Re,ot){const At=S.triggerName,nn=S.element,Cn=[],Gn=new Set,hn=new Set,Xi=S.timelines.map(Si=>{const er=Si.element;Gn.add(er);const Dr=er[Hr];if(Dr&&Dr.removedBeforeQueried)return new ee.ZN(Si.duration,Si.delay);const Zr=er!==nn,oo=function bt(R){const D=[];return Se(R,D),D}((N.get(er)||ss).map(Qo=>Qo.getRealPlayer())).filter(Qo=>!!Qo.element&&Qo.element===er),so=Re.get(er),Po=ot.get(er),Ns=In(0,this._normalizer,0,Si.keyframes,so,Po),ba=this._buildPlayer(Si,Ns,oo);if(Si.subTimeline&&ie&&hn.add(er),Zr){const Qo=new Wr(D,At,er);Qo.setRealPlayer(ba),Cn.push(Qo)}return ba});Cn.forEach(Si=>{rt(this.playersByQueriedElement,Si.element,[]).push(Si),Si.onDone(()=>function Ai(R,D,S){let N=R.get(D);if(N){if(N.length){const ie=N.indexOf(S);N.splice(ie,1)}0==N.length&&R.delete(D)}return N}(this.playersByQueriedElement,Si.element,Si))}),Gn.forEach(Si=>Pr(Si,Fi));const yi=En(Xi);return yi.onDestroy(()=>{Gn.forEach(Si=>xr(Si,Fi)),si(nn,S.toStyles)}),hn.forEach(Si=>{rt(ie,Si,[]).push(yi)}),yi}_buildPlayer(D,S,N){return S.length>0?this.driver.animate(D.element,S,D.duration,D.delay,D.easing,N):new ee.ZN(D.duration,D.delay)}}class Wr{constructor(D,S,N){this.namespaceId=D,this.triggerName=S,this.element=N,this._player=new ee.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(D){this._containsRealPlayer||(this._player=D,this._queuedCallbacks.forEach((S,N)=>{S.forEach(ie=>Te(D,N,void 0,ie))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(D.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(D){this.totalTime=D}syncPlayerEvents(D){const S=this._player;S.triggerCallback&&D.onStart(()=>S.triggerCallback("start")),D.onDone(()=>this.finish()),D.onDestroy(()=>this.destroy())}_queueEvent(D,S){rt(this._queuedCallbacks,D,[]).push(S)}onDone(D){this.queued&&this._queueEvent("done",D),this._player.onDone(D)}onStart(D){this.queued&&this._queueEvent("start",D),this._player.onStart(D)}onDestroy(D){this.queued&&this._queueEvent("destroy",D),this._player.onDestroy(D)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(D){this.queued||this._player.setPosition(D)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(D){const S=this._player;S.triggerCallback&&S.triggerCallback(D)}}function $i(R){return R&&1===R.nodeType}function To(R,D){const S=R.style.display;return R.style.display=D??"none",S}function Ss(R,D,S,N,ie){const Re=[];S.forEach(nn=>Re.push(To(nn)));const ot=[];N.forEach((nn,Cn)=>{const Gn=new Map;nn.forEach(hn=>{const Xi=D.computeStyle(Cn,hn,ie);Gn.set(hn,Xi),(!Xi||0==Xi.length)&&(Cn[Hr]=Xo,ot.push(Cn))}),R.set(Cn,Gn)});let At=0;return S.forEach(nn=>To(nn,Re[At++])),ot}function Qs(R,D){const S=new Map;if(R.forEach(At=>S.set(At,[])),0==D.length)return S;const N=1,ie=new Set(D),Re=new Map;function ot(At){if(!At)return N;let nn=Re.get(At);if(nn)return nn;const Cn=At.parentNode;return nn=S.has(Cn)?Cn:ie.has(Cn)?N:ot(Cn),Re.set(At,nn),nn}return D.forEach(At=>{const nn=ot(At);nn!==N&&S.get(nn).push(At)}),S}function Pr(R,D){R.classList?.add(D)}function xr(R,D){R.classList?.remove(D)}function Fe(R,D,S){En(S).onDone(()=>R.processLeaveNode(D))}function Se(R,D){for(let S=0;S<R.length;S++){const N=R[S];N instanceof ee.ZE?Se(N.players,D):D.push(N)}}function kt(R,D,S){const N=S.get(R);if(!N)return!1;let ie=D.get(R);return ie?N.forEach(Re=>ie.add(Re)):D.set(R,N),S.delete(R),!0}class mn{constructor(D,S,N){this.bodyNode=D,this._driver=S,this._normalizer=N,this._triggerCache={},this.onRemovalComplete=(ie,Re)=>{},this._transitionEngine=new xi(D,S,N),this._timelineEngine=new Cr(D,S,N),this._transitionEngine.onRemovalComplete=(ie,Re)=>this.onRemovalComplete(ie,Re)}registerTrigger(D,S,N,ie,Re){const ot=D+"-"+ie;let At=this._triggerCache[ot];if(!At){const nn=[],Cn=[],Gn=ur(this._driver,Re,nn,Cn);if(nn.length)throw function Gt(R,D){return new V.vHH(3404,!1)}();At=function q(R,D,S){return new Oe(R,D,S)}(ie,Gn,this._normalizer),this._triggerCache[ot]=At}this._transitionEngine.registerTrigger(S,ie,At)}register(D,S){this._transitionEngine.register(D,S)}destroy(D,S){this._transitionEngine.destroy(D,S)}onInsert(D,S,N,ie){this._transitionEngine.insertNode(D,S,N,ie)}onRemove(D,S,N,ie){this._transitionEngine.removeNode(D,S,ie||!1,N)}disableAnimations(D,S){this._transitionEngine.markElementAsDisabled(D,S)}process(D,S,N,ie){if("@"==N.charAt(0)){const[Re,ot]=_t(N);this._timelineEngine.command(Re,S,ot,ie)}else this._transitionEngine.trigger(D,S,N,ie)}listen(D,S,N,ie,Re){if("@"==N.charAt(0)){const[ot,At]=_t(N);return this._timelineEngine.listen(ot,S,At,Re)}return this._transitionEngine.listen(D,S,N,ie,Re)}flush(D=-1){this._transitionEngine.flush(D)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Rr=(()=>{class R{constructor(S,N,ie){this._element=S,this._startStyles=N,this._endStyles=ie,this._state=0;let Re=R.initialStylesByElement.get(S);Re||R.initialStylesByElement.set(S,Re=new Map),this._initialStyles=Re}start(){this._state<1&&(this._startStyles&&si(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(si(this._element,this._initialStyles),this._endStyles&&(si(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(R.initialStylesByElement.delete(this._element),this._startStyles&&(qt(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(qt(this._element,this._endStyles),this._endStyles=null),si(this._element,this._initialStyles),this._state=3)}}return R.initialStylesByElement=new WeakMap,R})();function zs(R){let D=null;return R.forEach((S,N)=>{(function Qr(R){return"display"===R||"position"===R})(N)&&(D=D||new Map,D.set(N,S))}),D}class Jo{constructor(D,S,N,ie){this.element=D,this.keyframes=S,this.options=N,this._specialStyles=ie,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=N.duration,this._delay=N.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(D=>D()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const D=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,D,this.options),this._finalKeyframe=D.length?D[D.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(D){const S=[];return D.forEach(N=>{S.push(Object.fromEntries(N))}),S}_triggerWebAnimation(D,S,N){return D.animate(this._convertKeyframesToObject(S),N)}onStart(D){this._originalOnStartFns.push(D),this._onStartFns.push(D)}onDone(D){this._originalOnDoneFns.push(D),this._onDoneFns.push(D)}onDestroy(D){this._onDestroyFns.push(D)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(D=>D()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(D=>D()),this._onDestroyFns=[])}setPosition(D){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=D*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const D=new Map;this.hasStarted()&&this._finalKeyframe.forEach((N,ie)=>{"offset"!==ie&&D.set(ie,this._finished?N:Vn(this.element,ie))}),this.currentSnapshot=D}triggerCallback(D){const S="start"===D?this._onStartFns:this._onDoneFns;S.forEach(N=>N()),S.length=0}}class nr{validateStyleProperty(D){return!0}validateAnimatableStyleProperty(D){return!0}matchesElement(D,S){return!1}containsElement(D,S){return Ht(D,S)}getParentElement(D){return Ft(D)}query(D,S,N){return Ge(D,S,N)}computeStyle(D,S,N){return window.getComputedStyle(D)[S]}animate(D,S,N,ie,Re,ot=[]){const nn={duration:N,delay:ie,fill:0==ie?"both":"forwards"};Re&&(nn.easing=Re);const Cn=new Map,Gn=ot.filter(yi=>yi instanceof Jo);(function gn(R,D){return 0===R||0===D})(N,ie)&&Gn.forEach(yi=>{yi.currentSnapshot.forEach((Si,er)=>Cn.set(er,Si))});let hn=function Ln(R){return R.length?R[0]instanceof Map?R:R.map(D=>on(D)):[]}(S).map(yi=>pi(yi));hn=function Qn(R,D,S){if(S.size&&D.length){let N=D[0],ie=[];if(S.forEach((Re,ot)=>{N.has(ot)||ie.push(ot),N.set(ot,Re)}),ie.length)for(let Re=1;Re<D.length;Re++){let ot=D[Re];ie.forEach(At=>ot.set(At,Vn(R,At)))}}return D}(D,hn,Cn);const Xi=function Hn(R,D){let S=null,N=null;return Array.isArray(D)&&D.length?(S=zs(D[0]),D.length>1&&(N=zs(D[D.length-1]))):D instanceof Map&&(S=zs(D)),S||N?new Rr(R,S,N):null}(D,hn);return new Jo(D,hn,nn,Xi)}}var ar=G(6895);let ya=(()=>{class R extends ee._j{constructor(S,N){super(),this._nextAnimationId=0,this._renderer=S.createRenderer(N.body,{id:"0",encapsulation:V.ifc.None,styles:[],data:{animation:[]}})}build(S){const N=this._nextAnimationId.toString();this._nextAnimationId++;const ie=Array.isArray(S)?(0,ee.vP)(S):S;return fe(this._renderer,null,N,"register",[ie]),new Pe(N,this._renderer)}}return R.\u0275fac=function(S){return new(S||R)(V.LFG(V.FYo),V.LFG(ar.K0))},R.\u0275prov=V.Yz7({token:R,factory:R.\u0275fac}),R})();class Pe extends ee.LC{constructor(D,S){super(),this._id=D,this._renderer=S}create(D,S){return new ye(this._id,D,S||{},this._renderer)}}class ye{constructor(D,S,N,ie){this.id=D,this.element=S,this._renderer=ie,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",N)}_listen(D,S){return this._renderer.listen(this.element,`@@${this.id}:${D}`,S)}_command(D,...S){return fe(this._renderer,this.element,this.id,D,S)}onDone(D){this._listen("done",D)}onStart(D){this._listen("start",D)}onDestroy(D){this._listen("destroy",D)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(D){this._command("setPosition",D)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function fe(R,D,S,N,ie){return R.setProperty(D,`@@${S}:${N}`,ie)}const Tn="@.disabled";let ir=(()=>{class R{constructor(S,N,ie){this.delegate=S,this.engine=N,this._zone=ie,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),N.onRemovalComplete=(Re,ot)=>{const At=ot?.parentNode(Re);At&&ot.removeChild(At,Re)}}createRenderer(S,N){const Re=this.delegate.createRenderer(S,N);if(!(S&&N&&N.data&&N.data.animation)){let Gn=this._rendererCache.get(Re);return Gn||(Gn=new Go("",Re,this.engine,()=>this._rendererCache.delete(Re)),this._rendererCache.set(Re,Gn)),Gn}const ot=N.id,At=N.id+"-"+this._currentId;this._currentId++,this.engine.register(At,S);const nn=Gn=>{Array.isArray(Gn)?Gn.forEach(nn):this.engine.registerTrigger(ot,At,S,Gn.name,Gn)};return N.data.animation.forEach(nn),new Sn(this,At,Re,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(S,N,ie){S>=0&&S<this._microtaskId?this._zone.run(()=>N(ie)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(Re=>{const[ot,At]=Re;ot(At)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([N,ie]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return R.\u0275fac=function(S){return new(S||R)(V.LFG(V.FYo),V.LFG(mn),V.LFG(V.R0b))},R.\u0275prov=V.Yz7({token:R,factory:R.\u0275fac}),R})();class Go{constructor(D,S,N,ie){this.namespaceId=D,this.delegate=S,this.engine=N,this._onDestroy=ie,this.destroyNode=this.delegate.destroyNode?Re=>S.destroyNode(Re):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(D,S){return this.delegate.createElement(D,S)}createComment(D){return this.delegate.createComment(D)}createText(D){return this.delegate.createText(D)}appendChild(D,S){this.delegate.appendChild(D,S),this.engine.onInsert(this.namespaceId,S,D,!1)}insertBefore(D,S,N,ie=!0){this.delegate.insertBefore(D,S,N),this.engine.onInsert(this.namespaceId,S,D,ie)}removeChild(D,S,N){this.engine.onRemove(this.namespaceId,S,this.delegate,N)}selectRootElement(D,S){return this.delegate.selectRootElement(D,S)}parentNode(D){return this.delegate.parentNode(D)}nextSibling(D){return this.delegate.nextSibling(D)}setAttribute(D,S,N,ie){this.delegate.setAttribute(D,S,N,ie)}removeAttribute(D,S,N){this.delegate.removeAttribute(D,S,N)}addClass(D,S){this.delegate.addClass(D,S)}removeClass(D,S){this.delegate.removeClass(D,S)}setStyle(D,S,N,ie){this.delegate.setStyle(D,S,N,ie)}removeStyle(D,S,N){this.delegate.removeStyle(D,S,N)}setProperty(D,S,N){"@"==S.charAt(0)&&S==Tn?this.disableAnimations(D,!!N):this.delegate.setProperty(D,S,N)}setValue(D,S){this.delegate.setValue(D,S)}listen(D,S,N){return this.delegate.listen(D,S,N)}disableAnimations(D,S){this.engine.disableAnimations(D,S)}}class Sn extends Go{constructor(D,S,N,ie,Re){super(S,N,ie,Re),this.factory=D,this.namespaceId=S}setProperty(D,S,N){"@"==S.charAt(0)?"."==S.charAt(1)&&S==Tn?this.disableAnimations(D,N=void 0===N||!!N):this.engine.process(this.namespaceId,D,S.slice(1),N):this.delegate.setProperty(D,S,N)}listen(D,S,N){if("@"==S.charAt(0)){const ie=function Sr(R){switch(R){case"body":return document.body;case"document":return document;case"window":return window;default:return R}}(D);let Re=S.slice(1),ot="";return"@"!=Re.charAt(0)&&([Re,ot]=function _a(R){const D=R.indexOf(".");return[R.substring(0,D),R.slice(D+1)]}(Re)),this.engine.listen(this.namespaceId,ie,Re,ot,At=>{this.factory.scheduleListenerCallback(At._data||-1,N,At)})}return this.delegate.listen(D,S,N)}}const Za=[{provide:ee._j,useClass:ya},{provide:go,useFactory:function Yo(){return new Di}},{provide:mn,useClass:(()=>{class R extends mn{constructor(S,N,ie,Re){super(S.body,N,ie)}ngOnDestroy(){this.flush()}}return R.\u0275fac=function(S){return new(S||R)(V.LFG(ar.K0),V.LFG(ut),V.LFG(go),V.LFG(V.z2F))},R.\u0275prov=V.Yz7({token:R,factory:R.\u0275fac}),R})()},{provide:V.FYo,useFactory:function Bl(R,D,S){return new ir(R,D,S)},deps:[h.se,mn,V.R0b]}],I=[{provide:ut,useFactory:()=>new nr},{provide:V.QbO,useValue:"BrowserAnimations"},...Za],w=[{provide:ut,useClass:Yt},{provide:V.QbO,useValue:"NoopAnimations"},...Za];let A=(()=>{class R{static withConfig(S){return{ngModule:R,providers:S.disableAnimations?w:I}}}return R.\u0275fac=function(S){return new(S||R)},R.\u0275mod=V.oAB({type:R}),R.\u0275inj=V.cJS({providers:I,imports:[h.b2]}),R})();var We=G(330),vt=G(5861),zt=G(6317),an=G(9794),Mn=G(2975);const Xn=new V.OlP("TRACE_SERVICE_TOKEN_DIALOGS");let hi=(()=>{class R{constructor(){this.activeModals=new Set}waitForCurrentModals(){var S=this;return(0,vt.Z)(function*(){for(;S.activeModals.size>0;)yield Promise.all([...S.activeModals])})()}keepAwaiter(S){var N=this;return(0,vt.Z)(function*(){const ie=S();N.activeModals.add(ie);const Re=yield ie;return N.activeModals.delete(ie),Re})()}}return R.\u0275fac=function(S){return new(S||R)},R.\u0275prov=V.Yz7({token:R,factory:R.\u0275fac}),R})(),Un=(()=>{class R extends We.bQ{constructor(S,N){super(),this.componentInjector=S,this.modalAwaiter=N,this.componentInjector=S}ngOnDestroy(){super.ngOnDestroy(),this.componentRef&&this.componentRef.destroy()}showError(S,N){var ie=this;return(0,vt.Z)(function*(){const Re=ie.buildModal();return yield ie.modalAwaiter.keepAwaiter(()=>Re.instance.showError(S,N))})()}showWarning(S,N){var ie=this;return(0,vt.Z)(function*(){const Re=ie.buildModal();return yield ie.modalAwaiter.keepAwaiter(()=>Re.instance.showWarning(S,N))})()}showModal(S,N,ie,Re,ot){var At=this;return(0,vt.Z)(function*(){const nn=At.buildModal();return yield At.modalAwaiter.keepAwaiter(()=>nn.instance.showModal(S,N,ie,Re,ot))})()}showErrorPopup(S,N){var ie=this;return(0,vt.Z)(function*(){const Re=ie.buildModal();return yield ie.modalAwaiter.keepAwaiter(()=>Re.instance.showErrorPopup(S,N))})()}showWarningPopup(S,N){var ie=this;return(0,vt.Z)(function*(){const Re=ie.buildModal();return yield ie.modalAwaiter.keepAwaiter(()=>Re.instance.showWarningPopup(S,N))})()}showPopup(S,N,ie,Re,ot){var At=this;return(0,vt.Z)(function*(){const nn=At.buildModal();return yield At.modalAwaiter.keepAwaiter(()=>nn.instance.showPopup(S,N,ie,Re,ot))})()}buildModal(){return this.componentRef&&this.componentRef.destroy(),this.componentRef=this.componentInjector.appendComponent(Mn.yB),this.componentRef}}return R.\u0275fac=function(S){return new(S||R)(V.LFG(We.w1),V.LFG(We.dW))},R.\u0275prov=V.Yz7({token:R,factory:R.\u0275fac}),R})(),br=(()=>{class R{}return R.\u0275fac=function(S){return new(S||R)},R.\u0275mod=V.oAB({type:R}),R.\u0275inj=V.cJS({providers:[{provide:We.kS,useClass:Un},{provide:We.dW,useClass:hi},(0,We.de)("dialogs",We.in.verbose,Xn)],imports:[Mn.zk,ar.ez,zt.yM,an.wJ]}),R})();var jo=G(5707),$r=G(1951),Bo=G(262),ns=G(2843),vr=G(8505),Vo=G(9646),Jt=G(8746);let An=(()=>{class R{constructor(S,N){this.inj=S,this.translocoService=N}intercept(S,N){return N.handle(S).pipe((0,Bo.K)(ie=>{if(!this.isLoginOperation(S)||!(0,We.t2)(ie)){const ot=this.getErrorMessage(ie);this.showError(ot)}return(0,ns._)(()=>ie)}),(0,vr.b)(ie=>{this.showWarningsIfAny(S,ie)}))}showWarningsIfAny(S,N){if(this.isLoginOperation(S)){const ie=We.pz.getWarnings(N);ie.getAllWarnings().length>0&&this.inj.get(We.kS).showWarning(ie.getAllWarnings()[0])}}isLoginOperation(S){return-1!==S.url.indexOf("/access-tokens")}getErrorMessage(S){let N;return N=S instanceof C.UA?this.checkHttpErrorResponse(S):S&&S.message?(0,Vo.of)(S.message.trim()):this.translocoService.selectTranslate("internalServerError",{},"ingCommunication"),N}checkHttpErrorResponse(S){return 500===S.status?this.translocoService.selectTranslate("internalServerError",{},"ingCommunication"):401===S.status?(this.inj.get($r.F0).navigate(["/login"]),this.translocoService.selectTranslate("unauthorizedError",{},"ingCommunication")):404===S.status||409===S.status?null:S.error instanceof ErrorEvent?S.error.message?(0,Vo.of)(S.error.message.trim()):this.translocoService.selectTranslate("internalServerError",{},"ingCommunication"):S.error?.message?(0,Vo.of)(S.error.message.trim()):S.message?(0,Vo.of)(S.message):this.translocoService.selectTranslate("internalServerError",{},"ingCommunication")}showError(S){S&&this.inj.get(We.kS).showErrorPopup(S)}}return R.\u0275fac=function(S){return new(S||R)(V.LFG(V.zs3),V.LFG(jo.Vn))},R.\u0275prov=V.Yz7({token:R,factory:R.\u0275fac}),R})();const vi=new V.OlP("TRACE_SERVICE_TOKEN_COMMUNICATION");let Gi=(()=>{class R{constructor(){this._urlIgnoreList=["/access-tokens/refresh"]}registerUrlSegment(S){-1===this._urlIgnoreList.indexOf(S)&&this._urlIgnoreList.push(S)}unRegisterUrlSegment(S){const N=this._urlIgnoreList.indexOf(S);N>0&&this._urlIgnoreList.splice(N,1)}Clear(){this._urlIgnoreList=[]}getIgnoreList(){return this._urlIgnoreList}hasUrlToIgnore(S){let N=!1;return this._urlIgnoreList.forEach(ie=>{S.indexOf(ie)>0&&(N=!0)}),N}}return R.\u0275fac=function(S){return new(S||R)},R.\u0275prov=V.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})(),gr=(()=>{class R{get internalCounters(){return this._internalCounters}constructor(S,N,ie){this.loaderService=S,this.loadingInterceptorIgnoreService=N,this.trace=ie,this.isLoaderRunning=!1,this._internalCounters=0}intercept(S,N){return this.hasToBeActivatedForUrl(S.url)?(this._internalCounters+=1,this.trace.logDebug(`Loader - intercept - ${this._internalCounters} - ${S.urlWithParams} - ${S.responseType}`),this.isLoaderRunning||(this.loaderService.start(),this.isLoaderRunning=!0),this.stopLoaderOnResponse(S,N)):N.handle(S)}stopLoaderOnResponse(S,N){return N.handle(S).pipe((0,Jt.x)(()=>{this._internalCounters-=1,this._internalCounters=Math.max(0,this._internalCounters),this.trace.logDebug(`Loader - finalize - ${this._internalCounters} - ${S.urlWithParams} - ${S.responseType}`),this._internalCounters<=0&&(this.isLoaderRunning=!1,this.loaderService.stop())}))}hasToBeActivatedForUrl(S){return!this.loadingInterceptorIgnoreService.hasUrlToIgnore(S)}}return R.\u0275fac=function(S){return new(S||R)(V.LFG(We.Gj),V.LFG(We.WB),V.LFG(vi))},R.\u0275prov=V.Yz7({token:R,factory:R.\u0275fac}),R})(),Ni=(()=>{class R{constructor(S,N){this.config=S,this.clientContextDataProvider=N}intercept(S,N){const ie=this.completeRequestHeadersForAPI(S),Re=this.completeRequestUrl(ie);return N.handle(Re)}completeRequestUrl(S){let N=S;return this.shouldUpdateRequest(S)&&(N=S.clone({url:this.config.getCurrentWebApiUrl()+"api/"+S.url})),N}completeRequestHeadersForAPI(S){const N=this.clientContextDataProvider.getClientContext();let ie=S;const Re=this.completeRequestForLanguage(S);if(this.config.isAuthenticationActivated()){if(this.shouldUpdateRequest(S)){const ot=this.completeRequestForDomainId(Re),At=this.completeRequestForDataSetLabel(ot);ie=this.completeRequestForApiKey(At)}}else ie=S.clone({headers:We.pz.buildHeadersWithContext(N,S.headers)});return ie}shouldUpdateRequest(S){return S.url&&!S.url.startsWith("./")&&S.url.indexOf("assets")<0&&!S.url.startsWith("http")}completeRequestForLanguage(S){let ie=S;const Re=this.clientContextDataProvider.getClientContext()?.currentUiCulture;return Re&&(ie=S.clone({setHeaders:{"Accept-Language":`${Re}`}})),ie}completeRequestForDomainId(S){let ie=S;const Re=this.clientContextDataProvider.getClientContext()?.domainId;return Re&&(ie=S.clone({setHeaders:{[We.Er]:Re.toString()}})),ie}completeRequestForDataSetLabel(S){let ie=S;const Re=this.clientContextDataProvider.getClientContext()?.dataSetLabel;return Re&&(ie=S.clone({setHeaders:{[We.Zi]:Re.toString()}})),ie}completeRequestForApiKey(S){let N=S;const ie=this.config.getBackendConfiguration();return ie?.apiKey&&(N=S.clone({setHeaders:{[We.XB]:ie.apiKey}})),N}}return R.\u0275fac=function(S){return new(S||R)(V.LFG(We.st),V.LFG(We.kv))},R.\u0275prov=V.Yz7({token:R,factory:R.\u0275fac}),R})(),Da=(()=>{class R{}return R.\u0275fac=function(S){return new(S||R)},R.\u0275mod=V.oAB({type:R}),R.\u0275inj=V.cJS({providers:[{provide:C.TP,useClass:Ni,multi:!0},{provide:C.TP,useClass:An,multi:!0},{provide:C.TP,useClass:gr,multi:!0},{provide:jo.Hn,useValue:"ingCommunication",multi:!0},(0,We.de)("communication",We.in.verbose,vi),{provide:We.WB,useExisting:Gi}],imports:[We.jH]}),R})();var xo=G(4072),Or=G(5218);const ka=[{path:"home",canActivate:[xo.Qt],loadChildren:()=>G.e(539).then(G.bind(G,539)).then(R=>R.HomeModule)},{path:"",redirectTo:"home",pathMatch:"full"}];let ml=(()=>{var R;class D{}return(R=D).\u0275fac=function(N){return new(N||R)},R.\u0275mod=V.oAB({type:R}),R.\u0275inj=V.cJS({imports:[$r.Bz.forRoot(ka),$r.Bz]}),D})();var za=G(9841);let Wa=(()=>{var R;class D{constructor(){this.router=(0,V.f3M)($r.F0),this.auth=(0,V.f3M)(xo.$C),this.loggedIn=this.auth.loggedIn(),this.isLoggedIn$=(0,za.a)([this.auth.onLogin$,this.auth.onLogout$],(N,ie)=>({userContext:N})),this.isLoggedIn$.subscribe(N=>this.loggedIn=this.auth.loggedIn())}logOut(){this.auth.logout(),this.router.navigate(["/login"])}}return(R=D).\u0275fac=function(N){return new(N||R)},R.\u0275cmp=V.Xpm({type:R,selectors:[["app-root"]],decls:2,vars:0,template:function(N,ie){1&N&&(V.TgZ(0,"section"),V._UZ(1,"router-outlet"),V.qZA())},dependencies:[$r.lC],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column}router-outlet[_ngcontent-%COMP%]{display:none}"]}),D})(),Ho=(()=>{var R;class D{constructor(){this.clientContext=new We.RY}setClientContext(N){this.clientContext=N}getClientContext(){return this.clientContext||(this.clientContext=new We.RY),this.clientContext}clearUser(){this.clientContext&&(this.clientContext.authenticatedUser=new We.St)}}return(R=D).\u0275fac=function(N){return new(N||R)},R.\u0275prov=V.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),D})(),eo=(()=>{var R;class D{load(){return Promise.resolve(!0)}}return(R=D).\u0275fac=function(N){return new(N||R)},R.\u0275prov=V.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),D})(),Dl=(()=>{var R;class D{isInSingleFeatureMode(){return!1}isAuthenticationActivated(){return!0}getDefaultWebApiUrl(){return"http://localhost:46001/"}getCurrentWebApiUrl(){return"http://localhost:46001/"}getBackendConfiguration(){return{apiKey:"lol"}}getApplicationName(){return"Roberta"}getInteropMode(){return We.q6.fullWeb}resetWebApiUrl(){}overrideWebApiUrl(N){}getMsAuthenticationRedirectUri(){return""}getMsAuthenticationAppCode(){return""}getMsAuthenticationAppId(){return""}}return(R=D).\u0275fac=function(N){return new(N||R)},R.\u0275prov=V.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),D})(),qa=(()=>{var R;class D{}return(R=D).\u0275fac=function(N){return new(N||R)},R.\u0275mod=V.oAB({type:R,bootstrap:[Wa]}),R.\u0275inj=V.cJS({providers:[(0,We.M4)((0,We.kM)(),(0,We.If)()),(0,We.bt)((0,We.W)(),(0,We.ZZ)()),{provide:We.kv,useExisting:Ho},{provide:We.st,useExisting:Dl},{provide:We.lm,useExisting:eo}],imports:[C.JF,h.b2,A,ml,br,Or.$2.forRoot(),Da,We.N1,xo.d8,xo.of.forRoot(),Mn.j3,Mn.io,xo.A2]}),D})();h.q6().bootstrapModule(qa).catch(R=>console.error(R))},5081:(cn,Ve)=>{"use strict";var G=function(){function h(){}return h.UUID=function(){if(typeof window<"u"&&typeof window.crypto<"u"&&typeof window.crypto.getRandomValues<"u"){var C=new Uint16Array(8);return window.crypto.getRandomValues(C),this.pad4(C[0])+this.pad4(C[1])+"-"+this.pad4(C[2])+"-"+this.pad4(C[3])+"-"+this.pad4(C[4])+"-"+this.pad4(C[5])+this.pad4(C[6])+this.pad4(C[7])}return this.random4()+this.random4()+"-"+this.random4()+"-"+this.random4()+"-"+this.random4()+"-"+this.random4()+this.random4()+this.random4()},h.pad4=function(C){for(var V=C.toString(16);V.length<4;)V="0"+V;return V},h.random4=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)},h}();Ve.h=G},7466:function(cn,Ve,G){var h;cn.exports=(h=G(7585),G(8319),G(9493),G(7865),G(3057),function(){var C=h,ee=C.lib.BlockCipher,pe=C.algo,ue=[],ve=[],re=[],le=[],U=[],y=[],O=[],$=[],Q=[],oe=[];!function(){for(var be=[],ke=0;ke<256;ke++)be[ke]=ke<128?ke<<1:ke<<1^283;var Ze=0,Ke=0;for(ke=0;ke<256;ke++){var De=Ke^Ke<<1^Ke<<2^Ke<<3^Ke<<4;ue[Ze]=De=De>>>8^255&De^99,ve[De]=Ze;var dt,et=be[Ze],tt=be[et],u=be[tt];re[Ze]=(dt=257*be[De]^16843008*De)<<24|dt>>>8,le[Ze]=dt<<16|dt>>>16,U[Ze]=dt<<8|dt>>>24,y[Ze]=dt,O[De]=(dt=16843009*u^65537*tt^257*et^16843008*Ze)<<24|dt>>>8,$[De]=dt<<16|dt>>>16,Q[De]=dt<<8|dt>>>24,oe[De]=dt,Ze?(Ze=et^be[be[be[u^et]]],Ke^=be[be[Ke]]):Ze=Ke=1}}();var Ce=[0,1,2,4,8,16,32,64,128,27,54],xe=pe.AES=ee.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var ke=this._keyPriorReset=this._key,Ze=ke.words,Ke=ke.sigBytes/4,et=4*((this._nRounds=Ke+6)+1),tt=this._keySchedule=[],u=0;u<et;u++)u<Ke?tt[u]=Ze[u]:(be=tt[u-1],u%Ke?Ke>6&&u%Ke==4&&(be=ue[be>>>24]<<24|ue[be>>>16&255]<<16|ue[be>>>8&255]<<8|ue[255&be]):(be=ue[(be=be<<8|be>>>24)>>>24]<<24|ue[be>>>16&255]<<16|ue[be>>>8&255]<<8|ue[255&be],be^=Ce[u/Ke|0]<<24),tt[u]=tt[u-Ke]^be);for(var dt=this._invKeySchedule=[],we=0;we<et;we++){if(u=et-we,we%4)var be=tt[u];else be=tt[u-4];dt[we]=we<4||u<=4?be:O[ue[be>>>24]]^$[ue[be>>>16&255]]^Q[ue[be>>>8&255]]^oe[ue[255&be]]}}},encryptBlock:function(be,ke){this._doCryptBlock(be,ke,this._keySchedule,re,le,U,y,ue)},decryptBlock:function(be,ke){var Ze=be[ke+1];be[ke+1]=be[ke+3],be[ke+3]=Ze,this._doCryptBlock(be,ke,this._invKeySchedule,O,$,Q,oe,ve),Ze=be[ke+1],be[ke+1]=be[ke+3],be[ke+3]=Ze},_doCryptBlock:function(be,ke,Ze,Ke,De,et,tt,u){for(var dt=this._nRounds,we=be[ke]^Ze[0],mt=be[ke+1]^Ze[1],Gt=be[ke+2]^Ze[2],Le=be[ke+3]^Ze[3],H=4,g=1;g<dt;g++){var F=Ke[we>>>24]^De[mt>>>16&255]^et[Gt>>>8&255]^tt[255&Le]^Ze[H++],b=Ke[mt>>>24]^De[Gt>>>16&255]^et[Le>>>8&255]^tt[255&we]^Ze[H++],Z=Ke[Gt>>>24]^De[Le>>>16&255]^et[we>>>8&255]^tt[255&mt]^Ze[H++],W=Ke[Le>>>24]^De[we>>>16&255]^et[mt>>>8&255]^tt[255&Gt]^Ze[H++];we=F,mt=b,Gt=Z,Le=W}F=(u[we>>>24]<<24|u[mt>>>16&255]<<16|u[Gt>>>8&255]<<8|u[255&Le])^Ze[H++],b=(u[mt>>>24]<<24|u[Gt>>>16&255]<<16|u[Le>>>8&255]<<8|u[255&we])^Ze[H++],Z=(u[Gt>>>24]<<24|u[Le>>>16&255]<<16|u[we>>>8&255]<<8|u[255&mt])^Ze[H++],W=(u[Le>>>24]<<24|u[we>>>16&255]<<16|u[mt>>>8&255]<<8|u[255&Gt])^Ze[H++],be[ke]=F,be[ke+1]=b,be[ke+2]=Z,be[ke+3]=W},keySize:8});C.AES=ee._createHelper(xe)}(),h.AES)},3057:function(cn,Ve,G){var C,V,ee,pe,ue,ve,re,U,O,$,oe,Ce,xe,ke,Ke,et,tt,dt,we,h;cn.exports=(h=G(7585),G(7865),void(h.lib.Cipher||(V=h,ee=V.lib,pe=ee.Base,ue=ee.WordArray,ve=ee.BufferedBlockAlgorithm,re=V.enc,U=re.Base64,O=V.algo.EvpKDF,$=ee.Cipher=ve.extend({cfg:pe.extend(),createEncryptor:function(mt,Gt){return this.create(this._ENC_XFORM_MODE,mt,Gt)},createDecryptor:function(mt,Gt){return this.create(this._DEC_XFORM_MODE,mt,Gt)},init:function(mt,Gt,Le){this.cfg=this.cfg.extend(Le),this._xformMode=mt,this._key=Gt,this.reset()},reset:function(){ve.reset.call(this),this._doReset()},process:function(mt){return this._append(mt),this._process()},finalize:function(mt){return mt&&this._append(mt),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function mt(Gt){return"string"==typeof Gt?we:tt}return function(Gt){return{encrypt:function(Le,H,g){return mt(H).encrypt(Gt,Le,H,g)},decrypt:function(Le,H,g){return mt(H).decrypt(Gt,Le,H,g)}}}}()}),ee.StreamCipher=$.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),oe=V.mode={},Ce=ee.BlockCipherMode=pe.extend({createEncryptor:function(mt,Gt){return this.Encryptor.create(mt,Gt)},createDecryptor:function(mt,Gt){return this.Decryptor.create(mt,Gt)},init:function(mt,Gt){this._cipher=mt,this._iv=Gt}}),xe=oe.CBC=function(){var mt=Ce.extend();function Gt(Le,H,g){var F,b=this._iv;b?(F=b,this._iv=C):F=this._prevBlock;for(var Z=0;Z<g;Z++)Le[H+Z]^=F[Z]}return mt.Encryptor=mt.extend({processBlock:function(Le,H){var g=this._cipher,F=g.blockSize;Gt.call(this,Le,H,F),g.encryptBlock(Le,H),this._prevBlock=Le.slice(H,H+F)}}),mt.Decryptor=mt.extend({processBlock:function(Le,H){var g=this._cipher,F=g.blockSize,b=Le.slice(H,H+F);g.decryptBlock(Le,H),Gt.call(this,Le,H,F),this._prevBlock=b}}),mt}(),ke=(V.pad={}).Pkcs7={pad:function(mt,Gt){for(var Le=4*Gt,H=Le-mt.sigBytes%Le,g=H<<24|H<<16|H<<8|H,F=[],b=0;b<H;b+=4)F.push(g);var Z=ue.create(F,H);mt.concat(Z)},unpad:function(mt){mt.sigBytes-=255&mt.words[mt.sigBytes-1>>>2]}},ee.BlockCipher=$.extend({cfg:$.cfg.extend({mode:xe,padding:ke}),reset:function(){var mt;$.reset.call(this);var Gt=this.cfg,Le=Gt.iv,H=Gt.mode;this._xformMode==this._ENC_XFORM_MODE?mt=H.createEncryptor:(mt=H.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==mt?this._mode.init(this,Le&&Le.words):(this._mode=mt.call(H,this,Le&&Le.words),this._mode.__creator=mt)},_doProcessBlock:function(mt,Gt){this._mode.processBlock(mt,Gt)},_doFinalize:function(){var mt,Gt=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(Gt.pad(this._data,this.blockSize),mt=this._process(!0)):(mt=this._process(!0),Gt.unpad(mt)),mt},blockSize:4}),Ke=ee.CipherParams=pe.extend({init:function(mt){this.mixIn(mt)},toString:function(mt){return(mt||this.formatter).stringify(this)}}),et=(V.format={}).OpenSSL={stringify:function(mt){var Le=mt.ciphertext,H=mt.salt;return(H?ue.create([1398893684,1701076831]).concat(H).concat(Le):Le).toString(U)},parse:function(mt){var Gt,Le=U.parse(mt),H=Le.words;return 1398893684==H[0]&&1701076831==H[1]&&(Gt=ue.create(H.slice(2,4)),H.splice(0,4),Le.sigBytes-=16),Ke.create({ciphertext:Le,salt:Gt})}},tt=ee.SerializableCipher=pe.extend({cfg:pe.extend({format:et}),encrypt:function(mt,Gt,Le,H){H=this.cfg.extend(H);var g=mt.createEncryptor(Le,H),F=g.finalize(Gt),b=g.cfg;return Ke.create({ciphertext:F,key:Le,iv:b.iv,algorithm:mt,mode:b.mode,padding:b.padding,blockSize:mt.blockSize,formatter:H.format})},decrypt:function(mt,Gt,Le,H){return H=this.cfg.extend(H),Gt=this._parse(Gt,H.format),mt.createDecryptor(Le,H).finalize(Gt.ciphertext)},_parse:function(mt,Gt){return"string"==typeof mt?Gt.parse(mt,this):mt}}),dt=(V.kdf={}).OpenSSL={execute:function(mt,Gt,Le,H){H||(H=ue.random(8));var g=O.create({keySize:Gt+Le}).compute(mt,H),F=ue.create(g.words.slice(Gt),4*Le);return g.sigBytes=4*Gt,Ke.create({key:g,iv:F,salt:H})}},we=ee.PasswordBasedCipher=tt.extend({cfg:tt.cfg.extend({kdf:dt}),encrypt:function(mt,Gt,Le,H){var g=(H=this.cfg.extend(H)).kdf.execute(Le,mt.keySize,mt.ivSize);H.iv=g.iv;var F=tt.encrypt.call(this,mt,Gt,g.key,H);return F.mixIn(g),F},decrypt:function(mt,Gt,Le,H){H=this.cfg.extend(H),Gt=this._parse(Gt,H.format);var g=H.kdf.execute(Le,mt.keySize,mt.ivSize,Gt.salt);return H.iv=g.iv,tt.decrypt.call(this,mt,Gt,g.key,H)}}))))},7585:function(cn,Ve,G){var h;cn.exports=(h=h||function(C,V){var ee;if(typeof window<"u"&&window.crypto&&(ee=window.crypto),typeof self<"u"&&self.crypto&&(ee=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(ee=globalThis.crypto),!ee&&typeof window<"u"&&window.msCrypto&&(ee=window.msCrypto),!ee&&typeof global<"u"&&global.crypto&&(ee=global.crypto),!ee)try{ee=G(2480)}catch{}var pe=function(){if(ee){if("function"==typeof ee.getRandomValues)try{return ee.getRandomValues(new Uint32Array(1))[0]}catch{}if("function"==typeof ee.randomBytes)try{return ee.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},ue=Object.create||function(){function be(){}return function(ke){var Ze;return be.prototype=ke,Ze=new be,be.prototype=null,Ze}}(),ve={},re=ve.lib={},le=re.Base={extend:function(be){var ke=ue(this);return be&&ke.mixIn(be),(!ke.hasOwnProperty("init")||this.init===ke.init)&&(ke.init=function(){ke.$super.init.apply(this,arguments)}),ke.init.prototype=ke,ke.$super=this,ke},create:function(){var be=this.extend();return be.init.apply(be,arguments),be},init:function(){},mixIn:function(be){for(var ke in be)be.hasOwnProperty(ke)&&(this[ke]=be[ke]);be.hasOwnProperty("toString")&&(this.toString=be.toString)},clone:function(){return this.init.prototype.extend(this)}},U=re.WordArray=le.extend({init:function(be,ke){be=this.words=be||[],this.sigBytes=null!=ke?ke:4*be.length},toString:function(be){return(be||O).stringify(this)},concat:function(be){var ke=this.words,Ze=be.words,Ke=this.sigBytes,De=be.sigBytes;if(this.clamp(),Ke%4)for(var et=0;et<De;et++)ke[Ke+et>>>2]|=(Ze[et>>>2]>>>24-et%4*8&255)<<24-(Ke+et)%4*8;else for(var u=0;u<De;u+=4)ke[Ke+u>>>2]=Ze[u>>>2];return this.sigBytes+=De,this},clamp:function(){var be=this.words,ke=this.sigBytes;be[ke>>>2]&=4294967295<<32-ke%4*8,be.length=C.ceil(ke/4)},clone:function(){var be=le.clone.call(this);return be.words=this.words.slice(0),be},random:function(be){for(var ke=[],Ze=0;Ze<be;Ze+=4)ke.push(pe());return new U.init(ke,be)}}),y=ve.enc={},O=y.Hex={stringify:function(be){for(var ke=be.words,Ze=be.sigBytes,Ke=[],De=0;De<Ze;De++){var et=ke[De>>>2]>>>24-De%4*8&255;Ke.push((et>>>4).toString(16)),Ke.push((15&et).toString(16))}return Ke.join("")},parse:function(be){for(var ke=be.length,Ze=[],Ke=0;Ke<ke;Ke+=2)Ze[Ke>>>3]|=parseInt(be.substr(Ke,2),16)<<24-Ke%8*4;return new U.init(Ze,ke/2)}},$=y.Latin1={stringify:function(be){for(var ke=be.words,Ze=be.sigBytes,Ke=[],De=0;De<Ze;De++)Ke.push(String.fromCharCode(ke[De>>>2]>>>24-De%4*8&255));return Ke.join("")},parse:function(be){for(var ke=be.length,Ze=[],Ke=0;Ke<ke;Ke++)Ze[Ke>>>2]|=(255&be.charCodeAt(Ke))<<24-Ke%4*8;return new U.init(Ze,ke)}},Q=y.Utf8={stringify:function(be){try{return decodeURIComponent(escape($.stringify(be)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(be){return $.parse(unescape(encodeURIComponent(be)))}},oe=re.BufferedBlockAlgorithm=le.extend({reset:function(){this._data=new U.init,this._nDataBytes=0},_append:function(be){"string"==typeof be&&(be=Q.parse(be)),this._data.concat(be),this._nDataBytes+=be.sigBytes},_process:function(be){var ke,Ze=this._data,Ke=Ze.words,De=Ze.sigBytes,et=this.blockSize,u=De/(4*et),dt=(u=be?C.ceil(u):C.max((0|u)-this._minBufferSize,0))*et,we=C.min(4*dt,De);if(dt){for(var mt=0;mt<dt;mt+=et)this._doProcessBlock(Ke,mt);ke=Ke.splice(0,dt),Ze.sigBytes-=we}return new U.init(ke,we)},clone:function(){var be=le.clone.call(this);return be._data=this._data.clone(),be},_minBufferSize:0}),xe=(re.Hasher=oe.extend({cfg:le.extend(),init:function(be){this.cfg=this.cfg.extend(be),this.reset()},reset:function(){oe.reset.call(this),this._doReset()},update:function(be){return this._append(be),this._process(),this},finalize:function(be){return be&&this._append(be),this._doFinalize()},blockSize:16,_createHelper:function(be){return function(ke,Ze){return new be.init(Ze).finalize(ke)}},_createHmacHelper:function(be){return function(ke,Ze){return new xe.HMAC.init(be,Ze).finalize(ke)}}}),ve.algo={});return ve}(Math),h)},8319:function(cn,Ve,G){var h,ee;cn.exports=(h=G(7585),ee=h.lib.WordArray,h.enc.Base64={stringify:function(re){var le=re.words,U=re.sigBytes,y=this._map;re.clamp();for(var O=[],$=0;$<U;$+=3)for(var xe=(le[$>>>2]>>>24-$%4*8&255)<<16|(le[$+1>>>2]>>>24-($+1)%4*8&255)<<8|le[$+2>>>2]>>>24-($+2)%4*8&255,be=0;be<4&&$+.75*be<U;be++)O.push(y.charAt(xe>>>6*(3-be)&63));var ke=y.charAt(64);if(ke)for(;O.length%4;)O.push(ke);return O.join("")},parse:function(re){var le=re.length,U=this._map,y=this._reverseMap;if(!y){y=this._reverseMap=[];for(var O=0;O<U.length;O++)y[U.charCodeAt(O)]=O}var $=U.charAt(64);if($){var Q=re.indexOf($);-1!==Q&&(le=Q)}return function ve(re,le,U){for(var y=[],O=0,$=0;$<le;$++)if($%4){var Q=U[re.charCodeAt($-1)]<<$%4*2,oe=U[re.charCodeAt($)]>>>6-$%4*2;y[O>>>2]|=(Q|oe)<<24-O%4*8,O++}return ee.create(y,O)}(re,le,y)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},h.enc.Base64)},4410:function(cn,Ve,G){var h,ee;cn.exports=(h=G(7585),ee=h.lib.WordArray,h.enc.Base64url={stringify:function(re,le=!0){var U=re.words,y=re.sigBytes,O=le?this._safe_map:this._map;re.clamp();for(var $=[],Q=0;Q<y;Q+=3)for(var be=(U[Q>>>2]>>>24-Q%4*8&255)<<16|(U[Q+1>>>2]>>>24-(Q+1)%4*8&255)<<8|U[Q+2>>>2]>>>24-(Q+2)%4*8&255,ke=0;ke<4&&Q+.75*ke<y;ke++)$.push(O.charAt(be>>>6*(3-ke)&63));var Ze=O.charAt(64);if(Ze)for(;$.length%4;)$.push(Ze);return $.join("")},parse:function(re,le=!0){var U=re.length,y=le?this._safe_map:this._map,O=this._reverseMap;if(!O){O=this._reverseMap=[];for(var $=0;$<y.length;$++)O[y.charCodeAt($)]=$}var Q=y.charAt(64);if(Q){var oe=re.indexOf(Q);-1!==oe&&(U=oe)}return function ve(re,le,U){for(var y=[],O=0,$=0;$<le;$++)if($%4){var Q=U[re.charCodeAt($-1)]<<$%4*2,oe=U[re.charCodeAt($)]>>>6-$%4*2;y[O>>>2]|=(Q|oe)<<24-O%4*8,O++}return ee.create(y,O)}(re,U,O)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"},h.enc.Base64url)},9012:function(cn,Ve,G){var h;cn.exports=(h=G(7585),function(){var ee=h.lib.WordArray,pe=h.enc;function ve(re){return re<<8&4278255360|re>>>8&16711935}pe.Utf16=pe.Utf16BE={stringify:function(re){for(var le=re.words,U=re.sigBytes,y=[],O=0;O<U;O+=2)y.push(String.fromCharCode(le[O>>>2]>>>16-O%4*8&65535));return y.join("")},parse:function(re){for(var le=re.length,U=[],y=0;y<le;y++)U[y>>>1]|=re.charCodeAt(y)<<16-y%2*16;return ee.create(U,2*le)}},pe.Utf16LE={stringify:function(re){for(var le=re.words,U=re.sigBytes,y=[],O=0;O<U;O+=2){var $=ve(le[O>>>2]>>>16-O%4*8&65535);y.push(String.fromCharCode($))}return y.join("")},parse:function(re){for(var le=re.length,U=[],y=0;y<le;y++)U[y>>>1]|=ve(re.charCodeAt(y)<<16-y%2*16);return ee.create(U,2*le)}}}(),h.enc.Utf16)},7865:function(cn,Ve,G){var C,V,ee,pe,ue,re,h;cn.exports=(h=G(7585),G(5162),G(3764),pe=(V=(C=h).lib).WordArray,re=(ue=C.algo).EvpKDF=(ee=V.Base).extend({cfg:ee.extend({keySize:4,hasher:ue.MD5,iterations:1}),init:function(le){this.cfg=this.cfg.extend(le)},compute:function(le,U){for(var y,O=this.cfg,$=O.hasher.create(),Q=pe.create(),oe=Q.words,Ce=O.keySize,xe=O.iterations;oe.length<Ce;){y&&$.update(y),y=$.update(le).finalize(U),$.reset();for(var be=1;be<xe;be++)y=$.finalize(y),$.reset();Q.concat(y)}return Q.sigBytes=4*Ce,Q}}),C.EvpKDF=function(le,U,y){return re.create(y).compute(le,U)},h.EvpKDF)},1847:function(cn,Ve,G){var h,pe,ve;cn.exports=(h=G(7585),G(3057),pe=h.lib.CipherParams,ve=h.enc.Hex,h.format.Hex={stringify:function(U){return U.ciphertext.toString(ve)},parse:function(U){var y=ve.parse(U);return pe.create({ciphertext:y})}},h.format.Hex)},3764:function(cn,Ve,G){var h,ue;cn.exports=(h=G(7585),ue=h.enc.Utf8,void(h.algo.HMAC=h.lib.Base.extend({init:function(le,U){le=this._hasher=new le.init,"string"==typeof U&&(U=ue.parse(U));var y=le.blockSize,O=4*y;U.sigBytes>O&&(U=le.finalize(U)),U.clamp();for(var $=this._oKey=U.clone(),Q=this._iKey=U.clone(),oe=$.words,Ce=Q.words,xe=0;xe<y;xe++)oe[xe]^=1549556828,Ce[xe]^=909522486;$.sigBytes=Q.sigBytes=O,this.reset()},reset:function(){var le=this._hasher;le.reset(),le.update(this._iKey)},update:function(le){return this._hasher.update(le),this},finalize:function(le){var U=this._hasher,y=U.finalize(le);return U.reset(),U.finalize(this._oKey.clone().concat(y))}})))},7206:function(cn,Ve,G){var h;cn.exports=(h=G(7585),G(401),G(7412),G(9012),G(8319),G(4410),G(9493),G(5162),G(1817),G(8769),G(3351),G(6787),G(1971),G(4973),G(3764),G(8812),G(7865),G(3057),G(4424),G(6635),G(3592),G(9354),G(7934),G(4413),G(4630),G(187),G(1691),G(3237),G(1847),G(7466),G(7243),G(486),G(8182),G(3544),h)},7412:function(cn,Ve,G){var h;cn.exports=(h=G(7585),function(){if("function"==typeof ArrayBuffer){var ee=h.lib.WordArray,pe=ee.init,ue=ee.init=function(ve){if(ve instanceof ArrayBuffer&&(ve=new Uint8Array(ve)),(ve instanceof Int8Array||typeof Uint8ClampedArray<"u"&&ve instanceof Uint8ClampedArray||ve instanceof Int16Array||ve instanceof Uint16Array||ve instanceof Int32Array||ve instanceof Uint32Array||ve instanceof Float32Array||ve instanceof Float64Array)&&(ve=new Uint8Array(ve.buffer,ve.byteOffset,ve.byteLength)),ve instanceof Uint8Array){for(var re=ve.byteLength,le=[],U=0;U<re;U++)le[U>>>2]|=ve[U]<<24-U%4*8;pe.call(this,le,re)}else pe.apply(this,arguments)};ue.prototype=ee}}(),h.lib.WordArray)},9493:function(cn,Ve,G){var h;cn.exports=(h=G(7585),function(C){var V=h,ee=V.lib,pe=ee.WordArray,ue=ee.Hasher,ve=V.algo,re=[];!function(){for(var Q=0;Q<64;Q++)re[Q]=4294967296*C.abs(C.sin(Q+1))|0}();var le=ve.MD5=ue.extend({_doReset:function(){this._hash=new pe.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(Q,oe){for(var Ce=0;Ce<16;Ce++){var xe=oe+Ce,be=Q[xe];Q[xe]=16711935&(be<<8|be>>>24)|4278255360&(be<<24|be>>>8)}var ke=this._hash.words,Ze=Q[oe+0],Ke=Q[oe+1],De=Q[oe+2],et=Q[oe+3],tt=Q[oe+4],u=Q[oe+5],dt=Q[oe+6],we=Q[oe+7],mt=Q[oe+8],Gt=Q[oe+9],Le=Q[oe+10],H=Q[oe+11],g=Q[oe+12],F=Q[oe+13],b=Q[oe+14],Z=Q[oe+15],W=ke[0],X=ke[1],de=ke[2],me=ke[3];W=U(W,X,de,me,Ze,7,re[0]),me=U(me,W,X,de,Ke,12,re[1]),de=U(de,me,W,X,De,17,re[2]),X=U(X,de,me,W,et,22,re[3]),W=U(W,X,de,me,tt,7,re[4]),me=U(me,W,X,de,u,12,re[5]),de=U(de,me,W,X,dt,17,re[6]),X=U(X,de,me,W,we,22,re[7]),W=U(W,X,de,me,mt,7,re[8]),me=U(me,W,X,de,Gt,12,re[9]),de=U(de,me,W,X,Le,17,re[10]),X=U(X,de,me,W,H,22,re[11]),W=U(W,X,de,me,g,7,re[12]),me=U(me,W,X,de,F,12,re[13]),de=U(de,me,W,X,b,17,re[14]),W=y(W,X=U(X,de,me,W,Z,22,re[15]),de,me,Ke,5,re[16]),me=y(me,W,X,de,dt,9,re[17]),de=y(de,me,W,X,H,14,re[18]),X=y(X,de,me,W,Ze,20,re[19]),W=y(W,X,de,me,u,5,re[20]),me=y(me,W,X,de,Le,9,re[21]),de=y(de,me,W,X,Z,14,re[22]),X=y(X,de,me,W,tt,20,re[23]),W=y(W,X,de,me,Gt,5,re[24]),me=y(me,W,X,de,b,9,re[25]),de=y(de,me,W,X,et,14,re[26]),X=y(X,de,me,W,mt,20,re[27]),W=y(W,X,de,me,F,5,re[28]),me=y(me,W,X,de,De,9,re[29]),de=y(de,me,W,X,we,14,re[30]),W=O(W,X=y(X,de,me,W,g,20,re[31]),de,me,u,4,re[32]),me=O(me,W,X,de,mt,11,re[33]),de=O(de,me,W,X,H,16,re[34]),X=O(X,de,me,W,b,23,re[35]),W=O(W,X,de,me,Ke,4,re[36]),me=O(me,W,X,de,tt,11,re[37]),de=O(de,me,W,X,we,16,re[38]),X=O(X,de,me,W,Le,23,re[39]),W=O(W,X,de,me,F,4,re[40]),me=O(me,W,X,de,Ze,11,re[41]),de=O(de,me,W,X,et,16,re[42]),X=O(X,de,me,W,dt,23,re[43]),W=O(W,X,de,me,Gt,4,re[44]),me=O(me,W,X,de,g,11,re[45]),de=O(de,me,W,X,Z,16,re[46]),W=$(W,X=O(X,de,me,W,De,23,re[47]),de,me,Ze,6,re[48]),me=$(me,W,X,de,we,10,re[49]),de=$(de,me,W,X,b,15,re[50]),X=$(X,de,me,W,u,21,re[51]),W=$(W,X,de,me,g,6,re[52]),me=$(me,W,X,de,et,10,re[53]),de=$(de,me,W,X,Le,15,re[54]),X=$(X,de,me,W,Ke,21,re[55]),W=$(W,X,de,me,mt,6,re[56]),me=$(me,W,X,de,Z,10,re[57]),de=$(de,me,W,X,dt,15,re[58]),X=$(X,de,me,W,F,21,re[59]),W=$(W,X,de,me,tt,6,re[60]),me=$(me,W,X,de,H,10,re[61]),de=$(de,me,W,X,De,15,re[62]),X=$(X,de,me,W,Gt,21,re[63]),ke[0]=ke[0]+W|0,ke[1]=ke[1]+X|0,ke[2]=ke[2]+de|0,ke[3]=ke[3]+me|0},_doFinalize:function(){var Q=this._data,oe=Q.words,Ce=8*this._nDataBytes,xe=8*Q.sigBytes;oe[xe>>>5]|=128<<24-xe%32;var be=C.floor(Ce/4294967296),ke=Ce;oe[15+(xe+64>>>9<<4)]=16711935&(be<<8|be>>>24)|4278255360&(be<<24|be>>>8),oe[14+(xe+64>>>9<<4)]=16711935&(ke<<8|ke>>>24)|4278255360&(ke<<24|ke>>>8),Q.sigBytes=4*(oe.length+1),this._process();for(var Ze=this._hash,Ke=Ze.words,De=0;De<4;De++){var et=Ke[De];Ke[De]=16711935&(et<<8|et>>>24)|4278255360&(et<<24|et>>>8)}return Ze},clone:function(){var Q=ue.clone.call(this);return Q._hash=this._hash.clone(),Q}});function U(Q,oe,Ce,xe,be,ke,Ze){var Ke=Q+(oe&Ce|~oe&xe)+be+Ze;return(Ke<<ke|Ke>>>32-ke)+oe}function y(Q,oe,Ce,xe,be,ke,Ze){var Ke=Q+(oe&xe|Ce&~xe)+be+Ze;return(Ke<<ke|Ke>>>32-ke)+oe}function O(Q,oe,Ce,xe,be,ke,Ze){var Ke=Q+(oe^Ce^xe)+be+Ze;return(Ke<<ke|Ke>>>32-ke)+oe}function $(Q,oe,Ce,xe,be,ke,Ze){var Ke=Q+(Ce^(oe|~xe))+be+Ze;return(Ke<<ke|Ke>>>32-ke)+oe}V.MD5=ue._createHelper(le),V.HmacMD5=ue._createHmacHelper(le)}(Math),h.MD5)},4424:function(cn,Ve,G){var h;cn.exports=(h=G(7585),G(3057),h.mode.CFB=function(){var C=h.lib.BlockCipherMode.extend();function V(ee,pe,ue,ve){var re,le=this._iv;le?(re=le.slice(0),this._iv=void 0):re=this._prevBlock,ve.encryptBlock(re,0);for(var U=0;U<ue;U++)ee[pe+U]^=re[U]}return C.Encryptor=C.extend({processBlock:function(ee,pe){var ue=this._cipher,ve=ue.blockSize;V.call(this,ee,pe,ve,ue),this._prevBlock=ee.slice(pe,pe+ve)}}),C.Decryptor=C.extend({processBlock:function(ee,pe){var ue=this._cipher,ve=ue.blockSize,re=ee.slice(pe,pe+ve);V.call(this,ee,pe,ve,ue),this._prevBlock=re}}),C}(),h.mode.CFB)},3592:function(cn,Ve,G){var h;cn.exports=(h=G(7585),G(3057),h.mode.CTRGladman=function(){var C=h.lib.BlockCipherMode.extend();function V(ue){if(255==(ue>>24&255)){var ve=ue>>16&255,re=ue>>8&255,le=255&ue;255===ve?(ve=0,255===re?(re=0,255===le?le=0:++le):++re):++ve,ue=0,ue+=ve<<16,ue+=re<<8,ue+=le}else ue+=1<<24;return ue}var pe=C.Encryptor=C.extend({processBlock:function(ue,ve){var re=this._cipher,le=re.blockSize,U=this._iv,y=this._counter;U&&(y=this._counter=U.slice(0),this._iv=void 0),function ee(ue){return 0===(ue[0]=V(ue[0]))&&(ue[1]=V(ue[1])),ue}(y);var O=y.slice(0);re.encryptBlock(O,0);for(var $=0;$<le;$++)ue[ve+$]^=O[$]}});return C.Decryptor=pe,C}(),h.mode.CTRGladman)},6635:function(cn,Ve,G){var C,V,h;cn.exports=(h=G(7585),G(3057),h.mode.CTR=(V=(C=h.lib.BlockCipherMode.extend()).Encryptor=C.extend({processBlock:function(ee,pe){var ue=this._cipher,ve=ue.blockSize,re=this._iv,le=this._counter;re&&(le=this._counter=re.slice(0),this._iv=void 0);var U=le.slice(0);ue.encryptBlock(U,0),le[ve-1]=le[ve-1]+1|0;for(var y=0;y<ve;y++)ee[pe+y]^=U[y]}}),C.Decryptor=V,C),h.mode.CTR)},7934:function(cn,Ve,G){var C,h;cn.exports=(h=G(7585),G(3057),h.mode.ECB=((C=h.lib.BlockCipherMode.extend()).Encryptor=C.extend({processBlock:function(V,ee){this._cipher.encryptBlock(V,ee)}}),C.Decryptor=C.extend({processBlock:function(V,ee){this._cipher.decryptBlock(V,ee)}}),C),h.mode.ECB)},9354:function(cn,Ve,G){var C,V,h;cn.exports=(h=G(7585),G(3057),h.mode.OFB=(V=(C=h.lib.BlockCipherMode.extend()).Encryptor=C.extend({processBlock:function(ee,pe){var ue=this._cipher,ve=ue.blockSize,re=this._iv,le=this._keystream;re&&(le=this._keystream=re.slice(0),this._iv=void 0),ue.encryptBlock(le,0);for(var U=0;U<ve;U++)ee[pe+U]^=le[U]}}),C.Decryptor=V,C),h.mode.OFB)},4413:function(cn,Ve,G){var h;cn.exports=(h=G(7585),G(3057),h.pad.AnsiX923={pad:function(C,V){var ee=C.sigBytes,pe=4*V,ue=pe-ee%pe,ve=ee+ue-1;C.clamp(),C.words[ve>>>2]|=ue<<24-ve%4*8,C.sigBytes+=ue},unpad:function(C){C.sigBytes-=255&C.words[C.sigBytes-1>>>2]}},h.pad.Ansix923)},4630:function(cn,Ve,G){var h;cn.exports=(h=G(7585),G(3057),h.pad.Iso10126={pad:function(C,V){var ee=4*V,pe=ee-C.sigBytes%ee;C.concat(h.lib.WordArray.random(pe-1)).concat(h.lib.WordArray.create([pe<<24],1))},unpad:function(C){C.sigBytes-=255&C.words[C.sigBytes-1>>>2]}},h.pad.Iso10126)},187:function(cn,Ve,G){var h;cn.exports=(h=G(7585),G(3057),h.pad.Iso97971={pad:function(C,V){C.concat(h.lib.WordArray.create([2147483648],1)),h.pad.ZeroPadding.pad(C,V)},unpad:function(C){h.pad.ZeroPadding.unpad(C),C.sigBytes--}},h.pad.Iso97971)},3237:function(cn,Ve,G){var h;cn.exports=(h=G(7585),G(3057),h.pad.NoPadding={pad:function(){},unpad:function(){}},h.pad.NoPadding)},1691:function(cn,Ve,G){var h;cn.exports=(h=G(7585),G(3057),h.pad.ZeroPadding={pad:function(C,V){var ee=4*V;C.clamp(),C.sigBytes+=ee-(C.sigBytes%ee||ee)},unpad:function(C){var V=C.words,ee=C.sigBytes-1;for(ee=C.sigBytes-1;ee>=0;ee--)if(V[ee>>>2]>>>24-ee%4*8&255){C.sigBytes=ee+1;break}}},h.pad.ZeroPadding)},8812:function(cn,Ve,G){var C,V,ee,pe,ue,re,le,h;cn.exports=(h=G(7585),G(5162),G(3764),pe=(V=(C=h).lib).WordArray,re=(ue=C.algo).HMAC,le=ue.PBKDF2=(ee=V.Base).extend({cfg:ee.extend({keySize:4,hasher:ue.SHA1,iterations:1}),init:function(U){this.cfg=this.cfg.extend(U)},compute:function(U,y){for(var O=this.cfg,$=re.create(O.hasher,U),Q=pe.create(),oe=pe.create([1]),Ce=Q.words,xe=oe.words,be=O.keySize,ke=O.iterations;Ce.length<be;){var Ze=$.update(y).finalize(oe);$.reset();for(var Ke=Ze.words,De=Ke.length,et=Ze,tt=1;tt<ke;tt++){et=$.finalize(et),$.reset();for(var u=et.words,dt=0;dt<De;dt++)Ke[dt]^=u[dt]}Q.concat(Ze),xe[0]++}return Q.sigBytes=4*be,Q}}),C.PBKDF2=function(U,y,O){return le.create(O).compute(U,y)},h.PBKDF2)},3544:function(cn,Ve,G){var h;cn.exports=(h=G(7585),G(8319),G(9493),G(7865),G(3057),function(){var C=h,ee=C.lib.StreamCipher,ue=[],ve=[],re=[],le=C.algo.RabbitLegacy=ee.extend({_doReset:function(){var y=this._key.words,O=this.cfg.iv,$=this._X=[y[0],y[3]<<16|y[2]>>>16,y[1],y[0]<<16|y[3]>>>16,y[2],y[1]<<16|y[0]>>>16,y[3],y[2]<<16|y[1]>>>16],Q=this._C=[y[2]<<16|y[2]>>>16,4294901760&y[0]|65535&y[1],y[3]<<16|y[3]>>>16,4294901760&y[1]|65535&y[2],y[0]<<16|y[0]>>>16,4294901760&y[2]|65535&y[3],y[1]<<16|y[1]>>>16,4294901760&y[3]|65535&y[0]];this._b=0;for(var oe=0;oe<4;oe++)U.call(this);for(oe=0;oe<8;oe++)Q[oe]^=$[oe+4&7];if(O){var Ce=O.words,xe=Ce[0],be=Ce[1],ke=16711935&(xe<<8|xe>>>24)|4278255360&(xe<<24|xe>>>8),Ze=16711935&(be<<8|be>>>24)|4278255360&(be<<24|be>>>8),Ke=ke>>>16|4294901760&Ze,De=Ze<<16|65535&ke;for(Q[0]^=ke,Q[1]^=Ke,Q[2]^=Ze,Q[3]^=De,Q[4]^=ke,Q[5]^=Ke,Q[6]^=Ze,Q[7]^=De,oe=0;oe<4;oe++)U.call(this)}},_doProcessBlock:function(y,O){var $=this._X;U.call(this),ue[0]=$[0]^$[5]>>>16^$[3]<<16,ue[1]=$[2]^$[7]>>>16^$[5]<<16,ue[2]=$[4]^$[1]>>>16^$[7]<<16,ue[3]=$[6]^$[3]>>>16^$[1]<<16;for(var Q=0;Q<4;Q++)ue[Q]=16711935&(ue[Q]<<8|ue[Q]>>>24)|4278255360&(ue[Q]<<24|ue[Q]>>>8),y[O+Q]^=ue[Q]},blockSize:4,ivSize:2});function U(){for(var y=this._X,O=this._C,$=0;$<8;$++)ve[$]=O[$];for(O[0]=O[0]+1295307597+this._b|0,O[1]=O[1]+3545052371+(O[0]>>>0<ve[0]>>>0?1:0)|0,O[2]=O[2]+886263092+(O[1]>>>0<ve[1]>>>0?1:0)|0,O[3]=O[3]+1295307597+(O[2]>>>0<ve[2]>>>0?1:0)|0,O[4]=O[4]+3545052371+(O[3]>>>0<ve[3]>>>0?1:0)|0,O[5]=O[5]+886263092+(O[4]>>>0<ve[4]>>>0?1:0)|0,O[6]=O[6]+1295307597+(O[5]>>>0<ve[5]>>>0?1:0)|0,O[7]=O[7]+3545052371+(O[6]>>>0<ve[6]>>>0?1:0)|0,this._b=O[7]>>>0<ve[7]>>>0?1:0,$=0;$<8;$++){var Q=y[$]+O[$],oe=65535&Q,Ce=Q>>>16;re[$]=((oe*oe>>>17)+oe*Ce>>>15)+Ce*Ce^((4294901760&Q)*Q|0)+((65535&Q)*Q|0)}y[0]=re[0]+(re[7]<<16|re[7]>>>16)+(re[6]<<16|re[6]>>>16)|0,y[1]=re[1]+(re[0]<<8|re[0]>>>24)+re[7]|0,y[2]=re[2]+(re[1]<<16|re[1]>>>16)+(re[0]<<16|re[0]>>>16)|0,y[3]=re[3]+(re[2]<<8|re[2]>>>24)+re[1]|0,y[4]=re[4]+(re[3]<<16|re[3]>>>16)+(re[2]<<16|re[2]>>>16)|0,y[5]=re[5]+(re[4]<<8|re[4]>>>24)+re[3]|0,y[6]=re[6]+(re[5]<<16|re[5]>>>16)+(re[4]<<16|re[4]>>>16)|0,y[7]=re[7]+(re[6]<<8|re[6]>>>24)+re[5]|0}C.RabbitLegacy=ee._createHelper(le)}(),h.RabbitLegacy)},8182:function(cn,Ve,G){var h;cn.exports=(h=G(7585),G(8319),G(9493),G(7865),G(3057),function(){var C=h,ee=C.lib.StreamCipher,ue=[],ve=[],re=[],le=C.algo.Rabbit=ee.extend({_doReset:function(){for(var y=this._key.words,O=this.cfg.iv,$=0;$<4;$++)y[$]=16711935&(y[$]<<8|y[$]>>>24)|4278255360&(y[$]<<24|y[$]>>>8);var Q=this._X=[y[0],y[3]<<16|y[2]>>>16,y[1],y[0]<<16|y[3]>>>16,y[2],y[1]<<16|y[0]>>>16,y[3],y[2]<<16|y[1]>>>16],oe=this._C=[y[2]<<16|y[2]>>>16,4294901760&y[0]|65535&y[1],y[3]<<16|y[3]>>>16,4294901760&y[1]|65535&y[2],y[0]<<16|y[0]>>>16,4294901760&y[2]|65535&y[3],y[1]<<16|y[1]>>>16,4294901760&y[3]|65535&y[0]];for(this._b=0,$=0;$<4;$++)U.call(this);for($=0;$<8;$++)oe[$]^=Q[$+4&7];if(O){var Ce=O.words,xe=Ce[0],be=Ce[1],ke=16711935&(xe<<8|xe>>>24)|4278255360&(xe<<24|xe>>>8),Ze=16711935&(be<<8|be>>>24)|4278255360&(be<<24|be>>>8),Ke=ke>>>16|4294901760&Ze,De=Ze<<16|65535&ke;for(oe[0]^=ke,oe[1]^=Ke,oe[2]^=Ze,oe[3]^=De,oe[4]^=ke,oe[5]^=Ke,oe[6]^=Ze,oe[7]^=De,$=0;$<4;$++)U.call(this)}},_doProcessBlock:function(y,O){var $=this._X;U.call(this),ue[0]=$[0]^$[5]>>>16^$[3]<<16,ue[1]=$[2]^$[7]>>>16^$[5]<<16,ue[2]=$[4]^$[1]>>>16^$[7]<<16,ue[3]=$[6]^$[3]>>>16^$[1]<<16;for(var Q=0;Q<4;Q++)ue[Q]=16711935&(ue[Q]<<8|ue[Q]>>>24)|4278255360&(ue[Q]<<24|ue[Q]>>>8),y[O+Q]^=ue[Q]},blockSize:4,ivSize:2});function U(){for(var y=this._X,O=this._C,$=0;$<8;$++)ve[$]=O[$];for(O[0]=O[0]+1295307597+this._b|0,O[1]=O[1]+3545052371+(O[0]>>>0<ve[0]>>>0?1:0)|0,O[2]=O[2]+886263092+(O[1]>>>0<ve[1]>>>0?1:0)|0,O[3]=O[3]+1295307597+(O[2]>>>0<ve[2]>>>0?1:0)|0,O[4]=O[4]+3545052371+(O[3]>>>0<ve[3]>>>0?1:0)|0,O[5]=O[5]+886263092+(O[4]>>>0<ve[4]>>>0?1:0)|0,O[6]=O[6]+1295307597+(O[5]>>>0<ve[5]>>>0?1:0)|0,O[7]=O[7]+3545052371+(O[6]>>>0<ve[6]>>>0?1:0)|0,this._b=O[7]>>>0<ve[7]>>>0?1:0,$=0;$<8;$++){var Q=y[$]+O[$],oe=65535&Q,Ce=Q>>>16;re[$]=((oe*oe>>>17)+oe*Ce>>>15)+Ce*Ce^((4294901760&Q)*Q|0)+((65535&Q)*Q|0)}y[0]=re[0]+(re[7]<<16|re[7]>>>16)+(re[6]<<16|re[6]>>>16)|0,y[1]=re[1]+(re[0]<<8|re[0]>>>24)+re[7]|0,y[2]=re[2]+(re[1]<<16|re[1]>>>16)+(re[0]<<16|re[0]>>>16)|0,y[3]=re[3]+(re[2]<<8|re[2]>>>24)+re[1]|0,y[4]=re[4]+(re[3]<<16|re[3]>>>16)+(re[2]<<16|re[2]>>>16)|0,y[5]=re[5]+(re[4]<<8|re[4]>>>24)+re[3]|0,y[6]=re[6]+(re[5]<<16|re[5]>>>16)+(re[4]<<16|re[4]>>>16)|0,y[7]=re[7]+(re[6]<<8|re[6]>>>24)+re[5]|0}C.Rabbit=ee._createHelper(le)}(),h.Rabbit)},486:function(cn,Ve,G){var h;cn.exports=(h=G(7585),G(8319),G(9493),G(7865),G(3057),function(){var C=h,ee=C.lib.StreamCipher,pe=C.algo,ue=pe.RC4=ee.extend({_doReset:function(){for(var le=this._key,U=le.words,y=le.sigBytes,O=this._S=[],$=0;$<256;$++)O[$]=$;$=0;for(var Q=0;$<256;$++){var oe=$%y,xe=O[$];O[$]=O[Q=(Q+O[$]+(U[oe>>>2]>>>24-oe%4*8&255))%256],O[Q]=xe}this._i=this._j=0},_doProcessBlock:function(le,U){le[U]^=ve.call(this)},keySize:8,ivSize:0});function ve(){for(var le=this._S,U=this._i,y=this._j,O=0,$=0;$<4;$++){var Q=le[U=(U+1)%256];le[U]=le[y=(y+le[U])%256],le[y]=Q,O|=le[(le[U]+le[y])%256]<<24-8*$}return this._i=U,this._j=y,O}C.RC4=ee._createHelper(ue);var re=pe.RC4Drop=ue.extend({cfg:ue.cfg.extend({drop:192}),_doReset:function(){ue._doReset.call(this);for(var le=this.cfg.drop;le>0;le--)ve.call(this)}});C.RC4Drop=ee._createHelper(re)}(),h.RC4)},4973:function(cn,Ve,G){var h;cn.exports=(h=G(7585),function(C){var V=h,ee=V.lib,pe=ee.WordArray,ue=ee.Hasher,ve=V.algo,re=pe.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),le=pe.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),U=pe.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),y=pe.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),O=pe.create([0,1518500249,1859775393,2400959708,2840853838]),$=pe.create([1352829926,1548603684,1836072691,2053994217,0]),Q=ve.RIPEMD160=ue.extend({_doReset:function(){this._hash=pe.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(Ke,De){for(var et=0;et<16;et++){var tt=De+et,u=Ke[tt];Ke[tt]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8)}var F,b,Z,W,X,de,me,ft,pt,Et,jt,dt=this._hash.words,we=O.words,mt=$.words,Gt=re.words,Le=le.words,H=U.words,g=y.words;for(de=F=dt[0],me=b=dt[1],ft=Z=dt[2],pt=W=dt[3],Et=X=dt[4],et=0;et<80;et+=1)jt=F+Ke[De+Gt[et]]|0,jt+=et<16?oe(b,Z,W)+we[0]:et<32?Ce(b,Z,W)+we[1]:et<48?xe(b,Z,W)+we[2]:et<64?be(b,Z,W)+we[3]:ke(b,Z,W)+we[4],jt=(jt=Ze(jt|=0,H[et]))+X|0,F=X,X=W,W=Ze(Z,10),Z=b,b=jt,jt=de+Ke[De+Le[et]]|0,jt+=et<16?ke(me,ft,pt)+mt[0]:et<32?be(me,ft,pt)+mt[1]:et<48?xe(me,ft,pt)+mt[2]:et<64?Ce(me,ft,pt)+mt[3]:oe(me,ft,pt)+mt[4],jt=(jt=Ze(jt|=0,g[et]))+Et|0,de=Et,Et=pt,pt=Ze(ft,10),ft=me,me=jt;jt=dt[1]+Z+pt|0,dt[1]=dt[2]+W+Et|0,dt[2]=dt[3]+X+de|0,dt[3]=dt[4]+F+me|0,dt[4]=dt[0]+b+ft|0,dt[0]=jt},_doFinalize:function(){var Ke=this._data,De=Ke.words,et=8*this._nDataBytes,tt=8*Ke.sigBytes;De[tt>>>5]|=128<<24-tt%32,De[14+(tt+64>>>9<<4)]=16711935&(et<<8|et>>>24)|4278255360&(et<<24|et>>>8),Ke.sigBytes=4*(De.length+1),this._process();for(var u=this._hash,dt=u.words,we=0;we<5;we++){var mt=dt[we];dt[we]=16711935&(mt<<8|mt>>>24)|4278255360&(mt<<24|mt>>>8)}return u},clone:function(){var Ke=ue.clone.call(this);return Ke._hash=this._hash.clone(),Ke}});function oe(Ke,De,et){return Ke^De^et}function Ce(Ke,De,et){return Ke&De|~Ke&et}function xe(Ke,De,et){return(Ke|~De)^et}function be(Ke,De,et){return Ke&et|De&~et}function ke(Ke,De,et){return Ke^(De|~et)}function Ze(Ke,De){return Ke<<De|Ke>>>32-De}V.RIPEMD160=ue._createHelper(Q),V.HmacRIPEMD160=ue._createHmacHelper(Q)}(Math),h.RIPEMD160)},5162:function(cn,Ve,G){var C,V,ee,pe,ve,re,h;cn.exports=(h=G(7585),ee=(V=(C=h).lib).WordArray,ve=[],re=C.algo.SHA1=(pe=V.Hasher).extend({_doReset:function(){this._hash=new ee.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(le,U){for(var y=this._hash.words,O=y[0],$=y[1],Q=y[2],oe=y[3],Ce=y[4],xe=0;xe<80;xe++){if(xe<16)ve[xe]=0|le[U+xe];else{var be=ve[xe-3]^ve[xe-8]^ve[xe-14]^ve[xe-16];ve[xe]=be<<1|be>>>31}var ke=(O<<5|O>>>27)+Ce+ve[xe];ke+=xe<20?1518500249+($&Q|~$&oe):xe<40?1859775393+($^Q^oe):xe<60?($&Q|$&oe|Q&oe)-1894007588:($^Q^oe)-899497514,Ce=oe,oe=Q,Q=$<<30|$>>>2,$=O,O=ke}y[0]=y[0]+O|0,y[1]=y[1]+$|0,y[2]=y[2]+Q|0,y[3]=y[3]+oe|0,y[4]=y[4]+Ce|0},_doFinalize:function(){var le=this._data,U=le.words,y=8*this._nDataBytes,O=8*le.sigBytes;return U[O>>>5]|=128<<24-O%32,U[14+(O+64>>>9<<4)]=Math.floor(y/4294967296),U[15+(O+64>>>9<<4)]=y,le.sigBytes=4*U.length,this._process(),this._hash},clone:function(){var le=pe.clone.call(this);return le._hash=this._hash.clone(),le}}),C.SHA1=pe._createHelper(re),C.HmacSHA1=pe._createHmacHelper(re),h.SHA1)},8769:function(cn,Ve,G){var C,ee,pe,ue,ve,h;cn.exports=(h=G(7585),G(1817),ee=(C=h).lib.WordArray,ve=(pe=C.algo).SHA224=(ue=pe.SHA256).extend({_doReset:function(){this._hash=new ee.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var re=ue._doFinalize.call(this);return re.sigBytes-=4,re}}),C.SHA224=ue._createHelper(ve),C.HmacSHA224=ue._createHmacHelper(ve),h.SHA224)},1817:function(cn,Ve,G){var h;cn.exports=(h=G(7585),function(C){var V=h,ee=V.lib,pe=ee.WordArray,ue=ee.Hasher,ve=V.algo,re=[],le=[];!function(){function O(Ce){for(var xe=C.sqrt(Ce),be=2;be<=xe;be++)if(!(Ce%be))return!1;return!0}function $(Ce){return 4294967296*(Ce-(0|Ce))|0}for(var Q=2,oe=0;oe<64;)O(Q)&&(oe<8&&(re[oe]=$(C.pow(Q,.5))),le[oe]=$(C.pow(Q,1/3)),oe++),Q++}();var U=[],y=ve.SHA256=ue.extend({_doReset:function(){this._hash=new pe.init(re.slice(0))},_doProcessBlock:function(O,$){for(var Q=this._hash.words,oe=Q[0],Ce=Q[1],xe=Q[2],be=Q[3],ke=Q[4],Ze=Q[5],Ke=Q[6],De=Q[7],et=0;et<64;et++){if(et<16)U[et]=0|O[$+et];else{var tt=U[et-15],dt=U[et-2];U[et]=((tt<<25|tt>>>7)^(tt<<14|tt>>>18)^tt>>>3)+U[et-7]+((dt<<15|dt>>>17)^(dt<<13|dt>>>19)^dt>>>10)+U[et-16]}var Gt=oe&Ce^oe&xe^Ce&xe,g=De+((ke<<26|ke>>>6)^(ke<<21|ke>>>11)^(ke<<7|ke>>>25))+(ke&Ze^~ke&Ke)+le[et]+U[et];De=Ke,Ke=Ze,Ze=ke,ke=be+g|0,be=xe,xe=Ce,Ce=oe,oe=g+(((oe<<30|oe>>>2)^(oe<<19|oe>>>13)^(oe<<10|oe>>>22))+Gt)|0}Q[0]=Q[0]+oe|0,Q[1]=Q[1]+Ce|0,Q[2]=Q[2]+xe|0,Q[3]=Q[3]+be|0,Q[4]=Q[4]+ke|0,Q[5]=Q[5]+Ze|0,Q[6]=Q[6]+Ke|0,Q[7]=Q[7]+De|0},_doFinalize:function(){var O=this._data,$=O.words,Q=8*this._nDataBytes,oe=8*O.sigBytes;return $[oe>>>5]|=128<<24-oe%32,$[14+(oe+64>>>9<<4)]=C.floor(Q/4294967296),$[15+(oe+64>>>9<<4)]=Q,O.sigBytes=4*$.length,this._process(),this._hash},clone:function(){var O=ue.clone.call(this);return O._hash=this._hash.clone(),O}});V.SHA256=ue._createHelper(y),V.HmacSHA256=ue._createHmacHelper(y)}(Math),h.SHA256)},1971:function(cn,Ve,G){var h;cn.exports=(h=G(7585),G(401),function(C){var V=h,ee=V.lib,pe=ee.WordArray,ue=ee.Hasher,re=V.x64.Word,le=V.algo,U=[],y=[],O=[];!function(){for(var oe=1,Ce=0,xe=0;xe<24;xe++){U[oe+5*Ce]=(xe+1)*(xe+2)/2%64;var ke=(2*oe+3*Ce)%5;oe=Ce%5,Ce=ke}for(oe=0;oe<5;oe++)for(Ce=0;Ce<5;Ce++)y[oe+5*Ce]=Ce+(2*oe+3*Ce)%5*5;for(var Ze=1,Ke=0;Ke<24;Ke++){for(var De=0,et=0,tt=0;tt<7;tt++){if(1&Ze){var u=(1<<tt)-1;u<32?et^=1<<u:De^=1<<u-32}128&Ze?Ze=Ze<<1^113:Ze<<=1}O[Ke]=re.create(De,et)}}();var $=[];!function(){for(var oe=0;oe<25;oe++)$[oe]=re.create()}();var Q=le.SHA3=ue.extend({cfg:ue.cfg.extend({outputLength:512}),_doReset:function(){for(var oe=this._state=[],Ce=0;Ce<25;Ce++)oe[Ce]=new re.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(oe,Ce){for(var xe=this._state,be=this.blockSize/2,ke=0;ke<be;ke++){var Ze=oe[Ce+2*ke],Ke=oe[Ce+2*ke+1];Ze=16711935&(Ze<<8|Ze>>>24)|4278255360&(Ze<<24|Ze>>>8),(De=xe[ke]).high^=Ke=16711935&(Ke<<8|Ke>>>24)|4278255360&(Ke<<24|Ke>>>8),De.low^=Ze}for(var et=0;et<24;et++){for(var tt=0;tt<5;tt++){for(var u=0,dt=0,we=0;we<5;we++)u^=(De=xe[tt+5*we]).high,dt^=De.low;var mt=$[tt];mt.high=u,mt.low=dt}for(tt=0;tt<5;tt++){var Gt=$[(tt+4)%5],Le=$[(tt+1)%5],H=Le.high,g=Le.low;for(u=Gt.high^(H<<1|g>>>31),dt=Gt.low^(g<<1|H>>>31),we=0;we<5;we++)(De=xe[tt+5*we]).high^=u,De.low^=dt}for(var F=1;F<25;F++){var b=(De=xe[F]).high,Z=De.low,W=U[F];W<32?(u=b<<W|Z>>>32-W,dt=Z<<W|b>>>32-W):(u=Z<<W-32|b>>>64-W,dt=b<<W-32|Z>>>64-W);var X=$[y[F]];X.high=u,X.low=dt}var de=$[0],me=xe[0];for(de.high=me.high,de.low=me.low,tt=0;tt<5;tt++)for(we=0;we<5;we++){var ft=$[F=tt+5*we],pt=$[(tt+1)%5+5*we],Et=$[(tt+2)%5+5*we];(De=xe[F]).high=ft.high^~pt.high&Et.high,De.low=ft.low^~pt.low&Et.low}var De,jt=O[et];(De=xe[0]).high^=jt.high,De.low^=jt.low}},_doFinalize:function(){var oe=this._data,Ce=oe.words,be=8*oe.sigBytes,ke=32*this.blockSize;Ce[be>>>5]|=1<<24-be%32,Ce[(C.ceil((be+1)/ke)*ke>>>5)-1]|=128,oe.sigBytes=4*Ce.length,this._process();for(var Ze=this._state,Ke=this.cfg.outputLength/8,De=Ke/8,et=[],tt=0;tt<De;tt++){var u=Ze[tt],dt=u.high,we=u.low;dt=16711935&(dt<<8|dt>>>24)|4278255360&(dt<<24|dt>>>8),et.push(we=16711935&(we<<8|we>>>24)|4278255360&(we<<24|we>>>8)),et.push(dt)}return new pe.init(et,Ke)},clone:function(){for(var oe=ue.clone.call(this),Ce=oe._state=this._state.slice(0),xe=0;xe<25;xe++)Ce[xe]=Ce[xe].clone();return oe}});V.SHA3=ue._createHelper(Q),V.HmacSHA3=ue._createHmacHelper(Q)}(Math),h.SHA3)},6787:function(cn,Ve,G){var C,V,ee,pe,ue,ve,re,h;cn.exports=(h=G(7585),G(401),G(3351),ee=(V=(C=h).x64).Word,pe=V.WordArray,re=(ue=C.algo).SHA384=(ve=ue.SHA512).extend({_doReset:function(){this._hash=new pe.init([new ee.init(3418070365,3238371032),new ee.init(1654270250,914150663),new ee.init(2438529370,812702999),new ee.init(355462360,4144912697),new ee.init(1731405415,4290775857),new ee.init(2394180231,1750603025),new ee.init(3675008525,1694076839),new ee.init(1203062813,3204075428)])},_doFinalize:function(){var le=ve._doFinalize.call(this);return le.sigBytes-=16,le}}),C.SHA384=ve._createHelper(re),C.HmacSHA384=ve._createHmacHelper(re),h.SHA384)},3351:function(cn,Ve,G){var h;cn.exports=(h=G(7585),G(401),function(){var C=h,ee=C.lib.Hasher,pe=C.x64,ue=pe.Word,ve=pe.WordArray,re=C.algo;function le(){return ue.create.apply(ue,arguments)}var U=[le(1116352408,3609767458),le(1899447441,602891725),le(3049323471,3964484399),le(3921009573,2173295548),le(961987163,4081628472),le(1508970993,3053834265),le(2453635748,2937671579),le(2870763221,3664609560),le(3624381080,2734883394),le(310598401,1164996542),le(607225278,1323610764),le(1426881987,3590304994),le(1925078388,4068182383),le(2162078206,991336113),le(2614888103,633803317),le(3248222580,3479774868),le(3835390401,2666613458),le(4022224774,944711139),le(264347078,2341262773),le(604807628,2007800933),le(770255983,1495990901),le(1249150122,1856431235),le(1555081692,3175218132),le(1996064986,2198950837),le(2554220882,3999719339),le(2821834349,766784016),le(2952996808,2566594879),le(3210313671,3203337956),le(3336571891,1034457026),le(3584528711,2466948901),le(113926993,3758326383),le(338241895,168717936),le(666307205,1188179964),le(773529912,1546045734),le(1294757372,1522805485),le(1396182291,2643833823),le(1695183700,2343527390),le(1986661051,1014477480),le(2177026350,1206759142),le(2456956037,344077627),le(2730485921,1290863460),le(2820302411,3158454273),le(3259730800,3505952657),le(3345764771,106217008),le(3516065817,3606008344),le(3600352804,1432725776),le(4094571909,1467031594),le(275423344,851169720),le(430227734,3100823752),le(506948616,1363258195),le(659060556,3750685593),le(883997877,3785050280),le(958139571,3318307427),le(1322822218,3812723403),le(1537002063,2003034995),le(1747873779,3602036899),le(1955562222,1575990012),le(2024104815,1125592928),le(2227730452,2716904306),le(2361852424,442776044),le(2428436474,593698344),le(2756734187,3733110249),le(3204031479,2999351573),le(3329325298,3815920427),le(3391569614,3928383900),le(3515267271,566280711),le(3940187606,3454069534),le(4118630271,4000239992),le(116418474,1914138554),le(174292421,2731055270),le(289380356,3203993006),le(460393269,320620315),le(685471733,587496836),le(852142971,1086792851),le(1017036298,365543100),le(1126000580,2618297676),le(1288033470,3409855158),le(1501505948,4234509866),le(1607167915,987167468),le(1816402316,1246189591)],y=[];!function(){for(var $=0;$<80;$++)y[$]=le()}();var O=re.SHA512=ee.extend({_doReset:function(){this._hash=new ve.init([new ue.init(1779033703,4089235720),new ue.init(3144134277,2227873595),new ue.init(1013904242,4271175723),new ue.init(2773480762,1595750129),new ue.init(1359893119,2917565137),new ue.init(2600822924,725511199),new ue.init(528734635,4215389547),new ue.init(1541459225,327033209)])},_doProcessBlock:function($,Q){for(var oe=this._hash.words,Ce=oe[0],xe=oe[1],be=oe[2],ke=oe[3],Ze=oe[4],Ke=oe[5],De=oe[6],et=oe[7],tt=Ce.high,u=Ce.low,dt=xe.high,we=xe.low,mt=be.high,Gt=be.low,Le=ke.high,H=ke.low,g=Ze.high,F=Ze.low,b=Ke.high,Z=Ke.low,W=De.high,X=De.low,de=et.high,me=et.low,ft=tt,pt=u,Et=dt,jt=we,xn=mt,En=Gt,In=Le,Te=H,$t=g,Lt=F,rt=b,_t=Z,Ut=W,fn=X,un=de,Ft=me,Pn=0;Pn<80;Pn++){var yn,Dn,On=y[Pn];if(Pn<16)Dn=On.high=0|$[Q+2*Pn],yn=On.low=0|$[Q+2*Pn+1];else{var Ti=y[Pn-15],It=Ti.high,Ue=Ti.low,Ge=(Ue>>>1|It<<31)^(Ue>>>8|It<<24)^(Ue>>>7|It<<25),Pt=y[Pn-2],Yt=Pt.high,ut=Pt.low,Kn=(ut>>>19|Yt<<13)^(ut<<3|Yt>>>29)^(ut>>>6|Yt<<26),Fn=y[Pn-7],Ei=y[Pn-16],Fi=Ei.low;On.high=Dn=(Dn=(Dn=((It>>>1|Ue<<31)^(It>>>8|Ue<<24)^It>>>7)+Fn.high+((yn=Ge+Fn.low)>>>0<Ge>>>0?1:0))+((Yt>>>19|ut<<13)^(Yt<<3|ut>>>29)^Yt>>>6)+((yn+=Kn)>>>0<Kn>>>0?1:0))+Ei.high+((yn+=Fi)>>>0<Fi>>>0?1:0),On.low=yn}var ei,Xr=$t&rt^~$t&Ut,pn=Lt&_t^~Lt&fn,nt=ft&Et^ft&xn^Et&xn,ln=(pt>>>28|ft<<4)^(pt<<30|ft>>>2)^(pt<<25|ft>>>7),Wi=U[Pn],bi=Wi.low,si=un+(($t>>>14|Lt<<18)^($t>>>18|Lt<<14)^($t<<23|Lt>>>9))+((ei=Ft+((Lt>>>14|$t<<18)^(Lt>>>18|$t<<14)^(Lt<<23|$t>>>9)))>>>0<Ft>>>0?1:0),qt=ln+(pt&jt^pt&En^jt&En);un=Ut,Ft=fn,Ut=rt,fn=_t,rt=$t,_t=Lt,$t=In+(si=(si=(si=si+Xr+((ei+=pn)>>>0<pn>>>0?1:0))+Wi.high+((ei+=bi)>>>0<bi>>>0?1:0))+Dn+((ei+=yn)>>>0<yn>>>0?1:0))+((Lt=Te+ei|0)>>>0<Te>>>0?1:0)|0,In=xn,Te=En,xn=Et,En=jt,Et=ft,jt=pt,ft=si+(((ft>>>28|pt<<4)^(ft<<30|pt>>>2)^(ft<<25|pt>>>7))+nt+(qt>>>0<ln>>>0?1:0))+((pt=ei+qt|0)>>>0<ei>>>0?1:0)|0}u=Ce.low=u+pt,Ce.high=tt+ft+(u>>>0<pt>>>0?1:0),we=xe.low=we+jt,xe.high=dt+Et+(we>>>0<jt>>>0?1:0),Gt=be.low=Gt+En,be.high=mt+xn+(Gt>>>0<En>>>0?1:0),H=ke.low=H+Te,ke.high=Le+In+(H>>>0<Te>>>0?1:0),F=Ze.low=F+Lt,Ze.high=g+$t+(F>>>0<Lt>>>0?1:0),Z=Ke.low=Z+_t,Ke.high=b+rt+(Z>>>0<_t>>>0?1:0),X=De.low=X+fn,De.high=W+Ut+(X>>>0<fn>>>0?1:0),me=et.low=me+Ft,et.high=de+un+(me>>>0<Ft>>>0?1:0)},_doFinalize:function(){var $=this._data,Q=$.words,oe=8*this._nDataBytes,Ce=8*$.sigBytes;return Q[Ce>>>5]|=128<<24-Ce%32,Q[30+(Ce+128>>>10<<5)]=Math.floor(oe/4294967296),Q[31+(Ce+128>>>10<<5)]=oe,$.sigBytes=4*Q.length,this._process(),this._hash.toX32()},clone:function(){var $=ee.clone.call(this);return $._hash=this._hash.clone(),$},blockSize:32});C.SHA512=ee._createHelper(O),C.HmacSHA512=ee._createHmacHelper(O)}(),h.SHA512)},7243:function(cn,Ve,G){var h;cn.exports=(h=G(7585),G(8319),G(9493),G(7865),G(3057),function(){var C=h,V=C.lib,ee=V.WordArray,pe=V.BlockCipher,ue=C.algo,ve=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],re=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],le=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],U=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],y=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],O=ue.DES=pe.extend({_doReset:function(){for(var xe=this._key.words,be=[],ke=0;ke<56;ke++){var Ze=ve[ke]-1;be[ke]=xe[Ze>>>5]>>>31-Ze%32&1}for(var Ke=this._subKeys=[],De=0;De<16;De++){var et=Ke[De]=[],tt=le[De];for(ke=0;ke<24;ke++)et[ke/6|0]|=be[(re[ke]-1+tt)%28]<<31-ke%6,et[4+(ke/6|0)]|=be[28+(re[ke+24]-1+tt)%28]<<31-ke%6;for(et[0]=et[0]<<1|et[0]>>>31,ke=1;ke<7;ke++)et[ke]=et[ke]>>>4*(ke-1)+3;et[7]=et[7]<<5|et[7]>>>27}var u=this._invSubKeys=[];for(ke=0;ke<16;ke++)u[ke]=Ke[15-ke]},encryptBlock:function(Ce,xe){this._doCryptBlock(Ce,xe,this._subKeys)},decryptBlock:function(Ce,xe){this._doCryptBlock(Ce,xe,this._invSubKeys)},_doCryptBlock:function(Ce,xe,be){this._lBlock=Ce[xe],this._rBlock=Ce[xe+1],$.call(this,4,252645135),$.call(this,16,65535),Q.call(this,2,858993459),Q.call(this,8,16711935),$.call(this,1,1431655765);for(var ke=0;ke<16;ke++){for(var Ze=be[ke],Ke=this._lBlock,De=this._rBlock,et=0,tt=0;tt<8;tt++)et|=U[tt][((De^Ze[tt])&y[tt])>>>0];this._lBlock=De,this._rBlock=Ke^et}var u=this._lBlock;this._lBlock=this._rBlock,this._rBlock=u,$.call(this,1,1431655765),Q.call(this,8,16711935),Q.call(this,2,858993459),$.call(this,16,65535),$.call(this,4,252645135),Ce[xe]=this._lBlock,Ce[xe+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function $(Ce,xe){var be=(this._lBlock>>>Ce^this._rBlock)&xe;this._rBlock^=be,this._lBlock^=be<<Ce}function Q(Ce,xe){var be=(this._rBlock>>>Ce^this._lBlock)&xe;this._lBlock^=be,this._rBlock^=be<<Ce}C.DES=pe._createHelper(O);var oe=ue.TripleDES=pe.extend({_doReset:function(){var xe=this._key.words;if(2!==xe.length&&4!==xe.length&&xe.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var be=xe.slice(0,2),ke=xe.length<4?xe.slice(0,2):xe.slice(2,4),Ze=xe.length<6?xe.slice(0,2):xe.slice(4,6);this._des1=O.createEncryptor(ee.create(be)),this._des2=O.createEncryptor(ee.create(ke)),this._des3=O.createEncryptor(ee.create(Ze))},encryptBlock:function(Ce,xe){this._des1.encryptBlock(Ce,xe),this._des2.decryptBlock(Ce,xe),this._des3.encryptBlock(Ce,xe)},decryptBlock:function(Ce,xe){this._des3.decryptBlock(Ce,xe),this._des2.encryptBlock(Ce,xe),this._des1.decryptBlock(Ce,xe)},keySize:6,ivSize:2,blockSize:2});C.TripleDES=pe._createHelper(oe)}(),h.TripleDES)},401:function(cn,Ve,G){var ee,pe,ue,ve,h;cn.exports=(h=G(7585),pe=(ee=h.lib).Base,ue=ee.WordArray,(ve=h.x64={}).Word=pe.extend({init:function(U,y){this.high=U,this.low=y}}),ve.WordArray=pe.extend({init:function(U,y){U=this.words=U||[],this.sigBytes=null!=y?y:8*U.length},toX32:function(){for(var U=this.words,y=U.length,O=[],$=0;$<y;$++){var Q=U[$];O.push(Q.high),O.push(Q.low)}return ue.create(O,this.sigBytes)},clone:function(){for(var U=pe.clone.call(this),y=U.words=this.words.slice(0),O=y.length,$=0;$<O;$++)y[$]=y[$].clone();return U}}),h)},4327:function(cn,Ve){var G,C;void 0!==(C="function"==typeof(G=function(){"use strict";function ee(le,U,y){var O=new XMLHttpRequest;O.open("GET",le),O.responseType="blob",O.onload=function(){re(O.response,U,y)},O.onerror=function(){console.error("could not download file")},O.send()}function pe(le){var U=new XMLHttpRequest;U.open("HEAD",le,!1);try{U.send()}catch{}return 200<=U.status&&299>=U.status}function ue(le){try{le.dispatchEvent(new MouseEvent("click"))}catch{var U=document.createEvent("MouseEvents");U.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),le.dispatchEvent(U)}}var ve="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,re=ve.saveAs||("object"!=typeof window||window!==ve?function(){}:"download"in HTMLAnchorElement.prototype?function(le,U,y){var O=ve.URL||ve.webkitURL,$=document.createElement("a");$.download=U=U||le.name||"download",$.rel="noopener","string"==typeof le?($.href=le,$.origin===location.origin?ue($):pe($.href)?ee(le,U,y):ue($,$.target="_blank")):($.href=O.createObjectURL(le),setTimeout(function(){O.revokeObjectURL($.href)},4e4),setTimeout(function(){ue($)},0))}:"msSaveOrOpenBlob"in navigator?function(le,U,y){if(U=U||le.name||"download","string"!=typeof le)navigator.msSaveOrOpenBlob(function V(le,U){return typeof U>"u"?U={autoBom:!1}:"object"!=typeof U&&(console.warn("Deprecated: Expected third argument to be a object"),U={autoBom:!U}),U.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(le.type)?new Blob(["\ufeff",le],{type:le.type}):le}(le,y),U);else if(pe(le))ee(le,U,y);else{var O=document.createElement("a");O.href=le,O.target="_blank",setTimeout(function(){ue(O)})}}:function(le,U,y,O){if((O=O||open("","_blank"))&&(O.document.title=O.document.body.innerText="downloading..."),"string"==typeof le)return ee(le,U,y);var $="application/octet-stream"===le.type,Q=/constructor/i.test(ve.HTMLElement)||ve.safari,oe=/CriOS\/[\d]+/.test(navigator.userAgent);if((oe||$&&Q)&&"object"==typeof FileReader){var Ce=new FileReader;Ce.onloadend=function(){var ke=Ce.result;ke=oe?ke:ke.replace(/^data:[^;]*;/,"data:attachment/file;"),O?O.location.href=ke:location=ke,O=null},Ce.readAsDataURL(le)}else{var xe=ve.URL||ve.webkitURL,be=xe.createObjectURL(le);O?O.location=be:location.href=be,O=null,setTimeout(function(){xe.revokeObjectURL(be)},4e4)}});ve.saveAs=re.saveAs=re,cn.exports=re})?G.apply(Ve,[]):G)&&(cn.exports=C)},6100:cn=>{function Ve(V){return V&&V.constructor&&"function"==typeof V.constructor.isBuffer&&V.constructor.isBuffer(V)}function G(V){return V}function h(V,ee){const pe=(ee=ee||{}).delimiter||".",ue=ee.maxDepth,ve=ee.transformKey||G,re={};return function le(U,y,O){O=O||1,Object.keys(U).forEach(function($){const Q=U[$],oe=ee.safe&&Array.isArray(Q),Ce=Object.prototype.toString.call(Q),xe=Ve(Q),be="[object Object]"===Ce||"[object Array]"===Ce,ke=y?y+pe+ve($):ve($);if(!oe&&!xe&&be&&Object.keys(Q).length&&(!ee.maxDepth||O<ue))return le(Q,ke,O+1);re[ke]=Q})}(V),re}cn.exports=h,h.flatten=h,h.unflatten=function C(V,ee){const pe=(ee=ee||{}).delimiter||".",ue=ee.overwrite||!1,ve=ee.transformKey||G,re={};if(Ve(V)||"[object Object]"!==Object.prototype.toString.call(V))return V;function U($){const Q=Number($);return isNaN(Q)||-1!==$.indexOf(".")||ee.object?$:Q}return V=Object.keys(V).reduce(function($,Q){const oe=Object.prototype.toString.call(V[Q]);return"[object Object]"!==oe&&"[object Array]"!==oe||function O($){const Q=Object.prototype.toString.call($);return!$||("[object Array]"===Q?!$.length:"[object Object]"===Q?!Object.keys($).length:void 0)}(V[Q])?($[Q]=V[Q],$):function y($,Q,oe){return Object.keys(oe).reduce(function(Ce,xe){return Ce[$+pe+xe]=oe[xe],Ce},Q)}(Q,$,h(V[Q],ee))},{}),Object.keys(V).forEach(function($){const Q=$.split(pe).map(ve);let oe=U(Q.shift()),Ce=U(Q[0]),xe=re;for(;void 0!==Ce;){if("__proto__"===oe)return;const be=Object.prototype.toString.call(xe[oe]),ke="[object Object]"===be||"[object Array]"===be;if(!ue&&!ke&&typeof xe[oe]<"u")return;(ue&&!ke||!ue&&null==xe[oe])&&(xe[oe]="number"!=typeof Ce||ee.object?{}:[]),xe=xe[oe],Q.length>0&&(oe=U(Q.shift()),Ce=U(Q[0]))}xe[oe]=C(V[$],ee)}),re}},5650:cn=>{cn.exports=function Ve(G,h,C){function V(ue,ve){if(!h[ue]){if(!G[ue]){if(ee)return ee(ue,!0);var le=new Error("Cannot find module '"+ue+"'");throw le.code="MODULE_NOT_FOUND",le}var U=h[ue]={exports:{}};G[ue][0].call(U.exports,function(y){return V(G[ue][1][y]||y)},U,U.exports,Ve,G,h,C)}return h[ue].exports}for(var ee=void 0,pe=0;pe<C.length;pe++)V(C[pe]);return V}({1:[function(Ve,G,h){"use strict";var C=Ve("./utils"),V=Ve("./support"),ee="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";h.encode=function(pe){for(var ue,ve,re,U,y,O,$=[],Q=0,oe=pe.length,Ce=oe,xe="string"!==C.getTypeOf(pe);Q<pe.length;)Ce=oe-Q,re=xe?(ue=pe[Q++],ve=Q<oe?pe[Q++]:0,Q<oe?pe[Q++]:0):(ue=pe.charCodeAt(Q++),ve=Q<oe?pe.charCodeAt(Q++):0,Q<oe?pe.charCodeAt(Q++):0),U=(3&ue)<<4|ve>>4,y=1<Ce?(15&ve)<<2|re>>6:64,O=2<Ce?63&re:64,$.push(ee.charAt(ue>>2)+ee.charAt(U)+ee.charAt(y)+ee.charAt(O));return $.join("")},h.decode=function(pe){var ue,ve,re,le,U,y,O=0,$=0,Q="data:";if(pe.substr(0,Q.length)===Q)throw new Error("Invalid base64 input, it looks like a data url.");var oe,Ce=3*(pe=pe.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(pe.charAt(pe.length-1)===ee.charAt(64)&&Ce--,pe.charAt(pe.length-2)===ee.charAt(64)&&Ce--,Ce%1!=0)throw new Error("Invalid base64 input, bad content length.");for(oe=V.uint8array?new Uint8Array(0|Ce):new Array(0|Ce);O<pe.length;)ue=ee.indexOf(pe.charAt(O++))<<2|(le=ee.indexOf(pe.charAt(O++)))>>4,ve=(15&le)<<4|(U=ee.indexOf(pe.charAt(O++)))>>2,re=(3&U)<<6|(y=ee.indexOf(pe.charAt(O++))),oe[$++]=ue,64!==U&&(oe[$++]=ve),64!==y&&(oe[$++]=re);return oe}},{"./support":30,"./utils":32}],2:[function(Ve,G,h){"use strict";var C=Ve("./external"),V=Ve("./stream/DataWorker"),ee=Ve("./stream/Crc32Probe"),pe=Ve("./stream/DataLengthProbe");function ue(ve,re,le,U,y){this.compressedSize=ve,this.uncompressedSize=re,this.crc32=le,this.compression=U,this.compressedContent=y}ue.prototype={getContentWorker:function(){var ve=new V(C.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new pe("data_length")),re=this;return ve.on("end",function(){if(this.streamInfo.data_length!==re.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),ve},getCompressedWorker:function(){return new V(C.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},ue.createWorkerFrom=function(ve,re,le){return ve.pipe(new ee).pipe(new pe("uncompressedSize")).pipe(re.compressWorker(le)).pipe(new pe("compressedSize")).withStreamInfo("compression",re)},G.exports=ue},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(Ve,G,h){"use strict";var C=Ve("./stream/GenericWorker");h.STORE={magic:"\0\0",compressWorker:function(){return new C("STORE compression")},uncompressWorker:function(){return new C("STORE decompression")}},h.DEFLATE=Ve("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(Ve,G,h){"use strict";var C=Ve("./utils"),V=function(){for(var ee,pe=[],ue=0;ue<256;ue++){ee=ue;for(var ve=0;ve<8;ve++)ee=1&ee?3988292384^ee>>>1:ee>>>1;pe[ue]=ee}return pe}();G.exports=function(ee,pe){return void 0!==ee&&ee.length?"string"!==C.getTypeOf(ee)?function(ue,ve,re,le){var U=V,y=0+re;ue^=-1;for(var O=0;O<y;O++)ue=ue>>>8^U[255&(ue^ve[O])];return-1^ue}(0|pe,ee,ee.length):function(ue,ve,re,le){var U=V,y=0+re;ue^=-1;for(var O=0;O<y;O++)ue=ue>>>8^U[255&(ue^ve.charCodeAt(O))];return-1^ue}(0|pe,ee,ee.length):0}},{"./utils":32}],5:[function(Ve,G,h){"use strict";h.base64=!1,h.binary=!1,h.dir=!1,h.createFolders=!0,h.date=null,h.compression=null,h.compressionOptions=null,h.comment=null,h.unixPermissions=null,h.dosPermissions=null},{}],6:[function(Ve,G,h){"use strict";var C;C=typeof Promise<"u"?Promise:Ve("lie"),G.exports={Promise:C}},{lie:37}],7:[function(Ve,G,h){"use strict";var C=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",V=Ve("pako"),ee=Ve("./utils"),pe=Ve("./stream/GenericWorker"),ue=C?"uint8array":"array";function ve(re,le){pe.call(this,"FlateWorker/"+re),this._pako=null,this._pakoAction=re,this._pakoOptions=le,this.meta={}}h.magic="\b\0",ee.inherits(ve,pe),ve.prototype.processChunk=function(re){this.meta=re.meta,null===this._pako&&this._createPako(),this._pako.push(ee.transformTo(ue,re.data),!1)},ve.prototype.flush=function(){pe.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},ve.prototype.cleanUp=function(){pe.prototype.cleanUp.call(this),this._pako=null},ve.prototype._createPako=function(){this._pako=new V[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var re=this;this._pako.onData=function(le){re.push({data:le,meta:re.meta})}},h.compressWorker=function(re){return new ve("Deflate",re)},h.uncompressWorker=function(){return new ve("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(Ve,G,h){"use strict";function C(U,y){var O,$="";for(O=0;O<y;O++)$+=String.fromCharCode(255&U),U>>>=8;return $}function V(U,y,O,$,Q,oe){var Ce,xe,be=U.file,ke=U.compression,Ze=oe!==ue.utf8encode,Ke=ee.transformTo("string",oe(be.name)),De=ee.transformTo("string",ue.utf8encode(be.name)),et=be.comment,tt=ee.transformTo("string",oe(et)),u=ee.transformTo("string",ue.utf8encode(et)),dt=De.length!==be.name.length,we=u.length!==et.length,mt="",Gt="",Le="",H=be.dir,g=be.date,F={crc32:0,compressedSize:0,uncompressedSize:0};y&&!O||(F.crc32=U.crc32,F.compressedSize=U.compressedSize,F.uncompressedSize=U.uncompressedSize);var b=0;y&&(b|=8),Ze||!dt&&!we||(b|=2048);var de,ft,Z=0,W=0;H&&(Z|=16),"UNIX"===Q?(W=798,Z|=(ft=de=be.unixPermissions,de||(ft=H?16893:33204),(65535&ft)<<16)):(W=20,Z|=function(de){return 63&(de||0)}(be.dosPermissions)),Ce=g.getUTCHours(),Ce<<=6,Ce|=g.getUTCMinutes(),Ce<<=5,Ce|=g.getUTCSeconds()/2,xe=g.getUTCFullYear()-1980,xe<<=4,xe|=g.getUTCMonth()+1,xe<<=5,xe|=g.getUTCDate(),dt&&(Gt=C(1,1)+C(ve(Ke),4)+De,mt+="up"+C(Gt.length,2)+Gt),we&&(Le=C(1,1)+C(ve(tt),4)+u,mt+="uc"+C(Le.length,2)+Le);var X="";return X+="\n\0",X+=C(b,2),X+=ke.magic,X+=C(Ce,2),X+=C(xe,2),X+=C(F.crc32,4),X+=C(F.compressedSize,4),X+=C(F.uncompressedSize,4),X+=C(Ke.length,2),X+=C(mt.length,2),{fileRecord:re.LOCAL_FILE_HEADER+X+Ke+mt,dirRecord:re.CENTRAL_FILE_HEADER+C(W,2)+X+C(tt.length,2)+"\0\0\0\0"+C(Z,4)+C($,4)+Ke+mt+tt}}var ee=Ve("../utils"),pe=Ve("../stream/GenericWorker"),ue=Ve("../utf8"),ve=Ve("../crc32"),re=Ve("../signature");function le(U,y,O,$){pe.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=y,this.zipPlatform=O,this.encodeFileName=$,this.streamFiles=U,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}ee.inherits(le,pe),le.prototype.push=function(U){var y=U.meta.percent||0,O=this.entriesCount,$=this._sources.length;this.accumulate?this.contentBuffer.push(U):(this.bytesWritten+=U.data.length,pe.prototype.push.call(this,{data:U.data,meta:{currentFile:this.currentFile,percent:O?(y+100*(O-$-1))/O:100}}))},le.prototype.openedSource=function(U){this.currentSourceOffset=this.bytesWritten,this.currentFile=U.file.name;var y=this.streamFiles&&!U.file.dir;if(y){var O=V(U,y,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:O.fileRecord,meta:{percent:0}})}else this.accumulate=!0},le.prototype.closedSource=function(U){this.accumulate=!1;var $,y=this.streamFiles&&!U.file.dir,O=V(U,y,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(O.dirRecord),y)this.push({data:($=U,re.DATA_DESCRIPTOR+C($.crc32,4)+C($.compressedSize,4)+C($.uncompressedSize,4)),meta:{percent:100}});else for(this.push({data:O.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},le.prototype.flush=function(){for(var U=this.bytesWritten,y=0;y<this.dirRecords.length;y++)this.push({data:this.dirRecords[y],meta:{percent:100}});var Q,oe,Ce,ke,$=(Q=this.dirRecords.length,oe=this.bytesWritten-U,Ce=U,ke=ee.transformTo("string",(0,this.encodeFileName)(this.zipComment)),re.CENTRAL_DIRECTORY_END+"\0\0\0\0"+C(Q,2)+C(Q,2)+C(oe,4)+C(Ce,4)+C(ke.length,2)+ke);this.push({data:$,meta:{percent:100}})},le.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},le.prototype.registerPrevious=function(U){this._sources.push(U);var y=this;return U.on("data",function(O){y.processChunk(O)}),U.on("end",function(){y.closedSource(y.previous.streamInfo),y._sources.length?y.prepareNextSource():y.end()}),U.on("error",function(O){y.error(O)}),this},le.prototype.resume=function(){return!!pe.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},le.prototype.error=function(U){var y=this._sources;if(!pe.prototype.error.call(this,U))return!1;for(var O=0;O<y.length;O++)try{y[O].error(U)}catch{}return!0},le.prototype.lock=function(){pe.prototype.lock.call(this);for(var U=this._sources,y=0;y<U.length;y++)U[y].lock()},G.exports=le},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(Ve,G,h){"use strict";var C=Ve("../compressions"),V=Ve("./ZipFileWorker");h.generateWorker=function(ee,pe,ue){var ve=new V(pe.streamFiles,ue,pe.platform,pe.encodeFileName),re=0;try{ee.forEach(function(le,U){re++;var y=function(oe,Ce){var xe=oe||Ce,be=C[xe];if(!be)throw new Error(xe+" is not a valid compression method !");return be}(U.options.compression,pe.compression),$=U.dir,Q=U.date;U._compressWorker(y,U.options.compressionOptions||pe.compressionOptions||{}).withStreamInfo("file",{name:le,dir:$,date:Q,comment:U.comment||"",unixPermissions:U.unixPermissions,dosPermissions:U.dosPermissions}).pipe(ve)}),ve.entriesCount=re}catch(le){ve.error(le)}return ve}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(Ve,G,h){"use strict";function C(){if(!(this instanceof C))return new C;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var V=new C;for(var ee in this)"function"!=typeof this[ee]&&(V[ee]=this[ee]);return V}}(C.prototype=Ve("./object")).loadAsync=Ve("./load"),C.support=Ve("./support"),C.defaults=Ve("./defaults"),C.version="3.10.1",C.loadAsync=function(V,ee){return(new C).loadAsync(V,ee)},C.external=Ve("./external"),G.exports=C},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(Ve,G,h){"use strict";var C=Ve("./utils"),V=Ve("./external"),ee=Ve("./utf8"),pe=Ve("./zipEntries"),ue=Ve("./stream/Crc32Probe"),ve=Ve("./nodejsUtils");function re(le){return new V.Promise(function(U,y){var O=le.decompressed.getContentWorker().pipe(new ue);O.on("error",function($){y($)}).on("end",function(){O.streamInfo.crc32!==le.decompressed.crc32?y(new Error("Corrupted zip : CRC32 mismatch")):U()}).resume()})}G.exports=function(le,U){var y=this;return U=C.extend(U||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:ee.utf8decode}),ve.isNode&&ve.isStream(le)?V.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):C.prepareContent("the loaded zip file",le,!0,U.optimizedBinaryString,U.base64).then(function(O){var $=new pe(U);return $.load(O),$}).then(function(O){var $=[V.Promise.resolve(O)],Q=O.files;if(U.checkCRC32)for(var oe=0;oe<Q.length;oe++)$.push(re(Q[oe]));return V.Promise.all($)}).then(function(O){for(var $=O.shift(),Q=$.files,oe=0;oe<Q.length;oe++){var Ce=Q[oe],xe=Ce.fileNameStr,be=C.resolve(Ce.fileNameStr);y.file(be,Ce.decompressed,{binary:!0,optimizedBinaryString:!0,date:Ce.date,dir:Ce.dir,comment:Ce.fileCommentStr.length?Ce.fileCommentStr:null,unixPermissions:Ce.unixPermissions,dosPermissions:Ce.dosPermissions,createFolders:U.createFolders}),Ce.dir||(y.file(be).unsafeOriginalName=xe)}return $.zipComment.length&&(y.comment=$.zipComment),y})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(Ve,G,h){"use strict";var C=Ve("../utils"),V=Ve("../stream/GenericWorker");function ee(pe,ue){V.call(this,"Nodejs stream input adapter for "+pe),this._upstreamEnded=!1,this._bindStream(ue)}C.inherits(ee,V),ee.prototype._bindStream=function(pe){var ue=this;(this._stream=pe).pause(),pe.on("data",function(ve){ue.push({data:ve,meta:{percent:0}})}).on("error",function(ve){ue.isPaused?this.generatedError=ve:ue.error(ve)}).on("end",function(){ue.isPaused?ue._upstreamEnded=!0:ue.end()})},ee.prototype.pause=function(){return!!V.prototype.pause.call(this)&&(this._stream.pause(),!0)},ee.prototype.resume=function(){return!!V.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},G.exports=ee},{"../stream/GenericWorker":28,"../utils":32}],13:[function(Ve,G,h){"use strict";var C=Ve("readable-stream").Readable;function V(ee,pe,ue){C.call(this,pe),this._helper=ee;var ve=this;ee.on("data",function(re,le){ve.push(re)||ve._helper.pause(),ue&&ue(le)}).on("error",function(re){ve.emit("error",re)}).on("end",function(){ve.push(null)})}Ve("../utils").inherits(V,C),V.prototype._read=function(){this._helper.resume()},G.exports=V},{"../utils":32,"readable-stream":16}],14:[function(Ve,G,h){"use strict";G.exports={isNode:typeof Buffer<"u",newBufferFrom:function(C,V){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(C,V);if("number"==typeof C)throw new Error('The "data" argument must not be a number');return new Buffer(C,V)},allocBuffer:function(C){if(Buffer.alloc)return Buffer.alloc(C);var V=new Buffer(C);return V.fill(0),V},isBuffer:function(C){return Buffer.isBuffer(C)},isStream:function(C){return C&&"function"==typeof C.on&&"function"==typeof C.pause&&"function"==typeof C.resume}}},{}],15:[function(Ve,G,h){"use strict";function C(be,ke,Ze){var Ke,De=ee.getTypeOf(ke),et=ee.extend(Ze||{},ve);et.date=et.date||new Date,null!==et.compression&&(et.compression=et.compression.toUpperCase()),"string"==typeof et.unixPermissions&&(et.unixPermissions=parseInt(et.unixPermissions,8)),et.unixPermissions&&16384&et.unixPermissions&&(et.dir=!0),et.dosPermissions&&16&et.dosPermissions&&(et.dir=!0),et.dir&&(be=Q(be)),et.createFolders&&(Ke=$(be))&&oe.call(this,Ke,!0),Ze&&void 0!==Ze.binary||(et.binary=!("string"===De&&!1===et.binary&&!1===et.base64)),(ke instanceof re&&0===ke.uncompressedSize||et.dir||!ke||0===ke.length)&&(et.base64=!1,et.binary=!0,ke="",et.compression="STORE",De="string");var u;u=ke instanceof re||ke instanceof pe?ke:y.isNode&&y.isStream(ke)?new O(be,ke):ee.prepareContent(be,ke,et.binary,et.optimizedBinaryString,et.base64);var dt=new le(be,u,et);this.files[be]=dt}var V=Ve("./utf8"),ee=Ve("./utils"),pe=Ve("./stream/GenericWorker"),ue=Ve("./stream/StreamHelper"),ve=Ve("./defaults"),re=Ve("./compressedObject"),le=Ve("./zipObject"),U=Ve("./generate"),y=Ve("./nodejsUtils"),O=Ve("./nodejs/NodejsStreamInputAdapter"),$=function(be){"/"===be.slice(-1)&&(be=be.substring(0,be.length-1));var ke=be.lastIndexOf("/");return 0<ke?be.substring(0,ke):""},Q=function(be){return"/"!==be.slice(-1)&&(be+="/"),be},oe=function(be,ke){return ke=void 0!==ke?ke:ve.createFolders,be=Q(be),this.files[be]||C.call(this,be,null,{dir:!0,createFolders:ke}),this.files[be]};function Ce(be){return"[object RegExp]"===Object.prototype.toString.call(be)}var xe={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(be){var ke,Ze,Ke;for(ke in this.files)Ke=this.files[ke],(Ze=ke.slice(this.root.length,ke.length))&&ke.slice(0,this.root.length)===this.root&&be(Ze,Ke)},filter:function(be){var ke=[];return this.forEach(function(Ze,Ke){be(Ze,Ke)&&ke.push(Ke)}),ke},file:function(be,ke,Ze){if(1!==arguments.length)return C.call(this,be=this.root+be,ke,Ze),this;if(Ce(be)){var Ke=be;return this.filter(function(et,tt){return!tt.dir&&Ke.test(et)})}var De=this.files[this.root+be];return De&&!De.dir?De:null},folder:function(be){if(!be)return this;if(Ce(be))return this.filter(function(De,et){return et.dir&&be.test(De)});var Ze=oe.call(this,this.root+be),Ke=this.clone();return Ke.root=Ze.name,Ke},remove:function(be){var ke=this.files[be=this.root+be];if(ke||("/"!==be.slice(-1)&&(be+="/"),ke=this.files[be]),ke&&!ke.dir)delete this.files[be];else for(var Ze=this.filter(function(De,et){return et.name.slice(0,be.length)===be}),Ke=0;Ke<Ze.length;Ke++)delete this.files[Ze[Ke].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(be){var ke,Ze={};try{if((Ze=ee.extend(be||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:V.utf8encode})).type=Ze.type.toLowerCase(),Ze.compression=Ze.compression.toUpperCase(),"binarystring"===Ze.type&&(Ze.type="string"),!Ze.type)throw new Error("No output type specified.");ee.checkSupport(Ze.type),"darwin"!==Ze.platform&&"freebsd"!==Ze.platform&&"linux"!==Ze.platform&&"sunos"!==Ze.platform||(Ze.platform="UNIX"),"win32"===Ze.platform&&(Ze.platform="DOS"),ke=U.generateWorker(this,Ze,Ze.comment||this.comment||"")}catch(De){(ke=new pe("error")).error(De)}return new ue(ke,Ze.type||"string",Ze.mimeType)},generateAsync:function(be,ke){return this.generateInternalStream(be).accumulate(ke)},generateNodeStream:function(be,ke){return(be=be||{}).type||(be.type="nodebuffer"),this.generateInternalStream(be).toNodejsStream(ke)}};G.exports=xe},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(Ve,G,h){"use strict";G.exports=Ve("stream")},{stream:void 0}],17:[function(Ve,G,h){"use strict";var C=Ve("./DataReader");function V(ee){C.call(this,ee);for(var pe=0;pe<this.data.length;pe++)ee[pe]=255&ee[pe]}Ve("../utils").inherits(V,C),V.prototype.byteAt=function(ee){return this.data[this.zero+ee]},V.prototype.lastIndexOfSignature=function(ee){for(var pe=ee.charCodeAt(0),ue=ee.charCodeAt(1),ve=ee.charCodeAt(2),re=ee.charCodeAt(3),le=this.length-4;0<=le;--le)if(this.data[le]===pe&&this.data[le+1]===ue&&this.data[le+2]===ve&&this.data[le+3]===re)return le-this.zero;return-1},V.prototype.readAndCheckSignature=function(ee){var pe=ee.charCodeAt(0),ue=ee.charCodeAt(1),ve=ee.charCodeAt(2),re=ee.charCodeAt(3),le=this.readData(4);return pe===le[0]&&ue===le[1]&&ve===le[2]&&re===le[3]},V.prototype.readData=function(ee){if(this.checkOffset(ee),0===ee)return[];var pe=this.data.slice(this.zero+this.index,this.zero+this.index+ee);return this.index+=ee,pe},G.exports=V},{"../utils":32,"./DataReader":18}],18:[function(Ve,G,h){"use strict";var C=Ve("../utils");function V(ee){this.data=ee,this.length=ee.length,this.index=0,this.zero=0}V.prototype={checkOffset:function(ee){this.checkIndex(this.index+ee)},checkIndex:function(ee){if(this.length<this.zero+ee||ee<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+ee+"). Corrupted zip ?")},setIndex:function(ee){this.checkIndex(ee),this.index=ee},skip:function(ee){this.setIndex(this.index+ee)},byteAt:function(){},readInt:function(ee){var pe,ue=0;for(this.checkOffset(ee),pe=this.index+ee-1;pe>=this.index;pe--)ue=(ue<<8)+this.byteAt(pe);return this.index+=ee,ue},readString:function(ee){return C.transformTo("string",this.readData(ee))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var ee=this.readInt(4);return new Date(Date.UTC(1980+(ee>>25&127),(ee>>21&15)-1,ee>>16&31,ee>>11&31,ee>>5&63,(31&ee)<<1))}},G.exports=V},{"../utils":32}],19:[function(Ve,G,h){"use strict";var C=Ve("./Uint8ArrayReader");function V(ee){C.call(this,ee)}Ve("../utils").inherits(V,C),V.prototype.readData=function(ee){this.checkOffset(ee);var pe=this.data.slice(this.zero+this.index,this.zero+this.index+ee);return this.index+=ee,pe},G.exports=V},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(Ve,G,h){"use strict";var C=Ve("./DataReader");function V(ee){C.call(this,ee)}Ve("../utils").inherits(V,C),V.prototype.byteAt=function(ee){return this.data.charCodeAt(this.zero+ee)},V.prototype.lastIndexOfSignature=function(ee){return this.data.lastIndexOf(ee)-this.zero},V.prototype.readAndCheckSignature=function(ee){return ee===this.readData(4)},V.prototype.readData=function(ee){this.checkOffset(ee);var pe=this.data.slice(this.zero+this.index,this.zero+this.index+ee);return this.index+=ee,pe},G.exports=V},{"../utils":32,"./DataReader":18}],21:[function(Ve,G,h){"use strict";var C=Ve("./ArrayReader");function V(ee){C.call(this,ee)}Ve("../utils").inherits(V,C),V.prototype.readData=function(ee){if(this.checkOffset(ee),0===ee)return new Uint8Array(0);var pe=this.data.subarray(this.zero+this.index,this.zero+this.index+ee);return this.index+=ee,pe},G.exports=V},{"../utils":32,"./ArrayReader":17}],22:[function(Ve,G,h){"use strict";var C=Ve("../utils"),V=Ve("../support"),ee=Ve("./ArrayReader"),pe=Ve("./StringReader"),ue=Ve("./NodeBufferReader"),ve=Ve("./Uint8ArrayReader");G.exports=function(re){var le=C.getTypeOf(re);return C.checkSupport(le),"string"!==le||V.uint8array?"nodebuffer"===le?new ue(re):V.uint8array?new ve(C.transformTo("uint8array",re)):new ee(C.transformTo("array",re)):new pe(re)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(Ve,G,h){"use strict";h.LOCAL_FILE_HEADER="PK\x03\x04",h.CENTRAL_FILE_HEADER="PK\x01\x02",h.CENTRAL_DIRECTORY_END="PK\x05\x06",h.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",h.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",h.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(Ve,G,h){"use strict";var C=Ve("./GenericWorker"),V=Ve("../utils");function ee(pe){C.call(this,"ConvertWorker to "+pe),this.destType=pe}V.inherits(ee,C),ee.prototype.processChunk=function(pe){this.push({data:V.transformTo(this.destType,pe.data),meta:pe.meta})},G.exports=ee},{"../utils":32,"./GenericWorker":28}],25:[function(Ve,G,h){"use strict";var C=Ve("./GenericWorker"),V=Ve("../crc32");function ee(){C.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}Ve("../utils").inherits(ee,C),ee.prototype.processChunk=function(pe){this.streamInfo.crc32=V(pe.data,this.streamInfo.crc32||0),this.push(pe)},G.exports=ee},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(Ve,G,h){"use strict";var C=Ve("../utils"),V=Ve("./GenericWorker");function ee(pe){V.call(this,"DataLengthProbe for "+pe),this.propName=pe,this.withStreamInfo(pe,0)}C.inherits(ee,V),ee.prototype.processChunk=function(pe){pe&&(this.streamInfo[this.propName]=(this.streamInfo[this.propName]||0)+pe.data.length),V.prototype.processChunk.call(this,pe)},G.exports=ee},{"../utils":32,"./GenericWorker":28}],27:[function(Ve,G,h){"use strict";var C=Ve("../utils"),V=Ve("./GenericWorker");function ee(pe){V.call(this,"DataWorker");var ue=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,pe.then(function(ve){ue.dataIsReady=!0,ue.data=ve,ue.max=ve&&ve.length||0,ue.type=C.getTypeOf(ve),ue.isPaused||ue._tickAndRepeat()},function(ve){ue.error(ve)})}C.inherits(ee,V),ee.prototype.cleanUp=function(){V.prototype.cleanUp.call(this),this.data=null},ee.prototype.resume=function(){return!!V.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,C.delay(this._tickAndRepeat,[],this)),!0)},ee.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(C.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},ee.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var pe=null,ue=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":pe=this.data.substring(this.index,ue);break;case"uint8array":pe=this.data.subarray(this.index,ue);break;case"array":case"nodebuffer":pe=this.data.slice(this.index,ue)}return this.index=ue,this.push({data:pe,meta:{percent:this.max?this.index/this.max*100:0}})},G.exports=ee},{"../utils":32,"./GenericWorker":28}],28:[function(Ve,G,h){"use strict";function C(V){this.name=V||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}C.prototype={push:function(V){this.emit("data",V)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(V){this.emit("error",V)}return!0},error:function(V){return!this.isFinished&&(this.isPaused?this.generatedError=V:(this.isFinished=!0,this.emit("error",V),this.previous&&this.previous.error(V),this.cleanUp()),!0)},on:function(V,ee){return this._listeners[V].push(ee),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(V,ee){if(this._listeners[V])for(var pe=0;pe<this._listeners[V].length;pe++)this._listeners[V][pe].call(this,ee)},pipe:function(V){return V.registerPrevious(this)},registerPrevious:function(V){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=V.streamInfo,this.mergeStreamInfo(),this.previous=V;var ee=this;return V.on("data",function(pe){ee.processChunk(pe)}),V.on("end",function(){ee.end()}),V.on("error",function(pe){ee.error(pe)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var V=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),V=!0),this.previous&&this.previous.resume(),!V},flush:function(){},processChunk:function(V){this.push(V)},withStreamInfo:function(V,ee){return this.extraStreamInfo[V]=ee,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var V in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,V)&&(this.streamInfo[V]=this.extraStreamInfo[V])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var V="Worker "+this.name;return this.previous?this.previous+" -> "+V:V}},G.exports=C},{}],29:[function(Ve,G,h){"use strict";var C=Ve("../utils"),V=Ve("./ConvertWorker"),ee=Ve("./GenericWorker"),pe=Ve("../base64"),ue=Ve("../support"),ve=Ve("../external"),re=null;if(ue.nodestream)try{re=Ve("../nodejs/NodejsStreamOutputAdapter")}catch{}function U(y,O,$){var Q=O;switch(O){case"blob":case"arraybuffer":Q="uint8array";break;case"base64":Q="string"}try{this._internalType=Q,this._outputType=O,this._mimeType=$,C.checkSupport(Q),this._worker=y.pipe(new V(Q)),y.lock()}catch(oe){this._worker=new ee("error"),this._worker.error(oe)}}U.prototype={accumulate:function(y){return function le(y,O){return new ve.Promise(function($,Q){var oe=[],Ce=y._internalType,xe=y._outputType,be=y._mimeType;y.on("data",function(ke,Ze){oe.push(ke),O&&O(Ze)}).on("error",function(ke){oe=[],Q(ke)}).on("end",function(){try{var ke=function(Ze,Ke,De){switch(Ze){case"blob":return C.newBlob(C.transformTo("arraybuffer",Ke),De);case"base64":return pe.encode(Ke);default:return C.transformTo(Ze,Ke)}}(xe,function(Ze,Ke){var De,et=0,tt=null,u=0;for(De=0;De<Ke.length;De++)u+=Ke[De].length;switch(Ze){case"string":return Ke.join("");case"array":return Array.prototype.concat.apply([],Ke);case"uint8array":for(tt=new Uint8Array(u),De=0;De<Ke.length;De++)tt.set(Ke[De],et),et+=Ke[De].length;return tt;case"nodebuffer":return Buffer.concat(Ke);default:throw new Error("concat : unsupported type '"+Ze+"'")}}(Ce,oe),be);$(ke)}catch(Ze){Q(Ze)}oe=[]}).resume()})}(this,y)},on:function(y,O){var $=this;return this._worker.on(y,"data"===y?function(Q){O.call($,Q.data,Q.meta)}:function(){C.delay(O,arguments,$)}),this},resume:function(){return C.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(y){if(C.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new re(this,{objectMode:"nodebuffer"!==this._outputType},y)}},G.exports=U},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(Ve,G,h){"use strict";if(h.base64=!0,h.array=!0,h.string=!0,h.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",h.nodebuffer=typeof Buffer<"u",h.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")h.blob=!1;else{var C=new ArrayBuffer(0);try{h.blob=0===new Blob([C],{type:"application/zip"}).size}catch{try{var V=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);V.append(C),h.blob=0===V.getBlob("application/zip").size}catch{h.blob=!1}}}try{h.nodestream=!!Ve("readable-stream").Readable}catch{h.nodestream=!1}},{"readable-stream":16}],31:[function(Ve,G,h){"use strict";for(var C=Ve("./utils"),V=Ve("./support"),ee=Ve("./nodejsUtils"),pe=Ve("./stream/GenericWorker"),ue=new Array(256),ve=0;ve<256;ve++)ue[ve]=252<=ve?6:248<=ve?5:240<=ve?4:224<=ve?3:192<=ve?2:1;function re(){pe.call(this,"utf-8 decode"),this.leftOver=null}function le(){pe.call(this,"utf-8 encode")}ue[254]=ue[254]=1,h.utf8encode=function(U){return V.nodebuffer?ee.newBufferFrom(U,"utf-8"):function(y){var O,$,Q,oe,Ce,xe=y.length,be=0;for(oe=0;oe<xe;oe++)55296==(64512&($=y.charCodeAt(oe)))&&oe+1<xe&&56320==(64512&(Q=y.charCodeAt(oe+1)))&&($=65536+($-55296<<10)+(Q-56320),oe++),be+=$<128?1:$<2048?2:$<65536?3:4;for(O=V.uint8array?new Uint8Array(be):new Array(be),oe=Ce=0;Ce<be;oe++)55296==(64512&($=y.charCodeAt(oe)))&&oe+1<xe&&56320==(64512&(Q=y.charCodeAt(oe+1)))&&($=65536+($-55296<<10)+(Q-56320),oe++),$<128?O[Ce++]=$:($<2048?O[Ce++]=192|$>>>6:($<65536?O[Ce++]=224|$>>>12:(O[Ce++]=240|$>>>18,O[Ce++]=128|$>>>12&63),O[Ce++]=128|$>>>6&63),O[Ce++]=128|63&$);return O}(U)},h.utf8decode=function(U){return V.nodebuffer?C.transformTo("nodebuffer",U).toString("utf-8"):function(y){var O,$,Q,oe,Ce=y.length,xe=new Array(2*Ce);for(O=$=0;O<Ce;)if((Q=y[O++])<128)xe[$++]=Q;else if(4<(oe=ue[Q]))xe[$++]=65533,O+=oe-1;else{for(Q&=2===oe?31:3===oe?15:7;1<oe&&O<Ce;)Q=Q<<6|63&y[O++],oe--;1<oe?xe[$++]=65533:Q<65536?xe[$++]=Q:(xe[$++]=55296|(Q-=65536)>>10&1023,xe[$++]=56320|1023&Q)}return xe.length!==$&&(xe.subarray?xe=xe.subarray(0,$):xe.length=$),C.applyFromCharCode(xe)}(U=C.transformTo(V.uint8array?"uint8array":"array",U))},C.inherits(re,pe),re.prototype.processChunk=function(U){var y=C.transformTo(V.uint8array?"uint8array":"array",U.data);if(this.leftOver&&this.leftOver.length){if(V.uint8array){var O=y;(y=new Uint8Array(O.length+this.leftOver.length)).set(this.leftOver,0),y.set(O,this.leftOver.length)}else y=this.leftOver.concat(y);this.leftOver=null}var $=function(oe,Ce){var xe;for((Ce=Ce||oe.length)>oe.length&&(Ce=oe.length),xe=Ce-1;0<=xe&&128==(192&oe[xe]);)xe--;return xe<0||0===xe?Ce:xe+ue[oe[xe]]>Ce?xe:Ce}(y),Q=y;$!==y.length&&(V.uint8array?(Q=y.subarray(0,$),this.leftOver=y.subarray($,y.length)):(Q=y.slice(0,$),this.leftOver=y.slice($,y.length))),this.push({data:h.utf8decode(Q),meta:U.meta})},re.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:h.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},h.Utf8DecodeWorker=re,C.inherits(le,pe),le.prototype.processChunk=function(U){this.push({data:h.utf8encode(U.data),meta:U.meta})},h.Utf8EncodeWorker=le},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(Ve,G,h){"use strict";var C=Ve("./support"),V=Ve("./base64"),ee=Ve("./nodejsUtils"),pe=Ve("./external");function ue(O){return O}function ve(O,$){for(var Q=0;Q<O.length;++Q)$[Q]=255&O.charCodeAt(Q);return $}Ve("setimmediate"),h.newBlob=function(O,$){h.checkSupport("blob");try{return new Blob([O],{type:$})}catch{try{var Q=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return Q.append(O),Q.getBlob($)}catch{throw new Error("Bug : can't construct the Blob.")}}};var re={stringifyByChunk:function(O,$,Q){var oe=[],Ce=0,xe=O.length;if(xe<=Q)return String.fromCharCode.apply(null,O);for(;Ce<xe;)oe.push(String.fromCharCode.apply(null,"array"===$||"nodebuffer"===$?O.slice(Ce,Math.min(Ce+Q,xe)):O.subarray(Ce,Math.min(Ce+Q,xe)))),Ce+=Q;return oe.join("")},stringifyByChar:function(O){for(var $="",Q=0;Q<O.length;Q++)$+=String.fromCharCode(O[Q]);return $},applyCanBeUsed:{uint8array:function(){try{return C.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch{return!1}}(),nodebuffer:function(){try{return C.nodebuffer&&1===String.fromCharCode.apply(null,ee.allocBuffer(1)).length}catch{return!1}}()}};function le(O){var $=65536,Q=h.getTypeOf(O),oe=!0;if("uint8array"===Q?oe=re.applyCanBeUsed.uint8array:"nodebuffer"===Q&&(oe=re.applyCanBeUsed.nodebuffer),oe)for(;1<$;)try{return re.stringifyByChunk(O,Q,$)}catch{$=Math.floor($/2)}return re.stringifyByChar(O)}function U(O,$){for(var Q=0;Q<O.length;Q++)$[Q]=O[Q];return $}h.applyFromCharCode=le;var y={};y.string={string:ue,array:function(O){return ve(O,new Array(O.length))},arraybuffer:function(O){return y.string.uint8array(O).buffer},uint8array:function(O){return ve(O,new Uint8Array(O.length))},nodebuffer:function(O){return ve(O,ee.allocBuffer(O.length))}},y.array={string:le,array:ue,arraybuffer:function(O){return new Uint8Array(O).buffer},uint8array:function(O){return new Uint8Array(O)},nodebuffer:function(O){return ee.newBufferFrom(O)}},y.arraybuffer={string:function(O){return le(new Uint8Array(O))},array:function(O){return U(new Uint8Array(O),new Array(O.byteLength))},arraybuffer:ue,uint8array:function(O){return new Uint8Array(O)},nodebuffer:function(O){return ee.newBufferFrom(new Uint8Array(O))}},y.uint8array={string:le,array:function(O){return U(O,new Array(O.length))},arraybuffer:function(O){return O.buffer},uint8array:ue,nodebuffer:function(O){return ee.newBufferFrom(O)}},y.nodebuffer={string:le,array:function(O){return U(O,new Array(O.length))},arraybuffer:function(O){return y.nodebuffer.uint8array(O).buffer},uint8array:function(O){return U(O,new Uint8Array(O.length))},nodebuffer:ue},h.transformTo=function(O,$){if($=$||"",!O)return $;h.checkSupport(O);var Q=h.getTypeOf($);return y[Q][O]($)},h.resolve=function(O){for(var $=O.split("/"),Q=[],oe=0;oe<$.length;oe++){var Ce=$[oe];"."===Ce||""===Ce&&0!==oe&&oe!==$.length-1||(".."===Ce?Q.pop():Q.push(Ce))}return Q.join("/")},h.getTypeOf=function(O){return"string"==typeof O?"string":"[object Array]"===Object.prototype.toString.call(O)?"array":C.nodebuffer&&ee.isBuffer(O)?"nodebuffer":C.uint8array&&O instanceof Uint8Array?"uint8array":C.arraybuffer&&O instanceof ArrayBuffer?"arraybuffer":void 0},h.checkSupport=function(O){if(!C[O.toLowerCase()])throw new Error(O+" is not supported by this platform")},h.MAX_VALUE_16BITS=65535,h.MAX_VALUE_32BITS=-1,h.pretty=function(O){var $,Q,oe="";for(Q=0;Q<(O||"").length;Q++)oe+="\\x"+(($=O.charCodeAt(Q))<16?"0":"")+$.toString(16).toUpperCase();return oe},h.delay=function(O,$,Q){setImmediate(function(){O.apply(Q||null,$||[])})},h.inherits=function(O,$){function Q(){}Q.prototype=$.prototype,O.prototype=new Q},h.extend=function(){var O,$,Q={};for(O=0;O<arguments.length;O++)for($ in arguments[O])Object.prototype.hasOwnProperty.call(arguments[O],$)&&void 0===Q[$]&&(Q[$]=arguments[O][$]);return Q},h.prepareContent=function(O,$,Q,oe,Ce){return pe.Promise.resolve($).then(function(xe){return C.blob&&(xe instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(xe)))&&typeof FileReader<"u"?new pe.Promise(function(be,ke){var Ze=new FileReader;Ze.onload=function(Ke){be(Ke.target.result)},Ze.onerror=function(Ke){ke(Ke.target.error)},Ze.readAsArrayBuffer(xe)}):xe}).then(function(xe){var ke,be=h.getTypeOf(xe);return be?("arraybuffer"===be?xe=h.transformTo("uint8array",xe):"string"===be&&(Ce?xe=V.decode(xe):Q&&!0!==oe&&(xe=ve(ke=xe,C.uint8array?new Uint8Array(ke.length):new Array(ke.length)))),xe):pe.Promise.reject(new Error("Can't read the data of '"+O+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(Ve,G,h){"use strict";var C=Ve("./reader/readerFor"),V=Ve("./utils"),ee=Ve("./signature"),pe=Ve("./zipEntry"),ue=Ve("./support");function ve(re){this.files=[],this.loadOptions=re}ve.prototype={checkSignature:function(re){if(!this.reader.readAndCheckSignature(re)){this.reader.index-=4;var le=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+V.pretty(le)+", expected "+V.pretty(re)+")")}},isSignature:function(re,le){var U=this.reader.index;this.reader.setIndex(re);var y=this.reader.readString(4)===le;return this.reader.setIndex(U),y},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var re=this.reader.readData(this.zipCommentLength),U=V.transformTo(ue.uint8array?"uint8array":"array",re);this.zipComment=this.loadOptions.decodeFileName(U)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var re,le,U,y=this.zip64EndOfCentralSize-44;0<y;)re=this.reader.readInt(2),le=this.reader.readInt(4),U=this.reader.readData(le),this.zip64ExtensibleData[re]={id:re,length:le,value:U}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var re,le;for(re=0;re<this.files.length;re++)this.reader.setIndex((le=this.files[re]).localHeaderOffset),this.checkSignature(ee.LOCAL_FILE_HEADER),le.readLocalPart(this.reader),le.handleUTF8(),le.processAttributes()},readCentralDir:function(){var re;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(ee.CENTRAL_FILE_HEADER);)(re=new pe({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(re);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var re=this.reader.lastIndexOfSignature(ee.CENTRAL_DIRECTORY_END);if(re<0)throw this.isSignature(0,ee.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(re);var le=re;if(this.checkSignature(ee.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===V.MAX_VALUE_16BITS||this.diskWithCentralDirStart===V.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===V.MAX_VALUE_16BITS||this.centralDirRecords===V.MAX_VALUE_16BITS||this.centralDirSize===V.MAX_VALUE_32BITS||this.centralDirOffset===V.MAX_VALUE_32BITS){if(this.zip64=!0,(re=this.reader.lastIndexOfSignature(ee.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(re),this.checkSignature(ee.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,ee.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(ee.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(ee.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var U=this.centralDirOffset+this.centralDirSize;this.zip64&&(U+=20,U+=12+this.zip64EndOfCentralSize);var y=le-U;if(0<y)this.isSignature(le,ee.CENTRAL_FILE_HEADER)||(this.reader.zero=y);else if(y<0)throw new Error("Corrupted zip: missing "+Math.abs(y)+" bytes.")},prepareReader:function(re){this.reader=C(re)},load:function(re){this.prepareReader(re),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},G.exports=ve},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(Ve,G,h){"use strict";var C=Ve("./reader/readerFor"),V=Ve("./utils"),ee=Ve("./compressedObject"),pe=Ve("./crc32"),ue=Ve("./utf8"),ve=Ve("./compressions"),re=Ve("./support");function le(U,y){this.options=U,this.loadOptions=y}le.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(U){var y,O;if(U.skip(22),this.fileNameLength=U.readInt(2),O=U.readInt(2),this.fileName=U.readData(this.fileNameLength),U.skip(O),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(y=function($){for(var Q in ve)if(Object.prototype.hasOwnProperty.call(ve,Q)&&ve[Q].magic===$)return ve[Q];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+V.pretty(this.compressionMethod)+" unknown (inner file : "+V.transformTo("string",this.fileName)+")");this.decompressed=new ee(this.compressedSize,this.uncompressedSize,this.crc32,y,U.readData(this.compressedSize))},readCentralPart:function(U){this.versionMadeBy=U.readInt(2),U.skip(2),this.bitFlag=U.readInt(2),this.compressionMethod=U.readString(2),this.date=U.readDate(),this.crc32=U.readInt(4),this.compressedSize=U.readInt(4),this.uncompressedSize=U.readInt(4);var y=U.readInt(2);if(this.extraFieldsLength=U.readInt(2),this.fileCommentLength=U.readInt(2),this.diskNumberStart=U.readInt(2),this.internalFileAttributes=U.readInt(2),this.externalFileAttributes=U.readInt(4),this.localHeaderOffset=U.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");U.skip(y),this.readExtraFields(U),this.parseZIP64ExtraField(U),this.fileComment=U.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var U=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==U&&(this.dosPermissions=63&this.externalFileAttributes),3==U&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var U=C(this.extraFields[1].value);this.uncompressedSize===V.MAX_VALUE_32BITS&&(this.uncompressedSize=U.readInt(8)),this.compressedSize===V.MAX_VALUE_32BITS&&(this.compressedSize=U.readInt(8)),this.localHeaderOffset===V.MAX_VALUE_32BITS&&(this.localHeaderOffset=U.readInt(8)),this.diskNumberStart===V.MAX_VALUE_32BITS&&(this.diskNumberStart=U.readInt(4))}},readExtraFields:function(U){var y,O,$,Q=U.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});U.index+4<Q;)y=U.readInt(2),O=U.readInt(2),$=U.readData(O),this.extraFields[y]={id:y,length:O,value:$};U.setIndex(Q)},handleUTF8:function(){var U=re.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=ue.utf8decode(this.fileName),this.fileCommentStr=ue.utf8decode(this.fileComment);else{var y=this.findExtraFieldUnicodePath();if(null!==y)this.fileNameStr=y;else{var O=V.transformTo(U,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(O)}var $=this.findExtraFieldUnicodeComment();if(null!==$)this.fileCommentStr=$;else{var Q=V.transformTo(U,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(Q)}}},findExtraFieldUnicodePath:function(){var U=this.extraFields[28789];if(U){var y=C(U.value);return 1!==y.readInt(1)||pe(this.fileName)!==y.readInt(4)?null:ue.utf8decode(y.readData(U.length-5))}return null},findExtraFieldUnicodeComment:function(){var U=this.extraFields[25461];if(U){var y=C(U.value);return 1!==y.readInt(1)||pe(this.fileComment)!==y.readInt(4)?null:ue.utf8decode(y.readData(U.length-5))}return null}},G.exports=le},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(Ve,G,h){"use strict";function C(y,O,$){this.name=y,this.dir=$.dir,this.date=$.date,this.comment=$.comment,this.unixPermissions=$.unixPermissions,this.dosPermissions=$.dosPermissions,this._data=O,this._dataBinary=$.binary,this.options={compression:$.compression,compressionOptions:$.compressionOptions}}var V=Ve("./stream/StreamHelper"),ee=Ve("./stream/DataWorker"),pe=Ve("./utf8"),ue=Ve("./compressedObject"),ve=Ve("./stream/GenericWorker");C.prototype={internalStream:function(y){var O=null,$="string";try{if(!y)throw new Error("No output type specified.");var Q="string"===($=y.toLowerCase())||"text"===$;"binarystring"!==$&&"text"!==$||($="string"),O=this._decompressWorker();var oe=!this._dataBinary;oe&&!Q&&(O=O.pipe(new pe.Utf8EncodeWorker)),!oe&&Q&&(O=O.pipe(new pe.Utf8DecodeWorker))}catch(Ce){(O=new ve("error")).error(Ce)}return new V(O,$,"")},async:function(y,O){return this.internalStream(y).accumulate(O)},nodeStream:function(y,O){return this.internalStream(y||"nodebuffer").toNodejsStream(O)},_compressWorker:function(y,O){if(this._data instanceof ue&&this._data.compression.magic===y.magic)return this._data.getCompressedWorker();var $=this._decompressWorker();return this._dataBinary||($=$.pipe(new pe.Utf8EncodeWorker)),ue.createWorkerFrom($,y,O)},_decompressWorker:function(){return this._data instanceof ue?this._data.getContentWorker():this._data instanceof ve?this._data:new ee(this._data)}};for(var re=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],le=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},U=0;U<re.length;U++)C.prototype[re[U]]=le;G.exports=C},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(Ve,G,h){(function(C){"use strict";var V,ee,pe=C.MutationObserver||C.WebKitMutationObserver;if(pe){var ue=0,ve=new pe(y),re=C.document.createTextNode("");ve.observe(re,{characterData:!0}),V=function(){re.data=ue=++ue%2}}else if(C.setImmediate||void 0===C.MessageChannel)V="document"in C&&"onreadystatechange"in C.document.createElement("script")?function(){var O=C.document.createElement("script");O.onreadystatechange=function(){y(),O.onreadystatechange=null,O.parentNode.removeChild(O),O=null},C.document.documentElement.appendChild(O)}:function(){setTimeout(y,0)};else{var le=new C.MessageChannel;le.port1.onmessage=y,V=function(){le.port2.postMessage(0)}}var U=[];function y(){var O,$;ee=!0;for(var Q=U.length;Q;){for($=U,U=[],O=-1;++O<Q;)$[O]();Q=U.length}ee=!1}G.exports=function(O){1!==U.push(O)||ee||V()}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(Ve,G,h){"use strict";var C=Ve("immediate");function V(){}var ee={},pe=["REJECTED"],ue=["FULFILLED"],ve=["PENDING"];function re(Q){if("function"!=typeof Q)throw new TypeError("resolver must be a function");this.state=ve,this.queue=[],this.outcome=void 0,Q!==V&&O(this,Q)}function le(Q,oe,Ce){this.promise=Q,"function"==typeof oe&&(this.onFulfilled=oe,this.callFulfilled=this.otherCallFulfilled),"function"==typeof Ce&&(this.onRejected=Ce,this.callRejected=this.otherCallRejected)}function U(Q,oe,Ce){C(function(){var xe;try{xe=oe(Ce)}catch(be){return ee.reject(Q,be)}xe===Q?ee.reject(Q,new TypeError("Cannot resolve promise with itself")):ee.resolve(Q,xe)})}function y(Q){var oe=Q&&Q.then;if(Q&&("object"==typeof Q||"function"==typeof Q)&&"function"==typeof oe)return function(){oe.apply(Q,arguments)}}function O(Q,oe){var Ce=!1;function xe(Ze){Ce||(Ce=!0,ee.reject(Q,Ze))}function be(Ze){Ce||(Ce=!0,ee.resolve(Q,Ze))}var ke=$(function(){oe(be,xe)});"error"===ke.status&&xe(ke.value)}function $(Q,oe){var Ce={};try{Ce.value=Q(oe),Ce.status="success"}catch(xe){Ce.status="error",Ce.value=xe}return Ce}(G.exports=re).prototype.finally=function(Q){if("function"!=typeof Q)return this;var oe=this.constructor;return this.then(function(Ce){return oe.resolve(Q()).then(function(){return Ce})},function(Ce){return oe.resolve(Q()).then(function(){throw Ce})})},re.prototype.catch=function(Q){return this.then(null,Q)},re.prototype.then=function(Q,oe){if("function"!=typeof Q&&this.state===ue||"function"!=typeof oe&&this.state===pe)return this;var Ce=new this.constructor(V);return this.state!==ve?U(Ce,this.state===ue?Q:oe,this.outcome):this.queue.push(new le(Ce,Q,oe)),Ce},le.prototype.callFulfilled=function(Q){ee.resolve(this.promise,Q)},le.prototype.otherCallFulfilled=function(Q){U(this.promise,this.onFulfilled,Q)},le.prototype.callRejected=function(Q){ee.reject(this.promise,Q)},le.prototype.otherCallRejected=function(Q){U(this.promise,this.onRejected,Q)},ee.resolve=function(Q,oe){var Ce=$(y,oe);if("error"===Ce.status)return ee.reject(Q,Ce.value);var xe=Ce.value;if(xe)O(Q,xe);else{Q.state=ue,Q.outcome=oe;for(var be=-1,ke=Q.queue.length;++be<ke;)Q.queue[be].callFulfilled(oe)}return Q},ee.reject=function(Q,oe){Q.state=pe,Q.outcome=oe;for(var Ce=-1,xe=Q.queue.length;++Ce<xe;)Q.queue[Ce].callRejected(oe);return Q},re.resolve=function(Q){return Q instanceof this?Q:ee.resolve(new this(V),Q)},re.reject=function(Q){var oe=new this(V);return ee.reject(oe,Q)},re.all=function(Q){var oe=this;if("[object Array]"!==Object.prototype.toString.call(Q))return this.reject(new TypeError("must be an array"));var Ce=Q.length,xe=!1;if(!Ce)return this.resolve([]);for(var be=new Array(Ce),ke=0,Ze=-1,Ke=new this(V);++Ze<Ce;)De(Q[Ze],Ze);return Ke;function De(et,tt){oe.resolve(et).then(function(u){be[tt]=u,++ke!==Ce||xe||(xe=!0,ee.resolve(Ke,be))},function(u){xe||(xe=!0,ee.reject(Ke,u))})}},re.race=function(Q){if("[object Array]"!==Object.prototype.toString.call(Q))return this.reject(new TypeError("must be an array"));var Ce=Q.length,xe=!1;if(!Ce)return this.resolve([]);for(var be=-1,ke=new this(V);++be<Ce;)this.resolve(Q[be]).then(function(Ke){xe||(xe=!0,ee.resolve(ke,Ke))},function(Ke){xe||(xe=!0,ee.reject(ke,Ke))});return ke}},{immediate:36}],38:[function(Ve,G,h){"use strict";var C={};(0,Ve("./lib/utils/common").assign)(C,Ve("./lib/deflate"),Ve("./lib/inflate"),Ve("./lib/zlib/constants")),G.exports=C},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(Ve,G,h){"use strict";var C=Ve("./zlib/deflate"),V=Ve("./utils/common"),ee=Ve("./utils/strings"),pe=Ve("./zlib/messages"),ue=Ve("./zlib/zstream"),ve=Object.prototype.toString,re=0,le=-1,U=0,y=8;function O(Q){if(!(this instanceof O))return new O(Q);this.options=V.assign({level:le,method:y,chunkSize:16384,windowBits:15,memLevel:8,strategy:U,to:""},Q||{});var oe=this.options;oe.raw&&0<oe.windowBits?oe.windowBits=-oe.windowBits:oe.gzip&&0<oe.windowBits&&oe.windowBits<16&&(oe.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ue,this.strm.avail_out=0;var Ce=C.deflateInit2(this.strm,oe.level,oe.method,oe.windowBits,oe.memLevel,oe.strategy);if(Ce!==re)throw new Error(pe[Ce]);if(oe.header&&C.deflateSetHeader(this.strm,oe.header),oe.dictionary){var xe;if(xe="string"==typeof oe.dictionary?ee.string2buf(oe.dictionary):"[object ArrayBuffer]"===ve.call(oe.dictionary)?new Uint8Array(oe.dictionary):oe.dictionary,(Ce=C.deflateSetDictionary(this.strm,xe))!==re)throw new Error(pe[Ce]);this._dict_set=!0}}function $(Q,oe){var Ce=new O(oe);if(Ce.push(Q,!0),Ce.err)throw Ce.msg||pe[Ce.err];return Ce.result}O.prototype.push=function(Q,oe){var Ce,xe,be=this.strm,ke=this.options.chunkSize;if(this.ended)return!1;xe=oe===~~oe?oe:!0===oe?4:0,be.input="string"==typeof Q?ee.string2buf(Q):"[object ArrayBuffer]"===ve.call(Q)?new Uint8Array(Q):Q,be.next_in=0,be.avail_in=be.input.length;do{if(0===be.avail_out&&(be.output=new V.Buf8(ke),be.next_out=0,be.avail_out=ke),1!==(Ce=C.deflate(be,xe))&&Ce!==re)return this.onEnd(Ce),!(this.ended=!0);0!==be.avail_out&&(0!==be.avail_in||4!==xe&&2!==xe)||this.onData("string"===this.options.to?ee.buf2binstring(V.shrinkBuf(be.output,be.next_out)):V.shrinkBuf(be.output,be.next_out))}while((0<be.avail_in||0===be.avail_out)&&1!==Ce);return 4===xe?(Ce=C.deflateEnd(this.strm),this.onEnd(Ce),this.ended=!0,Ce===re):2!==xe||(this.onEnd(re),!(be.avail_out=0))},O.prototype.onData=function(Q){this.chunks.push(Q)},O.prototype.onEnd=function(Q){Q===re&&(this.result="string"===this.options.to?this.chunks.join(""):V.flattenChunks(this.chunks)),this.chunks=[],this.err=Q,this.msg=this.strm.msg},h.Deflate=O,h.deflate=$,h.deflateRaw=function(Q,oe){return(oe=oe||{}).raw=!0,$(Q,oe)},h.gzip=function(Q,oe){return(oe=oe||{}).gzip=!0,$(Q,oe)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(Ve,G,h){"use strict";var C=Ve("./zlib/inflate"),V=Ve("./utils/common"),ee=Ve("./utils/strings"),pe=Ve("./zlib/constants"),ue=Ve("./zlib/messages"),ve=Ve("./zlib/zstream"),re=Ve("./zlib/gzheader"),le=Object.prototype.toString;function U(O){if(!(this instanceof U))return new U(O);this.options=V.assign({chunkSize:16384,windowBits:0,to:""},O||{});var $=this.options;$.raw&&0<=$.windowBits&&$.windowBits<16&&($.windowBits=-$.windowBits,0===$.windowBits&&($.windowBits=-15)),!(0<=$.windowBits&&$.windowBits<16)||O&&O.windowBits||($.windowBits+=32),15<$.windowBits&&$.windowBits<48&&!(15&$.windowBits)&&($.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ve,this.strm.avail_out=0;var Q=C.inflateInit2(this.strm,$.windowBits);if(Q!==pe.Z_OK)throw new Error(ue[Q]);this.header=new re,C.inflateGetHeader(this.strm,this.header)}function y(O,$){var Q=new U($);if(Q.push(O,!0),Q.err)throw Q.msg||ue[Q.err];return Q.result}U.prototype.push=function(O,$){var Q,oe,Ce,xe,be,ke,Ze=this.strm,Ke=this.options.chunkSize,De=this.options.dictionary,et=!1;if(this.ended)return!1;oe=$===~~$?$:!0===$?pe.Z_FINISH:pe.Z_NO_FLUSH,Ze.input="string"==typeof O?ee.binstring2buf(O):"[object ArrayBuffer]"===le.call(O)?new Uint8Array(O):O,Ze.next_in=0,Ze.avail_in=Ze.input.length;do{if(0===Ze.avail_out&&(Ze.output=new V.Buf8(Ke),Ze.next_out=0,Ze.avail_out=Ke),(Q=C.inflate(Ze,pe.Z_NO_FLUSH))===pe.Z_NEED_DICT&&De&&(ke="string"==typeof De?ee.string2buf(De):"[object ArrayBuffer]"===le.call(De)?new Uint8Array(De):De,Q=C.inflateSetDictionary(this.strm,ke)),Q===pe.Z_BUF_ERROR&&!0===et&&(Q=pe.Z_OK,et=!1),Q!==pe.Z_STREAM_END&&Q!==pe.Z_OK)return this.onEnd(Q),!(this.ended=!0);Ze.next_out&&(0!==Ze.avail_out&&Q!==pe.Z_STREAM_END&&(0!==Ze.avail_in||oe!==pe.Z_FINISH&&oe!==pe.Z_SYNC_FLUSH)||("string"===this.options.to?(Ce=ee.utf8border(Ze.output,Ze.next_out),xe=Ze.next_out-Ce,be=ee.buf2string(Ze.output,Ce),Ze.next_out=xe,Ze.avail_out=Ke-xe,xe&&V.arraySet(Ze.output,Ze.output,Ce,xe,0),this.onData(be)):this.onData(V.shrinkBuf(Ze.output,Ze.next_out)))),0===Ze.avail_in&&0===Ze.avail_out&&(et=!0)}while((0<Ze.avail_in||0===Ze.avail_out)&&Q!==pe.Z_STREAM_END);return Q===pe.Z_STREAM_END&&(oe=pe.Z_FINISH),oe===pe.Z_FINISH?(Q=C.inflateEnd(this.strm),this.onEnd(Q),this.ended=!0,Q===pe.Z_OK):oe!==pe.Z_SYNC_FLUSH||(this.onEnd(pe.Z_OK),!(Ze.avail_out=0))},U.prototype.onData=function(O){this.chunks.push(O)},U.prototype.onEnd=function(O){O===pe.Z_OK&&(this.result="string"===this.options.to?this.chunks.join(""):V.flattenChunks(this.chunks)),this.chunks=[],this.err=O,this.msg=this.strm.msg},h.Inflate=U,h.inflate=y,h.inflateRaw=function(O,$){return($=$||{}).raw=!0,y(O,$)},h.ungzip=y},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(Ve,G,h){"use strict";var C=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";h.assign=function(pe){for(var ue=Array.prototype.slice.call(arguments,1);ue.length;){var ve=ue.shift();if(ve){if("object"!=typeof ve)throw new TypeError(ve+"must be non-object");for(var re in ve)ve.hasOwnProperty(re)&&(pe[re]=ve[re])}}return pe},h.shrinkBuf=function(pe,ue){return pe.length===ue?pe:pe.subarray?pe.subarray(0,ue):(pe.length=ue,pe)};var V={arraySet:function(pe,ue,ve,re,le){if(ue.subarray&&pe.subarray)pe.set(ue.subarray(ve,ve+re),le);else for(var U=0;U<re;U++)pe[le+U]=ue[ve+U]},flattenChunks:function(pe){var ue,ve,re,le,U,y;for(ue=re=0,ve=pe.length;ue<ve;ue++)re+=pe[ue].length;for(y=new Uint8Array(re),ue=le=0,ve=pe.length;ue<ve;ue++)y.set(U=pe[ue],le),le+=U.length;return y}},ee={arraySet:function(pe,ue,ve,re,le){for(var U=0;U<re;U++)pe[le+U]=ue[ve+U]},flattenChunks:function(pe){return[].concat.apply([],pe)}};h.setTyped=function(pe){pe?(h.Buf8=Uint8Array,h.Buf16=Uint16Array,h.Buf32=Int32Array,h.assign(h,V)):(h.Buf8=Array,h.Buf16=Array,h.Buf32=Array,h.assign(h,ee))},h.setTyped(C)},{}],42:[function(Ve,G,h){"use strict";var C=Ve("./common"),V=!0,ee=!0;try{String.fromCharCode.apply(null,[0])}catch{V=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{ee=!1}for(var pe=new C.Buf8(256),ue=0;ue<256;ue++)pe[ue]=252<=ue?6:248<=ue?5:240<=ue?4:224<=ue?3:192<=ue?2:1;function ve(re,le){if(le<65537&&(re.subarray&&ee||!re.subarray&&V))return String.fromCharCode.apply(null,C.shrinkBuf(re,le));for(var U="",y=0;y<le;y++)U+=String.fromCharCode(re[y]);return U}pe[254]=pe[254]=1,h.string2buf=function(re){var le,U,y,O,$,Q=re.length,oe=0;for(O=0;O<Q;O++)55296==(64512&(U=re.charCodeAt(O)))&&O+1<Q&&56320==(64512&(y=re.charCodeAt(O+1)))&&(U=65536+(U-55296<<10)+(y-56320),O++),oe+=U<128?1:U<2048?2:U<65536?3:4;for(le=new C.Buf8(oe),O=$=0;$<oe;O++)55296==(64512&(U=re.charCodeAt(O)))&&O+1<Q&&56320==(64512&(y=re.charCodeAt(O+1)))&&(U=65536+(U-55296<<10)+(y-56320),O++),U<128?le[$++]=U:(U<2048?le[$++]=192|U>>>6:(U<65536?le[$++]=224|U>>>12:(le[$++]=240|U>>>18,le[$++]=128|U>>>12&63),le[$++]=128|U>>>6&63),le[$++]=128|63&U);return le},h.buf2binstring=function(re){return ve(re,re.length)},h.binstring2buf=function(re){for(var le=new C.Buf8(re.length),U=0,y=le.length;U<y;U++)le[U]=re.charCodeAt(U);return le},h.buf2string=function(re,le){var U,y,O,$,Q=le||re.length,oe=new Array(2*Q);for(U=y=0;U<Q;)if((O=re[U++])<128)oe[y++]=O;else if(4<($=pe[O]))oe[y++]=65533,U+=$-1;else{for(O&=2===$?31:3===$?15:7;1<$&&U<Q;)O=O<<6|63&re[U++],$--;1<$?oe[y++]=65533:O<65536?oe[y++]=O:(oe[y++]=55296|(O-=65536)>>10&1023,oe[y++]=56320|1023&O)}return ve(oe,y)},h.utf8border=function(re,le){var U;for((le=le||re.length)>re.length&&(le=re.length),U=le-1;0<=U&&128==(192&re[U]);)U--;return U<0||0===U?le:U+pe[re[U]]>le?U:le}},{"./common":41}],43:[function(Ve,G,h){"use strict";G.exports=function(C,V,ee,pe){for(var ue=65535&C|0,ve=C>>>16&65535|0,re=0;0!==ee;){for(ee-=re=2e3<ee?2e3:ee;ve=ve+(ue=ue+V[pe++]|0)|0,--re;);ue%=65521,ve%=65521}return ue|ve<<16|0}},{}],44:[function(Ve,G,h){"use strict";G.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(Ve,G,h){"use strict";var C=function(){for(var V,ee=[],pe=0;pe<256;pe++){V=pe;for(var ue=0;ue<8;ue++)V=1&V?3988292384^V>>>1:V>>>1;ee[pe]=V}return ee}();G.exports=function(V,ee,pe,ue){var ve=C,re=ue+pe;V^=-1;for(var le=ue;le<re;le++)V=V>>>8^ve[255&(V^ee[le])];return-1^V}},{}],46:[function(Ve,G,h){"use strict";var C,V=Ve("../utils/common"),ee=Ve("./trees"),pe=Ve("./adler32"),ue=Ve("./crc32"),ve=Ve("./messages"),re=0,le=4,U=0,y=-2,O=-1,$=4,Q=2,oe=8,Ce=9,xe=286,be=30,ke=19,Ze=2*xe+1,Ke=15,De=3,et=258,tt=et+De+1,u=42,dt=113,we=1,mt=2,Gt=3,Le=4;function H(Te,$t){return Te.msg=ve[$t],$t}function g(Te){return(Te<<1)-(4<Te?9:0)}function F(Te){for(var $t=Te.length;0<=--$t;)Te[$t]=0}function b(Te){var $t=Te.state,Lt=$t.pending;Lt>Te.avail_out&&(Lt=Te.avail_out),0!==Lt&&(V.arraySet(Te.output,$t.pending_buf,$t.pending_out,Lt,Te.next_out),Te.next_out+=Lt,$t.pending_out+=Lt,Te.total_out+=Lt,Te.avail_out-=Lt,$t.pending-=Lt,0===$t.pending&&($t.pending_out=0))}function Z(Te,$t){ee._tr_flush_block(Te,0<=Te.block_start?Te.block_start:-1,Te.strstart-Te.block_start,$t),Te.block_start=Te.strstart,b(Te.strm)}function W(Te,$t){Te.pending_buf[Te.pending++]=$t}function X(Te,$t){Te.pending_buf[Te.pending++]=$t>>>8&255,Te.pending_buf[Te.pending++]=255&$t}function de(Te,$t){var Lt,rt,_t=Te.max_chain_length,Ut=Te.strstart,fn=Te.prev_length,un=Te.nice_match,Ft=Te.strstart>Te.w_size-tt?Te.strstart-(Te.w_size-tt):0,Pn=Te.window,yn=Te.w_mask,Dn=Te.prev,On=Te.strstart+et,Ti=Pn[Ut+fn-1],It=Pn[Ut+fn];Te.prev_length>=Te.good_match&&(_t>>=2),un>Te.lookahead&&(un=Te.lookahead);do{if(Pn[(Lt=$t)+fn]===It&&Pn[Lt+fn-1]===Ti&&Pn[Lt]===Pn[Ut]&&Pn[++Lt]===Pn[Ut+1]){Ut+=2,Lt++;do{}while(Pn[++Ut]===Pn[++Lt]&&Pn[++Ut]===Pn[++Lt]&&Pn[++Ut]===Pn[++Lt]&&Pn[++Ut]===Pn[++Lt]&&Pn[++Ut]===Pn[++Lt]&&Pn[++Ut]===Pn[++Lt]&&Pn[++Ut]===Pn[++Lt]&&Pn[++Ut]===Pn[++Lt]&&Ut<On);if(rt=et-(On-Ut),Ut=On-et,fn<rt){if(Te.match_start=$t,un<=(fn=rt))break;Ti=Pn[Ut+fn-1],It=Pn[Ut+fn]}}}while(($t=Dn[$t&yn])>Ft&&0!=--_t);return fn<=Te.lookahead?fn:Te.lookahead}function me(Te){var $t,Lt,rt,_t,Ut,fn,un,Ft,Pn,yn,Dn=Te.w_size;do{if(_t=Te.window_size-Te.lookahead-Te.strstart,Te.strstart>=Dn+(Dn-tt)){for(V.arraySet(Te.window,Te.window,Dn,Dn,0),Te.match_start-=Dn,Te.strstart-=Dn,Te.block_start-=Dn,$t=Lt=Te.hash_size;rt=Te.head[--$t],Te.head[$t]=Dn<=rt?rt-Dn:0,--Lt;);for($t=Lt=Dn;rt=Te.prev[--$t],Te.prev[$t]=Dn<=rt?rt-Dn:0,--Lt;);_t+=Dn}if(0===Te.strm.avail_in)break;if(un=Te.window,Ft=Te.strstart+Te.lookahead,yn=void 0,(Pn=_t)<(yn=(fn=Te.strm).avail_in)&&(yn=Pn),Lt=0===yn?0:(fn.avail_in-=yn,V.arraySet(un,fn.input,fn.next_in,yn,Ft),1===fn.state.wrap?fn.adler=pe(fn.adler,un,yn,Ft):2===fn.state.wrap&&(fn.adler=ue(fn.adler,un,yn,Ft)),fn.next_in+=yn,fn.total_in+=yn,yn),Te.lookahead+=Lt,Te.lookahead+Te.insert>=De)for(Te.ins_h=Te.window[Ut=Te.strstart-Te.insert],Te.ins_h=(Te.ins_h<<Te.hash_shift^Te.window[Ut+1])&Te.hash_mask;Te.insert&&(Te.ins_h=(Te.ins_h<<Te.hash_shift^Te.window[Ut+De-1])&Te.hash_mask,Te.prev[Ut&Te.w_mask]=Te.head[Te.ins_h],Te.head[Te.ins_h]=Ut,Ut++,Te.insert--,!(Te.lookahead+Te.insert<De)););}while(Te.lookahead<tt&&0!==Te.strm.avail_in)}function ft(Te,$t){for(var Lt,rt;;){if(Te.lookahead<tt){if(me(Te),Te.lookahead<tt&&$t===re)return we;if(0===Te.lookahead)break}if(Lt=0,Te.lookahead>=De&&(Te.ins_h=(Te.ins_h<<Te.hash_shift^Te.window[Te.strstart+De-1])&Te.hash_mask,Lt=Te.prev[Te.strstart&Te.w_mask]=Te.head[Te.ins_h],Te.head[Te.ins_h]=Te.strstart),0!==Lt&&Te.strstart-Lt<=Te.w_size-tt&&(Te.match_length=de(Te,Lt)),Te.match_length>=De)if(rt=ee._tr_tally(Te,Te.strstart-Te.match_start,Te.match_length-De),Te.lookahead-=Te.match_length,Te.match_length<=Te.max_lazy_match&&Te.lookahead>=De){for(Te.match_length--;Te.strstart++,Te.ins_h=(Te.ins_h<<Te.hash_shift^Te.window[Te.strstart+De-1])&Te.hash_mask,Lt=Te.prev[Te.strstart&Te.w_mask]=Te.head[Te.ins_h],Te.head[Te.ins_h]=Te.strstart,0!=--Te.match_length;);Te.strstart++}else Te.strstart+=Te.match_length,Te.match_length=0,Te.ins_h=Te.window[Te.strstart],Te.ins_h=(Te.ins_h<<Te.hash_shift^Te.window[Te.strstart+1])&Te.hash_mask;else rt=ee._tr_tally(Te,0,Te.window[Te.strstart]),Te.lookahead--,Te.strstart++;if(rt&&(Z(Te,!1),0===Te.strm.avail_out))return we}return Te.insert=Te.strstart<De-1?Te.strstart:De-1,$t===le?(Z(Te,!0),0===Te.strm.avail_out?Gt:Le):Te.last_lit&&(Z(Te,!1),0===Te.strm.avail_out)?we:mt}function pt(Te,$t){for(var Lt,rt,_t;;){if(Te.lookahead<tt){if(me(Te),Te.lookahead<tt&&$t===re)return we;if(0===Te.lookahead)break}if(Lt=0,Te.lookahead>=De&&(Te.ins_h=(Te.ins_h<<Te.hash_shift^Te.window[Te.strstart+De-1])&Te.hash_mask,Lt=Te.prev[Te.strstart&Te.w_mask]=Te.head[Te.ins_h],Te.head[Te.ins_h]=Te.strstart),Te.prev_length=Te.match_length,Te.prev_match=Te.match_start,Te.match_length=De-1,0!==Lt&&Te.prev_length<Te.max_lazy_match&&Te.strstart-Lt<=Te.w_size-tt&&(Te.match_length=de(Te,Lt),Te.match_length<=5&&(1===Te.strategy||Te.match_length===De&&4096<Te.strstart-Te.match_start)&&(Te.match_length=De-1)),Te.prev_length>=De&&Te.match_length<=Te.prev_length){for(_t=Te.strstart+Te.lookahead-De,rt=ee._tr_tally(Te,Te.strstart-1-Te.prev_match,Te.prev_length-De),Te.lookahead-=Te.prev_length-1,Te.prev_length-=2;++Te.strstart<=_t&&(Te.ins_h=(Te.ins_h<<Te.hash_shift^Te.window[Te.strstart+De-1])&Te.hash_mask,Lt=Te.prev[Te.strstart&Te.w_mask]=Te.head[Te.ins_h],Te.head[Te.ins_h]=Te.strstart),0!=--Te.prev_length;);if(Te.match_available=0,Te.match_length=De-1,Te.strstart++,rt&&(Z(Te,!1),0===Te.strm.avail_out))return we}else if(Te.match_available){if((rt=ee._tr_tally(Te,0,Te.window[Te.strstart-1]))&&Z(Te,!1),Te.strstart++,Te.lookahead--,0===Te.strm.avail_out)return we}else Te.match_available=1,Te.strstart++,Te.lookahead--}return Te.match_available&&(rt=ee._tr_tally(Te,0,Te.window[Te.strstart-1]),Te.match_available=0),Te.insert=Te.strstart<De-1?Te.strstart:De-1,$t===le?(Z(Te,!0),0===Te.strm.avail_out?Gt:Le):Te.last_lit&&(Z(Te,!1),0===Te.strm.avail_out)?we:mt}function Et(Te,$t,Lt,rt,_t){this.good_length=Te,this.max_lazy=$t,this.nice_length=Lt,this.max_chain=rt,this.func=_t}function jt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=oe,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new V.Buf16(2*Ze),this.dyn_dtree=new V.Buf16(2*(2*be+1)),this.bl_tree=new V.Buf16(2*(2*ke+1)),F(this.dyn_ltree),F(this.dyn_dtree),F(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new V.Buf16(Ke+1),this.heap=new V.Buf16(2*xe+1),F(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new V.Buf16(2*xe+1),F(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function xn(Te){var $t;return Te&&Te.state?(Te.total_in=Te.total_out=0,Te.data_type=Q,($t=Te.state).pending=0,$t.pending_out=0,$t.wrap<0&&($t.wrap=-$t.wrap),$t.status=$t.wrap?u:dt,Te.adler=2===$t.wrap?0:1,$t.last_flush=re,ee._tr_init($t),U):H(Te,y)}function En(Te){var Lt,$t=xn(Te);return $t===U&&((Lt=Te.state).window_size=2*Lt.w_size,F(Lt.head),Lt.max_lazy_match=C[Lt.level].max_lazy,Lt.good_match=C[Lt.level].good_length,Lt.nice_match=C[Lt.level].nice_length,Lt.max_chain_length=C[Lt.level].max_chain,Lt.strstart=0,Lt.block_start=0,Lt.lookahead=0,Lt.insert=0,Lt.match_length=Lt.prev_length=De-1,Lt.match_available=0,Lt.ins_h=0),$t}function In(Te,$t,Lt,rt,_t,Ut){if(!Te)return y;var fn=1;if($t===O&&($t=6),rt<0?(fn=0,rt=-rt):15<rt&&(fn=2,rt-=16),_t<1||Ce<_t||Lt!==oe||rt<8||15<rt||$t<0||9<$t||Ut<0||$<Ut)return H(Te,y);8===rt&&(rt=9);var un=new jt;return(Te.state=un).strm=Te,un.wrap=fn,un.gzhead=null,un.w_bits=rt,un.w_size=1<<un.w_bits,un.w_mask=un.w_size-1,un.hash_bits=_t+7,un.hash_size=1<<un.hash_bits,un.hash_mask=un.hash_size-1,un.hash_shift=~~((un.hash_bits+De-1)/De),un.window=new V.Buf8(2*un.w_size),un.head=new V.Buf16(un.hash_size),un.prev=new V.Buf16(un.w_size),un.lit_bufsize=1<<_t+6,un.pending_buf_size=4*un.lit_bufsize,un.pending_buf=new V.Buf8(un.pending_buf_size),un.d_buf=1*un.lit_bufsize,un.l_buf=3*un.lit_bufsize,un.level=$t,un.strategy=Ut,un.method=Lt,En(Te)}C=[new Et(0,0,0,0,function(Te,$t){var Lt=65535;for(Lt>Te.pending_buf_size-5&&(Lt=Te.pending_buf_size-5);;){if(Te.lookahead<=1){if(me(Te),0===Te.lookahead&&$t===re)return we;if(0===Te.lookahead)break}Te.strstart+=Te.lookahead,Te.lookahead=0;var rt=Te.block_start+Lt;if((0===Te.strstart||Te.strstart>=rt)&&(Te.lookahead=Te.strstart-rt,Te.strstart=rt,Z(Te,!1),0===Te.strm.avail_out)||Te.strstart-Te.block_start>=Te.w_size-tt&&(Z(Te,!1),0===Te.strm.avail_out))return we}return Te.insert=0,$t===le?(Z(Te,!0),0===Te.strm.avail_out?Gt:Le):(Te.strstart>Te.block_start&&Z(Te,!1),we)}),new Et(4,4,8,4,ft),new Et(4,5,16,8,ft),new Et(4,6,32,32,ft),new Et(4,4,16,16,pt),new Et(8,16,32,32,pt),new Et(8,16,128,128,pt),new Et(8,32,128,256,pt),new Et(32,128,258,1024,pt),new Et(32,258,258,4096,pt)],h.deflateInit=function(Te,$t){return In(Te,$t,oe,15,8,0)},h.deflateInit2=In,h.deflateReset=En,h.deflateResetKeep=xn,h.deflateSetHeader=function(Te,$t){return Te&&Te.state?2!==Te.state.wrap?y:(Te.state.gzhead=$t,U):y},h.deflate=function(Te,$t){var Lt,rt,_t,Ut;if(!Te||!Te.state||5<$t||$t<0)return Te?H(Te,y):y;if(rt=Te.state,!Te.output||!Te.input&&0!==Te.avail_in||666===rt.status&&$t!==le)return H(Te,0===Te.avail_out?-5:y);if(rt.strm=Te,Lt=rt.last_flush,rt.last_flush=$t,rt.status===u)if(2===rt.wrap)Te.adler=0,W(rt,31),W(rt,139),W(rt,8),rt.gzhead?(W(rt,(rt.gzhead.text?1:0)+(rt.gzhead.hcrc?2:0)+(rt.gzhead.extra?4:0)+(rt.gzhead.name?8:0)+(rt.gzhead.comment?16:0)),W(rt,255&rt.gzhead.time),W(rt,rt.gzhead.time>>8&255),W(rt,rt.gzhead.time>>16&255),W(rt,rt.gzhead.time>>24&255),W(rt,9===rt.level?2:2<=rt.strategy||rt.level<2?4:0),W(rt,255&rt.gzhead.os),rt.gzhead.extra&&rt.gzhead.extra.length&&(W(rt,255&rt.gzhead.extra.length),W(rt,rt.gzhead.extra.length>>8&255)),rt.gzhead.hcrc&&(Te.adler=ue(Te.adler,rt.pending_buf,rt.pending,0)),rt.gzindex=0,rt.status=69):(W(rt,0),W(rt,0),W(rt,0),W(rt,0),W(rt,0),W(rt,9===rt.level?2:2<=rt.strategy||rt.level<2?4:0),W(rt,3),rt.status=dt);else{var fn=oe+(rt.w_bits-8<<4)<<8;fn|=(2<=rt.strategy||rt.level<2?0:rt.level<6?1:6===rt.level?2:3)<<6,0!==rt.strstart&&(fn|=32),fn+=31-fn%31,rt.status=dt,X(rt,fn),0!==rt.strstart&&(X(rt,Te.adler>>>16),X(rt,65535&Te.adler)),Te.adler=1}if(69===rt.status)if(rt.gzhead.extra){for(_t=rt.pending;rt.gzindex<(65535&rt.gzhead.extra.length)&&(rt.pending!==rt.pending_buf_size||(rt.gzhead.hcrc&&rt.pending>_t&&(Te.adler=ue(Te.adler,rt.pending_buf,rt.pending-_t,_t)),b(Te),_t=rt.pending,rt.pending!==rt.pending_buf_size));)W(rt,255&rt.gzhead.extra[rt.gzindex]),rt.gzindex++;rt.gzhead.hcrc&&rt.pending>_t&&(Te.adler=ue(Te.adler,rt.pending_buf,rt.pending-_t,_t)),rt.gzindex===rt.gzhead.extra.length&&(rt.gzindex=0,rt.status=73)}else rt.status=73;if(73===rt.status)if(rt.gzhead.name){_t=rt.pending;do{if(rt.pending===rt.pending_buf_size&&(rt.gzhead.hcrc&&rt.pending>_t&&(Te.adler=ue(Te.adler,rt.pending_buf,rt.pending-_t,_t)),b(Te),_t=rt.pending,rt.pending===rt.pending_buf_size)){Ut=1;break}Ut=rt.gzindex<rt.gzhead.name.length?255&rt.gzhead.name.charCodeAt(rt.gzindex++):0,W(rt,Ut)}while(0!==Ut);rt.gzhead.hcrc&&rt.pending>_t&&(Te.adler=ue(Te.adler,rt.pending_buf,rt.pending-_t,_t)),0===Ut&&(rt.gzindex=0,rt.status=91)}else rt.status=91;if(91===rt.status)if(rt.gzhead.comment){_t=rt.pending;do{if(rt.pending===rt.pending_buf_size&&(rt.gzhead.hcrc&&rt.pending>_t&&(Te.adler=ue(Te.adler,rt.pending_buf,rt.pending-_t,_t)),b(Te),_t=rt.pending,rt.pending===rt.pending_buf_size)){Ut=1;break}Ut=rt.gzindex<rt.gzhead.comment.length?255&rt.gzhead.comment.charCodeAt(rt.gzindex++):0,W(rt,Ut)}while(0!==Ut);rt.gzhead.hcrc&&rt.pending>_t&&(Te.adler=ue(Te.adler,rt.pending_buf,rt.pending-_t,_t)),0===Ut&&(rt.status=103)}else rt.status=103;if(103===rt.status&&(rt.gzhead.hcrc?(rt.pending+2>rt.pending_buf_size&&b(Te),rt.pending+2<=rt.pending_buf_size&&(W(rt,255&Te.adler),W(rt,Te.adler>>8&255),Te.adler=0,rt.status=dt)):rt.status=dt),0!==rt.pending){if(b(Te),0===Te.avail_out)return rt.last_flush=-1,U}else if(0===Te.avail_in&&g($t)<=g(Lt)&&$t!==le)return H(Te,-5);if(666===rt.status&&0!==Te.avail_in)return H(Te,-5);if(0!==Te.avail_in||0!==rt.lookahead||$t!==re&&666!==rt.status){var un=2===rt.strategy?function(Ft,Pn){for(var yn;;){if(0===Ft.lookahead&&(me(Ft),0===Ft.lookahead)){if(Pn===re)return we;break}if(Ft.match_length=0,yn=ee._tr_tally(Ft,0,Ft.window[Ft.strstart]),Ft.lookahead--,Ft.strstart++,yn&&(Z(Ft,!1),0===Ft.strm.avail_out))return we}return Ft.insert=0,Pn===le?(Z(Ft,!0),0===Ft.strm.avail_out?Gt:Le):Ft.last_lit&&(Z(Ft,!1),0===Ft.strm.avail_out)?we:mt}(rt,$t):3===rt.strategy?function(Ft,Pn){for(var yn,Dn,On,Ti,It=Ft.window;;){if(Ft.lookahead<=et){if(me(Ft),Ft.lookahead<=et&&Pn===re)return we;if(0===Ft.lookahead)break}if(Ft.match_length=0,Ft.lookahead>=De&&0<Ft.strstart&&(Dn=It[On=Ft.strstart-1])===It[++On]&&Dn===It[++On]&&Dn===It[++On]){Ti=Ft.strstart+et;do{}while(Dn===It[++On]&&Dn===It[++On]&&Dn===It[++On]&&Dn===It[++On]&&Dn===It[++On]&&Dn===It[++On]&&Dn===It[++On]&&Dn===It[++On]&&On<Ti);Ft.match_length=et-(Ti-On),Ft.match_length>Ft.lookahead&&(Ft.match_length=Ft.lookahead)}if(Ft.match_length>=De?(yn=ee._tr_tally(Ft,1,Ft.match_length-De),Ft.lookahead-=Ft.match_length,Ft.strstart+=Ft.match_length,Ft.match_length=0):(yn=ee._tr_tally(Ft,0,Ft.window[Ft.strstart]),Ft.lookahead--,Ft.strstart++),yn&&(Z(Ft,!1),0===Ft.strm.avail_out))return we}return Ft.insert=0,Pn===le?(Z(Ft,!0),0===Ft.strm.avail_out?Gt:Le):Ft.last_lit&&(Z(Ft,!1),0===Ft.strm.avail_out)?we:mt}(rt,$t):C[rt.level].func(rt,$t);if(un!==Gt&&un!==Le||(rt.status=666),un===we||un===Gt)return 0===Te.avail_out&&(rt.last_flush=-1),U;if(un===mt&&(1===$t?ee._tr_align(rt):5!==$t&&(ee._tr_stored_block(rt,0,0,!1),3===$t&&(F(rt.head),0===rt.lookahead&&(rt.strstart=0,rt.block_start=0,rt.insert=0))),b(Te),0===Te.avail_out))return rt.last_flush=-1,U}return $t!==le?U:rt.wrap<=0?1:(2===rt.wrap?(W(rt,255&Te.adler),W(rt,Te.adler>>8&255),W(rt,Te.adler>>16&255),W(rt,Te.adler>>24&255),W(rt,255&Te.total_in),W(rt,Te.total_in>>8&255),W(rt,Te.total_in>>16&255),W(rt,Te.total_in>>24&255)):(X(rt,Te.adler>>>16),X(rt,65535&Te.adler)),b(Te),0<rt.wrap&&(rt.wrap=-rt.wrap),0!==rt.pending?U:1)},h.deflateEnd=function(Te){var $t;return Te&&Te.state?($t=Te.state.status)!==u&&69!==$t&&73!==$t&&91!==$t&&103!==$t&&$t!==dt&&666!==$t?H(Te,y):(Te.state=null,$t===dt?H(Te,-3):U):y},h.deflateSetDictionary=function(Te,$t){var Lt,rt,_t,Ut,fn,un,Ft,Pn,yn=$t.length;if(!Te||!Te.state||2===(Ut=(Lt=Te.state).wrap)||1===Ut&&Lt.status!==u||Lt.lookahead)return y;for(1===Ut&&(Te.adler=pe(Te.adler,$t,yn,0)),Lt.wrap=0,yn>=Lt.w_size&&(0===Ut&&(F(Lt.head),Lt.strstart=0,Lt.block_start=0,Lt.insert=0),Pn=new V.Buf8(Lt.w_size),V.arraySet(Pn,$t,yn-Lt.w_size,Lt.w_size,0),$t=Pn,yn=Lt.w_size),fn=Te.avail_in,un=Te.next_in,Ft=Te.input,Te.avail_in=yn,Te.next_in=0,Te.input=$t,me(Lt);Lt.lookahead>=De;){for(rt=Lt.strstart,_t=Lt.lookahead-(De-1);Lt.ins_h=(Lt.ins_h<<Lt.hash_shift^Lt.window[rt+De-1])&Lt.hash_mask,Lt.prev[rt&Lt.w_mask]=Lt.head[Lt.ins_h],Lt.head[Lt.ins_h]=rt,rt++,--_t;);Lt.strstart=rt,Lt.lookahead=De-1,me(Lt)}return Lt.strstart+=Lt.lookahead,Lt.block_start=Lt.strstart,Lt.insert=Lt.lookahead,Lt.lookahead=0,Lt.match_length=Lt.prev_length=De-1,Lt.match_available=0,Te.next_in=un,Te.input=Ft,Te.avail_in=fn,Lt.wrap=Ut,U},h.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(Ve,G,h){"use strict";G.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(Ve,G,h){"use strict";G.exports=function(C,V){var ee,pe,ue,ve,re,le,U,y,O,$,Q,oe,Ce,xe,be,ke,Ze,Ke,De,et,tt,u,dt,we,mt;we=C.input,ue=(pe=C.next_in)+(C.avail_in-5),mt=C.output,re=(ve=C.next_out)-(V-C.avail_out),le=ve+(C.avail_out-257),U=(ee=C.state).dmax,y=ee.wsize,O=ee.whave,$=ee.wnext,Q=ee.window,oe=ee.hold,Ce=ee.bits,xe=ee.lencode,be=ee.distcode,ke=(1<<ee.lenbits)-1,Ze=(1<<ee.distbits)-1;e:do{Ce<15&&(oe+=we[pe++]<<Ce,oe+=we[pe++]<<(Ce+=8),Ce+=8),Ke=xe[oe&ke];t:for(;;){if(oe>>>=De=Ke>>>24,Ce-=De,0==(De=Ke>>>16&255))mt[ve++]=65535&Ke;else{if(!(16&De)){if(!(64&De)){Ke=xe[(65535&Ke)+(oe&(1<<De)-1)];continue t}if(32&De){ee.mode=12;break e}C.msg="invalid literal/length code",ee.mode=30;break e}et=65535&Ke,(De&=15)&&(Ce<De&&(oe+=we[pe++]<<Ce,Ce+=8),et+=oe&(1<<De)-1,oe>>>=De,Ce-=De),Ce<15&&(oe+=we[pe++]<<Ce,oe+=we[pe++]<<(Ce+=8),Ce+=8),Ke=be[oe&Ze];n:for(;;){if(oe>>>=De=Ke>>>24,Ce-=De,!(16&(De=Ke>>>16&255))){if(!(64&De)){Ke=be[(65535&Ke)+(oe&(1<<De)-1)];continue n}C.msg="invalid distance code",ee.mode=30;break e}if(tt=65535&Ke,Ce<(De&=15)&&(oe+=we[pe++]<<Ce,(Ce+=8)<De&&(oe+=we[pe++]<<Ce,Ce+=8)),U<(tt+=oe&(1<<De)-1)){C.msg="invalid distance too far back",ee.mode=30;break e}if(oe>>>=De,Ce-=De,(De=ve-re)<tt){if(O<(De=tt-De)&&ee.sane){C.msg="invalid distance too far back",ee.mode=30;break e}if(dt=Q,(u=0)===$){if(u+=y-De,De<et){for(et-=De;mt[ve++]=Q[u++],--De;);u=ve-tt,dt=mt}}else if($<De){if(u+=y+$-De,(De-=$)<et){for(et-=De;mt[ve++]=Q[u++],--De;);if(u=0,$<et){for(et-=De=$;mt[ve++]=Q[u++],--De;);u=ve-tt,dt=mt}}}else if(u+=$-De,De<et){for(et-=De;mt[ve++]=Q[u++],--De;);u=ve-tt,dt=mt}for(;2<et;)mt[ve++]=dt[u++],mt[ve++]=dt[u++],mt[ve++]=dt[u++],et-=3;et&&(mt[ve++]=dt[u++],1<et&&(mt[ve++]=dt[u++]))}else{for(u=ve-tt;mt[ve++]=mt[u++],mt[ve++]=mt[u++],mt[ve++]=mt[u++],2<(et-=3););et&&(mt[ve++]=mt[u++],1<et&&(mt[ve++]=mt[u++]))}break}}break}}while(pe<ue&&ve<le);pe-=et=Ce>>3,oe&=(1<<(Ce-=et<<3))-1,C.next_in=pe,C.next_out=ve,C.avail_in=pe<ue?ue-pe+5:5-(pe-ue),C.avail_out=ve<le?le-ve+257:257-(ve-le),ee.hold=oe,ee.bits=Ce}},{}],49:[function(Ve,G,h){"use strict";var C=Ve("../utils/common"),V=Ve("./adler32"),ee=Ve("./crc32"),pe=Ve("./inffast"),ue=Ve("./inftrees"),ve=1,re=2,le=0,U=-2,y=1,O=852,$=592;function Q(u){return(u>>>24&255)+(u>>>8&65280)+((65280&u)<<8)+((255&u)<<24)}function oe(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new C.Buf16(320),this.work=new C.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Ce(u){var dt;return u&&u.state?(u.total_in=u.total_out=(dt=u.state).total=0,u.msg="",dt.wrap&&(u.adler=1&dt.wrap),dt.mode=y,dt.last=0,dt.havedict=0,dt.dmax=32768,dt.head=null,dt.hold=0,dt.bits=0,dt.lencode=dt.lendyn=new C.Buf32(O),dt.distcode=dt.distdyn=new C.Buf32($),dt.sane=1,dt.back=-1,le):U}function xe(u){var dt;return u&&u.state?((dt=u.state).wsize=0,dt.whave=0,dt.wnext=0,Ce(u)):U}function be(u,dt){var we,mt;return u&&u.state?(mt=u.state,dt<0?(we=0,dt=-dt):(we=1+(dt>>4),dt<48&&(dt&=15)),dt&&(dt<8||15<dt)?U:(null!==mt.window&&mt.wbits!==dt&&(mt.window=null),mt.wrap=we,mt.wbits=dt,xe(u))):U}function ke(u,dt){var we,mt;return u?(mt=new oe,(u.state=mt).window=null,(we=be(u,dt))!==le&&(u.state=null),we):U}var Ze,Ke,De=!0;function et(u){if(De){var dt;for(Ze=new C.Buf32(512),Ke=new C.Buf32(32),dt=0;dt<144;)u.lens[dt++]=8;for(;dt<256;)u.lens[dt++]=9;for(;dt<280;)u.lens[dt++]=7;for(;dt<288;)u.lens[dt++]=8;for(ue(ve,u.lens,0,288,Ze,0,u.work,{bits:9}),dt=0;dt<32;)u.lens[dt++]=5;ue(re,u.lens,0,32,Ke,0,u.work,{bits:5}),De=!1}u.lencode=Ze,u.lenbits=9,u.distcode=Ke,u.distbits=5}function tt(u,dt,we,mt){var Gt,Le=u.state;return null===Le.window&&(Le.wsize=1<<Le.wbits,Le.wnext=0,Le.whave=0,Le.window=new C.Buf8(Le.wsize)),mt>=Le.wsize?(C.arraySet(Le.window,dt,we-Le.wsize,Le.wsize,0),Le.wnext=0,Le.whave=Le.wsize):(mt<(Gt=Le.wsize-Le.wnext)&&(Gt=mt),C.arraySet(Le.window,dt,we-mt,Gt,Le.wnext),(mt-=Gt)?(C.arraySet(Le.window,dt,we-mt,mt,0),Le.wnext=mt,Le.whave=Le.wsize):(Le.wnext+=Gt,Le.wnext===Le.wsize&&(Le.wnext=0),Le.whave<Le.wsize&&(Le.whave+=Gt))),0}h.inflateReset=xe,h.inflateReset2=be,h.inflateResetKeep=Ce,h.inflateInit=function(u){return ke(u,15)},h.inflateInit2=ke,h.inflate=function(u,dt){var we,mt,Gt,Le,H,g,F,b,Z,W,X,de,me,ft,pt,Et,jt,xn,En,In,Te,$t,Lt,rt,_t=0,Ut=new C.Buf8(4),fn=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!u||!u.state||!u.output||!u.input&&0!==u.avail_in)return U;12===(we=u.state).mode&&(we.mode=13),H=u.next_out,Gt=u.output,Le=u.next_in,mt=u.input,b=we.hold,Z=we.bits,W=g=u.avail_in,X=F=u.avail_out,$t=le;e:for(;;)switch(we.mode){case y:if(0===we.wrap){we.mode=13;break}for(;Z<16;){if(0===g)break e;g--,b+=mt[Le++]<<Z,Z+=8}if(2&we.wrap&&35615===b){Ut[we.check=0]=255&b,Ut[1]=b>>>8&255,we.check=ee(we.check,Ut,2,0),Z=b=0,we.mode=2;break}if(we.flags=0,we.head&&(we.head.done=!1),!(1&we.wrap)||(((255&b)<<8)+(b>>8))%31){u.msg="incorrect header check",we.mode=30;break}if(8!=(15&b)){u.msg="unknown compression method",we.mode=30;break}if(Z-=4,Te=8+(15&(b>>>=4)),0===we.wbits)we.wbits=Te;else if(Te>we.wbits){u.msg="invalid window size",we.mode=30;break}we.dmax=1<<Te,u.adler=we.check=1,we.mode=512&b?10:12,Z=b=0;break;case 2:for(;Z<16;){if(0===g)break e;g--,b+=mt[Le++]<<Z,Z+=8}if(we.flags=b,8!=(255&we.flags)){u.msg="unknown compression method",we.mode=30;break}if(57344&we.flags){u.msg="unknown header flags set",we.mode=30;break}we.head&&(we.head.text=b>>8&1),512&we.flags&&(Ut[0]=255&b,Ut[1]=b>>>8&255,we.check=ee(we.check,Ut,2,0)),Z=b=0,we.mode=3;case 3:for(;Z<32;){if(0===g)break e;g--,b+=mt[Le++]<<Z,Z+=8}we.head&&(we.head.time=b),512&we.flags&&(Ut[0]=255&b,Ut[1]=b>>>8&255,Ut[2]=b>>>16&255,Ut[3]=b>>>24&255,we.check=ee(we.check,Ut,4,0)),Z=b=0,we.mode=4;case 4:for(;Z<16;){if(0===g)break e;g--,b+=mt[Le++]<<Z,Z+=8}we.head&&(we.head.xflags=255&b,we.head.os=b>>8),512&we.flags&&(Ut[0]=255&b,Ut[1]=b>>>8&255,we.check=ee(we.check,Ut,2,0)),Z=b=0,we.mode=5;case 5:if(1024&we.flags){for(;Z<16;){if(0===g)break e;g--,b+=mt[Le++]<<Z,Z+=8}we.length=b,we.head&&(we.head.extra_len=b),512&we.flags&&(Ut[0]=255&b,Ut[1]=b>>>8&255,we.check=ee(we.check,Ut,2,0)),Z=b=0}else we.head&&(we.head.extra=null);we.mode=6;case 6:if(1024&we.flags&&(g<(de=we.length)&&(de=g),de&&(we.head&&(Te=we.head.extra_len-we.length,we.head.extra||(we.head.extra=new Array(we.head.extra_len)),C.arraySet(we.head.extra,mt,Le,de,Te)),512&we.flags&&(we.check=ee(we.check,mt,de,Le)),g-=de,Le+=de,we.length-=de),we.length))break e;we.length=0,we.mode=7;case 7:if(2048&we.flags){if(0===g)break e;for(de=0;Te=mt[Le+de++],we.head&&Te&&we.length<65536&&(we.head.name+=String.fromCharCode(Te)),Te&&de<g;);if(512&we.flags&&(we.check=ee(we.check,mt,de,Le)),g-=de,Le+=de,Te)break e}else we.head&&(we.head.name=null);we.length=0,we.mode=8;case 8:if(4096&we.flags){if(0===g)break e;for(de=0;Te=mt[Le+de++],we.head&&Te&&we.length<65536&&(we.head.comment+=String.fromCharCode(Te)),Te&&de<g;);if(512&we.flags&&(we.check=ee(we.check,mt,de,Le)),g-=de,Le+=de,Te)break e}else we.head&&(we.head.comment=null);we.mode=9;case 9:if(512&we.flags){for(;Z<16;){if(0===g)break e;g--,b+=mt[Le++]<<Z,Z+=8}if(b!==(65535&we.check)){u.msg="header crc mismatch",we.mode=30;break}Z=b=0}we.head&&(we.head.hcrc=we.flags>>9&1,we.head.done=!0),u.adler=we.check=0,we.mode=12;break;case 10:for(;Z<32;){if(0===g)break e;g--,b+=mt[Le++]<<Z,Z+=8}u.adler=we.check=Q(b),Z=b=0,we.mode=11;case 11:if(0===we.havedict)return u.next_out=H,u.avail_out=F,u.next_in=Le,u.avail_in=g,we.hold=b,we.bits=Z,2;u.adler=we.check=1,we.mode=12;case 12:if(5===dt||6===dt)break e;case 13:if(we.last){b>>>=7&Z,Z-=7&Z,we.mode=27;break}for(;Z<3;){if(0===g)break e;g--,b+=mt[Le++]<<Z,Z+=8}switch(we.last=1&b,Z-=1,3&(b>>>=1)){case 0:we.mode=14;break;case 1:if(et(we),we.mode=20,6!==dt)break;b>>>=2,Z-=2;break e;case 2:we.mode=17;break;case 3:u.msg="invalid block type",we.mode=30}b>>>=2,Z-=2;break;case 14:for(b>>>=7&Z,Z-=7&Z;Z<32;){if(0===g)break e;g--,b+=mt[Le++]<<Z,Z+=8}if((65535&b)!=(b>>>16^65535)){u.msg="invalid stored block lengths",we.mode=30;break}if(we.length=65535&b,Z=b=0,we.mode=15,6===dt)break e;case 15:we.mode=16;case 16:if(de=we.length){if(g<de&&(de=g),F<de&&(de=F),0===de)break e;C.arraySet(Gt,mt,Le,de,H),g-=de,Le+=de,F-=de,H+=de,we.length-=de;break}we.mode=12;break;case 17:for(;Z<14;){if(0===g)break e;g--,b+=mt[Le++]<<Z,Z+=8}if(we.nlen=257+(31&b),Z-=5,we.ndist=1+(31&(b>>>=5)),Z-=5,we.ncode=4+(15&(b>>>=5)),b>>>=4,Z-=4,286<we.nlen||30<we.ndist){u.msg="too many length or distance symbols",we.mode=30;break}we.have=0,we.mode=18;case 18:for(;we.have<we.ncode;){for(;Z<3;){if(0===g)break e;g--,b+=mt[Le++]<<Z,Z+=8}we.lens[fn[we.have++]]=7&b,b>>>=3,Z-=3}for(;we.have<19;)we.lens[fn[we.have++]]=0;if(we.lencode=we.lendyn,we.lenbits=7,$t=ue(0,we.lens,0,19,we.lencode,0,we.work,Lt={bits:we.lenbits}),we.lenbits=Lt.bits,$t){u.msg="invalid code lengths set",we.mode=30;break}we.have=0,we.mode=19;case 19:for(;we.have<we.nlen+we.ndist;){for(;Et=(_t=we.lencode[b&(1<<we.lenbits)-1])>>>16&255,jt=65535&_t,!((pt=_t>>>24)<=Z);){if(0===g)break e;g--,b+=mt[Le++]<<Z,Z+=8}if(jt<16)b>>>=pt,Z-=pt,we.lens[we.have++]=jt;else{if(16===jt){for(rt=pt+2;Z<rt;){if(0===g)break e;g--,b+=mt[Le++]<<Z,Z+=8}if(b>>>=pt,Z-=pt,0===we.have){u.msg="invalid bit length repeat",we.mode=30;break}Te=we.lens[we.have-1],de=3+(3&b),b>>>=2,Z-=2}else if(17===jt){for(rt=pt+3;Z<rt;){if(0===g)break e;g--,b+=mt[Le++]<<Z,Z+=8}Z-=pt,Te=0,de=3+(7&(b>>>=pt)),b>>>=3,Z-=3}else{for(rt=pt+7;Z<rt;){if(0===g)break e;g--,b+=mt[Le++]<<Z,Z+=8}Z-=pt,Te=0,de=11+(127&(b>>>=pt)),b>>>=7,Z-=7}if(we.have+de>we.nlen+we.ndist){u.msg="invalid bit length repeat",we.mode=30;break}for(;de--;)we.lens[we.have++]=Te}}if(30===we.mode)break;if(0===we.lens[256]){u.msg="invalid code -- missing end-of-block",we.mode=30;break}if(we.lenbits=9,$t=ue(ve,we.lens,0,we.nlen,we.lencode,0,we.work,Lt={bits:we.lenbits}),we.lenbits=Lt.bits,$t){u.msg="invalid literal/lengths set",we.mode=30;break}if(we.distbits=6,we.distcode=we.distdyn,$t=ue(re,we.lens,we.nlen,we.ndist,we.distcode,0,we.work,Lt={bits:we.distbits}),we.distbits=Lt.bits,$t){u.msg="invalid distances set",we.mode=30;break}if(we.mode=20,6===dt)break e;case 20:we.mode=21;case 21:if(6<=g&&258<=F){u.next_out=H,u.avail_out=F,u.next_in=Le,u.avail_in=g,we.hold=b,we.bits=Z,pe(u,X),H=u.next_out,Gt=u.output,F=u.avail_out,Le=u.next_in,mt=u.input,g=u.avail_in,b=we.hold,Z=we.bits,12===we.mode&&(we.back=-1);break}for(we.back=0;Et=(_t=we.lencode[b&(1<<we.lenbits)-1])>>>16&255,jt=65535&_t,!((pt=_t>>>24)<=Z);){if(0===g)break e;g--,b+=mt[Le++]<<Z,Z+=8}if(Et&&!(240&Et)){for(xn=pt,En=Et,In=jt;Et=(_t=we.lencode[In+((b&(1<<xn+En)-1)>>xn)])>>>16&255,jt=65535&_t,!(xn+(pt=_t>>>24)<=Z);){if(0===g)break e;g--,b+=mt[Le++]<<Z,Z+=8}b>>>=xn,Z-=xn,we.back+=xn}if(b>>>=pt,Z-=pt,we.back+=pt,we.length=jt,0===Et){we.mode=26;break}if(32&Et){we.back=-1,we.mode=12;break}if(64&Et){u.msg="invalid literal/length code",we.mode=30;break}we.extra=15&Et,we.mode=22;case 22:if(we.extra){for(rt=we.extra;Z<rt;){if(0===g)break e;g--,b+=mt[Le++]<<Z,Z+=8}we.length+=b&(1<<we.extra)-1,b>>>=we.extra,Z-=we.extra,we.back+=we.extra}we.was=we.length,we.mode=23;case 23:for(;Et=(_t=we.distcode[b&(1<<we.distbits)-1])>>>16&255,jt=65535&_t,!((pt=_t>>>24)<=Z);){if(0===g)break e;g--,b+=mt[Le++]<<Z,Z+=8}if(!(240&Et)){for(xn=pt,En=Et,In=jt;Et=(_t=we.distcode[In+((b&(1<<xn+En)-1)>>xn)])>>>16&255,jt=65535&_t,!(xn+(pt=_t>>>24)<=Z);){if(0===g)break e;g--,b+=mt[Le++]<<Z,Z+=8}b>>>=xn,Z-=xn,we.back+=xn}if(b>>>=pt,Z-=pt,we.back+=pt,64&Et){u.msg="invalid distance code",we.mode=30;break}we.offset=jt,we.extra=15&Et,we.mode=24;case 24:if(we.extra){for(rt=we.extra;Z<rt;){if(0===g)break e;g--,b+=mt[Le++]<<Z,Z+=8}we.offset+=b&(1<<we.extra)-1,b>>>=we.extra,Z-=we.extra,we.back+=we.extra}if(we.offset>we.dmax){u.msg="invalid distance too far back",we.mode=30;break}we.mode=25;case 25:if(0===F)break e;if(we.offset>(de=X-F)){if((de=we.offset-de)>we.whave&&we.sane){u.msg="invalid distance too far back",we.mode=30;break}me=de>we.wnext?we.wsize-(de-=we.wnext):we.wnext-de,de>we.length&&(de=we.length),ft=we.window}else ft=Gt,me=H-we.offset,de=we.length;for(F<de&&(de=F),F-=de,we.length-=de;Gt[H++]=ft[me++],--de;);0===we.length&&(we.mode=21);break;case 26:if(0===F)break e;Gt[H++]=we.length,F--,we.mode=21;break;case 27:if(we.wrap){for(;Z<32;){if(0===g)break e;g--,b|=mt[Le++]<<Z,Z+=8}if(u.total_out+=X-=F,we.total+=X,X&&(u.adler=we.check=we.flags?ee(we.check,Gt,X,H-X):V(we.check,Gt,X,H-X)),X=F,(we.flags?b:Q(b))!==we.check){u.msg="incorrect data check",we.mode=30;break}Z=b=0}we.mode=28;case 28:if(we.wrap&&we.flags){for(;Z<32;){if(0===g)break e;g--,b+=mt[Le++]<<Z,Z+=8}if(b!==(4294967295&we.total)){u.msg="incorrect length check",we.mode=30;break}Z=b=0}we.mode=29;case 29:$t=1;break e;case 30:$t=-3;break e;case 31:return-4;default:return U}return u.next_out=H,u.avail_out=F,u.next_in=Le,u.avail_in=g,we.hold=b,we.bits=Z,(we.wsize||X!==u.avail_out&&we.mode<30&&(we.mode<27||4!==dt))&&tt(u,u.output,u.next_out,X-u.avail_out)?(we.mode=31,-4):(X-=u.avail_out,u.total_in+=W-=u.avail_in,u.total_out+=X,we.total+=X,we.wrap&&X&&(u.adler=we.check=we.flags?ee(we.check,Gt,X,u.next_out-X):V(we.check,Gt,X,u.next_out-X)),u.data_type=we.bits+(we.last?64:0)+(12===we.mode?128:0)+(20===we.mode||15===we.mode?256:0),(0==W&&0===X||4===dt)&&$t===le&&($t=-5),$t)},h.inflateEnd=function(u){if(!u||!u.state)return U;var dt=u.state;return dt.window&&(dt.window=null),u.state=null,le},h.inflateGetHeader=function(u,dt){var we;return u&&u.state&&2&(we=u.state).wrap?((we.head=dt).done=!1,le):U},h.inflateSetDictionary=function(u,dt){var we,mt=dt.length;return u&&u.state?0!==(we=u.state).wrap&&11!==we.mode?U:11===we.mode&&V(1,dt,mt,0)!==we.check?-3:tt(u,dt,mt,mt)?(we.mode=31,-4):(we.havedict=1,le):U},h.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(Ve,G,h){"use strict";var C=Ve("../utils/common"),V=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],ee=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],pe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],ue=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];G.exports=function(ve,re,le,U,y,O,$,Q){var oe,Ce,xe,be,ke,Ze,Ke,De,et,tt=Q.bits,u=0,dt=0,we=0,mt=0,Gt=0,Le=0,H=0,g=0,F=0,b=0,Z=null,W=0,X=new C.Buf16(16),de=new C.Buf16(16),me=null,ft=0;for(u=0;u<=15;u++)X[u]=0;for(dt=0;dt<U;dt++)X[re[le+dt]]++;for(Gt=tt,mt=15;1<=mt&&0===X[mt];mt--);if(mt<Gt&&(Gt=mt),0===mt)return y[O++]=20971520,y[O++]=20971520,Q.bits=1,0;for(we=1;we<mt&&0===X[we];we++);for(Gt<we&&(Gt=we),u=g=1;u<=15;u++)if(g<<=1,(g-=X[u])<0)return-1;if(0<g&&(0===ve||1!==mt))return-1;for(de[1]=0,u=1;u<15;u++)de[u+1]=de[u]+X[u];for(dt=0;dt<U;dt++)0!==re[le+dt]&&($[de[re[le+dt]]++]=dt);if(Ze=0===ve?(Z=me=$,19):1===ve?(Z=V,W-=257,me=ee,ft-=257,256):(Z=pe,me=ue,-1),u=we,ke=O,H=dt=b=0,xe=-1,be=(F=1<<(Le=Gt))-1,1===ve&&852<F||2===ve&&592<F)return 1;for(;;){for(Ke=u-H,et=$[dt]<Ze?(De=0,$[dt]):$[dt]>Ze?(De=me[ft+$[dt]],Z[W+$[dt]]):(De=96,0),oe=1<<u-H,we=Ce=1<<Le;y[ke+(b>>H)+(Ce-=oe)]=Ke<<24|De<<16|et|0,0!==Ce;);for(oe=1<<u-1;b&oe;)oe>>=1;if(0!==oe?(b&=oe-1,b+=oe):b=0,dt++,0==--X[u]){if(u===mt)break;u=re[le+$[dt]]}if(Gt<u&&(b&be)!==xe){for(0===H&&(H=Gt),ke+=we,g=1<<(Le=u-H);Le+H<mt&&!((g-=X[Le+H])<=0);)Le++,g<<=1;if(F+=1<<Le,1===ve&&852<F||2===ve&&592<F)return 1;y[xe=b&be]=Gt<<24|Le<<16|ke-O|0}}return 0!==b&&(y[ke+b]=u-H<<24|64<<16|0),Q.bits=Gt,0}},{"../utils/common":41}],51:[function(Ve,G,h){"use strict";G.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(Ve,G,h){"use strict";var C=Ve("../utils/common");function pe(_t){for(var Ut=_t.length;0<=--Ut;)_t[Ut]=0}var ue=0,re=256,le=re+1+29,U=30,y=19,O=2*le+1,$=15,Q=16,Ce=256,xe=16,be=17,ke=18,Ze=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Ke=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],De=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],et=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],tt=new Array(2*(le+2));pe(tt);var u=new Array(2*U);pe(u);var dt=new Array(512);pe(dt);var we=new Array(256);pe(we);var mt=new Array(29);pe(mt);var Gt,Le,H,g=new Array(U);function F(_t,Ut,fn,un,Ft){this.static_tree=_t,this.extra_bits=Ut,this.extra_base=fn,this.elems=un,this.max_length=Ft,this.has_stree=_t&&_t.length}function b(_t,Ut){this.dyn_tree=_t,this.max_code=0,this.stat_desc=Ut}function Z(_t){return _t<256?dt[_t]:dt[256+(_t>>>7)]}function W(_t,Ut){_t.pending_buf[_t.pending++]=255&Ut,_t.pending_buf[_t.pending++]=Ut>>>8&255}function X(_t,Ut,fn){_t.bi_valid>Q-fn?(_t.bi_buf|=Ut<<_t.bi_valid&65535,W(_t,_t.bi_buf),_t.bi_buf=Ut>>Q-_t.bi_valid,_t.bi_valid+=fn-Q):(_t.bi_buf|=Ut<<_t.bi_valid&65535,_t.bi_valid+=fn)}function de(_t,Ut,fn){X(_t,fn[2*Ut],fn[2*Ut+1])}function me(_t,Ut){for(var fn=0;fn|=1&_t,_t>>>=1,fn<<=1,0<--Ut;);return fn>>>1}function ft(_t,Ut,fn){var un,Ft,Pn=new Array($+1),yn=0;for(un=1;un<=$;un++)Pn[un]=yn=yn+fn[un-1]<<1;for(Ft=0;Ft<=Ut;Ft++){var Dn=_t[2*Ft+1];0!==Dn&&(_t[2*Ft]=me(Pn[Dn]++,Dn))}}function pt(_t){var Ut;for(Ut=0;Ut<le;Ut++)_t.dyn_ltree[2*Ut]=0;for(Ut=0;Ut<U;Ut++)_t.dyn_dtree[2*Ut]=0;for(Ut=0;Ut<y;Ut++)_t.bl_tree[2*Ut]=0;_t.dyn_ltree[2*Ce]=1,_t.opt_len=_t.static_len=0,_t.last_lit=_t.matches=0}function Et(_t){8<_t.bi_valid?W(_t,_t.bi_buf):0<_t.bi_valid&&(_t.pending_buf[_t.pending++]=_t.bi_buf),_t.bi_buf=0,_t.bi_valid=0}function jt(_t,Ut,fn,un){var Ft=2*Ut,Pn=2*fn;return _t[Ft]<_t[Pn]||_t[Ft]===_t[Pn]&&un[Ut]<=un[fn]}function xn(_t,Ut,fn){for(var un=_t.heap[fn],Ft=fn<<1;Ft<=_t.heap_len&&(Ft<_t.heap_len&&jt(Ut,_t.heap[Ft+1],_t.heap[Ft],_t.depth)&&Ft++,!jt(Ut,un,_t.heap[Ft],_t.depth));)_t.heap[fn]=_t.heap[Ft],fn=Ft,Ft<<=1;_t.heap[fn]=un}function En(_t,Ut,fn){var un,Ft,Pn,yn,Dn=0;if(0!==_t.last_lit)for(;un=_t.pending_buf[_t.d_buf+2*Dn]<<8|_t.pending_buf[_t.d_buf+2*Dn+1],Ft=_t.pending_buf[_t.l_buf+Dn],Dn++,0===un?de(_t,Ft,Ut):(de(_t,(Pn=we[Ft])+re+1,Ut),0!==(yn=Ze[Pn])&&X(_t,Ft-=mt[Pn],yn),de(_t,Pn=Z(--un),fn),0!==(yn=Ke[Pn])&&X(_t,un-=g[Pn],yn)),Dn<_t.last_lit;);de(_t,Ce,Ut)}function In(_t,Ut){var fn,un,Ft,Pn=Ut.dyn_tree,yn=Ut.stat_desc.static_tree,Dn=Ut.stat_desc.has_stree,On=Ut.stat_desc.elems,Ti=-1;for(_t.heap_len=0,_t.heap_max=O,fn=0;fn<On;fn++)0!==Pn[2*fn]?(_t.heap[++_t.heap_len]=Ti=fn,_t.depth[fn]=0):Pn[2*fn+1]=0;for(;_t.heap_len<2;)Pn[2*(Ft=_t.heap[++_t.heap_len]=Ti<2?++Ti:0)]=1,_t.depth[Ft]=0,_t.opt_len--,Dn&&(_t.static_len-=yn[2*Ft+1]);for(Ut.max_code=Ti,fn=_t.heap_len>>1;1<=fn;fn--)xn(_t,Pn,fn);for(Ft=On;fn=_t.heap[1],_t.heap[1]=_t.heap[_t.heap_len--],xn(_t,Pn,1),un=_t.heap[1],_t.heap[--_t.heap_max]=fn,_t.heap[--_t.heap_max]=un,Pn[2*Ft]=Pn[2*fn]+Pn[2*un],_t.depth[Ft]=(_t.depth[fn]>=_t.depth[un]?_t.depth[fn]:_t.depth[un])+1,Pn[2*fn+1]=Pn[2*un+1]=Ft,_t.heap[1]=Ft++,xn(_t,Pn,1),2<=_t.heap_len;);_t.heap[--_t.heap_max]=_t.heap[1],function(It,Ue){var Ht,Ge,Pt,Yt,ut,ni,Kn=Ue.dyn_tree,Fn=Ue.max_code,dr=Ue.stat_desc.static_tree,Fr=Ue.stat_desc.has_stree,Ei=Ue.stat_desc.extra_bits,fo=Ue.stat_desc.extra_base,Fi=Ue.stat_desc.max_length,Xr=0;for(Yt=0;Yt<=$;Yt++)It.bl_count[Yt]=0;for(Kn[2*It.heap[It.heap_max]+1]=0,Ht=It.heap_max+1;Ht<O;Ht++)Fi<(Yt=Kn[2*Kn[2*(Ge=It.heap[Ht])+1]+1]+1)&&(Yt=Fi,Xr++),Kn[2*Ge+1]=Yt,Fn<Ge||(It.bl_count[Yt]++,ut=0,fo<=Ge&&(ut=Ei[Ge-fo]),It.opt_len+=(ni=Kn[2*Ge])*(Yt+ut),Fr&&(It.static_len+=ni*(dr[2*Ge+1]+ut)));if(0!==Xr){do{for(Yt=Fi-1;0===It.bl_count[Yt];)Yt--;It.bl_count[Yt]--,It.bl_count[Yt+1]+=2,It.bl_count[Fi]--,Xr-=2}while(0<Xr);for(Yt=Fi;0!==Yt;Yt--)for(Ge=It.bl_count[Yt];0!==Ge;)Fn<(Pt=It.heap[--Ht])||(Kn[2*Pt+1]!==Yt&&(It.opt_len+=(Yt-Kn[2*Pt+1])*Kn[2*Pt],Kn[2*Pt+1]=Yt),Ge--)}}(_t,Ut),ft(Pn,Ti,_t.bl_count)}function Te(_t,Ut,fn){var un,Ft,Pn=-1,yn=Ut[1],Dn=0,On=7,Ti=4;for(0===yn&&(On=138,Ti=3),Ut[2*(fn+1)+1]=65535,un=0;un<=fn;un++)Ft=yn,yn=Ut[2*(un+1)+1],++Dn<On&&Ft===yn||(Dn<Ti?_t.bl_tree[2*Ft]+=Dn:0!==Ft?(Ft!==Pn&&_t.bl_tree[2*Ft]++,_t.bl_tree[2*xe]++):Dn<=10?_t.bl_tree[2*be]++:_t.bl_tree[2*ke]++,Pn=Ft,Ti=(Dn=0)===yn?(On=138,3):Ft===yn?(On=6,3):(On=7,4))}function $t(_t,Ut,fn){var un,Ft,Pn=-1,yn=Ut[1],Dn=0,On=7,Ti=4;for(0===yn&&(On=138,Ti=3),un=0;un<=fn;un++)if(Ft=yn,yn=Ut[2*(un+1)+1],!(++Dn<On&&Ft===yn)){if(Dn<Ti)for(;de(_t,Ft,_t.bl_tree),0!=--Dn;);else 0!==Ft?(Ft!==Pn&&(de(_t,Ft,_t.bl_tree),Dn--),de(_t,xe,_t.bl_tree),X(_t,Dn-3,2)):Dn<=10?(de(_t,be,_t.bl_tree),X(_t,Dn-3,3)):(de(_t,ke,_t.bl_tree),X(_t,Dn-11,7));Pn=Ft,Ti=(Dn=0)===yn?(On=138,3):Ft===yn?(On=6,3):(On=7,4)}}pe(g);var Lt=!1;function rt(_t,Ut,fn,un){var Ft,Pn,yn;X(_t,(ue<<1)+(un?1:0),3),Pn=Ut,yn=fn,Et(Ft=_t),W(Ft,yn),W(Ft,~yn),C.arraySet(Ft.pending_buf,Ft.window,Pn,yn,Ft.pending),Ft.pending+=yn}h._tr_init=function(_t){Lt||(function(){var Ut,fn,un,Ft,Pn,yn=new Array($+1);for(Ft=un=0;Ft<28;Ft++)for(mt[Ft]=un,Ut=0;Ut<1<<Ze[Ft];Ut++)we[un++]=Ft;for(we[un-1]=Ft,Ft=Pn=0;Ft<16;Ft++)for(g[Ft]=Pn,Ut=0;Ut<1<<Ke[Ft];Ut++)dt[Pn++]=Ft;for(Pn>>=7;Ft<U;Ft++)for(g[Ft]=Pn<<7,Ut=0;Ut<1<<Ke[Ft]-7;Ut++)dt[256+Pn++]=Ft;for(fn=0;fn<=$;fn++)yn[fn]=0;for(Ut=0;Ut<=143;)tt[2*Ut+1]=8,Ut++,yn[8]++;for(;Ut<=255;)tt[2*Ut+1]=9,Ut++,yn[9]++;for(;Ut<=279;)tt[2*Ut+1]=7,Ut++,yn[7]++;for(;Ut<=287;)tt[2*Ut+1]=8,Ut++,yn[8]++;for(ft(tt,le+1,yn),Ut=0;Ut<U;Ut++)u[2*Ut+1]=5,u[2*Ut]=me(Ut,5);Gt=new F(tt,Ze,re+1,le,$),Le=new F(u,Ke,0,U,$),H=new F(new Array(0),De,0,y,7)}(),Lt=!0),_t.l_desc=new b(_t.dyn_ltree,Gt),_t.d_desc=new b(_t.dyn_dtree,Le),_t.bl_desc=new b(_t.bl_tree,H),_t.bi_buf=0,_t.bi_valid=0,pt(_t)},h._tr_stored_block=rt,h._tr_flush_block=function(_t,Ut,fn,un){var Ft,Pn,yn=0;0<_t.level?(2===_t.strm.data_type&&(_t.strm.data_type=function(Dn){var On,Ti=4093624447;for(On=0;On<=31;On++,Ti>>>=1)if(1&Ti&&0!==Dn.dyn_ltree[2*On])return 0;if(0!==Dn.dyn_ltree[18]||0!==Dn.dyn_ltree[20]||0!==Dn.dyn_ltree[26])return 1;for(On=32;On<re;On++)if(0!==Dn.dyn_ltree[2*On])return 1;return 0}(_t)),In(_t,_t.l_desc),In(_t,_t.d_desc),yn=function(Dn){var On;for(Te(Dn,Dn.dyn_ltree,Dn.l_desc.max_code),Te(Dn,Dn.dyn_dtree,Dn.d_desc.max_code),In(Dn,Dn.bl_desc),On=y-1;3<=On&&0===Dn.bl_tree[2*et[On]+1];On--);return Dn.opt_len+=3*(On+1)+5+5+4,On}(_t),(Pn=_t.static_len+3+7>>>3)<=(Ft=_t.opt_len+3+7>>>3)&&(Ft=Pn)):Ft=Pn=fn+5,fn+4<=Ft&&-1!==Ut?rt(_t,Ut,fn,un):4===_t.strategy||Pn===Ft?(X(_t,2+(un?1:0),3),En(_t,tt,u)):(X(_t,4+(un?1:0),3),function(Dn,On,Ti,It){var Ue;for(X(Dn,On-257,5),X(Dn,Ti-1,5),X(Dn,It-4,4),Ue=0;Ue<It;Ue++)X(Dn,Dn.bl_tree[2*et[Ue]+1],3);$t(Dn,Dn.dyn_ltree,On-1),$t(Dn,Dn.dyn_dtree,Ti-1)}(_t,_t.l_desc.max_code+1,_t.d_desc.max_code+1,yn+1),En(_t,_t.dyn_ltree,_t.dyn_dtree)),pt(_t),un&&Et(_t)},h._tr_tally=function(_t,Ut,fn){return _t.pending_buf[_t.d_buf+2*_t.last_lit]=Ut>>>8&255,_t.pending_buf[_t.d_buf+2*_t.last_lit+1]=255&Ut,_t.pending_buf[_t.l_buf+_t.last_lit]=255&fn,_t.last_lit++,0===Ut?_t.dyn_ltree[2*fn]++:(_t.matches++,Ut--,_t.dyn_ltree[2*(we[fn]+re+1)]++,_t.dyn_dtree[2*Z(Ut)]++),_t.last_lit===_t.lit_bufsize-1},h._tr_align=function(_t){var Ut;X(_t,2,3),de(_t,Ce,tt),16===(Ut=_t).bi_valid?(W(Ut,Ut.bi_buf),Ut.bi_buf=0,Ut.bi_valid=0):8<=Ut.bi_valid&&(Ut.pending_buf[Ut.pending++]=255&Ut.bi_buf,Ut.bi_buf>>=8,Ut.bi_valid-=8)}},{"../utils/common":41}],53:[function(Ve,G,h){"use strict";G.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(Ve,G,h){(function(C){!function(V,ee){"use strict";if(!V.setImmediate){var pe,ue,ve,re,le=1,U={},y=!1,O=V.document,$=Object.getPrototypeOf&&Object.getPrototypeOf(V);$=$&&$.setTimeout?$:V,pe="[object process]"==={}.toString.call(V.process)?function(xe){process.nextTick(function(){oe(xe)})}:function(){if(V.postMessage&&!V.importScripts){var xe=!0,be=V.onmessage;return V.onmessage=function(){xe=!1},V.postMessage("","*"),V.onmessage=be,xe}}()?(re="setImmediate$"+Math.random()+"$",V.addEventListener?V.addEventListener("message",Ce,!1):V.attachEvent("onmessage",Ce),function(xe){V.postMessage(re+xe,"*")}):V.MessageChannel?((ve=new MessageChannel).port1.onmessage=function(xe){oe(xe.data)},function(xe){ve.port2.postMessage(xe)}):O&&"onreadystatechange"in O.createElement("script")?(ue=O.documentElement,function(xe){var be=O.createElement("script");be.onreadystatechange=function(){oe(xe),be.onreadystatechange=null,ue.removeChild(be),be=null},ue.appendChild(be)}):function(xe){setTimeout(oe,0,xe)},$.setImmediate=function(xe){"function"!=typeof xe&&(xe=new Function(""+xe));for(var be=new Array(arguments.length-1),ke=0;ke<be.length;ke++)be[ke]=arguments[ke+1];return U[le]={callback:xe,args:be},pe(le),le++},$.clearImmediate=Q}function Q(xe){delete U[xe]}function oe(xe){if(y)setTimeout(oe,0,xe);else{var be=U[xe];if(be){y=!0;try{!function(ke){var Ze=ke.callback,Ke=ke.args;switch(Ke.length){case 0:Ze();break;case 1:Ze(Ke[0]);break;case 2:Ze(Ke[0],Ke[1]);break;case 3:Ze(Ke[0],Ke[1],Ke[2]);break;default:Ze.apply(ee,Ke)}}(be)}finally{Q(xe),y=!1}}}}function Ce(xe){xe.source===V&&"string"==typeof xe.data&&0===xe.data.indexOf(re)&&oe(+xe.data.slice(re.length))}}(typeof self>"u"?void 0===C?this:C:self)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)},7489:function(cn,Ve,G){var h;cn=G.nmd(cn),function(){var C,ee=200,ue="Expected a function",re="__lodash_hash_undefined__",U="__lodash_placeholder__",y=1,O=2,$=4,Q=1,oe=2,Ce=1,xe=2,be=4,ke=8,Ze=16,Ke=32,De=64,et=128,tt=256,u=512,mt=800,Gt=16,F=1/0,b=9007199254740991,Z=17976931348623157e292,W=NaN,X=4294967295,de=X-1,me=X>>>1,ft=[["ary",et],["bind",Ce],["bindKey",xe],["curry",ke],["curryRight",Ze],["flip",u],["partial",Ke],["partialRight",De],["rearg",tt]],pt="[object Arguments]",Et="[object Array]",jt="[object AsyncFunction]",xn="[object Boolean]",En="[object Date]",In="[object DOMException]",Te="[object Error]",$t="[object Function]",Lt="[object GeneratorFunction]",rt="[object Map]",_t="[object Number]",Ut="[object Null]",fn="[object Object]",un="[object Promise]",Ft="[object Proxy]",Pn="[object RegExp]",yn="[object Set]",Dn="[object String]",On="[object Symbol]",Ti="[object Undefined]",It="[object WeakMap]",Ht="[object ArrayBuffer]",Ge="[object DataView]",Pt="[object Float32Array]",Yt="[object Float64Array]",ut="[object Int8Array]",ni="[object Int16Array]",Kn="[object Int32Array]",Fn="[object Uint8Array]",dr="[object Uint8ClampedArray]",Fr="[object Uint16Array]",Ei="[object Uint32Array]",fo=/\b__p \+= '';/g,Fi=/\b(__p \+=) '' \+/g,Xr=/(__e\(.*?\)|\b__t\)) \+\n'';/g,pn=/&(?:amp|lt|gt|quot|#39);/g,nt=/[&<>"']/g,He=RegExp(pn.source),Xe=RegExp(nt.source),ln=/<%-([\s\S]+?)%>/g,on=/<%([\s\S]+?)%>/g,Ln=/<%=([\s\S]+?)%>/g,Wi=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,pi=/^\w*$/,bi=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ei=/[\\^$.*+?()[\]{}|]/g,si=RegExp(ei.source),qt=/^\s+/,Je=/\s/,Ae=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ne=/\{\n\/\* \[wrapped with (.+)\] \*/,Mt=/,? & /,Wt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Qe=/[()=,{}\[\]\/\s]/,Zt=/\\(\\)?/g,ht=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,sn=/\w*$/,gn=/^[-+]0x[0-9a-f]+$/i,Qn=/^0b[01]+$/i,Zn=/^\[object .+?Constructor\]$/,Vn=/^0o[0-7]+$/i,Pi=/^(?:0|[1-9]\d*)$/,Ui=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ii=/($^)/,Hi=/['\n\r\u2028\u2029\\]/g,wr="\\ud800-\\udfff",Ts="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",ks="\\u2700-\\u27bf",qo="a-z\\xdf-\\xf6\\xf8-\\xff",_o="A-Z\\xc0-\\xd6\\xd8-\\xde",ur="\\ufe0e\\ufe0f",No="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",no="["+wr+"]",wo="["+No+"]",Ri="["+Ts+"]",gs="\\d+",io="["+ks+"]",Co="["+qo+"]",Ps="[^"+wr+No+gs+ks+qo+_o+"]",po="\\ud83c[\\udffb-\\udfff]",_s="[^"+wr+"]",Oo="(?:\\ud83c[\\udde6-\\uddff]){2}",Is="[\\ud800-\\udbff][\\udc00-\\udfff]",os="["+_o+"]",Nn="(?:"+Co+"|"+Ps+")",Ao="(?:"+os+"|"+Ps+")",Nr="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",sa="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",As="(?:"+Ri+"|"+po+")?",vs="["+ur+"]?",go=vs+As+"(?:\\u200d(?:"+[_s,Oo,Is].join("|")+")"+vs+As+")*",Fs="(?:"+[io,Oo,Is].join("|")+")"+go,uo="(?:"+[_s+Ri+"?",Ri,Oo,Is,no].join("|")+")",Di=RegExp("['\u2019]","g"),ro=RegExp(Ri,"g"),Ar=RegExp(po+"(?="+po+")|"+uo+go,"g"),ys=RegExp([os+"?"+Co+"+"+Nr+"(?="+[wo,os,"$"].join("|")+")",Ao+"+"+sa+"(?="+[wo,os+Nn,"$"].join("|")+")",os+"?"+Nn+"+"+Nr,os+"+"+sa,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",gs,Fs].join("|"),"g"),Qi=RegExp("[\\u200d"+wr+Ts+ur+"]"),Vs=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,qe=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Tt=-1,q={};q[Pt]=q[Yt]=q[ut]=q[ni]=q[Kn]=q[Fn]=q[dr]=q[Fr]=q[Ei]=!0,q[pt]=q[Et]=q[Ht]=q[xn]=q[Ge]=q[En]=q[Te]=q[$t]=q[rt]=q[_t]=q[fn]=q[Pn]=q[yn]=q[Dn]=q[It]=!1;var Oe={};Oe[pt]=Oe[Et]=Oe[Ht]=Oe[Ge]=Oe[xn]=Oe[En]=Oe[Pt]=Oe[Yt]=Oe[ut]=Oe[ni]=Oe[Kn]=Oe[rt]=Oe[_t]=Oe[fn]=Oe[Pn]=Oe[yn]=Oe[Dn]=Oe[On]=Oe[Fn]=Oe[dr]=Oe[Fr]=Oe[Ei]=!0,Oe[Te]=Oe[$t]=Oe[It]=!1;var Cr={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Uo=parseFloat,Vr=parseInt,Kr="object"==typeof global&&global&&global.Object===Object&&global,zr="object"==typeof self&&self&&self.Object===Object&&self,Lr=Kr||zr||Function("return this")(),Js=Ve&&!Ve.nodeType&&Ve,ss=Js&&cn&&!cn.nodeType&&cn,Lo=ss&&ss.exports===Js,Xo=Lo&&Kr.process,Hr=function(){try{return ss&&ss.require&&ss.require("util").types||Xo&&Xo.binding&&Xo.binding("util")}catch{}}(),ts=Hr&&Hr.isArrayBuffer,Hs=Hr&&Hr.isDate,ma=Hr&&Hr.isMap,xs=Hr&&Hr.isRegExp,xi=Hr&&Hr.isSet,Wr=Hr&&Hr.isTypedArray;function Ai(Jt,An,bn){switch(bn.length){case 0:return Jt.call(An);case 1:return Jt.call(An,bn[0]);case 2:return Jt.call(An,bn[0],bn[1]);case 3:return Jt.call(An,bn[0],bn[1],bn[2])}return Jt.apply(An,bn)}function nl(Jt,An,bn,vi){for(var Gi=-1,gr=null==Jt?0:Jt.length;++Gi<gr;){var Oi=Jt[Gi];An(vi,Oi,bn(Oi),Jt)}return vi}function $i(Jt,An){for(var bn=-1,vi=null==Jt?0:Jt.length;++bn<vi&&!1!==An(Jt[bn],bn,Jt););return Jt}function Oa(Jt,An){for(var bn=null==Jt?0:Jt.length;bn--&&!1!==An(Jt[bn],bn,Jt););return Jt}function To(Jt,An){for(var bn=-1,vi=null==Jt?0:Jt.length;++bn<vi;)if(!An(Jt[bn],bn,Jt))return!1;return!0}function Ss(Jt,An){for(var bn=-1,vi=null==Jt?0:Jt.length,Gi=0,gr=[];++bn<vi;){var Oi=Jt[bn];An(Oi,bn,Jt)&&(gr[Gi++]=Oi)}return gr}function Qs(Jt,An){return!(null==Jt||!Jt.length)&&Qr(Jt,An,0)>-1}function Pr(Jt,An,bn){for(var vi=-1,Gi=null==Jt?0:Jt.length;++vi<Gi;)if(bn(An,Jt[vi]))return!0;return!1}function xr(Jt,An){for(var bn=-1,vi=null==Jt?0:Jt.length,Gi=Array(vi);++bn<vi;)Gi[bn]=An(Jt[bn],bn,Jt);return Gi}function Fe(Jt,An){for(var bn=-1,vi=An.length,Gi=Jt.length;++bn<vi;)Jt[Gi+bn]=An[bn];return Jt}function bt(Jt,An,bn,vi){var Gi=-1,gr=null==Jt?0:Jt.length;for(vi&&gr&&(bn=Jt[++Gi]);++Gi<gr;)bn=An(bn,Jt[Gi],Gi,Jt);return bn}function Se(Jt,An,bn,vi){var Gi=null==Jt?0:Jt.length;for(vi&&Gi&&(bn=Jt[--Gi]);Gi--;)bn=An(bn,Jt[Gi],Gi,Jt);return bn}function Ct(Jt,An){for(var bn=-1,vi=null==Jt?0:Jt.length;++bn<vi;)if(An(Jt[bn],bn,Jt))return!0;return!1}var kt=ya("length");function Rr(Jt,An,bn){var vi;return bn(Jt,function(Gi,gr,Oi){if(An(Gi,gr,Oi))return vi=gr,!1}),vi}function zs(Jt,An,bn,vi){for(var Gi=Jt.length,gr=bn+(vi?1:-1);vi?gr--:++gr<Gi;)if(An(Jt[gr],gr,Jt))return gr;return-1}function Qr(Jt,An,bn){return An==An?function qn(Jt,An,bn){for(var vi=bn-1,Gi=Jt.length;++vi<Gi;)if(Jt[vi]===An)return vi;return-1}(Jt,An,bn):zs(Jt,nr,bn)}function Jo(Jt,An,bn,vi){for(var Gi=bn-1,gr=Jt.length;++Gi<gr;)if(vi(Jt[Gi],An))return Gi;return-1}function nr(Jt){return Jt!=Jt}function ar(Jt,An){var bn=null==Jt?0:Jt.length;return bn?at(Jt,An)/bn:W}function ya(Jt){return function(An){return null==An?C:An[Jt]}}function Pe(Jt){return function(An){return null==Jt?C:Jt[An]}}function ye(Jt,An,bn,vi,Gi){return Gi(Jt,function(gr,Oi,Ni){bn=vi?(vi=!1,gr):An(bn,gr,Oi,Ni)}),bn}function at(Jt,An){for(var bn,vi=-1,Gi=Jt.length;++vi<Gi;){var gr=An(Jt[vi]);gr!==C&&(bn=bn===C?gr:bn+gr)}return bn}function Tn(Jt,An){for(var bn=-1,vi=Array(Jt);++bn<Jt;)vi[bn]=An(bn);return vi}function Go(Jt){return Jt&&Jt.slice(0,br(Jt)+1).replace(qt,"")}function Sn(Jt){return function(An){return Jt(An)}}function Sr(Jt,An){return xr(An,function(bn){return Jt[bn]})}function _a(Jt,An){return Jt.has(An)}function $a(Jt,An){for(var bn=-1,vi=Jt.length;++bn<vi&&Qr(An,Jt[bn],0)>-1;);return bn}function Yo(Jt,An){for(var bn=Jt.length;bn--&&Qr(An,Jt[bn],0)>-1;);return bn}var Za=Pe({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),I=Pe({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function w(Jt){return"\\"+Cr[Jt]}function te(Jt){return Qi.test(Jt)}function We(Jt){var An=-1,bn=Array(Jt.size);return Jt.forEach(function(vi,Gi){bn[++An]=[Gi,vi]}),bn}function vt(Jt,An){return function(bn){return Jt(An(bn))}}function zt(Jt,An){for(var bn=-1,vi=Jt.length,Gi=0,gr=[];++bn<vi;){var Oi=Jt[bn];(Oi===An||Oi===U)&&(Jt[bn]=U,gr[Gi++]=bn)}return gr}function an(Jt){var An=-1,bn=Array(Jt.size);return Jt.forEach(function(vi){bn[++An]=vi}),bn}function hi(Jt){return te(Jt)?function $r(Jt){for(var An=Ar.lastIndex=0;Ar.test(Jt);)++An;return An}(Jt):kt(Jt)}function Un(Jt){return te(Jt)?function Bo(Jt){return Jt.match(Ar)||[]}(Jt):function mn(Jt){return Jt.split("")}(Jt)}function br(Jt){for(var An=Jt.length;An--&&Je.test(Jt.charAt(An)););return An}var jo=Pe({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Vo=function Jt(An){var m,bn=(An=null==An?Lr:Vo.defaults(Lr.Object(),An,Vo.pick(Lr,qe))).Array,vi=An.Date,Gi=An.Error,gr=An.Function,Oi=An.Math,Ni=An.Object,Da=An.RegExp,xo=An.String,Or=An.TypeError,ka=bn.prototype,za=Ni.prototype,Wa=An["__core-js_shared__"],Ho=gr.prototype.toString,eo=za.hasOwnProperty,Dl=0,qa=(m=/[^.]+$/.exec(Wa&&Wa.keys&&Wa.keys.IE_PROTO||""))?"Symbol(src)_1."+m:"",R=za.toString,D=Ho.call(Ni),S=Lr._,N=Da("^"+Ho.call(eo).replace(ei,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ie=Lo?An.Buffer:C,Re=An.Symbol,ot=An.Uint8Array,At=ie?ie.allocUnsafe:C,nn=vt(Ni.getPrototypeOf,Ni),Cn=Ni.create,Gn=za.propertyIsEnumerable,hn=ka.splice,Xi=Re?Re.isConcatSpreadable:C,yi=Re?Re.iterator:C,Si=Re?Re.toStringTag:C,er=function(){try{var m=Hc(Ni,"defineProperty");return m({},"",{}),m}catch{}}(),Dr=An.clearTimeout!==Lr.clearTimeout&&An.clearTimeout,Zr=vi&&vi.now!==Lr.Date.now&&vi.now,oo=An.setTimeout!==Lr.setTimeout&&An.setTimeout,so=Oi.ceil,Po=Oi.floor,Ns=Ni.getOwnPropertySymbols,ba=ie?ie.isBuffer:C,Qo=An.isFinite,Xa=ka.join,Fa=vt(Ni.keys,Ni),vo=Oi.max,Ms=Oi.min,is=vi.now,wa=An.parseInt,Tl=Oi.random,tc=ka.reverse,Yi=Hc(An,"DataView"),Ji=Hc(An,"Map"),ci=Hc(An,"Promise"),fr=Hc(An,"Set"),zo=Hc(An,"WeakMap"),ea=Hc(Ni,"create"),ji=zo&&new zo,Ws={},bs=wc(Yi),il=wc(Ji),_l=wc(ci),Us=wc(fr),ta=wc(zo),ko=Re?Re.prototype:C,aa=ko?ko.valueOf:C,Ua=ko?ko.toString:C;function lt(m){if(pa(m)&&!Yr(m)&&!(m instanceof Ur)){if(m instanceof na)return m;if(eo.call(m,"__wrapped__"))return ig(m)}return new na(m)}var Pl=function(){function m(){}return function(E){if(!Zs(E))return{};if(Cn)return Cn(E);m.prototype=E;var B=new m;return m.prototype=C,B}}();function rl(){}function na(m,E){this.__wrapped__=m,this.__actions__=[],this.__chain__=!!E,this.__index__=0,this.__values__=C}function Ur(m){this.__wrapped__=m,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=X,this.__views__=[]}function ca(m){var E=-1,B=null==m?0:m.length;for(this.clear();++E<B;){var ge=m[E];this.set(ge[0],ge[1])}}function ds(m){var E=-1,B=null==m?0:m.length;for(this.clear();++E<B;){var ge=m[E];this.set(ge[0],ge[1])}}function Ca(m){var E=-1,B=null==m?0:m.length;for(this.clear();++E<B;){var ge=m[E];this.set(ge[0],ge[1])}}function Ja(m){var E=-1,B=null==m?0:m.length;for(this.__data__=new Ca;++E<B;)this.add(m[E])}function Gs(m){var E=this.__data__=new ds(m);this.size=E.size}function se(m,E){var B=Yr(m),ge=!B&&Yc(m),Ye=!B&&!ge&&Mc(m),wt=!B&&!ge&&!Ye&&El(m),Bt=B||ge||Ye||wt,Xt=Bt?Tn(m.length,xo):[],dn=Xt.length;for(var zn in m)(E||eo.call(m,zn))&&(!Bt||!("length"==zn||Ye&&("offset"==zn||"parent"==zn)||wt&&("buffer"==zn||"byteLength"==zn||"byteOffset"==zn)||da(zn,dn)))&&Xt.push(zn);return Xt}function Ie(m){var E=m.length;return E?m[hd(0,E-1)]:C}function $e(m,E){return ju(cl(m),Na(E,0,m.length))}function ct(m){return ju(cl(m))}function Qt(m,E,B){(B!==C&&!Xl(m[E],B)||B===C&&!(E in m))&&ws(m,E,B)}function kn(m,E,B){var ge=m[E];(!eo.call(m,E)||!Xl(ge,B)||B===C&&!(E in m))&&ws(m,E,B)}function Ci(m,E){for(var B=m.length;B--;)if(Xl(m[B][0],E))return B;return-1}function Bi(m,E,B,ge){return sl(m,function(Ye,wt,Bt){E(ge,Ye,B(Ye),Bt)}),ge}function ho(m,E){return m&&Ul(E,Aa(E),m)}function ws(m,E,B){"__proto__"==E&&er?er(m,E,{configurable:!0,enumerable:!0,value:B,writable:!0}):m[E]=B}function Qa(m,E){for(var B=-1,ge=E.length,Ye=bn(ge),wt=null==m;++B<ge;)Ye[B]=wt?C:Nl(m,E[B]);return Ye}function Na(m,E,B){return m==m&&(B!==C&&(m=m<=B?m:B),E!==C&&(m=m>=E?m:E)),m}function hs(m,E,B,ge,Ye,wt){var Bt,Xt=E&y,dn=E&O,zn=E&$;if(B&&(Bt=Ye?B(m,ge,Ye,wt):B(m)),Bt!==C)return Bt;if(!Zs(m))return m;var Yn=Yr(m);if(Yn){if(Bt=function qp(m){var E=m.length,B=new m.constructor(E);return E&&"string"==typeof m[0]&&eo.call(m,"index")&&(B.index=m.index,B.input=m.input),B}(m),!Xt)return cl(m,Bt)}else{var ti=Ia(m),Vi=ti==$t||ti==Lt;if(Mc(m))return Lc(m,Xt);if(ti==fn||ti==pt||Vi&&!Ye){if(Bt=dn||Vi?{}:Cf(m),!Xt)return dn?function Kp(m,E){return Ul(m,au(m),E)}(m,function Ls(m,E){return m&&Ul(E,fl(E),m)}(Bt,m)):function mf(m,E){return Ul(m,yc(m),E)}(m,ho(Bt,m))}else{if(!Oe[ti])return Ye?m:{};Bt=function Xp(m,E,B){var ge=m.constructor;switch(E){case Ht:return nu(m);case xn:case En:return new ge(+m);case Ge:return function hf(m,E){var B=E?nu(m.buffer):m.buffer;return new m.constructor(B,m.byteOffset,m.byteLength)}(m,B);case Pt:case Yt:case ut:case ni:case Kn:case Fn:case dr:case Fr:case Ei:return Jd(m,B);case rt:return new ge;case _t:case Dn:return new ge(m);case Pn:return function ff(m){var E=new m.constructor(m.source,sn.exec(m));return E.lastIndex=m.lastIndex,E}(m);case yn:return new ge;case On:return function Xd(m){return aa?Ni(aa.call(m)):{}}(m)}}(m,ti,Xt)}}wt||(wt=new Gs);var cr=wt.get(m);if(cr)return cr;wt.set(m,Bt),Ec(m)?m.forEach(function(Er){Bt.add(hs(Er,E,B,Er,m,wt))}):hu(m)&&m.forEach(function(Er,bo){Bt.set(bo,hs(Er,E,B,bo,m,wt))});var lo=Yn?C:(zn?dn?Fu:lc:dn?fl:Aa)(m);return $i(lo||m,function(Er,bo){lo&&(Er=m[bo=Er]),kn(Bt,bo,hs(Er,E,B,bo,m,wt))}),Bt}function ol(m,E,B){var ge=B.length;if(null==m)return!ge;for(m=Ni(m);ge--;){var Ye=B[ge],Bt=m[Ye];if(Bt===C&&!(Ye in m)||!(0,E[Ye])(Bt))return!1}return!0}function oc(m,E,B){if("function"!=typeof m)throw new Or(ue);return lh(function(){m.apply(C,B)},E)}function ia(m,E,B,ge){var Ye=-1,wt=Qs,Bt=!0,Xt=m.length,dn=[],zn=E.length;if(!Xt)return dn;B&&(E=xr(E,Sn(B))),ge?(wt=Pr,Bt=!1):E.length>=ee&&(wt=_a,Bt=!1,E=new Ja(E));e:for(;++Ye<Xt;){var Yn=m[Ye],ti=null==B?Yn:B(Yn);if(Yn=ge||0!==Yn?Yn:0,Bt&&ti==ti){for(var Vi=zn;Vi--;)if(E[Vi]===ti)continue e;dn.push(Yn)}else wt(E,ti,ge)||dn.push(Yn)}return dn}lt.templateSettings={escape:ln,evaluate:on,interpolate:Ln,variable:"",imports:{_:lt}},(lt.prototype=rl.prototype).constructor=lt,(na.prototype=Pl(rl.prototype)).constructor=na,(Ur.prototype=Pl(rl.prototype)).constructor=Ur,ca.prototype.clear=function gc(){this.__data__=ea?ea(null):{},this.size=0},ca.prototype.delete=function ic(m){var E=this.has(m)&&delete this.__data__[m];return this.size-=E?1:0,E},ca.prototype.get=function mc(m){var E=this.__data__;if(ea){var B=E[m];return B===re?C:B}return eo.call(E,m)?E[m]:C},ca.prototype.has=function rc(m){var E=this.__data__;return ea?E[m]!==C:eo.call(E,m)},ca.prototype.set=function Gr(m,E){var B=this.__data__;return this.size+=this.has(m)?0:1,B[m]=ea&&E===C?re:E,this},ds.prototype.clear=function yr(){this.__data__=[],this.size=0},ds.prototype.delete=function Jh(m){var E=this.__data__,B=Ci(E,m);return!(B<0||(B==E.length-1?E.pop():hn.call(E,B,1),--this.size,0))},ds.prototype.get=function zp(m){var E=this.__data__,B=Ci(E,m);return B<0?C:E[B][1]},ds.prototype.has=function ai(m){return Ci(this.__data__,m)>-1},ds.prototype.set=function Ko(m,E){var B=this.__data__,ge=Ci(B,m);return ge<0?(++this.size,B.push([m,E])):B[ge][1]=E,this},Ca.prototype.clear=function vl(){this.size=0,this.__data__={hash:new ca,map:new(Ji||ds),string:new ca}},Ca.prototype.delete=function Vl(m){var E=Vc(this,m).delete(m);return this.size-=E?1:0,E},Ca.prototype.get=function Ic(m){return Vc(this,m).get(m)},Ca.prototype.has=function Zi(m){return Vc(this,m).has(m)},Ca.prototype.set=function Al(m,E){var B=Vc(this,m),ge=B.size;return B.set(m,E),this.size+=B.size==ge?0:1,this},Ja.prototype.add=Ja.prototype.push=function rd(m){return this.__data__.set(m,re),this},Ja.prototype.has=function jr(m){return this.__data__.has(m)},Gs.prototype.clear=function Ac(){this.__data__=new ds,this.size=0},Gs.prototype.delete=function Hl(m){var E=this.__data__,B=E.delete(m);return this.size=E.size,B},Gs.prototype.get=function K(m){return this.__data__.get(m)},Gs.prototype.has=function J(m){return this.__data__.has(m)},Gs.prototype.set=function j(m,E){var B=this.__data__;if(B instanceof ds){var ge=B.__data__;if(!Ji||ge.length<ee-1)return ge.push([m,E]),this.size=++B.size,this;B=this.__data__=new Ca(ge)}return B.set(m,E),this.size=B.size,this};var sl=ac(Ta),Wd=ac(od,!0);function Ud(m,E){var B=!0;return sl(m,function(ge,Ye,wt){return B=!!E(ge,Ye,wt)}),B}function La(m,E,B){for(var ge=-1,Ye=m.length;++ge<Ye;){var wt=m[ge],Bt=E(wt);if(null!=Bt&&(Xt===C?Bt==Bt&&!Ba(Bt):B(Bt,Xt)))var Xt=Bt,dn=wt}return dn}function Gd(m,E){var B=[];return sl(m,function(ge,Ye,wt){E(ge,Ye,wt)&&B.push(ge)}),B}function ra(m,E,B,ge,Ye){var wt=-1,Bt=m.length;for(B||(B=Qp),Ye||(Ye=[]);++wt<Bt;){var Xt=m[wt];E>0&&B(Xt)?E>1?ra(Xt,E-1,B,ge,Ye):Fe(Ye,Xt):ge||(Ye[Ye.length]=Xt)}return Ye}var as=ki(),Fo=ki(!0);function Ta(m,E){return m&&as(m,E,Aa)}function od(m,E){return m&&Fo(m,E,Aa)}function js(m,E){return Ss(E,function(B){return Ml(m[B])})}function zl(m,E){for(var B=0,ge=(E=Wo(E,m)).length;null!=m&&B<ge;)m=m[bc(E[B++])];return B&&B==ge?m:C}function Yd(m,E,B){var ge=E(m);return Yr(m)?ge:Fe(ge,B(m))}function Ga(m){return null==m?m===C?Ti:Ut:Si&&Si in Ni(m)?function wd(m){var E=eo.call(m,Si),B=m[Si];try{m[Si]=C;var ge=!0}catch{}var Ye=R.call(m);return ge&&(E?m[Si]=B:delete m[Si]),Ye}(m):function Lu(m){return R.call(m)}(m)}function sd(m,E){return m>E}function Qh(m,E){return null!=m&&eo.call(m,E)}function ef(m,E){return null!=m&&E in Ni(m)}function Mu(m,E,B){for(var ge=B?Pr:Qs,Ye=m[0].length,wt=m.length,Bt=wt,Xt=bn(wt),dn=1/0,zn=[];Bt--;){var Yn=m[Bt];Bt&&E&&(Yn=xr(Yn,Sn(E))),dn=Ms(Yn.length,dn),Xt[Bt]=!B&&(E||Ye>=120&&Yn.length>=120)?new Ja(Bt&&Yn):C}Yn=m[0];var ti=-1,Vi=Xt[0];e:for(;++ti<Ye&&zn.length<dn;){var cr=Yn[ti],Mr=E?E(cr):cr;if(cr=B||0!==cr?cr:0,!(Vi?_a(Vi,Mr):ge(zn,Mr,B))){for(Bt=wt;--Bt;){var lo=Xt[Bt];if(!(lo?_a(lo,Mr):ge(m[Bt],Mr,B)))continue e}Vi&&Vi.push(Mr),zn.push(cr)}}return zn}function Rc(m,E,B){var ge=null==(m=zc(m,E=Wo(E,m)))?m:m[bc(Cl(E))];return null==ge?C:Ai(ge,m,B)}function nf(m){return pa(m)&&Ga(m)==pt}function Oc(m,E,B,ge,Ye){return m===E||(null==m||null==E||!pa(m)&&!pa(E)?m!=m&&E!=E:function rf(m,E,B,ge,Ye,wt){var Bt=Yr(m),Xt=Yr(E),dn=Bt?Et:Ia(m),zn=Xt?Et:Ia(E),Yn=(dn=dn==pt?fn:dn)==fn,ti=(zn=zn==pt?fn:zn)==fn,Vi=dn==zn;if(Vi&&Mc(m)){if(!Mc(E))return!1;Bt=!0,Yn=!1}if(Vi&&!Yn)return wt||(wt=new Gs),Bt||El(m)?yf(m,E,B,ge,Ye,wt):function bf(m,E,B,ge,Ye,wt,Bt){switch(B){case Ge:if(m.byteLength!=E.byteLength||m.byteOffset!=E.byteOffset)return!1;m=m.buffer,E=E.buffer;case Ht:return!(m.byteLength!=E.byteLength||!wt(new ot(m),new ot(E)));case xn:case En:case _t:return Xl(+m,+E);case Te:return m.name==E.name&&m.message==E.message;case Pn:case Dn:return m==E+"";case rt:var Xt=We;case yn:if(Xt||(Xt=an),m.size!=E.size&&!(ge&Q))return!1;var zn=Bt.get(m);if(zn)return zn==E;ge|=oe,Bt.set(m,E);var Yn=yf(Xt(m),Xt(E),ge,Ye,wt,Bt);return Bt.delete(m),Yn;case On:if(aa)return aa.call(m)==aa.call(E)}return!1}(m,E,dn,B,ge,Ye,wt);if(!(B&Q)){var cr=Yn&&eo.call(m,"__wrapped__"),Mr=ti&&eo.call(E,"__wrapped__");if(cr||Mr){var lo=cr?m.value():m,Er=Mr?E.value():E;return wt||(wt=new Gs),Ye(lo,Er,B,ge,wt)}}return!!Vi&&(wt||(wt=new Gs),function yd(m,E,B,ge,Ye,wt){var Bt=B&Q,Xt=lc(m),dn=Xt.length;if(dn!=lc(E).length&&!Bt)return!1;for(var ti=dn;ti--;){var Vi=Xt[ti];if(!(Bt?Vi in E:eo.call(E,Vi)))return!1}var cr=wt.get(m),Mr=wt.get(E);if(cr&&Mr)return cr==E&&Mr==m;var lo=!0;wt.set(m,E),wt.set(E,m);for(var Er=Bt;++ti<dn;){var bo=m[Vi=Xt[ti]],Mo=E[Vi];if(ge)var Ha=Bt?ge(Mo,bo,Vi,E,m,wt):ge(bo,Mo,Vi,m,E,wt);if(!(Ha===C?bo===Mo||Ye(bo,Mo,B,ge,wt):Ha)){lo=!1;break}Er||(Er="constructor"==Vi)}if(lo&&!Er){var qs=m.constructor,pl=E.constructor;qs!=pl&&"constructor"in m&&"constructor"in E&&!("function"==typeof qs&&qs instanceof qs&&"function"==typeof pl&&pl instanceof pl)&&(lo=!1)}return wt.delete(m),wt.delete(E),lo}(m,E,B,ge,Ye,wt))}(m,E,B,ge,Oc,Ye))}function cd(m,E,B,ge){var Ye=B.length,wt=Ye,Bt=!ge;if(null==m)return!wt;for(m=Ni(m);Ye--;){var Xt=B[Ye];if(Bt&&Xt[2]?Xt[1]!==m[Xt[0]]:!(Xt[0]in m))return!1}for(;++Ye<wt;){var dn=(Xt=B[Ye])[0],zn=m[dn],Yn=Xt[1];if(Bt&&Xt[2]){if(zn===C&&!(dn in m))return!1}else{var ti=new Gs;if(ge)var Vi=ge(zn,Yn,dn,m,E,ti);if(!(Vi===C?Oc(Yn,zn,Q|oe,ge,ti):Vi))return!1}}return!0}function sf(m){return!(!Zs(m)||function Nu(m){return!!qa&&qa in m}(m))&&(Ml(m)?N:Zn).test(wc(m))}function Jn(m){return"function"==typeof m?m:null==m?Es:"object"==typeof m?Yr(m)?xa(m[0],m[1]):Eu(m):zh(m)}function Kd(m){if(!Gl(m))return Fa(m);var E=[];for(var B in Ni(m))eo.call(m,B)&&"constructor"!=B&&E.push(B);return E}function So(m,E){return m<E}function kc(m,E){var B=-1,ge=ja(m)?bn(m.length):[];return sl(m,function(Ye,wt,Bt){ge[++B]=E(Ye,wt,Bt)}),ge}function Eu(m){var E=su(m);return 1==E.length&&E[0][2]?tg(E[0][0],E[0][1]):function(B){return B===m||cd(B,m,E)}}function xa(m,E){return ih(m)&&xf(E)?tg(bc(m),E):function(B){var ge=Nl(B,m);return ge===C&&ge===E?hp(B,m):Oc(E,ge,Q|oe)}}function Rs(m,E,B,ge,Ye){m!==E&&as(E,function(wt,Bt){if(Ye||(Ye=new Gs),Zs(wt))!function ls(m,E,B,ge,Ye,wt,Bt){var Xt=ah(m,B),dn=ah(E,B),zn=Bt.get(dn);if(zn)Qt(m,B,zn);else{var Yn=wt?wt(Xt,dn,B+"",m,E,Bt):C,ti=Yn===C;if(ti){var Vi=Yr(dn),cr=!Vi&&Mc(dn),Mr=!Vi&&!cr&&El(dn);Yn=dn,Vi||cr||Mr?Yr(Xt)?Yn=Xt:$s(Xt)?Yn=cl(Xt):cr?(ti=!1,Yn=Lc(dn,!0)):Mr?(ti=!1,Yn=Jd(dn,!0)):Yn=[]:uc(dn)||Yc(dn)?(Yn=Xt,Yc(Xt)?Yn=Rh(Xt):(!Zs(Xt)||Ml(Xt))&&(Yn=Cf(dn))):ti=!1}ti&&(Bt.set(dn,Yn),Ye(Yn,dn,ge,wt,Bt),Bt.delete(dn)),Qt(m,B,Yn)}}(m,E,Bt,B,Rs,ge,Ye);else{var Xt=ge?ge(ah(m,Bt),wt,Bt+"",m,E,Ye):C;Xt===C&&(Xt=wt),Qt(m,Bt,Xt)}},fl)}function fi(m,E){var B=m.length;if(B)return da(E+=E<0?B:0,B)?m[E]:C}function lr(m,E,B){E=E.length?xr(E,function(wt){return Yr(wt)?function(Bt){return zl(Bt,1===wt.length?wt[0]:wt)}:wt}):[Es];var ge=-1;return E=xr(E,Sn(_r())),function fe(Jt,An){var bn=Jt.length;for(Jt.sort(An);bn--;)Jt[bn]=Jt[bn].value;return Jt}(kc(m,function(wt,Bt,Xt){return{criteria:xr(E,function(zn){return zn(wt)}),index:++ge,value:wt}}),function(wt,Bt){return function Cm(m,E,B){for(var ge=-1,Ye=m.criteria,wt=E.criteria,Bt=Ye.length,Xt=B.length;++ge<Bt;){var dn=pf(Ye[ge],wt[ge]);if(dn)return ge>=Xt?dn:dn*("desc"==B[ge]?-1:1)}return m.index-E.index}(wt,Bt,B)})}function $d(m,E,B){for(var ge=-1,Ye=E.length,wt={};++ge<Ye;){var Bt=E[ge],Xt=zl(m,Bt);B(Xt,Bt)&&Fc(wt,Wo(Bt,m),Xt)}return wt}function Qc(m,E,B,ge){var Ye=ge?Jo:Qr,wt=-1,Bt=E.length,Xt=m;for(m===E&&(E=cl(E)),B&&(Xt=xr(m,Sn(B)));++wt<Bt;)for(var dn=0,zn=E[wt],Yn=B?B(zn):zn;(dn=Ye(Xt,Yn,dn,ge))>-1;)Xt!==m&&hn.call(Xt,dn,1),hn.call(m,dn,1);return m}function lf(m,E){for(var B=m?E.length:0,ge=B-1;B--;){var Ye=E[B];if(B==ge||Ye!==wt){var wt=Ye;da(Ye)?hn.call(m,Ye,1):Sa(m,Ye)}}return m}function hd(m,E){return m+Po(Tl()*(E-m+1))}function al(m,E){var B="";if(!m||E<1||E>b)return B;do{E%2&&(B+=m),(E=Po(E/2))&&(m+=m)}while(E);return B}function ao(m,E){return Df(kl(m,E,Es),m+"")}function Gp(m){return Ie(ec(m))}function Ya(m,E){var B=ec(m);return ju(B,Na(E,0,B.length))}function Fc(m,E,B,ge){if(!Zs(m))return m;for(var Ye=-1,wt=(E=Wo(E,m)).length,Bt=wt-1,Xt=m;null!=Xt&&++Ye<wt;){var dn=bc(E[Ye]),zn=B;if("__proto__"===dn||"constructor"===dn||"prototype"===dn)return m;if(Ye!=Bt){var Yn=Xt[dn];(zn=ge?ge(Yn,dn,Xt):C)===C&&(zn=Zs(Yn)?Yn:da(E[Ye+1])?[]:{})}kn(Xt,dn,zn),Xt=Xt[dn]}return m}var uf=ji?function(m,E){return ji.set(m,E),m}:Es,df=er?function(m,E){return er(m,"toString",{configurable:!0,enumerable:!1,value:gu(E),writable:!0})}:Es;function oa(m){return ju(ec(m))}function Pa(m,E,B){var ge=-1,Ye=m.length;E<0&&(E=-E>Ye?0:Ye+E),(B=B>Ye?Ye:B)<0&&(B+=Ye),Ye=E>B?0:B-E>>>0,E>>>=0;for(var wt=bn(Ye);++ge<Ye;)wt[ge]=m[ge+E];return wt}function Du(m,E){var B;return sl(m,function(ge,Ye,wt){return!(B=E(ge,Ye,wt))}),!!B}function ll(m,E,B){var ge=0,Ye=null==m?ge:m.length;if("number"==typeof E&&E==E&&Ye<=me){for(;ge<Ye;){var wt=ge+Ye>>>1,Bt=m[wt];null!==Bt&&!Ba(Bt)&&(B?Bt<=E:Bt<E)?ge=wt+1:Ye=wt}return Ye}return fd(m,E,Es,B)}function fd(m,E,B,ge){var Ye=0,wt=null==m?0:m.length;if(0===wt)return 0;for(var Bt=(E=B(E))!=E,Xt=null===E,dn=Ba(E),zn=E===C;Ye<wt;){var Yn=Po((Ye+wt)/2),ti=B(m[Yn]),Vi=ti!==C,cr=null===ti,Mr=ti==ti,lo=Ba(ti);if(Bt)var Er=ge||Mr;else Er=zn?Mr&&(ge||Vi):Xt?Mr&&Vi&&(ge||!cr):dn?Mr&&Vi&&!cr&&(ge||!lo):!cr&&!lo&&(ge?ti<=E:ti<E);Er?Ye=Yn+1:wt=Yn}return Ms(wt,de)}function eu(m,E){for(var B=-1,ge=m.length,Ye=0,wt=[];++B<ge;){var Bt=m[B],Xt=E?E(Bt):Bt;if(!B||!Xl(Xt,dn)){var dn=Xt;wt[Ye++]=0===Bt?0:Bt}}return wt}function qd(m){return"number"==typeof m?m:Ba(m)?W:+m}function va(m){if("string"==typeof m)return m;if(Yr(m))return xr(m,va)+"";if(Ba(m))return Ua?Ua.call(m):"";var E=m+"";return"0"==E&&1/m==-F?"-0":E}function sc(m,E,B){var ge=-1,Ye=Qs,wt=m.length,Bt=!0,Xt=[],dn=Xt;if(B)Bt=!1,Ye=Pr;else if(wt>=ee){var zn=E?null:th(m);if(zn)return an(zn);Bt=!1,Ye=_a,dn=new Ja}else dn=E?[]:Xt;e:for(;++ge<wt;){var Yn=m[ge],ti=E?E(Yn):Yn;if(Yn=B||0!==Yn?Yn:0,Bt&&ti==ti){for(var Vi=dn.length;Vi--;)if(dn[Vi]===ti)continue e;E&&dn.push(ti),Xt.push(Yn)}else Ye(dn,ti,B)||(dn!==Xt&&dn.push(ti),Xt.push(Yn))}return Xt}function Sa(m,E){return null==(m=zc(m,E=Wo(E,m)))||delete m[bc(Cl(E))]}function Ma(m,E,B,ge){return Fc(m,E,B(zl(m,E)),ge)}function _c(m,E,B,ge){for(var Ye=m.length,wt=ge?Ye:-1;(ge?wt--:++wt<Ye)&&E(m[wt],wt,m););return B?Pa(m,ge?0:wt,ge?wt+1:Ye):Pa(m,ge?wt+1:0,ge?Ye:wt)}function rs(m,E){var B=m;return B instanceof Ur&&(B=B.value()),bt(E,function(ge,Ye){return Ye.func.apply(Ye.thisArg,Fe([ge],Ye.args))},B)}function tu(m,E,B){var ge=m.length;if(ge<2)return ge?sc(m[0]):[];for(var Ye=-1,wt=bn(ge);++Ye<ge;)for(var Bt=m[Ye],Xt=-1;++Xt<ge;)Xt!=Ye&&(wt[Ye]=ia(wt[Ye]||Bt,m[Xt],E,B));return sc(ra(wt,1),E,B)}function Tu(m,E,B){for(var ge=-1,Ye=m.length,wt=E.length,Bt={};++ge<Ye;)B(Bt,m[ge],ge<wt?E[ge]:C);return Bt}function Rl(m){return $s(m)?m:[]}function Nc(m){return"function"==typeof m?m:Es}function Wo(m,E){return Yr(m)?m:ih(m,E)?[m]:Mm($o(m))}var pd=ao;function Wl(m,E,B){var ge=m.length;return B=B===C?ge:B,!E&&B>=ge?m:Pa(m,E,B)}var gd=Dr||function(m){return Lr.clearTimeout(m)};function Lc(m,E){if(E)return m.slice();var B=m.length,ge=At?At(B):new m.constructor(B);return m.copy(ge),ge}function nu(m){var E=new m.constructor(m.byteLength);return new ot(E).set(new ot(m)),E}function Jd(m,E){var B=E?nu(m.buffer):m.buffer;return new m.constructor(B,m.byteOffset,m.length)}function pf(m,E){if(m!==E){var B=m!==C,ge=null===m,Ye=m==m,wt=Ba(m),Bt=E!==C,Xt=null===E,dn=E==E,zn=Ba(E);if(!Xt&&!zn&&!wt&&m>E||wt&&Bt&&dn&&!Xt&&!zn||ge&&Bt&&dn||!B&&dn||!Ye)return 1;if(!ge&&!wt&&!zn&&m<E||zn&&B&&Ye&&!ge&&!wt||Xt&&B&&Ye||!Bt&&Ye||!dn)return-1}return 0}function Yp(m,E,B,ge){for(var Ye=-1,wt=m.length,Bt=B.length,Xt=-1,dn=E.length,zn=vo(wt-Bt,0),Yn=bn(dn+zn),ti=!ge;++Xt<dn;)Yn[Xt]=E[Xt];for(;++Ye<Bt;)(ti||Ye<wt)&&(Yn[B[Ye]]=m[Ye]);for(;zn--;)Yn[Xt++]=m[Ye++];return Yn}function gf(m,E,B,ge){for(var Ye=-1,wt=m.length,Bt=-1,Xt=B.length,dn=-1,zn=E.length,Yn=vo(wt-Xt,0),ti=bn(Yn+zn),Vi=!ge;++Ye<Yn;)ti[Ye]=m[Ye];for(var cr=Ye;++dn<zn;)ti[cr+dn]=E[dn];for(;++Bt<Xt;)(Vi||Ye<wt)&&(ti[cr+B[Bt]]=m[Ye++]);return ti}function cl(m,E){var B=-1,ge=m.length;for(E||(E=bn(ge));++B<ge;)E[B]=m[B];return E}function Ul(m,E,B,ge){var Ye=!B;B||(B={});for(var wt=-1,Bt=E.length;++wt<Bt;){var Xt=E[wt],dn=ge?ge(B[Xt],m[Xt],Xt,B,m):C;dn===C&&(dn=m[Xt]),Ye?ws(B,Xt,dn):kn(B,Xt,dn)}return B}function Pu(m,E){return function(B,ge){var Ye=Yr(B)?nl:Bi,wt=E?E():{};return Ye(B,m,_r(ge,2),wt)}}function Iu(m){return ao(function(E,B){var ge=-1,Ye=B.length,wt=Ye>1?B[Ye-1]:C,Bt=Ye>2?B[2]:C;for(wt=m.length>3&&"function"==typeof wt?(Ye--,wt):C,Bt&&ha(B[0],B[1],Bt)&&(wt=Ye<3?C:wt,Ye=1),E=Ni(E);++ge<Ye;){var Xt=B[ge];Xt&&m(E,Xt,ge,wt)}return E})}function ac(m,E){return function(B,ge){if(null==B)return B;if(!ja(B))return m(B,ge);for(var Ye=B.length,wt=E?Ye:-1,Bt=Ni(B);(E?wt--:++wt<Ye)&&!1!==ge(Bt[wt],wt,Bt););return B}}function ki(m){return function(E,B,ge){for(var Ye=-1,wt=Ni(E),Bt=ge(E),Xt=Bt.length;Xt--;){var dn=Bt[m?Xt:++Ye];if(!1===B(wt[dn],dn,wt))break}return E}}function ua(m){return function(E){var B=te(E=$o(E))?Un(E):C,ge=B?B[0]:E.charAt(0),Ye=B?Wl(B,1).join(""):E.slice(1);return ge[m]()+Ye}}function jc(m){return function(E){return bt(Bh(mp(E).replace(Di,"")),m,"")}}function iu(m){return function(){var E=arguments;switch(E.length){case 0:return new m;case 1:return new m(E[0]);case 2:return new m(E[0],E[1]);case 3:return new m(E[0],E[1],E[2]);case 4:return new m(E[0],E[1],E[2],E[3]);case 5:return new m(E[0],E[1],E[2],E[3],E[4]);case 6:return new m(E[0],E[1],E[2],E[3],E[4],E[5]);case 7:return new m(E[0],E[1],E[2],E[3],E[4],E[5],E[6])}var B=Pl(m.prototype),ge=m.apply(B,E);return Zs(ge)?ge:B}}function $p(m){return function(E,B,ge){var Ye=Ni(E);if(!ja(E)){var wt=_r(B,3);E=Aa(E),B=function(Xt){return wt(Ye[Xt],Xt,Ye)}}var Bt=m(E,B,ge);return Bt>-1?Ye[wt?E[Bt]:Bt]:C}}function Au(m){return Ol(function(E){var B=E.length,ge=B,Ye=na.prototype.thru;for(m&&E.reverse();ge--;){var wt=E[ge];if("function"!=typeof wt)throw new Or(ue);if(Ye&&!Bt&&"wrapper"==bd(wt))var Bt=new na([],!0)}for(ge=Bt?ge:B;++ge<B;){var Xt=bd(wt=E[ge]),dn="wrapper"==Xt?vc(wt):C;Bt=dn&&rh(dn[0])&&dn[1]==(et|ke|Ke|tt)&&!dn[4].length&&1==dn[9]?Bt[bd(dn[0])].apply(Bt,dn[3]):1==wt.length&&rh(wt)?Bt[Xt]():Bt.thru(wt)}return function(){var zn=arguments,Yn=zn[0];if(Bt&&1==zn.length&&Yr(Yn))return Bt.plant(Yn).value();for(var ti=0,Vi=B?E[ti].apply(this,zn):Yn;++ti<B;)Vi=E[ti].call(this,Vi);return Vi}})}function md(m,E,B,ge,Ye,wt,Bt,Xt,dn,zn){var Yn=E&et,ti=E&Ce,Vi=E&xe,cr=E&(ke|Ze),Mr=E&u,lo=Vi?C:iu(m);return function Er(){for(var bo=arguments.length,Mo=bn(bo),Ha=bo;Ha--;)Mo[Ha]=arguments[Ha];if(cr)var qs=ou(Er),pl=function Bl(Jt,An){for(var bn=Jt.length,vi=0;bn--;)Jt[bn]===An&&++vi;return vi}(Mo,qs);if(ge&&(Mo=Yp(Mo,ge,Ye,cr)),wt&&(Mo=gf(Mo,wt,Bt,cr)),bo-=pl,cr&&bo<zn){var s=zt(Mo,qs);return eh(m,E,md,Er.placeholder,B,Mo,s,Xt,dn,zn-bo)}var t=ti?B:this,e=Vi?t[m]:m;return bo=Mo.length,Xt?Mo=function sh(m,E){for(var B=m.length,ge=Ms(E.length,B),Ye=cl(m);ge--;){var wt=E[ge];m[ge]=da(wt,B)?Ye[wt]:C}return m}(Mo,Xt):Mr&&bo>1&&Mo.reverse(),Yn&&dn<bo&&(Mo.length=dn),this&&this!==Lr&&this instanceof Er&&(e=lo||iu(e)),e.apply(t,Mo)}}function Qd(m,E){return function(B,ge){return function tf(m,E,B,ge){return Ta(m,function(Ye,wt,Bt){E(ge,B(Ye),wt,Bt)}),ge}(B,m,E(ge),{})}}function Ru(m,E){return function(B,ge){var Ye;if(B===C&&ge===C)return E;if(B!==C&&(Ye=B),ge!==C){if(Ye===C)return ge;"string"==typeof B||"string"==typeof ge?(B=va(B),ge=va(ge)):(B=qd(B),ge=qd(ge)),Ye=m(B,ge)}return Ye}}function _d(m){return Ol(function(E){return E=xr(E,Sn(_r())),ao(function(B){var ge=this;return m(E,function(Ye){return Ai(Ye,ge,B)})})})}function ru(m,E){var B=(E=E===C?" ":va(E)).length;if(B<2)return B?al(E,m):E;var ge=al(E,so(m/hi(E)));return te(E)?Wl(Un(ge),0,m).join(""):ge.slice(0,m)}function Ou(m){return function(E,B,ge){return ge&&"number"!=typeof ge&&ha(E,B,ge)&&(B=ge=C),E=Ql(E),B===C?(B=E,E=0):B=Ql(B),function cf(m,E,B,ge){for(var Ye=-1,wt=vo(so((E-m)/(B||1)),0),Bt=bn(wt);wt--;)Bt[ge?wt:++Ye]=m,m+=B;return Bt}(E,B,ge=ge===C?E<B?1:-1:Ql(ge),m)}}function Bc(m){return function(E,B){return"string"==typeof E&&"string"==typeof B||(E=hl(E),B=hl(B)),m(E,B)}}function eh(m,E,B,ge,Ye,wt,Bt,Xt,dn,zn){var Yn=E&ke;E|=Yn?Ke:De,(E&=~(Yn?De:Ke))&be||(E&=~(Ce|xe));var lo=[m,E,Ye,Yn?wt:C,Yn?Bt:C,Yn?C:wt,Yn?C:Bt,Xt,dn,zn],Er=B.apply(C,lo);return rh(m)&&Wc(Er,lo),Er.placeholder=ge,Sm(Er,m,E)}function ku(m){var E=Oi[m];return function(B,ge){if(B=hl(B),(ge=null==ge?0:Ms(qr(ge),292))&&Qo(B)){var Ye=($o(B)+"e").split("e");return+((Ye=($o(E(Ye[0]+"e"+(+Ye[1]+ge)))+"e").split("e"))[0]+"e"+(+Ye[1]-ge))}return E(B)}}var th=fr&&1/an(new fr([,-0]))[1]==F?function(m){return new fr(m)}:$c;function vd(m){return function(E){var B=Ia(E);return B==rt?We(E):B==yn?function Mn(Jt){var An=-1,bn=Array(Jt.size);return Jt.forEach(function(vi){bn[++An]=[vi,vi]}),bn}(E):function ir(Jt,An){return xr(An,function(bn){return[bn,Jt[bn]]})}(E,m(E))}}function bl(m,E,B,ge,Ye,wt,Bt,Xt){var dn=E&xe;if(!dn&&"function"!=typeof m)throw new Or(ue);var zn=ge?ge.length:0;if(zn||(E&=~(Ke|De),ge=Ye=C),Bt=Bt===C?Bt:vo(qr(Bt),0),Xt=Xt===C?Xt:qr(Xt),zn-=Ye?Ye.length:0,E&De){var Yn=ge,ti=Ye;ge=Ye=C}var Vi=dn?C:vc(m),cr=[m,E,B,ge,Ye,Yn,ti,wt,Bt,Xt];if(Vi&&function Mf(m,E){var B=m[1],ge=E[1],Ye=B|ge;if(!(Ye<(Ce|xe|et))&&!(ge==et&&B==ke||ge==et&&B==tt&&m[7].length<=E[8]||ge==(et|tt)&&E[7].length<=E[8]&&B==ke))return m;ge&Ce&&(m[2]=E[2],Ye|=B&Ce?0:be);var Xt=E[3];if(Xt){var dn=m[3];m[3]=dn?Yp(dn,Xt,E[4]):Xt,m[4]=dn?zt(m[3],U):E[4]}(Xt=E[5])&&(m[5]=(dn=m[5])?gf(dn,Xt,E[6]):Xt,m[6]=dn?zt(m[5],U):E[6]),(Xt=E[7])&&(m[7]=Xt),ge&et&&(m[8]=null==m[8]?E[8]:Ms(m[8],E[8])),null==m[9]&&(m[9]=E[9]),m[0]=E[0],m[1]=Ye}(cr,Vi),m=cr[0],E=cr[1],B=cr[2],ge=cr[3],Ye=cr[4],!(Xt=cr[9]=cr[9]===C?dn?0:m.length:vo(cr[9]-zn,0))&&E&(ke|Ze)&&(E&=~(ke|Ze)),E&&E!=Ce)Mr=E==ke||E==Ze?function xm(m,E,B){var ge=iu(m);return function Ye(){for(var wt=arguments.length,Bt=bn(wt),Xt=wt,dn=ou(Ye);Xt--;)Bt[Xt]=arguments[Xt];var zn=wt<3&&Bt[0]!==dn&&Bt[wt-1]!==dn?[]:zt(Bt,dn);return(wt-=zn.length)<B?eh(m,E,md,Ye.placeholder,C,Bt,zn,C,C,B-wt):Ai(this&&this!==Lr&&this instanceof Ye?ge:m,this,Bt)}}(m,E,Xt):E!=Ke&&E!=(Ce|Ke)||Ye.length?md.apply(C,cr):function _f(m,E,B,ge){var Ye=E&Ce,wt=iu(m);return function Bt(){for(var Xt=-1,dn=arguments.length,zn=-1,Yn=ge.length,ti=bn(Yn+dn),Vi=this&&this!==Lr&&this instanceof Bt?wt:m;++zn<Yn;)ti[zn]=ge[zn];for(;dn--;)ti[zn++]=arguments[++Xt];return Ai(Vi,Ye?B:this,ti)}}(m,E,B,ge);else var Mr=function yl(m,E,B){var ge=E&Ce,Ye=iu(m);return function wt(){return(this&&this!==Lr&&this instanceof wt?Ye:m).apply(ge?B:this,arguments)}}(m,E,B);return Sm((Vi?uf:Wc)(Mr,cr),m,E)}function vf(m,E,B,ge){return m===C||Xl(m,za[B])&&!eo.call(ge,B)?E:m}function nh(m,E,B,ge,Ye,wt){return Zs(m)&&Zs(E)&&(wt.set(E,m),Rs(m,E,C,nh,wt),wt.delete(E)),m}function Zp(m){return uc(m)?C:m}function yf(m,E,B,ge,Ye,wt){var Bt=B&Q,Xt=m.length,dn=E.length;if(Xt!=dn&&!(Bt&&dn>Xt))return!1;var zn=wt.get(m),Yn=wt.get(E);if(zn&&Yn)return zn==E&&Yn==m;var ti=-1,Vi=!0,cr=B&oe?new Ja:C;for(wt.set(m,E),wt.set(E,m);++ti<Xt;){var Mr=m[ti],lo=E[ti];if(ge)var Er=Bt?ge(lo,Mr,ti,E,m,wt):ge(Mr,lo,ti,m,E,wt);if(Er!==C){if(Er)continue;Vi=!1;break}if(cr){if(!Ct(E,function(bo,Mo){if(!_a(cr,Mo)&&(Mr===bo||Ye(Mr,bo,B,ge,wt)))return cr.push(Mo)})){Vi=!1;break}}else if(Mr!==lo&&!Ye(Mr,lo,B,ge,wt)){Vi=!1;break}}return wt.delete(m),wt.delete(E),Vi}function Ol(m){return Df(kl(m,C,hh),m+"")}function lc(m){return Yd(m,Aa,yc)}function Fu(m){return Yd(m,fl,au)}var vc=ji?function(m){return ji.get(m)}:$c;function bd(m){for(var E=m.name+"",B=Ws[E],ge=eo.call(Ws,E)?B.length:0;ge--;){var Ye=B[ge],wt=Ye.func;if(null==wt||wt==m)return Ye.name}return E}function ou(m){return(eo.call(lt,"placeholder")?lt:m).placeholder}function _r(){var m=lt.iteratee||_u;return m=m===_u?Jn:m,arguments.length?m(arguments[0],arguments[1]):m}function Vc(m,E){var B=m.__data__;return function eg(m){var E=typeof m;return"string"==E||"number"==E||"symbol"==E||"boolean"==E?"__proto__"!==m:null===m}(E)?B["string"==typeof E?"string":"hash"]:B.map}function su(m){for(var E=Aa(m),B=E.length;B--;){var ge=E[B],Ye=m[ge];E[B]=[ge,Ye,xf(Ye)]}return E}function Hc(m,E){var B=function A(Jt,An){return null==Jt?C:Jt[An]}(m,E);return sf(B)?B:C}var yc=Ns?function(m){return null==m?[]:(m=Ni(m),Ss(Ns(m),function(E){return Gn.call(m,E)}))}:Wh,au=Ns?function(m){for(var E=[];m;)Fe(E,yc(m)),m=nn(m);return E}:Wh,Ia=Ga;function wl(m,E,B){for(var ge=-1,Ye=(E=Wo(E,m)).length,wt=!1;++ge<Ye;){var Bt=bc(E[ge]);if(!(wt=null!=m&&B(m,Bt)))break;m=m[Bt]}return wt||++ge!=Ye?wt:!!(Ye=null==m?0:m.length)&&Yu(Ye)&&da(Bt,Ye)&&(Yr(m)||Yc(m))}function Cf(m){return"function"!=typeof m.constructor||Gl(m)?{}:Pl(nn(m))}function Qp(m){return Yr(m)||Yc(m)||!!(Xi&&m&&m[Xi])}function da(m,E){var B=typeof m;return!!(E=E??b)&&("number"==B||"symbol"!=B&&Pi.test(m))&&m>-1&&m%1==0&&m<E}function ha(m,E,B){if(!Zs(B))return!1;var ge=typeof E;return!!("number"==ge?ja(B)&&da(E,B.length):"string"==ge&&E in B)&&Xl(B[E],m)}function ih(m,E){if(Yr(m))return!1;var B=typeof m;return!("number"!=B&&"symbol"!=B&&"boolean"!=B&&null!=m&&!Ba(m))||pi.test(m)||!Wi.test(m)||null!=E&&m in Ni(E)}function rh(m){var E=bd(m),B=lt[E];if("function"!=typeof B||!(E in Ur.prototype))return!1;if(m===B)return!0;var ge=vc(B);return!!ge&&m===ge[0]}(Yi&&Ia(new Yi(new ArrayBuffer(1)))!=Ge||Ji&&Ia(new Ji)!=rt||ci&&Ia(ci.resolve())!=un||fr&&Ia(new fr)!=yn||zo&&Ia(new zo)!=It)&&(Ia=function(m){var E=Ga(m),B=E==fn?m.constructor:C,ge=B?wc(B):"";if(ge)switch(ge){case bs:return Ge;case il:return rt;case _l:return un;case Us:return yn;case ta:return It}return E});var oh=Wa?Ml:Uh;function Gl(m){var E=m&&m.constructor;return m===("function"==typeof E&&E.prototype||za)}function xf(m){return m==m&&!Zs(m)}function tg(m,E){return function(B){return null!=B&&B[m]===E&&(E!==C||m in Ni(B))}}function kl(m,E,B){return E=vo(E===C?m.length-1:E,0),function(){for(var ge=arguments,Ye=-1,wt=vo(ge.length-E,0),Bt=bn(wt);++Ye<wt;)Bt[Ye]=ge[E+Ye];Ye=-1;for(var Xt=bn(E+1);++Ye<E;)Xt[Ye]=ge[Ye];return Xt[E]=B(Bt),Ai(m,this,Xt)}}function zc(m,E){return E.length<2?m:zl(m,Pa(E,0,-1))}function ah(m,E){if(("constructor"!==E||"function"!=typeof m[E])&&"__proto__"!=E)return m[E]}var Wc=ch(uf),lh=oo||function(m,E){return Lr.setTimeout(m,E)},Df=ch(df);function Sm(m,E,B){var ge=E+"";return Df(m,function Jp(m,E){var B=E.length;if(!B)return m;var ge=B-1;return E[ge]=(B>1?"& ":"")+E[ge],E=E.join(B>2?", ":" "),m.replace(Ae,"{\n/* [wrapped with "+E+"] */\n")}(ge,function ng(m,E){return $i(ft,function(B){var ge="_."+B[0];E&B[1]&&!Qs(m,ge)&&m.push(ge)}),m.sort()}(function wf(m){var E=m.match(Ne);return E?E[1].split(Mt):[]}(ge),B)))}function ch(m){var E=0,B=0;return function(){var ge=is(),Ye=Gt-(ge-B);if(B=ge,Ye>0){if(++E>=mt)return arguments[0]}else E=0;return m.apply(C,arguments)}}function ju(m,E){var B=-1,ge=m.length,Ye=ge-1;for(E=E===C?ge:E;++B<E;){var wt=hd(B,Ye),Bt=m[wt];m[wt]=m[B],m[B]=Bt}return m.length=E,m}var Mm=function Sf(m){var E=Gu(m,function(ge){return 500===B.size&&B.clear(),ge}),B=E.cache;return E}(function(m){var E=[];return 46===m.charCodeAt(0)&&E.push(""),m.replace(bi,function(B,ge,Ye,wt){E.push(Ye?wt.replace(Zt,"$1"):ge||B)}),E});function bc(m){if("string"==typeof m||Ba(m))return m;var E=m+"";return"0"==E&&1/m==-F?"-0":E}function wc(m){if(null!=m){try{return Ho.call(m)}catch{}try{return m+""}catch{}}return""}function ig(m){if(m instanceof Ur)return m.clone();var E=new na(m.__wrapped__,m.__chain__);return E.__actions__=cl(m.__actions__),E.__index__=m.__index__,E.__values__=m.__values__,E}var dh=ao(function(m,E){return $s(m)?ia(m,ra(E,1,$s,!0)):[]}),Tf=ao(function(m,E){var B=Cl(E);return $s(B)&&(B=C),$s(m)?ia(m,ra(E,1,$s,!0),_r(B,2)):[]}),Pf=ao(function(m,E){var B=Cl(E);return $s(B)&&(B=C),$s(m)?ia(m,ra(E,1,$s,!0),C,B):[]});function Rf(m,E,B){var ge=null==m?0:m.length;if(!ge)return-1;var Ye=null==B?0:qr(B);return Ye<0&&(Ye=vo(ge+Ye,0)),zs(m,_r(E,3),Ye)}function Of(m,E,B){var ge=null==m?0:m.length;if(!ge)return-1;var Ye=ge-1;return B!==C&&(Ye=qr(B),Ye=B<0?vo(ge+Ye,0):Ms(Ye,ge-1)),zs(m,_r(E,3),Ye,!0)}function hh(m){return null!=m&&m.length?ra(m,1):[]}function Dm(m){return m&&m.length?m[0]:C}var fh=ao(function(m){var E=xr(m,Rl);return E.length&&E[0]===m[0]?Mu(E):[]}),kf=ao(function(m){var E=Cl(m),B=xr(m,Rl);return E===Cl(B)?E=C:B.pop(),B.length&&B[0]===m[0]?Mu(B,_r(E,2)):[]}),Ff=ao(function(m){var E=Cl(m),B=xr(m,Rl);return(E="function"==typeof E?E:C)&&B.pop(),B.length&&B[0]===m[0]?Mu(B,C,E):[]});function Cl(m){var E=null==m?0:m.length;return E?m[E-1]:C}var jf=ao(Sd);function Sd(m,E){return m&&m.length&&E&&E.length?Qc(m,E):m}var cg=Ol(function(m,E){var B=null==m?0:m.length,ge=Qa(m,E);return lf(m,xr(E,function(Ye){return da(Ye,B)?+Ye:Ye}).sort(pf)),ge});function gh(m){return null==m?m:tc.call(m)}var xc=ao(function(m){return sc(ra(m,1,$s,!0))}),Uf=ao(function(m){var E=Cl(m);return $s(E)&&(E=C),sc(ra(m,1,$s,!0),_r(E,2))}),mh=ao(function(m){var E=Cl(m);return E="function"==typeof E?E:C,sc(ra(m,1,$s,!0),C,E)});function Md(m){if(!m||!m.length)return[];var E=0;return m=Ss(m,function(B){if($s(B))return E=vo(B.length,E),!0}),Tn(E,function(B){return xr(m,ya(B))})}function Gf(m,E){if(!m||!m.length)return[];var B=Md(m);return null==E?B:xr(B,function(ge){return Ai(E,C,ge)})}var Yf=ao(function(m,E){return $s(m)?ia(m,E):[]}),pg=ao(function(m){return tu(Ss(m,$s))}),gg=ao(function(m){var E=Cl(m);return $s(E)&&(E=C),tu(Ss(m,$s),_r(E,2))}),Yl=ao(function(m){var E=Cl(m);return E="function"==typeof E?E:C,tu(Ss(m,$s),C,E)}),mg=ao(Md),Wu=ao(function(m){var E=m.length,B=E>1?m[E-1]:C;return B="function"==typeof B?(m.pop(),B):C,Gf(m,B)});function vh(m){var E=lt(m);return E.__chain__=!0,E}function Ed(m,E){return E(m)}var vg=Ol(function(m){var E=m.length,B=E?m[0]:0,ge=this.__wrapped__,Ye=function(wt){return Qa(wt,m)};return!(E>1||this.__actions__.length)&&ge instanceof Ur&&da(B)?((ge=ge.slice(B,+B+(E?1:0))).__actions__.push({func:Ed,args:[Ye],thisArg:C}),new na(ge,this.__chain__).thru(function(wt){return E&&!wt.length&&wt.push(C),wt})):this.thru(Ye)}),Kf=Pu(function(m,E,B){eo.call(m,B)?++m[B]:ws(m,B,1)}),xg=$p(Rf),$f=$p(Of);function Kl(m,E){return(Yr(m)?$i:sl)(m,_r(E,3))}function qf(m,E){return(Yr(m)?Oa:Wd)(m,_r(E,3))}var Im=Pu(function(m,E,B){eo.call(m,B)?m[B].push(E):ws(m,B,[E])}),T_=ao(function(m,E,B){var ge=-1,Ye="function"==typeof E,wt=ja(m)?bn(m.length):[];return sl(m,function(Bt){wt[++ge]=Ye?Ai(E,Bt,B):Rc(Bt,E,B)}),wt}),Mg=Pu(function(m,E,B){ws(m,B,E)});function Ch(m,E){return(Yr(m)?xr:kc)(m,_r(E,3))}var Xf=Pu(function(m,E,B){m[B?0:1].push(E)},function(){return[[],[]]}),Pg=ao(function(m,E){if(null==m)return[];var B=E.length;return B>1&&ha(m,E[0],E[1])?E=[]:B>2&&ha(E[0],E[1],E[2])&&(E=[E[0]]),lr(m,ra(E,1),[])}),$l=Zr||function(){return Lr.Date.now()};function Zl(m,E,B){return E=B?C:E,bl(m,et,C,C,C,C,E=m&&null==E?m.length:E)}function xh(m,E){var B;if("function"!=typeof E)throw new Or(ue);return m=qr(m),function(){return--m>0&&(B=E.apply(this,arguments)),m<=1&&(E=C),B}}var Td=ao(function(m,E,B){var ge=Ce;if(B.length){var Ye=zt(B,ou(Td));ge|=Ke}return bl(m,ge,E,B,Ye)}),ep=ao(function(m,E,B){var ge=Ce|xe;if(B.length){var Ye=zt(B,ou(ep));ge|=Ke}return bl(E,ge,m,B,Ye)});function Sh(m,E,B){var ge,Ye,wt,Bt,Xt,dn,zn=0,Yn=!1,ti=!1,Vi=!0;if("function"!=typeof m)throw new Or(ue);function cr(s){var t=ge,e=Ye;return ge=Ye=C,zn=s,Bt=m.apply(e,t)}function Er(s){var t=s-dn;return dn===C||t>=E||t<0||ti&&s-zn>=wt}function bo(){var s=$l();if(Er(s))return Mo(s);Xt=lh(bo,function lo(s){var n=E-(s-dn);return ti?Ms(n,wt-(s-zn)):n}(s))}function Mo(s){return Xt=C,Vi&&ge?cr(s):(ge=Ye=C,Bt)}function pl(){var s=$l(),t=Er(s);if(ge=arguments,Ye=this,dn=s,t){if(Xt===C)return function Mr(s){return zn=s,Xt=lh(bo,E),Yn?cr(s):Bt}(dn);if(ti)return gd(Xt),Xt=lh(bo,E),cr(dn)}return Xt===C&&(Xt=lh(bo,E)),Bt}return E=hl(E)||0,Zs(B)&&(Yn=!!B.leading,wt=(ti="maxWait"in B)?vo(hl(B.maxWait)||0,E):wt,Vi="trailing"in B?!!B.trailing:Vi),pl.cancel=function Ha(){Xt!==C&&gd(Xt),zn=0,ge=dn=Ye=Xt=C},pl.flush=function qs(){return Xt===C?Bt:Mo($l())},pl}var Ks=ao(function(m,E){return oc(m,1,E)}),Rm=ao(function(m,E,B){return oc(m,hl(E)||0,B)});function Gu(m,E){if("function"!=typeof m||null!=E&&"function"!=typeof E)throw new Or(ue);var B=function(){var ge=arguments,Ye=E?E.apply(this,ge):ge[0],wt=B.cache;if(wt.has(Ye))return wt.get(Ye);var Bt=m.apply(this,ge);return B.cache=wt.set(Ye,Bt)||wt,Bt};return B.cache=new(Gu.Cache||Ca),B}function Mh(m){if("function"!=typeof m)throw new Or(ue);return function(){var E=arguments;switch(E.length){case 0:return!m.call(this);case 1:return!m.call(this,E[0]);case 2:return!m.call(this,E[0],E[1]);case 3:return!m.call(this,E[0],E[1],E[2])}return!m.apply(this,E)}}Gu.Cache=Ca;var np=pd(function(m,E){var B=(E=1==E.length&&Yr(E[0])?xr(E[0],Sn(_r())):xr(ra(E,1),Sn(_r()))).length;return ao(function(ge){for(var Ye=-1,wt=Ms(ge.length,B);++Ye<wt;)ge[Ye]=E[Ye].call(this,ge[Ye]);return Ai(m,this,ge)})}),Eh=ao(function(m,E){var B=zt(E,ou(Eh));return bl(m,Ke,C,E,B)}),Om=ao(function(m,E){var B=zt(E,ou(Om));return bl(m,De,C,E,B)}),Ag=Ol(function(m,E){return bl(m,tt,C,C,C,E)});function Xl(m,E){return m===E||m!=m&&E!=E}var Fg=Bc(sd),du=Bc(function(m,E){return m>=E}),Yc=nf(function(){return arguments}())?nf:function(m){return pa(m)&&eo.call(m,"callee")&&!Gn.call(m,"callee")},Yr=bn.isArray,Od=ts?Sn(ts):function ad(m){return pa(m)&&Ga(m)==Ht};function ja(m){return null!=m&&Yu(m.length)&&!Ml(m)}function $s(m){return pa(m)&&ja(m)}var Mc=ba||Uh,Lg=Hs?Sn(Hs):function Wp(m){return pa(m)&&Ga(m)==En};function Ka(m){if(!pa(m))return!1;var E=Ga(m);return E==Te||E==In||"string"==typeof m.message&&"string"==typeof m.name&&!uc(m)}function Ml(m){if(!Zs(m))return!1;var E=Ga(m);return E==$t||E==Lt||E==jt||E==Ft}function sp(m){return"number"==typeof m&&m==qr(m)}function Yu(m){return"number"==typeof m&&m>-1&&m%1==0&&m<=b}function Zs(m){var E=typeof m;return null!=m&&("object"==E||"function"==E)}function pa(m){return null!=m&&"object"==typeof m}var hu=ma?Sn(ma):function ld(m){return pa(m)&&Ia(m)==rt};function Jl(m){return"number"==typeof m||pa(m)&&Ga(m)==_t}function uc(m){if(!pa(m)||Ga(m)!=fn)return!1;var E=nn(m);if(null===E)return!0;var B=eo.call(E,"constructor")&&E.constructor;return"function"==typeof B&&B instanceof B&&Ho.call(B)==D}var dl=xs?Sn(xs):function ud(m){return pa(m)&&Ga(m)==Pn},Ec=xi?Sn(xi):function af(m){return pa(m)&&Ia(m)==yn};function Dc(m){return"string"==typeof m||!Yr(m)&&pa(m)&&Ga(m)==Dn}function Ba(m){return"symbol"==typeof m||pa(m)&&Ga(m)==On}var El=Wr?Sn(Wr):function Up(m){return pa(m)&&Yu(m.length)&&!!q[Ga(m)]},ap=Bc(So),Hg=Bc(function(m,E){return m<=E});function Ih(m){if(!m)return[];if(ja(m))return Dc(m)?Un(m):cl(m);if(yi&&m[yi])return function Be(Jt){for(var An,bn=[];!(An=Jt.next()).done;)bn.push(An.value);return bn}(m[yi]());var E=Ia(m);return(E==rt?We:E==yn?an:ec)(m)}function Ql(m){return m?(m=hl(m))===F||m===-F?(m<0?-1:1)*Z:m==m?m:0:0===m?m:0}function qr(m){var E=Ql(m),B=E%1;return E==E?B?E-B:E:0}function Ah(m){return m?Na(qr(m),0,X):0}function hl(m){if("number"==typeof m)return m;if(Ba(m))return W;if(Zs(m)){var E="function"==typeof m.valueOf?m.valueOf():m;m=Zs(E)?E+"":E}if("string"!=typeof m)return 0===m?m:+m;m=Go(m);var B=Qn.test(m);return B||Vn.test(m)?Vr(m.slice(2),B?2:8):gn.test(m)?W:+m}function Rh(m){return Ul(m,fl(m))}function $o(m){return null==m?"":va(m)}var es=Iu(function(m,E){if(Gl(E)||ja(E))Ul(E,Aa(E),m);else for(var B in E)eo.call(E,B)&&kn(m,B,E[B])}),jm=Iu(function(m,E){Ul(E,fl(E),m)}),$u=Iu(function(m,E,B,ge){Ul(E,fl(E),m,ge)}),lp=Iu(function(m,E,B,ge){Ul(E,Aa(E),m,ge)}),zg=Ol(Qa),Wg=ao(function(m,E){m=Ni(m);var B=-1,ge=E.length,Ye=ge>2?E[2]:C;for(Ye&&ha(E[0],E[1],Ye)&&(ge=1);++B<ge;)for(var wt=E[B],Bt=fl(wt),Xt=-1,dn=Bt.length;++Xt<dn;){var zn=Bt[Xt],Yn=m[zn];(Yn===C||Xl(Yn,za[zn])&&!eo.call(m,zn))&&(m[zn]=wt[zn])}return m}),up=ao(function(m){return m.push(C,nh),Ai(Zu,C,m)});function Nl(m,E,B){var ge=null==m?C:zl(m,E);return ge===C?B:ge}function hp(m,E){return null!=m&&wl(m,E,ef)}var Um=Qd(function(m,E,B){null!=E&&"function"!=typeof E.toString&&(E=R.call(E)),m[E]=B},gu(Es)),Yg=Qd(function(m,E,B){null!=E&&"function"!=typeof E.toString&&(E=R.call(E)),eo.call(m,E)?m[E].push(B):m[E]=[B]},_r),Gm=ao(Rc);function Aa(m){return ja(m)?se(m):Kd(m)}function fl(m){return ja(m)?se(m,!0):function dd(m){if(!Zs(m))return function Ef(m){var E=[];if(null!=m)for(var B in Ni(m))E.push(B);return E}(m);var E=Gl(m),B=[];for(var ge in m)"constructor"==ge&&(E||!eo.call(m,ge))||B.push(ge);return B}(m)}var Km=Iu(function(m,E,B){Rs(m,E,B)}),Zu=Iu(function(m,E,B,ge){Rs(m,E,B,ge)}),Ld=Ol(function(m,E){var B={};if(null==m)return B;var ge=!1;E=xr(E,function(wt){return wt=Wo(wt,m),ge||(ge=wt.length>1),wt}),Ul(m,Fu(m),B),ge&&(B=hs(B,y|O|$,Zp));for(var Ye=E.length;Ye--;)Sa(B,E[Ye]);return B}),P_=Ol(function(m,E){return null==m?{}:function _i(m,E){return $d(m,E,function(B,ge){return hp(m,ge)})}(m,E)});function Bd(m,E){if(null==m)return{};var B=xr(Fu(m),function(ge){return[ge]});return E=_r(E),$d(m,B,function(ge,Ye){return E(ge,Ye[0])})}var kh=vd(Aa),Fh=vd(fl);function ec(m){return null==m?[]:Sr(m,Aa(m))}var qg=jc(function(m,E,B){return E=E.toLowerCase(),m+(B?pu(E):E)});function pu(m){return Kc($o(m).toLowerCase())}function mp(m){return(m=$o(m))&&m.replace(Ui,Za).replace(ro,"")}var vp=jc(function(m,E,B){return m+(B?"-":"")+E.toLowerCase()}),jh=jc(function(m,E,B){return m+(B?" ":"")+E.toLowerCase()}),Qg=ua("toLowerCase"),qm=jc(function(m,E,B){return m+(B?"_":"")+E.toLowerCase()}),Jm=jc(function(m,E,B){return m+(B?" ":"")+Kc(E)}),A_=jc(function(m,E,B){return m+(B?" ":"")+E.toUpperCase()}),Kc=ua("toUpperCase");function Bh(m,E,B){return m=$o(m),(E=B?C:E)===C?function _e(Jt){return Vs.test(Jt)}(m)?function ns(Jt){return Jt.match(ys)||[]}(m):function Hn(Jt){return Jt.match(Wt)||[]}(m):m.match(E)||[]}var Vh=ao(function(m,E){try{return Ai(m,C,E)}catch(B){return Ka(B)?B:new Gi(B)}}),Mp=Ol(function(m,E){return $i(E,function(B){B=bc(B),ws(m,B,Td(m[B],m))}),m});function gu(m){return function(){return m}}var mu=Au(),Xu=Au(!0);function Es(m){return m}function _u(m){return Jn("function"==typeof m?m:hs(m,y))}var bu=ao(function(m,E){return function(B){return Rc(B,m,E)}}),Ju=ao(function(m,E){return function(B){return Rc(m,B,E)}});function Tc(m,E,B){var ge=Aa(E),Ye=js(E,ge);null==B&&(!Zs(E)||!Ye.length&&ge.length)&&(B=E,E=m,m=this,Ye=js(E,Aa(E)));var wt=!(Zs(B)&&"chain"in B&&!B.chain),Bt=Ml(m);return $i(Ye,function(Xt){var dn=E[Xt];m[Xt]=dn,Bt&&(m.prototype[Xt]=function(){var zn=this.__chain__;if(wt||zn){var Yn=m(this.__wrapped__);return(Yn.__actions__=cl(this.__actions__)).push({func:dn,args:arguments,thisArg:m}),Yn.__chain__=zn,Yn}return dn.apply(m,Fe([this.value()],arguments))})}),m}function $c(){}var Zc=_d(xr),Hh=_d(To),Ep=_d(Ct);function zh(m){return ih(m)?ya(bc(m)):function Zd(m){return function(E){return zl(E,m)}}(m)}var rm=Ou(),om=Ou(!0);function Wh(){return[]}function Uh(){return!1}var Dp=Ru(function(m,E){return m+E},0),Tp=ku("ceil"),a_=Ru(function(m,E){return m/E},1),Gh=ku("floor"),cm=Ru(function(m,E){return m*E},1),Ap=ku("round"),um=Ru(function(m,E){return m-E},0);return lt.after=function Ig(m,E){if("function"!=typeof E)throw new Or(ue);return m=qr(m),function(){if(--m<1)return E.apply(this,arguments)}},lt.ary=Zl,lt.assign=es,lt.assignIn=jm,lt.assignInWith=$u,lt.assignWith=lp,lt.at=zg,lt.before=xh,lt.bind=Td,lt.bindAll=Mp,lt.bindKey=ep,lt.castArray=function Rg(){if(!arguments.length)return[];var m=arguments[0];return Yr(m)?m:[m]},lt.chain=vh,lt.chunk=function rg(m,E,B){E=(B?ha(m,E,B):E===C)?1:vo(qr(E),0);var ge=null==m?0:m.length;if(!ge||E<1)return[];for(var Ye=0,wt=0,Bt=bn(so(ge/E));Ye<ge;)Bt[wt++]=Pa(m,Ye,Ye+=E);return Bt},lt.compact=function xd(m){for(var E=-1,B=null==m?0:m.length,ge=0,Ye=[];++E<B;){var wt=m[E];wt&&(Ye[ge++]=wt)}return Ye},lt.concat=function uh(){var m=arguments.length;if(!m)return[];for(var E=bn(m-1),B=arguments[0],ge=m;ge--;)E[ge-1]=arguments[ge];return Fe(Yr(B)?cl(B):[B],ra(E,1))},lt.cond=function i_(m){var E=null==m?0:m.length,B=_r();return m=E?xr(m,function(ge){if("function"!=typeof ge[1])throw new Or(ue);return[B(ge[0]),ge[1]]}):[],ao(function(ge){for(var Ye=-1;++Ye<E;){var wt=m[Ye];if(Ai(wt[0],this,ge))return Ai(wt[1],this,ge)}})},lt.conforms=function fc(m){return function Jc(m){var E=Aa(m);return function(B){return ol(B,m,E)}}(hs(m,y))},lt.constant=gu,lt.countBy=Kf,lt.create=function cp(m,E){var B=Pl(m);return null==E?B:ho(B,E)},lt.curry=function rr(m,E,B){var ge=bl(m,ke,C,C,C,C,C,E=B?C:E);return ge.placeholder=rr.placeholder,ge},lt.curryRight=function Sc(m,E,B){var ge=bl(m,Ze,C,C,C,C,C,E=B?C:E);return ge.placeholder=Sc.placeholder,ge},lt.debounce=Sh,lt.defaults=Wg,lt.defaultsDeep=up,lt.defer=Ks,lt.delay=Rm,lt.difference=dh,lt.differenceBy=Tf,lt.differenceWith=Pf,lt.drop=function If(m,E,B){var ge=null==m?0:m.length;return ge?Pa(m,(E=B||E===C?1:qr(E))<0?0:E,ge):[]},lt.dropRight=function fa(m,E,B){var ge=null==m?0:m.length;return ge?Pa(m,0,(E=ge-(E=B||E===C?1:qr(E)))<0?0:E):[]},lt.dropRightWhile=function og(m,E){return m&&m.length?_c(m,_r(E,3),!0,!0):[]},lt.dropWhile=function sg(m,E){return m&&m.length?_c(m,_r(E,3),!0):[]},lt.fill=function Af(m,E,B,ge){var Ye=null==m?0:m.length;return Ye?(B&&"number"!=typeof B&&ha(m,E,B)&&(B=0,ge=Ye),function xu(m,E,B,ge){var Ye=m.length;for((B=qr(B))<0&&(B=-B>Ye?0:Ye+B),(ge=ge===C||ge>Ye?Ye:qr(ge))<0&&(ge+=Ye),ge=B>ge?0:Ah(ge);B<ge;)m[B++]=E;return m}(m,E,B,ge)):[]},lt.filter=function Cg(m,E){return(Yr(m)?Ss:Gd)(m,_r(E,3))},lt.flatMap=function Sg(m,E){return ra(Ch(m,E),1)},lt.flatMapDeep=function Zf(m,E){return ra(Ch(m,E),F)},lt.flatMapDepth=function cu(m,E,B){return B=B===C?1:qr(B),ra(Ch(m,E),B)},lt.flatten=hh,lt.flattenDeep=function ag(m){return null!=m&&m.length?ra(m,F):[]},lt.flattenDepth=function Em(m,E){return null!=m&&m.length?ra(m,E=E===C?1:qr(E)):[]},lt.flip=function tp(m){return bl(m,u)},lt.flow=mu,lt.flowRight=Xu,lt.fromPairs=function Bu(m){for(var E=-1,B=null==m?0:m.length,ge={};++E<B;){var Ye=m[E];ge[Ye[0]]=Ye[1]}return ge},lt.functions=function zm(m){return null==m?[]:js(m,Aa(m))},lt.functionsIn=function Wm(m){return null==m?[]:js(m,fl(m))},lt.groupBy=Im,lt.initial=function Vu(m){return null!=m&&m.length?Pa(m,0,-1):[]},lt.intersection=fh,lt.intersectionBy=kf,lt.intersectionWith=Ff,lt.invert=Um,lt.invertBy=Yg,lt.invokeMap=T_,lt.iteratee=_u,lt.keyBy=Mg,lt.keys=Aa,lt.keysIn=fl,lt.map=Ch,lt.mapKeys=function fp(m,E){var B={};return E=_r(E,3),Ta(m,function(ge,Ye,wt){ws(B,E(ge,Ye,wt),ge)}),B},lt.mapValues=function Ym(m,E){var B={};return E=_r(E,3),Ta(m,function(ge,Ye,wt){ws(B,Ye,E(ge,Ye,wt))}),B},lt.matches=function vu(m){return Eu(hs(m,y))},lt.matchesProperty=function yu(m,E){return xa(m,hs(E,y))},lt.memoize=Gu,lt.merge=Km,lt.mergeWith=Zu,lt.method=bu,lt.methodOf=Ju,lt.mixin=Tc,lt.negate=Mh,lt.nthArg=function wu(m){return m=qr(m),ao(function(E){return fi(E,m)})},lt.omit=Ld,lt.omitBy=function jd(m,E){return Bd(m,Mh(_r(E)))},lt.once=function Pd(m){return xh(2,m)},lt.orderBy=function Eg(m,E,B,ge){return null==m?[]:(Yr(E)||(E=null==E?[]:[E]),Yr(B=ge?C:B)||(B=null==B?[]:[B]),lr(m,E,B))},lt.over=Zc,lt.overArgs=np,lt.overEvery=Hh,lt.overSome=Ep,lt.partial=Eh,lt.partialRight=Om,lt.partition=Xf,lt.pick=P_,lt.pickBy=Bd,lt.property=zh,lt.propertyOf=function im(m){return function(E){return null==m?C:zl(m,E)}},lt.pull=jf,lt.pullAll=Sd,lt.pullAllBy=function Tm(m,E,B){return m&&m.length&&E&&E.length?Qc(m,E,_r(B,2)):m},lt.pullAllWith=function ph(m,E,B){return m&&m.length&&E&&E.length?Qc(m,E,C,B):m},lt.pullAt=cg,lt.range=rm,lt.rangeRight=om,lt.rearg=Ag,lt.reject=function Am(m,E){return(Yr(m)?Ss:Gd)(m,Mh(_r(E,3)))},lt.remove=function Bf(m,E){var B=[];if(!m||!m.length)return B;var ge=-1,Ye=[],wt=m.length;for(E=_r(E,3);++ge<wt;){var Bt=m[ge];E(Bt,ge,m)&&(B.push(Bt),Ye.push(ge))}return lf(m,Ye),B},lt.rest=function ip(m,E){if("function"!=typeof m)throw new Or(ue);return ao(m,E=E===C?E:qr(E))},lt.reverse=gh,lt.sampleSize=function Sl(m,E,B){return E=(B?ha(m,E,B):E===C)?1:qr(E),(Yr(m)?$e:Ya)(m,E)},lt.set=function pp(m,E,B){return null==m?m:Fc(m,E,B)},lt.setWith=function gp(m,E,B,ge){return ge="function"==typeof ge?ge:C,null==m?m:Fc(m,E,B,ge)},lt.shuffle=function Tg(m){return(Yr(m)?ct:oa)(m)},lt.slice=function ug(m,E,B){var ge=null==m?0:m.length;return ge?(B&&"number"!=typeof B&&ha(m,E,B)?(E=0,B=ge):(E=null==E?0:qr(E),B=B===C?ge:qr(B)),Pa(m,E,B)):[]},lt.sortBy=Pg,lt.sortedUniq=function zu(m){return m&&m.length?eu(m):[]},lt.sortedUniqBy=function xl(m,E){return m&&m.length?eu(m,_r(E,2)):[]},lt.split=function Xm(m,E,B){return B&&"number"!=typeof B&&ha(m,E,B)&&(E=B=C),(B=B===C?X:B>>>0)?(m=$o(m))&&("string"==typeof E||null!=E&&!dl(E))&&!(E=va(E))&&te(m)?Wl(Un(m),0,B):m.split(E,B):[]},lt.spread=function yo(m,E){if("function"!=typeof m)throw new Or(ue);return E=null==E?0:vo(qr(E),0),ao(function(B){var ge=B[E],Ye=Wl(B,0,E);return ge&&Fe(Ye,ge),Ai(m,this,Ye)})},lt.tail=function Gc(m){var E=null==m?0:m.length;return E?Pa(m,1,E):[]},lt.take=function Cc(m,E,B){return m&&m.length?Pa(m,0,(E=B||E===C?1:qr(E))<0?0:E):[]},lt.takeRight=function Hf(m,E,B){var ge=null==m?0:m.length;return ge?Pa(m,(E=ge-(E=B||E===C?1:qr(E)))<0?0:E,ge):[]},lt.takeRightWhile=function zf(m,E){return m&&m.length?_c(m,_r(E,3),!1,!0):[]},lt.takeWhile=function Wf(m,E){return m&&m.length?_c(m,_r(E,3)):[]},lt.tap=function _g(m,E){return E(m),m},lt.throttle=function km(m,E,B){var ge=!0,Ye=!0;if("function"!=typeof m)throw new Or(ue);return Zs(B)&&(ge="leading"in B?!!B.leading:ge,Ye="trailing"in B?!!B.trailing:Ye),Sh(m,E,{leading:ge,maxWait:E,trailing:Ye})},lt.thru=Ed,lt.toArray=Ih,lt.toPairs=kh,lt.toPairsIn=Fh,lt.toPath=function s_(m){return Yr(m)?xr(m,bc):Ba(m)?[m]:cl(Mm($o(m)))},lt.toPlainObject=Rh,lt.transform=function Nh(m,E,B){var ge=Yr(m),Ye=ge||Mc(m)||El(m);if(E=_r(E,4),null==B){var wt=m&&m.constructor;B=Ye?ge?new wt:[]:Zs(m)&&Ml(wt)?Pl(nn(m)):{}}return(Ye?$i:Ta)(m,function(Bt,Xt,dn){return E(B,Bt,Xt,dn)}),B},lt.unary=function Id(m){return Zl(m,1)},lt.union=xc,lt.unionBy=Uf,lt.unionWith=mh,lt.uniq=function hg(m){return m&&m.length?sc(m):[]},lt.uniqBy=function _h(m,E){return m&&m.length?sc(m,_r(E,2)):[]},lt.uniqWith=function fg(m,E){return E="function"==typeof E?E:C,m&&m.length?sc(m,C,E):[]},lt.unset=function dc(m,E){return null==m||Sa(m,E)},lt.unzip=Md,lt.unzipWith=Gf,lt.update=function qu(m,E,B){return null==m?m:Ma(m,E,Nc(B))},lt.updateWith=function hc(m,E,B,ge){return ge="function"==typeof ge?ge:C,null==m?m:Ma(m,E,Nc(B),ge)},lt.values=ec,lt.valuesIn=function Kg(m){return null==m?[]:Sr(m,fl(m))},lt.without=Yf,lt.words=Bh,lt.wrap=function Ad(m,E){return Eh(Nc(E),m)},lt.xor=pg,lt.xorBy=gg,lt.xorWith=Yl,lt.zip=mg,lt.zipObject=function Fl(m,E){return Tu(m||[],E||[],kn)},lt.zipObjectDeep=function cc(m,E){return Tu(m||[],E||[],Fc)},lt.zipWith=Wu,lt.entries=kh,lt.entriesIn=Fh,lt.extend=jm,lt.extendWith=$u,Tc(lt,lt),lt.add=Dp,lt.attempt=Vh,lt.camelCase=qg,lt.capitalize=pu,lt.ceil=Tp,lt.clamp=function $g(m,E,B){return B===C&&(B=E,E=C),B!==C&&(B=(B=hl(B))==B?B:0),E!==C&&(E=(E=hl(E))==E?E:0),Na(hl(m),E,B)},lt.clone=function Og(m){return hs(m,$)},lt.cloneDeep=function kg(m){return hs(m,y|$)},lt.cloneDeepWith=function Rd(m,E){return hs(m,y|$,E="function"==typeof E?E:C)},lt.cloneWith=function ql(m,E){return hs(m,$,E="function"==typeof E?E:C)},lt.conformsTo=function rp(m,E){return null==E||ol(m,E,Aa(E))},lt.deburr=mp,lt.defaultTo=function Va(m,E){return null==m||m!=m?E:m},lt.divide=a_,lt.endsWith=function Xg(m,E,B){m=$o(m),E=va(E);var ge=m.length,Ye=B=B===C?ge:Na(qr(B),0,ge);return(B-=E.length)>=0&&m.slice(B,Ye)==E},lt.eq=Xl,lt.escape=function _p(m){return(m=$o(m))&&Xe.test(m)?m.replace(nt,I):m},lt.escapeRegExp=function Jg(m){return(m=$o(m))&&si.test(m)?m.replace(ei,"\\$&"):m},lt.every=function wg(m,E,B){var ge=Yr(m)?To:Ud;return B&&ha(m,E,B)&&(E=C),ge(m,_r(E,3))},lt.find=xg,lt.findIndex=Rf,lt.findKey=function Ug(m,E){return Rr(m,_r(E,3),Ta)},lt.findLast=$f,lt.findLastIndex=Of,lt.findLastKey=function Gg(m,E){return Rr(m,_r(E,3),od)},lt.floor=Gh,lt.forEach=Kl,lt.forEachRight=qf,lt.forIn=function Oh(m,E){return null==m?m:as(m,_r(E,3),fl)},lt.forInRight=function Bm(m,E){return null==m?m:Fo(m,_r(E,3),fl)},lt.forOwn=function Vm(m,E){return m&&Ta(m,_r(E,3))},lt.forOwnRight=function Hm(m,E){return m&&od(m,_r(E,3))},lt.get=Nl,lt.gt=Fg,lt.gte=du,lt.has=function dp(m,E){return null!=m&&wl(m,E,Qh)},lt.hasIn=hp,lt.head=Dm,lt.identity=Es,lt.includes=function D_(m,E,B,ge){m=ja(m)?m:ec(m),B=B&&!ge?qr(B):0;var Ye=m.length;return B<0&&(B=vo(Ye+B,0)),Dc(m)?B<=Ye&&m.indexOf(E,B)>-1:!!Ye&&Qr(m,E,B)>-1},lt.indexOf=function Ys(m,E,B){var ge=null==m?0:m.length;if(!ge)return-1;var Ye=null==B?0:qr(B);return Ye<0&&(Ye=vo(ge+Ye,0)),Qr(m,E,Ye)},lt.inRange=function Lh(m,E,B){return E=Ql(E),B===C?(B=E,E=0):B=Ql(B),function Su(m,E,B){return m>=Ms(E,B)&&m<vo(E,B)}(m=hl(m),E,B)},lt.invoke=Gm,lt.isArguments=Yc,lt.isArray=Yr,lt.isArrayBuffer=Od,lt.isArrayLike=ja,lt.isArrayLikeObject=$s,lt.isBoolean=function Ng(m){return!0===m||!1===m||pa(m)&&Ga(m)==xn},lt.isBuffer=Mc,lt.isDate=Lg,lt.isElement=function Fm(m){return pa(m)&&1===m.nodeType&&!uc(m)},lt.isEmpty=function jg(m){if(null==m)return!0;if(ja(m)&&(Yr(m)||"string"==typeof m||"function"==typeof m.splice||Mc(m)||El(m)||Yc(m)))return!m.length;var E=Ia(m);if(E==rt||E==yn)return!m.size;if(Gl(m))return!Kd(m).length;for(var B in m)if(eo.call(m,B))return!1;return!0},lt.isEqual=function Dh(m,E){return Oc(m,E)},lt.isEqualWith=function op(m,E,B){var ge=(B="function"==typeof B?B:C)?B(m,E):C;return ge===C?Oc(m,E,C,B):!!ge},lt.isError=Ka,lt.isFinite=function Th(m){return"number"==typeof m&&Qo(m)},lt.isFunction=Ml,lt.isInteger=sp,lt.isLength=Yu,lt.isMap=hu,lt.isMatch=function Bg(m,E){return m===E||cd(m,E,su(E))},lt.isMatchWith=function Nm(m,E,B){return B="function"==typeof B?B:C,cd(m,E,su(E),B)},lt.isNaN=function Vg(m){return Jl(m)&&m!=+m},lt.isNative=function Lm(m){if(oh(m))throw new Gi("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return sf(m)},lt.isNil=function Ku(m){return null==m},lt.isNull=function Ph(m){return null===m},lt.isNumber=Jl,lt.isObject=Zs,lt.isObjectLike=pa,lt.isPlainObject=uc,lt.isRegExp=dl,lt.isSafeInteger=function kd(m){return sp(m)&&m>=-b&&m<=b},lt.isSet=Ec,lt.isString=Dc,lt.isSymbol=Ba,lt.isTypedArray=El,lt.isUndefined=function fu(m){return m===C},lt.isWeakMap=function Fd(m){return pa(m)&&Ia(m)==It},lt.isWeakSet=function Nd(m){return pa(m)&&"[object WeakSet]"==Ga(m)},lt.join=function Nf(m,E){return null==m?"":Xa.call(m,E)},lt.kebabCase=vp,lt.last=Cl,lt.lastIndexOf=function lg(m,E,B){var ge=null==m?0:m.length;if(!ge)return-1;var Ye=ge;return B!==C&&(Ye=(Ye=qr(B))<0?vo(ge+Ye,0):Ms(Ye,ge-1)),E==E?function Xn(Jt,An,bn){for(var vi=bn+1;vi--;)if(Jt[vi]===An)return vi;return vi}(m,E,Ye):zs(m,nr,Ye,!0)},lt.lowerCase=jh,lt.lowerFirst=Qg,lt.lt=ap,lt.lte=Hg,lt.max=function Yh(m){return m&&m.length?La(m,Es,sd):C},lt.maxBy=function Pp(m,E){return m&&m.length?La(m,_r(E,2),sd):C},lt.mean=function l_(m){return ar(m,Es)},lt.meanBy=function Kh(m,E){return ar(m,_r(E,2))},lt.min=function $h(m){return m&&m.length?La(m,Es,So):C},lt.minBy=function Ip(m,E){return m&&m.length?La(m,_r(E,2),So):C},lt.stubArray=Wh,lt.stubFalse=Uh,lt.stubObject=function sm(){return{}},lt.stubString=function r_(){return""},lt.stubTrue=function o_(){return!0},lt.multiply=cm,lt.nth=function Lf(m,E){return m&&m.length?fi(m,qr(E)):C},lt.noConflict=function Qu(){return Lr._===this&&(Lr._=S),this},lt.noop=$c,lt.now=$l,lt.pad=function yp(m,E,B){m=$o(m);var ge=(E=qr(E))?hi(m):0;if(!E||ge>=E)return m;var Ye=(E-ge)/2;return ru(Po(Ye),B)+m+ru(so(Ye),B)},lt.padEnd=function bp(m,E,B){m=$o(m);var ge=(E=qr(E))?hi(m):0;return E&&ge<E?m+ru(E-ge,B):m},lt.padStart=function wp(m,E,B){m=$o(m);var ge=(E=qr(E))?hi(m):0;return E&&ge<E?ru(E-ge,B)+m:m},lt.parseInt=function Cp(m,E,B){return B||null==E?E=0:E&&(E=+E),wa($o(m).replace(qt,""),E||0)},lt.random=function Zg(m,E,B){if(B&&"boolean"!=typeof B&&ha(m,E,B)&&(E=B=C),B===C&&("boolean"==typeof E?(B=E,E=C):"boolean"==typeof m&&(B=m,m=C)),m===C&&E===C?(m=0,E=1):(m=Ql(m),E===C?(E=m,m=0):E=Ql(E)),m>E){var ge=m;m=E,E=ge}if(B||m%1||E%1){var Ye=Tl();return Ms(m+Ye*(E-m+Uo("1e-"+((Ye+"").length-1))),E)}return hd(m,E)},lt.reduce=function Dg(m,E,B){var ge=Yr(m)?bt:ye,Ye=arguments.length<3;return ge(m,_r(E,4),B,Ye,sl)},lt.reduceRight=function Jf(m,E,B){var ge=Yr(m)?Se:ye,Ye=arguments.length<3;return ge(m,_r(E,4),B,Ye,Wd)},lt.repeat=function Zm(m,E,B){return E=(B?ha(m,E,B):E===C)?1:qr(E),al($o(m),E)},lt.replace=function xp(){var m=arguments,E=$o(m[0]);return m.length<3?E:E.replace(m[1],m[2])},lt.result=function $m(m,E,B){var ge=-1,Ye=(E=Wo(E,m)).length;for(Ye||(Ye=1,m=C);++ge<Ye;){var wt=null==m?C:m[bc(E[ge])];wt===C&&(ge=Ye,wt=B),m=Ml(wt)?wt.call(m):wt}return m},lt.round=Ap,lt.runInContext=Jt,lt.sample=function Qf(m){return(Yr(m)?Ie:Gp)(m)},lt.size=function ul(m){if(null==m)return 0;if(ja(m))return Dc(m)?hi(m):m.length;var E=Ia(m);return E==rt||E==yn?m.size:Kd(m).length},lt.snakeCase=qm,lt.some=function uu(m,E,B){var ge=Yr(m)?Ct:Du;return B&&ha(m,E,B)&&(E=C),ge(m,_r(E,3))},lt.sortedIndex=function lu(m,E){return ll(m,E)},lt.sortedIndexBy=function Pm(m,E,B){return fd(m,E,_r(B,2))},lt.sortedIndexOf=function Vf(m,E){var B=null==m?0:m.length;if(B){var ge=ll(m,E);if(ge<B&&Xl(m[ge],E))return ge}return-1},lt.sortedLastIndex=function Hu(m,E){return ll(m,E,!0)},lt.sortedLastIndexBy=function dg(m,E,B){return fd(m,E,_r(B,2),!0)},lt.sortedLastIndexOf=function Uc(m,E){if(null!=m&&m.length){var ge=ll(m,E,!0)-1;if(Xl(m[ge],E))return ge}return-1},lt.startCase=Jm,lt.startsWith=function Sp(m,E,B){return m=$o(m),B=null==B?0:Na(qr(B),0,m.length),E=va(E),m.slice(B,B+E.length)==E},lt.subtract=um,lt.sum=function dm(m){return m&&m.length?at(m,Es):0},lt.sumBy=function Rp(m,E){return m&&m.length?at(m,_r(E,2)):0},lt.template=function Qm(m,E,B){var ge=lt.templateSettings;B&&ha(m,E,B)&&(E=C),m=$o(m),E=$u({},E,ge,vf);var Xt,dn,Ye=$u({},E.imports,ge.imports,vf),wt=Aa(Ye),Bt=Sr(Ye,wt),zn=0,Yn=E.interpolate||Ii,ti="__p += '",Vi=Da((E.escape||Ii).source+"|"+Yn.source+"|"+(Yn===Ln?ht:Ii).source+"|"+(E.evaluate||Ii).source+"|$","g"),cr="//# sourceURL="+(eo.call(E,"sourceURL")?(E.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Tt+"]")+"\n";m.replace(Vi,function(Er,bo,Mo,Ha,qs,pl){return Mo||(Mo=Ha),ti+=m.slice(zn,pl).replace(Hi,w),bo&&(Xt=!0,ti+="' +\n__e("+bo+") +\n'"),qs&&(dn=!0,ti+="';\n"+qs+";\n__p += '"),Mo&&(ti+="' +\n((__t = ("+Mo+")) == null ? '' : __t) +\n'"),zn=pl+Er.length,Er}),ti+="';\n";var Mr=eo.call(E,"variable")&&E.variable;if(Mr){if(Qe.test(Mr))throw new Gi("Invalid `variable` option passed into `_.template`")}else ti="with (obj) {\n"+ti+"\n}\n";ti=(dn?ti.replace(fo,""):ti).replace(Fi,"$1").replace(Xr,"$1;"),ti="function("+(Mr||"obj")+") {\n"+(Mr?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(Xt?", __e = _.escape":"")+(dn?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+ti+"return __p\n}";var lo=Vh(function(){return gr(wt,cr+"return "+ti).apply(C,Bt)});if(lo.source=ti,Ka(lo))throw lo;return lo},lt.times=function am(m,E){if((m=qr(m))<1||m>b)return[];var B=X,ge=Ms(m,X);E=_r(E),m-=X;for(var Ye=Tn(ge,E);++B<m;)E(B);return Ye},lt.toFinite=Ql,lt.toInteger=qr,lt.toLength=Ah,lt.toLower=function e_(m){return $o(m).toLowerCase()},lt.toNumber=hl,lt.toSafeInteger=function el(m){return m?Na(qr(m),-b,b):0===m?m:0},lt.toString=$o,lt.toUpper=function t_(m){return $o(m).toUpperCase()},lt.trim=function em(m,E,B){if((m=$o(m))&&(B||E===C))return Go(m);if(!m||!(E=va(E)))return m;var ge=Un(m),Ye=Un(E);return Wl(ge,$a(ge,Ye),Yo(ge,Ye)+1).join("")},lt.trimEnd=function tm(m,E,B){if((m=$o(m))&&(B||E===C))return m.slice(0,br(m)+1);if(!m||!(E=va(E)))return m;var ge=Un(m);return Wl(ge,0,Yo(ge,Un(E))+1).join("")},lt.trimStart=function n_(m,E,B){if((m=$o(m))&&(B||E===C))return m.replace(qt,"");if(!m||!(E=va(E)))return m;var ge=Un(m);return Wl(ge,$a(ge,Un(E))).join("")},lt.truncate=function I_(m,E){var B=30,ge="...";if(Zs(E)){var Ye="separator"in E?E.separator:Ye;B="length"in E?qr(E.length):B,ge="omission"in E?va(E.omission):ge}var wt=(m=$o(m)).length;if(te(m)){var Bt=Un(m);wt=Bt.length}if(B>=wt)return m;var Xt=B-hi(ge);if(Xt<1)return ge;var dn=Bt?Wl(Bt,0,Xt).join(""):m.slice(0,Xt);if(Ye===C)return dn+ge;if(Bt&&(Xt+=dn.length-Xt),dl(Ye)){if(m.slice(Xt).search(Ye)){var zn,Yn=dn;for(Ye.global||(Ye=Da(Ye.source,$o(sn.exec(Ye))+"g")),Ye.lastIndex=0;zn=Ye.exec(Yn);)var ti=zn.index;dn=dn.slice(0,ti===C?Xt:ti)}}else if(m.indexOf(va(Ye),Xt)!=Xt){var Vi=dn.lastIndexOf(Ye);Vi>-1&&(dn=dn.slice(0,Vi))}return dn+ge},lt.unescape=function nm(m){return(m=$o(m))&&He.test(m)?m.replace(pn,jo):m},lt.uniqueId=function lm(m){var E=++Dl;return $o(m)+E},lt.upperCase=A_,lt.upperFirst=Kc,lt.each=Kl,lt.eachRight=qf,lt.first=Dm,Tc(lt,function(){var m={};return Ta(lt,function(E,B){eo.call(lt.prototype,B)||(m[B]=E)}),m}(),{chain:!1}),lt.VERSION="4.17.21",$i(["bind","bindKey","curry","curryRight","partial","partialRight"],function(m){lt[m].placeholder=lt}),$i(["drop","take"],function(m,E){Ur.prototype[m]=function(B){B=B===C?1:vo(qr(B),0);var ge=this.__filtered__&&!E?new Ur(this):this.clone();return ge.__filtered__?ge.__takeCount__=Ms(B,ge.__takeCount__):ge.__views__.push({size:Ms(B,X),type:m+(ge.__dir__<0?"Right":"")}),ge},Ur.prototype[m+"Right"]=function(B){return this.reverse()[m](B).reverse()}}),$i(["filter","map","takeWhile"],function(m,E){var B=E+1,ge=1==B||3==B;Ur.prototype[m]=function(Ye){var wt=this.clone();return wt.__iteratees__.push({iteratee:_r(Ye,3),type:B}),wt.__filtered__=wt.__filtered__||ge,wt}}),$i(["head","last"],function(m,E){var B="take"+(E?"Right":"");Ur.prototype[m]=function(){return this[B](1).value()[0]}}),$i(["initial","tail"],function(m,E){var B="drop"+(E?"":"Right");Ur.prototype[m]=function(){return this.__filtered__?new Ur(this):this[B](1)}}),Ur.prototype.compact=function(){return this.filter(Es)},Ur.prototype.find=function(m){return this.filter(m).head()},Ur.prototype.findLast=function(m){return this.reverse().find(m)},Ur.prototype.invokeMap=ao(function(m,E){return"function"==typeof m?new Ur(this):this.map(function(B){return Rc(B,m,E)})}),Ur.prototype.reject=function(m){return this.filter(Mh(_r(m)))},Ur.prototype.slice=function(m,E){m=qr(m);var B=this;return B.__filtered__&&(m>0||E<0)?new Ur(B):(m<0?B=B.takeRight(-m):m&&(B=B.drop(m)),E!==C&&(B=(E=qr(E))<0?B.dropRight(-E):B.take(E-m)),B)},Ur.prototype.takeRightWhile=function(m){return this.reverse().takeWhile(m).reverse()},Ur.prototype.toArray=function(){return this.take(X)},Ta(Ur.prototype,function(m,E){var B=/^(?:filter|find|map|reject)|While$/.test(E),ge=/^(?:head|last)$/.test(E),Ye=lt[ge?"take"+("last"==E?"Right":""):E],wt=ge||/^find/.test(E);Ye&&(lt.prototype[E]=function(){var Bt=this.__wrapped__,Xt=ge?[1]:arguments,dn=Bt instanceof Ur,zn=Xt[0],Yn=dn||Yr(Bt),ti=function(bo){var Mo=Ye.apply(lt,Fe([bo],Xt));return ge&&Vi?Mo[0]:Mo};Yn&&B&&"function"==typeof zn&&1!=zn.length&&(dn=Yn=!1);var Vi=this.__chain__,Mr=wt&&!Vi,lo=dn&&!this.__actions__.length;if(!wt&&Yn){Bt=lo?Bt:new Ur(this);var Er=m.apply(Bt,Xt);return Er.__actions__.push({func:Ed,args:[ti],thisArg:C}),new na(Er,Vi)}return Mr&&lo?m.apply(this,Xt):(Er=this.thru(ti),Mr?ge?Er.value()[0]:Er.value():Er)})}),$i(["pop","push","shift","sort","splice","unshift"],function(m){var E=ka[m],B=/^(?:push|sort|unshift)$/.test(m)?"tap":"thru",ge=/^(?:pop|shift)$/.test(m);lt.prototype[m]=function(){var Ye=arguments;if(ge&&!this.__chain__){var wt=this.value();return E.apply(Yr(wt)?wt:[],Ye)}return this[B](function(Bt){return E.apply(Yr(Bt)?Bt:[],Ye)})}}),Ta(Ur.prototype,function(m,E){var B=lt[E];if(B){var ge=B.name+"";eo.call(Ws,ge)||(Ws[ge]=[]),Ws[ge].push({name:E,func:B})}}),Ws[md(C,xe).name]=[{name:"wrapper",func:C}],Ur.prototype.clone=function nc(){var m=new Ur(this.__wrapped__);return m.__actions__=cl(this.__actions__),m.__dir__=this.__dir__,m.__filtered__=this.__filtered__,m.__iteratees__=cl(this.__iteratees__),m.__takeCount__=this.__takeCount__,m.__views__=cl(this.__views__),m},Ur.prototype.reverse=function Il(){if(this.__filtered__){var m=new Ur(this);m.__dir__=-1,m.__filtered__=!0}else(m=this.clone()).__dir__*=-1;return m},Ur.prototype.value=function la(){var m=this.__wrapped__.value(),E=this.__dir__,B=Yr(m),ge=E<0,Ye=B?m.length:0,wt=function Cd(m,E,B){for(var ge=-1,Ye=B.length;++ge<Ye;){var wt=B[ge],Bt=wt.size;switch(wt.type){case"drop":m+=Bt;break;case"dropRight":E-=Bt;break;case"take":E=Ms(E,m+Bt);break;case"takeRight":m=vo(m,E-Bt)}}return{start:m,end:E}}(0,Ye,this.__views__),Bt=wt.start,Xt=wt.end,dn=Xt-Bt,zn=ge?Xt:Bt-1,Yn=this.__iteratees__,ti=Yn.length,Vi=0,cr=Ms(dn,this.__takeCount__);if(!B||!ge&&Ye==dn&&cr==dn)return rs(m,this.__actions__);var Mr=[];e:for(;dn--&&Vi<cr;){for(var lo=-1,Er=m[zn+=E];++lo<ti;){var bo=Yn[lo],Ha=bo.type,qs=(0,bo.iteratee)(Er);if(2==Ha)Er=qs;else if(!qs){if(1==Ha)continue e;break e}}Mr[Vi++]=Er}return Mr},lt.prototype.at=vg,lt.prototype.chain=function Dd(){return vh(this)},lt.prototype.commit=function yg(){return new na(this.value(),this.__chain__)},lt.prototype.next=function yh(){this.__values__===C&&(this.__values__=Ih(this.value()));var m=this.__index__>=this.__values__.length;return{done:m,value:m?C:this.__values__[this.__index__++]}},lt.prototype.plant=function bg(m){for(var E,B=this;B instanceof rl;){var ge=ig(B);ge.__index__=0,ge.__values__=C,E?Ye.__wrapped__=ge:E=ge;var Ye=ge;B=B.__wrapped__}return Ye.__wrapped__=m,E},lt.prototype.reverse=function wh(){var m=this.__wrapped__;if(m instanceof Ur){var E=m;return this.__actions__.length&&(E=new Ur(this)),(E=E.reverse()).__actions__.push({func:Ed,args:[gh],thisArg:C}),new na(E,this.__chain__)}return this.thru(gh)},lt.prototype.toJSON=lt.prototype.valueOf=lt.prototype.value=function Uu(){return rs(this.__wrapped__,this.__actions__)},lt.prototype.first=lt.prototype.head,yi&&(lt.prototype[yi]=function bh(){return this}),lt}();Lr._=Vo,(h=function(){return Vo}.call(Ve,G,Ve,cn))!==C&&(cn.exports=h)}.call(this)},1135:(cn,Ve,G)=>{"use strict";G.d(Ve,{X:()=>C});var h=G(7579);class C extends h.x{constructor(ee){super(),this._value=ee}get value(){return this.getValue()}_subscribe(ee){const pe=super._subscribe(ee);return!pe.closed&&ee.next(this._value),pe}getValue(){const{hasError:ee,thrownError:pe,_value:ue}=this;if(ee)throw pe;return this._throwIfClosed(),ue}next(ee){super.next(this._value=ee)}}},9751:(cn,Ve,G)=>{"use strict";G.d(Ve,{y:()=>re});var h=G(930),C=G(727),V=G(8822),ee=G(9635),pe=G(2416),ue=G(576),ve=G(2806);let re=(()=>{class O{constructor(Q){Q&&(this._subscribe=Q)}lift(Q){const oe=new O;return oe.source=this,oe.operator=Q,oe}subscribe(Q,oe,Ce){const xe=function y(O){return O&&O instanceof h.Lv||function U(O){return O&&(0,ue.m)(O.next)&&(0,ue.m)(O.error)&&(0,ue.m)(O.complete)}(O)&&(0,C.Nn)(O)}(Q)?Q:new h.Hp(Q,oe,Ce);return(0,ve.x)(()=>{const{operator:be,source:ke}=this;xe.add(be?be.call(xe,ke):ke?this._subscribe(xe):this._trySubscribe(xe))}),xe}_trySubscribe(Q){try{return this._subscribe(Q)}catch(oe){Q.error(oe)}}forEach(Q,oe){return new(oe=le(oe))((Ce,xe)=>{const be=new h.Hp({next:ke=>{try{Q(ke)}catch(Ze){xe(Ze),be.unsubscribe()}},error:xe,complete:Ce});this.subscribe(be)})}_subscribe(Q){var oe;return null===(oe=this.source)||void 0===oe?void 0:oe.subscribe(Q)}[V.L](){return this}pipe(...Q){return(0,ee.U)(Q)(this)}toPromise(Q){return new(Q=le(Q))((oe,Ce)=>{let xe;this.subscribe(be=>xe=be,be=>Ce(be),()=>oe(xe))})}}return O.create=$=>new O($),O})();function le(O){var $;return null!==($=O??pe.v.Promise)&&void 0!==$?$:Promise}},4707:(cn,Ve,G)=>{"use strict";G.d(Ve,{t:()=>V});var h=G(7579),C=G(6063);class V extends h.x{constructor(pe=1/0,ue=1/0,ve=C.l){super(),this._bufferSize=pe,this._windowTime=ue,this._timestampProvider=ve,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=ue===1/0,this._bufferSize=Math.max(1,pe),this._windowTime=Math.max(1,ue)}next(pe){const{isStopped:ue,_buffer:ve,_infiniteTimeWindow:re,_timestampProvider:le,_windowTime:U}=this;ue||(ve.push(pe),!re&&ve.push(le.now()+U)),this._trimBuffer(),super.next(pe)}_subscribe(pe){this._throwIfClosed(),this._trimBuffer();const ue=this._innerSubscribe(pe),{_infiniteTimeWindow:ve,_buffer:re}=this,le=re.slice();for(let U=0;U<le.length&&!pe.closed;U+=ve?1:2)pe.next(le[U]);return this._checkFinalizedStatuses(pe),ue}_trimBuffer(){const{_bufferSize:pe,_timestampProvider:ue,_buffer:ve,_infiniteTimeWindow:re}=this,le=(re?1:2)*pe;if(pe<1/0&&le<ve.length&&ve.splice(0,ve.length-le),!re){const U=ue.now();let y=0;for(let O=1;O<ve.length&&ve[O]<=U;O+=2)y=O;y&&ve.splice(0,y+1)}}}},7579:(cn,Ve,G)=>{"use strict";G.d(Ve,{x:()=>ve});var h=G(9751),C=G(727);const ee=(0,G(3888).d)(le=>function(){le(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var pe=G(8737),ue=G(2806);let ve=(()=>{class le extends h.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(y){const O=new re(this,this);return O.operator=y,O}_throwIfClosed(){if(this.closed)throw new ee}next(y){(0,ue.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const O of this.currentObservers)O.next(y)}})}error(y){(0,ue.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=y;const{observers:O}=this;for(;O.length;)O.shift().error(y)}})}complete(){(0,ue.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:y}=this;for(;y.length;)y.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var y;return(null===(y=this.observers)||void 0===y?void 0:y.length)>0}_trySubscribe(y){return this._throwIfClosed(),super._trySubscribe(y)}_subscribe(y){return this._throwIfClosed(),this._checkFinalizedStatuses(y),this._innerSubscribe(y)}_innerSubscribe(y){const{hasError:O,isStopped:$,observers:Q}=this;return O||$?C.Lc:(this.currentObservers=null,Q.push(y),new C.w0(()=>{this.currentObservers=null,(0,pe.P)(Q,y)}))}_checkFinalizedStatuses(y){const{hasError:O,thrownError:$,isStopped:Q}=this;O?y.error($):Q&&y.complete()}asObservable(){const y=new h.y;return y.source=this,y}}return le.create=(U,y)=>new re(U,y),le})();class re extends ve{constructor(U,y){super(),this.destination=U,this.source=y}next(U){var y,O;null===(O=null===(y=this.destination)||void 0===y?void 0:y.next)||void 0===O||O.call(y,U)}error(U){var y,O;null===(O=null===(y=this.destination)||void 0===y?void 0:y.error)||void 0===O||O.call(y,U)}complete(){var U,y;null===(y=null===(U=this.destination)||void 0===U?void 0:U.complete)||void 0===y||y.call(U)}_subscribe(U){var y,O;return null!==(O=null===(y=this.source)||void 0===y?void 0:y.subscribe(U))&&void 0!==O?O:C.Lc}}},930:(cn,Ve,G)=>{"use strict";G.d(Ve,{Hp:()=>Ce,Lv:()=>O});var h=G(576),C=G(727),V=G(2416),ee=G(7849),pe=G(5032);const ue=le("C",void 0,void 0);function le(Ke,De,et){return{kind:Ke,value:De,error:et}}var U=G(3410),y=G(2806);class O extends C.w0{constructor(De){super(),this.isStopped=!1,De?(this.destination=De,(0,C.Nn)(De)&&De.add(this)):this.destination=Ze}static create(De,et,tt){return new Ce(De,et,tt)}next(De){this.isStopped?ke(function re(Ke){return le("N",Ke,void 0)}(De),this):this._next(De)}error(De){this.isStopped?ke(function ve(Ke){return le("E",void 0,Ke)}(De),this):(this.isStopped=!0,this._error(De))}complete(){this.isStopped?ke(ue,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(De){this.destination.next(De)}_error(De){try{this.destination.error(De)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const $=Function.prototype.bind;function Q(Ke,De){return $.call(Ke,De)}class oe{constructor(De){this.partialObserver=De}next(De){const{partialObserver:et}=this;if(et.next)try{et.next(De)}catch(tt){xe(tt)}}error(De){const{partialObserver:et}=this;if(et.error)try{et.error(De)}catch(tt){xe(tt)}else xe(De)}complete(){const{partialObserver:De}=this;if(De.complete)try{De.complete()}catch(et){xe(et)}}}class Ce extends O{constructor(De,et,tt){let u;if(super(),(0,h.m)(De)||!De)u={next:De??void 0,error:et??void 0,complete:tt??void 0};else{let dt;this&&V.v.useDeprecatedNextContext?(dt=Object.create(De),dt.unsubscribe=()=>this.unsubscribe(),u={next:De.next&&Q(De.next,dt),error:De.error&&Q(De.error,dt),complete:De.complete&&Q(De.complete,dt)}):u=De}this.destination=new oe(u)}}function xe(Ke){V.v.useDeprecatedSynchronousErrorHandling?(0,y.O)(Ke):(0,ee.h)(Ke)}function ke(Ke,De){const{onStoppedNotification:et}=V.v;et&&U.z.setTimeout(()=>et(Ke,De))}const Ze={closed:!0,next:pe.Z,error:function be(Ke){throw Ke},complete:pe.Z}},727:(cn,Ve,G)=>{"use strict";G.d(Ve,{Lc:()=>ue,w0:()=>pe,Nn:()=>ve});var h=G(576);const V=(0,G(3888).d)(le=>function(y){le(this),this.message=y?`${y.length} errors occurred during unsubscription:\n${y.map((O,$)=>`${$+1}) ${O.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=y});var ee=G(8737);class pe{constructor(U){this.initialTeardown=U,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let U;if(!this.closed){this.closed=!0;const{_parentage:y}=this;if(y)if(this._parentage=null,Array.isArray(y))for(const Q of y)Q.remove(this);else y.remove(this);const{initialTeardown:O}=this;if((0,h.m)(O))try{O()}catch(Q){U=Q instanceof V?Q.errors:[Q]}const{_finalizers:$}=this;if($){this._finalizers=null;for(const Q of $)try{re(Q)}catch(oe){U=U??[],oe instanceof V?U=[...U,...oe.errors]:U.push(oe)}}if(U)throw new V(U)}}add(U){var y;if(U&&U!==this)if(this.closed)re(U);else{if(U instanceof pe){if(U.closed||U._hasParent(this))return;U._addParent(this)}(this._finalizers=null!==(y=this._finalizers)&&void 0!==y?y:[]).push(U)}}_hasParent(U){const{_parentage:y}=this;return y===U||Array.isArray(y)&&y.includes(U)}_addParent(U){const{_parentage:y}=this;this._parentage=Array.isArray(y)?(y.push(U),y):y?[y,U]:U}_removeParent(U){const{_parentage:y}=this;y===U?this._parentage=null:Array.isArray(y)&&(0,ee.P)(y,U)}remove(U){const{_finalizers:y}=this;y&&(0,ee.P)(y,U),U instanceof pe&&U._removeParent(this)}}pe.EMPTY=(()=>{const le=new pe;return le.closed=!0,le})();const ue=pe.EMPTY;function ve(le){return le instanceof pe||le&&"closed"in le&&(0,h.m)(le.remove)&&(0,h.m)(le.add)&&(0,h.m)(le.unsubscribe)}function re(le){(0,h.m)(le)?le():le.unsubscribe()}},2416:(cn,Ve,G)=>{"use strict";G.d(Ve,{v:()=>h});const h={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:(cn,Ve,G)=>{"use strict";G.d(Ve,{a:()=>U});var h=G(9751),C=G(4742),V=G(2076),ee=G(4671),pe=G(3268),ue=G(3269),ve=G(1810),re=G(5403),le=G(9672);function U(...$){const Q=(0,ue.yG)($),oe=(0,ue.jO)($),{args:Ce,keys:xe}=(0,C.D)($);if(0===Ce.length)return(0,V.D)([],Q);const be=new h.y(function y($,Q,oe=ee.y){return Ce=>{O(Q,()=>{const{length:xe}=$,be=new Array(xe);let ke=xe,Ze=xe;for(let Ke=0;Ke<xe;Ke++)O(Q,()=>{const De=(0,V.D)($[Ke],Q);let et=!1;De.subscribe((0,re.x)(Ce,tt=>{be[Ke]=tt,et||(et=!0,Ze--),Ze||Ce.next(oe(be.slice()))},()=>{--ke||Ce.complete()}))},Ce)},Ce)}}(Ce,Q,xe?ke=>(0,ve.n)(xe,ke):ee.y));return oe?be.pipe((0,pe.Z)(oe)):be}function O($,Q,oe){$?(0,le.f)(oe,$,Q):Q()}},7272:(cn,Ve,G)=>{"use strict";G.d(Ve,{z:()=>pe});var h=G(8189),V=G(3269),ee=G(2076);function pe(...ue){return function C(){return(0,h.J)(1)}()((0,ee.D)(ue,(0,V.yG)(ue)))}},9770:(cn,Ve,G)=>{"use strict";G.d(Ve,{P:()=>V});var h=G(9751),C=G(8421);function V(ee){return new h.y(pe=>{(0,C.Xf)(ee()).subscribe(pe)})}},515:(cn,Ve,G)=>{"use strict";G.d(Ve,{E:()=>C});const C=new(G(9751).y)(pe=>pe.complete())},4128:(cn,Ve,G)=>{"use strict";G.d(Ve,{D:()=>re});var h=G(9751),C=G(4742),V=G(8421),ee=G(3269),pe=G(5403),ue=G(3268),ve=G(1810);function re(...le){const U=(0,ee.jO)(le),{args:y,keys:O}=(0,C.D)(le),$=new h.y(Q=>{const{length:oe}=y;if(!oe)return void Q.complete();const Ce=new Array(oe);let xe=oe,be=oe;for(let ke=0;ke<oe;ke++){let Ze=!1;(0,V.Xf)(y[ke]).subscribe((0,pe.x)(Q,Ke=>{Ze||(Ze=!0,be--),Ce[ke]=Ke},()=>xe--,void 0,()=>{(!xe||!Ze)&&(be||Q.next(O?(0,ve.n)(O,Ce):Ce),Q.complete())}))}});return U?$.pipe((0,ue.Z)(U)):$}},2076:(cn,Ve,G)=>{"use strict";G.d(Ve,{D:()=>tt});var h=G(8421),C=G(9672),V=G(4482),ee=G(5403);function pe(u,dt=0){return(0,V.e)((we,mt)=>{we.subscribe((0,ee.x)(mt,Gt=>(0,C.f)(mt,u,()=>mt.next(Gt),dt),()=>(0,C.f)(mt,u,()=>mt.complete(),dt),Gt=>(0,C.f)(mt,u,()=>mt.error(Gt),dt)))})}function ue(u,dt=0){return(0,V.e)((we,mt)=>{mt.add(u.schedule(()=>we.subscribe(mt),dt))})}var le=G(9751),y=G(2202),O=G(576);function Q(u,dt){if(!u)throw new Error("Iterable cannot be null");return new le.y(we=>{(0,C.f)(we,dt,()=>{const mt=u[Symbol.asyncIterator]();(0,C.f)(we,dt,()=>{mt.next().then(Gt=>{Gt.done?we.complete():we.next(Gt.value)})},0,!0)})})}var oe=G(3670),Ce=G(8239),xe=G(1144),be=G(6495),ke=G(2206),Ze=G(4532),Ke=G(3260);function tt(u,dt){return dt?function et(u,dt){if(null!=u){if((0,oe.c)(u))return function ve(u,dt){return(0,h.Xf)(u).pipe(ue(dt),pe(dt))}(u,dt);if((0,xe.z)(u))return function U(u,dt){return new le.y(we=>{let mt=0;return dt.schedule(function(){mt===u.length?we.complete():(we.next(u[mt++]),we.closed||this.schedule())})})}(u,dt);if((0,Ce.t)(u))return function re(u,dt){return(0,h.Xf)(u).pipe(ue(dt),pe(dt))}(u,dt);if((0,ke.D)(u))return Q(u,dt);if((0,be.T)(u))return function $(u,dt){return new le.y(we=>{let mt;return(0,C.f)(we,dt,()=>{mt=u[y.h](),(0,C.f)(we,dt,()=>{let Gt,Le;try{({value:Gt,done:Le}=mt.next())}catch(H){return void we.error(H)}Le?we.complete():we.next(Gt)},0,!0)}),()=>(0,O.m)(mt?.return)&&mt.return()})}(u,dt);if((0,Ke.L)(u))return function De(u,dt){return Q((0,Ke.Q)(u),dt)}(u,dt)}throw(0,Ze.z)(u)}(u,dt):(0,h.Xf)(u)}},4968:(cn,Ve,G)=>{"use strict";G.d(Ve,{R:()=>U});var h=G(8421),C=G(9751),V=G(5577),ee=G(1144),pe=G(576),ue=G(3268);const ve=["addListener","removeListener"],re=["addEventListener","removeEventListener"],le=["on","off"];function U(oe,Ce,xe,be){if((0,pe.m)(xe)&&(be=xe,xe=void 0),be)return U(oe,Ce,xe).pipe((0,ue.Z)(be));const[ke,Ze]=function Q(oe){return(0,pe.m)(oe.addEventListener)&&(0,pe.m)(oe.removeEventListener)}(oe)?re.map(Ke=>De=>oe[Ke](Ce,De,xe)):function O(oe){return(0,pe.m)(oe.addListener)&&(0,pe.m)(oe.removeListener)}(oe)?ve.map(y(oe,Ce)):function $(oe){return(0,pe.m)(oe.on)&&(0,pe.m)(oe.off)}(oe)?le.map(y(oe,Ce)):[];if(!ke&&(0,ee.z)(oe))return(0,V.z)(Ke=>U(Ke,Ce,xe))((0,h.Xf)(oe));if(!ke)throw new TypeError("Invalid event target");return new C.y(Ke=>{const De=(...et)=>Ke.next(1<et.length?et:et[0]);return ke(De),()=>Ze(De)})}function y(oe,Ce){return xe=>be=>oe[xe](Ce,be)}},8421:(cn,Ve,G)=>{"use strict";G.d(Ve,{Xf:()=>$});var h=G(7582),C=G(1144),V=G(8239),ee=G(9751),pe=G(3670),ue=G(2206),ve=G(4532),re=G(6495),le=G(3260),U=G(576),y=G(7849),O=G(8822);function $(Ke){if(Ke instanceof ee.y)return Ke;if(null!=Ke){if((0,pe.c)(Ke))return function Q(Ke){return new ee.y(De=>{const et=Ke[O.L]();if((0,U.m)(et.subscribe))return et.subscribe(De);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ke);if((0,C.z)(Ke))return function oe(Ke){return new ee.y(De=>{for(let et=0;et<Ke.length&&!De.closed;et++)De.next(Ke[et]);De.complete()})}(Ke);if((0,V.t)(Ke))return function Ce(Ke){return new ee.y(De=>{Ke.then(et=>{De.closed||(De.next(et),De.complete())},et=>De.error(et)).then(null,y.h)})}(Ke);if((0,ue.D)(Ke))return be(Ke);if((0,re.T)(Ke))return function xe(Ke){return new ee.y(De=>{for(const et of Ke)if(De.next(et),De.closed)return;De.complete()})}(Ke);if((0,le.L)(Ke))return function ke(Ke){return be((0,le.Q)(Ke))}(Ke)}throw(0,ve.z)(Ke)}function be(Ke){return new ee.y(De=>{(function Ze(Ke,De){var et,tt,u,dt;return(0,h.mG)(this,void 0,void 0,function*(){try{for(et=(0,h.KL)(Ke);!(tt=yield et.next()).done;)if(De.next(tt.value),De.closed)return}catch(we){u={error:we}}finally{try{tt&&!tt.done&&(dt=et.return)&&(yield dt.call(et))}finally{if(u)throw u.error}}De.complete()})})(Ke,De).catch(et=>De.error(et))})}},6451:(cn,Ve,G)=>{"use strict";G.d(Ve,{T:()=>ue});var h=G(8189),C=G(8421),V=G(515),ee=G(3269),pe=G(2076);function ue(...ve){const re=(0,ee.yG)(ve),le=(0,ee._6)(ve,1/0),U=ve;return U.length?1===U.length?(0,C.Xf)(U[0]):(0,h.J)(le)((0,pe.D)(U,re)):V.E}},9646:(cn,Ve,G)=>{"use strict";G.d(Ve,{of:()=>V});var h=G(3269),C=G(2076);function V(...ee){const pe=(0,h.yG)(ee);return(0,C.D)(ee,pe)}},2843:(cn,Ve,G)=>{"use strict";G.d(Ve,{_:()=>V});var h=G(9751),C=G(576);function V(ee,pe){const ue=(0,C.m)(ee)?ee:()=>ee,ve=re=>re.error(ue());return new h.y(pe?re=>pe.schedule(ve,0,re):ve)}},5963:(cn,Ve,G)=>{"use strict";G.d(Ve,{H:()=>pe});var h=G(9751),C=G(4986),V=G(3532);function pe(ue=0,ve,re=C.P){let le=-1;return null!=ve&&((0,V.K)(ve)?re=ve:le=ve),new h.y(U=>{let y=function ee(ue){return ue instanceof Date&&!isNaN(ue)}(ue)?+ue-re.now():ue;y<0&&(y=0);let O=0;return re.schedule(function(){U.closed||(U.next(O++),0<=le?this.schedule(void 0,le):U.complete())},y)})}},5403:(cn,Ve,G)=>{"use strict";G.d(Ve,{x:()=>C});var h=G(930);function C(ee,pe,ue,ve,re){return new V(ee,pe,ue,ve,re)}class V extends h.Lv{constructor(pe,ue,ve,re,le,U){super(pe),this.onFinalize=le,this.shouldUnsubscribe=U,this._next=ue?function(y){try{ue(y)}catch(O){pe.error(O)}}:super._next,this._error=re?function(y){try{re(y)}catch(O){pe.error(O)}finally{this.unsubscribe()}}:super._error,this._complete=ve?function(){try{ve()}catch(y){pe.error(y)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var pe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ue}=this;super.unsubscribe(),!ue&&(null===(pe=this.onFinalize)||void 0===pe||pe.call(this))}}}},262:(cn,Ve,G)=>{"use strict";G.d(Ve,{K:()=>ee});var h=G(8421),C=G(5403),V=G(4482);function ee(pe){return(0,V.e)((ue,ve)=>{let U,re=null,le=!1;re=ue.subscribe((0,C.x)(ve,void 0,void 0,y=>{U=(0,h.Xf)(pe(y,ee(pe)(ue))),re?(re.unsubscribe(),re=null,U.subscribe(ve)):le=!0})),le&&(re.unsubscribe(),re=null,U.subscribe(ve))})}},4351:(cn,Ve,G)=>{"use strict";G.d(Ve,{b:()=>V});var h=G(5577),C=G(576);function V(ee,pe){return(0,C.m)(pe)?(0,h.z)(ee,pe,1):(0,h.z)(ee,1)}},8372:(cn,Ve,G)=>{"use strict";G.d(Ve,{b:()=>ee});var h=G(4986),C=G(4482),V=G(5403);function ee(pe,ue=h.z){return(0,C.e)((ve,re)=>{let le=null,U=null,y=null;const O=()=>{if(le){le.unsubscribe(),le=null;const Q=U;U=null,re.next(Q)}};function $(){const Q=y+pe,oe=ue.now();if(oe<Q)return le=this.schedule(void 0,Q-oe),void re.add(le);O()}ve.subscribe((0,V.x)(re,Q=>{U=Q,y=ue.now(),le||(le=ue.schedule($,pe),re.add(le))},()=>{O(),re.complete()},void 0,()=>{U=le=null}))})}},1005:(cn,Ve,G)=>{"use strict";G.d(Ve,{g:()=>$});var h=G(4986),C=G(7272),V=G(5698),ee=G(4482),pe=G(5403),ue=G(5032),re=G(9718),le=G(5577),U=G(8421);function y(Q,oe){return oe?Ce=>(0,C.z)(oe.pipe((0,V.q)(1),function ve(){return(0,ee.e)((Q,oe)=>{Q.subscribe((0,pe.x)(oe,ue.Z))})}()),Ce.pipe(y(Q))):(0,le.z)((Ce,xe)=>(0,U.Xf)(Q(Ce,xe)).pipe((0,V.q)(1),(0,re.h)(Ce)))}var O=G(5963);function $(Q,oe=h.z){const Ce=(0,O.H)(Q,oe);return y(()=>Ce)}},1884:(cn,Ve,G)=>{"use strict";G.d(Ve,{x:()=>ee});var h=G(4671),C=G(4482),V=G(5403);function ee(ue,ve=h.y){return ue=ue??pe,(0,C.e)((re,le)=>{let U,y=!0;re.subscribe((0,V.x)(le,O=>{const $=ve(O);(y||!ue(U,$))&&(y=!1,U=$,le.next(O))}))})}function pe(ue,ve){return ue===ve}},9300:(cn,Ve,G)=>{"use strict";G.d(Ve,{h:()=>V});var h=G(4482),C=G(5403);function V(ee,pe){return(0,h.e)((ue,ve)=>{let re=0;ue.subscribe((0,C.x)(ve,le=>ee.call(pe,le,re++)&&ve.next(le)))})}},8746:(cn,Ve,G)=>{"use strict";G.d(Ve,{x:()=>C});var h=G(4482);function C(V){return(0,h.e)((ee,pe)=>{try{ee.subscribe(pe)}finally{pe.add(V)}})}},4004:(cn,Ve,G)=>{"use strict";G.d(Ve,{U:()=>V});var h=G(4482),C=G(5403);function V(ee,pe){return(0,h.e)((ue,ve)=>{let re=0;ue.subscribe((0,C.x)(ve,le=>{ve.next(ee.call(pe,le,re++))}))})}},9718:(cn,Ve,G)=>{"use strict";G.d(Ve,{h:()=>C});var h=G(4004);function C(V){return(0,h.U)(()=>V)}},8189:(cn,Ve,G)=>{"use strict";G.d(Ve,{J:()=>V});var h=G(5577),C=G(4671);function V(ee=1/0){return(0,h.z)(C.y,ee)}},5577:(cn,Ve,G)=>{"use strict";G.d(Ve,{z:()=>re});var h=G(4004),C=G(8421),V=G(4482),ee=G(9672),pe=G(5403),ve=G(576);function re(le,U,y=1/0){return(0,ve.m)(U)?re((O,$)=>(0,h.U)((Q,oe)=>U(O,Q,$,oe))((0,C.Xf)(le(O,$))),y):("number"==typeof U&&(y=U),(0,V.e)((O,$)=>function ue(le,U,y,O,$,Q,oe,Ce){const xe=[];let be=0,ke=0,Ze=!1;const Ke=()=>{Ze&&!xe.length&&!be&&U.complete()},De=tt=>be<O?et(tt):xe.push(tt),et=tt=>{Q&&U.next(tt),be++;let u=!1;(0,C.Xf)(y(tt,ke++)).subscribe((0,pe.x)(U,dt=>{$?.(dt),Q?De(dt):U.next(dt)},()=>{u=!0},void 0,()=>{if(u)try{for(be--;xe.length&&be<O;){const dt=xe.shift();oe?(0,ee.f)(U,oe,()=>et(dt)):et(dt)}Ke()}catch(dt){U.error(dt)}}))};return le.subscribe((0,pe.x)(U,De,()=>{Ze=!0,Ke()})),()=>{Ce?.()}}(O,$,le,y)))}},3099:(cn,Ve,G)=>{"use strict";G.d(Ve,{B:()=>pe});var h=G(8421),C=G(7579),V=G(930),ee=G(4482);function pe(ve={}){const{connector:re=(()=>new C.x),resetOnError:le=!0,resetOnComplete:U=!0,resetOnRefCountZero:y=!0}=ve;return O=>{let $,Q,oe,Ce=0,xe=!1,be=!1;const ke=()=>{Q?.unsubscribe(),Q=void 0},Ze=()=>{ke(),$=oe=void 0,xe=be=!1},Ke=()=>{const De=$;Ze(),De?.unsubscribe()};return(0,ee.e)((De,et)=>{Ce++,!be&&!xe&&ke();const tt=oe=oe??re();et.add(()=>{Ce--,0===Ce&&!be&&!xe&&(Q=ue(Ke,y))}),tt.subscribe(et),!$&&Ce>0&&($=new V.Hp({next:u=>tt.next(u),error:u=>{be=!0,ke(),Q=ue(Ze,le,u),tt.error(u)},complete:()=>{xe=!0,ke(),Q=ue(Ze,U),tt.complete()}}),(0,h.Xf)(De).subscribe($))})(O)}}function ue(ve,re,...le){if(!0===re)return void ve();if(!1===re)return;const U=new V.Hp({next:()=>{U.unsubscribe(),ve()}});return(0,h.Xf)(re(...le)).subscribe(U)}},5684:(cn,Ve,G)=>{"use strict";G.d(Ve,{T:()=>C});var h=G(9300);function C(V){return(0,h.h)((ee,pe)=>V<=pe)}},8675:(cn,Ve,G)=>{"use strict";G.d(Ve,{O:()=>ee});var h=G(7272),C=G(3269),V=G(4482);function ee(...pe){const ue=(0,C.yG)(pe);return(0,V.e)((ve,re)=>{(ue?(0,h.z)(pe,ve,ue):(0,h.z)(pe,ve)).subscribe(re)})}},3900:(cn,Ve,G)=>{"use strict";G.d(Ve,{w:()=>ee});var h=G(8421),C=G(4482),V=G(5403);function ee(pe,ue){return(0,C.e)((ve,re)=>{let le=null,U=0,y=!1;const O=()=>y&&!le&&re.complete();ve.subscribe((0,V.x)(re,$=>{le?.unsubscribe();let Q=0;const oe=U++;(0,h.Xf)(pe($,oe)).subscribe(le=(0,V.x)(re,Ce=>re.next(ue?ue($,Ce,oe,Q++):Ce),()=>{le=null,O()}))},()=>{y=!0,O()}))})}},5698:(cn,Ve,G)=>{"use strict";G.d(Ve,{q:()=>ee});var h=G(515),C=G(4482),V=G(5403);function ee(pe){return pe<=0?()=>h.E:(0,C.e)((ue,ve)=>{let re=0;ue.subscribe((0,V.x)(ve,le=>{++re<=pe&&(ve.next(le),pe<=re&&ve.complete())}))})}},2722:(cn,Ve,G)=>{"use strict";G.d(Ve,{R:()=>pe});var h=G(4482),C=G(5403),V=G(8421),ee=G(5032);function pe(ue){return(0,h.e)((ve,re)=>{(0,V.Xf)(ue).subscribe((0,C.x)(re,()=>re.complete(),ee.Z)),!re.closed&&ve.subscribe(re)})}},2529:(cn,Ve,G)=>{"use strict";G.d(Ve,{o:()=>V});var h=G(4482),C=G(5403);function V(ee,pe=!1){return(0,h.e)((ue,ve)=>{let re=0;ue.subscribe((0,C.x)(ve,le=>{const U=ee(le,re++);(U||pe)&&ve.next(le),!U&&ve.complete()}))})}},8505:(cn,Ve,G)=>{"use strict";G.d(Ve,{b:()=>pe});var h=G(576),C=G(4482),V=G(5403),ee=G(4671);function pe(ue,ve,re){const le=(0,h.m)(ue)||ve||re?{next:ue,error:ve,complete:re}:ue;return le?(0,C.e)((U,y)=>{var O;null===(O=le.subscribe)||void 0===O||O.call(le);let $=!0;U.subscribe((0,V.x)(y,Q=>{var oe;null===(oe=le.next)||void 0===oe||oe.call(le,Q),y.next(Q)},()=>{var Q;$=!1,null===(Q=le.complete)||void 0===Q||Q.call(le),y.complete()},Q=>{var oe;$=!1,null===(oe=le.error)||void 0===oe||oe.call(le,Q),y.error(Q)},()=>{var Q,oe;$&&(null===(Q=le.unsubscribe)||void 0===Q||Q.call(le)),null===(oe=le.finalize)||void 0===oe||oe.call(le)}))}):ee.y}},4408:(cn,Ve,G)=>{"use strict";G.d(Ve,{o:()=>pe});var h=G(727);class C extends h.w0{constructor(ve,re){super()}schedule(ve,re=0){return this}}const V={setInterval(ue,ve,...re){const{delegate:le}=V;return le?.setInterval?le.setInterval(ue,ve,...re):setInterval(ue,ve,...re)},clearInterval(ue){const{delegate:ve}=V;return(ve?.clearInterval||clearInterval)(ue)},delegate:void 0};var ee=G(8737);class pe extends C{constructor(ve,re){super(ve,re),this.scheduler=ve,this.work=re,this.pending=!1}schedule(ve,re=0){var le;if(this.closed)return this;this.state=ve;const U=this.id,y=this.scheduler;return null!=U&&(this.id=this.recycleAsyncId(y,U,re)),this.pending=!0,this.delay=re,this.id=null!==(le=this.id)&&void 0!==le?le:this.requestAsyncId(y,this.id,re),this}requestAsyncId(ve,re,le=0){return V.setInterval(ve.flush.bind(ve,this),le)}recycleAsyncId(ve,re,le=0){if(null!=le&&this.delay===le&&!1===this.pending)return re;null!=re&&V.clearInterval(re)}execute(ve,re){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const le=this._execute(ve,re);if(le)return le;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ve,re){let U,le=!1;try{this.work(ve)}catch(y){le=!0,U=y||new Error("Scheduled action threw falsy error")}if(le)return this.unsubscribe(),U}unsubscribe(){if(!this.closed){const{id:ve,scheduler:re}=this,{actions:le}=re;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ee.P)(le,this),null!=ve&&(this.id=this.recycleAsyncId(re,ve,null)),this.delay=null,super.unsubscribe()}}}},7565:(cn,Ve,G)=>{"use strict";G.d(Ve,{v:()=>V});var h=G(6063);class C{constructor(pe,ue=C.now){this.schedulerActionCtor=pe,this.now=ue}schedule(pe,ue=0,ve){return new this.schedulerActionCtor(this,pe).schedule(ve,ue)}}C.now=h.l.now;class V extends C{constructor(pe,ue=C.now){super(pe,ue),this.actions=[],this._active=!1}flush(pe){const{actions:ue}=this;if(this._active)return void ue.push(pe);let ve;this._active=!0;do{if(ve=pe.execute(pe.state,pe.delay))break}while(pe=ue.shift());if(this._active=!1,ve){for(;pe=ue.shift();)pe.unsubscribe();throw ve}}}},4986:(cn,Ve,G)=>{"use strict";G.d(Ve,{P:()=>ee,z:()=>V});var h=G(4408);const V=new(G(7565).v)(h.o),ee=V},6063:(cn,Ve,G)=>{"use strict";G.d(Ve,{l:()=>h});const h={now:()=>(h.delegate||Date).now(),delegate:void 0}},3410:(cn,Ve,G)=>{"use strict";G.d(Ve,{z:()=>h});const h={setTimeout(C,V,...ee){const{delegate:pe}=h;return pe?.setTimeout?pe.setTimeout(C,V,...ee):setTimeout(C,V,...ee)},clearTimeout(C){const{delegate:V}=h;return(V?.clearTimeout||clearTimeout)(C)},delegate:void 0}},2202:(cn,Ve,G)=>{"use strict";G.d(Ve,{h:()=>C});const C=function h(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(cn,Ve,G)=>{"use strict";G.d(Ve,{L:()=>h});const h="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(cn,Ve,G)=>{"use strict";G.d(Ve,{K:()=>C});const C=(0,G(3888).d)(V=>function(){V(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(cn,Ve,G)=>{"use strict";G.d(Ve,{_6:()=>ue,jO:()=>ee,yG:()=>pe});var h=G(576),C=G(3532);function V(ve){return ve[ve.length-1]}function ee(ve){return(0,h.m)(V(ve))?ve.pop():void 0}function pe(ve){return(0,C.K)(V(ve))?ve.pop():void 0}function ue(ve,re){return"number"==typeof V(ve)?ve.pop():re}},4742:(cn,Ve,G)=>{"use strict";G.d(Ve,{D:()=>pe});const{isArray:h}=Array,{getPrototypeOf:C,prototype:V,keys:ee}=Object;function pe(ve){if(1===ve.length){const re=ve[0];if(h(re))return{args:re,keys:null};if(function ue(ve){return ve&&"object"==typeof ve&&C(ve)===V}(re)){const le=ee(re);return{args:le.map(U=>re[U]),keys:le}}}return{args:ve,keys:null}}},8737:(cn,Ve,G)=>{"use strict";function h(C,V){if(C){const ee=C.indexOf(V);0<=ee&&C.splice(ee,1)}}G.d(Ve,{P:()=>h})},3888:(cn,Ve,G)=>{"use strict";function h(C){const ee=C(pe=>{Error.call(pe),pe.stack=(new Error).stack});return ee.prototype=Object.create(Error.prototype),ee.prototype.constructor=ee,ee}G.d(Ve,{d:()=>h})},1810:(cn,Ve,G)=>{"use strict";function h(C,V){return C.reduce((ee,pe,ue)=>(ee[pe]=V[ue],ee),{})}G.d(Ve,{n:()=>h})},2806:(cn,Ve,G)=>{"use strict";G.d(Ve,{O:()=>ee,x:()=>V});var h=G(2416);let C=null;function V(pe){if(h.v.useDeprecatedSynchronousErrorHandling){const ue=!C;if(ue&&(C={errorThrown:!1,error:null}),pe(),ue){const{errorThrown:ve,error:re}=C;if(C=null,ve)throw re}}else pe()}function ee(pe){h.v.useDeprecatedSynchronousErrorHandling&&C&&(C.errorThrown=!0,C.error=pe)}},9672:(cn,Ve,G)=>{"use strict";function h(C,V,ee,pe=0,ue=!1){const ve=V.schedule(function(){ee(),ue?C.add(this.schedule(null,pe)):this.unsubscribe()},pe);if(C.add(ve),!ue)return ve}G.d(Ve,{f:()=>h})},4671:(cn,Ve,G)=>{"use strict";function h(C){return C}G.d(Ve,{y:()=>h})},1144:(cn,Ve,G)=>{"use strict";G.d(Ve,{z:()=>h});const h=C=>C&&"number"==typeof C.length&&"function"!=typeof C},2206:(cn,Ve,G)=>{"use strict";G.d(Ve,{D:()=>C});var h=G(576);function C(V){return Symbol.asyncIterator&&(0,h.m)(V?.[Symbol.asyncIterator])}},576:(cn,Ve,G)=>{"use strict";function h(C){return"function"==typeof C}G.d(Ve,{m:()=>h})},3670:(cn,Ve,G)=>{"use strict";G.d(Ve,{c:()=>V});var h=G(8822),C=G(576);function V(ee){return(0,C.m)(ee[h.L])}},6495:(cn,Ve,G)=>{"use strict";G.d(Ve,{T:()=>V});var h=G(2202),C=G(576);function V(ee){return(0,C.m)(ee?.[h.h])}},8239:(cn,Ve,G)=>{"use strict";G.d(Ve,{t:()=>C});var h=G(576);function C(V){return(0,h.m)(V?.then)}},3260:(cn,Ve,G)=>{"use strict";G.d(Ve,{L:()=>ee,Q:()=>V});var h=G(7582),C=G(576);function V(pe){return(0,h.FC)(this,arguments,function*(){const ve=pe.getReader();try{for(;;){const{value:re,done:le}=yield(0,h.qq)(ve.read());if(le)return yield(0,h.qq)(void 0);yield yield(0,h.qq)(re)}}finally{ve.releaseLock()}})}function ee(pe){return(0,C.m)(pe?.getReader)}},3532:(cn,Ve,G)=>{"use strict";G.d(Ve,{K:()=>C});var h=G(576);function C(V){return V&&(0,h.m)(V.schedule)}},4482:(cn,Ve,G)=>{"use strict";G.d(Ve,{A:()=>C,e:()=>V});var h=G(576);function C(ee){return(0,h.m)(ee?.lift)}function V(ee){return pe=>{if(C(pe))return pe.lift(function(ue){try{return ee(ue,this)}catch(ve){this.error(ve)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(cn,Ve,G)=>{"use strict";G.d(Ve,{Z:()=>ee});var h=G(4004);const{isArray:C}=Array;function ee(pe){return(0,h.U)(ue=>function V(pe,ue){return C(ue)?pe(...ue):pe(ue)}(pe,ue))}},5032:(cn,Ve,G)=>{"use strict";function h(){}G.d(Ve,{Z:()=>h})},9635:(cn,Ve,G)=>{"use strict";G.d(Ve,{U:()=>V,z:()=>C});var h=G(4671);function C(...ee){return V(ee)}function V(ee){return 0===ee.length?h.y:1===ee.length?ee[0]:function(ue){return ee.reduce((ve,re)=>re(ve),ue)}}},7849:(cn,Ve,G)=>{"use strict";G.d(Ve,{h:()=>V});var h=G(2416),C=G(3410);function V(ee){C.z.setTimeout(()=>{const{onUnhandledError:pe}=h.v;if(!pe)throw ee;pe(ee)})}},4532:(cn,Ve,G)=>{"use strict";function h(C){return new TypeError(`You provided ${null!==C&&"object"==typeof C?"an invalid object":`'${C}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}G.d(Ve,{z:()=>h})},2480:()=>{},7340:(cn,Ve,G)=>{"use strict";G.d(Ve,{IO:()=>oe,LC:()=>C,SB:()=>le,X$:()=>ee,ZE:()=>ke,ZN:()=>be,_j:()=>h,eR:()=>y,jt:()=>pe,k1:()=>Ze,l3:()=>V,oB:()=>re,pV:()=>$,vP:()=>ve});class h{}class C{}const V="*";function ee(Ke,De){return{type:7,name:Ke,definitions:De,options:{}}}function pe(Ke,De=null){return{type:4,styles:De,timings:Ke}}function ve(Ke,De=null){return{type:2,steps:Ke,options:De}}function re(Ke){return{type:6,styles:Ke,offset:null}}function le(Ke,De,et){return{type:0,name:Ke,styles:De,options:et}}function y(Ke,De,et=null){return{type:1,expr:Ke,animation:De,options:et}}function $(Ke=null){return{type:9,options:Ke}}function oe(Ke,De,et=null){return{type:11,selector:Ke,animation:De,options:et}}function xe(Ke){Promise.resolve().then(Ke)}class be{constructor(De=0,et=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=De+et}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(De=>De()),this._onDoneFns=[])}onStart(De){this._originalOnStartFns.push(De),this._onStartFns.push(De)}onDone(De){this._originalOnDoneFns.push(De),this._onDoneFns.push(De)}onDestroy(De){this._onDestroyFns.push(De)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){xe(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(De=>De()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(De=>De()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(De){this._position=this.totalTime?De*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(De){const et="start"==De?this._onStartFns:this._onDoneFns;et.forEach(tt=>tt()),et.length=0}}class ke{constructor(De){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=De;let et=0,tt=0,u=0;const dt=this.players.length;0==dt?xe(()=>this._onFinish()):this.players.forEach(we=>{we.onDone(()=>{++et==dt&&this._onFinish()}),we.onDestroy(()=>{++tt==dt&&this._onDestroy()}),we.onStart(()=>{++u==dt&&this._onStart()})}),this.totalTime=this.players.reduce((we,mt)=>Math.max(we,mt.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(De=>De()),this._onDoneFns=[])}init(){this.players.forEach(De=>De.init())}onStart(De){this._onStartFns.push(De)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(De=>De()),this._onStartFns=[])}onDone(De){this._onDoneFns.push(De)}onDestroy(De){this._onDestroyFns.push(De)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(De=>De.play())}pause(){this.players.forEach(De=>De.pause())}restart(){this.players.forEach(De=>De.restart())}finish(){this._onFinish(),this.players.forEach(De=>De.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(De=>De.destroy()),this._onDestroyFns.forEach(De=>De()),this._onDestroyFns=[])}reset(){this.players.forEach(De=>De.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(De){const et=De*this.totalTime;this.players.forEach(tt=>{const u=tt.totalTime?Math.min(1,et/tt.totalTime):1;tt.setPosition(u)})}getPosition(){const De=this.players.reduce((et,tt)=>null===et||tt.totalTime>et.totalTime?tt:et,null);return null!=De?De.getPosition():0}beforeDestroy(){this.players.forEach(De=>{De.beforeDestroy&&De.beforeDestroy()})}triggerCallback(De){const et="start"==De?this._onStartFns:this._onDoneFns;et.forEach(tt=>tt()),et.length=0}}const Ze="!"},2693:(cn,Ve,G)=>{"use strict";G.d(Ve,{rt:()=>qt,s1:()=>xn,Em:()=>En,tE:()=>Ln,qm:()=>si,Kd:()=>He,X6:()=>ni,yG:()=>Kn});var h=G(6895),C=G(4650),V=G(3353),ee=G(7579),pe=G(727),ue=G(1135),ve=G(9646),re=G(9521),le=G(8505),U=G(8372),y=G(9300),O=G(4004),$=G(5684),Q=G(1884),oe=G(2722),Ce=G(1281),xe=G(9643),be=G(9841),ke=G(7272),Ze=G(9751),Ke=G(5698),De=G(8675);const tt=new Set;let u,dt=(()=>{class Je{constructor(Ne){this._platform=Ne,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):mt}matchMedia(Ne){return(this._platform.WEBKIT||this._platform.BLINK)&&function we(Je){if(!tt.has(Je))try{u||(u=document.createElement("style"),u.setAttribute("type","text/css"),document.head.appendChild(u)),u.sheet&&(u.sheet.insertRule(`@media ${Je} {body{ }}`,0),tt.add(Je))}catch(Ae){console.error(Ae)}}(Ne),this._matchMedia(Ne)}}return Je.\u0275fac=function(Ne){return new(Ne||Je)(C.LFG(V.t4))},Je.\u0275prov=C.Yz7({token:Je,factory:Je.\u0275fac,providedIn:"root"}),Je})();function mt(Je){return{matches:"all"===Je||""===Je,media:Je,addListener:()=>{},removeListener:()=>{}}}let Gt=(()=>{class Je{constructor(Ne,Mt){this._mediaMatcher=Ne,this._zone=Mt,this._queries=new Map,this._destroySubject=new ee.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(Ne){return Le((0,Ce.Eq)(Ne)).some(Wt=>this._registerQuery(Wt).mql.matches)}observe(Ne){const Wt=Le((0,Ce.Eq)(Ne)).map(Zt=>this._registerQuery(Zt).observable);let Qe=(0,be.a)(Wt);return Qe=(0,ke.z)(Qe.pipe((0,Ke.q)(1)),Qe.pipe((0,$.T)(1),(0,U.b)(0))),Qe.pipe((0,O.U)(Zt=>{const ht={matches:!1,breakpoints:{}};return Zt.forEach(({matches:sn,query:gn})=>{ht.matches=ht.matches||sn,ht.breakpoints[gn]=sn}),ht}))}_registerQuery(Ne){if(this._queries.has(Ne))return this._queries.get(Ne);const Mt=this._mediaMatcher.matchMedia(Ne),Qe={observable:new Ze.y(Zt=>{const ht=sn=>this._zone.run(()=>Zt.next(sn));return Mt.addListener(ht),()=>{Mt.removeListener(ht)}}).pipe((0,De.O)(Mt),(0,O.U)(({matches:Zt})=>({query:Ne,matches:Zt})),(0,oe.R)(this._destroySubject)),mql:Mt};return this._queries.set(Ne,Qe),Qe}}return Je.\u0275fac=function(Ne){return new(Ne||Je)(C.LFG(dt),C.LFG(C.R0b))},Je.\u0275prov=C.Yz7({token:Je,factory:Je.\u0275fac,providedIn:"root"}),Je})();function Le(Je){return Je.map(Ae=>Ae.split(",")).reduce((Ae,Ne)=>Ae.concat(Ne)).map(Ae=>Ae.trim())}class jt{constructor(Ae){this._items=Ae,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new ee.x,this._typeaheadSubscription=pe.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=Ne=>Ne.disabled,this._pressedLetters=[],this.tabOut=new ee.x,this.change=new ee.x,Ae instanceof C.n_E&&(this._itemChangesSubscription=Ae.changes.subscribe(Ne=>{if(this._activeItem){const Wt=Ne.toArray().indexOf(this._activeItem);Wt>-1&&Wt!==this._activeItemIndex&&(this._activeItemIndex=Wt)}}))}skipPredicate(Ae){return this._skipPredicateFn=Ae,this}withWrap(Ae=!0){return this._wrap=Ae,this}withVerticalOrientation(Ae=!0){return this._vertical=Ae,this}withHorizontalOrientation(Ae){return this._horizontal=Ae,this}withAllowedModifierKeys(Ae){return this._allowedModifierKeys=Ae,this}withTypeAhead(Ae=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,le.b)(Ne=>this._pressedLetters.push(Ne)),(0,U.b)(Ae),(0,y.h)(()=>this._pressedLetters.length>0),(0,O.U)(()=>this._pressedLetters.join(""))).subscribe(Ne=>{const Mt=this._getItemsArray();for(let Wt=1;Wt<Mt.length+1;Wt++){const Qe=(this._activeItemIndex+Wt)%Mt.length,Zt=Mt[Qe];if(!this._skipPredicateFn(Zt)&&0===Zt.getLabel().toUpperCase().trim().indexOf(Ne)){this.setActiveItem(Qe);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(Ae=!0){return this._homeAndEnd=Ae,this}withPageUpDown(Ae=!0,Ne=10){return this._pageUpAndDown={enabled:Ae,delta:Ne},this}setActiveItem(Ae){const Ne=this._activeItem;this.updateActiveItem(Ae),this._activeItem!==Ne&&this.change.next(this._activeItemIndex)}onKeydown(Ae){const Ne=Ae.keyCode,Wt=["altKey","ctrlKey","metaKey","shiftKey"].every(Qe=>!Ae[Qe]||this._allowedModifierKeys.indexOf(Qe)>-1);switch(Ne){case re.Mf:return void this.tabOut.next();case re.JH:if(this._vertical&&Wt){this.setNextItemActive();break}return;case re.LH:if(this._vertical&&Wt){this.setPreviousItemActive();break}return;case re.SV:if(this._horizontal&&Wt){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case re.oh:if(this._horizontal&&Wt){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case re.Sd:if(this._homeAndEnd&&Wt){this.setFirstItemActive();break}return;case re.uR:if(this._homeAndEnd&&Wt){this.setLastItemActive();break}return;case re.Ku:if(this._pageUpAndDown.enabled&&Wt){const Qe=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(Qe>0?Qe:0,1);break}return;case re.VM:if(this._pageUpAndDown.enabled&&Wt){const Qe=this._activeItemIndex+this._pageUpAndDown.delta,Zt=this._getItemsArray().length;this._setActiveItemByIndex(Qe<Zt?Qe:Zt-1,-1);break}return;default:return void((Wt||(0,re.Vb)(Ae,"shiftKey"))&&(Ae.key&&1===Ae.key.length?this._letterKeyStream.next(Ae.key.toLocaleUpperCase()):(Ne>=re.A&&Ne<=re.Z||Ne>=re.xE&&Ne<=re.aO)&&this._letterKeyStream.next(String.fromCharCode(Ne))))}this._pressedLetters=[],Ae.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(Ae){const Ne=this._getItemsArray(),Mt="number"==typeof Ae?Ae:Ne.indexOf(Ae);this._activeItem=Ne[Mt]??null,this._activeItemIndex=Mt}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(Ae){this._wrap?this._setActiveInWrapMode(Ae):this._setActiveInDefaultMode(Ae)}_setActiveInWrapMode(Ae){const Ne=this._getItemsArray();for(let Mt=1;Mt<=Ne.length;Mt++){const Wt=(this._activeItemIndex+Ae*Mt+Ne.length)%Ne.length;if(!this._skipPredicateFn(Ne[Wt]))return void this.setActiveItem(Wt)}}_setActiveInDefaultMode(Ae){this._setActiveItemByIndex(this._activeItemIndex+Ae,Ae)}_setActiveItemByIndex(Ae,Ne){const Mt=this._getItemsArray();if(Mt[Ae]){for(;this._skipPredicateFn(Mt[Ae]);)if(!Mt[Ae+=Ne])return;this.setActiveItem(Ae)}}_getItemsArray(){return this._items instanceof C.n_E?this._items.toArray():this._items}}class xn extends jt{setActiveItem(Ae){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(Ae),this.activeItem&&this.activeItem.setActiveStyles()}}class En extends jt{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(Ae){return this._origin=Ae,this}setActiveItem(Ae){super.setActiveItem(Ae),this.activeItem&&this.activeItem.focus(this._origin)}}function ni(Je){return 0===Je.buttons||0===Je.offsetX&&0===Je.offsetY}function Kn(Je){const Ae=Je.touches&&Je.touches[0]||Je.changedTouches&&Je.changedTouches[0];return!(!Ae||-1!==Ae.identifier||null!=Ae.radiusX&&1!==Ae.radiusX||null!=Ae.radiusY&&1!==Ae.radiusY)}const Fn=new C.OlP("cdk-input-modality-detector-options"),dr={ignoreKeys:[re.zL,re.jx,re.b2,re.MW,re.JU]},Ei=(0,V.i$)({passive:!0,capture:!0});let fo=(()=>{class Je{get mostRecentModality(){return this._modality.value}constructor(Ne,Mt,Wt,Qe){this._platform=Ne,this._mostRecentTarget=null,this._modality=new ue.X(null),this._lastTouchMs=0,this._onKeydown=Zt=>{this._options?.ignoreKeys?.some(ht=>ht===Zt.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,V.sA)(Zt))},this._onMousedown=Zt=>{Date.now()-this._lastTouchMs<650||(this._modality.next(ni(Zt)?"keyboard":"mouse"),this._mostRecentTarget=(0,V.sA)(Zt))},this._onTouchstart=Zt=>{Kn(Zt)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,V.sA)(Zt))},this._options={...dr,...Qe},this.modalityDetected=this._modality.pipe((0,$.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,Q.x)()),Ne.isBrowser&&Mt.runOutsideAngular(()=>{Wt.addEventListener("keydown",this._onKeydown,Ei),Wt.addEventListener("mousedown",this._onMousedown,Ei),Wt.addEventListener("touchstart",this._onTouchstart,Ei)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Ei),document.removeEventListener("mousedown",this._onMousedown,Ei),document.removeEventListener("touchstart",this._onTouchstart,Ei))}}return Je.\u0275fac=function(Ne){return new(Ne||Je)(C.LFG(V.t4),C.LFG(C.R0b),C.LFG(h.K0),C.LFG(Fn,8))},Je.\u0275prov=C.Yz7({token:Je,factory:Je.\u0275fac,providedIn:"root"}),Je})();const Fi=new C.OlP("liveAnnouncerElement",{providedIn:"root",factory:function Xr(){return null}}),pn=new C.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let nt=0,He=(()=>{class Je{constructor(Ne,Mt,Wt,Qe){this._ngZone=Mt,this._defaultOptions=Qe,this._document=Wt,this._liveElement=Ne||this._createLiveElement()}announce(Ne,...Mt){const Wt=this._defaultOptions;let Qe,Zt;return 1===Mt.length&&"number"==typeof Mt[0]?Zt=Mt[0]:[Qe,Zt]=Mt,this.clear(),clearTimeout(this._previousTimeout),Qe||(Qe=Wt&&Wt.politeness?Wt.politeness:"polite"),null==Zt&&Wt&&(Zt=Wt.duration),this._liveElement.setAttribute("aria-live",Qe),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(ht=>this._currentResolve=ht)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=Ne,"number"==typeof Zt&&(this._previousTimeout=setTimeout(()=>this.clear(),Zt)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const Ne="cdk-live-announcer-element",Mt=this._document.getElementsByClassName(Ne),Wt=this._document.createElement("div");for(let Qe=0;Qe<Mt.length;Qe++)Mt[Qe].remove();return Wt.classList.add(Ne),Wt.classList.add("cdk-visually-hidden"),Wt.setAttribute("aria-atomic","true"),Wt.setAttribute("aria-live","polite"),Wt.id="cdk-live-announcer-"+nt++,this._document.body.appendChild(Wt),Wt}_exposeAnnouncerToModals(Ne){const Mt=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let Wt=0;Wt<Mt.length;Wt++){const Qe=Mt[Wt],Zt=Qe.getAttribute("aria-owns");Zt?-1===Zt.indexOf(Ne)&&Qe.setAttribute("aria-owns",Zt+" "+Ne):Qe.setAttribute("aria-owns",Ne)}}}return Je.\u0275fac=function(Ne){return new(Ne||Je)(C.LFG(Fi,8),C.LFG(C.R0b),C.LFG(h.K0),C.LFG(pn,8))},Je.\u0275prov=C.Yz7({token:Je,factory:Je.\u0275fac,providedIn:"root"}),Je})();const ln=new C.OlP("cdk-focus-monitor-default-options"),on=(0,V.i$)({passive:!0,capture:!0});let Ln=(()=>{class Je{constructor(Ne,Mt,Wt,Qe,Zt){this._ngZone=Ne,this._platform=Mt,this._inputModalityDetector=Wt,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new ee.x,this._rootNodeFocusAndBlurListener=ht=>{for(let gn=(0,V.sA)(ht);gn;gn=gn.parentElement)"focus"===ht.type?this._onFocus(ht,gn):this._onBlur(ht,gn)},this._document=Qe,this._detectionMode=Zt?.detectionMode||0}monitor(Ne,Mt=!1){const Wt=(0,Ce.fI)(Ne);if(!this._platform.isBrowser||1!==Wt.nodeType)return(0,ve.of)(null);const Qe=(0,V.kV)(Wt)||this._getDocument(),Zt=this._elementInfo.get(Wt);if(Zt)return Mt&&(Zt.checkChildren=!0),Zt.subject;const ht={checkChildren:Mt,subject:new ee.x,rootNode:Qe};return this._elementInfo.set(Wt,ht),this._registerGlobalListeners(ht),ht.subject}stopMonitoring(Ne){const Mt=(0,Ce.fI)(Ne),Wt=this._elementInfo.get(Mt);Wt&&(Wt.subject.complete(),this._setClasses(Mt),this._elementInfo.delete(Mt),this._removeGlobalListeners(Wt))}focusVia(Ne,Mt,Wt){const Qe=(0,Ce.fI)(Ne);Qe===this._getDocument().activeElement?this._getClosestElementsInfo(Qe).forEach(([ht,sn])=>this._originChanged(ht,Mt,sn)):(this._setOrigin(Mt),"function"==typeof Qe.focus&&Qe.focus(Wt))}ngOnDestroy(){this._elementInfo.forEach((Ne,Mt)=>this.stopMonitoring(Mt))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(Ne){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(Ne)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:Ne&&this._isLastInteractionFromInputLabel(Ne)?"mouse":"program"}_shouldBeAttributedToTouch(Ne){return 1===this._detectionMode||!!Ne?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(Ne,Mt){Ne.classList.toggle("cdk-focused",!!Mt),Ne.classList.toggle("cdk-touch-focused","touch"===Mt),Ne.classList.toggle("cdk-keyboard-focused","keyboard"===Mt),Ne.classList.toggle("cdk-mouse-focused","mouse"===Mt),Ne.classList.toggle("cdk-program-focused","program"===Mt)}_setOrigin(Ne,Mt=!1){this._ngZone.runOutsideAngular(()=>{this._origin=Ne,this._originFromTouchInteraction="touch"===Ne&&Mt,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(Ne,Mt){const Wt=this._elementInfo.get(Mt),Qe=(0,V.sA)(Ne);!Wt||!Wt.checkChildren&&Mt!==Qe||this._originChanged(Mt,this._getFocusOrigin(Qe),Wt)}_onBlur(Ne,Mt){const Wt=this._elementInfo.get(Mt);!Wt||Wt.checkChildren&&Ne.relatedTarget instanceof Node&&Mt.contains(Ne.relatedTarget)||(this._setClasses(Mt),this._emitOrigin(Wt,null))}_emitOrigin(Ne,Mt){Ne.subject.observers.length&&this._ngZone.run(()=>Ne.subject.next(Mt))}_registerGlobalListeners(Ne){if(!this._platform.isBrowser)return;const Mt=Ne.rootNode,Wt=this._rootNodeFocusListenerCount.get(Mt)||0;Wt||this._ngZone.runOutsideAngular(()=>{Mt.addEventListener("focus",this._rootNodeFocusAndBlurListener,on),Mt.addEventListener("blur",this._rootNodeFocusAndBlurListener,on)}),this._rootNodeFocusListenerCount.set(Mt,Wt+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,oe.R)(this._stopInputModalityDetector)).subscribe(Qe=>{this._setOrigin(Qe,!0)}))}_removeGlobalListeners(Ne){const Mt=Ne.rootNode;if(this._rootNodeFocusListenerCount.has(Mt)){const Wt=this._rootNodeFocusListenerCount.get(Mt);Wt>1?this._rootNodeFocusListenerCount.set(Mt,Wt-1):(Mt.removeEventListener("focus",this._rootNodeFocusAndBlurListener,on),Mt.removeEventListener("blur",this._rootNodeFocusAndBlurListener,on),this._rootNodeFocusListenerCount.delete(Mt))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(Ne,Mt,Wt){this._setClasses(Ne,Mt),this._emitOrigin(Wt,Mt),this._lastFocusOrigin=Mt}_getClosestElementsInfo(Ne){const Mt=[];return this._elementInfo.forEach((Wt,Qe)=>{(Qe===Ne||Wt.checkChildren&&Qe.contains(Ne))&&Mt.push([Qe,Wt])}),Mt}_isLastInteractionFromInputLabel(Ne){const{_mostRecentTarget:Mt,mostRecentModality:Wt}=this._inputModalityDetector;if("mouse"!==Wt||!Mt||Mt===Ne||"INPUT"!==Ne.nodeName&&"TEXTAREA"!==Ne.nodeName||Ne.disabled)return!1;const Qe=Ne.labels;if(Qe)for(let Zt=0;Zt<Qe.length;Zt++)if(Qe[Zt].contains(Mt))return!0;return!1}}return Je.\u0275fac=function(Ne){return new(Ne||Je)(C.LFG(C.R0b),C.LFG(V.t4),C.LFG(fo),C.LFG(h.K0,8),C.LFG(ln,8))},Je.\u0275prov=C.Yz7({token:Je,factory:Je.\u0275fac,providedIn:"root"}),Je})();const pi="cdk-high-contrast-black-on-white",bi="cdk-high-contrast-white-on-black",ei="cdk-high-contrast-active";let si=(()=>{class Je{constructor(Ne,Mt){this._platform=Ne,this._document=Mt,this._breakpointSubscription=(0,C.f3M)(Gt).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const Ne=this._document.createElement("div");Ne.style.backgroundColor="rgb(1,2,3)",Ne.style.position="absolute",this._document.body.appendChild(Ne);const Mt=this._document.defaultView||window,Wt=Mt&&Mt.getComputedStyle?Mt.getComputedStyle(Ne):null,Qe=(Wt&&Wt.backgroundColor||"").replace(/ /g,"");switch(Ne.remove(),Qe){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const Ne=this._document.body.classList;Ne.remove(ei,pi,bi),this._hasCheckedHighContrastMode=!0;const Mt=this.getHighContrastMode();1===Mt?Ne.add(ei,pi):2===Mt&&Ne.add(ei,bi)}}}return Je.\u0275fac=function(Ne){return new(Ne||Je)(C.LFG(V.t4),C.LFG(h.K0))},Je.\u0275prov=C.Yz7({token:Je,factory:Je.\u0275fac,providedIn:"root"}),Je})(),qt=(()=>{class Je{constructor(Ne){Ne._applyBodyHighContrastModeCssClasses()}}return Je.\u0275fac=function(Ne){return new(Ne||Je)(C.LFG(si))},Je.\u0275mod=C.oAB({type:Je}),Je.\u0275inj=C.cJS({imports:[xe.Q8]}),Je})()},445:(cn,Ve,G)=>{"use strict";G.d(Ve,{Is:()=>ve,vT:()=>le});var h=G(4650),C=G(6895);const V=new h.OlP("cdk-dir-doc",{providedIn:"root",factory:function ee(){return(0,h.f3M)(C.K0)}}),pe=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let ve=(()=>{class U{constructor(O){this.value="ltr",this.change=new h.vpe,O&&(this.value=function ue(U){const y=U?.toLowerCase()||"";return"auto"===y&&typeof navigator<"u"&&navigator?.language?pe.test(navigator.language)?"rtl":"ltr":"rtl"===y?"rtl":"ltr"}((O.body?O.body.dir:null)||(O.documentElement?O.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return U.\u0275fac=function(O){return new(O||U)(h.LFG(V,8))},U.\u0275prov=h.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"}),U})(),le=(()=>{class U{}return U.\u0275fac=function(O){return new(O||U)},U.\u0275mod=h.oAB({type:U}),U.\u0275inj=h.cJS({}),U})()},1281:(cn,Ve,G)=>{"use strict";G.d(Ve,{Eq:()=>pe,HM:()=>ue,Ig:()=>C,fI:()=>ve,su:()=>V});var h=G(4650);function C(le){return null!=le&&"false"!=`${le}`}function V(le,U=0){return function ee(le){return!isNaN(parseFloat(le))&&!isNaN(Number(le))}(le)?Number(le):U}function pe(le){return Array.isArray(le)?le:[le]}function ue(le){return null==le?"":"string"==typeof le?le:`${le}px`}function ve(le){return le instanceof h.SBq?le.nativeElement:le}},9521:(cn,Ve,G)=>{"use strict";G.d(Ve,{A:()=>me,JH:()=>Ze,JU:()=>ue,K5:()=>pe,Ku:()=>$,LH:()=>be,L_:()=>O,MW:()=>Pt,Mf:()=>V,SV:()=>ke,Sd:()=>Ce,VM:()=>Q,Vb:()=>No,Z:()=>Ge,aO:()=>b,b2:()=>ur,hY:()=>y,jx:()=>ve,oh:()=>xe,uR:()=>oe,xE:()=>u,zL:()=>re});const V=9,pe=13,ue=16,ve=17,re=18,y=27,O=32,$=33,Q=34,oe=35,Ce=36,xe=37,be=38,ke=39,Ze=40,u=48,b=57,me=65,Ge=90,Pt=91,ur=224;function No(pr,...no){return no.length?no.some(wo=>pr[wo]):pr.altKey||pr.shiftKey||pr.ctrlKey||pr.metaKey}},9643:(cn,Ve,G)=>{"use strict";G.d(Ve,{Q8:()=>le,wD:()=>re});var h=G(1281),C=G(4650),V=G(9751),ee=G(7579),pe=G(8372);let ue=(()=>{class U{create(O){return typeof MutationObserver>"u"?null:new MutationObserver(O)}}return U.\u0275fac=function(O){return new(O||U)},U.\u0275prov=C.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"}),U})(),ve=(()=>{class U{constructor(O){this._mutationObserverFactory=O,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((O,$)=>this._cleanupObserver($))}observe(O){const $=(0,h.fI)(O);return new V.y(Q=>{const Ce=this._observeElement($).subscribe(Q);return()=>{Ce.unsubscribe(),this._unobserveElement($)}})}_observeElement(O){if(this._observedElements.has(O))this._observedElements.get(O).count++;else{const $=new ee.x,Q=this._mutationObserverFactory.create(oe=>$.next(oe));Q&&Q.observe(O,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(O,{observer:Q,stream:$,count:1})}return this._observedElements.get(O).stream}_unobserveElement(O){this._observedElements.has(O)&&(this._observedElements.get(O).count--,this._observedElements.get(O).count||this._cleanupObserver(O))}_cleanupObserver(O){if(this._observedElements.has(O)){const{observer:$,stream:Q}=this._observedElements.get(O);$&&$.disconnect(),Q.complete(),this._observedElements.delete(O)}}}return U.\u0275fac=function(O){return new(O||U)(C.LFG(ue))},U.\u0275prov=C.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"}),U})(),re=(()=>{class U{get disabled(){return this._disabled}set disabled(O){this._disabled=(0,h.Ig)(O),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(O){this._debounce=(0,h.su)(O),this._subscribe()}constructor(O,$,Q){this._contentObserver=O,this._elementRef=$,this._ngZone=Q,this.event=new C.vpe,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const O=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?O.pipe((0,pe.b)(this.debounce)):O).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return U.\u0275fac=function(O){return new(O||U)(C.Y36(ve),C.Y36(C.SBq),C.Y36(C.R0b))},U.\u0275dir=C.lG2({type:U,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),U})(),le=(()=>{class U{}return U.\u0275fac=function(O){return new(O||U)},U.\u0275mod=C.oAB({type:U}),U.\u0275inj=C.cJS({providers:[ue]}),U})()},3353:(cn,Ve,G)=>{"use strict";G.d(Ve,{Mq:()=>Q,Oy:()=>Ke,_i:()=>oe,ht:()=>ke,i$:()=>y,kV:()=>be,qK:()=>re,sA:()=>Ze,t4:()=>ee});var h=G(4650),C=G(6895);let V;try{V=typeof Intl<"u"&&Intl.v8BreakIterator}catch{V=!1}let ue,ee=(()=>{class De{constructor(tt){this._platformId=tt,this.isBrowser=this._platformId?(0,C.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!V)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return De.\u0275fac=function(tt){return new(tt||De)(h.LFG(h.Lbi))},De.\u0275prov=h.Yz7({token:De,factory:De.\u0275fac,providedIn:"root"}),De})();const ve=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function re(){if(ue)return ue;if("object"!=typeof document||!document)return ue=new Set(ve),ue;let De=document.createElement("input");return ue=new Set(ve.filter(et=>(De.setAttribute("type",et),De.type===et))),ue}let le,O,$,Ce;function y(De){return function U(){if(null==le&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>le=!0}))}finally{le=le||!1}return le}()?De:!!De.capture}function Q(){if(null==$){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return $=!1,$;if("scrollBehavior"in document.documentElement.style)$=!0;else{const De=Element.prototype.scrollTo;$=!!De&&!/\{\s*\[native code\]\s*\}/.test(De.toString())}}return $}function oe(){if("object"!=typeof document||!document)return 0;if(null==O){const De=document.createElement("div"),et=De.style;De.dir="rtl",et.width="1px",et.overflow="auto",et.visibility="hidden",et.pointerEvents="none",et.position="absolute";const tt=document.createElement("div"),u=tt.style;u.width="2px",u.height="1px",De.appendChild(tt),document.body.appendChild(De),O=0,0===De.scrollLeft&&(De.scrollLeft=1,O=0===De.scrollLeft?1:2),De.remove()}return O}function be(De){if(function xe(){if(null==Ce){const De=typeof document<"u"?document.head:null;Ce=!(!De||!De.createShadowRoot&&!De.attachShadow)}return Ce}()){const et=De.getRootNode?De.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&et instanceof ShadowRoot)return et}return null}function ke(){let De=typeof document<"u"&&document?document.activeElement:null;for(;De&&De.shadowRoot;){const et=De.shadowRoot.activeElement;if(et===De)break;De=et}return De}function Ze(De){return De.composedPath?De.composedPath()[0]:De.target}function Ke(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},6895:(cn,Ve,G)=>{"use strict";G.d(Ve,{Do:()=>ke,ED:()=>po,EM:()=>ma,HT:()=>ee,JF:()=>nl,K0:()=>ue,Mx:()=>ks,NF:()=>Lo,Nd:()=>Tt,O5:()=>wo,Ov:()=>vs,PM:()=>Xo,RF:()=>Co,S$:()=>Ce,Ts:()=>Vs,V_:()=>le,Ye:()=>Ze,ax:()=>No,b0:()=>be,bD:()=>zr,ez:()=>Kr,mk:()=>qi,n9:()=>Ps,q:()=>V,qS:()=>Ts,sg:()=>No,tP:()=>os,w_:()=>pe});var h=G(4650);let C=null;function V(){return C}function ee(R){C||(C=R)}class pe{}const ue=new h.OlP("DocumentToken");let ve=(()=>{class R{historyGo(S){throw new Error("Not implemented")}}return R.\u0275fac=function(S){return new(S||R)},R.\u0275prov=h.Yz7({token:R,factory:function(){return function re(){return(0,h.LFG)(U)}()},providedIn:"platform"}),R})();const le=new h.OlP("Location Initialized");let U=(()=>{class R extends ve{constructor(S){super(),this._doc=S,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return V().getBaseHref(this._doc)}onPopState(S){const N=V().getGlobalEventTarget(this._doc,"window");return N.addEventListener("popstate",S,!1),()=>N.removeEventListener("popstate",S)}onHashChange(S){const N=V().getGlobalEventTarget(this._doc,"window");return N.addEventListener("hashchange",S,!1),()=>N.removeEventListener("hashchange",S)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(S){this._location.pathname=S}pushState(S,N,ie){y()?this._history.pushState(S,N,ie):this._location.hash=ie}replaceState(S,N,ie){y()?this._history.replaceState(S,N,ie):this._location.hash=ie}forward(){this._history.forward()}back(){this._history.back()}historyGo(S=0){this._history.go(S)}getState(){return this._history.state}}return R.\u0275fac=function(S){return new(S||R)(h.LFG(ue))},R.\u0275prov=h.Yz7({token:R,factory:function(){return function O(){return new U((0,h.LFG)(ue))}()},providedIn:"platform"}),R})();function y(){return!!window.history.pushState}function $(R,D){if(0==R.length)return D;if(0==D.length)return R;let S=0;return R.endsWith("/")&&S++,D.startsWith("/")&&S++,2==S?R+D.substring(1):1==S?R+D:R+"/"+D}function Q(R){const D=R.match(/#|\?|$/),S=D&&D.index||R.length;return R.slice(0,S-("/"===R[S-1]?1:0))+R.slice(S)}function oe(R){return R&&"?"!==R[0]?"?"+R:R}let Ce=(()=>{class R{historyGo(S){throw new Error("Not implemented")}}return R.\u0275fac=function(S){return new(S||R)},R.\u0275prov=h.Yz7({token:R,factory:function(){return(0,h.f3M)(be)},providedIn:"root"}),R})();const xe=new h.OlP("appBaseHref");let be=(()=>{class R extends Ce{constructor(S,N){super(),this._platformLocation=S,this._removeListenerFns=[],this._baseHref=N??this._platformLocation.getBaseHrefFromDOM()??(0,h.f3M)(ue).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(S){this._removeListenerFns.push(this._platformLocation.onPopState(S),this._platformLocation.onHashChange(S))}getBaseHref(){return this._baseHref}prepareExternalUrl(S){return $(this._baseHref,S)}path(S=!1){const N=this._platformLocation.pathname+oe(this._platformLocation.search),ie=this._platformLocation.hash;return ie&&S?`${N}${ie}`:N}pushState(S,N,ie,Re){const ot=this.prepareExternalUrl(ie+oe(Re));this._platformLocation.pushState(S,N,ot)}replaceState(S,N,ie,Re){const ot=this.prepareExternalUrl(ie+oe(Re));this._platformLocation.replaceState(S,N,ot)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(S=0){this._platformLocation.historyGo?.(S)}}return R.\u0275fac=function(S){return new(S||R)(h.LFG(ve),h.LFG(xe,8))},R.\u0275prov=h.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})(),ke=(()=>{class R extends Ce{constructor(S,N){super(),this._platformLocation=S,this._baseHref="",this._removeListenerFns=[],null!=N&&(this._baseHref=N)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(S){this._removeListenerFns.push(this._platformLocation.onPopState(S),this._platformLocation.onHashChange(S))}getBaseHref(){return this._baseHref}path(S=!1){let N=this._platformLocation.hash;return null==N&&(N="#"),N.length>0?N.substring(1):N}prepareExternalUrl(S){const N=$(this._baseHref,S);return N.length>0?"#"+N:N}pushState(S,N,ie,Re){let ot=this.prepareExternalUrl(ie+oe(Re));0==ot.length&&(ot=this._platformLocation.pathname),this._platformLocation.pushState(S,N,ot)}replaceState(S,N,ie,Re){let ot=this.prepareExternalUrl(ie+oe(Re));0==ot.length&&(ot=this._platformLocation.pathname),this._platformLocation.replaceState(S,N,ot)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(S=0){this._platformLocation.historyGo?.(S)}}return R.\u0275fac=function(S){return new(S||R)(h.LFG(ve),h.LFG(xe,8))},R.\u0275prov=h.Yz7({token:R,factory:R.\u0275fac}),R})(),Ze=(()=>{class R{constructor(S){this._subject=new h.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=S;const N=this._locationStrategy.getBaseHref();this._basePath=function tt(R){if(new RegExp("^(https?:)?//").test(R)){const[,S]=R.split(/\/\/[^\/]+/);return S}return R}(Q(et(N))),this._locationStrategy.onPopState(ie=>{this._subject.emit({url:this.path(!0),pop:!0,state:ie.state,type:ie.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(S=!1){return this.normalize(this._locationStrategy.path(S))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(S,N=""){return this.path()==this.normalize(S+oe(N))}normalize(S){return R.stripTrailingSlash(function De(R,D){if(!R||!D.startsWith(R))return D;const S=D.substring(R.length);return""===S||["/",";","?","#"].includes(S[0])?S:D}(this._basePath,et(S)))}prepareExternalUrl(S){return S&&"/"!==S[0]&&(S="/"+S),this._locationStrategy.prepareExternalUrl(S)}go(S,N="",ie=null){this._locationStrategy.pushState(ie,"",S,N),this._notifyUrlChangeListeners(this.prepareExternalUrl(S+oe(N)),ie)}replaceState(S,N="",ie=null){this._locationStrategy.replaceState(ie,"",S,N),this._notifyUrlChangeListeners(this.prepareExternalUrl(S+oe(N)),ie)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(S=0){this._locationStrategy.historyGo?.(S)}onUrlChange(S){return this._urlChangeListeners.push(S),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(N=>{this._notifyUrlChangeListeners(N.url,N.state)})),()=>{const N=this._urlChangeListeners.indexOf(S);this._urlChangeListeners.splice(N,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(S="",N){this._urlChangeListeners.forEach(ie=>ie(S,N))}subscribe(S,N,ie){return this._subject.subscribe({next:S,error:N,complete:ie})}}return R.normalizeQueryParams=oe,R.joinWithSlash=$,R.stripTrailingSlash=Q,R.\u0275fac=function(S){return new(S||R)(h.LFG(Ce))},R.\u0275prov=h.Yz7({token:R,factory:function(){return function Ke(){return new Ze((0,h.LFG)(Ce))}()},providedIn:"root"}),R})();function et(R){return R.replace(/\/index.html$/,"")}function Ts(R,D,S){return(0,h.dwT)(R,D,S)}function ks(R,D){D=encodeURIComponent(D);for(const S of R.split(";")){const N=S.indexOf("="),[ie,Re]=-1==N?[S,""]:[S.slice(0,N),S.slice(N+1)];if(ie.trim()===D)return decodeURIComponent(Re)}return null}const qo=/\s+/,ii=[];let qi=(()=>{class R{constructor(S,N,ie,Re){this._iterableDiffers=S,this._keyValueDiffers=N,this._ngEl=ie,this._renderer=Re,this.initialClasses=ii,this.stateMap=new Map}set klass(S){this.initialClasses=null!=S?S.trim().split(qo):ii}set ngClass(S){this.rawClass="string"==typeof S?S.trim().split(qo):S}ngDoCheck(){for(const N of this.initialClasses)this._updateState(N,!0);const S=this.rawClass;if(Array.isArray(S)||S instanceof Set)for(const N of S)this._updateState(N,!0);else if(null!=S)for(const N of Object.keys(S))this._updateState(N,Boolean(S[N]));this._applyStateDiff()}_updateState(S,N){const ie=this.stateMap.get(S);void 0!==ie?(ie.enabled!==N&&(ie.changed=!0,ie.enabled=N),ie.touched=!0):this.stateMap.set(S,{enabled:N,changed:!0,touched:!0})}_applyStateDiff(){for(const S of this.stateMap){const N=S[0],ie=S[1];ie.changed?(this._toggleClass(N,ie.enabled),ie.changed=!1):ie.touched||(ie.enabled&&this._toggleClass(N,!1),this.stateMap.delete(N)),ie.touched=!1}}_toggleClass(S,N){(S=S.trim()).length>0&&S.split(qo).forEach(ie=>{N?this._renderer.addClass(this._ngEl.nativeElement,ie):this._renderer.removeClass(this._ngEl.nativeElement,ie)})}}return R.\u0275fac=function(S){return new(S||R)(h.Y36(h.ZZ4),h.Y36(h.aQg),h.Y36(h.SBq),h.Y36(h.Qsj))},R.\u0275dir=h.lG2({type:R,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),R})();class ur{constructor(D,S,N,ie){this.$implicit=D,this.ngForOf=S,this.index=N,this.count=ie}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let No=(()=>{class R{set ngForOf(S){this._ngForOf=S,this._ngForOfDirty=!0}set ngForTrackBy(S){this._trackByFn=S}get ngForTrackBy(){return this._trackByFn}constructor(S,N,ie){this._viewContainer=S,this._template=N,this._differs=ie,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(S){S&&(this._template=S)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const S=this._ngForOf;!this._differ&&S&&(this._differ=this._differs.find(S).create(this.ngForTrackBy))}if(this._differ){const S=this._differ.diff(this._ngForOf);S&&this._applyChanges(S)}}_applyChanges(S){const N=this._viewContainer;S.forEachOperation((ie,Re,ot)=>{if(null==ie.previousIndex)N.createEmbeddedView(this._template,new ur(ie.item,this._ngForOf,-1,-1),null===ot?void 0:ot);else if(null==ot)N.remove(null===Re?void 0:Re);else if(null!==Re){const At=N.get(Re);N.move(At,ot),pr(At,ie)}});for(let ie=0,Re=N.length;ie<Re;ie++){const At=N.get(ie).context;At.index=ie,At.count=Re,At.ngForOf=this._ngForOf}S.forEachIdentityChange(ie=>{pr(N.get(ie.currentIndex),ie)})}static ngTemplateContextGuard(S,N){return!0}}return R.\u0275fac=function(S){return new(S||R)(h.Y36(h.s_b),h.Y36(h.Rgc),h.Y36(h.ZZ4))},R.\u0275dir=h.lG2({type:R,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),R})();function pr(R,D){R.context.$implicit=D.item}let wo=(()=>{class R{constructor(S,N){this._viewContainer=S,this._context=new Ri,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=N}set ngIf(S){this._context.$implicit=this._context.ngIf=S,this._updateView()}set ngIfThen(S){gs("ngIfThen",S),this._thenTemplateRef=S,this._thenViewRef=null,this._updateView()}set ngIfElse(S){gs("ngIfElse",S),this._elseTemplateRef=S,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(S,N){return!0}}return R.\u0275fac=function(S){return new(S||R)(h.Y36(h.s_b),h.Y36(h.Rgc))},R.\u0275dir=h.lG2({type:R,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),R})();class Ri{constructor(){this.$implicit=null,this.ngIf=null}}function gs(R,D){if(D&&!D.createEmbeddedView)throw new Error(`${R} must be a TemplateRef, but received '${(0,h.AaK)(D)}'.`)}class io{constructor(D,S){this._viewContainerRef=D,this._templateRef=S,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(D){D&&!this._created?this.create():!D&&this._created&&this.destroy()}}let Co=(()=>{class R{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(S){this._ngSwitch=S,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(S){this._defaultViews.push(S)}_matchCase(S){const N=S==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||N,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),N}_updateDefaultCases(S){if(this._defaultViews.length>0&&S!==this._defaultUsed){this._defaultUsed=S;for(const N of this._defaultViews)N.enforceState(S)}}}return R.\u0275fac=function(S){return new(S||R)},R.\u0275dir=h.lG2({type:R,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),R})(),Ps=(()=>{class R{constructor(S,N,ie){this.ngSwitch=ie,ie._addCase(),this._view=new io(S,N)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return R.\u0275fac=function(S){return new(S||R)(h.Y36(h.s_b),h.Y36(h.Rgc),h.Y36(Co,9))},R.\u0275dir=h.lG2({type:R,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),R})(),po=(()=>{class R{constructor(S,N,ie){ie._addDefault(new io(S,N))}}return R.\u0275fac=function(S){return new(S||R)(h.Y36(h.s_b),h.Y36(h.Rgc),h.Y36(Co,9))},R.\u0275dir=h.lG2({type:R,selectors:[["","ngSwitchDefault",""]],standalone:!0}),R})(),os=(()=>{class R{constructor(S){this._viewContainerRef=S,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(S){if(S.ngTemplateOutlet||S.ngTemplateOutletInjector){const N=this._viewContainerRef;if(this._viewRef&&N.remove(N.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:ie,ngTemplateOutletContext:Re,ngTemplateOutletInjector:ot}=this;this._viewRef=N.createEmbeddedView(ie,Re,ot?{injector:ot}:void 0)}else this._viewRef=null}else this._viewRef&&S.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return R.\u0275fac=function(S){return new(S||R)(h.Y36(h.s_b))},R.\u0275dir=h.lG2({type:R,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[h.TTD]}),R})();class Ao{createSubscription(D,S){return D.subscribe({next:S,error:N=>{throw N}})}dispose(D){D.unsubscribe()}}class Nr{createSubscription(D,S){return D.then(S,N=>{throw N})}dispose(D){}}const sa=new Nr,As=new Ao;let vs=(()=>{class R{constructor(S){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=S}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(S){return this._obj?S!==this._obj?(this._dispose(),this.transform(S)):this._latestValue:(S&&this._subscribe(S),this._latestValue)}_subscribe(S){this._obj=S,this._strategy=this._selectStrategy(S),this._subscription=this._strategy.createSubscription(S,N=>this._updateLatestValue(S,N))}_selectStrategy(S){if((0,h.QGY)(S))return sa;if((0,h.F4k)(S))return As;throw function Nn(R,D){return new h.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(S,N){S===this._obj&&(this._latestValue=N,this._ref.markForCheck())}}return R.\u0275fac=function(S){return new(S||R)(h.Y36(h.sBO,16))},R.\u0275pipe=h.Yjl({name:"async",type:R,pure:!1,standalone:!0}),R})(),Vs=(()=>{class R{transform(S){return JSON.stringify(S,null,2)}}return R.\u0275fac=function(S){return new(S||R)},R.\u0275pipe=h.Yjl({name:"json",type:R,pure:!1,standalone:!0}),R})(),Tt=(()=>{class R{constructor(S){this.differs=S,this.keyValues=[],this.compareFn=q}transform(S,N=q){if(!S||!(S instanceof Map)&&"object"!=typeof S)return null;this.differ||(this.differ=this.differs.find(S).create());const ie=this.differ.diff(S),Re=N!==this.compareFn;return ie&&(this.keyValues=[],ie.forEachItem(ot=>{this.keyValues.push(function qe(R,D){return{key:R,value:D}}(ot.key,ot.currentValue))})),(ie||Re)&&(this.keyValues.sort(N),this.compareFn=N),this.keyValues}}return R.\u0275fac=function(S){return new(S||R)(h.Y36(h.aQg,16))},R.\u0275pipe=h.Yjl({name:"keyvalue",type:R,pure:!1,standalone:!0}),R})();function q(R,D){const S=R.key,N=D.key;if(S===N)return 0;if(void 0===S)return 1;if(void 0===N)return-1;if(null===S)return 1;if(null===N)return-1;if("string"==typeof S&&"string"==typeof N)return S<N?-1:1;if("number"==typeof S&&"number"==typeof N)return S-N;if("boolean"==typeof S&&"boolean"==typeof N)return S<N?-1:1;const ie=String(S),Re=String(N);return ie==Re?0:ie<Re?-1:1}let Kr=(()=>{class R{}return R.\u0275fac=function(S){return new(S||R)},R.\u0275mod=h.oAB({type:R}),R.\u0275inj=h.cJS({}),R})();const zr="browser",Lr="server";function Lo(R){return R===zr}function Xo(R){return R===Lr}let ma=(()=>{class R{}return R.\u0275prov=(0,h.Yz7)({token:R,providedIn:"root",factory:()=>new xs((0,h.LFG)(ue),window)}),R})();class xs{constructor(D,S){this.document=D,this.window=S,this.offset=()=>[0,0]}setOffset(D){this.offset=Array.isArray(D)?()=>D:D}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(D){this.supportsScrolling()&&this.window.scrollTo(D[0],D[1])}scrollToAnchor(D){if(!this.supportsScrolling())return;const S=function Wr(R,D){const S=R.getElementById(D)||R.getElementsByName(D)[0];if(S)return S;if("function"==typeof R.createTreeWalker&&R.body&&(R.body.createShadowRoot||R.body.attachShadow)){const N=R.createTreeWalker(R.body,NodeFilter.SHOW_ELEMENT);let ie=N.currentNode;for(;ie;){const Re=ie.shadowRoot;if(Re){const ot=Re.getElementById(D)||Re.querySelector(`[name="${D}"]`);if(ot)return ot}ie=N.nextNode()}}return null}(this.document,D);S&&(this.scrollToElement(S),S.focus())}setHistoryScrollRestoration(D){if(this.supportScrollRestoration()){const S=this.window.history;S&&S.scrollRestoration&&(S.scrollRestoration=D)}}scrollToElement(D){const S=D.getBoundingClientRect(),N=S.left+this.window.pageXOffset,ie=S.top+this.window.pageYOffset,Re=this.offset();this.window.scrollTo(N-Re[0],ie-Re[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const D=xi(this.window.history)||xi(Object.getPrototypeOf(this.window.history));return!(!D||!D.writable&&!D.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function xi(R){return Object.getOwnPropertyDescriptor(R,"scrollRestoration")}class nl{}},529:(cn,Ve,G)=>{"use strict";G.d(Ve,{JF:()=>Fi,TP:()=>X,UA:()=>H,WM:()=>U,Zn:()=>Le,eN:()=>F});var h=G(6895),C=G(4650),V=G(9646),ee=G(9751),pe=G(4351),ue=G(9300),ve=G(4004);class re{}class le{}class U{constructor(He){this.normalizedNames=new Map,this.lazyUpdate=null,He?this.lazyInit="string"==typeof He?()=>{this.headers=new Map,He.split("\n").forEach(Xe=>{const ln=Xe.indexOf(":");if(ln>0){const on=Xe.slice(0,ln),Ln=on.toLowerCase(),Wi=Xe.slice(ln+1).trim();this.maybeSetNormalizedName(on,Ln),this.headers.has(Ln)?this.headers.get(Ln).push(Wi):this.headers.set(Ln,[Wi])}})}:()=>{this.headers=new Map,Object.entries(He).forEach(([Xe,ln])=>{let on;if(on="string"==typeof ln?[ln]:"number"==typeof ln?[ln.toString()]:ln.map(Ln=>Ln.toString()),on.length>0){const Ln=Xe.toLowerCase();this.headers.set(Ln,on),this.maybeSetNormalizedName(Xe,Ln)}})}:this.headers=new Map}has(He){return this.init(),this.headers.has(He.toLowerCase())}get(He){this.init();const Xe=this.headers.get(He.toLowerCase());return Xe&&Xe.length>0?Xe[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(He){return this.init(),this.headers.get(He.toLowerCase())||null}append(He,Xe){return this.clone({name:He,value:Xe,op:"a"})}set(He,Xe){return this.clone({name:He,value:Xe,op:"s"})}delete(He,Xe){return this.clone({name:He,value:Xe,op:"d"})}maybeSetNormalizedName(He,Xe){this.normalizedNames.has(Xe)||this.normalizedNames.set(Xe,He)}init(){this.lazyInit&&(this.lazyInit instanceof U?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(He=>this.applyUpdate(He)),this.lazyUpdate=null))}copyFrom(He){He.init(),Array.from(He.headers.keys()).forEach(Xe=>{this.headers.set(Xe,He.headers.get(Xe)),this.normalizedNames.set(Xe,He.normalizedNames.get(Xe))})}clone(He){const Xe=new U;return Xe.lazyInit=this.lazyInit&&this.lazyInit instanceof U?this.lazyInit:this,Xe.lazyUpdate=(this.lazyUpdate||[]).concat([He]),Xe}applyUpdate(He){const Xe=He.name.toLowerCase();switch(He.op){case"a":case"s":let ln=He.value;if("string"==typeof ln&&(ln=[ln]),0===ln.length)return;this.maybeSetNormalizedName(He.name,Xe);const on=("a"===He.op?this.headers.get(Xe):void 0)||[];on.push(...ln),this.headers.set(Xe,on);break;case"d":const Ln=He.value;if(Ln){let Wi=this.headers.get(Xe);if(!Wi)return;Wi=Wi.filter(pi=>-1===Ln.indexOf(pi)),0===Wi.length?(this.headers.delete(Xe),this.normalizedNames.delete(Xe)):this.headers.set(Xe,Wi)}else this.headers.delete(Xe),this.normalizedNames.delete(Xe)}}forEach(He){this.init(),Array.from(this.normalizedNames.keys()).forEach(Xe=>He(this.normalizedNames.get(Xe),this.headers.get(Xe)))}}class O{encodeKey(He){return Ce(He)}encodeValue(He){return Ce(He)}decodeKey(He){return decodeURIComponent(He)}decodeValue(He){return decodeURIComponent(He)}}const Q=/%(\d[a-f0-9])/gi,oe={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ce(nt){return encodeURIComponent(nt).replace(Q,(He,Xe)=>oe[Xe]??He)}function xe(nt){return`${nt}`}class be{constructor(He={}){if(this.updates=null,this.cloneFrom=null,this.encoder=He.encoder||new O,He.fromString){if(He.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function $(nt,He){const Xe=new Map;return nt.length>0&&nt.replace(/^\?/,"").split("&").forEach(on=>{const Ln=on.indexOf("="),[Wi,pi]=-1==Ln?[He.decodeKey(on),""]:[He.decodeKey(on.slice(0,Ln)),He.decodeValue(on.slice(Ln+1))],bi=Xe.get(Wi)||[];bi.push(pi),Xe.set(Wi,bi)}),Xe}(He.fromString,this.encoder)}else He.fromObject?(this.map=new Map,Object.keys(He.fromObject).forEach(Xe=>{const ln=He.fromObject[Xe],on=Array.isArray(ln)?ln.map(xe):[xe(ln)];this.map.set(Xe,on)})):this.map=null}has(He){return this.init(),this.map.has(He)}get(He){this.init();const Xe=this.map.get(He);return Xe?Xe[0]:null}getAll(He){return this.init(),this.map.get(He)||null}keys(){return this.init(),Array.from(this.map.keys())}append(He,Xe){return this.clone({param:He,value:Xe,op:"a"})}appendAll(He){const Xe=[];return Object.keys(He).forEach(ln=>{const on=He[ln];Array.isArray(on)?on.forEach(Ln=>{Xe.push({param:ln,value:Ln,op:"a"})}):Xe.push({param:ln,value:on,op:"a"})}),this.clone(Xe)}set(He,Xe){return this.clone({param:He,value:Xe,op:"s"})}delete(He,Xe){return this.clone({param:He,value:Xe,op:"d"})}toString(){return this.init(),this.keys().map(He=>{const Xe=this.encoder.encodeKey(He);return this.map.get(He).map(ln=>Xe+"="+this.encoder.encodeValue(ln)).join("&")}).filter(He=>""!==He).join("&")}clone(He){const Xe=new be({encoder:this.encoder});return Xe.cloneFrom=this.cloneFrom||this,Xe.updates=(this.updates||[]).concat(He),Xe}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(He=>this.map.set(He,this.cloneFrom.map.get(He))),this.updates.forEach(He=>{switch(He.op){case"a":case"s":const Xe=("a"===He.op?this.map.get(He.param):void 0)||[];Xe.push(xe(He.value)),this.map.set(He.param,Xe);break;case"d":if(void 0===He.value){this.map.delete(He.param);break}{let ln=this.map.get(He.param)||[];const on=ln.indexOf(xe(He.value));-1!==on&&ln.splice(on,1),ln.length>0?this.map.set(He.param,ln):this.map.delete(He.param)}}}),this.cloneFrom=this.updates=null)}}class Ze{constructor(){this.map=new Map}set(He,Xe){return this.map.set(He,Xe),this}get(He){return this.map.has(He)||this.map.set(He,He.defaultValue()),this.map.get(He)}delete(He){return this.map.delete(He),this}has(He){return this.map.has(He)}keys(){return this.map.keys()}}function De(nt){return typeof ArrayBuffer<"u"&&nt instanceof ArrayBuffer}function et(nt){return typeof Blob<"u"&&nt instanceof Blob}function tt(nt){return typeof FormData<"u"&&nt instanceof FormData}class dt{constructor(He,Xe,ln,on){let Ln;if(this.url=Xe,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=He.toUpperCase(),function Ke(nt){switch(nt){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||on?(this.body=void 0!==ln?ln:null,Ln=on):Ln=ln,Ln&&(this.reportProgress=!!Ln.reportProgress,this.withCredentials=!!Ln.withCredentials,Ln.responseType&&(this.responseType=Ln.responseType),Ln.headers&&(this.headers=Ln.headers),Ln.context&&(this.context=Ln.context),Ln.params&&(this.params=Ln.params)),this.headers||(this.headers=new U),this.context||(this.context=new Ze),this.params){const Wi=this.params.toString();if(0===Wi.length)this.urlWithParams=Xe;else{const pi=Xe.indexOf("?");this.urlWithParams=Xe+(-1===pi?"?":pi<Xe.length-1?"&":"")+Wi}}else this.params=new be,this.urlWithParams=Xe}serializeBody(){return null===this.body?null:De(this.body)||et(this.body)||tt(this.body)||function u(nt){return typeof URLSearchParams<"u"&&nt instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof be?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||tt(this.body)?null:et(this.body)?this.body.type||null:De(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof be?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(He={}){const Xe=He.method||this.method,ln=He.url||this.url,on=He.responseType||this.responseType,Ln=void 0!==He.body?He.body:this.body,Wi=void 0!==He.withCredentials?He.withCredentials:this.withCredentials,pi=void 0!==He.reportProgress?He.reportProgress:this.reportProgress;let bi=He.headers||this.headers,ei=He.params||this.params;const si=He.context??this.context;return void 0!==He.setHeaders&&(bi=Object.keys(He.setHeaders).reduce((qt,Je)=>qt.set(Je,He.setHeaders[Je]),bi)),He.setParams&&(ei=Object.keys(He.setParams).reduce((qt,Je)=>qt.set(Je,He.setParams[Je]),ei)),new dt(Xe,ln,Ln,{params:ei,headers:bi,context:si,reportProgress:pi,responseType:on,withCredentials:Wi})}}var we=(()=>((we=we||{})[we.Sent=0]="Sent",we[we.UploadProgress=1]="UploadProgress",we[we.ResponseHeader=2]="ResponseHeader",we[we.DownloadProgress=3]="DownloadProgress",we[we.Response=4]="Response",we[we.User=5]="User",we))();class mt{constructor(He,Xe=200,ln="OK"){this.headers=He.headers||new U,this.status=void 0!==He.status?He.status:Xe,this.statusText=He.statusText||ln,this.url=He.url||null,this.ok=this.status>=200&&this.status<300}}class Gt extends mt{constructor(He={}){super(He),this.type=we.ResponseHeader}clone(He={}){return new Gt({headers:He.headers||this.headers,status:void 0!==He.status?He.status:this.status,statusText:He.statusText||this.statusText,url:He.url||this.url||void 0})}}class Le extends mt{constructor(He={}){super(He),this.type=we.Response,this.body=void 0!==He.body?He.body:null}clone(He={}){return new Le({body:void 0!==He.body?He.body:this.body,headers:He.headers||this.headers,status:void 0!==He.status?He.status:this.status,statusText:He.statusText||this.statusText,url:He.url||this.url||void 0})}}class H extends mt{constructor(He){super(He,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${He.url||"(unknown url)"}`:`Http failure response for ${He.url||"(unknown url)"}: ${He.status} ${He.statusText}`,this.error=He.error||null}}function g(nt,He){return{body:He,headers:nt.headers,context:nt.context,observe:nt.observe,params:nt.params,reportProgress:nt.reportProgress,responseType:nt.responseType,withCredentials:nt.withCredentials}}let F=(()=>{class nt{constructor(Xe){this.handler=Xe}request(Xe,ln,on={}){let Ln;if(Xe instanceof dt)Ln=Xe;else{let bi,ei;bi=on.headers instanceof U?on.headers:new U(on.headers),on.params&&(ei=on.params instanceof be?on.params:new be({fromObject:on.params})),Ln=new dt(Xe,ln,void 0!==on.body?on.body:null,{headers:bi,context:on.context,params:ei,reportProgress:on.reportProgress,responseType:on.responseType||"json",withCredentials:on.withCredentials})}const Wi=(0,V.of)(Ln).pipe((0,pe.b)(bi=>this.handler.handle(bi)));if(Xe instanceof dt||"events"===on.observe)return Wi;const pi=Wi.pipe((0,ue.h)(bi=>bi instanceof Le));switch(on.observe||"body"){case"body":switch(Ln.responseType){case"arraybuffer":return pi.pipe((0,ve.U)(bi=>{if(null!==bi.body&&!(bi.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return bi.body}));case"blob":return pi.pipe((0,ve.U)(bi=>{if(null!==bi.body&&!(bi.body instanceof Blob))throw new Error("Response is not a Blob.");return bi.body}));case"text":return pi.pipe((0,ve.U)(bi=>{if(null!==bi.body&&"string"!=typeof bi.body)throw new Error("Response is not a string.");return bi.body}));default:return pi.pipe((0,ve.U)(bi=>bi.body))}case"response":return pi;default:throw new Error(`Unreachable: unhandled observe type ${on.observe}}`)}}delete(Xe,ln={}){return this.request("DELETE",Xe,ln)}get(Xe,ln={}){return this.request("GET",Xe,ln)}head(Xe,ln={}){return this.request("HEAD",Xe,ln)}jsonp(Xe,ln){return this.request("JSONP",Xe,{params:(new be).append(ln,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Xe,ln={}){return this.request("OPTIONS",Xe,ln)}patch(Xe,ln,on={}){return this.request("PATCH",Xe,g(on,ln))}post(Xe,ln,on={}){return this.request("POST",Xe,g(on,ln))}put(Xe,ln,on={}){return this.request("PUT",Xe,g(on,ln))}}return nt.\u0275fac=function(Xe){return new(Xe||nt)(C.LFG(re))},nt.\u0275prov=C.Yz7({token:nt,factory:nt.\u0275fac}),nt})();function b(nt,He){return He(nt)}function Z(nt,He){return(Xe,ln)=>He.intercept(Xe,{handle:on=>nt(on,ln)})}const X=new C.OlP("HTTP_INTERCEPTORS"),de=new C.OlP("HTTP_INTERCEPTOR_FNS");function me(){let nt=null;return(He,Xe)=>(null===nt&&(nt=((0,C.f3M)(X,{optional:!0})??[]).reduceRight(Z,b)),nt(He,Xe))}let ft=(()=>{class nt extends re{constructor(Xe,ln){super(),this.backend=Xe,this.injector=ln,this.chain=null}handle(Xe){if(null===this.chain){const ln=Array.from(new Set(this.injector.get(de)));this.chain=ln.reduceRight((on,Ln)=>function W(nt,He,Xe){return(ln,on)=>Xe.runInContext(()=>He(ln,Ln=>nt(Ln,on)))}(on,Ln,this.injector),b)}return this.chain(Xe,ln=>this.backend.handle(ln))}}return nt.\u0275fac=function(Xe){return new(Xe||nt)(C.LFG(le),C.LFG(C.lqb))},nt.\u0275prov=C.Yz7({token:nt,factory:nt.\u0275fac}),nt})();const Ut=/^\)\]\}',?\n/;let un=(()=>{class nt{constructor(Xe){this.xhrFactory=Xe}handle(Xe){if("JSONP"===Xe.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new ee.y(ln=>{const on=this.xhrFactory.build();if(on.open(Xe.method,Xe.urlWithParams),Xe.withCredentials&&(on.withCredentials=!0),Xe.headers.forEach((Ae,Ne)=>on.setRequestHeader(Ae,Ne.join(","))),Xe.headers.has("Accept")||on.setRequestHeader("Accept","application/json, text/plain, */*"),!Xe.headers.has("Content-Type")){const Ae=Xe.detectContentTypeHeader();null!==Ae&&on.setRequestHeader("Content-Type",Ae)}if(Xe.responseType){const Ae=Xe.responseType.toLowerCase();on.responseType="json"!==Ae?Ae:"text"}const Ln=Xe.serializeBody();let Wi=null;const pi=()=>{if(null!==Wi)return Wi;const Ae=on.statusText||"OK",Ne=new U(on.getAllResponseHeaders()),Mt=function fn(nt){return"responseURL"in nt&&nt.responseURL?nt.responseURL:/^X-Request-URL:/m.test(nt.getAllResponseHeaders())?nt.getResponseHeader("X-Request-URL"):null}(on)||Xe.url;return Wi=new Gt({headers:Ne,status:on.status,statusText:Ae,url:Mt}),Wi},bi=()=>{let{headers:Ae,status:Ne,statusText:Mt,url:Wt}=pi(),Qe=null;204!==Ne&&(Qe=typeof on.response>"u"?on.responseText:on.response),0===Ne&&(Ne=Qe?200:0);let Zt=Ne>=200&&Ne<300;if("json"===Xe.responseType&&"string"==typeof Qe){const ht=Qe;Qe=Qe.replace(Ut,"");try{Qe=""!==Qe?JSON.parse(Qe):null}catch(sn){Qe=ht,Zt&&(Zt=!1,Qe={error:sn,text:Qe})}}Zt?(ln.next(new Le({body:Qe,headers:Ae,status:Ne,statusText:Mt,url:Wt||void 0})),ln.complete()):ln.error(new H({error:Qe,headers:Ae,status:Ne,statusText:Mt,url:Wt||void 0}))},ei=Ae=>{const{url:Ne}=pi(),Mt=new H({error:Ae,status:on.status||0,statusText:on.statusText||"Unknown Error",url:Ne||void 0});ln.error(Mt)};let si=!1;const qt=Ae=>{si||(ln.next(pi()),si=!0);let Ne={type:we.DownloadProgress,loaded:Ae.loaded};Ae.lengthComputable&&(Ne.total=Ae.total),"text"===Xe.responseType&&on.responseText&&(Ne.partialText=on.responseText),ln.next(Ne)},Je=Ae=>{let Ne={type:we.UploadProgress,loaded:Ae.loaded};Ae.lengthComputable&&(Ne.total=Ae.total),ln.next(Ne)};return on.addEventListener("load",bi),on.addEventListener("error",ei),on.addEventListener("timeout",ei),on.addEventListener("abort",ei),Xe.reportProgress&&(on.addEventListener("progress",qt),null!==Ln&&on.upload&&on.upload.addEventListener("progress",Je)),on.send(Ln),ln.next({type:we.Sent}),()=>{on.removeEventListener("error",ei),on.removeEventListener("abort",ei),on.removeEventListener("load",bi),on.removeEventListener("timeout",ei),Xe.reportProgress&&(on.removeEventListener("progress",qt),null!==Ln&&on.upload&&on.upload.removeEventListener("progress",Je)),on.readyState!==on.DONE&&on.abort()}})}}return nt.\u0275fac=function(Xe){return new(Xe||nt)(C.LFG(h.JF))},nt.\u0275prov=C.Yz7({token:nt,factory:nt.\u0275fac}),nt})();const Ft=new C.OlP("XSRF_ENABLED"),yn=new C.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),On=new C.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Ti{}let It=(()=>{class nt{constructor(Xe,ln,on){this.doc=Xe,this.platform=ln,this.cookieName=on,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Xe=this.doc.cookie||"";return Xe!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,h.Mx)(Xe,this.cookieName),this.lastCookieString=Xe),this.lastToken}}return nt.\u0275fac=function(Xe){return new(Xe||nt)(C.LFG(h.K0),C.LFG(C.Lbi),C.LFG(yn))},nt.\u0275prov=C.Yz7({token:nt,factory:nt.\u0275fac}),nt})();function Ue(nt,He){const Xe=nt.url.toLowerCase();if(!(0,C.f3M)(Ft)||"GET"===nt.method||"HEAD"===nt.method||Xe.startsWith("http://")||Xe.startsWith("https://"))return He(nt);const ln=(0,C.f3M)(Ti).getToken(),on=(0,C.f3M)(On);return null!=ln&&!nt.headers.has(on)&&(nt=nt.clone({headers:nt.headers.set(on,ln)})),He(nt)}var Ge=(()=>((Ge=Ge||{})[Ge.Interceptors=0]="Interceptors",Ge[Ge.LegacyInterceptors=1]="LegacyInterceptors",Ge[Ge.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Ge[Ge.NoXsrfProtection=3]="NoXsrfProtection",Ge[Ge.JsonpSupport=4]="JsonpSupport",Ge[Ge.RequestsMadeViaParent=5]="RequestsMadeViaParent",Ge))();function Pt(nt,He){return{\u0275kind:nt,\u0275providers:He}}function Yt(...nt){const He=[F,un,ft,{provide:re,useExisting:ft},{provide:le,useExisting:un},{provide:de,useValue:Ue,multi:!0},{provide:Ft,useValue:!0},{provide:Ti,useClass:It}];for(const Xe of nt)He.push(...Xe.\u0275providers);return(0,C.MR2)(He)}const ni=new C.OlP("LEGACY_INTERCEPTOR_FN");let Fi=(()=>{class nt{}return nt.\u0275fac=function(Xe){return new(Xe||nt)},nt.\u0275mod=C.oAB({type:nt}),nt.\u0275inj=C.cJS({providers:[Yt(Pt(Ge.LegacyInterceptors,[{provide:ni,useFactory:me},{provide:de,useExisting:ni,multi:!0}]))]}),nt})()},4650:(cn,Ve,G)=>{"use strict";G.d(Ve,{$8M:()=>Ur,$WT:()=>Jr,$Z:()=>Bg,AFp:()=>Xv,ALo:()=>vv,AaK:()=>re,BQk:()=>$h,CHM:()=>_a,CRH:()=>Tv,CZH:()=>w_,CqO:()=>dm,D6c:()=>bC,DdM:()=>uv,EJc:()=>Nw,EiD:()=>Tf,EpF:()=>cm,F$t:()=>Xt,F4k:()=>um,FYo:()=>vh,FiY:()=>oc,Gf:()=>Ev,GfV:()=>Dd,GkF:()=>Ip,Gpc:()=>y,Gre:()=>qc,Hsn:()=>dn,IIB:()=>Aw,Ikx:()=>O_,JOm:()=>fi,JVY:()=>eg,JZr:()=>Ce,Jf7:()=>$f,KtG:()=>$a,L6k:()=>rh,LAX:()=>oh,LFG:()=>Fi,LSH:()=>Af,Lbi:()=>Rw,Lck:()=>Ib,MAs:()=>lm,MMx:()=>z_,MR2:()=>Cl,NdJ:()=>Rp,O4$:()=>Or,OlP:()=>Gr,Oqu:()=>fs,P3R:()=>Bu,PXZ:()=>Xw,Q6J:()=>Dp,QGY:()=>Ap,QbO:()=>Ow,Qsj:()=>_g,R0b:()=>Pc,RDi:()=>Hc,Rgc:()=>bm,SBq:()=>cc,Sil:()=>jw,Suo:()=>Dv,TTD:()=>Hs,TgZ:()=>Gh,Tol:()=>jn,Udp:()=>en,VKq:()=>dv,W1O:()=>Rv,WLB:()=>hv,X6Q:()=>nC,XFs:()=>Ft,Xpm:()=>Zt,Xts:()=>fh,Y36:()=>hu,YKP:()=>tv,YNc:()=>am,Yjl:()=>Ui,Yz7:()=>jt,Z0I:()=>Te,ZZ4:()=>p0,_Bn:()=>ev,_UZ:()=>Pp,_Vd:()=>Yl,_c5:()=>vC,_uU:()=>Ll,aQg:()=>g0,c2e:()=>kw,cJS:()=>En,cg1:()=>k_,dDg:()=>Kw,dqk:()=>It,dwT:()=>Ay,eBb:()=>Nu,eFA:()=>uy,eJc:()=>X_,ekj:()=>Rt,eoX:()=>sy,f3M:()=>pn,g9A:()=>Qv,h0i:()=>Bp,hGG:()=>yC,hYB:()=>ti,hij:()=>Ro,i9L:()=>Ca,iGM:()=>Mv,ifc:()=>bi,ip1:()=>qv,jDz:()=>iv,kL8:()=>E0,kYT:()=>Zn,kcU:()=>ml,lG2:()=>Pi,lcZ:()=>yv,lnq:()=>Cs,lqb:()=>xl,lri:()=>ry,mCW:()=>Lu,n5z:()=>lt,n_E:()=>m_,oAB:()=>Qn,oJD:()=>og,oxw:()=>wt,pB0:()=>Gl,q3G:()=>fa,qLn:()=>Uu,qOj:()=>Cp,qZA:()=>Yh,qzn:()=>ha,rWj:()=>oy,s9C:()=>zn,sBO:()=>iC,s_b:()=>v_,soG:()=>C_,tBr:()=>ol,tb:()=>ly,tp0:()=>sl,uIk:()=>_u,vHH:()=>xe,vpe:()=>Cu,wAp:()=>Ir,xp6:()=>Sc,ynx:()=>Kh,z2F:()=>x_,z3N:()=>da,zSh:()=>Vf,zs3:()=>yo});var h=G(7579),C=G(727),V=G(9751),ee=G(6451),pe=G(3099);function ue(l){for(let c in l)if(l[c]===ue)return c;throw Error("Could not find renamed property on target object.")}function ve(l,c){for(const f in c)c.hasOwnProperty(f)&&!l.hasOwnProperty(f)&&(l[f]=c[f])}function re(l){if("string"==typeof l)return l;if(Array.isArray(l))return"["+l.map(re).join(", ")+"]";if(null==l)return""+l;if(l.overriddenName)return`${l.overriddenName}`;if(l.name)return`${l.name}`;const c=l.toString();if(null==c)return""+c;const f=c.indexOf("\n");return-1===f?c:c.substring(0,f)}function le(l,c){return null==l||""===l?null===c?"":c:null==c||""===c?l:l+" "+c}const U=ue({__forward_ref__:ue});function y(l){return l.__forward_ref__=y,l.toString=function(){return re(this())},l}function O(l){return $(l)?l():l}function $(l){return"function"==typeof l&&l.hasOwnProperty(U)&&l.__forward_ref__===y}function Q(l){return l&&!!l.\u0275providers}const Ce="https://g.co/ng/security#xss";class xe extends Error{constructor(c,f){super(be(c,f)),this.code=c}}function be(l,c){return`NG0${Math.abs(l)}${c?": "+c.trim():""}`}function ke(l){return"string"==typeof l?l:null==l?"":String(l)}function tt(l,c){throw new xe(-201,!1)}function de(l,c){null==l&&function me(l,c,f,_){throw new Error(`ASSERTION ERROR: ${l}`+(null==_?"":` [Expected=> ${f} ${_} ${c} <=Actual]`))}(c,l,null,"!=")}function jt(l){return{token:l.token,providedIn:l.providedIn||null,factory:l.factory,value:void 0}}function En(l){return{providers:l.providers||[],imports:l.imports||[]}}function In(l){return $t(l,_t)||$t(l,fn)}function Te(l){return null!==In(l)}function $t(l,c){return l.hasOwnProperty(c)?l[c]:null}function rt(l){return l&&(l.hasOwnProperty(Ut)||l.hasOwnProperty(un))?l[Ut]:null}const _t=ue({\u0275prov:ue}),Ut=ue({\u0275inj:ue}),fn=ue({ngInjectableDef:ue}),un=ue({ngInjectorDef:ue});var Ft=(()=>((Ft=Ft||{})[Ft.Default=0]="Default",Ft[Ft.Host=1]="Host",Ft[Ft.Self=2]="Self",Ft[Ft.SkipSelf=4]="SkipSelf",Ft[Ft.Optional=8]="Optional",Ft))();let Pn;function Dn(l){const c=Pn;return Pn=l,c}function On(l,c,f){const _=In(l);return _&&"root"==_.providedIn?void 0===_.value?_.value=_.factory():_.value:f&Ft.Optional?null:void 0!==c?c:void tt(re(l))}const It=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Pt={},Yt="__NG_DI_FLAG__",ut="ngTempTokenPath",ni="ngTokenPath",Kn=/\n/gm,Fn="\u0275",dr="__source";let Fr;function Ei(l){const c=Fr;return Fr=l,c}function fo(l,c=Ft.Default){if(void 0===Fr)throw new xe(-203,!1);return null===Fr?On(l,void 0,c):Fr.get(l,c&Ft.Optional?null:void 0,c)}function Fi(l,c=Ft.Default){return(function yn(){return Pn}()||fo)(O(l),c)}function pn(l,c=Ft.Default){return Fi(l,nt(c))}function nt(l){return typeof l>"u"||"number"==typeof l?l:0|(l.optional&&8)|(l.host&&1)|(l.self&&2)|(l.skipSelf&&4)}function He(l){const c=[];for(let f=0;f<l.length;f++){const _=O(l[f]);if(Array.isArray(_)){if(0===_.length)throw new xe(900,!1);let x,P=Ft.Default;for(let z=0;z<_.length;z++){const ne=_[z],he=ln(ne);"number"==typeof he?-1===he?x=ne.token:P|=he:x=ne}c.push(Fi(x,P))}else c.push(Fi(_))}return c}function Xe(l,c){return l[Yt]=c,l.prototype[Yt]=c,l}function ln(l){return l[Yt]}function Wi(l){return{toString:l}.toString()}var pi=(()=>((pi=pi||{})[pi.OnPush=0]="OnPush",pi[pi.Default=1]="Default",pi))(),bi=(()=>{return(l=bi||(bi={}))[l.Emulated=0]="Emulated",l[l.None=2]="None",l[l.ShadowDom=3]="ShadowDom",bi;var l})();const ei={},si=[],qt=ue({\u0275cmp:ue}),Je=ue({\u0275dir:ue}),Ae=ue({\u0275pipe:ue}),Ne=ue({\u0275mod:ue}),Mt=ue({\u0275fac:ue}),Wt=ue({__NG_ELEMENT_ID__:ue});let Qe=0;function Zt(l){return Wi(()=>{const c=Xs(l),f={...c,decls:l.decls,vars:l.vars,template:l.template,consts:l.consts||null,ngContentSelectors:l.ngContentSelectors,onPush:l.changeDetection===pi.OnPush,directiveDefs:null,pipeDefs:null,dependencies:c.standalone&&l.dependencies||null,getStandaloneInjector:null,data:l.data||{},encapsulation:l.encapsulation||bi.Emulated,id:"c"+Qe++,styles:l.styles||si,_:null,schemas:l.schemas||null,tView:null};Ts(f);const _=l.dependencies;return f.directiveDefs=ks(_,!1),f.pipeDefs=ks(_,!0),f})}function sn(l){return Ii(l)||Hi(l)}function gn(l){return null!==l}function Qn(l){return Wi(()=>({type:l.type,bootstrap:l.bootstrap||si,declarations:l.declarations||si,imports:l.imports||si,exports:l.exports||si,transitiveCompileScopes:null,schemas:l.schemas||null,id:l.id||null}))}function Zn(l,c){return Wi(()=>{const f=mo(l,!0);f.declarations=c.declarations||si,f.imports=c.imports||si,f.exports=c.exports||si})}function Vn(l,c){if(null==l)return ei;const f={};for(const _ in l)if(l.hasOwnProperty(_)){let x=l[_],P=x;Array.isArray(x)&&(P=x[1],x=x[0]),f[x]=_,c&&(c[x]=P)}return f}function Pi(l){return Wi(()=>{const c=Xs(l);return Ts(c),c})}function Ui(l){return{type:l.type,name:l.name,factory:null,pure:!1!==l.pure,standalone:!0===l.standalone,onDestroy:l.type.prototype.ngOnDestroy||null}}function Ii(l){return l[qt]||null}function Hi(l){return l[Je]||null}function wr(l){return l[Ae]||null}function Jr(l){const c=Ii(l)||Hi(l)||wr(l);return null!==c&&c.standalone}function mo(l,c){const f=l[Ne]||null;if(!f&&!0===c)throw new Error(`Type ${re(l)} does not have '\u0275mod' property.`);return f}function Xs(l){const c={};return{type:l.type,providersResolver:null,factory:null,hostBindings:l.hostBindings||null,hostVars:l.hostVars||0,hostAttrs:l.hostAttrs||null,contentQueries:l.contentQueries||null,declaredInputs:c,exportAs:l.exportAs||null,standalone:!0===l.standalone,selectors:l.selectors||si,viewQuery:l.viewQuery||null,features:l.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Vn(l.inputs,c),outputs:Vn(l.outputs)}}function Ts(l){l.features?.forEach(c=>c(l))}function ks(l,c){if(!l)return null;const f=c?wr:sn;return()=>("function"==typeof l?l():l).map(_=>f(_)).filter(gn)}const qo=0,ii=1,qi=2,Br=3,Eo=4,_o=5,ur=6,No=7,pr=8,no=9,wo=10,Ri=11,gs=12,io=13,Co=14,Ps=15,po=16,ms=17,_s=18,Oo=19,Is=20,os=21,hr=22,Ao=1,Nr=2,sa=7,As=8,vs=9,sr=10;function co(l){return Array.isArray(l)&&"object"==typeof l[Ao]}function go(l){return Array.isArray(l)&&!0===l[Ao]}function Fs(l){return 0!=(4&l.flags)}function uo(l){return l.componentOffset>-1}function Di(l){return 1==(1&l.flags)}function ro(l){return!!l.template}function Ar(l){return 0!=(256&l[qi])}function Hr(l,c){return l.hasOwnProperty(Mt)?l[Mt]:null}class ts{constructor(c,f,_){this.previousValue=c,this.currentValue=f,this.firstChange=_}isFirstChange(){return this.firstChange}}function Hs(){return ma}function ma(l){return l.type.prototype.ngOnChanges&&(l.setInput=xi),xs}function xs(){const l=Ai(this),c=l?.current;if(c){const f=l.previous;if(f===ei)l.previous=c;else for(let _ in c)f[_]=c[_];l.current=null,this.ngOnChanges(c)}}function xi(l,c,f,_){const x=this.declaredInputs[f],P=Ai(l)||function nl(l,c){return l[Wr]=c}(l,{previous:ei,current:null}),z=P.current||(P.current={}),ne=P.previous,he=ne[x];z[x]=new ts(he&&he.currentValue,c,ne===ei),l[_]=c}Hs.ngInherit=!0;const Wr="__ngSimpleChanges__";function Ai(l){return l[Wr]||null}const To=function(l,c,f){},Ss="svg";function Pr(l){for(;Array.isArray(l);)l=l[qo];return l}function Fe(l,c){return Pr(c[l])}function bt(l,c){return Pr(c[l.index])}function Ct(l,c){return l.data[c]}function kt(l,c){return l[c]}function mn(l,c){const f=c[l];return co(f)?f:f[qo]}function Rr(l){return 64==(64&l[qi])}function Qr(l,c){return null==c?null:l[c]}function Jo(l){l[_s]=0}function nr(l,c){l[_o]+=c;let f=l,_=l[Br];for(;null!==_&&(1===c&&1===f[_o]||-1===c&&0===f[_o]);)_[_o]+=c,f=_,_=_[Br]}const ar={lFrame:An(null),bindingsEnabled:!0};function Tn(){return ar.bindingsEnabled}function Sn(){return ar.lFrame.lView}function Sr(){return ar.lFrame.tView}function _a(l){return ar.lFrame.contextLView=l,l[pr]}function $a(l){return ar.lFrame.contextLView=null,l}function Yo(){let l=Bl();for(;null!==l&&64===l.type;)l=l.parent;return l}function Bl(){return ar.lFrame.currentTNode}function I(l,c){const f=ar.lFrame;f.currentTNode=l,f.isParent=c}function w(){return ar.lFrame.isParent}function A(){ar.lFrame.isParent=!1}function We(){const l=ar.lFrame;let c=l.bindingRootIndex;return-1===c&&(c=l.bindingRootIndex=l.tView.bindingStartIndex),c}function vt(){return ar.lFrame.bindingIndex}function an(){return ar.lFrame.bindingIndex++}function Mn(l){const c=ar.lFrame,f=c.bindingIndex;return c.bindingIndex=c.bindingIndex+l,f}function hi(l,c){const f=ar.lFrame;f.bindingIndex=f.bindingRootIndex=l,br(c)}function br(l){ar.lFrame.currentDirectiveIndex=l}function $r(){return ar.lFrame.currentQueryIndex}function Bo(l){ar.lFrame.currentQueryIndex=l}function ns(l){const c=l[ii];return 2===c.type?c.declTNode:1===c.type?l[ur]:null}function vr(l,c,f){if(f&Ft.SkipSelf){let x=c,P=l;for(;!(x=x.parent,null!==x||f&Ft.Host||(x=ns(P),null===x||(P=P[Ps],10&x.type))););if(null===x)return!1;c=x,l=P}const _=ar.lFrame=Jt();return _.currentTNode=c,_.lView=l,!0}function Vo(l){const c=Jt(),f=l[ii];ar.lFrame=c,c.currentTNode=f.firstChild,c.lView=l,c.tView=f,c.contextLView=l,c.bindingIndex=f.bindingStartIndex,c.inI18n=!1}function Jt(){const l=ar.lFrame,c=null===l?null:l.child;return null===c?An(l):c}function An(l){const c={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:l,child:null,inI18n:!1};return null!==l&&(l.child=c),c}function bn(){const l=ar.lFrame;return ar.lFrame=l.parent,l.currentTNode=null,l.lView=null,l}const vi=bn;function Gi(){const l=bn();l.isParent=!0,l.tView=null,l.selectedIndex=-1,l.contextLView=null,l.elementDepthCount=0,l.currentDirectiveIndex=-1,l.currentNamespace=null,l.bindingRootIndex=-1,l.bindingIndex=-1,l.currentQueryIndex=0}function Ni(){return ar.lFrame.selectedIndex}function Da(l){ar.lFrame.selectedIndex=l}function xo(){const l=ar.lFrame;return Ct(l.tView,l.selectedIndex)}function Or(){ar.lFrame.currentNamespace=Ss}function ml(){!function za(){ar.lFrame.currentNamespace=null}()}function eo(l,c){for(let f=c.directiveStart,_=c.directiveEnd;f<_;f++){const P=l.data[f].type.prototype,{ngAfterContentInit:z,ngAfterContentChecked:ne,ngAfterViewInit:he,ngAfterViewChecked:je,ngOnDestroy:it}=P;z&&(l.contentHooks??(l.contentHooks=[])).push(-f,z),ne&&((l.contentHooks??(l.contentHooks=[])).push(f,ne),(l.contentCheckHooks??(l.contentCheckHooks=[])).push(f,ne)),he&&(l.viewHooks??(l.viewHooks=[])).push(-f,he),je&&((l.viewHooks??(l.viewHooks=[])).push(f,je),(l.viewCheckHooks??(l.viewCheckHooks=[])).push(f,je)),null!=it&&(l.destroyHooks??(l.destroyHooks=[])).push(f,it)}}function Dl(l,c,f){D(l,c,3,f)}function qa(l,c,f,_){(3&l[qi])===f&&D(l,c,f,_)}function R(l,c){let f=l[qi];(3&f)===c&&(f&=2047,f+=1,l[qi]=f)}function D(l,c,f,_){const P=_??-1,z=c.length-1;let ne=0;for(let he=void 0!==_?65535&l[_s]:0;he<z;he++)if("number"==typeof c[he+1]){if(ne=c[he],null!=_&&ne>=_)break}else c[he]<0&&(l[_s]+=65536),(ne<P||-1==P)&&(S(l,f,c,he),l[_s]=(4294901760&l[_s])+he+2),he++}function S(l,c,f,_){const x=f[_]<0,P=f[_+1],ne=l[x?-f[_]:f[_]];if(x){if(l[qi]>>11<l[_s]>>16&&(3&l[qi])===c){l[qi]+=2048,To(4,ne,P);try{P.call(ne)}finally{To(5,ne,P)}}}else{To(4,ne,P);try{P.call(ne)}finally{To(5,ne,P)}}}const N=-1;class ie{constructor(c,f,_){this.factory=c,this.resolving=!1,this.canSeeViewProviders=f,this.injectImpl=_}}function yi(l,c,f){let _=0;for(;_<f.length;){const x=f[_];if("number"==typeof x){if(0!==x)break;_++;const P=f[_++],z=f[_++],ne=f[_++];l.setAttribute(c,z,ne,P)}else{const P=x,z=f[++_];er(P)?l.setProperty(c,P,z):l.setAttribute(c,P,z),_++}}return _}function Si(l){return 3===l||4===l||6===l}function er(l){return 64===l.charCodeAt(0)}function Dr(l,c){if(null!==c&&0!==c.length)if(null===l||0===l.length)l=c.slice();else{let f=-1;for(let _=0;_<c.length;_++){const x=c[_];"number"==typeof x?f=x:0===f||Zr(l,f,x,null,-1===f||2===f?c[++_]:null)}}return l}function Zr(l,c,f,_,x){let P=0,z=l.length;if(-1===c)z=-1;else for(;P<l.length;){const ne=l[P++];if("number"==typeof ne){if(ne===c){z=-1;break}if(ne>c){z=P-1;break}}}for(;P<l.length;){const ne=l[P];if("number"==typeof ne)break;if(ne===f){if(null===_)return void(null!==x&&(l[P+1]=x));if(_===l[P+1])return void(l[P+2]=x)}P++,null!==_&&P++,null!==x&&P++}-1!==z&&(l.splice(z,0,c),P=z+1),l.splice(P++,0,f),null!==_&&l.splice(P++,0,_),null!==x&&l.splice(P++,0,x)}function oo(l){return l!==N}function so(l){return 32767&l}function Ns(l,c){let f=function Po(l){return l>>16}(l),_=c;for(;f>0;)_=_[Ps],f--;return _}let ba=!0;function Qo(l){const c=ba;return ba=l,c}const Fa=255,vo=5;let Ms=0;const is={};function Tl(l,c){const f=Yi(l,c);if(-1!==f)return f;const _=c[ii];_.firstCreatePass&&(l.injectorIndex=c.length,tc(_.data,l),tc(c,null),tc(_.blueprint,null));const x=Ji(l,c),P=l.injectorIndex;if(oo(x)){const z=so(x),ne=Ns(x,c),he=ne[ii].data;for(let je=0;je<8;je++)c[P+je]=ne[z+je]|he[z+je]}return c[P+8]=x,P}function tc(l,c){l.push(0,0,0,0,0,0,0,0,c)}function Yi(l,c){return-1===l.injectorIndex||l.parent&&l.parent.injectorIndex===l.injectorIndex||null===c[l.injectorIndex+8]?-1:l.injectorIndex}function Ji(l,c){if(l.parent&&-1!==l.parent.injectorIndex)return l.parent.injectorIndex;let f=0,_=null,x=c;for(;null!==x;){if(_=na(x),null===_)return N;if(f++,x=x[Ps],-1!==_.injectorIndex)return _.injectorIndex|f<<16}return N}function ci(l,c,f){!function wa(l,c,f){let _;"string"==typeof f?_=f.charCodeAt(0)||0:f.hasOwnProperty(Wt)&&(_=f[Wt]),null==_&&(_=f[Wt]=Ms++);const x=_&Fa;c.data[l+(x>>vo)]|=1<<x}(l,c,f)}function zo(l,c,f){if(f&Ft.Optional||void 0!==l)return l;tt()}function ea(l,c,f,_){if(f&Ft.Optional&&void 0===_&&(_=null),!(f&(Ft.Self|Ft.Host))){const x=l[no],P=Dn(void 0);try{return x?x.get(c,_,f&Ft.Optional):On(c,_,f&Ft.Optional)}finally{Dn(P)}}return zo(_,0,f)}function ji(l,c,f,_=Ft.Default,x){if(null!==l){if(1024&c[qi]){const z=function rl(l,c,f,_,x){let P=l,z=c;for(;null!==P&&null!==z&&1024&z[qi]&&!(256&z[qi]);){const ne=Ws(P,z,f,_|Ft.Self,is);if(ne!==is)return ne;let he=P.parent;if(!he){const je=z[os];if(je){const it=je.get(f,is,_);if(it!==is)return it}he=na(z),z=z[Ps]}P=he}return x}(l,c,f,_,is);if(z!==is)return z}const P=Ws(l,c,f,_,is);if(P!==is)return P}return ea(c,f,_,x)}function Ws(l,c,f,_,x){const P=function Us(l){if("string"==typeof l)return l.charCodeAt(0)||0;const c=l.hasOwnProperty(Wt)?l[Wt]:void 0;return"number"==typeof c?c>=0?c&Fa:Ua:c}(f);if("function"==typeof P){if(!vr(c,l,_))return _&Ft.Host?zo(x,0,_):ea(c,f,_,x);try{const z=P(_);if(null!=z||_&Ft.Optional)return z;tt()}finally{vi()}}else if("number"==typeof P){let z=null,ne=Yi(l,c),he=N,je=_&Ft.Host?c[po][ur]:null;for((-1===ne||_&Ft.SkipSelf)&&(he=-1===ne?Ji(l,c):c[ne+8],he!==N&&ko(_,!1)?(z=c[ii],ne=so(he),c=Ns(he,c)):ne=-1);-1!==ne;){const it=c[ii];if(ta(P,ne,it.data)){const Ot=bs(ne,c,f,z,_,je);if(Ot!==is)return Ot}he=c[ne+8],he!==N&&ko(_,c[ii].data[ne+8]===je)&&ta(P,ne,c)?(z=it,ne=so(he),c=Ns(he,c)):ne=-1}}return x}function bs(l,c,f,_,x,P){const z=c[ii],ne=z.data[l+8],it=il(ne,z,f,null==_?uo(ne)&&ba:_!=z&&0!=(3&ne.type),x&Ft.Host&&P===ne);return null!==it?_l(c,z,it,ne):is}function il(l,c,f,_,x){const P=l.providerIndexes,z=c.data,ne=1048575&P,he=l.directiveStart,it=P>>20,tn=x?ne+it:l.directiveEnd;for(let vn=_?ne:ne+it;vn<tn;vn++){const Bn=z[vn];if(vn<he&&f===Bn||vn>=he&&Bn.type===f)return vn}if(x){const vn=z[he];if(vn&&ro(vn)&&vn.type===f)return he}return null}function _l(l,c,f,_){let x=l[f];const P=c.data;if(function Re(l){return l instanceof ie}(x)){const z=x;z.resolving&&function Ke(l,c){const f=c?`. Dependency path: ${c.join(" > ")} > ${l}`:"";throw new xe(-200,`Circular dependency in DI detected for ${l}${f}`)}(function Ze(l){return"function"==typeof l?l.name||l.toString():"object"==typeof l&&null!=l&&"function"==typeof l.type?l.type.name||l.type.toString():ke(l)}(P[f]));const ne=Qo(z.canSeeViewProviders);z.resolving=!0;const he=z.injectImpl?Dn(z.injectImpl):null;vr(l,_,Ft.Default);try{x=l[f]=z.factory(void 0,P,l,_),c.firstCreatePass&&f>=_.directiveStart&&function Ho(l,c,f){const{ngOnChanges:_,ngOnInit:x,ngDoCheck:P}=c.type.prototype;if(_){const z=ma(c);(f.preOrderHooks??(f.preOrderHooks=[])).push(l,z),(f.preOrderCheckHooks??(f.preOrderCheckHooks=[])).push(l,z)}x&&(f.preOrderHooks??(f.preOrderHooks=[])).push(0-l,x),P&&((f.preOrderHooks??(f.preOrderHooks=[])).push(l,P),(f.preOrderCheckHooks??(f.preOrderCheckHooks=[])).push(l,P))}(f,P[f],c)}finally{null!==he&&Dn(he),Qo(ne),z.resolving=!1,vi()}}return x}function ta(l,c,f){return!!(f[c+(l>>vo)]&1<<l)}function ko(l,c){return!(l&Ft.Self||l&Ft.Host&&c)}class aa{constructor(c,f){this._tNode=c,this._lView=f}get(c,f,_){return ji(this._tNode,this._lView,c,nt(_),f)}}function Ua(){return new aa(Yo(),Sn())}function lt(l){return Wi(()=>{const c=l.prototype.constructor,f=c[Mt]||Pl(c),_=Object.prototype;let x=Object.getPrototypeOf(l.prototype).constructor;for(;x&&x!==_;){const P=x[Mt]||Pl(x);if(P&&P!==f)return P;x=Object.getPrototypeOf(x)}return P=>new P})}function Pl(l){return $(l)?()=>{const c=Pl(O(l));return c&&c()}:Hr(l)}function na(l){const c=l[ii],f=c.type;return 2===f?c.declTNode:1===f?l[ur]:null}function Ur(l){return function fr(l,c){if("class"===c)return l.classes;if("style"===c)return l.styles;const f=l.attrs;if(f){const _=f.length;let x=0;for(;x<_;){const P=f[x];if(Si(P))break;if(0===P)x+=2;else if("number"==typeof P)for(x++;x<_&&"string"==typeof f[x];)x++;else{if(P===c)return f[x+1];x+=2}}}return null}(Yo(),l)}const Il="__parameters__",la="__prop__metadata__";function gc(l){return function(...f){if(l){const _=l(...f);for(const x in _)this[x]=_[x]}}}function ic(l,c,f){return Wi(()=>{const _=gc(c);function x(...P){if(this instanceof x)return _.apply(this,P),this;const z=new x(...P);return ne.annotation=z,ne;function ne(he,je,it){const Ot=he.hasOwnProperty(Il)?he[Il]:Object.defineProperty(he,Il,{value:[]})[Il];for(;Ot.length<=it;)Ot.push(null);return(Ot[it]=Ot[it]||[]).push(z),he}}return f&&(x.prototype=Object.create(f.prototype)),x.prototype.ngMetadataName=l,x.annotationCls=x,x})}function mc(l,c,f,_){return Wi(()=>{const x=gc(c);function P(...z){if(this instanceof P)return x.apply(this,z),this;const ne=new P(...z);return function he(je,it){const Ot=je.constructor,tn=Ot.hasOwnProperty(la)?Ot[la]:Object.defineProperty(Ot,la,{value:{}})[la];tn[it]=tn.hasOwnProperty(it)&&tn[it]||[],tn[it].unshift(ne),_&&_(je,it,...z)}}return f&&(P.prototype=Object.create(f.prototype)),P.prototype.ngMetadataName=l,P.annotationCls=P,P})}class Gr{constructor(c,f){this._desc=c,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof f?this.__NG_ELEMENT_ID__=f:void 0!==f&&(this.\u0275prov=jt({token:this,providedIn:f.providedIn||"root",factory:f.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}class Jh{}const Ca=mc("ViewChild",(l,c)=>({selector:l,first:!0,isViewQuery:!0,descendants:!0,...c}),Jh);function Gs(l,c){l.forEach(f=>Array.isArray(f)?Gs(f,c):c(f))}function Ac(l,c,f){c>=l.length?l.push(f):l.splice(c,0,f)}function Hl(l,c){return c>=l.length-1?l.pop():l.splice(c,1)[0]}function K(l,c){const f=[];for(let _=0;_<l;_++)f.push(c);return f}function $e(l,c,f){let _=Qt(l,c);return _>=0?l[1|_]=f:(_=~_,function se(l,c,f,_){let x=l.length;if(x==c)l.push(f,_);else if(1===x)l.push(_,l[0]),l[0]=f;else{for(x--,l.push(l[x-1],l[x]);x>c;)l[x]=l[x-2],x--;l[c]=f,l[c+1]=_}}(l,_,c,f)),_}function ct(l,c){const f=Qt(l,c);if(f>=0)return l[1|f]}function Qt(l,c){return function Ci(l,c,f){let _=0,x=l.length>>f;for(;x!==_;){const P=_+(x-_>>1),z=l[P<<f];if(c===z)return P<<f;z>c?x=P:_=P+1}return~(x<<f)}(l,c,1)}const ol=Xe(ic("Inject",l=>({token:l})),-1),oc=Xe(ic("Optional"),8),sl=Xe(ic("SkipSelf"),4);var fi=(()=>((fi=fi||{})[fi.Important=1]="Important",fi[fi.DashCase=2]="DashCase",fi))();const Qc=new Map;let lf=0;const df="__ngContext__";function oa(l,c){co(c)?(l[df]=c[Is],function cf(l){Qc.set(l[Is],l)}(c)):l[df]=c}let rs;function tu(l,c){return rs(l,c)}function Rl(l){const c=l[Br];return go(c)?c[Br]:c}function pd(l){return gd(l[io])}function Wl(l){return gd(l[Eo])}function gd(l){for(;null!==l&&!go(l);)l=l[Eo];return l}function Lc(l,c,f,_,x){if(null!=_){let P,z=!1;go(_)?P=_:co(_)&&(z=!0,_=_[qo]);const ne=Pr(_);0===l&&null!==f?null==x?jc(c,f,ne):ua(c,f,ne,x||null,!0):1===l&&null!==f?ua(c,f,ne,x||null,!0):2===l?function th(l,c,f){const _=Au(l,c);_&&function xm(l,c,f,_){l.removeChild(c,f,_)}(l,_,c,f)}(c,ne,z):3===l&&c.destroyNode(ne),null!=P&&function Zp(l,c,f,_,x){const P=f[sa];P!==Pr(f)&&Lc(c,l,_,P,x);for(let ne=sr;ne<f.length;ne++){const he=f[ne];bl(he[ii],he,l,c,_,P)}}(c,l,P,f,x)}}function Xd(l,c,f){return l.createElement(c,f)}function Ul(l,c){const f=l[vs],_=f.indexOf(c),x=c[Br];512&c[qi]&&(c[qi]&=-513,nr(x,-1)),f.splice(_,1)}function mf(l,c){if(l.length<=sr)return;const f=sr+c,_=l[f];if(_){const x=_[ms];null!==x&&x!==l&&Ul(x,_),c>0&&(l[f-1][Eo]=_[Eo]);const P=Hl(l,sr+c);!function Jd(l,c){bl(l,c,c[Ri],2,null,null),c[qo]=null,c[ur]=null}(_[ii],_);const z=P[Oo];null!==z&&z.detachView(P[ii]),_[Br]=null,_[Eo]=null,_[qi]&=-65}return _}function Kp(l,c){if(!(128&c[qi])){const f=c[Ri];f.destroyNode&&bl(l,c,f,3,null,null),function Yp(l){let c=l[io];if(!c)return Pu(l[ii],l);for(;c;){let f=null;if(co(c))f=c[io];else{const _=c[sr];_&&(f=_)}if(!f){for(;c&&!c[Eo]&&c!==l;)co(c)&&Pu(c[ii],c),c=c[Br];null===c&&(c=l),co(c)&&Pu(c[ii],c),f=c&&c[Eo]}c=f}}(c)}}function Pu(l,c){if(!(128&c[qi])){c[qi]&=-65,c[qi]|=128,function ac(l,c){let f;if(null!=l&&null!=(f=l.destroyHooks))for(let _=0;_<f.length;_+=2){const x=c[f[_]];if(!(x instanceof ie)){const P=f[_+1];if(Array.isArray(P))for(let z=0;z<P.length;z+=2){const ne=x[P[z]],he=P[z+1];To(4,ne,he);try{he.call(ne)}finally{To(5,ne,he)}}else{To(4,x,P);try{P.call(x)}finally{To(5,x,P)}}}}}(l,c),function Iu(l,c){const f=l.cleanup,_=c[No];let x=-1;if(null!==f)for(let P=0;P<f.length-1;P+=2)if("string"==typeof f[P]){const z=f[P+3];z>=0?_[x=z]():_[x=-z].unsubscribe(),P+=2}else{const z=_[x=f[P+1]];f[P].call(z)}if(null!==_){for(let P=x+1;P<_.length;P++)(0,_[P])();c[No]=null}}(l,c),1===c[ii].type&&c[Ri].destroy();const f=c[ms];if(null!==f&&go(c[Br])){f!==c[Br]&&Ul(f,c);const _=c[Oo];null!==_&&_.detachView(l)}!function ao(l){Qc.delete(l[Is])}(c)}}function ki(l,c,f){return function yl(l,c,f){let _=c;for(;null!==_&&40&_.type;)_=(c=_).parent;if(null===_)return f[qo];{const{componentOffset:x}=_;if(x>-1){const{encapsulation:P}=l.data[_.directiveStart+x];if(P===bi.None||P===bi.Emulated)return null}return bt(_,f)}}(l,c.parent,f)}function ua(l,c,f,_,x){l.insertBefore(c,f,_,x)}function jc(l,c,f){l.appendChild(c,f)}function iu(l,c,f,_,x){null!==_?ua(l,c,f,_,x):jc(l,c,f)}function Au(l,c){return l.parentNode(c)}function Qd(l,c,f){return _d(l,c,f)}let ru,lc,su,yc,_d=function Ru(l,c,f){return 40&l.type?bt(l,f):null};function Ou(l,c,f,_){const x=ki(l,_,c),P=c[Ri],ne=Qd(_.parent||c[ur],_,c);if(null!=x)if(Array.isArray(f))for(let he=0;he<f.length;he++)iu(P,x,f[he],ne,!1);else iu(P,x,f,ne,!1);void 0!==ru&&ru(P,_,c,f,x)}function Bc(l,c){if(null!==c){const f=c.type;if(3&f)return bt(c,l);if(4&f)return ku(-1,l[c.index]);if(8&f){const _=c.child;if(null!==_)return Bc(l,_);{const x=l[c.index];return go(x)?ku(-1,x):Pr(x)}}if(32&f)return tu(c,l)()||Pr(l[c.index]);{const _=eh(l,c);return null!==_?Array.isArray(_)?_[0]:Bc(Rl(l[po]),_):Bc(l,c.next)}}return null}function eh(l,c){return null!==c?l[po][ur].projection[c.projection]:null}function ku(l,c){const f=sr+l+1;if(f<c.length){const _=c[f],x=_[ii].firstChild;if(null!==x)return Bc(_,x)}return c[sa]}function vd(l,c,f,_,x,P,z){for(;null!=f;){const ne=_[f.index],he=f.type;if(z&&0===c&&(ne&&oa(Pr(ne),_),f.flags|=2),32!=(32&f.flags))if(8&he)vd(l,c,f.child,_,x,P,!1),Lc(c,l,x,ne,P);else if(32&he){const je=tu(f,_);let it;for(;it=je();)Lc(c,l,x,it,P);Lc(c,l,x,ne,P)}else 16&he?nh(l,c,_,f,x,P):Lc(c,l,x,ne,P);f=z?f.projectionNext:f.next}}function bl(l,c,f,_,x,P){vd(f,_,l.firstChild,c,x,P,!1)}function nh(l,c,f,_,x,P){const z=f[po],he=z[ur].projection[_.projection];if(Array.isArray(he))for(let je=0;je<he.length;je++)Lc(c,l,x,he[je],P);else vd(l,c,he,z[Br],x,P,!0)}function yd(l,c,f){""===f?l.removeAttribute(c,"class"):l.setAttribute(c,"class",f)}function Ol(l,c,f){const{mergedAttrs:_,classes:x,styles:P}=f;null!==_&&yi(l,c,_),null!==x&&yd(l,c,x),null!==P&&function bf(l,c,f){l.setAttribute(c,"style",f)}(l,c,P)}function vc(l){return function Fu(){if(void 0===lc&&(lc=null,It.trustedTypes))try{lc=It.trustedTypes.createPolicy("angular",{createHTML:l=>l,createScript:l=>l,createScriptURL:l=>l})}catch{}return lc}()?.createHTML(l)||l}function Hc(l){su=l}function au(){if(void 0===yc&&(yc=null,It.trustedTypes))try{yc=It.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:l=>l,createScript:l=>l,createScriptURL:l=>l})}catch{}return yc}function Ia(l){return au()?.createHTML(l)||l}function wf(l){return au()?.createScriptURL(l)||l}class wl{constructor(c){this.changingThisBreaksApplicationSecurity=c}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ce})`}}class qp extends wl{getTypeName(){return"HTML"}}class Cf extends wl{getTypeName(){return"Style"}}class Xp extends wl{getTypeName(){return"Script"}}class Jp extends wl{getTypeName(){return"URL"}}class Qp extends wl{getTypeName(){return"ResourceURL"}}function da(l){return l instanceof wl?l.changingThisBreaksApplicationSecurity:l}function ha(l,c){const f=function ih(l){return l instanceof wl&&l.getTypeName()||null}(l);if(null!=f&&f!==c){if("ResourceURL"===f&&"URL"===c)return!0;throw new Error(`Required a safe ${c}, got a ${f} (see ${Ce})`)}return f===c}function eg(l){return new qp(l)}function rh(l){return new Cf(l)}function Nu(l){return new Xp(l)}function oh(l){return new Jp(l)}function Gl(l){return new Qp(l)}class tg{constructor(c){this.inertDocumentHelper=c}getInertBodyElement(c){c="<body><remove></remove>"+c;try{const f=(new window.DOMParser).parseFromString(vc(c),"text/html").body;return null===f?this.inertDocumentHelper.getInertBodyElement(c):(f.removeChild(f.firstChild),f)}catch{return null}}}class Sf{constructor(c){this.defaultDoc=c,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(c){const f=this.inertDocument.createElement("template");return f.innerHTML=vc(c),f}}const Ef=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Lu(l){return(l=String(l)).match(Ef)?l:"unsafe:"+l}function kl(l){const c={};for(const f of l.split(","))c[f]=!0;return c}function zc(...l){const c={};for(const f of l)for(const _ in f)f.hasOwnProperty(_)&&(c[_]=!0);return c}const sh=kl("area,br,col,hr,img,wbr"),ah=kl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Wc=kl("rp,rt"),ch=zc(sh,zc(ah,kl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),zc(Wc,kl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),zc(Wc,ah)),ju=kl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),wc=zc(ju,kl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),kl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ng=kl("script,style,template");class ig{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(c){let f=c.firstChild,_=!0;for(;f;)if(f.nodeType===Node.ELEMENT_NODE?_=this.startElement(f):f.nodeType===Node.TEXT_NODE?this.chars(f.nodeValue):this.sanitizedSomething=!0,_&&f.firstChild)f=f.firstChild;else for(;f;){f.nodeType===Node.ELEMENT_NODE&&this.endElement(f);let x=this.checkClobberedElement(f,f.nextSibling);if(x){f=x;break}f=this.checkClobberedElement(f,f.parentNode)}return this.buf.join("")}startElement(c){const f=c.nodeName.toLowerCase();if(!ch.hasOwnProperty(f))return this.sanitizedSomething=!0,!ng.hasOwnProperty(f);this.buf.push("<"),this.buf.push(f);const _=c.attributes;for(let x=0;x<_.length;x++){const P=_.item(x),z=P.name,ne=z.toLowerCase();if(!wc.hasOwnProperty(ne)){this.sanitizedSomething=!0;continue}let he=P.value;ju[ne]&&(he=Lu(he)),this.buf.push(" ",z,'="',uh(he),'"')}return this.buf.push(">"),!0}endElement(c){const f=c.nodeName.toLowerCase();ch.hasOwnProperty(f)&&!sh.hasOwnProperty(f)&&(this.buf.push("</"),this.buf.push(f),this.buf.push(">"))}chars(c){this.buf.push(uh(c))}checkClobberedElement(c,f){if(f&&(c.compareDocumentPosition(f)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${c.outerHTML}`);return f}}const rg=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,xd=/([^\#-~ |!])/g;function uh(l){return l.replace(/&/g,"&amp;").replace(rg,function(c){return"&#"+(1024*(c.charCodeAt(0)-55296)+(c.charCodeAt(1)-56320)+65536)+";"}).replace(xd,function(c){return"&#"+c.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let dh;function Tf(l,c){let f=null;try{dh=dh||function xf(l){const c=new Sf(l);return function Mf(){try{return!!(new window.DOMParser).parseFromString(vc(""),"text/html")}catch{return!1}}()?new tg(c):c}(l);let _=c?String(c):"";f=dh.getInertBodyElement(_);let x=5,P=_;do{if(0===x)throw new Error("Failed to sanitize html because the input is unstable");x--,_=P,P=f.innerHTML,f=dh.getInertBodyElement(_)}while(_!==P);return vc((new ig).sanitizeChildren(Pf(f)||f))}finally{if(f){const _=Pf(f)||f;for(;_.firstChild;)_.removeChild(_.firstChild)}}}function Pf(l){return"content"in l&&function If(l){return l.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===l.nodeName}(l)?l.content:null}var fa=(()=>((fa=fa||{})[fa.NONE=0]="NONE",fa[fa.HTML=1]="HTML",fa[fa.STYLE=2]="STYLE",fa[fa.SCRIPT=3]="SCRIPT",fa[fa.URL=4]="URL",fa[fa.RESOURCE_URL=5]="RESOURCE_URL",fa))();function og(l){const c=Vu();return c?Ia(c.sanitize(fa.HTML,l)||""):ha(l,"HTML")?Ia(da(l)):Tf(function wd(){return void 0!==su?su:typeof document<"u"?document:void 0}(),ke(l))}function Af(l){const c=Vu();return c?c.sanitize(fa.URL,l)||"":ha(l,"URL")?da(l):Lu(ke(l))}function Rf(l){const c=Vu();if(c)return wf(c.sanitize(fa.RESOURCE_URL,l)||"");if(ha(l,"ResourceURL"))return wf(da(l));throw new xe(904,!1)}function Bu(l,c,f){return function Em(l,c){return"src"===c&&("embed"===l||"frame"===l||"iframe"===l||"media"===l||"script"===l)||"href"===c&&("base"===l||"link"===l)?Rf:Af}(c,f)(l)}function Vu(){const l=Sn();return l&&l[gs]}const fh=new Gr("ENVIRONMENT_INITIALIZER"),kf=new Gr("INJECTOR",-1),Ff=new Gr("INJECTOR_DEF_TYPES");class Nf{get(c,f=Pt){if(f===Pt){const _=new Error(`NullInjectorError: No provider for ${re(c)}!`);throw _.name="NullInjectorError",_}return f}}function Cl(l){return{\u0275providers:l}}function lg(...l){return{\u0275providers:Lf(0,l),\u0275fromNgModule:!0}}function Lf(l,...c){const f=[],_=new Set;let x;return Gs(c,P=>{const z=P;Sd(z,f,[],_)&&(x||(x=[]),x.push(z))}),void 0!==x&&jf(x,f),f}function jf(l,c){for(let f=0;f<l.length;f++){const{providers:x}=l[f];ph(x,P=>{c.push(P)})}}function Sd(l,c,f,_){if(!(l=O(l)))return!1;let x=null,P=rt(l);const z=!P&&Ii(l);if(P||z){if(z&&!z.standalone)return!1;x=l}else{const he=l.ngModule;if(P=rt(he),!P)return!1;x=he}const ne=_.has(x);if(z){if(ne)return!1;if(_.add(x),z.dependencies){const he="function"==typeof z.dependencies?z.dependencies():z.dependencies;for(const je of he)Sd(je,c,f,_)}}else{if(!P)return!1;{if(null!=P.imports&&!ne){let je;_.add(x);try{Gs(P.imports,it=>{Sd(it,c,f,_)&&(je||(je=[]),je.push(it))})}finally{}void 0!==je&&jf(je,c)}if(!ne){const je=Hr(x)||(()=>new x);c.push({provide:x,useFactory:je,deps:si},{provide:Ff,useValue:x,multi:!0},{provide:fh,useValue:()=>Fi(x),multi:!0})}const he=P.providers;null==he||ne||ph(he,it=>{c.push(it)})}}return x!==l&&void 0!==l.providers}function ph(l,c){for(let f of l)Q(f)&&(f=f.\u0275providers),Array.isArray(f)?ph(f,c):c(f)}const cg=ue({provide:String,useValue:ue});function Bf(l){return null!==l&&"object"==typeof l&&cg in l}function lu(l){return"function"==typeof l}const Vf=new Gr("Set Injector scope."),Hu={},dg={};let Uc;function zu(){return void 0===Uc&&(Uc=new Nf),Uc}class xl{}class Gc extends xl{get destroyed(){return this._destroyed}constructor(c,f,_,x){super(),this.parent=f,this.source=_,this.scopes=x,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,_h(c,z=>this.processProvider(z)),this.records.set(kf,xc(void 0,this)),x.has("environment")&&this.records.set(xl,xc(void 0,this));const P=this.records.get(Vf);null!=P&&"string"==typeof P.value&&this.scopes.add(P.value),this.injectorDefTypes=new Set(this.get(Ff.multi,si,Ft.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const c of this._ngOnDestroyHooks)c.ngOnDestroy();for(const c of this._onDestroyHooks)c()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(c){this._onDestroyHooks.push(c)}runInContext(c){this.assertNotDestroyed();const f=Ei(this),_=Dn(void 0);try{return c()}finally{Ei(f),Dn(_)}}get(c,f=Pt,_=Ft.Default){this.assertNotDestroyed(),_=nt(_);const x=Ei(this),P=Dn(void 0);try{if(!(_&Ft.SkipSelf)){let ne=this.records.get(c);if(void 0===ne){const he=function hg(l){return"function"==typeof l||"object"==typeof l&&l instanceof Gr}(c)&&In(c);ne=he&&this.injectableDefInScope(he)?xc(Cc(c),Hu):null,this.records.set(c,ne)}if(null!=ne)return this.hydrate(c,ne)}return(_&Ft.Self?zu():this.parent).get(c,f=_&Ft.Optional&&f===Pt?null:f)}catch(z){if("NullInjectorError"===z.name){if((z[ut]=z[ut]||[]).unshift(re(c)),x)throw z;return function on(l,c,f,_){const x=l[ut];throw c[dr]&&x.unshift(c[dr]),l.message=function Ln(l,c,f,_=null){l=l&&"\n"===l.charAt(0)&&l.charAt(1)==Fn?l.slice(2):l;let x=re(c);if(Array.isArray(c))x=c.map(re).join(" -> ");else if("object"==typeof c){let P=[];for(let z in c)if(c.hasOwnProperty(z)){let ne=c[z];P.push(z+":"+("string"==typeof ne?JSON.stringify(ne):re(ne)))}x=`{${P.join(", ")}}`}return`${f}${_?"("+_+")":""}[${x}]: ${l.replace(Kn,"\n  ")}`}("\n"+l.message,x,f,_),l[ni]=x,l[ut]=null,l}(z,c,"R3InjectorError",this.source)}throw z}finally{Dn(P),Ei(x)}}resolveInjectorInitializers(){const c=Ei(this),f=Dn(void 0);try{const _=this.get(fh.multi,si,Ft.Self);for(const x of _)x()}finally{Ei(c),Dn(f)}}toString(){const c=[],f=this.records;for(const _ of f.keys())c.push(re(_));return`R3Injector[${c.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new xe(205,!1)}processProvider(c){let f=lu(c=O(c))?c:O(c&&c.provide);const _=function zf(l){return Bf(l)?xc(void 0,l.useValue):xc(Wf(l),Hu)}(c);if(lu(c)||!0!==c.multi)this.records.get(f);else{let x=this.records.get(f);x||(x=xc(void 0,Hu,!0),x.factory=()=>He(x.multi),this.records.set(f,x)),f=c,x.multi.push(c)}this.records.set(f,_)}hydrate(c,f){return f.value===Hu&&(f.value=dg,f.value=f.factory()),"object"==typeof f.value&&f.value&&function mh(l){return null!==l&&"object"==typeof l&&"function"==typeof l.ngOnDestroy}(f.value)&&this._ngOnDestroyHooks.add(f.value),f.value}injectableDefInScope(c){if(!c.providedIn)return!1;const f=O(c.providedIn);return"string"==typeof f?"any"===f||this.scopes.has(f):this.injectorDefTypes.has(f)}}function Cc(l){const c=In(l),f=null!==c?c.factory:Hr(l);if(null!==f)return f;if(l instanceof Gr)throw new xe(204,!1);if(l instanceof Function)return function Hf(l){const c=l.length;if(c>0)throw K(c,"?"),new xe(204,!1);const f=function Lt(l){return l&&(l[_t]||l[fn])||null}(l);return null!==f?()=>f.factory(l):()=>new l}(l);throw new xe(204,!1)}function Wf(l,c,f){let _;if(lu(l)){const x=O(l);return Hr(x)||Cc(x)}if(Bf(l))_=()=>O(l.useValue);else if(function ug(l){return!(!l||!l.useFactory)}(l))_=()=>l.useFactory(...He(l.deps||[]));else if(function gh(l){return!(!l||!l.useExisting)}(l))_=()=>Fi(O(l.useExisting));else{const x=O(l&&(l.useClass||l.provide));if(!function Uf(l){return!!l.deps}(l))return Hr(x)||Cc(x);_=()=>new x(...He(l.deps))}return _}function xc(l,c,f=!1){return{factory:l,value:c,multi:f?[]:void 0}}function _h(l,c){for(const f of l)Array.isArray(f)?_h(f,c):f&&Q(f)?_h(f.\u0275providers,c):c(f)}class fg{}class Md{}class gg{resolveComponentFactory(c){throw function Gf(l){const c=Error(`No component factory found for ${re(l)}. Did you add it to @NgModule.entryComponents?`);return c.ngComponent=l,c}(c)}}let Yl=(()=>{class l{}return l.NULL=new gg,l})();function mg(){return Fl(Yo(),Sn())}function Fl(l,c){return new cc(bt(l,c))}let cc=(()=>{class l{constructor(f){this.nativeElement=f}}return l.__NG_ELEMENT_ID__=mg,l})();function Wu(l){return l instanceof cc?l.nativeElement:l}class vh{}let _g=(()=>{class l{}return l.__NG_ELEMENT_ID__=()=>function Ed(){const l=Sn(),f=mn(Yo().index,l);return(co(f)?f:l)[Ri]}(),l})(),vg=(()=>{class l{}return l.\u0275prov=jt({token:l,providedIn:"root",factory:()=>null}),l})();class Dd{constructor(c){this.full=c,this.major=c.split(".")[0],this.minor=c.split(".")[1],this.patch=c.split(".").slice(2).join(".")}}const yg=new Dd("15.2.9"),yh={},bh="ngOriginalError";function wh(l){return l[bh]}class Uu{constructor(){this._console=console}handleError(c){const f=this._findOriginalError(c);this._console.error("ERROR",c),f&&this._console.error("ORIGINAL ERROR",f)}_findOriginalError(c){let f=c&&wh(c);for(;f&&wh(f);)f=wh(f);return f||null}}function $f(l){return l.ownerDocument.defaultView}function Kl(l){return l instanceof Function?l():l}function Eg(l,c,f){let _=l.length;for(;;){const x=l.indexOf(c,f);if(-1===x)return x;if(0===x||l.charCodeAt(x-1)<=32){const P=c.length;if(x+P===_||l.charCodeAt(x+P)<=32)return x}f=x+1}}const Xf="ng-template";function Dg(l,c,f){let _=0,x=!0;for(;_<l.length;){let P=l[_++];if("string"==typeof P&&x){const z=l[_++];if(f&&"class"===P&&-1!==Eg(z.toLowerCase(),c,0))return!0}else{if(1===P){for(;_<l.length&&"string"==typeof(P=l[_++]);)if(P.toLowerCase()===c)return!0;return!1}"number"==typeof P&&(x=!1)}}return!1}function Jf(l){return 4===l.type&&l.value!==Xf}function Am(l,c,f){return c===(4!==l.type||f?l.value:Xf)}function Qf(l,c,f){let _=4;const x=l.attrs||[],P=function Pg(l){for(let c=0;c<l.length;c++)if(Si(l[c]))return c;return l.length}(x);let z=!1;for(let ne=0;ne<c.length;ne++){const he=c[ne];if("number"!=typeof he){if(!z)if(4&_){if(_=2|1&_,""!==he&&!Am(l,he,f)||""===he&&1===c.length){if(Sl(_))return!1;z=!0}}else{const je=8&_?he:c[++ne];if(8&_&&null!==l.attrs){if(!Dg(l.attrs,je,f)){if(Sl(_))return!1;z=!0}continue}const Ot=Tg(8&_?"class":he,x,Jf(l),f);if(-1===Ot){if(Sl(_))return!1;z=!0;continue}if(""!==je){let tn;tn=Ot>P?"":x[Ot+1].toLowerCase();const vn=8&_?tn:null;if(vn&&-1!==Eg(vn,je,0)||2&_&&je!==tn){if(Sl(_))return!1;z=!0}}}}else{if(!z&&!Sl(_)&&!Sl(he))return!1;if(z&&Sl(he))continue;z=!1,_=he|1&_}}return Sl(_)||z}function Sl(l){return 0==(1&l)}function Tg(l,c,f,_){if(null===c)return-1;let x=0;if(_||!f){let P=!1;for(;x<c.length;){const z=c[x];if(z===l)return x;if(3===z||6===z)P=!0;else{if(1===z||2===z){let ne=c[++x];for(;"string"==typeof ne;)ne=c[++x];continue}if(4===z)break;if(0===z){x+=4;continue}}x+=P?1:2}return-1}return function $l(l,c){let f=l.indexOf(4);if(f>-1)for(f++;f<l.length;){const _=l[f];if("number"==typeof _)return-1;if(_===c)return f;f++}return-1}(c,l)}function ul(l,c,f=!1){for(let _=0;_<c.length;_++)if(Qf(l,c[_],f))return!0;return!1}function Ig(l,c){e:for(let f=0;f<c.length;f++){const _=c[f];if(l.length===_.length){for(let x=0;x<l.length;x++)if(l[x]!==_[x])continue e;return!0}}return!1}function Zl(l,c){return l?":not("+c.trim()+")":c}function xh(l){let c=l[0],f=1,_=2,x="",P=!1;for(;f<l.length;){let z=l[f];if("string"==typeof z)if(2&_){const ne=l[++f];x+="["+z+(ne.length>0?'="'+ne+'"':"")+"]"}else 8&_?x+="."+z:4&_&&(x+=" "+z);else""!==x&&!Sl(z)&&(c+=Zl(P,x),x=""),_=z,P=P||!Sl(_);f++}return""!==x&&(c+=Zl(P,x)),c}const rr={};function Sc(l){Sh(Sr(),Sn(),Ni()+l,!1)}function Sh(l,c,f,_){if(!_)if(3==(3&c[qi])){const P=l.preOrderCheckHooks;null!==P&&Dl(c,P,f)}else{const P=l.preOrderHooks;null!==P&&qa(c,P,0,f)}Da(f)}function Ag(l,c=null,f=null,_){const x=ip(l,c,f,_);return x.resolveInjectorInitializers(),x}function ip(l,c=null,f=null,_,x=new Set){const P=[f||si,lg(l)];return _=_||("object"==typeof l?void 0:re(l)),new Gc(P,c||zu(),_||null,x)}let yo=(()=>{class l{static create(f,_){if(Array.isArray(f))return Ag({name:""},_,f,"");{const x=f.name??"";return Ag({name:x},f.parent,f.providers,x)}}}return l.THROW_IF_NOT_FOUND=Pt,l.NULL=new Nf,l.\u0275prov=jt({token:l,providedIn:"any",factory:()=>Fi(kf)}),l.__NG_ELEMENT_ID__=-1,l})();function hu(l,c=Ft.Default){const f=Sn();return null===f?Fi(l,c):ji(Yo(),f,O(l),c)}function Bg(){throw new Error("invalid")}function Vg(l,c){const f=l.contentQueries;if(null!==f)for(let _=0;_<f.length;_+=2){const P=f[_+1];if(-1!==P){const z=l.data[P];Bo(f[_]),z.contentQueries(2,c[P],P)}}}function Ku(l,c,f,_,x,P,z,ne,he,je,it){const Ot=c.blueprint.slice();return Ot[qo]=x,Ot[qi]=76|_,(null!==it||l&&1024&l[qi])&&(Ot[qi]|=1024),Jo(Ot),Ot[Br]=Ot[Ps]=l,Ot[pr]=f,Ot[wo]=z||l&&l[wo],Ot[Ri]=ne||l&&l[Ri],Ot[gs]=he||l&&l[gs]||null,Ot[no]=je||l&&l[no]||null,Ot[ur]=P,Ot[Is]=function hd(){return lf++}(),Ot[os]=it,Ot[po]=2==c.type?l[po]:Ot,Ot}function Jl(l,c,f,_,x){let P=l.data[c];if(null===P)P=function uc(l,c,f,_,x){const P=Bl(),z=w(),he=l.data[c]=function Ql(l,c,f,_,x,P){return{type:f,index:_,insertBeforeIndex:null,injectorIndex:c?c.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:x,attrs:P,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:c,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,z?P:P&&P.parent,f,c,_,x);return null===l.firstChild&&(l.firstChild=he),null!==P&&(z?null==P.child&&null!==he.parent&&(P.child=he):null===P.next&&(P.next=he,he.prev=P)),he}(l,c,f,_,x),function qn(){return ar.lFrame.inI18n}()&&(P.flags|=32);else if(64&P.type){P.type=f,P.value=_,P.attrs=x;const z=function Za(){const l=ar.lFrame,c=l.currentTNode;return l.isParent?c:c.parent}();P.injectorIndex=null===z?-1:z.injectorIndex}return I(P,!0),P}function dl(l,c,f,_){if(0===f)return-1;const x=c.length;for(let P=0;P<f;P++)c.push(_),l.blueprint.push(_),l.data.push(null);return x}function kd(l,c,f){Vo(c);try{const _=l.viewQuery;null!==_&&Bd(1,_,f);const x=l.template;null!==x&&Dc(l,c,x,1,f),l.firstCreatePass&&(l.firstCreatePass=!1),l.staticContentQueries&&Vg(l,c),l.staticViewQueries&&Bd(2,l.viewQuery,f);const P=l.components;null!==P&&function Ph(l,c){for(let f=0;f<c.length;f++)Ym(l,c[f])}(c,P)}catch(_){throw l.firstCreatePass&&(l.incompleteFirstPass=!0,l.firstCreatePass=!1),_}finally{c[qi]&=-5,Gi()}}function Ec(l,c,f,_){const x=c[qi];if(128!=(128&x)){Vo(c);try{Jo(c),function zt(l){return ar.lFrame.bindingIndex=l}(l.bindingStartIndex),null!==f&&Dc(l,c,f,2,_);const z=3==(3&x);if(z){const je=l.preOrderCheckHooks;null!==je&&Dl(c,je,null)}else{const je=l.preOrderHooks;null!==je&&qa(c,je,0,null),R(c,0)}if(function Aa(l){for(let c=pd(l);null!==c;c=Wl(c)){if(!c[Nr])continue;const f=c[vs];for(let _=0;_<f.length;_++){const x=f[_];512&x[qi]||nr(x[Br],1),x[qi]|=512}}}(c),function Gm(l){for(let c=pd(l);null!==c;c=Wl(c))for(let f=sr;f<c.length;f++){const _=c[f],x=_[ii];Rr(_)&&Ec(x,_,x.template,_[pr])}}(c),null!==l.contentQueries&&Vg(l,c),z){const je=l.contentCheckHooks;null!==je&&Dl(c,je)}else{const je=l.contentHooks;null!==je&&qa(c,je,1),R(c,1)}!function Nm(l,c){const f=l.hostBindingOpCodes;if(null!==f)try{for(let _=0;_<f.length;_++){const x=f[_];if(x<0)Da(~x);else{const P=x,z=f[++_],ne=f[++_];hi(z,P),ne(2,c[P])}}}finally{Da(-1)}}(l,c);const ne=l.components;null!==ne&&function Lm(l,c){for(let f=0;f<c.length;f++)fl(l,c[f])}(c,ne);const he=l.viewQuery;if(null!==he&&Bd(2,he,_),z){const je=l.viewCheckHooks;null!==je&&Dl(c,je)}else{const je=l.viewHooks;null!==je&&qa(c,je,2),R(c,2)}!0===l.firstUpdatePass&&(l.firstUpdatePass=!1),c[qi]&=-41,512&c[qi]&&(c[qi]&=-513,nr(c[Br],-1))}finally{Gi()}}}function Dc(l,c,f,_,x){const P=Ni(),z=2&_;try{Da(-1),z&&c.length>hr&&Sh(l,c,hr,!1),To(z?2:0,x),f(_,x)}finally{Da(P),To(z?3:1,x)}}function Ba(l,c,f){if(Fs(c)){const x=c.directiveEnd;for(let P=c.directiveStart;P<x;P++){const z=l.data[P];z.contentQueries&&z.contentQueries(1,f[P],P)}}}function El(l,c,f){Tn()&&(function Wg(l,c,f,_){const x=f.directiveStart,P=f.directiveEnd;uo(f)&&function Wm(l,c,f){const _=bt(c,l),x=Fd(f),P=l[wo],z=Zu(l,Ku(l,x,null,f.onPush?32:16,_,c,P,P.createRenderer(_,f),null,null,null));l[c.index]=z}(c,f,l.data[x+f.componentOffset]),l.firstCreatePass||Tl(f,c),oa(_,c);const z=f.initialInputs;for(let ne=x;ne<P;ne++){const he=l.data[ne],je=_l(c,l,ne,f);oa(je,c),null!==z&&hp(0,ne-x,je,he,0,z),ro(he)&&(mn(f.index,c)[pr]=_l(c,l,ne,f))}}(l,c,f,bt(f,c)),64==(64&f.flags)&&up(l,c,f))}function fu(l,c,f=bt){const _=c.localNames;if(null!==_){let x=c.index+1;for(let P=0;P<_.length;P+=2){const z=_[P+1],ne=-1===z?f(c,l):l[z];l[x++]=ne}}}function Fd(l){const c=l.tView;return null===c||c.incompleteFirstPass?l.tView=Nd(1,null,l.template,l.decls,l.vars,l.directiveDefs,l.pipeDefs,l.viewQuery,l.schemas,l.consts):c}function Nd(l,c,f,_,x,P,z,ne,he,je){const it=hr+_,Ot=it+x,tn=function ap(l,c){const f=[];for(let _=0;_<c;_++)f.push(_<l?null:rr);return f}(it,Ot),vn="function"==typeof je?je():je;return tn[ii]={type:l,blueprint:tn,template:f,queries:null,viewQuery:ne,declTNode:c,data:tn.slice().fill(null,it),bindingStartIndex:it,expandoStartIndex:Ot,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof P?P():P,pipeRegistry:"function"==typeof z?z():z,firstChild:null,schemas:he,consts:vn,incompleteFirstPass:!1}}function Ih(l,c,f,_){const x=pp(c);null===f?x.push(_):(x.push(f),l.firstCreatePass&&gp(l).push(_,x.length-1))}function qr(l,c,f,_){for(let x in l)if(l.hasOwnProperty(x)){f=null===f?{}:f;const P=l[x];null===_?Ah(f,c,x,P):_.hasOwnProperty(x)&&Ah(f,c,_[x],P)}return f}function Ah(l,c,f,_){l.hasOwnProperty(f)?l[f].push(c,_):l[f]=[c,_]}function el(l,c,f,_,x,P,z,ne){const he=bt(c,f);let it,je=c.inputs;!ne&&null!=je&&(it=je[_])?(Nh(l,f,it,_,x),uo(c)&&function $o(l,c){const f=mn(c,l);16&f[qi]||(f[qi]|=32)}(f,c.index)):3&c.type&&(_=function Rh(l){return"class"===l?"className":"for"===l?"htmlFor":"formaction"===l?"formAction":"innerHtml"===l?"innerHTML":"readonly"===l?"readOnly":"tabindex"===l?"tabIndex":l}(_),x=null!=z?z(x,c.value||"",_):x,P.setProperty(he,_,x))}function $u(l,c,f,_){if(Tn()){const x=null===_?null:{"":-1},P=function Gg(l,c){const f=l.directiveRegistry;let _=null,x=null;if(f)for(let P=0;P<f.length;P++){const z=f[P];if(ul(c,z.selectors,!1))if(_||(_=[]),ro(z))if(null!==z.findHostDirectiveDefs){const ne=[];x=x||new Map,z.findHostDirectiveDefs(z,ne,x),_.unshift(...ne,z),Oh(l,c,ne.length)}else _.unshift(z),Oh(l,c,0);else x=x||new Map,z.findHostDirectiveDefs?.(z,_,x),_.push(z)}return null===_?null:[_,x]}(l,f);let z,ne;null===P?z=ne=null:[z,ne]=P,null!==z&&lp(l,c,f,z,x,ne),x&&function Bm(l,c,f){if(c){const _=l.localNames=[];for(let x=0;x<c.length;x+=2){const P=f[c[x+1]];if(null==P)throw new xe(-301,!1);_.push(c[x],P)}}}(f,_,x)}f.mergedAttrs=Dr(f.mergedAttrs,f.attrs)}function lp(l,c,f,_,x,P){for(let je=0;je<_.length;je++)ci(Tl(f,c),l,_[je].type);!function Hm(l,c,f){l.flags|=1,l.directiveStart=c,l.directiveEnd=c+f,l.providerIndexes=c}(f,l.data.length,_.length);for(let je=0;je<_.length;je++){const it=_[je];it.providersResolver&&it.providersResolver(it)}let z=!1,ne=!1,he=dl(l,c,_.length,null);for(let je=0;je<_.length;je++){const it=_[je];f.mergedAttrs=Dr(f.mergedAttrs,it.hostAttrs),zm(l,f,c,he,it),Vm(he,it,x),null!==it.contentQueries&&(f.flags|=4),(null!==it.hostBindings||null!==it.hostAttrs||0!==it.hostVars)&&(f.flags|=64);const Ot=it.type.prototype;!z&&(Ot.ngOnChanges||Ot.ngOnInit||Ot.ngDoCheck)&&((l.preOrderHooks??(l.preOrderHooks=[])).push(f.index),z=!0),!ne&&(Ot.ngOnChanges||Ot.ngDoCheck)&&((l.preOrderCheckHooks??(l.preOrderCheckHooks=[])).push(f.index),ne=!0),he++}!function hl(l,c,f){const x=c.directiveEnd,P=l.data,z=c.attrs,ne=[];let he=null,je=null;for(let it=c.directiveStart;it<x;it++){const Ot=P[it],tn=f?f.get(Ot):null,Bn=tn?tn.outputs:null;he=qr(Ot.inputs,it,he,tn?tn.inputs:null),je=qr(Ot.outputs,it,je,Bn);const mi=null===he||null===z||Jf(c)?null:Um(he,it,z);ne.push(mi)}null!==he&&(he.hasOwnProperty("class")&&(c.flags|=8),he.hasOwnProperty("style")&&(c.flags|=16)),c.initialInputs=ne,c.inputs=he,c.outputs=je}(l,f,P)}function up(l,c,f){const _=f.directiveStart,x=f.directiveEnd,P=f.index,z=function Un(){return ar.lFrame.currentDirectiveIndex}();try{Da(P);for(let ne=_;ne<x;ne++){const he=l.data[ne],je=c[ne];br(ne),(null!==he.hostBindings||0!==he.hostVars||null!==he.hostAttrs)&&Ug(he,je)}}finally{Da(-1),br(z)}}function Ug(l,c){null!==l.hostBindings&&l.hostBindings(1,c)}function Oh(l,c,f){c.componentOffset=f,(l.components??(l.components=[])).push(c.index)}function Vm(l,c,f){if(f){if(c.exportAs)for(let _=0;_<c.exportAs.length;_++)f[c.exportAs[_]]=l;ro(c)&&(f[""]=l)}}function zm(l,c,f,_,x){l.data[_]=x;const P=x.factory||(x.factory=Hr(x.type)),z=new ie(P,ro(x),hu);l.blueprint[_]=z,f[_]=z,function zg(l,c,f,_,x){const P=x.hostBindings;if(P){let z=l.hostBindingOpCodes;null===z&&(z=l.hostBindingOpCodes=[]);const ne=~c.index;(function cp(l){let c=l.length;for(;c>0;){const f=l[--c];if("number"==typeof f&&f<0)return f}return 0})(z)!=ne&&z.push(ne),z.push(f,_,P)}}(l,c,_,dl(l,f,x.hostVars,rr),x)}function Nl(l,c,f,_,x,P){const z=bt(l,c);!function dp(l,c,f,_,x,P,z){if(null==P)l.removeAttribute(c,x,f);else{const ne=null==z?ke(P):z(P,_||"",x);l.setAttribute(c,x,ne,f)}}(c[Ri],z,P,l.value,f,_,x)}function hp(l,c,f,_,x,P){const z=P[c];if(null!==z){const ne=_.setInput;for(let he=0;he<z.length;){const je=z[he++],it=z[he++],Ot=z[he++];null!==ne?_.setInput(f,Ot,je,it):f[it]=Ot}}}function Um(l,c,f){let _=null,x=0;for(;x<f.length;){const P=f[x];if(0!==P)if(5!==P){if("number"==typeof P)break;if(l.hasOwnProperty(P)){null===_&&(_=[]);const z=l[P];for(let ne=0;ne<z.length;ne+=2)if(z[ne]===c){_.push(P,z[ne+1],f[x+1]);break}}x+=2}else x+=2;else x+=4}return _}function Yg(l,c,f,_){return[l,!0,!1,c,null,0,_,f,null,null]}function fl(l,c){const f=mn(c,l);if(Rr(f)){const _=f[ii];48&f[qi]?Ec(_,f,_.template,f[pr]):f[_o]>0&&fp(f)}}function fp(l){for(let _=pd(l);null!==_;_=Wl(_))for(let x=sr;x<_.length;x++){const P=_[x];if(Rr(P))if(512&P[qi]){const z=P[ii];Ec(z,P,z.template,P[pr])}else P[_o]>0&&fp(P)}const f=l[ii].components;if(null!==f)for(let _=0;_<f.length;_++){const x=mn(f[_],l);Rr(x)&&x[_o]>0&&fp(x)}}function Ym(l,c){const f=mn(c,l),_=f[ii];(function Km(l,c){for(let f=c.length;f<l.blueprint.length;f++)c.push(l.blueprint[f])})(_,f),kd(_,f,f[pr])}function Zu(l,c){return l[io]?l[Co][Eo]=c:l[io]=c,l[Co]=c,c}function Ld(l){for(;l;){l[qi]|=32;const c=Rl(l);if(Ar(l)&&!c)return l;l=c}return null}function jd(l,c,f,_=!0){const x=c[wo];x.begin&&x.begin();try{Ec(l,c,l.template,f)}catch(z){throw _&&Fh(c,z),z}finally{x.end&&x.end()}}function Bd(l,c,f){Bo(0),c(l,f)}function pp(l){return l[No]||(l[No]=[])}function gp(l){return l.cleanup||(l.cleanup=[])}function Fh(l,c){const f=l[no],_=f?f.get(Uu,null):null;_&&_.handleError(c)}function Nh(l,c,f,_,x){for(let P=0;P<f.length;){const z=f[P++],ne=f[P++],he=c[z],je=l.data[z];null!==je.setInput?je.setInput(he,x,_,ne):he[ne]=x}}function dc(l,c,f){const _=Fe(c,l);!function hf(l,c,f){l.setValue(c,f)}(l[Ri],_,f)}function qu(l,c,f){let _=f?l.styles:null,x=f?l.classes:null,P=0;if(null!==c)for(let z=0;z<c.length;z++){const ne=c[z];"number"==typeof ne?P=ne:1==P?x=le(x,ne):2==P&&(_=le(_,ne+": "+c[++z]+";"))}f?l.styles=_:l.stylesWithoutHost=_,f?l.classes=x:l.classesWithoutHost=x}function hc(l,c,f,_,x=!1){for(;null!==f;){const P=c[f.index];if(null!==P&&_.push(Pr(P)),go(P))for(let ne=sr;ne<P.length;ne++){const he=P[ne],je=he[ii].firstChild;null!==je&&hc(he[ii],he,je,_)}const z=f.type;if(8&z)hc(l,c,f.child,_);else if(32&z){const ne=tu(f,c);let he;for(;he=ne();)_.push(he)}else if(16&z){const ne=eh(c,f);if(Array.isArray(ne))_.push(...ne);else{const he=Rl(c[po]);hc(he[ii],he,ne,_,!0)}}f=x?f.projectionNext:f.next}return _}class ec{get rootNodes(){const c=this._lView,f=c[ii];return hc(f,c,f.firstChild,[])}constructor(c,f){this._lView=c,this._cdRefInjectingView=f,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[pr]}set context(c){this._lView[pr]=c}get destroyed(){return 128==(128&this._lView[qi])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const c=this._lView[Br];if(go(c)){const f=c[As],_=f?f.indexOf(this):-1;_>-1&&(mf(c,_),Hl(f,_))}this._attachedToViewContainer=!1}Kp(this._lView[ii],this._lView)}onDestroy(c){Ih(this._lView[ii],this._lView,null,c)}markForCheck(){Ld(this._cdRefInjectingView||this._lView)}detach(){this._lView[qi]&=-65}reattach(){this._lView[qi]|=64}detectChanges(){jd(this._lView[ii],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new xe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Cm(l,c){bl(l,c,c[Ri],2,null,null)}(this._lView[ii],this._lView)}attachToAppRef(c){if(this._attachedToViewContainer)throw new xe(902,!1);this._appRef=c}}class Kg extends ec{constructor(c){super(c),this._view=c}detectChanges(){const c=this._view;jd(c[ii],c,c[pr],!1)}checkNoChanges(){}get context(){return null}}class $g extends Yl{constructor(c){super(),this.ngModule=c}resolveComponentFactory(c){const f=Ii(c);return new pu(f,this.ngModule)}}function Lh(l){const c=[];for(let f in l)l.hasOwnProperty(f)&&c.push({propName:l[f],templateName:f});return c}class qg{constructor(c,f){this.injector=c,this.parentInjector=f}get(c,f,_){_=nt(_);const x=this.injector.get(c,yh,_);return x!==yh||f===yh?x:this.parentInjector.get(c,f,_)}}class pu extends Md{get inputs(){return Lh(this.componentDef.inputs)}get outputs(){return Lh(this.componentDef.outputs)}constructor(c,f){super(),this.componentDef=c,this.ngModule=f,this.componentType=c.type,this.selector=function Td(l){return l.map(xh).join(",")}(c.selectors),this.ngContentSelectors=c.ngContentSelectors?c.ngContentSelectors:[],this.isBoundToModule=!!f}create(c,f,_,x){let P=(x=x||this.ngModule)instanceof xl?x:x?.injector;P&&null!==this.componentDef.getStandaloneInjector&&(P=this.componentDef.getStandaloneInjector(P)||P);const z=P?new qg(c,P):c,ne=z.get(vh,null);if(null===ne)throw new xe(407,!1);const he=z.get(vg,null),je=ne.createRenderer(null,this.componentDef),it=this.componentDef.selectors[0][0]||"div",Ot=_?function Hg(l,c,f){return l.selectRootElement(c,f===bi.ShadowDom)}(je,_,this.componentDef.encapsulation):Xd(je,it,function Zg(l){const c=l.toLowerCase();return"svg"===c?Ss:"math"===c?"math":null}(it)),tn=this.componentDef.onPush?288:272,vn=Nd(0,null,null,1,0,null,null,null,null,null),Bn=Ku(null,vn,null,tn,null,null,ne,je,he,z,null);let mi,zi;Vo(Bn);try{const or=this.componentDef;let kr,ri=null;or.findHostDirectiveDefs?(kr=[],ri=new Map,or.findHostDirectiveDefs(or,kr,ri),kr.push(or)):kr=[or];const to=function _p(l,c){const f=l[ii],_=hr;return l[_]=c,Jl(f,_,2,"#host",null)}(Bn,Ot),ga=function Jg(l,c,f,_,x,P,z,ne){const he=x[ii];!function vp(l,c,f,_){for(const x of l)c.mergedAttrs=Dr(c.mergedAttrs,x.hostAttrs);null!==c.mergedAttrs&&(qu(c,c.mergedAttrs,!0),null!==f&&Ol(_,f,c))}(_,l,c,z);const je=P.createRenderer(c,f),it=Ku(x,Fd(f),null,f.onPush?32:16,x[l.index],l,P,je,ne||null,null,null);return he.firstCreatePass&&Oh(he,l,_.length-1),Zu(x,it),x[l.index]=it}(to,Ot,or,kr,Bn,ne,je);zi=Ct(vn,hr),Ot&&function Qg(l,c,f,_){if(_)yi(l,f,["ng-version",yg.full]);else{const{attrs:x,classes:P}=function ep(l){const c=[],f=[];let _=1,x=2;for(;_<l.length;){let P=l[_];if("string"==typeof P)2===x?""!==P&&c.push(P,l[++_]):8===x&&f.push(P);else{if(!Sl(x))break;x=P}_++}return{attrs:c,classes:f}}(c.selectors[0]);x&&yi(l,f,x),P&&P.length>0&&yd(l,f,P.join(" "))}}(je,or,Ot,_),void 0!==f&&function yp(l,c,f){const _=l.projection=[];for(let x=0;x<c.length;x++){const P=f[x];_.push(null!=P?Array.from(P):null)}}(zi,this.ngContentSelectors,f),mi=function jh(l,c,f,_,x,P){const z=Yo(),ne=x[ii],he=bt(z,x);lp(ne,x,z,f,null,_);for(let it=0;it<f.length;it++)oa(_l(x,ne,z.directiveStart+it,z),x);up(ne,x,z),he&&oa(he,x);const je=_l(x,ne,z.directiveStart+z.componentOffset,z);if(l[pr]=x[pr]=je,null!==P)for(const it of P)it(je,c);return Ba(ne,z,l),je}(ga,or,kr,ri,Bn,[bp]),kd(vn,Bn,null)}finally{Gi()}return new mp(this.componentType,mi,Fl(zi,Bn),Bn,zi)}}class mp extends fg{constructor(c,f,_,x,P){super(),this.location=_,this._rootLView=x,this._tNode=P,this.instance=f,this.hostView=this.changeDetectorRef=new Kg(x),this.componentType=c}setInput(c,f){const _=this._tNode.inputs;let x;if(null!==_&&(x=_[c])){const P=this._rootLView;Nh(P[ii],P,x,c,f),Ld(mn(this._tNode.index,P))}}get injector(){return new aa(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(c){this.hostView.onDestroy(c)}}function bp(){const l=Yo();eo(Sn()[ii],l)}function Cp(l){let c=function wp(l){return Object.getPrototypeOf(l.prototype).constructor}(l.type),f=!0;const _=[l];for(;c;){let x;if(ro(l))x=c.\u0275cmp||c.\u0275dir;else{if(c.\u0275cmp)throw new xe(903,!1);x=c.\u0275dir}if(x){if(f){_.push(x);const z=l;z.inputs=xp(l.inputs),z.declaredInputs=xp(l.declaredInputs),z.outputs=xp(l.outputs);const ne=x.hostBindings;ne&&Jm(l,ne);const he=x.viewQuery,je=x.contentQueries;if(he&&qm(l,he),je&&Xm(l,je),ve(l.inputs,x.inputs),ve(l.declaredInputs,x.declaredInputs),ve(l.outputs,x.outputs),ro(x)&&x.data.animation){const it=l.data;it.animation=(it.animation||[]).concat(x.data.animation)}}const P=x.features;if(P)for(let z=0;z<P.length;z++){const ne=P[z];ne&&ne.ngInherit&&ne(l),ne===Cp&&(f=!1)}}c=Object.getPrototypeOf(c)}!function Zm(l){let c=0,f=null;for(let _=l.length-1;_>=0;_--){const x=l[_];x.hostVars=c+=x.hostVars,x.hostAttrs=Dr(x.hostAttrs,f=Dr(f,x.hostAttrs))}}(_)}function xp(l){return l===ei?{}:l===si?[]:l}function qm(l,c){const f=l.viewQuery;l.viewQuery=f?(_,x)=>{c(_,x),f(_,x)}:c}function Xm(l,c){const f=l.contentQueries;l.contentQueries=f?(_,x,P)=>{c(_,x,P),f(_,x,P)}:c}function Jm(l,c){const f=l.hostBindings;l.hostBindings=f?(_,x)=>{c(_,x),f(_,x)}:c}function Kc(l){return!!Mp(l)&&(Array.isArray(l)||!(l instanceof Map)&&Symbol.iterator in l)}function Mp(l){return null!==l&&("function"==typeof l||"object"==typeof l)}function fc(l,c,f){return l[c]=f}function Va(l,c,f){return!Object.is(l[c],f)&&(l[c]=f,!0)}function mu(l,c,f,_){const x=Va(l,c,f);return Va(l,c+1,_)||x}function _u(l,c,f,_){const x=Sn();return Va(x,an(),c)&&(Sr(),Nl(xo(),x,l,c,f,_)),_u}function yu(l,c,f,_){return Va(l,an(),f)?c+ke(f)+_:rr}function Ju(l,c,f,_,x,P,z,ne){const je=function Xu(l,c,f,_,x){const P=mu(l,c,f,_);return Va(l,c+2,x)||P}(l,vt(),f,x,z);return Mn(3),je?c+ke(f)+_+ke(x)+P+ke(z)+ne:rr}function am(l,c,f,_,x,P,z,ne){const he=Sn(),je=Sr(),it=l+hr,Ot=je.firstCreatePass?function o_(l,c,f,_,x,P,z,ne,he){const je=c.consts,it=Jl(c,l,4,z||null,Qr(je,ne));$u(c,f,it,Qr(je,he)),eo(c,it);const Ot=it.tView=Nd(2,it,_,x,P,c.directiveRegistry,c.pipeRegistry,null,c.schemas,je);return null!==c.queries&&(c.queries.template(c,it),Ot.queries=c.queries.embeddedTView(it)),it}(it,je,he,c,f,_,x,P,z):je.data[it];I(Ot,!1);const tn=he[Ri].createComment("");Ou(je,he,tn,Ot),oa(tn,he),Zu(he,he[it]=Yg(tn,he,tn,Ot)),Di(Ot)&&El(je,he,Ot),null!=z&&fu(he,Ot,ne)}function lm(l){return kt(function te(){return ar.lFrame.contextLView}(),hr+l)}function Dp(l,c,f){const _=Sn();return Va(_,an(),c)&&el(Sr(),xo(),_,l,c,_[Ri],f,!1),Dp}function Tp(l,c,f,_,x){const z=x?"class":"style";Nh(l,f,c.inputs[z],z,_)}function Gh(l,c,f,_){const x=Sn(),P=Sr(),z=hr+l,ne=x[Ri],he=P.firstCreatePass?function a_(l,c,f,_,x,P){const z=c.consts,he=Jl(c,l,2,_,Qr(z,x));return $u(c,f,he,Qr(z,P)),null!==he.attrs&&qu(he,he.attrs,!1),null!==he.mergedAttrs&&qu(he,he.mergedAttrs,!0),null!==c.queries&&c.queries.elementStart(c,he),he}(z,P,x,c,f,_):P.data[z],je=x[z]=Xd(ne,c,function Wa(){return ar.lFrame.currentNamespace}()),it=Di(he);return I(he,!0),Ol(ne,je,he),32!=(32&he.flags)&&Ou(P,x,je,he),0===function ye(){return ar.lFrame.elementDepthCount}()&&oa(je,x),function fe(){ar.lFrame.elementDepthCount++}(),it&&(El(P,x,he),Ba(P,he,x)),null!==_&&fu(x,he),Gh}function Yh(){let l=Yo();w()?A():(l=l.parent,I(l,!1));const c=l;!function at(){ar.lFrame.elementDepthCount--}();const f=Sr();return f.firstCreatePass&&(eo(f,l),Fs(l)&&f.queries.elementEnd(l)),null!=c.classesWithoutHost&&function Cn(l){return 0!=(8&l.flags)}(c)&&Tp(f,c,Sn(),c.classesWithoutHost,!0),null!=c.stylesWithoutHost&&function Gn(l){return 0!=(16&l.flags)}(c)&&Tp(f,c,Sn(),c.stylesWithoutHost,!1),Yh}function Pp(l,c,f,_){return Gh(l,c,f,_),Yh(),Pp}function Kh(l,c,f){const _=Sn(),x=Sr(),P=l+hr,z=x.firstCreatePass?function l_(l,c,f,_,x){const P=c.consts,z=Qr(P,_),ne=Jl(c,l,8,"ng-container",z);return null!==z&&qu(ne,z,!0),$u(c,f,ne,Qr(P,x)),null!==c.queries&&c.queries.elementStart(c,ne),ne}(P,x,_,c,f):x.data[P];I(z,!0);const ne=_[P]=_[Ri].createComment("");return Ou(x,_,ne,z),oa(ne,_),Di(z)&&(El(x,_,z),Ba(x,z,_)),null!=f&&fu(_,z),Kh}function $h(){let l=Yo();const c=Sr();return w()?A():(l=l.parent,I(l,!1)),c.firstCreatePass&&(eo(c,l),Fs(l)&&c.queries.elementEnd(l)),$h}function Ip(l,c,f){return Kh(l,c,f),$h(),Ip}function cm(){return Sn()}function Ap(l){return!!l&&"function"==typeof l.then}function um(l){return!!l&&"function"==typeof l.subscribe}const dm=um;function Rp(l,c,f,_){const x=Sn(),P=Sr(),z=Yo();return function B(l,c,f,_,x,P,z){const ne=Di(_),je=l.firstCreatePass&&gp(l),it=c[pr],Ot=pp(c);let tn=!0;if(3&_.type||z){const mi=bt(_,c),zi=z?z(mi):mi,or=Ot.length,kr=z?to=>z(Pr(to[_.index])):_.index;let ri=null;if(!z&&ne&&(ri=function E(l,c,f,_){const x=l.cleanup;if(null!=x)for(let P=0;P<x.length-1;P+=2){const z=x[P];if(z===f&&x[P+1]===_){const ne=c[No],he=x[P+2];return ne.length>he?ne[he]:null}"string"==typeof z&&(P+=2)}return null}(l,c,x,_.index)),null!==ri)(ri.__ngLastListenerFn__||ri).__ngNextListenerFn__=P,ri.__ngLastListenerFn__=P,tn=!1;else{P=Ye(_,c,it,P,!1);const to=f.listen(zi,x,P);Ot.push(P,to),je&&je.push(x,kr,or,or+1)}}else P=Ye(_,c,it,P,!1);const vn=_.outputs;let Bn;if(tn&&null!==vn&&(Bn=vn[x])){const mi=Bn.length;if(mi)for(let zi=0;zi<mi;zi+=2){const ga=c[Bn[zi]][Bn[zi+1]].subscribe(P),Ra=Ot.length;Ot.push(P,ga),je&&je.push(x,_.index,Ra,-(Ra+1))}}}(P,x,x[Ri],z,l,c,_),Rp}function ge(l,c,f,_){try{return To(6,c,f),!1!==f(_)}catch(x){return Fh(l,x),!1}finally{To(7,c,f)}}function Ye(l,c,f,_,x){return function P(z){if(z===Function)return _;Ld(l.componentOffset>-1?mn(l.index,c):c);let he=ge(c,f,_,z),je=P.__ngNextListenerFn__;for(;je;)he=ge(c,f,je,z)&&he,je=je.__ngNextListenerFn__;return x&&!1===he&&(z.preventDefault(),z.returnValue=!1),he}}function wt(l=1){return function gr(l){return(ar.lFrame.contextLView=function Oi(l,c){for(;l>0;)c=c[Ps],l--;return c}(l,ar.lFrame.contextLView))[pr]}(l)}function Bt(l,c){let f=null;const _=function uu(l){const c=l.attrs;if(null!=c){const f=c.indexOf(5);if(!(1&f))return c[f+1]}return null}(l);for(let x=0;x<c.length;x++){const P=c[x];if("*"!==P){if(null===_?ul(l,P,!0):Ig(_,P))return x}else f=x}return f}function Xt(l){const c=Sn()[po][ur];if(!c.projection){const _=c.projection=K(l?l.length:1,null),x=_.slice();let P=c.child;for(;null!==P;){const z=l?Bt(P,l):0;null!==z&&(x[z]?x[z].projectionNext=P:_[z]=P,x[z]=P),P=P.next}}}function dn(l,c=0,f){const _=Sn(),x=Sr(),P=Jl(x,hr+l,16,null,f||null);null===P.projection&&(P.projection=c),A(),32!=(32&P.flags)&&function vf(l,c,f){nh(c[Ri],0,c,f,ki(l,f,c),Qd(f.parent||c[ur],f,c))}(x,_,P)}function zn(l,c,f){return Yn(l,"",c,"",f),zn}function Yn(l,c,f,_,x){const P=Sn(),z=yu(P,c,f,_);return z!==rr&&el(Sr(),xo(),P,l,z,P[Ri],x,!1),Yn}function ti(l,c,f,_,x,P,z){const ne=Sn(),he=function bu(l,c,f,_,x,P){const ne=mu(l,vt(),f,x);return Mn(2),ne?c+ke(f)+_+ke(x)+P:rr}(ne,c,f,_,x,P);return he!==rr&&el(Sr(),xo(),ne,l,he,ne[Ri],z,!1),ti}function Ha(l,c){return l<<17|c<<2}function qs(l){return l>>17&32767}function t(l){return 2|l}function e(l){return(131068&l)>>2}function n(l,c){return-131069&l|c<<2}function r(l){return 1|l}function v(l,c,f,_,x){const P=l[f+1],z=null===c;let ne=_?qs(P):e(P),he=!1;for(;0!==ne&&(!1===he||z);){const it=l[ne+1];M(l[ne],c)&&(he=!0,l[ne+1]=_?r(it):t(it)),ne=_?qs(it):e(it)}he&&(l[f+1]=_?t(P):r(P))}function M(l,c){return null===l||null==c||(Array.isArray(l)?l[1]:l)===c||!(!Array.isArray(l)||"string"!=typeof c)&&Qt(l,c)>=0}const T={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function k(l){return l.substring(T.key,T.keyEnd)}function ce(l,c){const f=T.textEnd;return f===c?-1:(c=T.keyEnd=function st(l,c,f){for(;c<f&&l.charCodeAt(c)>32;)c++;return c}(l,T.key=c,f),ze(l,c,f))}function ze(l,c,f){for(;c<f&&l.charCodeAt(c)<=32;)c++;return c}function en(l,c,f){return Wn(l,c,f,!1),en}function Rt(l,c){return Wn(l,c,null,!0),Rt}function jn(l){wn(Tr,_n,l,!0)}function _n(l,c){for(let f=function Y(l){return function Me(l){T.key=0,T.keyEnd=0,T.value=0,T.valueEnd=0,T.textEnd=l.length}(l),ce(l,ze(l,0,T.textEnd))}(c);f>=0;f=ce(c,f))$e(l,k(c),!0)}function Wn(l,c,f,_){const x=Sn(),P=Sr(),z=Mn(2);P.firstUpdatePass&&di(P,l,z,_),c!==rr&&Va(x,z,c)&&cs(P,P.data[Ni()],x,x[Ri],l,x[z+1]=function mr(l,c){return null==l||""===l||("string"==typeof c?l+=c:"object"==typeof l&&(l=re(da(l)))),l}(c,f),_,z)}function wn(l,c,f,_){const x=Sr(),P=Mn(2);x.firstUpdatePass&&di(x,null,P,_);const z=Sn();if(f!==rr&&Va(z,P,f)){const ne=x.data[Ni()];if(Zo(ne,_)&&!oi(x,P)){let he=_?ne.classesWithoutHost:ne.stylesWithoutHost;null!==he&&(f=le(he,f||"")),Tp(x,ne,z,f,_)}else!function Io(l,c,f,_,x,P,z,ne){x===rr&&(x=si);let he=0,je=0,it=0<x.length?x[0]:null,Ot=0<P.length?P[0]:null;for(;null!==it||null!==Ot;){const tn=he<x.length?x[he+1]:void 0,vn=je<P.length?P[je+1]:void 0;let mi,Bn=null;it===Ot?(he+=2,je+=2,tn!==vn&&(Bn=Ot,mi=vn)):null===Ot||null!==it&&it<Ot?(he+=2,Bn=it):(je+=2,Bn=Ot,mi=vn),null!==Bn&&cs(l,c,f,_,Bn,mi,z,ne),it=he<x.length?x[he]:null,Ot=je<P.length?P[je]:null}}(x,ne,z,z[Ri],z[P+1],z[P+1]=function Ki(l,c,f){if(null==f||""===f)return si;const _=[],x=da(f);if(Array.isArray(x))for(let P=0;P<x.length;P++)l(_,x[P],!0);else if("object"==typeof x)for(const P in x)x.hasOwnProperty(P)&&l(_,P,x[P]);else"string"==typeof x&&c(_,x);return _}(l,c,f),_,P)}}function oi(l,c){return c>=l.expandoStartIndex}function di(l,c,f,_){const x=l.data;if(null===x[f+1]){const P=x[Ni()],z=oi(l,f);Zo(P,_)&&null===c&&!z&&(c=!1),c=function ui(l,c,f,_){const x=function jo(l){const c=ar.lFrame.currentDirectiveIndex;return-1===c?null:l[c]}(l);let P=_?c.residualClasses:c.residualStyles;if(null===x)0===(_?c.classBindings:c.styleBindings)&&(f=$n(f=li(null,l,c,f,_),c.attrs,_),P=null);else{const z=c.directiveStylingLast;if(-1===z||l[z]!==x)if(f=li(x,l,c,f,_),null===P){let he=function Rn(l,c,f){const _=f?c.classBindings:c.styleBindings;if(0!==e(_))return l[qs(_)]}(l,c,_);void 0!==he&&Array.isArray(he)&&(he=li(null,l,c,he[1],_),he=$n(he,c.attrs,_),function gi(l,c,f,_){l[qs(f?c.classBindings:c.styleBindings)]=_}(l,c,_,he))}else P=function Mi(l,c,f){let _;const x=c.directiveEnd;for(let P=1+c.directiveStylingLast;P<x;P++)_=$n(_,l[P].hostAttrs,f);return $n(_,c.attrs,f)}(l,c,_)}return void 0!==P&&(_?c.residualClasses=P:c.residualStyles=P),f}(x,P,c,_),function d(l,c,f,_,x,P){let z=P?c.classBindings:c.styleBindings,ne=qs(z),he=e(z);l[_]=f;let it,je=!1;if(Array.isArray(f)?(it=f[1],(null===it||Qt(f,it)>0)&&(je=!0)):it=f,x)if(0!==he){const tn=qs(l[ne+1]);l[_+1]=Ha(tn,ne),0!==tn&&(l[tn+1]=n(l[tn+1],_)),l[ne+1]=function s(l,c){return 131071&l|c<<17}(l[ne+1],_)}else l[_+1]=Ha(ne,0),0!==ne&&(l[ne+1]=n(l[ne+1],_)),ne=_;else l[_+1]=Ha(he,0),0===ne?ne=_:l[he+1]=n(l[he+1],_),he=_;je&&(l[_+1]=t(l[_+1])),v(l,it,_,!0),v(l,it,_,!1),function p(l,c,f,_,x){const P=x?l.residualClasses:l.residualStyles;null!=P&&"string"==typeof c&&Qt(P,c)>=0&&(f[_+1]=r(f[_+1]))}(c,it,l,_,P),z=Ha(ne,he),P?c.classBindings=z:c.styleBindings=z}(x,P,c,f,z,_)}}function li(l,c,f,_,x){let P=null;const z=f.directiveEnd;let ne=f.directiveStylingLast;for(-1===ne?ne=f.directiveStart:ne++;ne<z&&(P=c[ne],_=$n(_,P.hostAttrs,x),P!==l);)ne++;return null!==l&&(f.directiveStylingLast=ne),_}function $n(l,c,f){const _=f?1:2;let x=-1;if(null!==c)for(let P=0;P<c.length;P++){const z=c[P];"number"==typeof z?x=z:x===_&&(Array.isArray(l)||(l=void 0===l?[]:["",l]),$e(l,z,!!f||c[++P]))}return void 0===l?null:l}function Tr(l,c,f){const _=String(c);""!==_&&!_.includes(" ")&&$e(l,_,f)}function cs(l,c,f,_,x,P,z,ne){if(!(3&c.type))return;const he=l.data,je=he[ne+1],it=function i(l){return 1==(1&l)}(je)?Li(he,c,f,x,e(je),z):void 0;us(it)||(us(P)||function pl(l){return 2==(2&l)}(je)&&(P=Li(he,null,f,x,ne,z)),function yf(l,c,f,_,x){if(c)x?l.addClass(f,_):l.removeClass(f,_);else{let P=-1===_.indexOf("-")?void 0:fi.DashCase;null==x?l.removeStyle(f,_,P):("string"==typeof x&&x.endsWith("!important")&&(x=x.slice(0,-10),P|=fi.Important),l.setStyle(f,_,x,P))}}(_,z,Fe(Ni(),f),x,P))}function Li(l,c,f,_,x,P){const z=null===c;let ne;for(;x>0;){const he=l[x],je=Array.isArray(he),it=je?he[1]:he,Ot=null===it;let tn=f[x+1];tn===rr&&(tn=Ot?si:void 0);let vn=Ot?ct(tn,_):it===_?tn:void 0;if(je&&!us(vn)&&(vn=ct(he,_)),us(vn)&&(ne=vn,z))return ne;const Bn=l[x+1];x=z?qs(Bn):e(Bn)}if(null!==c){let he=P?c.residualClasses:c.residualStyles;null!=he&&(ne=ct(he,_))}return ne}function us(l){return void 0!==l}function Zo(l,c){return 0!=(l.flags&(c?8:16))}function Ll(l,c=""){const f=Sn(),_=Sr(),x=l+hr,P=_.firstCreatePass?Jl(_,x,1,c,null):_.data[x],z=f[x]=function nu(l,c){return l.createText(c)}(f[Ri],c);Ou(_,f,z,P),I(P,!1)}function fs(l){return Ro("",l,""),fs}function Ro(l,c,f){const _=Sn(),x=yu(_,l,c,f);return x!==rr&&dc(_,Ni(),x),Ro}function Cs(l,c,f,_,x,P,z){const ne=Sn(),he=Ju(ne,l,c,f,_,x,P,z);return he!==rr&&dc(ne,Ni(),he),Cs}function qc(l,c,f){wn($e,_n,yu(Sn(),l,c,f),!0)}function O_(l,c,f){const _=Sn();return Va(_,an(),c)&&el(Sr(),xo(),_,l,c,_[Ri],f,!0),O_}const qh=void 0;var Iy=["en",[["a","p"],["AM","PM"],qh],[["AM","PM"],qh,qh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],qh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],qh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",qh,"{1} 'at' {0}",qh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Py(l){const f=Math.floor(Math.abs(l)),_=l.toString().replace(/^[^.]*\.?/,"").length;return 1===f&&0===_?1:5}];let Lp={};function Ay(l,c,f){"string"!=typeof c&&(f=c,c=l[Ir.LocaleId]),c=c.toLowerCase().replace(/_/g,"-"),Lp[c]=l,f&&(Lp[c][Ir.ExtraData]=f)}function k_(l){const c=function Ry(l){return l.toLowerCase().replace(/_/g,"-")}(l);let f=D0(c);if(f)return f;const _=c.split("-")[0];if(f=D0(_),f)return f;if("en"===_)return Iy;throw new xe(701,!1)}function E0(l){return k_(l)[Ir.PluralCase]}function D0(l){return l in Lp||(Lp[l]=It.ng&&It.ng.common&&It.ng.common.locales&&It.ng.common.locales[l]),Lp[l]}var Ir=(()=>((Ir=Ir||{})[Ir.LocaleId=0]="LocaleId",Ir[Ir.DayPeriodsFormat=1]="DayPeriodsFormat",Ir[Ir.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ir[Ir.DaysFormat=3]="DaysFormat",Ir[Ir.DaysStandalone=4]="DaysStandalone",Ir[Ir.MonthsFormat=5]="MonthsFormat",Ir[Ir.MonthsStandalone=6]="MonthsStandalone",Ir[Ir.Eras=7]="Eras",Ir[Ir.FirstDayOfWeek=8]="FirstDayOfWeek",Ir[Ir.WeekendRange=9]="WeekendRange",Ir[Ir.DateFormat=10]="DateFormat",Ir[Ir.TimeFormat=11]="TimeFormat",Ir[Ir.DateTimeFormat=12]="DateTimeFormat",Ir[Ir.NumberSymbols=13]="NumberSymbols",Ir[Ir.NumberFormats=14]="NumberFormats",Ir[Ir.CurrencyCode=15]="CurrencyCode",Ir[Ir.CurrencySymbol=16]="CurrencySymbol",Ir[Ir.CurrencyName=17]="CurrencyName",Ir[Ir.Currencies=18]="Currencies",Ir[Ir.Directionality=19]="Directionality",Ir[Ir.PluralCase=20]="PluralCase",Ir[Ir.ExtraData=21]="ExtraData",Ir))();const jp="en-US";let T0=jp;function L_(l,c,f,_,x){if(l=O(l),Array.isArray(l))for(let P=0;P<l.length;P++)L_(l[P],c,f,_,x);else{const P=Sr(),z=Sn();let ne=lu(l)?l:O(l.provide),he=Wf(l);const je=Yo(),it=1048575&je.providerIndexes,Ot=je.directiveStart,tn=je.providerIndexes>>20;if(lu(l)||!l.multi){const vn=new ie(he,x,hu),Bn=B_(ne,c,x?it:it+tn,Ot);-1===Bn?(ci(Tl(je,z),P,ne),j_(P,l,c.length),c.push(ne),je.directiveStart++,je.directiveEnd++,x&&(je.providerIndexes+=1048576),f.push(vn),z.push(vn)):(f[Bn]=vn,z[Bn]=vn)}else{const vn=B_(ne,c,it+tn,Ot),Bn=B_(ne,c,it,it+tn),zi=Bn>=0&&f[Bn];if(x&&!zi||!x&&!(vn>=0&&f[vn])){ci(Tl(je,z),P,ne);const or=function Pb(l,c,f,_,x){const P=new ie(l,f,hu);return P.multi=[],P.index=c,P.componentProviders=0,Q0(P,x,_&&!f),P}(x?Tb:Db,f.length,x,_,he);!x&&zi&&(f[Bn].providerFactory=or),j_(P,l,c.length,0),c.push(ne),je.directiveStart++,je.directiveEnd++,x&&(je.providerIndexes+=1048576),f.push(or),z.push(or)}else j_(P,l,vn>-1?vn:Bn,Q0(f[x?Bn:vn],he,!x&&_));!x&&_&&zi&&f[Bn].componentProviders++}}}function j_(l,c,f,_){const x=lu(c),P=function Pm(l){return!!l.useClass}(c);if(x||P){const he=(P?O(c.useClass):c).prototype.ngOnDestroy;if(he){const je=l.destroyHooks||(l.destroyHooks=[]);if(!x&&c.multi){const it=je.indexOf(f);-1===it?je.push(f,[_,he]):je[it+1].push(_,he)}else je.push(f,he)}}}function Q0(l,c,f){return f&&l.componentProviders++,l.multi.push(c)-1}function B_(l,c,f,_){for(let x=f;x<_;x++)if(c[x]===l)return x;return-1}function Db(l,c,f,_){return V_(this.multi,[])}function Tb(l,c,f,_){const x=this.multi;let P;if(this.providerFactory){const z=this.providerFactory.componentProviders,ne=_l(f,f[ii],this.providerFactory.index,_);P=ne.slice(0,z),V_(x,P);for(let he=z;he<ne.length;he++)P.push(ne[he])}else P=[],V_(x,P);return P}function V_(l,c){for(let f=0;f<l.length;f++)c.push((0,l[f])());return c}function ev(l,c=[]){return f=>{f.providersResolver=(_,x)=>function Eb(l,c,f){const _=Sr();if(_.firstCreatePass){const x=ro(l);L_(f,_.data,_.blueprint,x,!0),L_(c,_.data,_.blueprint,x,!1)}}(_,x?x(l):l,c)}}class Bp{}class tv{}function Ib(l,c){return new nv(l,c??null)}class nv extends Bp{constructor(c,f){super(),this._parent=f,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new $g(this);const _=mo(c);this._bootstrapComponents=Kl(_.bootstrap),this._r3Injector=ip(c,f,[{provide:Bp,useValue:this},{provide:Yl,useValue:this.componentFactoryResolver}],re(c),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(c)}get injector(){return this._r3Injector}destroy(){const c=this._r3Injector;!c.destroyed&&c.destroy(),this.destroyCbs.forEach(f=>f()),this.destroyCbs=null}onDestroy(c){this.destroyCbs.push(c)}}class H_ extends tv{constructor(c){super(),this.moduleType=c}create(c){return new nv(this.moduleType,c)}}class Ab extends Bp{constructor(c,f,_){super(),this.componentFactoryResolver=new $g(this),this.instance=null;const x=new Gc([...c,{provide:Bp,useValue:this},{provide:Yl,useValue:this.componentFactoryResolver}],f||zu(),_,new Set(["environment"]));this.injector=x,x.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(c){this.injector.onDestroy(c)}}function z_(l,c,f=null){return new Ab(l,c,f).injector}let Rb=(()=>{class l{constructor(f){this._injector=f,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(f){if(!f.standalone)return null;if(!this.cachedInjectors.has(f.id)){const _=Lf(0,f.type),x=_.length>0?z_([_],this._injector,`Standalone[${f.type.name}]`):null;this.cachedInjectors.set(f.id,x)}return this.cachedInjectors.get(f.id)}ngOnDestroy(){try{for(const f of this.cachedInjectors.values())null!==f&&f.destroy()}finally{this.cachedInjectors.clear()}}}return l.\u0275prov=jt({token:l,providedIn:"environment",factory:()=>new l(Fi(xl))}),l})();function iv(l){l.getStandaloneInjector=c=>c.get(Rb).getOrCreateStandaloneInjector(l)}function uv(l,c,f){const _=We()+l,x=Sn();return x[_]===rr?fc(x,_,f?c.call(f):c()):function gu(l,c){return l[c]}(x,_)}function dv(l,c,f,_){return fv(Sn(),We(),l,c,f,_)}function hv(l,c,f,_,x){return function pv(l,c,f,_,x,P,z){const ne=c+f;return mu(l,ne,x,P)?fc(l,ne+2,z?_.call(z,x,P):_(x,P)):vm(l,ne+2)}(Sn(),We(),l,c,f,_,x)}function vm(l,c){const f=l[c];return f===rr?void 0:f}function fv(l,c,f,_,x,P){const z=c+f;return Va(l,z,x)?fc(l,z+1,P?_.call(P,x):_(x)):vm(l,z+1)}function vv(l,c){const f=Sr();let _;const x=l+hr;f.firstCreatePass?(_=function $b(l,c){if(c)for(let f=c.length-1;f>=0;f--){const _=c[f];if(l===_.name)return _}}(c,f.pipeRegistry),f.data[x]=_,_.onDestroy&&(f.destroyHooks??(f.destroyHooks=[])).push(x,_.onDestroy)):_=f.data[x];const P=_.factory||(_.factory=Hr(_.type)),z=Dn(hu);try{const ne=Qo(!1),he=P();return Qo(ne),function s_(l,c,f,_){f>=l.data.length&&(l.data[f]=null,l.blueprint[f]=null),c[f]=_}(f,Sn(),x,he),he}finally{Dn(z)}}function yv(l,c,f){const _=l+hr,x=Sn(),P=kt(x,_);return function ym(l,c){return l[ii].data[c].pure}(x,_)?fv(x,We(),c,P.transform,f,P):P.transform(f)}function U_(l){return c=>{setTimeout(l,void 0,c)}}const Cu=class Qb extends h.x{constructor(c=!1){super(),this.__isAsync=c}emit(c){super.next(c)}subscribe(c,f,_){let x=c,P=f||(()=>null),z=_;if(c&&"object"==typeof c){const he=c;x=he.next?.bind(he),P=he.error?.bind(he),z=he.complete?.bind(he)}this.__isAsync&&(P=U_(P),x&&(x=U_(x)),z&&(z=U_(z)));const ne=super.subscribe({next:x,error:P,complete:z});return c instanceof C.w0&&c.add(ne),ne}};function ew(){return this._results[Symbol.iterator]()}class m_{get changes(){return this._changes||(this._changes=new Cu)}constructor(c=!1){this._emitDistinctChangesOnly=c,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const f=m_.prototype;f[Symbol.iterator]||(f[Symbol.iterator]=ew)}get(c){return this._results[c]}map(c){return this._results.map(c)}filter(c){return this._results.filter(c)}find(c){return this._results.find(c)}reduce(c,f){return this._results.reduce(c,f)}forEach(c){this._results.forEach(c)}some(c){return this._results.some(c)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(c,f){const _=this;_.dirty=!1;const x=function jr(l){return l.flat(Number.POSITIVE_INFINITY)}(c);(this._changesDetected=!function rd(l,c,f){if(l.length!==c.length)return!1;for(let _=0;_<l.length;_++){let x=l[_],P=c[_];if(f&&(x=f(x),P=f(P)),P!==x)return!1}return!0}(_._results,x,f))&&(_._results=x,_.length=x.length,_.last=x[this.length-1],_.first=x[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let bm=(()=>{class l{}return l.__NG_ELEMENT_ID__=iw,l})();const tw=bm,nw=class extends tw{constructor(c,f,_){super(),this._declarationLView=c,this._declarationTContainer=f,this.elementRef=_}createEmbeddedView(c,f){const _=this._declarationTContainer.tView,x=Ku(this._declarationLView,_,c,16,null,_.declTNode,null,null,null,null,f||null);x[ms]=this._declarationLView[this._declarationTContainer.index];const z=this._declarationLView[Oo];return null!==z&&(x[Oo]=z.createEmbeddedView(_)),kd(_,x,c),new ec(x)}};function iw(){return __(Yo(),Sn())}function __(l,c){return 4&l.type?new nw(c,l,Fl(l,c)):null}let v_=(()=>{class l{}return l.__NG_ELEMENT_ID__=rw,l})();function rw(){return Cv(Yo(),Sn())}const ow=v_,bv=class extends ow{constructor(c,f,_){super(),this._lContainer=c,this._hostTNode=f,this._hostLView=_}get element(){return Fl(this._hostTNode,this._hostLView)}get injector(){return new aa(this._hostTNode,this._hostLView)}get parentInjector(){const c=Ji(this._hostTNode,this._hostLView);if(oo(c)){const f=Ns(c,this._hostLView),_=so(c);return new aa(f[ii].data[_+8],f)}return new aa(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(c){const f=wv(this._lContainer);return null!==f&&f[c]||null}get length(){return this._lContainer.length-sr}createEmbeddedView(c,f,_){let x,P;"number"==typeof _?x=_:null!=_&&(x=_.index,P=_.injector);const z=c.createEmbeddedView(f||{},P);return this.insert(z,x),z}createComponent(c,f,_,x,P){const z=c&&!function Ja(l){return"function"==typeof l}(c);let ne;if(z)ne=f;else{const Ot=f||{};ne=Ot.index,_=Ot.injector,x=Ot.projectableNodes,P=Ot.environmentInjector||Ot.ngModuleRef}const he=z?c:new pu(Ii(c)),je=_||this.parentInjector;if(!P&&null==he.ngModule){const tn=(z?je:this.parentInjector).get(xl,null);tn&&(P=tn)}const it=he.create(je,x,void 0,P);return this.insert(it.hostView,ne),it}insert(c,f){const _=c._lView,x=_[ii];if(function zs(l){return go(l[Br])}(_)){const it=this.indexOf(c);if(-1!==it)this.detach(it);else{const Ot=_[Br],tn=new bv(Ot,Ot[ur],Ot[Br]);tn.detach(tn.indexOf(c))}}const P=this._adjustIndex(f),z=this._lContainer;!function gf(l,c,f,_){const x=sr+_,P=f.length;_>0&&(f[x-1][Eo]=c),_<P-sr?(c[Eo]=f[x],Ac(f,sr+_,c)):(f.push(c),c[Eo]=null),c[Br]=f;const z=c[ms];null!==z&&f!==z&&function cl(l,c){const f=l[vs];c[po]!==c[Br][Br][po]&&(l[Nr]=!0),null===f?l[vs]=[c]:f.push(c)}(z,c);const ne=c[Oo];null!==ne&&ne.insertView(l),c[qi]|=64}(x,_,z,P);const ne=ku(P,z),he=_[Ri],je=Au(he,z[sa]);return null!==je&&function pf(l,c,f,_,x,P){_[qo]=x,_[ur]=c,bl(l,_,f,1,x,P)}(x,z[ur],he,_,je,ne),c.attachToViewContainerRef(),Ac(G_(z),P,c),c}move(c,f){return this.insert(c,f)}indexOf(c){const f=wv(this._lContainer);return null!==f?f.indexOf(c):-1}remove(c){const f=this._adjustIndex(c,-1),_=mf(this._lContainer,f);_&&(Hl(G_(this._lContainer),f),Kp(_[ii],_))}detach(c){const f=this._adjustIndex(c,-1),_=mf(this._lContainer,f);return _&&null!=Hl(G_(this._lContainer),f)?new ec(_):null}_adjustIndex(c,f=0){return c??this.length+f}};function wv(l){return l[As]}function G_(l){return l[As]||(l[As]=[])}function Cv(l,c){let f;const _=c[l.index];if(go(_))f=_;else{let x;if(8&l.type)x=Pr(_);else{const P=c[Ri];x=P.createComment("");const z=bt(l,c);ua(P,Au(P,z),x,function md(l,c){return l.nextSibling(c)}(P,z),!1)}c[l.index]=f=Yg(_,c,x,l),Zu(c,f)}return new bv(f,l,c)}class Y_{constructor(c){this.queryList=c,this.matches=null}clone(){return new Y_(this.queryList)}setDirty(){this.queryList.setDirty()}}class K_{constructor(c=[]){this.queries=c}createEmbeddedView(c){const f=c.queries;if(null!==f){const _=null!==c.contentQueries?c.contentQueries[0]:f.length,x=[];for(let P=0;P<_;P++){const z=f.getByIndex(P);x.push(this.queries[z.indexInDeclarationView].clone())}return new K_(x)}return null}insertView(c){this.dirtyQueriesWithMatches(c)}detachView(c){this.dirtyQueriesWithMatches(c)}dirtyQueriesWithMatches(c){for(let f=0;f<this.queries.length;f++)null!==Av(c,f).matches&&this.queries[f].setDirty()}}class xv{constructor(c,f,_=null){this.predicate=c,this.flags=f,this.read=_}}class $_{constructor(c=[]){this.queries=c}elementStart(c,f){for(let _=0;_<this.queries.length;_++)this.queries[_].elementStart(c,f)}elementEnd(c){for(let f=0;f<this.queries.length;f++)this.queries[f].elementEnd(c)}embeddedTView(c){let f=null;for(let _=0;_<this.length;_++){const x=null!==f?f.length:0,P=this.getByIndex(_).embeddedTView(c,x);P&&(P.indexInDeclarationView=_,null!==f?f.push(P):f=[P])}return null!==f?new $_(f):null}template(c,f){for(let _=0;_<this.queries.length;_++)this.queries[_].template(c,f)}getByIndex(c){return this.queries[c]}get length(){return this.queries.length}track(c){this.queries.push(c)}}class Z_{constructor(c,f=-1){this.metadata=c,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=f}elementStart(c,f){this.isApplyingToNode(f)&&this.matchTNode(c,f)}elementEnd(c){this._declarationNodeIndex===c.index&&(this._appliesToNextNode=!1)}template(c,f){this.elementStart(c,f)}embeddedTView(c,f){return this.isApplyingToNode(c)?(this.crossesNgTemplate=!0,this.addMatch(-c.index,f),new Z_(this.metadata)):null}isApplyingToNode(c){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const f=this._declarationNodeIndex;let _=c.parent;for(;null!==_&&8&_.type&&_.index!==f;)_=_.parent;return f===(null!==_?_.index:-1)}return this._appliesToNextNode}matchTNode(c,f){const _=this.metadata.predicate;if(Array.isArray(_))for(let x=0;x<_.length;x++){const P=_[x];this.matchTNodeWithReadOption(c,f,sw(f,P)),this.matchTNodeWithReadOption(c,f,il(f,c,P,!1,!1))}else _===bm?4&f.type&&this.matchTNodeWithReadOption(c,f,-1):this.matchTNodeWithReadOption(c,f,il(f,c,_,!1,!1))}matchTNodeWithReadOption(c,f,_){if(null!==_){const x=this.metadata.read;if(null!==x)if(x===cc||x===v_||x===bm&&4&f.type)this.addMatch(f.index,-2);else{const P=il(f,c,x,!1,!1);null!==P&&this.addMatch(f.index,P)}else this.addMatch(f.index,_)}}addMatch(c,f){null===this.matches?this.matches=[c,f]:this.matches.push(c,f)}}function sw(l,c){const f=l.localNames;if(null!==f)for(let _=0;_<f.length;_+=2)if(f[_]===c)return f[_+1];return null}function lw(l,c,f,_){return-1===f?function aw(l,c){return 11&l.type?Fl(l,c):4&l.type?__(l,c):null}(c,l):-2===f?function cw(l,c,f){return f===cc?Fl(c,l):f===bm?__(c,l):f===v_?Cv(c,l):void 0}(l,c,_):_l(l,l[ii],f,c)}function Sv(l,c,f,_){const x=c[Oo].queries[_];if(null===x.matches){const P=l.data,z=f.matches,ne=[];for(let he=0;he<z.length;he+=2){const je=z[he];ne.push(je<0?null:lw(c,P[je],z[he+1],f.metadata.read))}x.matches=ne}return x.matches}function q_(l,c,f,_){const x=l.queries.getByIndex(f),P=x.matches;if(null!==P){const z=Sv(l,c,x,f);for(let ne=0;ne<P.length;ne+=2){const he=P[ne];if(he>0)_.push(z[ne/2]);else{const je=P[ne+1],it=c[-he];for(let Ot=sr;Ot<it.length;Ot++){const tn=it[Ot];tn[ms]===tn[Br]&&q_(tn[ii],tn,je,_)}if(null!==it[vs]){const Ot=it[vs];for(let tn=0;tn<Ot.length;tn++){const vn=Ot[tn];q_(vn[ii],vn,je,_)}}}}}return _}function Mv(l){const c=Sn(),f=Sr(),_=$r();Bo(_+1);const x=Av(f,_);if(l.dirty&&function Hn(l){return 4==(4&l[qi])}(c)===(2==(2&x.metadata.flags))){if(null===x.matches)l.reset([]);else{const P=x.crossesNgTemplate?q_(f,c,_,[]):Sv(f,c,x,_);l.reset(P,Wu),l.notifyOnChanges()}return!0}return!1}function Ev(l,c,f){const _=Sr();_.firstCreatePass&&(Iv(_,new xv(l,c,f),-1),2==(2&c)&&(_.staticViewQueries=!0)),Pv(_,Sn(),c)}function Dv(l,c,f,_){const x=Sr();if(x.firstCreatePass){const P=Yo();Iv(x,new xv(c,f,_),P.index),function dw(l,c){const f=l.contentQueries||(l.contentQueries=[]);c!==(f.length?f[f.length-1]:-1)&&f.push(l.queries.length-1,c)}(x,l),2==(2&f)&&(x.staticContentQueries=!0)}Pv(x,Sn(),f)}function Tv(){return function uw(l,c){return l[Oo].queries[c].queryList}(Sn(),$r())}function Pv(l,c,f){const _=new m_(4==(4&f));Ih(l,c,_,_.destroy),null===c[Oo]&&(c[Oo]=new K_),c[Oo].queries.push(new Y_(_))}function Iv(l,c,f){null===l.queries&&(l.queries=new $_),l.queries.track(new Z_(c,f))}function Av(l,c){return l.queries.getByIndex(c)}function Rv(l,c){return __(l,c)}function X_(l){return!!mo(l)}const Aw=mc("Input",l=>({bindingPropertyName:l}));function b_(...l){}const qv=new Gr("Application Initializer");let w_=(()=>{class l{constructor(f){this.appInits=f,this.resolve=b_,this.reject=b_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((_,x)=>{this.resolve=_,this.reject=x})}runInitializers(){if(this.initialized)return;const f=[],_=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let x=0;x<this.appInits.length;x++){const P=this.appInits[x]();if(Ap(P))f.push(P);else if(dm(P)){const z=new Promise((ne,he)=>{P.subscribe({complete:ne,error:he})});f.push(z)}}Promise.all(f).then(()=>{_()}).catch(x=>{this.reject(x)}),0===f.length&&_(),this.initialized=!0}}return l.\u0275fac=function(f){return new(f||l)(Fi(qv,8))},l.\u0275prov=jt({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();const Xv=new Gr("AppId",{providedIn:"root",factory:function Jv(){return`${n0()}${n0()}${n0()}`}});function n0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Qv=new Gr("Platform Initializer"),Rw=new Gr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Ow=new Gr("AnimationModuleType");let kw=(()=>{class l{log(f){console.log(f)}warn(f){console.warn(f)}}return l.\u0275fac=function(f){return new(f||l)},l.\u0275prov=jt({token:l,factory:l.\u0275fac,providedIn:"platform"}),l})();const C_=new Gr("LocaleId",{providedIn:"root",factory:()=>pn(C_,Ft.Optional|Ft.SkipSelf)||function Fw(){return typeof $localize<"u"&&$localize.locale||jp}()}),Nw=new Gr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Lw{constructor(c,f){this.ngModuleFactory=c,this.componentFactories=f}}let jw=(()=>{class l{compileModuleSync(f){return new H_(f)}compileModuleAsync(f){return Promise.resolve(this.compileModuleSync(f))}compileModuleAndAllComponentsSync(f){const _=this.compileModuleSync(f),P=Kl(mo(f).declarations).reduce((z,ne)=>{const he=Ii(ne);return he&&z.push(new pu(he)),z},[]);return new Lw(_,P)}compileModuleAndAllComponentsAsync(f){return Promise.resolve(this.compileModuleAndAllComponentsSync(f))}clearCache(){}clearCacheFor(f){}getModuleId(f){}}return l.\u0275fac=function(f){return new(f||l)},l.\u0275prov=jt({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();const Hw=(()=>Promise.resolve(0))();function r0(l){typeof Zone>"u"?Hw.then(()=>{l&&l.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",l)}class Pc{constructor({enableLongStackTrace:c=!1,shouldCoalesceEventChangeDetection:f=!1,shouldCoalesceRunChangeDetection:_=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Cu(!1),this.onMicrotaskEmpty=new Cu(!1),this.onStable=new Cu(!1),this.onError=new Cu(!1),typeof Zone>"u")throw new xe(908,!1);Zone.assertZonePatched();const x=this;x._nesting=0,x._outer=x._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(x._inner=x._inner.fork(new Zone.TaskTrackingZoneSpec)),c&&Zone.longStackTraceZoneSpec&&(x._inner=x._inner.fork(Zone.longStackTraceZoneSpec)),x.shouldCoalesceEventChangeDetection=!_&&f,x.shouldCoalesceRunChangeDetection=_,x.lastRequestAnimationFrameId=-1,x.nativeRequestAnimationFrame=function zw(){let l=It.requestAnimationFrame,c=It.cancelAnimationFrame;if(typeof Zone<"u"&&l&&c){const f=l[Zone.__symbol__("OriginalDelegate")];f&&(l=f);const _=c[Zone.__symbol__("OriginalDelegate")];_&&(c=_)}return{nativeRequestAnimationFrame:l,nativeCancelAnimationFrame:c}}().nativeRequestAnimationFrame,function Gw(l){const c=()=>{!function Uw(l){l.isCheckStableRunning||-1!==l.lastRequestAnimationFrameId||(l.lastRequestAnimationFrameId=l.nativeRequestAnimationFrame.call(It,()=>{l.fakeTopEventTask||(l.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{l.lastRequestAnimationFrameId=-1,s0(l),l.isCheckStableRunning=!0,o0(l),l.isCheckStableRunning=!1},void 0,()=>{},()=>{})),l.fakeTopEventTask.invoke()}),s0(l))}(l)};l._inner=l._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(f,_,x,P,z,ne)=>{try{return ny(l),f.invokeTask(x,P,z,ne)}finally{(l.shouldCoalesceEventChangeDetection&&"eventTask"===P.type||l.shouldCoalesceRunChangeDetection)&&c(),iy(l)}},onInvoke:(f,_,x,P,z,ne,he)=>{try{return ny(l),f.invoke(x,P,z,ne,he)}finally{l.shouldCoalesceRunChangeDetection&&c(),iy(l)}},onHasTask:(f,_,x,P)=>{f.hasTask(x,P),_===x&&("microTask"==P.change?(l._hasPendingMicrotasks=P.microTask,s0(l),o0(l)):"macroTask"==P.change&&(l.hasPendingMacrotasks=P.macroTask))},onHandleError:(f,_,x,P)=>(f.handleError(x,P),l.runOutsideAngular(()=>l.onError.emit(P)),!1)})}(x)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Pc.isInAngularZone())throw new xe(909,!1)}static assertNotInAngularZone(){if(Pc.isInAngularZone())throw new xe(909,!1)}run(c,f,_){return this._inner.run(c,f,_)}runTask(c,f,_,x){const P=this._inner,z=P.scheduleEventTask("NgZoneEvent: "+x,c,Ww,b_,b_);try{return P.runTask(z,f,_)}finally{P.cancelTask(z)}}runGuarded(c,f,_){return this._inner.runGuarded(c,f,_)}runOutsideAngular(c){return this._outer.run(c)}}const Ww={};function o0(l){if(0==l._nesting&&!l.hasPendingMicrotasks&&!l.isStable)try{l._nesting++,l.onMicrotaskEmpty.emit(null)}finally{if(l._nesting--,!l.hasPendingMicrotasks)try{l.runOutsideAngular(()=>l.onStable.emit(null))}finally{l.isStable=!0}}}function s0(l){l.hasPendingMicrotasks=!!(l._hasPendingMicrotasks||(l.shouldCoalesceEventChangeDetection||l.shouldCoalesceRunChangeDetection)&&-1!==l.lastRequestAnimationFrameId)}function ny(l){l._nesting++,l.isStable&&(l.isStable=!1,l.onUnstable.emit(null))}function iy(l){l._nesting--,o0(l)}class Yw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Cu,this.onMicrotaskEmpty=new Cu,this.onStable=new Cu,this.onError=new Cu}run(c,f,_){return c.apply(f,_)}runGuarded(c,f,_){return c.apply(f,_)}runOutsideAngular(c){return c()}runTask(c,f,_,x){return c.apply(f,_)}}const ry=new Gr(""),oy=new Gr("");let a0,Kw=(()=>{class l{constructor(f,_,x){this._ngZone=f,this.registry=_,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,a0||(function $w(l){a0=l}(x),x.addToWindow(_)),this._watchAngularEvents(),f.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Pc.assertNotInAngularZone(),r0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())r0(()=>{for(;0!==this._callbacks.length;){let f=this._callbacks.pop();clearTimeout(f.timeoutId),f.doneCb(this._didWork)}this._didWork=!1});else{let f=this.getPendingTasks();this._callbacks=this._callbacks.filter(_=>!_.updateCb||!_.updateCb(f)||(clearTimeout(_.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(f=>({source:f.source,creationLocation:f.creationLocation,data:f.data})):[]}addCallback(f,_,x){let P=-1;_&&_>0&&(P=setTimeout(()=>{this._callbacks=this._callbacks.filter(z=>z.timeoutId!==P),f(this._didWork,this.getPendingTasks())},_)),this._callbacks.push({doneCb:f,timeoutId:P,updateCb:x})}whenStable(f,_,x){if(x&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(f,_,x),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(f){this.registry.registerApplication(f,this)}unregisterApplication(f){this.registry.unregisterApplication(f)}findProviders(f,_,x){return[]}}return l.\u0275fac=function(f){return new(f||l)(Fi(Pc),Fi(sy),Fi(oy))},l.\u0275prov=jt({token:l,factory:l.\u0275fac}),l})(),sy=(()=>{class l{constructor(){this._applications=new Map}registerApplication(f,_){this._applications.set(f,_)}unregisterApplication(f){this._applications.delete(f)}unregisterAllApplications(){this._applications.clear()}getTestability(f){return this._applications.get(f)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(f,_=!0){return a0?.findTestabilityInTree(this,f,_)??null}}return l.\u0275fac=function(f){return new(f||l)},l.\u0275prov=jt({token:l,factory:l.\u0275fac,providedIn:"platform"}),l})();const id=!1;let zd=null;const ay=new Gr("AllowMultipleToken"),l0=new Gr("PlatformDestroyListeners"),ly=new Gr("appBootstrapListener");class Xw{constructor(c,f){this.name=c,this.token=f}}function uy(l,c,f=[]){const _=`Platform: ${c}`,x=new Gr(_);return(P=[])=>{let z=c0();if(!z||z.injector.get(ay,!1)){const ne=[...f,...P,{provide:x,useValue:!0}];l?l(ne):function Jw(l){if(zd&&!zd.get(ay,!1))throw new xe(400,!1);zd=l;const c=l.get(hy);(function cy(l){const c=l.get(Qv,null);c&&c.forEach(f=>f())})(l)}(function dy(l=[],c){return yo.create({name:c,providers:[{provide:Vf,useValue:"platform"},{provide:l0,useValue:new Set([()=>zd=null])},...l]})}(ne,_))}return function eC(l){const c=c0();if(!c)throw new xe(401,!1);return c}()}}function c0(){return zd?.get(hy)??null}let hy=(()=>{class l{constructor(f){this._injector=f,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(f,_){const x=function py(l,c){let f;return f="noop"===l?new Yw:("zone.js"===l?void 0:l)||new Pc(c),f}(_?.ngZone,function fy(l){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!l||!l.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!l||!l.ngZoneRunCoalescing)||!1}}(_)),P=[{provide:Pc,useValue:x}];return x.run(()=>{const z=yo.create({providers:P,parent:this.injector,name:f.moduleType.name}),ne=f.create(z),he=ne.injector.get(Uu,null);if(!he)throw new xe(402,!1);return x.runOutsideAngular(()=>{const je=x.onError.subscribe({next:it=>{he.handleError(it)}});ne.onDestroy(()=>{S_(this._modules,ne),je.unsubscribe()})}),function gy(l,c,f){try{const _=f();return Ap(_)?_.catch(x=>{throw c.runOutsideAngular(()=>l.handleError(x)),x}):_}catch(_){throw c.runOutsideAngular(()=>l.handleError(_)),_}}(he,x,()=>{const je=ne.injector.get(w_);return je.runInitializers(),je.donePromise.then(()=>(function P0(l){de(l,"Expected localeId to be defined"),"string"==typeof l&&(T0=l.toLowerCase().replace(/_/g,"-"))}(ne.injector.get(C_,jp)||jp),this._moduleDoBootstrap(ne),ne))})})}bootstrapModule(f,_=[]){const x=my({},_);return function Zw(l,c,f){const _=new H_(f);return Promise.resolve(_)}(0,0,f).then(P=>this.bootstrapModuleFactory(P,x))}_moduleDoBootstrap(f){const _=f.injector.get(x_);if(f._bootstrapComponents.length>0)f._bootstrapComponents.forEach(x=>_.bootstrap(x));else{if(!f.instance.ngDoBootstrap)throw new xe(-403,!1);f.instance.ngDoBootstrap(_)}this._modules.push(f)}onDestroy(f){this._destroyListeners.push(f)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new xe(404,!1);this._modules.slice().forEach(_=>_.destroy()),this._destroyListeners.forEach(_=>_());const f=this._injector.get(l0,null);f&&(f.forEach(_=>_()),f.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return l.\u0275fac=function(f){return new(f||l)(Fi(yo))},l.\u0275prov=jt({token:l,factory:l.\u0275fac,providedIn:"platform"}),l})();function my(l,c){return Array.isArray(c)?c.reduce(my,l):{...l,...c}}let x_=(()=>{class l{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(f,_,x){this._zone=f,this._injector=_,this._exceptionHandler=x,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const P=new V.y(ne=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{ne.next(this._stable),ne.complete()})}),z=new V.y(ne=>{let he;this._zone.runOutsideAngular(()=>{he=this._zone.onStable.subscribe(()=>{Pc.assertNotInAngularZone(),r0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,ne.next(!0))})})});const je=this._zone.onUnstable.subscribe(()=>{Pc.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{ne.next(!1)}))});return()=>{he.unsubscribe(),je.unsubscribe()}});this.isStable=(0,ee.T)(P,z.pipe((0,pe.B)()))}bootstrap(f,_){const x=f instanceof Md;if(!this._injector.get(w_).done){!x&&Jr(f);throw new xe(405,id)}let z;z=x?f:this._injector.get(Yl).resolveComponentFactory(f),this.componentTypes.push(z.componentType);const ne=function qw(l){return l.isBoundToModule}(z)?void 0:this._injector.get(Bp),je=z.create(yo.NULL,[],_||z.selector,ne),it=je.location.nativeElement,Ot=je.injector.get(ry,null);return Ot?.registerApplication(it),je.onDestroy(()=>{this.detachView(je.hostView),S_(this.components,je),Ot?.unregisterApplication(it)}),this._loadComponent(je),je}tick(){if(this._runningTick)throw new xe(101,!1);try{this._runningTick=!0;for(let f of this._views)f.detectChanges()}catch(f){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(f))}finally{this._runningTick=!1}}attachView(f){const _=f;this._views.push(_),_.attachToAppRef(this)}detachView(f){const _=f;S_(this._views,_),_.detachFromAppRef()}_loadComponent(f){this.attachView(f.hostView),this.tick(),this.components.push(f);const _=this._injector.get(ly,[]);_.push(...this._bootstrapListeners),_.forEach(x=>x(f))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(f=>f()),this._views.slice().forEach(f=>f.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(f){return this._destroyListeners.push(f),()=>S_(this._destroyListeners,f)}destroy(){if(this._destroyed)throw new xe(406,!1);const f=this._injector;f.destroy&&!f.destroyed&&f.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return l.\u0275fac=function(f){return new(f||l)(Fi(Pc),Fi(xl),Fi(Uu))},l.\u0275prov=jt({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();function S_(l,c){const f=l.indexOf(c);f>-1&&l.splice(f,1)}function nC(){return!1}let iC=(()=>{class l{}return l.__NG_ELEMENT_ID__=rC,l})();function rC(l){return function oC(l,c,f){if(uo(l)&&!f){const _=mn(l.index,c);return new ec(_,_)}return 47&l.type?new ec(c[po],c):null}(Yo(),Sn(),16==(16&l))}class wy{constructor(){}supports(c){return Kc(c)}create(c){return new dC(c)}}const uC=(l,c)=>c;class dC{constructor(c){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=c||uC}forEachItem(c){let f;for(f=this._itHead;null!==f;f=f._next)c(f)}forEachOperation(c){let f=this._itHead,_=this._removalsHead,x=0,P=null;for(;f||_;){const z=!_||f&&f.currentIndex<xy(_,x,P)?f:_,ne=xy(z,x,P),he=z.currentIndex;if(z===_)x--,_=_._nextRemoved;else if(f=f._next,null==z.previousIndex)x++;else{P||(P=[]);const je=ne-x,it=he-x;if(je!=it){for(let tn=0;tn<je;tn++){const vn=tn<P.length?P[tn]:P[tn]=0,Bn=vn+tn;it<=Bn&&Bn<je&&(P[tn]=vn+1)}P[z.previousIndex]=it-je}}ne!==he&&c(z,ne,he)}}forEachPreviousItem(c){let f;for(f=this._previousItHead;null!==f;f=f._nextPrevious)c(f)}forEachAddedItem(c){let f;for(f=this._additionsHead;null!==f;f=f._nextAdded)c(f)}forEachMovedItem(c){let f;for(f=this._movesHead;null!==f;f=f._nextMoved)c(f)}forEachRemovedItem(c){let f;for(f=this._removalsHead;null!==f;f=f._nextRemoved)c(f)}forEachIdentityChange(c){let f;for(f=this._identityChangesHead;null!==f;f=f._nextIdentityChange)c(f)}diff(c){if(null==c&&(c=[]),!Kc(c))throw new xe(900,!1);return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let x,P,z,f=this._itHead,_=!1;if(Array.isArray(c)){this.length=c.length;for(let ne=0;ne<this.length;ne++)P=c[ne],z=this._trackByFn(ne,P),null!==f&&Object.is(f.trackById,z)?(_&&(f=this._verifyReinsertion(f,P,z,ne)),Object.is(f.item,P)||this._addIdentityChange(f,P)):(f=this._mismatch(f,P,z,ne),_=!0),f=f._next}else x=0,function Vh(l,c){if(Array.isArray(l))for(let f=0;f<l.length;f++)c(l[f]);else{const f=l[Symbol.iterator]();let _;for(;!(_=f.next()).done;)c(_.value)}}(c,ne=>{z=this._trackByFn(x,ne),null!==f&&Object.is(f.trackById,z)?(_&&(f=this._verifyReinsertion(f,ne,z,x)),Object.is(f.item,ne)||this._addIdentityChange(f,ne)):(f=this._mismatch(f,ne,z,x),_=!0),f=f._next,x++}),this.length=x;return this._truncate(f),this.collection=c,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let c;for(c=this._previousItHead=this._itHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._additionsHead;null!==c;c=c._nextAdded)c.previousIndex=c.currentIndex;for(this._additionsHead=this._additionsTail=null,c=this._movesHead;null!==c;c=c._nextMoved)c.previousIndex=c.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(c,f,_,x){let P;return null===c?P=this._itTail:(P=c._prev,this._remove(c)),null!==(c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(_,null))?(Object.is(c.item,f)||this._addIdentityChange(c,f),this._reinsertAfter(c,P,x)):null!==(c=null===this._linkedRecords?null:this._linkedRecords.get(_,x))?(Object.is(c.item,f)||this._addIdentityChange(c,f),this._moveAfter(c,P,x)):c=this._addAfter(new hC(f,_),P,x),c}_verifyReinsertion(c,f,_,x){let P=null===this._unlinkedRecords?null:this._unlinkedRecords.get(_,null);return null!==P?c=this._reinsertAfter(P,c._prev,x):c.currentIndex!=x&&(c.currentIndex=x,this._addToMoves(c,x)),c}_truncate(c){for(;null!==c;){const f=c._next;this._addToRemovals(this._unlink(c)),c=f}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(c,f,_){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(c);const x=c._prevRemoved,P=c._nextRemoved;return null===x?this._removalsHead=P:x._nextRemoved=P,null===P?this._removalsTail=x:P._prevRemoved=x,this._insertAfter(c,f,_),this._addToMoves(c,_),c}_moveAfter(c,f,_){return this._unlink(c),this._insertAfter(c,f,_),this._addToMoves(c,_),c}_addAfter(c,f,_){return this._insertAfter(c,f,_),this._additionsTail=null===this._additionsTail?this._additionsHead=c:this._additionsTail._nextAdded=c,c}_insertAfter(c,f,_){const x=null===f?this._itHead:f._next;return c._next=x,c._prev=f,null===x?this._itTail=c:x._prev=c,null===f?this._itHead=c:f._next=c,null===this._linkedRecords&&(this._linkedRecords=new Cy),this._linkedRecords.put(c),c.currentIndex=_,c}_remove(c){return this._addToRemovals(this._unlink(c))}_unlink(c){null!==this._linkedRecords&&this._linkedRecords.remove(c);const f=c._prev,_=c._next;return null===f?this._itHead=_:f._next=_,null===_?this._itTail=f:_._prev=f,c}_addToMoves(c,f){return c.previousIndex===f||(this._movesTail=null===this._movesTail?this._movesHead=c:this._movesTail._nextMoved=c),c}_addToRemovals(c){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Cy),this._unlinkedRecords.put(c),c.currentIndex=null,c._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=c,c._prevRemoved=null):(c._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=c),c}_addIdentityChange(c,f){return c.item=f,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=c:this._identityChangesTail._nextIdentityChange=c,c}}class hC{constructor(c,f){this.item=c,this.trackById=f,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class fC{constructor(){this._head=null,this._tail=null}add(c){null===this._head?(this._head=this._tail=c,c._nextDup=null,c._prevDup=null):(this._tail._nextDup=c,c._prevDup=this._tail,c._nextDup=null,this._tail=c)}get(c,f){let _;for(_=this._head;null!==_;_=_._nextDup)if((null===f||f<=_.currentIndex)&&Object.is(_.trackById,c))return _;return null}remove(c){const f=c._prevDup,_=c._nextDup;return null===f?this._head=_:f._nextDup=_,null===_?this._tail=f:_._prevDup=f,null===this._head}}class Cy{constructor(){this.map=new Map}put(c){const f=c.trackById;let _=this.map.get(f);_||(_=new fC,this.map.set(f,_)),_.add(c)}get(c,f){const x=this.map.get(c);return x?x.get(c,f):null}remove(c){const f=c.trackById;return this.map.get(f).remove(c)&&this.map.delete(f),c}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function xy(l,c,f){const _=l.previousIndex;if(null===_)return _;let x=0;return f&&_<f.length&&(x=f[_]),_+c+x}class Sy{constructor(){}supports(c){return c instanceof Map||Mp(c)}create(){return new pC}}class pC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(c){let f;for(f=this._mapHead;null!==f;f=f._next)c(f)}forEachPreviousItem(c){let f;for(f=this._previousMapHead;null!==f;f=f._nextPrevious)c(f)}forEachChangedItem(c){let f;for(f=this._changesHead;null!==f;f=f._nextChanged)c(f)}forEachAddedItem(c){let f;for(f=this._additionsHead;null!==f;f=f._nextAdded)c(f)}forEachRemovedItem(c){let f;for(f=this._removalsHead;null!==f;f=f._nextRemoved)c(f)}diff(c){if(c){if(!(c instanceof Map||Mp(c)))throw new xe(900,!1)}else c=new Map;return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let f=this._mapHead;if(this._appendAfter=null,this._forEach(c,(_,x)=>{if(f&&f.key===x)this._maybeAddToChanges(f,_),this._appendAfter=f,f=f._next;else{const P=this._getOrCreateRecordForKey(x,_);f=this._insertBeforeOrAppend(f,P)}}),f){f._prev&&(f._prev._next=null),this._removalsHead=f;for(let _=f;null!==_;_=_._nextRemoved)_===this._mapHead&&(this._mapHead=null),this._records.delete(_.key),_._nextRemoved=_._next,_.previousValue=_.currentValue,_.currentValue=null,_._prev=null,_._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(c,f){if(c){const _=c._prev;return f._next=c,f._prev=_,c._prev=f,_&&(_._next=f),c===this._mapHead&&(this._mapHead=f),this._appendAfter=c,c}return this._appendAfter?(this._appendAfter._next=f,f._prev=this._appendAfter):this._mapHead=f,this._appendAfter=f,null}_getOrCreateRecordForKey(c,f){if(this._records.has(c)){const x=this._records.get(c);this._maybeAddToChanges(x,f);const P=x._prev,z=x._next;return P&&(P._next=z),z&&(z._prev=P),x._next=null,x._prev=null,x}const _=new gC(c);return this._records.set(c,_),_.currentValue=f,this._addToAdditions(_),_}_reset(){if(this.isDirty){let c;for(this._previousMapHead=this._mapHead,c=this._previousMapHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._changesHead;null!==c;c=c._nextChanged)c.previousValue=c.currentValue;for(c=this._additionsHead;null!=c;c=c._nextAdded)c.previousValue=c.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(c,f){Object.is(f,c.currentValue)||(c.previousValue=c.currentValue,c.currentValue=f,this._addToChanges(c))}_addToAdditions(c){null===this._additionsHead?this._additionsHead=this._additionsTail=c:(this._additionsTail._nextAdded=c,this._additionsTail=c)}_addToChanges(c){null===this._changesHead?this._changesHead=this._changesTail=c:(this._changesTail._nextChanged=c,this._changesTail=c)}_forEach(c,f){c instanceof Map?c.forEach(f):Object.keys(c).forEach(_=>f(c[_],_))}}class gC{constructor(c){this.key=c,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function My(){return new p0([new wy])}let p0=(()=>{class l{constructor(f){this.factories=f}static create(f,_){if(null!=_){const x=_.factories.slice();f=f.concat(x)}return new l(f)}static extend(f){return{provide:l,useFactory:_=>l.create(f,_||My()),deps:[[l,new sl,new oc]]}}find(f){const _=this.factories.find(x=>x.supports(f));if(null!=_)return _;throw new xe(901,!1)}}return l.\u0275prov=jt({token:l,providedIn:"root",factory:My}),l})();function Ey(){return new g0([new Sy])}let g0=(()=>{class l{constructor(f){this.factories=f}static create(f,_){if(_){const x=_.factories.slice();f=f.concat(x)}return new l(f)}static extend(f){return{provide:l,useFactory:_=>l.create(f,_||Ey()),deps:[[l,new sl,new oc]]}}find(f){const _=this.factories.find(x=>x.supports(f));if(_)return _;throw new xe(901,!1)}}return l.\u0275prov=jt({token:l,providedIn:"root",factory:Ey}),l})();const vC=uy(null,"core",[]);let yC=(()=>{class l{constructor(f){}}return l.\u0275fac=function(f){return new(f||l)(Fi(x_))},l.\u0275mod=Qn({type:l}),l.\u0275inj=En({}),l})();function bC(l){return"boolean"==typeof l?l:null!=l&&"false"!==l}},4006:(cn,Ve,G)=>{"use strict";G.d(Ve,{Cf:()=>be,F:()=>ur,Fj:()=>Q,JJ:()=>un,JL:()=>Ft,JU:()=>re,NI:()=>no,On:()=>os,Q7:()=>Wr,UX:()=>ya,Wl:()=>U,_:()=>sr,_Y:()=>hr,a5:()=>rt,cw:()=>bi,kI:()=>Ke,nJ:()=>ei,oH:()=>uo,p4:()=>wo,sg:()=>ro,u:()=>q,u5:()=>ar});var h=G(4650),C=G(6895),V=G(2076),ee=G(4128),pe=G(4004);let ue=(()=>{class Pe{constructor(fe,at){this._renderer=fe,this._elementRef=at,this.onChange=Tn=>{},this.onTouched=()=>{}}setProperty(fe,at){this._renderer.setProperty(this._elementRef.nativeElement,fe,at)}registerOnTouched(fe){this.onTouched=fe}registerOnChange(fe){this.onChange=fe}setDisabledState(fe){this.setProperty("disabled",fe)}}return Pe.\u0275fac=function(fe){return new(fe||Pe)(h.Y36(h.Qsj),h.Y36(h.SBq))},Pe.\u0275dir=h.lG2({type:Pe}),Pe})(),ve=(()=>{class Pe extends ue{}return Pe.\u0275fac=function(){let ye;return function(at){return(ye||(ye=h.n5z(Pe)))(at||Pe)}}(),Pe.\u0275dir=h.lG2({type:Pe,features:[h.qOj]}),Pe})();const re=new h.OlP("NgValueAccessor"),le={provide:re,useExisting:(0,h.Gpc)(()=>U),multi:!0};let U=(()=>{class Pe extends ve{writeValue(fe){this.setProperty("checked",fe)}}return Pe.\u0275fac=function(){let ye;return function(at){return(ye||(ye=h.n5z(Pe)))(at||Pe)}}(),Pe.\u0275dir=h.lG2({type:Pe,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(fe,at){1&fe&&h.NdJ("change",function(ir){return at.onChange(ir.target.checked)})("blur",function(){return at.onTouched()})},features:[h._Bn([le]),h.qOj]}),Pe})();const y={provide:re,useExisting:(0,h.Gpc)(()=>Q),multi:!0},$=new h.OlP("CompositionEventMode");let Q=(()=>{class Pe extends ue{constructor(fe,at,Tn){super(fe,at),this._compositionMode=Tn,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function O(){const Pe=(0,C.q)()?(0,C.q)().getUserAgent():"";return/android (\d+)/.test(Pe.toLowerCase())}())}writeValue(fe){this.setProperty("value",fe??"")}_handleInput(fe){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(fe)}_compositionStart(){this._composing=!0}_compositionEnd(fe){this._composing=!1,this._compositionMode&&this.onChange(fe)}}return Pe.\u0275fac=function(fe){return new(fe||Pe)(h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36($,8))},Pe.\u0275dir=h.lG2({type:Pe,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(fe,at){1&fe&&h.NdJ("input",function(ir){return at._handleInput(ir.target.value)})("blur",function(){return at.onTouched()})("compositionstart",function(){return at._compositionStart()})("compositionend",function(ir){return at._compositionEnd(ir.target.value)})},features:[h._Bn([y]),h.qOj]}),Pe})();const oe=!1;function Ce(Pe){return null==Pe||("string"==typeof Pe||Array.isArray(Pe))&&0===Pe.length}function xe(Pe){return null!=Pe&&"number"==typeof Pe.length}const be=new h.OlP("NgValidators"),ke=new h.OlP("NgAsyncValidators"),Ze=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ke{static min(ye){return function De(Pe){return ye=>{if(Ce(ye.value)||Ce(Pe))return null;const fe=parseFloat(ye.value);return!isNaN(fe)&&fe<Pe?{min:{min:Pe,actual:ye.value}}:null}}(ye)}static max(ye){return function et(Pe){return ye=>{if(Ce(ye.value)||Ce(Pe))return null;const fe=parseFloat(ye.value);return!isNaN(fe)&&fe>Pe?{max:{max:Pe,actual:ye.value}}:null}}(ye)}static required(ye){return tt(ye)}static requiredTrue(ye){return function u(Pe){return!0===Pe.value?null:{required:!0}}(ye)}static email(ye){return function dt(Pe){return Ce(Pe.value)||Ze.test(Pe.value)?null:{email:!0}}(ye)}static minLength(ye){return function we(Pe){return ye=>Ce(ye.value)||!xe(ye.value)?null:ye.value.length<Pe?{minlength:{requiredLength:Pe,actualLength:ye.value.length}}:null}(ye)}static maxLength(ye){return function mt(Pe){return ye=>xe(ye.value)&&ye.value.length>Pe?{maxlength:{requiredLength:Pe,actualLength:ye.value.length}}:null}(ye)}static pattern(ye){return function Gt(Pe){if(!Pe)return Le;let ye,fe;return"string"==typeof Pe?(fe="","^"!==Pe.charAt(0)&&(fe+="^"),fe+=Pe,"$"!==Pe.charAt(Pe.length-1)&&(fe+="$"),ye=new RegExp(fe)):(fe=Pe.toString(),ye=Pe),at=>{if(Ce(at.value))return null;const Tn=at.value;return ye.test(Tn)?null:{pattern:{requiredPattern:fe,actualValue:Tn}}}}(ye)}static nullValidator(ye){return null}static compose(ye){return X(ye)}static composeAsync(ye){return me(ye)}}function tt(Pe){return Ce(Pe.value)?{required:!0}:null}function Le(Pe){return null}function H(Pe){return null!=Pe}function g(Pe){const ye=(0,h.QGY)(Pe)?(0,V.D)(Pe):Pe;if(oe&&!(0,h.CqO)(ye)){let fe="Expected async validator to return Promise or Observable.";throw"object"==typeof Pe&&(fe+=" Are you using a synchronous validator where an async validator is expected?"),new h.vHH(-1101,fe)}return ye}function F(Pe){let ye={};return Pe.forEach(fe=>{ye=null!=fe?{...ye,...fe}:ye}),0===Object.keys(ye).length?null:ye}function b(Pe,ye){return ye.map(fe=>fe(Pe))}function W(Pe){return Pe.map(ye=>function Z(Pe){return!Pe.validate}(ye)?ye:fe=>ye.validate(fe))}function X(Pe){if(!Pe)return null;const ye=Pe.filter(H);return 0==ye.length?null:function(fe){return F(b(fe,ye))}}function de(Pe){return null!=Pe?X(W(Pe)):null}function me(Pe){if(!Pe)return null;const ye=Pe.filter(H);return 0==ye.length?null:function(fe){const at=b(fe,ye).map(g);return(0,ee.D)(at).pipe((0,pe.U)(F))}}function ft(Pe){return null!=Pe?me(W(Pe)):null}function pt(Pe,ye){return null===Pe?[ye]:Array.isArray(Pe)?[...Pe,ye]:[Pe,ye]}function Et(Pe){return Pe._rawValidators}function jt(Pe){return Pe._rawAsyncValidators}function xn(Pe){return Pe?Array.isArray(Pe)?Pe:[Pe]:[]}function En(Pe,ye){return Array.isArray(Pe)?Pe.includes(ye):Pe===ye}function In(Pe,ye){const fe=xn(ye);return xn(Pe).forEach(Tn=>{En(fe,Tn)||fe.push(Tn)}),fe}function Te(Pe,ye){return xn(ye).filter(fe=>!En(Pe,fe))}class $t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(ye){this._rawValidators=ye||[],this._composedValidatorFn=de(this._rawValidators)}_setAsyncValidators(ye){this._rawAsyncValidators=ye||[],this._composedAsyncValidatorFn=ft(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(ye){this._onDestroyCallbacks.push(ye)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(ye=>ye()),this._onDestroyCallbacks=[]}reset(ye){this.control&&this.control.reset(ye)}hasError(ye,fe){return!!this.control&&this.control.hasError(ye,fe)}getError(ye,fe){return this.control?this.control.getError(ye,fe):null}}class Lt extends $t{get formDirective(){return null}get path(){return null}}class rt extends $t{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class _t{constructor(ye){this._cd=ye}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let un=(()=>{class Pe extends _t{constructor(fe){super(fe)}}return Pe.\u0275fac=function(fe){return new(fe||Pe)(h.Y36(rt,2))},Pe.\u0275dir=h.lG2({type:Pe,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(fe,at){2&fe&&h.ekj("ng-untouched",at.isUntouched)("ng-touched",at.isTouched)("ng-pristine",at.isPristine)("ng-dirty",at.isDirty)("ng-valid",at.isValid)("ng-invalid",at.isInvalid)("ng-pending",at.isPending)},features:[h.qOj]}),Pe})(),Ft=(()=>{class Pe extends _t{constructor(fe){super(fe)}}return Pe.\u0275fac=function(fe){return new(fe||Pe)(h.Y36(Lt,10))},Pe.\u0275dir=h.lG2({type:Pe,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(fe,at){2&fe&&h.ekj("ng-untouched",at.isUntouched)("ng-touched",at.isTouched)("ng-pristine",at.isPristine)("ng-dirty",at.isDirty)("ng-valid",at.isValid)("ng-invalid",at.isInvalid)("ng-pending",at.isPending)("ng-submitted",at.isSubmitted)},features:[h.qOj]}),Pe})();function Kn(Pe,ye){return Pe?`with name: '${ye}'`:`at index: ${ye}`}const Ei=!1,fo="VALID",Fi="INVALID",Xr="PENDING",pn="DISABLED";function nt(Pe){return(on(Pe)?Pe.validators:Pe)||null}function Xe(Pe,ye){return(on(ye)?ye.asyncValidators:Pe)||null}function on(Pe){return null!=Pe&&!Array.isArray(Pe)&&"object"==typeof Pe}class pi{constructor(ye,fe){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(ye),this._assignAsyncValidators(fe)}get validator(){return this._composedValidatorFn}set validator(ye){this._rawValidators=this._composedValidatorFn=ye}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(ye){this._rawAsyncValidators=this._composedAsyncValidatorFn=ye}get parent(){return this._parent}get valid(){return this.status===fo}get invalid(){return this.status===Fi}get pending(){return this.status==Xr}get disabled(){return this.status===pn}get enabled(){return this.status!==pn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(ye){this._assignValidators(ye)}setAsyncValidators(ye){this._assignAsyncValidators(ye)}addValidators(ye){this.setValidators(In(ye,this._rawValidators))}addAsyncValidators(ye){this.setAsyncValidators(In(ye,this._rawAsyncValidators))}removeValidators(ye){this.setValidators(Te(ye,this._rawValidators))}removeAsyncValidators(ye){this.setAsyncValidators(Te(ye,this._rawAsyncValidators))}hasValidator(ye){return En(this._rawValidators,ye)}hasAsyncValidator(ye){return En(this._rawAsyncValidators,ye)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(ye={}){this.touched=!0,this._parent&&!ye.onlySelf&&this._parent.markAsTouched(ye)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(ye=>ye.markAllAsTouched())}markAsUntouched(ye={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(fe=>{fe.markAsUntouched({onlySelf:!0})}),this._parent&&!ye.onlySelf&&this._parent._updateTouched(ye)}markAsDirty(ye={}){this.pristine=!1,this._parent&&!ye.onlySelf&&this._parent.markAsDirty(ye)}markAsPristine(ye={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(fe=>{fe.markAsPristine({onlySelf:!0})}),this._parent&&!ye.onlySelf&&this._parent._updatePristine(ye)}markAsPending(ye={}){this.status=Xr,!1!==ye.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!ye.onlySelf&&this._parent.markAsPending(ye)}disable(ye={}){const fe=this._parentMarkedDirty(ye.onlySelf);this.status=pn,this.errors=null,this._forEachChild(at=>{at.disable({...ye,onlySelf:!0})}),this._updateValue(),!1!==ye.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...ye,skipPristineCheck:fe}),this._onDisabledChange.forEach(at=>at(!0))}enable(ye={}){const fe=this._parentMarkedDirty(ye.onlySelf);this.status=fo,this._forEachChild(at=>{at.enable({...ye,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:ye.emitEvent}),this._updateAncestors({...ye,skipPristineCheck:fe}),this._onDisabledChange.forEach(at=>at(!1))}_updateAncestors(ye){this._parent&&!ye.onlySelf&&(this._parent.updateValueAndValidity(ye),ye.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(ye){this._parent=ye}getRawValue(){return this.value}updateValueAndValidity(ye={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===fo||this.status===Xr)&&this._runAsyncValidator(ye.emitEvent)),!1!==ye.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!ye.onlySelf&&this._parent.updateValueAndValidity(ye)}_updateTreeValidity(ye={emitEvent:!0}){this._forEachChild(fe=>fe._updateTreeValidity(ye)),this.updateValueAndValidity({onlySelf:!0,emitEvent:ye.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?pn:fo}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(ye){if(this.asyncValidator){this.status=Xr,this._hasOwnPendingAsyncValidator=!0;const fe=g(this.asyncValidator(this));this._asyncValidationSubscription=fe.subscribe(at=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(at,{emitEvent:ye})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(ye,fe={}){this.errors=ye,this._updateControlsErrors(!1!==fe.emitEvent)}get(ye){let fe=ye;return null==fe||(Array.isArray(fe)||(fe=fe.split(".")),0===fe.length)?null:fe.reduce((at,Tn)=>at&&at._find(Tn),this)}getError(ye,fe){const at=fe?this.get(fe):this;return at&&at.errors?at.errors[ye]:null}hasError(ye,fe){return!!this.getError(ye,fe)}get root(){let ye=this;for(;ye._parent;)ye=ye._parent;return ye}_updateControlsErrors(ye){this.status=this._calculateStatus(),ye&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(ye)}_initObservables(){this.valueChanges=new h.vpe,this.statusChanges=new h.vpe}_calculateStatus(){return this._allControlsDisabled()?pn:this.errors?Fi:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Xr)?Xr:this._anyControlsHaveStatus(Fi)?Fi:fo}_anyControlsHaveStatus(ye){return this._anyControls(fe=>fe.status===ye)}_anyControlsDirty(){return this._anyControls(ye=>ye.dirty)}_anyControlsTouched(){return this._anyControls(ye=>ye.touched)}_updatePristine(ye={}){this.pristine=!this._anyControlsDirty(),this._parent&&!ye.onlySelf&&this._parent._updatePristine(ye)}_updateTouched(ye={}){this.touched=this._anyControlsTouched(),this._parent&&!ye.onlySelf&&this._parent._updateTouched(ye)}_registerOnCollectionChange(ye){this._onCollectionChange=ye}_setUpdateStrategy(ye){on(ye)&&null!=ye.updateOn&&(this._updateOn=ye.updateOn)}_parentMarkedDirty(ye){return!ye&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(ye){return null}_assignValidators(ye){this._rawValidators=Array.isArray(ye)?ye.slice():ye,this._composedValidatorFn=function He(Pe){return Array.isArray(Pe)?de(Pe):Pe||null}(this._rawValidators)}_assignAsyncValidators(ye){this._rawAsyncValidators=Array.isArray(ye)?ye.slice():ye,this._composedAsyncValidatorFn=function ln(Pe){return Array.isArray(Pe)?ft(Pe):Pe||null}(this._rawAsyncValidators)}}class bi extends pi{constructor(ye,fe,at){super(nt(fe),Xe(at,fe)),this.controls=ye,this._initObservables(),this._setUpdateStrategy(fe),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(ye,fe){return this.controls[ye]?this.controls[ye]:(this.controls[ye]=fe,fe.setParent(this),fe._registerOnCollectionChange(this._onCollectionChange),fe)}addControl(ye,fe,at={}){this.registerControl(ye,fe),this.updateValueAndValidity({emitEvent:at.emitEvent}),this._onCollectionChange()}removeControl(ye,fe={}){this.controls[ye]&&this.controls[ye]._registerOnCollectionChange(()=>{}),delete this.controls[ye],this.updateValueAndValidity({emitEvent:fe.emitEvent}),this._onCollectionChange()}setControl(ye,fe,at={}){this.controls[ye]&&this.controls[ye]._registerOnCollectionChange(()=>{}),delete this.controls[ye],fe&&this.registerControl(ye,fe),this.updateValueAndValidity({emitEvent:at.emitEvent}),this._onCollectionChange()}contains(ye){return this.controls.hasOwnProperty(ye)&&this.controls[ye].enabled}setValue(ye,fe={}){(function Wi(Pe,ye,fe){Pe._forEachChild((at,Tn)=>{if(void 0===fe[Tn])throw new h.vHH(1002,Ei?function Fr(Pe,ye){return`Must supply a value for form control ${Kn(Pe,ye)}`}(ye,Tn):"")})})(this,!0,ye),Object.keys(ye).forEach(at=>{(function Ln(Pe,ye,fe){const at=Pe.controls;if(!(ye?Object.keys(at):at).length)throw new h.vHH(1e3,Ei?function Fn(Pe){return`\n    There are no form controls registered with this ${Pe?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(ye):"");if(!at[fe])throw new h.vHH(1001,Ei?function dr(Pe,ye){return`Cannot find form control ${Kn(Pe,ye)}`}(ye,fe):"")})(this,!0,at),this.controls[at].setValue(ye[at],{onlySelf:!0,emitEvent:fe.emitEvent})}),this.updateValueAndValidity(fe)}patchValue(ye,fe={}){null!=ye&&(Object.keys(ye).forEach(at=>{const Tn=this.controls[at];Tn&&Tn.patchValue(ye[at],{onlySelf:!0,emitEvent:fe.emitEvent})}),this.updateValueAndValidity(fe))}reset(ye={},fe={}){this._forEachChild((at,Tn)=>{at.reset(ye[Tn],{onlySelf:!0,emitEvent:fe.emitEvent})}),this._updatePristine(fe),this._updateTouched(fe),this.updateValueAndValidity(fe)}getRawValue(){return this._reduceChildren({},(ye,fe,at)=>(ye[at]=fe.getRawValue(),ye))}_syncPendingControls(){let ye=this._reduceChildren(!1,(fe,at)=>!!at._syncPendingControls()||fe);return ye&&this.updateValueAndValidity({onlySelf:!0}),ye}_forEachChild(ye){Object.keys(this.controls).forEach(fe=>{const at=this.controls[fe];at&&ye(at,fe)})}_setUpControls(){this._forEachChild(ye=>{ye.setParent(this),ye._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(ye){for(const[fe,at]of Object.entries(this.controls))if(this.contains(fe)&&ye(at))return!0;return!1}_reduceValue(){return this._reduceChildren({},(fe,at,Tn)=>((at.enabled||this.disabled)&&(fe[Tn]=at.value),fe))}_reduceChildren(ye,fe){let at=ye;return this._forEachChild((Tn,ir)=>{at=fe(at,Tn,ir)}),at}_allControlsDisabled(){for(const ye of Object.keys(this.controls))if(this.controls[ye].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(ye){return this.controls.hasOwnProperty(ye)?this.controls[ye]:null}}const ei=bi,Ae=new h.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Ne}),Ne="always";function Mt(Pe,ye){return[...ye.path,Pe]}function Wt(Pe,ye,fe=Ne){sn(Pe,ye),ye.valueAccessor.writeValue(Pe.value),(Pe.disabled||"always"===fe)&&ye.valueAccessor.setDisabledState?.(Pe.disabled),function Qn(Pe,ye){ye.valueAccessor.registerOnChange(fe=>{Pe._pendingValue=fe,Pe._pendingChange=!0,Pe._pendingDirty=!0,"change"===Pe.updateOn&&Vn(Pe,ye)})}(Pe,ye),function Pi(Pe,ye){const fe=(at,Tn)=>{ye.valueAccessor.writeValue(at),Tn&&ye.viewToModelUpdate(at)};Pe.registerOnChange(fe),ye._registerOnDestroy(()=>{Pe._unregisterOnChange(fe)})}(Pe,ye),function Zn(Pe,ye){ye.valueAccessor.registerOnTouched(()=>{Pe._pendingTouched=!0,"blur"===Pe.updateOn&&Pe._pendingChange&&Vn(Pe,ye),"submit"!==Pe.updateOn&&Pe.markAsTouched()})}(Pe,ye),function ht(Pe,ye){if(ye.valueAccessor.setDisabledState){const fe=at=>{ye.valueAccessor.setDisabledState(at)};Pe.registerOnDisabledChange(fe),ye._registerOnDestroy(()=>{Pe._unregisterOnDisabledChange(fe)})}}(Pe,ye)}function Qe(Pe,ye,fe=!0){const at=()=>{};ye.valueAccessor&&(ye.valueAccessor.registerOnChange(at),ye.valueAccessor.registerOnTouched(at)),gn(Pe,ye),Pe&&(ye._invokeOnDestroyCallbacks(),Pe._registerOnCollectionChange(()=>{}))}function Zt(Pe,ye){Pe.forEach(fe=>{fe.registerOnValidatorChange&&fe.registerOnValidatorChange(ye)})}function sn(Pe,ye){const fe=Et(Pe);null!==ye.validator?Pe.setValidators(pt(fe,ye.validator)):"function"==typeof fe&&Pe.setValidators([fe]);const at=jt(Pe);null!==ye.asyncValidator?Pe.setAsyncValidators(pt(at,ye.asyncValidator)):"function"==typeof at&&Pe.setAsyncValidators([at]);const Tn=()=>Pe.updateValueAndValidity();Zt(ye._rawValidators,Tn),Zt(ye._rawAsyncValidators,Tn)}function gn(Pe,ye){let fe=!1;if(null!==Pe){if(null!==ye.validator){const Tn=Et(Pe);if(Array.isArray(Tn)&&Tn.length>0){const ir=Tn.filter(Go=>Go!==ye.validator);ir.length!==Tn.length&&(fe=!0,Pe.setValidators(ir))}}if(null!==ye.asyncValidator){const Tn=jt(Pe);if(Array.isArray(Tn)&&Tn.length>0){const ir=Tn.filter(Go=>Go!==ye.asyncValidator);ir.length!==Tn.length&&(fe=!0,Pe.setAsyncValidators(ir))}}}const at=()=>{};return Zt(ye._rawValidators,at),Zt(ye._rawAsyncValidators,at),fe}function Vn(Pe,ye){Pe._pendingDirty&&Pe.markAsDirty(),Pe.setValue(Pe._pendingValue,{emitModelToViewChange:!1}),ye.viewToModelUpdate(Pe._pendingValue),Pe._pendingChange=!1}function Ui(Pe,ye){sn(Pe,ye)}function Ts(Pe,ye){if(!Pe.hasOwnProperty("model"))return!1;const fe=Pe.model;return!!fe.isFirstChange()||!Object.is(ye,fe.currentValue)}function qo(Pe,ye){Pe._syncPendingControls(),ye.forEach(fe=>{const at=fe.control;"submit"===at.updateOn&&at._pendingChange&&(fe.viewToModelUpdate(at._pendingValue),at._pendingChange=!1)})}function ii(Pe,ye){if(!ye)return null;let fe,at,Tn;return Array.isArray(ye),ye.forEach(ir=>{ir.constructor===Q?fe=ir:function ks(Pe){return Object.getPrototypeOf(Pe.constructor)===ve}(ir)?at=ir:Tn=ir}),Tn||at||fe||null}const Eo={provide:Lt,useExisting:(0,h.Gpc)(()=>ur)},_o=(()=>Promise.resolve())();let ur=(()=>{class Pe extends Lt{constructor(fe,at,Tn){super(),this.callSetDisabledState=Tn,this.submitted=!1,this._directives=new Set,this.ngSubmit=new h.vpe,this.form=new bi({},de(fe),ft(at))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(fe){_o.then(()=>{const at=this._findContainer(fe.path);fe.control=at.registerControl(fe.name,fe.control),Wt(fe.control,fe,this.callSetDisabledState),fe.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(fe)})}getControl(fe){return this.form.get(fe.path)}removeControl(fe){_o.then(()=>{const at=this._findContainer(fe.path);at&&at.removeControl(fe.name),this._directives.delete(fe)})}addFormGroup(fe){_o.then(()=>{const at=this._findContainer(fe.path),Tn=new bi({});Ui(Tn,fe),at.registerControl(fe.name,Tn),Tn.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(fe){_o.then(()=>{const at=this._findContainer(fe.path);at&&at.removeControl(fe.name)})}getFormGroup(fe){return this.form.get(fe.path)}updateModel(fe,at){_o.then(()=>{this.form.get(fe.path).setValue(at)})}setValue(fe){this.control.setValue(fe)}onSubmit(fe){return this.submitted=!0,qo(this.form,this._directives),this.ngSubmit.emit(fe),"dialog"===fe?.target?.method}onReset(){this.resetForm()}resetForm(fe){this.form.reset(fe),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(fe){return fe.pop(),fe.length?this.form.get(fe):this.form}}return Pe.\u0275fac=function(fe){return new(fe||Pe)(h.Y36(be,10),h.Y36(ke,10),h.Y36(Ae,8))},Pe.\u0275dir=h.lG2({type:Pe,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(fe,at){1&fe&&h.NdJ("submit",function(ir){return at.onSubmit(ir)})("reset",function(){return at.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h._Bn([Eo]),h.qOj]}),Pe})();function No(Pe,ye){const fe=Pe.indexOf(ye);fe>-1&&Pe.splice(fe,1)}function pr(Pe){return"object"==typeof Pe&&null!==Pe&&2===Object.keys(Pe).length&&"value"in Pe&&"disabled"in Pe}const no=class extends pi{constructor(ye=null,fe,at){super(nt(fe),Xe(at,fe)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(ye),this._setUpdateStrategy(fe),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),on(fe)&&(fe.nonNullable||fe.initialValueIsDefault)&&(this.defaultValue=pr(ye)?ye.value:ye)}setValue(ye,fe={}){this.value=this._pendingValue=ye,this._onChange.length&&!1!==fe.emitModelToViewChange&&this._onChange.forEach(at=>at(this.value,!1!==fe.emitViewToModelChange)),this.updateValueAndValidity(fe)}patchValue(ye,fe={}){this.setValue(ye,fe)}reset(ye=this.defaultValue,fe={}){this._applyFormState(ye),this.markAsPristine(fe),this.markAsUntouched(fe),this.setValue(this.value,fe),this._pendingChange=!1}_updateValue(){}_anyControls(ye){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(ye){this._onChange.push(ye)}_unregisterOnChange(ye){No(this._onChange,ye)}registerOnDisabledChange(ye){this._onDisabledChange.push(ye)}_unregisterOnDisabledChange(ye){No(this._onDisabledChange,ye)}_forEachChild(ye){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(ye){pr(ye)?(this.value=this._pendingValue=ye.value,ye.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=ye}},wo=no,Oo={provide:rt,useExisting:(0,h.Gpc)(()=>os)},Is=(()=>Promise.resolve())();let os=(()=>{class Pe extends rt{constructor(fe,at,Tn,ir,Go,Sn){super(),this._changeDetectorRef=Go,this.callSetDisabledState=Sn,this.control=new no,this._registered=!1,this.update=new h.vpe,this._parent=fe,this._setValidators(at),this._setAsyncValidators(Tn),this.valueAccessor=ii(0,ir)}ngOnChanges(fe){if(this._checkForErrors(),!this._registered||"name"in fe){if(this._registered&&(this._checkName(),this.formDirective)){const at=fe.name.previousValue;this.formDirective.removeControl({name:at,path:this._getPath(at)})}this._setUpControl()}"isDisabled"in fe&&this._updateDisabled(fe),Ts(fe,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(fe){this.viewModel=fe,this.update.emit(fe)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Wt(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(fe){Is.then(()=>{this.control.setValue(fe,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(fe){const at=fe.isDisabled.currentValue,Tn=0!==at&&(0,h.D6c)(at);Is.then(()=>{Tn&&!this.control.disabled?this.control.disable():!Tn&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(fe){return this._parent?Mt(fe,this._parent):[fe]}}return Pe.\u0275fac=function(fe){return new(fe||Pe)(h.Y36(Lt,9),h.Y36(be,10),h.Y36(ke,10),h.Y36(re,10),h.Y36(h.sBO,8),h.Y36(Ae,8))},Pe.\u0275dir=h.lG2({type:Pe,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[h._Bn([Oo]),h.qOj,h.TTD]}),Pe})(),hr=(()=>{class Pe{}return Pe.\u0275fac=function(fe){return new(fe||Pe)},Pe.\u0275dir=h.lG2({type:Pe,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),Pe})();const Nr={provide:re,useExisting:(0,h.Gpc)(()=>sr),multi:!0};let As=(()=>{class Pe{}return Pe.\u0275fac=function(fe){return new(fe||Pe)},Pe.\u0275mod=h.oAB({type:Pe}),Pe.\u0275inj=h.cJS({}),Pe})(),vs=(()=>{class Pe{constructor(){this._accessors=[]}add(fe,at){this._accessors.push([fe,at])}remove(fe){for(let at=this._accessors.length-1;at>=0;--at)if(this._accessors[at][1]===fe)return void this._accessors.splice(at,1)}select(fe){this._accessors.forEach(at=>{this._isSameGroup(at,fe)&&at[1]!==fe&&at[1].fireUncheck(fe.value)})}_isSameGroup(fe,at){return!!fe[0].control&&fe[0]._parent===at._control._parent&&fe[1].name===at.name}}return Pe.\u0275fac=function(fe){return new(fe||Pe)},Pe.\u0275prov=h.Yz7({token:Pe,factory:Pe.\u0275fac,providedIn:As}),Pe})(),sr=(()=>{class Pe extends ve{constructor(fe,at,Tn,ir){super(fe,at),this._registry=Tn,this._injector=ir,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=(0,h.f3M)(Ae,{optional:!0})??Ne}ngOnInit(){this._control=this._injector.get(rt),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(fe){this._state=fe===this.value,this.setProperty("checked",this._state)}registerOnChange(fe){this._fn=fe,this.onChange=()=>{fe(this.value),this._registry.select(this)}}setDisabledState(fe){(this.setDisabledStateFired||fe||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",fe),this.setDisabledStateFired=!0}fireUncheck(fe){this.writeValue(fe)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return Pe.\u0275fac=function(fe){return new(fe||Pe)(h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(vs),h.Y36(h.zs3))},Pe.\u0275dir=h.lG2({type:Pe,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(fe,at){1&fe&&h.NdJ("change",function(){return at.onChange()})("blur",function(){return at.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[h._Bn([Nr]),h.qOj]}),Pe})();const go=new h.OlP("NgModelWithFormControlWarning"),Fs={provide:rt,useExisting:(0,h.Gpc)(()=>uo)};let uo=(()=>{class Pe extends rt{set isDisabled(fe){}constructor(fe,at,Tn,ir,Go){super(),this._ngModelWarningConfig=ir,this.callSetDisabledState=Go,this.update=new h.vpe,this._ngModelWarningSent=!1,this._setValidators(fe),this._setAsyncValidators(at),this.valueAccessor=ii(0,Tn)}ngOnChanges(fe){if(this._isControlChanged(fe)){const at=fe.form.previousValue;at&&Qe(at,this,!1),Wt(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}Ts(fe,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Qe(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(fe){this.viewModel=fe,this.update.emit(fe)}_isControlChanged(fe){return fe.hasOwnProperty("form")}}return Pe._ngModelWarningSentOnce=!1,Pe.\u0275fac=function(fe){return new(fe||Pe)(h.Y36(be,10),h.Y36(ke,10),h.Y36(re,10),h.Y36(go,8),h.Y36(Ae,8))},Pe.\u0275dir=h.lG2({type:Pe,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[h._Bn([Fs]),h.qOj,h.TTD]}),Pe})();const Di={provide:Lt,useExisting:(0,h.Gpc)(()=>ro)};let ro=(()=>{class Pe extends Lt{constructor(fe,at,Tn){super(),this.callSetDisabledState=Tn,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new h.vpe,this._setValidators(fe),this._setAsyncValidators(at)}ngOnChanges(fe){this._checkFormPresent(),fe.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(gn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(fe){const at=this.form.get(fe.path);return Wt(at,fe,this.callSetDisabledState),at.updateValueAndValidity({emitEvent:!1}),this.directives.push(fe),at}getControl(fe){return this.form.get(fe.path)}removeControl(fe){Qe(fe.control||null,fe,!1),function qi(Pe,ye){const fe=Pe.indexOf(ye);fe>-1&&Pe.splice(fe,1)}(this.directives,fe)}addFormGroup(fe){this._setUpFormContainer(fe)}removeFormGroup(fe){this._cleanUpFormContainer(fe)}getFormGroup(fe){return this.form.get(fe.path)}addFormArray(fe){this._setUpFormContainer(fe)}removeFormArray(fe){this._cleanUpFormContainer(fe)}getFormArray(fe){return this.form.get(fe.path)}updateModel(fe,at){this.form.get(fe.path).setValue(at)}onSubmit(fe){return this.submitted=!0,qo(this.form,this.directives),this.ngSubmit.emit(fe),"dialog"===fe?.target?.method}onReset(){this.resetForm()}resetForm(fe){this.form.reset(fe),this.submitted=!1}_updateDomValue(){this.directives.forEach(fe=>{const at=fe.control,Tn=this.form.get(fe.path);at!==Tn&&(Qe(at||null,fe),(Pe=>Pe instanceof no)(Tn)&&(Wt(Tn,fe,this.callSetDisabledState),fe.control=Tn))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(fe){const at=this.form.get(fe.path);Ui(at,fe),at.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(fe){if(this.form){const at=this.form.get(fe.path);at&&function Ii(Pe,ye){return gn(Pe,ye)}(at,fe)&&at.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){sn(this.form,this),this._oldForm&&gn(this._oldForm,this)}_checkFormPresent(){}}return Pe.\u0275fac=function(fe){return new(fe||Pe)(h.Y36(be,10),h.Y36(ke,10),h.Y36(Ae,8))},Pe.\u0275dir=h.lG2({type:Pe,selectors:[["","formGroup",""]],hostBindings:function(fe,at){1&fe&&h.NdJ("submit",function(ir){return at.onSubmit(ir)})("reset",function(){return at.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h._Bn([Di]),h.qOj,h.TTD]}),Pe})();const Tt={provide:rt,useExisting:(0,h.Gpc)(()=>q)};let q=(()=>{class Pe extends rt{set isDisabled(fe){}constructor(fe,at,Tn,ir,Go){super(),this._ngModelWarningConfig=Go,this._added=!1,this.update=new h.vpe,this._ngModelWarningSent=!1,this._parent=fe,this._setValidators(at),this._setAsyncValidators(Tn),this.valueAccessor=ii(0,ir)}ngOnChanges(fe){this._added||this._setUpControl(),Ts(fe,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(fe){this.viewModel=fe,this.update.emit(fe)}get path(){return Mt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return Pe._ngModelWarningSentOnce=!1,Pe.\u0275fac=function(fe){return new(fe||Pe)(h.Y36(Lt,13),h.Y36(be,10),h.Y36(ke,10),h.Y36(re,10),h.Y36(go,8))},Pe.\u0275dir=h.lG2({type:Pe,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[h._Bn([Tt]),h.qOj,h.TTD]}),Pe})(),Xo=(()=>{class Pe{constructor(){this._validator=Le}ngOnChanges(fe){if(this.inputName in fe){const at=this.normalizeInput(fe[this.inputName].currentValue);this._enabled=this.enabled(at),this._validator=this._enabled?this.createValidator(at):Le,this._onChange&&this._onChange()}}validate(fe){return this._validator(fe)}registerOnValidatorChange(fe){this._onChange=fe}enabled(fe){return null!=fe}}return Pe.\u0275fac=function(fe){return new(fe||Pe)},Pe.\u0275dir=h.lG2({type:Pe,features:[h.TTD]}),Pe})();const xs={provide:be,useExisting:(0,h.Gpc)(()=>Wr),multi:!0};let Wr=(()=>{class Pe extends Xo{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=h.D6c,this.createValidator=fe=>tt}enabled(fe){return fe}}return Pe.\u0275fac=function(){let ye;return function(at){return(ye||(ye=h.n5z(Pe)))(at||Pe)}}(),Pe.\u0275dir=h.lG2({type:Pe,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(fe,at){2&fe&&h.uIk("required",at._enabled?"":null)},inputs:{required:"required"},features:[h._Bn([xs]),h.qOj]}),Pe})(),Ct=(()=>{class Pe{}return Pe.\u0275fac=function(fe){return new(fe||Pe)},Pe.\u0275mod=h.oAB({type:Pe}),Pe.\u0275inj=h.cJS({imports:[As]}),Pe})(),ar=(()=>{class Pe{static withConfig(fe){return{ngModule:Pe,providers:[{provide:Ae,useValue:fe.callSetDisabledState??Ne}]}}}return Pe.\u0275fac=function(fe){return new(fe||Pe)},Pe.\u0275mod=h.oAB({type:Pe}),Pe.\u0275inj=h.cJS({imports:[Ct]}),Pe})(),ya=(()=>{class Pe{static withConfig(fe){return{ngModule:Pe,providers:[{provide:go,useValue:fe.warnOnNgModelWithFormControl??"always"},{provide:Ae,useValue:fe.callSetDisabledState??Ne}]}}}return Pe.\u0275fac=function(fe){return new(fe||Pe)},Pe.\u0275mod=h.oAB({type:Pe}),Pe.\u0275inj=h.cJS({imports:[Ct]}),Pe})()},3238:(cn,Ve,G)=>{"use strict";G.d(Ve,{_A:()=>Z,rD:()=>xn,K7:()=>ni,HF:()=>Ge,Y2:()=>On,BQ:()=>et,ey:()=>Ei,Ng:()=>Xr,us:()=>Ht,wG:()=>Ti,si:()=>It,IR:()=>yn,CB:()=>fo,jH:()=>Fi,pj:()=>mt,Kr:()=>Gt,Id:()=>we,FD:()=>H,sb:()=>Le});var h=G(4650),C=G(2693),V=G(445),pe=G(6895),ue=G(3353),ve=G(1281),re=G(7579),le=G(9521);const O=["text"];function $(pn,nt){if(1&pn&&h._UZ(0,"mat-pseudo-checkbox",6),2&pn){const He=h.oxw();h.Q6J("state",He.selected?"checked":"unchecked")("disabled",He.disabled)}}function Q(pn,nt){if(1&pn&&h._UZ(0,"mat-pseudo-checkbox",7),2&pn){const He=h.oxw();h.Q6J("disabled",He.disabled)}}function oe(pn,nt){if(1&pn&&(h.TgZ(0,"span",8),h._uU(1),h.qZA()),2&pn){const He=h.oxw();h.xp6(1),h.hij("(",He.group.label,")")}}const Ce=[[["mat-icon"]],"*"],xe=["mat-icon","*"],De=new h.OlP("mat-sanity-checks",{providedIn:"root",factory:function Ke(){return!0}});let et=(()=>{class pn{constructor(He,Xe,ln){this._sanityChecks=Xe,this._document=ln,this._hasDoneGlobalChecks=!1,He._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(He){return!(0,ue.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[He])}}return pn.\u0275fac=function(He){return new(He||pn)(h.LFG(C.qm),h.LFG(De,8),h.LFG(pe.K0))},pn.\u0275mod=h.oAB({type:pn}),pn.\u0275inj=h.cJS({imports:[V.vT,V.vT]}),pn})();function we(pn){return class extends pn{get disabled(){return this._disabled}set disabled(nt){this._disabled=(0,ve.Ig)(nt)}constructor(...nt){super(...nt),this._disabled=!1}}}function mt(pn,nt){return class extends pn{get color(){return this._color}set color(He){const Xe=He||this.defaultColor;Xe!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),Xe&&this._elementRef.nativeElement.classList.add(`mat-${Xe}`),this._color=Xe)}constructor(...He){super(...He),this.defaultColor=nt,this.color=nt}}}function Gt(pn){return class extends pn{get disableRipple(){return this._disableRipple}set disableRipple(nt){this._disableRipple=(0,ve.Ig)(nt)}constructor(...nt){super(...nt),this._disableRipple=!1}}}function Le(pn,nt=0){return class extends pn{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(He){this._tabIndex=null!=He?(0,ve.su)(He):this.defaultTabIndex}constructor(...He){super(...He),this._tabIndex=nt,this.defaultTabIndex=nt}}}function H(pn){return class extends pn{updateErrorState(){const nt=this.errorState,on=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);on!==nt&&(this.errorState=on,this.stateChanges.next())}constructor(...nt){super(...nt),this.errorState=!1}}}class Z{constructor(){this._localeChanges=new re.x,this.localeChanges=this._localeChanges}getValidDateOrNull(nt){return this.isDateInstance(nt)&&this.isValid(nt)?nt:null}deserialize(nt){return null==nt||this.isDateInstance(nt)&&this.isValid(nt)?nt:this.invalid()}setLocale(nt){this.locale=nt,this._localeChanges.next()}compareDate(nt,He){return this.getYear(nt)-this.getYear(He)||this.getMonth(nt)-this.getMonth(He)||this.getDate(nt)-this.getDate(He)}sameDate(nt,He){if(nt&&He){let Xe=this.isValid(nt),ln=this.isValid(He);return Xe&&ln?!this.compareDate(nt,He):Xe==ln}return nt==He}clampDate(nt,He,Xe){return He&&this.compareDate(nt,He)<0?He:Xe&&this.compareDate(nt,Xe)>0?Xe:nt}}let xn=(()=>{class pn{isErrorState(He,Xe){return!!(He&&He.invalid&&(He.touched||Xe&&Xe.submitted))}}return pn.\u0275fac=function(He){return new(He||pn)},pn.\u0275prov=h.Yz7({token:pn,factory:pn.\u0275fac,providedIn:"root"}),pn})();class Lt{constructor(nt,He,Xe,ln=!1){this._renderer=nt,this.element=He,this.config=Xe,this._animationForciblyDisabledThroughCss=ln,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const rt=(0,ue.i$)({passive:!0,capture:!0});class _t{constructor(){this._events=new Map,this._delegateEventHandler=nt=>{const He=(0,ue.sA)(nt);He&&this._events.get(nt.type)?.forEach((Xe,ln)=>{(ln===He||ln.contains(He))&&Xe.forEach(on=>on.handleEvent(nt))})}}addHandler(nt,He,Xe,ln){const on=this._events.get(He);if(on){const Ln=on.get(Xe);Ln?Ln.add(ln):on.set(Xe,new Set([ln]))}else this._events.set(He,new Map([[Xe,new Set([ln])]])),nt.runOutsideAngular(()=>{document.addEventListener(He,this._delegateEventHandler,rt)})}removeHandler(nt,He,Xe){const ln=this._events.get(nt);if(!ln)return;const on=ln.get(He);on&&(on.delete(Xe),0===on.size&&ln.delete(He),0===ln.size&&(this._events.delete(nt),document.removeEventListener(nt,this._delegateEventHandler,rt)))}}const Ut={enterDuration:225,exitDuration:150},un=(0,ue.i$)({passive:!0,capture:!0}),Ft=["mousedown","touchstart"],Pn=["mouseup","mouseleave","touchend","touchcancel"];class yn{constructor(nt,He,Xe,ln){this._target=nt,this._ngZone=He,this._platform=ln,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,ln.isBrowser&&(this._containerElement=(0,ve.fI)(Xe))}fadeInRipple(nt,He,Xe={}){const ln=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),on={...Ut,...Xe.animation};Xe.centered&&(nt=ln.left+ln.width/2,He=ln.top+ln.height/2);const Ln=Xe.radius||function Dn(pn,nt,He){const Xe=Math.max(Math.abs(pn-He.left),Math.abs(pn-He.right)),ln=Math.max(Math.abs(nt-He.top),Math.abs(nt-He.bottom));return Math.sqrt(Xe*Xe+ln*ln)}(nt,He,ln),Wi=nt-ln.left,pi=He-ln.top,bi=on.enterDuration,ei=document.createElement("div");ei.classList.add("mat-ripple-element"),ei.style.left=Wi-Ln+"px",ei.style.top=pi-Ln+"px",ei.style.height=2*Ln+"px",ei.style.width=2*Ln+"px",null!=Xe.color&&(ei.style.backgroundColor=Xe.color),ei.style.transitionDuration=`${bi}ms`,this._containerElement.appendChild(ei);const si=window.getComputedStyle(ei),Je=si.transitionDuration,Ae="none"===si.transitionProperty||"0s"===Je||"0s, 0s"===Je||0===ln.width&&0===ln.height,Ne=new Lt(this,ei,Xe,Ae);ei.style.transform="scale3d(1, 1, 1)",Ne.state=0,Xe.persistent||(this._mostRecentTransientRipple=Ne);let Mt=null;return!Ae&&(bi||on.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Wt=()=>this._finishRippleTransition(Ne),Qe=()=>this._destroyRipple(Ne);ei.addEventListener("transitionend",Wt),ei.addEventListener("transitioncancel",Qe),Mt={onTransitionEnd:Wt,onTransitionCancel:Qe}}),this._activeRipples.set(Ne,Mt),(Ae||!bi)&&this._finishRippleTransition(Ne),Ne}fadeOutRipple(nt){if(2===nt.state||3===nt.state)return;const He=nt.element,Xe={...Ut,...nt.config.animation};He.style.transitionDuration=`${Xe.exitDuration}ms`,He.style.opacity="0",nt.state=2,(nt._animationForciblyDisabledThroughCss||!Xe.exitDuration)&&this._finishRippleTransition(nt)}fadeOutAll(){this._getActiveRipples().forEach(nt=>nt.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(nt=>{nt.config.persistent||nt.fadeOut()})}setupTriggerEvents(nt){const He=(0,ve.fI)(nt);!this._platform.isBrowser||!He||He===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=He,Ft.forEach(Xe=>{yn._eventManager.addHandler(this._ngZone,Xe,He,this)}))}handleEvent(nt){"mousedown"===nt.type?this._onMousedown(nt):"touchstart"===nt.type?this._onTouchStart(nt):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Pn.forEach(He=>{this._triggerElement.addEventListener(He,this,un)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(nt){0===nt.state?this._startFadeOutTransition(nt):2===nt.state&&this._destroyRipple(nt)}_startFadeOutTransition(nt){const He=nt===this._mostRecentTransientRipple,{persistent:Xe}=nt.config;nt.state=1,!Xe&&(!He||!this._isPointerDown)&&nt.fadeOut()}_destroyRipple(nt){const He=this._activeRipples.get(nt)??null;this._activeRipples.delete(nt),this._activeRipples.size||(this._containerRect=null),nt===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),nt.state=3,null!==He&&(nt.element.removeEventListener("transitionend",He.onTransitionEnd),nt.element.removeEventListener("transitioncancel",He.onTransitionCancel)),nt.element.remove()}_onMousedown(nt){const He=(0,C.X6)(nt),Xe=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!He&&!Xe&&(this._isPointerDown=!0,this.fadeInRipple(nt.clientX,nt.clientY,this._target.rippleConfig))}_onTouchStart(nt){if(!this._target.rippleDisabled&&!(0,C.yG)(nt)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const He=nt.changedTouches;for(let Xe=0;Xe<He.length;Xe++)this.fadeInRipple(He[Xe].clientX,He[Xe].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(nt=>{!nt.config.persistent&&(1===nt.state||nt.config.terminateOnPointerUp&&0===nt.state)&&nt.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const nt=this._triggerElement;nt&&(Ft.forEach(He=>yn._eventManager.removeHandler(He,nt,this)),this._pointerUpEventsRegistered&&Pn.forEach(He=>nt.removeEventListener(He,this,un)))}}yn._eventManager=new _t;const On=new h.OlP("mat-ripple-global-options");let Ti=(()=>{class pn{get disabled(){return this._disabled}set disabled(He){He&&this.fadeOutAllNonPersistent(),this._disabled=He,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(He){this._trigger=He,this._setupTriggerEventsIfEnabled()}constructor(He,Xe,ln,on,Ln){this._elementRef=He,this._animationMode=Ln,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=on||{},this._rippleRenderer=new yn(this,Xe,He,ln)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(He,Xe=0,ln){return"number"==typeof He?this._rippleRenderer.fadeInRipple(He,Xe,{...this.rippleConfig,...ln}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...He})}}return pn.\u0275fac=function(He){return new(He||pn)(h.Y36(h.SBq),h.Y36(h.R0b),h.Y36(ue.t4),h.Y36(On,8),h.Y36(h.QbO,8))},pn.\u0275dir=h.lG2({type:pn,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(He,Xe){2&He&&h.ekj("mat-ripple-unbounded",Xe.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),pn})(),It=(()=>{class pn{}return pn.\u0275fac=function(He){return new(He||pn)},pn.\u0275mod=h.oAB({type:pn}),pn.\u0275inj=h.cJS({imports:[et,et]}),pn})(),Ue=(()=>{class pn{constructor(He){this._animationMode=He,this.state="unchecked",this.disabled=!1,this.appearance="full"}}return pn.\u0275fac=function(He){return new(He||pn)(h.Y36(h.QbO,8))},pn.\u0275cmp=h.Xpm({type:pn,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(He,Xe){2&He&&h.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===Xe.state)("mat-pseudo-checkbox-checked","checked"===Xe.state)("mat-pseudo-checkbox-disabled",Xe.disabled)("mat-pseudo-checkbox-minimal","minimal"===Xe.appearance)("mat-pseudo-checkbox-full","full"===Xe.appearance)("_mat-animation-noopable","NoopAnimations"===Xe._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(He,Xe){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-full{border:2px solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0}),pn})(),Ht=(()=>{class pn{}return pn.\u0275fac=function(He){return new(He||pn)},pn.\u0275mod=h.oAB({type:pn}),pn.\u0275inj=h.cJS({imports:[et]}),pn})();const Ge=new h.OlP("MAT_OPTION_PARENT_COMPONENT"),ni=new h.OlP("MatOptgroup");let Fn=0;class dr{constructor(nt,He=!1){this.source=nt,this.isUserInput=He}}let Fr=(()=>{class pn{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(He){this._disabled=(0,ve.Ig)(He)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(He,Xe,ln,on){this._element=He,this._changeDetectorRef=Xe,this._parent=ln,this.group=on,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+Fn++,this.onSelectionChange=new h.vpe,this._stateChanges=new re.x}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(He,Xe){const ln=this._getHostElement();"function"==typeof ln.focus&&ln.focus(Xe)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(He){(He.keyCode===le.K5||He.keyCode===le.L_)&&!(0,le.Vb)(He)&&(this._selectViaInteraction(),He.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const He=this.viewValue;He!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=He)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(He=!1){this.onSelectionChange.emit(new dr(this,He))}}return pn.\u0275fac=function(He){h.$Z()},pn.\u0275dir=h.lG2({type:pn,viewQuery:function(He,Xe){if(1&He&&h.Gf(O,7),2&He){let ln;h.iGM(ln=h.CRH())&&(Xe._text=ln.first)}},inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),pn})(),Ei=(()=>{class pn extends Fr{constructor(He,Xe,ln,on){super(He,Xe,ln,on)}}return pn.\u0275fac=function(He){return new(He||pn)(h.Y36(h.SBq),h.Y36(h.sBO),h.Y36(Ge,8),h.Y36(ni,8))},pn.\u0275cmp=h.Xpm({type:pn,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(He,Xe){1&He&&h.NdJ("click",function(){return Xe._selectViaInteraction()})("keydown",function(on){return Xe._handleKeydown(on)}),2&He&&(h.Ikx("id",Xe.id),h.uIk("aria-selected",Xe.selected)("aria-disabled",Xe.disabled.toString()),h.ekj("mdc-list-item--selected",Xe.selected)("mat-mdc-option-multiple",Xe.multiple)("mat-mdc-option-active",Xe.active)("mdc-list-item--disabled",Xe.disabled))},exportAs:["matOption"],features:[h.qOj],ngContentSelectors:xe,decls:8,vars:5,consts:[["class","mat-mdc-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mdc-list-item__primary-text"],["text",""],["class","mat-mdc-option-pseudo-checkbox","state","checked","appearance","minimal",3,"disabled",4,"ngIf"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-mdc-option-pseudo-checkbox",3,"state","disabled"],["state","checked","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"]],template:function(He,Xe){1&He&&(h.F$t(Ce),h.YNc(0,$,1,2,"mat-pseudo-checkbox",0),h.Hsn(1),h.TgZ(2,"span",1,2),h.Hsn(4,1),h.qZA(),h.YNc(5,Q,1,1,"mat-pseudo-checkbox",3),h.YNc(6,oe,2,1,"span",4),h._UZ(7,"div",5)),2&He&&(h.Q6J("ngIf",Xe.multiple),h.xp6(5),h.Q6J("ngIf",!Xe.multiple&&Xe.selected&&!Xe.hideSingleSelectionIndicator),h.xp6(1),h.Q6J("ngIf",Xe.group&&Xe.group._inert),h.xp6(1),h.Q6J("matRippleTrigger",Xe._getHostElement())("matRippleDisabled",Xe.disabled||Xe.disableRipple))},dependencies:[Ti,pe.O5,Ue],styles:['.mat-mdc-option{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);min-height:48px}.mat-mdc-option:focus{outline:none}[dir=rtl] .mat-mdc-option,.mat-mdc-option[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-option.mdc-list-item{align-items:center}.mat-mdc-option.mdc-list-item--disabled{opacity:.38;cursor:default}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),pn})();function fo(pn,nt,He){if(He.length){let Xe=nt.toArray(),ln=He.toArray(),on=0;for(let Ln=0;Ln<pn+1;Ln++)Xe[Ln].group&&Xe[Ln].group===ln[on]&&on++;return on}return 0}function Fi(pn,nt,He,Xe){return pn<He?pn:pn+nt>He+Xe?Math.max(0,pn-Xe+nt):He}let Xr=(()=>{class pn{}return pn.\u0275fac=function(He){return new(He||pn)},pn.\u0275mod=h.oAB({type:pn}),pn.\u0275inj=h.cJS({imports:[It,pe.ez,et,Ht]}),pn})()},1481:(cn,Ve,G)=>{"use strict";G.d(Ve,{Dx:()=>Ue,H7:()=>pi,b2:()=>yn,q6:()=>fn,se:()=>H});var h=G(6895),C=G(4650);class V extends h.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ee extends V{static makeCurrent(){(0,h.HT)(new ee)}onAndCancel(Je,Ae,Ne){return Je.addEventListener(Ae,Ne,!1),()=>{Je.removeEventListener(Ae,Ne,!1)}}dispatchEvent(Je,Ae){Je.dispatchEvent(Ae)}remove(Je){Je.parentNode&&Je.parentNode.removeChild(Je)}createElement(Je,Ae){return(Ae=Ae||this.getDefaultDocument()).createElement(Je)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Je){return Je.nodeType===Node.ELEMENT_NODE}isShadowRoot(Je){return Je instanceof DocumentFragment}getGlobalEventTarget(Je,Ae){return"window"===Ae?window:"document"===Ae?Je:"body"===Ae?Je.body:null}getBaseHref(Je){const Ae=function ue(){return pe=pe||document.querySelector("base"),pe?pe.getAttribute("href"):null}();return null==Ae?null:function re(qt){ve=ve||document.createElement("a"),ve.setAttribute("href",qt);const Je=ve.pathname;return"/"===Je.charAt(0)?Je:`/${Je}`}(Ae)}resetBaseElement(){pe=null}getUserAgent(){return window.navigator.userAgent}getCookie(Je){return(0,h.Mx)(document.cookie,Je)}}let ve,pe=null;const le=new C.OlP("TRANSITION_ID"),y=[{provide:C.ip1,useFactory:function U(qt,Je,Ae){return()=>{Ae.get(C.CZH).donePromise.then(()=>{const Ne=(0,h.q)(),Mt=Je.querySelectorAll(`style[ng-transition="${qt}"]`);for(let Wt=0;Wt<Mt.length;Wt++)Ne.remove(Mt[Wt])})}},deps:[le,h.K0,C.zs3],multi:!0}];let $=(()=>{class qt{build(){return new XMLHttpRequest}}return qt.\u0275fac=function(Ae){return new(Ae||qt)},qt.\u0275prov=C.Yz7({token:qt,factory:qt.\u0275fac}),qt})();const Q=new C.OlP("EventManagerPlugins");let oe=(()=>{class qt{constructor(Ae,Ne){this._zone=Ne,this._eventNameToPlugin=new Map,Ae.forEach(Mt=>{Mt.manager=this}),this._plugins=Ae.slice().reverse()}addEventListener(Ae,Ne,Mt){return this._findPluginFor(Ne).addEventListener(Ae,Ne,Mt)}addGlobalEventListener(Ae,Ne,Mt){return this._findPluginFor(Ne).addGlobalEventListener(Ae,Ne,Mt)}getZone(){return this._zone}_findPluginFor(Ae){const Ne=this._eventNameToPlugin.get(Ae);if(Ne)return Ne;const Mt=this._plugins;for(let Wt=0;Wt<Mt.length;Wt++){const Qe=Mt[Wt];if(Qe.supports(Ae))return this._eventNameToPlugin.set(Ae,Qe),Qe}throw new Error(`No event manager plugin found for event ${Ae}`)}}return qt.\u0275fac=function(Ae){return new(Ae||qt)(C.LFG(Q),C.LFG(C.R0b))},qt.\u0275prov=C.Yz7({token:qt,factory:qt.\u0275fac}),qt})();class Ce{constructor(Je){this._doc=Je}addGlobalEventListener(Je,Ae,Ne){const Mt=(0,h.q)().getGlobalEventTarget(this._doc,Je);if(!Mt)throw new Error(`Unsupported event target ${Mt} for event ${Ae}`);return this.addEventListener(Mt,Ae,Ne)}}let xe=(()=>{class qt{constructor(){this.usageCount=new Map}addStyles(Ae){for(const Ne of Ae)1===this.changeUsageCount(Ne,1)&&this.onStyleAdded(Ne)}removeStyles(Ae){for(const Ne of Ae)0===this.changeUsageCount(Ne,-1)&&this.onStyleRemoved(Ne)}onStyleRemoved(Ae){}onStyleAdded(Ae){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(Ae,Ne){const Mt=this.usageCount;let Wt=Mt.get(Ae)??0;return Wt+=Ne,Wt>0?Mt.set(Ae,Wt):Mt.delete(Ae),Wt}ngOnDestroy(){for(const Ae of this.getAllStyles())this.onStyleRemoved(Ae);this.usageCount.clear()}}return qt.\u0275fac=function(Ae){return new(Ae||qt)},qt.\u0275prov=C.Yz7({token:qt,factory:qt.\u0275fac}),qt})(),be=(()=>{class qt extends xe{constructor(Ae){super(),this.doc=Ae,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(Ae){for(const Ne of this.hostNodes)this.addStyleToHost(Ne,Ae)}onStyleRemoved(Ae){const Ne=this.styleRef;Ne.get(Ae)?.forEach(Wt=>Wt.remove()),Ne.delete(Ae)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(Ae){this.hostNodes.add(Ae);for(const Ne of this.getAllStyles())this.addStyleToHost(Ae,Ne)}removeHost(Ae){this.hostNodes.delete(Ae)}addStyleToHost(Ae,Ne){const Mt=this.doc.createElement("style");Mt.textContent=Ne,Ae.appendChild(Mt);const Wt=this.styleRef.get(Ne);Wt?Wt.push(Mt):this.styleRef.set(Ne,[Mt])}resetHostNodes(){const Ae=this.hostNodes;Ae.clear(),Ae.add(this.doc.head)}}return qt.\u0275fac=function(Ae){return new(Ae||qt)(C.LFG(h.K0))},qt.\u0275prov=C.Yz7({token:qt,factory:qt.\u0275fac}),qt})();const ke={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ze=/%COMP%/g,dt=new C.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Gt(qt,Je){return Je.flat(100).map(Ae=>Ae.replace(Ze,qt))}function Le(qt){return Je=>{if("__ngUnwrap__"===Je)return qt;!1===qt(Je)&&(Je.preventDefault(),Je.returnValue=!1)}}let H=(()=>{class qt{constructor(Ae,Ne,Mt,Wt){this.eventManager=Ae,this.sharedStylesHost=Ne,this.appId=Mt,this.removeStylesOnCompDestory=Wt,this.rendererByCompId=new Map,this.defaultRenderer=new g(Ae)}createRenderer(Ae,Ne){if(!Ae||!Ne)return this.defaultRenderer;const Mt=this.getOrCreateRenderer(Ae,Ne);return Mt instanceof de?Mt.applyToHost(Ae):Mt instanceof X&&Mt.applyStyles(),Mt}getOrCreateRenderer(Ae,Ne){const Mt=this.rendererByCompId;let Wt=Mt.get(Ne.id);if(!Wt){const Qe=this.eventManager,Zt=this.sharedStylesHost,ht=this.removeStylesOnCompDestory;switch(Ne.encapsulation){case C.ifc.Emulated:Wt=new de(Qe,Zt,Ne,this.appId,ht);break;case C.ifc.ShadowDom:return new W(Qe,Zt,Ae,Ne);default:Wt=new X(Qe,Zt,Ne,ht)}Wt.onDestroy=()=>Mt.delete(Ne.id),Mt.set(Ne.id,Wt)}return Wt}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return qt.\u0275fac=function(Ae){return new(Ae||qt)(C.LFG(oe),C.LFG(be),C.LFG(C.AFp),C.LFG(dt))},qt.\u0275prov=C.Yz7({token:qt,factory:qt.\u0275fac}),qt})();class g{constructor(Je){this.eventManager=Je,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Je,Ae){return Ae?document.createElementNS(ke[Ae]||Ae,Je):document.createElement(Je)}createComment(Je){return document.createComment(Je)}createText(Je){return document.createTextNode(Je)}appendChild(Je,Ae){(Z(Je)?Je.content:Je).appendChild(Ae)}insertBefore(Je,Ae,Ne){Je&&(Z(Je)?Je.content:Je).insertBefore(Ae,Ne)}removeChild(Je,Ae){Je&&Je.removeChild(Ae)}selectRootElement(Je,Ae){let Ne="string"==typeof Je?document.querySelector(Je):Je;if(!Ne)throw new Error(`The selector "${Je}" did not match any elements`);return Ae||(Ne.textContent=""),Ne}parentNode(Je){return Je.parentNode}nextSibling(Je){return Je.nextSibling}setAttribute(Je,Ae,Ne,Mt){if(Mt){Ae=Mt+":"+Ae;const Wt=ke[Mt];Wt?Je.setAttributeNS(Wt,Ae,Ne):Je.setAttribute(Ae,Ne)}else Je.setAttribute(Ae,Ne)}removeAttribute(Je,Ae,Ne){if(Ne){const Mt=ke[Ne];Mt?Je.removeAttributeNS(Mt,Ae):Je.removeAttribute(`${Ne}:${Ae}`)}else Je.removeAttribute(Ae)}addClass(Je,Ae){Je.classList.add(Ae)}removeClass(Je,Ae){Je.classList.remove(Ae)}setStyle(Je,Ae,Ne,Mt){Mt&(C.JOm.DashCase|C.JOm.Important)?Je.style.setProperty(Ae,Ne,Mt&C.JOm.Important?"important":""):Je.style[Ae]=Ne}removeStyle(Je,Ae,Ne){Ne&C.JOm.DashCase?Je.style.removeProperty(Ae):Je.style[Ae]=""}setProperty(Je,Ae,Ne){Je[Ae]=Ne}setValue(Je,Ae){Je.nodeValue=Ae}listen(Je,Ae,Ne){return"string"==typeof Je?this.eventManager.addGlobalEventListener(Je,Ae,Le(Ne)):this.eventManager.addEventListener(Je,Ae,Le(Ne))}}function Z(qt){return"TEMPLATE"===qt.tagName&&void 0!==qt.content}class W extends g{constructor(Je,Ae,Ne,Mt){super(Je),this.sharedStylesHost=Ae,this.hostEl=Ne,this.shadowRoot=Ne.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Wt=Gt(Mt.id,Mt.styles);for(const Qe of Wt){const Zt=document.createElement("style");Zt.textContent=Qe,this.shadowRoot.appendChild(Zt)}}nodeOrShadowRoot(Je){return Je===this.hostEl?this.shadowRoot:Je}appendChild(Je,Ae){return super.appendChild(this.nodeOrShadowRoot(Je),Ae)}insertBefore(Je,Ae,Ne){return super.insertBefore(this.nodeOrShadowRoot(Je),Ae,Ne)}removeChild(Je,Ae){return super.removeChild(this.nodeOrShadowRoot(Je),Ae)}parentNode(Je){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Je)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class X extends g{constructor(Je,Ae,Ne,Mt,Wt=Ne.id){super(Je),this.sharedStylesHost=Ae,this.removeStylesOnCompDestory=Mt,this.rendererUsageCount=0,this.styles=Gt(Wt,Ne.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class de extends X{constructor(Je,Ae,Ne,Mt,Wt){const Qe=Mt+"-"+Ne.id;super(Je,Ae,Ne,Wt,Qe),this.contentAttr=function we(qt){return"_ngcontent-%COMP%".replace(Ze,qt)}(Qe),this.hostAttr=function mt(qt){return"_nghost-%COMP%".replace(Ze,qt)}(Qe)}applyToHost(Je){this.applyStyles(),this.setAttribute(Je,this.hostAttr,"")}createElement(Je,Ae){const Ne=super.createElement(Je,Ae);return super.setAttribute(Ne,this.contentAttr,""),Ne}}let me=(()=>{class qt extends Ce{constructor(Ae){super(Ae)}supports(Ae){return!0}addEventListener(Ae,Ne,Mt){return Ae.addEventListener(Ne,Mt,!1),()=>this.removeEventListener(Ae,Ne,Mt)}removeEventListener(Ae,Ne,Mt){return Ae.removeEventListener(Ne,Mt)}}return qt.\u0275fac=function(Ae){return new(Ae||qt)(C.LFG(h.K0))},qt.\u0275prov=C.Yz7({token:qt,factory:qt.\u0275fac}),qt})();const ft=["alt","control","meta","shift"],pt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Et={alt:qt=>qt.altKey,control:qt=>qt.ctrlKey,meta:qt=>qt.metaKey,shift:qt=>qt.shiftKey};let jt=(()=>{class qt extends Ce{constructor(Ae){super(Ae)}supports(Ae){return null!=qt.parseEventName(Ae)}addEventListener(Ae,Ne,Mt){const Wt=qt.parseEventName(Ne),Qe=qt.eventCallback(Wt.fullKey,Mt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,h.q)().onAndCancel(Ae,Wt.domEventName,Qe))}static parseEventName(Ae){const Ne=Ae.toLowerCase().split("."),Mt=Ne.shift();if(0===Ne.length||"keydown"!==Mt&&"keyup"!==Mt)return null;const Wt=qt._normalizeKey(Ne.pop());let Qe="",Zt=Ne.indexOf("code");if(Zt>-1&&(Ne.splice(Zt,1),Qe="code."),ft.forEach(sn=>{const gn=Ne.indexOf(sn);gn>-1&&(Ne.splice(gn,1),Qe+=sn+".")}),Qe+=Wt,0!=Ne.length||0===Wt.length)return null;const ht={};return ht.domEventName=Mt,ht.fullKey=Qe,ht}static matchEventFullKeyCode(Ae,Ne){let Mt=pt[Ae.key]||Ae.key,Wt="";return Ne.indexOf("code.")>-1&&(Mt=Ae.code,Wt="code."),!(null==Mt||!Mt)&&(Mt=Mt.toLowerCase()," "===Mt?Mt="space":"."===Mt&&(Mt="dot"),ft.forEach(Qe=>{Qe!==Mt&&(0,Et[Qe])(Ae)&&(Wt+=Qe+".")}),Wt+=Mt,Wt===Ne)}static eventCallback(Ae,Ne,Mt){return Wt=>{qt.matchEventFullKeyCode(Wt,Ae)&&Mt.runGuarded(()=>Ne(Wt))}}static _normalizeKey(Ae){return"esc"===Ae?"escape":Ae}}return qt.\u0275fac=function(Ae){return new(Ae||qt)(C.LFG(h.K0))},qt.\u0275prov=C.Yz7({token:qt,factory:qt.\u0275fac}),qt})();const fn=(0,C.eFA)(C._c5,"browser",[{provide:C.Lbi,useValue:h.bD},{provide:C.g9A,useValue:function Lt(){ee.makeCurrent()},multi:!0},{provide:h.K0,useFactory:function _t(){return(0,C.RDi)(document),document},deps:[]}]),un=new C.OlP(""),Ft=[{provide:C.rWj,useClass:class O{addToWindow(Je){C.dqk.getAngularTestability=(Ne,Mt=!0)=>{const Wt=Je.findTestabilityInTree(Ne,Mt);if(null==Wt)throw new Error("Could not find testability for element.");return Wt},C.dqk.getAllAngularTestabilities=()=>Je.getAllTestabilities(),C.dqk.getAllAngularRootElements=()=>Je.getAllRootElements(),C.dqk.frameworkStabilizers||(C.dqk.frameworkStabilizers=[]),C.dqk.frameworkStabilizers.push(Ne=>{const Mt=C.dqk.getAllAngularTestabilities();let Wt=Mt.length,Qe=!1;const Zt=function(ht){Qe=Qe||ht,Wt--,0==Wt&&Ne(Qe)};Mt.forEach(function(ht){ht.whenStable(Zt)})})}findTestabilityInTree(Je,Ae,Ne){return null==Ae?null:Je.getTestability(Ae)??(Ne?(0,h.q)().isShadowRoot(Ae)?this.findTestabilityInTree(Je,Ae.host,!0):this.findTestabilityInTree(Je,Ae.parentElement,!0):null)}},deps:[]},{provide:C.lri,useClass:C.dDg,deps:[C.R0b,C.eoX,C.rWj]},{provide:C.dDg,useClass:C.dDg,deps:[C.R0b,C.eoX,C.rWj]}],Pn=[{provide:C.zSh,useValue:"root"},{provide:C.qLn,useFactory:function rt(){return new C.qLn},deps:[]},{provide:Q,useClass:me,multi:!0,deps:[h.K0,C.R0b,C.Lbi]},{provide:Q,useClass:jt,multi:!0,deps:[h.K0]},{provide:H,useClass:H,deps:[oe,be,C.AFp,dt]},{provide:C.FYo,useExisting:H},{provide:xe,useExisting:be},{provide:be,useClass:be,deps:[h.K0]},{provide:oe,useClass:oe,deps:[Q,C.R0b]},{provide:h.JF,useClass:$,deps:[]},[]];let yn=(()=>{class qt{constructor(Ae){}static withServerTransition(Ae){return{ngModule:qt,providers:[{provide:C.AFp,useValue:Ae.appId},{provide:le,useExisting:C.AFp},y]}}}return qt.\u0275fac=function(Ae){return new(Ae||qt)(C.LFG(un,12))},qt.\u0275mod=C.oAB({type:qt}),qt.\u0275inj=C.cJS({providers:[...Pn,...Ft],imports:[h.ez,C.hGG]}),qt})(),Ue=(()=>{class qt{constructor(Ae){this._doc=Ae}getTitle(){return this._doc.title}setTitle(Ae){this._doc.title=Ae||""}}return qt.\u0275fac=function(Ae){return new(Ae||qt)(C.LFG(h.K0))},qt.\u0275prov=C.Yz7({token:qt,factory:function(Ae){let Ne=null;return Ne=Ae?new Ae:function It(){return new Ue((0,C.LFG)(h.K0))}(),Ne},providedIn:"root"}),qt})();typeof window<"u"&&window;let pi=(()=>{class qt{}return qt.\u0275fac=function(Ae){return new(Ae||qt)},qt.\u0275prov=C.Yz7({token:qt,factory:function(Ae){let Ne=null;return Ne=Ae?new(Ae||qt):C.LFG(ei),Ne},providedIn:"root"}),qt})(),ei=(()=>{class qt extends pi{constructor(Ae){super(),this._doc=Ae}sanitize(Ae,Ne){if(null==Ne)return null;switch(Ae){case C.q3G.NONE:return Ne;case C.q3G.HTML:return(0,C.qzn)(Ne,"HTML")?(0,C.z3N)(Ne):(0,C.EiD)(this._doc,String(Ne)).toString();case C.q3G.STYLE:return(0,C.qzn)(Ne,"Style")?(0,C.z3N)(Ne):Ne;case C.q3G.SCRIPT:if((0,C.qzn)(Ne,"Script"))return(0,C.z3N)(Ne);throw new Error("unsafe value used in a script context");case C.q3G.URL:return(0,C.qzn)(Ne,"URL")?(0,C.z3N)(Ne):(0,C.mCW)(String(Ne));case C.q3G.RESOURCE_URL:if((0,C.qzn)(Ne,"ResourceURL"))return(0,C.z3N)(Ne);throw new Error(`unsafe value used in a resource URL context (see ${C.JZr})`);default:throw new Error(`Unexpected SecurityContext ${Ae} (see ${C.JZr})`)}}bypassSecurityTrustHtml(Ae){return(0,C.JVY)(Ae)}bypassSecurityTrustStyle(Ae){return(0,C.L6k)(Ae)}bypassSecurityTrustScript(Ae){return(0,C.eBb)(Ae)}bypassSecurityTrustUrl(Ae){return(0,C.LAX)(Ae)}bypassSecurityTrustResourceUrl(Ae){return(0,C.pB0)(Ae)}}return qt.\u0275fac=function(Ae){return new(Ae||qt)(C.LFG(h.K0))},qt.\u0275prov=C.Yz7({token:qt,factory:function(Ae){let Ne=null;return Ne=Ae?new Ae:function bi(qt){return new ei(qt.get(h.K0))}(C.LFG(C.zs3)),Ne},providedIn:"root"}),qt})()},1951:(cn,Ve,G)=>{"use strict";G.d(Ve,{gz:()=>Qi,F0:()=>ci,rH:()=>zo,Bz:()=>Ic,lC:()=>Hs});var h=G(4650),C=G(2076),V=G(9646),ee=G(1135),pe=G(6805),ue=G(9841),ve=G(7272),re=G(9770),le=G(9635),U=G(2843),y=G(9751),O=G(515),$=G(727),Q=G(4482),oe=G(5403);function Ce(){return(0,Q.e)((K,J)=>{let j=null;K._refCount++;const se=(0,oe.x)(J,void 0,void 0,void 0,()=>{if(!K||K._refCount<=0||0<--K._refCount)return void(j=null);const Ie=K._connection,$e=j;j=null,Ie&&(!$e||Ie===$e)&&Ie.unsubscribe(),J.unsubscribe()});K.subscribe(se),se.closed||(j=K.connect())})}class xe extends y.y{constructor(J,j){super(),this.source=J,this.subjectFactory=j,this._subject=null,this._refCount=0,this._connection=null,(0,Q.A)(J)&&(this.lift=J.lift)}_subscribe(J){return this.getSubject().subscribe(J)}getSubject(){const J=this._subject;return(!J||J.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:J}=this;this._subject=this._connection=null,J?.unsubscribe()}connect(){let J=this._connection;if(!J){J=this._connection=new $.w0;const j=this.getSubject();J.add(this.source.subscribe((0,oe.x)(j,void 0,()=>{this._teardown(),j.complete()},se=>{this._teardown(),j.error(se)},()=>this._teardown()))),J.closed&&(this._connection=null,J=$.w0.EMPTY)}return J}refCount(){return Ce()(this)}}var be=G(7579),ke=G(6895),Ze=G(4004),Ke=G(3900),De=G(5698),et=G(8675),tt=G(9300),u=G(5577);function dt(K){return(0,Q.e)((J,j)=>{let se=!1;J.subscribe((0,oe.x)(j,Ie=>{se=!0,j.next(Ie)},()=>{se||j.next(K),j.complete()}))})}function we(K=mt){return(0,Q.e)((J,j)=>{let se=!1;J.subscribe((0,oe.x)(j,Ie=>{se=!0,j.next(Ie)},()=>se?j.complete():j.error(K())))})}function mt(){return new pe.K}var Gt=G(4671);function Le(K,J){const j=arguments.length>=2;return se=>se.pipe(K?(0,tt.h)((Ie,$e)=>K(Ie,$e,se)):Gt.y,(0,De.q)(1),j?dt(J):we(()=>new pe.K))}var H=G(4351),g=G(8505),F=G(262);function Z(K,J){return(0,Q.e)(function b(K,J,j,se,Ie){return($e,ct)=>{let Qt=j,kn=J,Ci=0;$e.subscribe((0,oe.x)(ct,Bi=>{const ho=Ci++;kn=Qt?K(kn,Bi,ho):(Qt=!0,Bi),se&&ct.next(kn)},Ie&&(()=>{Qt&&ct.next(kn),ct.complete()})))}}(K,J,arguments.length>=2,!0))}function W(K){return K<=0?()=>O.E:(0,Q.e)((J,j)=>{let se=[];J.subscribe((0,oe.x)(j,Ie=>{se.push(Ie),K<se.length&&se.shift()},()=>{for(const Ie of se)j.next(Ie);j.complete()},void 0,()=>{se=null}))})}function X(K,J){const j=arguments.length>=2;return se=>se.pipe(K?(0,tt.h)((Ie,$e)=>K(Ie,$e,se)):Gt.y,W(1),j?dt(J):we(()=>new pe.K))}var de=G(2529),me=G(9718),ft=G(8746),pt=G(8189),Et=G(1481);const jt="primary",xn=Symbol("RouteTitle");class En{constructor(J){this.params=J||{}}has(J){return Object.prototype.hasOwnProperty.call(this.params,J)}get(J){if(this.has(J)){const j=this.params[J];return Array.isArray(j)?j[0]:j}return null}getAll(J){if(this.has(J)){const j=this.params[J];return Array.isArray(j)?j:[j]}return[]}get keys(){return Object.keys(this.params)}}function In(K){return new En(K)}function Te(K,J,j){const se=j.path.split("/");if(se.length>K.length||"full"===j.pathMatch&&(J.hasChildren()||se.length<K.length))return null;const Ie={};for(let $e=0;$e<se.length;$e++){const ct=se[$e],Qt=K[$e];if(ct.startsWith(":"))Ie[ct.substring(1)]=Qt;else if(ct!==Qt.path)return null}return{consumed:K.slice(0,se.length),posParams:Ie}}function Lt(K,J){const j=K?Object.keys(K):void 0,se=J?Object.keys(J):void 0;if(!j||!se||j.length!=se.length)return!1;let Ie;for(let $e=0;$e<j.length;$e++)if(Ie=j[$e],!rt(K[Ie],J[Ie]))return!1;return!0}function rt(K,J){if(Array.isArray(K)&&Array.isArray(J)){if(K.length!==J.length)return!1;const j=[...K].sort(),se=[...J].sort();return j.every((Ie,$e)=>se[$e]===Ie)}return K===J}function _t(K){return Array.prototype.concat.apply([],K)}function Ut(K){return K.length>0?K[K.length-1]:null}function un(K,J){for(const j in K)K.hasOwnProperty(j)&&J(K[j],j)}function Ft(K){return(0,h.CqO)(K)?K:(0,h.QGY)(K)?(0,C.D)(Promise.resolve(K)):(0,V.of)(K)}const Pn=!1,yn={exact:function It(K,J,j){if(!Fn(K.segments,J.segments)||!Pt(K.segments,J.segments,j)||K.numberOfChildren!==J.numberOfChildren)return!1;for(const se in J.children)if(!K.children[se]||!It(K.children[se],J.children[se],j))return!1;return!0},subset:Ht},Dn={exact:function Ti(K,J){return Lt(K,J)},subset:function Ue(K,J){return Object.keys(J).length<=Object.keys(K).length&&Object.keys(J).every(j=>rt(K[j],J[j]))},ignored:()=>!0};function On(K,J,j){return yn[j.paths](K.root,J.root,j.matrixParams)&&Dn[j.queryParams](K.queryParams,J.queryParams)&&!("exact"===j.fragment&&K.fragment!==J.fragment)}function Ht(K,J,j){return Ge(K,J,J.segments,j)}function Ge(K,J,j,se){if(K.segments.length>j.length){const Ie=K.segments.slice(0,j.length);return!(!Fn(Ie,j)||J.hasChildren()||!Pt(Ie,j,se))}if(K.segments.length===j.length){if(!Fn(K.segments,j)||!Pt(K.segments,j,se))return!1;for(const Ie in J.children)if(!K.children[Ie]||!Ht(K.children[Ie],J.children[Ie],se))return!1;return!0}{const Ie=j.slice(0,K.segments.length),$e=j.slice(K.segments.length);return!!(Fn(K.segments,Ie)&&Pt(K.segments,Ie,se)&&K.children[jt])&&Ge(K.children[jt],J,$e,se)}}function Pt(K,J,j){return J.every((se,Ie)=>Dn[j](K[Ie].parameters,se.parameters))}class Yt{constructor(J=new ut([],{}),j={},se=null){this.root=J,this.queryParams=j,this.fragment=se}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=In(this.queryParams)),this._queryParamMap}toString(){return fo.serialize(this)}}class ut{constructor(J,j){this.segments=J,this.children=j,this.parent=null,un(j,(se,Ie)=>se.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Fi(this)}}class ni{constructor(J,j){this.path=J,this.parameters=j}get parameterMap(){return this._parameterMap||(this._parameterMap=In(this.parameters)),this._parameterMap}toString(){return Ln(this)}}function Fn(K,J){return K.length===J.length&&K.every((j,se)=>j.path===J[se].path)}let Fr=(()=>{class K{}return K.\u0275fac=function(j){return new(j||K)},K.\u0275prov=h.Yz7({token:K,factory:function(){return new Ei},providedIn:"root"}),K})();class Ei{parse(J){const j=new Ne(J);return new Yt(j.parseRootSegment(),j.parseQueryParams(),j.parseFragment())}serialize(J){const j=`/${Xr(J.root,!0)}`,se=function pi(K){const J=Object.keys(K).map(j=>{const se=K[j];return Array.isArray(se)?se.map(Ie=>`${nt(j)}=${nt(Ie)}`).join("&"):`${nt(j)}=${nt(se)}`}).filter(j=>!!j);return J.length?`?${J.join("&")}`:""}(J.queryParams);return`${j}${se}${"string"==typeof J.fragment?`#${function He(K){return encodeURI(K)}(J.fragment)}`:""}`}}const fo=new Ei;function Fi(K){return K.segments.map(J=>Ln(J)).join("/")}function Xr(K,J){if(!K.hasChildren())return Fi(K);if(J){const j=K.children[jt]?Xr(K.children[jt],!1):"",se=[];return un(K.children,(Ie,$e)=>{$e!==jt&&se.push(`${$e}:${Xr(Ie,!1)}`)}),se.length>0?`${j}(${se.join("//")})`:j}{const j=function dr(K,J){let j=[];return un(K.children,(se,Ie)=>{Ie===jt&&(j=j.concat(J(se,Ie)))}),un(K.children,(se,Ie)=>{Ie!==jt&&(j=j.concat(J(se,Ie)))}),j}(K,(se,Ie)=>Ie===jt?[Xr(K.children[jt],!1)]:[`${Ie}:${Xr(se,!1)}`]);return 1===Object.keys(K.children).length&&null!=K.children[jt]?`${Fi(K)}/${j[0]}`:`${Fi(K)}/(${j.join("//")})`}}function pn(K){return encodeURIComponent(K).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function nt(K){return pn(K).replace(/%3B/gi,";")}function Xe(K){return pn(K).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ln(K){return decodeURIComponent(K)}function on(K){return ln(K.replace(/\+/g,"%20"))}function Ln(K){return`${Xe(K.path)}${function Wi(K){return Object.keys(K).map(J=>`;${Xe(J)}=${Xe(K[J])}`).join("")}(K.parameters)}`}const bi=/^[^\/()?;=#]+/;function ei(K){const J=K.match(bi);return J?J[0]:""}const si=/^[^=?&#]+/,Je=/^[^&#]+/;class Ne{constructor(J){this.url=J,this.remaining=J}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ut([],{}):new ut([],this.parseChildren())}parseQueryParams(){const J={};if(this.consumeOptional("?"))do{this.parseQueryParam(J)}while(this.consumeOptional("&"));return J}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const J=[];for(this.peekStartsWith("(")||J.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),J.push(this.parseSegment());let j={};this.peekStartsWith("/(")&&(this.capture("/"),j=this.parseParens(!0));let se={};return this.peekStartsWith("(")&&(se=this.parseParens(!1)),(J.length>0||Object.keys(j).length>0)&&(se[jt]=new ut(J,j)),se}parseSegment(){const J=ei(this.remaining);if(""===J&&this.peekStartsWith(";"))throw new h.vHH(4009,Pn);return this.capture(J),new ni(ln(J),this.parseMatrixParams())}parseMatrixParams(){const J={};for(;this.consumeOptional(";");)this.parseParam(J);return J}parseParam(J){const j=ei(this.remaining);if(!j)return;this.capture(j);let se="";if(this.consumeOptional("=")){const Ie=ei(this.remaining);Ie&&(se=Ie,this.capture(se))}J[ln(j)]=ln(se)}parseQueryParam(J){const j=function qt(K){const J=K.match(si);return J?J[0]:""}(this.remaining);if(!j)return;this.capture(j);let se="";if(this.consumeOptional("=")){const ct=function Ae(K){const J=K.match(Je);return J?J[0]:""}(this.remaining);ct&&(se=ct,this.capture(se))}const Ie=on(j),$e=on(se);if(J.hasOwnProperty(Ie)){let ct=J[Ie];Array.isArray(ct)||(ct=[ct],J[Ie]=ct),ct.push($e)}else J[Ie]=$e}parseParens(J){const j={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const se=ei(this.remaining),Ie=this.remaining[se.length];if("/"!==Ie&&")"!==Ie&&";"!==Ie)throw new h.vHH(4010,Pn);let $e;se.indexOf(":")>-1?($e=se.slice(0,se.indexOf(":")),this.capture($e),this.capture(":")):J&&($e=jt);const ct=this.parseChildren();j[$e]=1===Object.keys(ct).length?ct[jt]:new ut([],ct),this.consumeOptional("//")}return j}peekStartsWith(J){return this.remaining.startsWith(J)}consumeOptional(J){return!!this.peekStartsWith(J)&&(this.remaining=this.remaining.substring(J.length),!0)}capture(J){if(!this.consumeOptional(J))throw new h.vHH(4011,Pn)}}function Mt(K){return K.segments.length>0?new ut([],{[jt]:K}):K}function Wt(K){const J={};for(const se of Object.keys(K.children)){const $e=Wt(K.children[se]);($e.segments.length>0||$e.hasChildren())&&(J[se]=$e)}return function Qe(K){if(1===K.numberOfChildren&&K.children[jt]){const J=K.children[jt];return new ut(K.segments.concat(J.segments),J.children)}return K}(new ut(K.segments,J))}function Zt(K){return K instanceof Yt}const ht=!1;function Zn(K,J,j,se,Ie){if(0===j.length)return Ui(J.root,J.root,J.root,se,Ie);const $e=function wr(K){if("string"==typeof K[0]&&1===K.length&&"/"===K[0])return new Hi(!0,0,K);let J=0,j=!1;const se=K.reduce((Ie,$e,ct)=>{if("object"==typeof $e&&null!=$e){if($e.outlets){const Qt={};return un($e.outlets,(kn,Ci)=>{Qt[Ci]="string"==typeof kn?kn.split("/"):kn}),[...Ie,{outlets:Qt}]}if($e.segmentPath)return[...Ie,$e.segmentPath]}return"string"!=typeof $e?[...Ie,$e]:0===ct?($e.split("/").forEach((Qt,kn)=>{0==kn&&"."===Qt||(0==kn&&""===Qt?j=!0:".."===Qt?J++:""!=Qt&&Ie.push(Qt))}),Ie):[...Ie,$e]},[]);return new Hi(j,J,se)}(j);return $e.toRoot()?Ui(J.root,J.root,new ut([],{}),se,Ie):function ct(kn){const Ci=function Xs(K,J,j,se){if(K.isAbsolute)return new Jr(J.root,!0,0);if(-1===se)return new Jr(j,j===J.root,0);return function Ts(K,J,j){let se=K,Ie=J,$e=j;for(;$e>Ie;){if($e-=Ie,se=se.parent,!se)throw new h.vHH(4005,ht&&"Invalid number of '../'");Ie=se.segments.length}return new Jr(se,!1,Ie-$e)}(j,se+(Vn(K.commands[0])?0:1),K.numberOfDoubleDots)}($e,J,K.snapshot?._urlSegment,kn),Bi=Ci.processChildren?ii(Ci.segmentGroup,Ci.index,$e.commands):qo(Ci.segmentGroup,Ci.index,$e.commands);return Ui(J.root,Ci.segmentGroup,Bi,se,Ie)}(K.snapshot?._lastPathIndex)}function Vn(K){return"object"==typeof K&&null!=K&&!K.outlets&&!K.segmentPath}function Pi(K){return"object"==typeof K&&null!=K&&K.outlets}function Ui(K,J,j,se,Ie){let ct,$e={};se&&un(se,(kn,Ci)=>{$e[Ci]=Array.isArray(kn)?kn.map(Bi=>`${Bi}`):`${kn}`}),ct=K===J?j:Ii(K,J,j);const Qt=Mt(Wt(ct));return new Yt(Qt,$e,Ie)}function Ii(K,J,j){const se={};return un(K.children,(Ie,$e)=>{se[$e]=Ie===J?j:Ii(Ie,J,j)}),new ut(K.segments,se)}class Hi{constructor(J,j,se){if(this.isAbsolute=J,this.numberOfDoubleDots=j,this.commands=se,J&&se.length>0&&Vn(se[0]))throw new h.vHH(4003,ht&&"Root segment cannot have matrix parameters");const Ie=se.find(Pi);if(Ie&&Ie!==Ut(se))throw new h.vHH(4004,ht&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Jr{constructor(J,j,se){this.segmentGroup=J,this.processChildren=j,this.index=se}}function qo(K,J,j){if(K||(K=new ut([],{})),0===K.segments.length&&K.hasChildren())return ii(K,J,j);const se=function qi(K,J,j){let se=0,Ie=J;const $e={match:!1,pathIndex:0,commandIndex:0};for(;Ie<K.segments.length;){if(se>=j.length)return $e;const ct=K.segments[Ie],Qt=j[se];if(Pi(Qt))break;const kn=`${Qt}`,Ci=se<j.length-1?j[se+1]:null;if(Ie>0&&void 0===kn)break;if(kn&&Ci&&"object"==typeof Ci&&void 0===Ci.outlets){if(!ur(kn,Ci,ct))return $e;se+=2}else{if(!ur(kn,{},ct))return $e;se++}Ie++}return{match:!0,pathIndex:Ie,commandIndex:se}}(K,J,j),Ie=j.slice(se.commandIndex);if(se.match&&se.pathIndex<K.segments.length){const $e=new ut(K.segments.slice(0,se.pathIndex),{});return $e.children[jt]=new ut(K.segments.slice(se.pathIndex),K.children),ii($e,0,Ie)}return se.match&&0===Ie.length?new ut(K.segments,{}):se.match&&!K.hasChildren()?Br(K,J,j):se.match?ii(K,0,Ie):Br(K,J,j)}function ii(K,J,j){if(0===j.length)return new ut(K.segments,{});{const se=function ks(K){return Pi(K[0])?K[0].outlets:{[jt]:K}}(j),Ie={};if(!se[jt]&&K.children[jt]&&1===K.numberOfChildren&&0===K.children[jt].segments.length){const $e=ii(K.children[jt],J,j);return new ut(K.segments,$e.children)}return un(se,($e,ct)=>{"string"==typeof $e&&($e=[$e]),null!==$e&&(Ie[ct]=qo(K.children[ct],J,$e))}),un(K.children,($e,ct)=>{void 0===se[ct]&&(Ie[ct]=$e)}),new ut(K.segments,Ie)}}function Br(K,J,j){const se=K.segments.slice(0,J);let Ie=0;for(;Ie<j.length;){const $e=j[Ie];if(Pi($e)){const kn=Eo($e.outlets);return new ut(se,kn)}if(0===Ie&&Vn(j[0])){se.push(new ni(K.segments[J].path,_o(j[0]))),Ie++;continue}const ct=Pi($e)?$e.outlets[jt]:`${$e}`,Qt=Ie<j.length-1?j[Ie+1]:null;ct&&Qt&&Vn(Qt)?(se.push(new ni(ct,_o(Qt))),Ie+=2):(se.push(new ni(ct,{})),Ie++)}return new ut(se,{})}function Eo(K){const J={};return un(K,(j,se)=>{"string"==typeof j&&(j=[j]),null!==j&&(J[se]=Br(new ut([],{}),0,j))}),J}function _o(K){const J={};return un(K,(j,se)=>J[se]=`${j}`),J}function ur(K,J,j){return K==j.path&&Lt(J,j.parameters)}const No="imperative";class pr{constructor(J,j){this.id=J,this.url=j}}class no extends pr{constructor(J,j,se="imperative",Ie=null){super(J,j),this.type=0,this.navigationTrigger=se,this.restoredState=Ie}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class wo extends pr{constructor(J,j,se){super(J,j),this.urlAfterRedirects=se,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ri extends pr{constructor(J,j,se,Ie){super(J,j),this.reason=se,this.code=Ie,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class gs extends pr{constructor(J,j,se,Ie){super(J,j),this.reason=se,this.code=Ie,this.type=16}}class io extends pr{constructor(J,j,se,Ie){super(J,j),this.error=se,this.target=Ie,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Co extends pr{constructor(J,j,se,Ie){super(J,j),this.urlAfterRedirects=se,this.state=Ie,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ps extends pr{constructor(J,j,se,Ie){super(J,j),this.urlAfterRedirects=se,this.state=Ie,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class po extends pr{constructor(J,j,se,Ie,$e){super(J,j),this.urlAfterRedirects=se,this.state=Ie,this.shouldActivate=$e,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ms extends pr{constructor(J,j,se,Ie){super(J,j),this.urlAfterRedirects=se,this.state=Ie,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _s extends pr{constructor(J,j,se,Ie){super(J,j),this.urlAfterRedirects=se,this.state=Ie,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Oo{constructor(J){this.route=J,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Is{constructor(J){this.route=J,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class os{constructor(J){this.snapshot=J,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hr{constructor(J){this.snapshot=J,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Nn{constructor(J){this.snapshot=J,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ao{constructor(J){this.snapshot=J,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Nr{constructor(J,j,se){this.routerEvent=J,this.position=j,this.anchor=se,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let vs=(()=>{class K{createUrlTree(j,se,Ie,$e,ct,Qt){return Zn(j||se.root,Ie,$e,ct,Qt)}}return K.\u0275fac=function(j){return new(j||K)},K.\u0275prov=h.Yz7({token:K,factory:K.\u0275fac}),K})(),Do=(()=>{class K{}return K.\u0275fac=function(j){return new(j||K)},K.\u0275prov=h.Yz7({token:K,factory:function(J){return vs.\u0275fac(J)},providedIn:"root"}),K})();class co{constructor(J){this._root=J}get root(){return this._root.value}parent(J){const j=this.pathFromRoot(J);return j.length>1?j[j.length-2]:null}children(J){const j=go(J,this._root);return j?j.children.map(se=>se.value):[]}firstChild(J){const j=go(J,this._root);return j&&j.children.length>0?j.children[0].value:null}siblings(J){const j=Fs(J,this._root);return j.length<2?[]:j[j.length-2].children.map(Ie=>Ie.value).filter(Ie=>Ie!==J)}pathFromRoot(J){return Fs(J,this._root).map(j=>j.value)}}function go(K,J){if(K===J.value)return J;for(const j of J.children){const se=go(K,j);if(se)return se}return null}function Fs(K,J){if(K===J.value)return[J];for(const j of J.children){const se=Fs(K,j);if(se.length)return se.unshift(J),se}return[]}class uo{constructor(J,j){this.value=J,this.children=j}toString(){return`TreeNode(${this.value})`}}function Di(K){const J={};return K&&K.children.forEach(j=>J[j.value.outlet]=j),J}class ro extends co{constructor(J,j){super(J),this.snapshot=j,Oe(this,J)}toString(){return this.snapshot.toString()}}function Ar(K,J){const j=function ys(K,J){const ct=new Tt([],{},{},"",{},jt,J,null,K.root,-1,{});return new q("",new uo(ct,[]))}(K,J),se=new ee.X([new ni("",{})]),Ie=new ee.X({}),$e=new ee.X({}),ct=new ee.X({}),Qt=new ee.X(""),kn=new Qi(se,Ie,ct,Qt,$e,jt,J,j.root);return kn.snapshot=j.root,new ro(new uo(kn,[]),j)}class Qi{constructor(J,j,se,Ie,$e,ct,Qt,kn){this.url=J,this.params=j,this.queryParams=se,this.fragment=Ie,this.data=$e,this.outlet=ct,this.component=Qt,this.title=this.data?.pipe((0,Ze.U)(Ci=>Ci[xn]))??(0,V.of)(void 0),this._futureSnapshot=kn}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ze.U)(J=>In(J)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ze.U)(J=>In(J)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Vs(K,J="emptyOnly"){const j=K.pathFromRoot;let se=0;if("always"!==J)for(se=j.length-1;se>=1;){const Ie=j[se],$e=j[se-1];if(Ie.routeConfig&&""===Ie.routeConfig.path)se--;else{if($e.component)break;se--}}return function qe(K){return K.reduce((J,j)=>({params:{...J.params,...j.params},data:{...J.data,...j.data},resolve:{...j.data,...J.resolve,...j.routeConfig?.data,...j._resolvedData}}),{params:{},data:{},resolve:{}})}(j.slice(se))}class Tt{get title(){return this.data?.[xn]}constructor(J,j,se,Ie,$e,ct,Qt,kn,Ci,Bi,ho){this.url=J,this.params=j,this.queryParams=se,this.fragment=Ie,this.data=$e,this.outlet=ct,this.component=Qt,this.routeConfig=kn,this._urlSegment=Ci,this._lastPathIndex=Bi,this._resolve=ho}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=In(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=In(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(se=>se.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class q extends co{constructor(J,j){super(j),this.url=J,Oe(this,j)}toString(){return gt(this._root)}}function Oe(K,J){J.value._routerState=K,J.children.forEach(j=>Oe(K,j))}function gt(K){const J=K.children.length>0?` { ${K.children.map(gt).join(", ")} } `:"";return`${K.value}${J}`}function rn(K){if(K.snapshot){const J=K.snapshot,j=K._futureSnapshot;K.snapshot=j,Lt(J.queryParams,j.queryParams)||K.queryParams.next(j.queryParams),J.fragment!==j.fragment&&K.fragment.next(j.fragment),Lt(J.params,j.params)||K.params.next(j.params),function $t(K,J){if(K.length!==J.length)return!1;for(let j=0;j<K.length;++j)if(!Lt(K[j],J[j]))return!1;return!0}(J.url,j.url)||K.url.next(j.url),Lt(J.data,j.data)||K.data.next(j.data)}else K.snapshot=K._futureSnapshot,K.data.next(K._futureSnapshot.data)}function wi(K,J){const j=Lt(K.params,J.params)&&function Kn(K,J){return Fn(K,J)&&K.every((j,se)=>Lt(j.parameters,J[se].parameters))}(K.url,J.url);return j&&!(!K.parent!=!J.parent)&&(!K.parent||wi(K.parent,J.parent))}function Uo(K,J,j){if(j&&K.shouldReuseRoute(J.value,j.value.snapshot)){const se=j.value;se._futureSnapshot=J.value;const Ie=function Vr(K,J,j){return J.children.map(se=>{for(const Ie of j.children)if(K.shouldReuseRoute(se.value,Ie.value.snapshot))return Uo(K,se,Ie);return Uo(K,se)})}(K,J,j);return new uo(se,Ie)}{if(K.shouldAttach(J.value)){const $e=K.retrieve(J.value);if(null!==$e){const ct=$e.route;return ct.value._futureSnapshot=J.value,ct.children=J.children.map(Qt=>Uo(K,Qt)),ct}}const se=function Kr(K){return new Qi(new ee.X(K.url),new ee.X(K.params),new ee.X(K.queryParams),new ee.X(K.fragment),new ee.X(K.data),K.outlet,K.component,K)}(J.value),Ie=J.children.map($e=>Uo(K,$e));return new uo(se,Ie)}}const zr="ngNavigationCancelingError";function Lr(K,J){const{redirectTo:j,navigationBehaviorOptions:se}=Zt(J)?{redirectTo:J,navigationBehaviorOptions:void 0}:J,Ie=Js(!1,0,J);return Ie.url=j,Ie.navigationBehaviorOptions=se,Ie}function Js(K,J,j){const se=new Error("NavigationCancelingError: "+(K||""));return se[zr]=!0,se.cancellationCode=J,j&&(se.url=j),se}function ss(K){return Lo(K)&&Zt(K.url)}function Lo(K){return K&&K[zr]}class Xo{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Hr,this.attachRef=null}}let Hr=(()=>{class K{constructor(){this.contexts=new Map}onChildOutletCreated(j,se){const Ie=this.getOrCreateContext(j);Ie.outlet=se,this.contexts.set(j,Ie)}onChildOutletDestroyed(j){const se=this.getContext(j);se&&(se.outlet=null,se.attachRef=null)}onOutletDeactivated(){const j=this.contexts;return this.contexts=new Map,j}onOutletReAttached(j){this.contexts=j}getOrCreateContext(j){let se=this.getContext(j);return se||(se=new Xo,this.contexts.set(j,se)),se}getContext(j){return this.contexts.get(j)||null}}return K.\u0275fac=function(j){return new(j||K)},K.\u0275prov=h.Yz7({token:K,factory:K.\u0275fac,providedIn:"root"}),K})();const ts=!1;let Hs=(()=>{class K{constructor(){this.activated=null,this._activatedRoute=null,this.name=jt,this.activateEvents=new h.vpe,this.deactivateEvents=new h.vpe,this.attachEvents=new h.vpe,this.detachEvents=new h.vpe,this.parentContexts=(0,h.f3M)(Hr),this.location=(0,h.f3M)(h.s_b),this.changeDetector=(0,h.f3M)(h.sBO),this.environmentInjector=(0,h.f3M)(h.lqb)}ngOnChanges(j){if(j.name){const{firstChange:se,previousValue:Ie}=j.name;if(se)return;this.isTrackedInParentContexts(Ie)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(Ie)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(j){return this.parentContexts.getContext(j)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const j=this.parentContexts.getContext(this.name);j?.route&&(j.attachRef?this.attach(j.attachRef,j.route):this.activateWith(j.route,j.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new h.vHH(4012,ts);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new h.vHH(4012,ts);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new h.vHH(4012,ts);this.location.detach();const j=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(j.instance),j}attach(j,se){this.activated=j,this._activatedRoute=se,this.location.insert(j.hostView),this.attachEvents.emit(j.instance)}deactivate(){if(this.activated){const j=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(j)}}activateWith(j,se){if(this.isActivated)throw new h.vHH(4013,ts);this._activatedRoute=j;const Ie=this.location,ct=j.snapshot.component,Qt=this.parentContexts.getOrCreateContext(this.name).children,kn=new ma(j,Qt,Ie.injector);if(se&&function xs(K){return!!K.resolveComponentFactory}(se)){const Ci=se.resolveComponentFactory(ct);this.activated=Ie.createComponent(Ci,Ie.length,kn)}else this.activated=Ie.createComponent(ct,{index:Ie.length,injector:kn,environmentInjector:se??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return K.\u0275fac=function(j){return new(j||K)},K.\u0275dir=h.lG2({type:K,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[h.TTD]}),K})();class ma{constructor(J,j,se){this.route=J,this.childContexts=j,this.parent=se}get(J,j){return J===Qi?this.route:J===Hr?this.childContexts:this.parent.get(J,j)}}let xi=(()=>{class K{}return K.\u0275fac=function(j){return new(j||K)},K.\u0275cmp=h.Xpm({type:K,selectors:[["ng-component"]],standalone:!0,features:[h.jDz],decls:1,vars:0,template:function(j,se){1&j&&h._UZ(0,"router-outlet")},dependencies:[Hs],encapsulation:2}),K})();function Wr(K,J){return K.providers&&!K._injector&&(K._injector=(0,h.MMx)(K.providers,J,`Route: ${K.path}`)),K._injector??J}function xr(K){const J=K.children&&K.children.map(xr),j=J?{...K,children:J}:{...K};return!j.component&&!j.loadComponent&&(J||j.loadChildren)&&j.outlet&&j.outlet!==jt&&(j.component=xi),j}function Fe(K){return K.outlet||jt}function bt(K,J){const j=K.filter(se=>Fe(se)===J);return j.push(...K.filter(se=>Fe(se)!==J)),j}function Se(K){if(!K)return null;if(K.routeConfig?._injector)return K.routeConfig._injector;for(let J=K.parent;J;J=J.parent){const j=J.routeConfig;if(j?._loadedInjector)return j._loadedInjector;if(j?._injector)return j._injector}return null}class kt{constructor(J,j,se,Ie){this.routeReuseStrategy=J,this.futureState=j,this.currState=se,this.forwardEvent=Ie}activate(J){const j=this.futureState._root,se=this.currState?this.currState._root:null;this.deactivateChildRoutes(j,se,J),rn(this.futureState.root),this.activateChildRoutes(j,se,J)}deactivateChildRoutes(J,j,se){const Ie=Di(j);J.children.forEach($e=>{const ct=$e.value.outlet;this.deactivateRoutes($e,Ie[ct],se),delete Ie[ct]}),un(Ie,($e,ct)=>{this.deactivateRouteAndItsChildren($e,se)})}deactivateRoutes(J,j,se){const Ie=J.value,$e=j?j.value:null;if(Ie===$e)if(Ie.component){const ct=se.getContext(Ie.outlet);ct&&this.deactivateChildRoutes(J,j,ct.children)}else this.deactivateChildRoutes(J,j,se);else $e&&this.deactivateRouteAndItsChildren(j,se)}deactivateRouteAndItsChildren(J,j){J.value.component&&this.routeReuseStrategy.shouldDetach(J.value.snapshot)?this.detachAndStoreRouteSubtree(J,j):this.deactivateRouteAndOutlet(J,j)}detachAndStoreRouteSubtree(J,j){const se=j.getContext(J.value.outlet),Ie=se&&J.value.component?se.children:j,$e=Di(J);for(const ct of Object.keys($e))this.deactivateRouteAndItsChildren($e[ct],Ie);if(se&&se.outlet){const ct=se.outlet.detach(),Qt=se.children.onOutletDeactivated();this.routeReuseStrategy.store(J.value.snapshot,{componentRef:ct,route:J,contexts:Qt})}}deactivateRouteAndOutlet(J,j){const se=j.getContext(J.value.outlet),Ie=se&&J.value.component?se.children:j,$e=Di(J);for(const ct of Object.keys($e))this.deactivateRouteAndItsChildren($e[ct],Ie);se&&(se.outlet&&(se.outlet.deactivate(),se.children.onOutletDeactivated()),se.attachRef=null,se.resolver=null,se.route=null)}activateChildRoutes(J,j,se){const Ie=Di(j);J.children.forEach($e=>{this.activateRoutes($e,Ie[$e.value.outlet],se),this.forwardEvent(new Ao($e.value.snapshot))}),J.children.length&&this.forwardEvent(new hr(J.value.snapshot))}activateRoutes(J,j,se){const Ie=J.value,$e=j?j.value:null;if(rn(Ie),Ie===$e)if(Ie.component){const ct=se.getOrCreateContext(Ie.outlet);this.activateChildRoutes(J,j,ct.children)}else this.activateChildRoutes(J,j,se);else if(Ie.component){const ct=se.getOrCreateContext(Ie.outlet);if(this.routeReuseStrategy.shouldAttach(Ie.snapshot)){const Qt=this.routeReuseStrategy.retrieve(Ie.snapshot);this.routeReuseStrategy.store(Ie.snapshot,null),ct.children.onOutletReAttached(Qt.contexts),ct.attachRef=Qt.componentRef,ct.route=Qt.route.value,ct.outlet&&ct.outlet.attach(Qt.componentRef,Qt.route.value),rn(Qt.route.value),this.activateChildRoutes(J,null,ct.children)}else{const Qt=Se(Ie.snapshot),kn=Qt?.get(h._Vd)??null;ct.attachRef=null,ct.route=Ie,ct.resolver=kn,ct.injector=Qt,ct.outlet&&ct.outlet.activateWith(Ie,ct.injector),this.activateChildRoutes(J,null,ct.children)}}else this.activateChildRoutes(J,null,se)}}class mn{constructor(J){this.path=J,this.route=this.path[this.path.length-1]}}class Hn{constructor(J,j){this.component=J,this.route=j}}function Rr(K,J,j){const se=K._root;return Jo(se,J?J._root:null,j,[se.value])}function Qr(K,J){const j=Symbol(),se=J.get(K,j);return se===j?"function"!=typeof K||(0,h.Z0I)(K)?J.get(K):K:se}function Jo(K,J,j,se,Ie={canDeactivateChecks:[],canActivateChecks:[]}){const $e=Di(J);return K.children.forEach(ct=>{(function nr(K,J,j,se,Ie={canDeactivateChecks:[],canActivateChecks:[]}){const $e=K.value,ct=J?J.value:null,Qt=j?j.getContext(K.value.outlet):null;if(ct&&$e.routeConfig===ct.routeConfig){const kn=function ar(K,J,j){if("function"==typeof j)return j(K,J);switch(j){case"pathParamsChange":return!Fn(K.url,J.url);case"pathParamsOrQueryParamsChange":return!Fn(K.url,J.url)||!Lt(K.queryParams,J.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!wi(K,J)||!Lt(K.queryParams,J.queryParams);default:return!wi(K,J)}}(ct,$e,$e.routeConfig.runGuardsAndResolvers);kn?Ie.canActivateChecks.push(new mn(se)):($e.data=ct.data,$e._resolvedData=ct._resolvedData),Jo(K,J,$e.component?Qt?Qt.children:null:j,se,Ie),kn&&Qt&&Qt.outlet&&Qt.outlet.isActivated&&Ie.canDeactivateChecks.push(new Hn(Qt.outlet.component,ct))}else ct&&ya(J,Qt,Ie),Ie.canActivateChecks.push(new mn(se)),Jo(K,null,$e.component?Qt?Qt.children:null:j,se,Ie)})(ct,$e[ct.value.outlet],j,se.concat([ct.value]),Ie),delete $e[ct.value.outlet]}),un($e,(ct,Qt)=>ya(ct,j.getContext(Qt),Ie)),Ie}function ya(K,J,j){const se=Di(K),Ie=K.value;un(se,($e,ct)=>{ya($e,Ie.component?J?J.children.getContext(ct):null:J,j)}),j.canDeactivateChecks.push(new Hn(Ie.component&&J&&J.outlet&&J.outlet.isActivated?J.outlet.component:null,Ie))}function Pe(K){return"function"==typeof K}function _a(K){return K instanceof pe.K||"EmptyError"===K?.name}const $a=Symbol("INITIAL_VALUE");function Yo(){return(0,Ke.w)(K=>(0,ue.a)(K.map(J=>J.pipe((0,De.q)(1),(0,et.O)($a)))).pipe((0,Ze.U)(J=>{for(const j of J)if(!0!==j){if(j===$a)return $a;if(!1===j||j instanceof Yt)return j}return!0}),(0,tt.h)(J=>J!==$a),(0,De.q)(1)))}function vt(K){return(0,le.z)((0,g.b)(J=>{if(Zt(J))throw Lr(0,J)}),(0,Ze.U)(J=>!0===J))}const an={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Mn(K,J,j,se,Ie){const $e=qn(K,J,j);return $e.matched?function zt(K,J,j,se){const Ie=J.canMatch;if(!Ie||0===Ie.length)return(0,V.of)(!0);const $e=Ie.map(ct=>{const Qt=Qr(ct,K);return Ft(function Go(K){return K&&Pe(K.canMatch)}(Qt)?Qt.canMatch(J,j):K.runInContext(()=>Qt(J,j)))});return(0,V.of)($e).pipe(Yo(),vt())}(se=Wr(J,se),J,j).pipe((0,Ze.U)(ct=>!0===ct?$e:{...an})):(0,V.of)($e)}function qn(K,J,j){if(""===J.path)return"full"===J.pathMatch&&(K.hasChildren()||j.length>0)?{...an}:{matched:!0,consumedSegments:[],remainingSegments:j,parameters:{},positionalParamSegments:{}};const Ie=(J.matcher||Te)(j,K,J);if(!Ie)return{...an};const $e={};un(Ie.posParams,(Qt,kn)=>{$e[kn]=Qt.path});const ct=Ie.consumed.length>0?{...$e,...Ie.consumed[Ie.consumed.length-1].parameters}:$e;return{matched:!0,consumedSegments:Ie.consumed,remainingSegments:j.slice(Ie.consumed.length),parameters:ct,positionalParamSegments:Ie.posParams??{}}}function Xn(K,J,j,se){if(j.length>0&&function br(K,J,j){return j.some(se=>$r(K,J,se)&&Fe(se)!==jt)}(K,j,se)){const $e=new ut(J,function Un(K,J,j,se){const Ie={};Ie[jt]=se,se._sourceSegment=K,se._segmentIndexShift=J.length;for(const $e of j)if(""===$e.path&&Fe($e)!==jt){const ct=new ut([],{});ct._sourceSegment=K,ct._segmentIndexShift=J.length,Ie[Fe($e)]=ct}return Ie}(K,J,se,new ut(j,K.children)));return $e._sourceSegment=K,$e._segmentIndexShift=J.length,{segmentGroup:$e,slicedSegments:[]}}if(0===j.length&&function jo(K,J,j){return j.some(se=>$r(K,J,se))}(K,j,se)){const $e=new ut(K.segments,function hi(K,J,j,se,Ie){const $e={};for(const ct of se)if($r(K,j,ct)&&!Ie[Fe(ct)]){const Qt=new ut([],{});Qt._sourceSegment=K,Qt._segmentIndexShift=J.length,$e[Fe(ct)]=Qt}return{...Ie,...$e}}(K,J,j,se,K.children));return $e._sourceSegment=K,$e._segmentIndexShift=J.length,{segmentGroup:$e,slicedSegments:j}}const Ie=new ut(K.segments,K.children);return Ie._sourceSegment=K,Ie._segmentIndexShift=J.length,{segmentGroup:Ie,slicedSegments:j}}function $r(K,J,j){return(!(K.hasChildren()||J.length>0)||"full"!==j.pathMatch)&&""===j.path}function Bo(K,J,j,se){return!!(Fe(K)===se||se!==jt&&$r(J,j,K))&&("**"===K.path||qn(J,K,j).matched)}function ns(K,J,j){return 0===J.length&&!K.children[j]}const vr=!1;class Vo{constructor(J){this.segmentGroup=J||null}}class Jt{constructor(J){this.urlTree=J}}function An(K){return(0,U._)(new Vo(K))}function bn(K){return(0,U._)(new Jt(K))}class Oi{constructor(J,j,se,Ie,$e){this.injector=J,this.configLoader=j,this.urlSerializer=se,this.urlTree=Ie,this.config=$e,this.allowRedirects=!0}apply(){const J=Xn(this.urlTree.root,[],[],this.config).segmentGroup,j=new ut(J.segments,J.children);return this.expandSegmentGroup(this.injector,this.config,j,jt).pipe((0,Ze.U)($e=>this.createUrlTree(Wt($e),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,F.K)($e=>{if($e instanceof Jt)return this.allowRedirects=!1,this.match($e.urlTree);throw $e instanceof Vo?this.noMatchError($e):$e}))}match(J){return this.expandSegmentGroup(this.injector,this.config,J.root,jt).pipe((0,Ze.U)(Ie=>this.createUrlTree(Wt(Ie),J.queryParams,J.fragment))).pipe((0,F.K)(Ie=>{throw Ie instanceof Vo?this.noMatchError(Ie):Ie}))}noMatchError(J){return new h.vHH(4002,vr)}createUrlTree(J,j,se){const Ie=Mt(J);return new Yt(Ie,j,se)}expandSegmentGroup(J,j,se,Ie){return 0===se.segments.length&&se.hasChildren()?this.expandChildren(J,j,se).pipe((0,Ze.U)($e=>new ut([],$e))):this.expandSegment(J,se,j,se.segments,Ie,!0)}expandChildren(J,j,se){const Ie=[];for(const $e of Object.keys(se.children))"primary"===$e?Ie.unshift($e):Ie.push($e);return(0,C.D)(Ie).pipe((0,H.b)($e=>{const ct=se.children[$e],Qt=bt(j,$e);return this.expandSegmentGroup(J,Qt,ct,$e).pipe((0,Ze.U)(kn=>({segment:kn,outlet:$e})))}),Z(($e,ct)=>($e[ct.outlet]=ct.segment,$e),{}),X())}expandSegment(J,j,se,Ie,$e,ct){return(0,C.D)(se).pipe((0,H.b)(Qt=>this.expandSegmentAgainstRoute(J,j,se,Qt,Ie,$e,ct).pipe((0,F.K)(Ci=>{if(Ci instanceof Vo)return(0,V.of)(null);throw Ci}))),Le(Qt=>!!Qt),(0,F.K)((Qt,kn)=>{if(_a(Qt))return ns(j,Ie,$e)?(0,V.of)(new ut([],{})):An(j);throw Qt}))}expandSegmentAgainstRoute(J,j,se,Ie,$e,ct,Qt){return Bo(Ie,j,$e,ct)?void 0===Ie.redirectTo?this.matchSegmentAgainstRoute(J,j,Ie,$e,ct):Qt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(J,j,se,Ie,$e,ct):An(j):An(j)}expandSegmentAgainstRouteUsingRedirect(J,j,se,Ie,$e,ct){return"**"===Ie.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(J,se,Ie,ct):this.expandRegularSegmentAgainstRouteUsingRedirect(J,j,se,Ie,$e,ct)}expandWildCardWithParamsAgainstRouteUsingRedirect(J,j,se,Ie){const $e=this.applyRedirectCommands([],se.redirectTo,{});return se.redirectTo.startsWith("/")?bn($e):this.lineralizeSegments(se,$e).pipe((0,u.z)(ct=>{const Qt=new ut(ct,{});return this.expandSegment(J,Qt,j,ct,Ie,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(J,j,se,Ie,$e,ct){const{matched:Qt,consumedSegments:kn,remainingSegments:Ci,positionalParamSegments:Bi}=qn(j,Ie,$e);if(!Qt)return An(j);const ho=this.applyRedirectCommands(kn,Ie.redirectTo,Bi);return Ie.redirectTo.startsWith("/")?bn(ho):this.lineralizeSegments(Ie,ho).pipe((0,u.z)(Ls=>this.expandSegment(J,j,se,Ls.concat(Ci),ct,!1)))}matchSegmentAgainstRoute(J,j,se,Ie,$e){return"**"===se.path?(J=Wr(se,J),se.loadChildren?(se._loadedRoutes?(0,V.of)({routes:se._loadedRoutes,injector:se._loadedInjector}):this.configLoader.loadChildren(J,se)).pipe((0,Ze.U)(Qt=>(se._loadedRoutes=Qt.routes,se._loadedInjector=Qt.injector,new ut(Ie,{})))):(0,V.of)(new ut(Ie,{}))):Mn(j,se,Ie,J).pipe((0,Ke.w)(({matched:ct,consumedSegments:Qt,remainingSegments:kn})=>ct?this.getChildConfig(J=se._injector??J,se,Ie).pipe((0,u.z)(Bi=>{const ho=Bi.injector??J,Ls=Bi.routes,{segmentGroup:ws,slicedSegments:Qa}=Xn(j,Qt,kn,Ls),Na=new ut(ws.segments,ws.children);if(0===Qa.length&&Na.hasChildren())return this.expandChildren(ho,Ls,Na).pipe((0,Ze.U)(oc=>new ut(Qt,oc)));if(0===Ls.length&&0===Qa.length)return(0,V.of)(new ut(Qt,{}));const hs=Fe(se)===$e;return this.expandSegment(ho,Na,Ls,Qa,hs?jt:$e,!0).pipe((0,Ze.U)(ol=>new ut(Qt.concat(ol.segments),ol.children)))})):An(j)))}getChildConfig(J,j,se){return j.children?(0,V.of)({routes:j.children,injector:J}):j.loadChildren?void 0!==j._loadedRoutes?(0,V.of)({routes:j._loadedRoutes,injector:j._loadedInjector}):function We(K,J,j,se){const Ie=J.canLoad;if(void 0===Ie||0===Ie.length)return(0,V.of)(!0);const $e=Ie.map(ct=>{const Qt=Qr(ct,K);return Ft(function fe(K){return K&&Pe(K.canLoad)}(Qt)?Qt.canLoad(J,j):K.runInContext(()=>Qt(J,j)))});return(0,V.of)($e).pipe(Yo(),vt())}(J,j,se).pipe((0,u.z)(Ie=>Ie?this.configLoader.loadChildren(J,j).pipe((0,g.b)($e=>{j._loadedRoutes=$e.routes,j._loadedInjector=$e.injector})):function Gi(K){return(0,U._)(Js(vr,3))}())):(0,V.of)({routes:[],injector:J})}lineralizeSegments(J,j){let se=[],Ie=j.root;for(;;){if(se=se.concat(Ie.segments),0===Ie.numberOfChildren)return(0,V.of)(se);if(Ie.numberOfChildren>1||!Ie.children[jt])return J.redirectTo,(0,U._)(new h.vHH(4e3,vr));Ie=Ie.children[jt]}}applyRedirectCommands(J,j,se){return this.applyRedirectCreateUrlTree(j,this.urlSerializer.parse(j),J,se)}applyRedirectCreateUrlTree(J,j,se,Ie){const $e=this.createSegmentGroup(J,j.root,se,Ie);return new Yt($e,this.createQueryParams(j.queryParams,this.urlTree.queryParams),j.fragment)}createQueryParams(J,j){const se={};return un(J,(Ie,$e)=>{if("string"==typeof Ie&&Ie.startsWith(":")){const Qt=Ie.substring(1);se[$e]=j[Qt]}else se[$e]=Ie}),se}createSegmentGroup(J,j,se,Ie){const $e=this.createSegments(J,j.segments,se,Ie);let ct={};return un(j.children,(Qt,kn)=>{ct[kn]=this.createSegmentGroup(J,Qt,se,Ie)}),new ut($e,ct)}createSegments(J,j,se,Ie){return j.map($e=>$e.path.startsWith(":")?this.findPosParam(J,$e,Ie):this.findOrReturn($e,se))}findPosParam(J,j,se){const Ie=se[j.path.substring(1)];if(!Ie)throw new h.vHH(4001,vr);return Ie}findOrReturn(J,j){let se=0;for(const Ie of j){if(Ie.path===J.path)return j.splice(se),Ie;se++}return J}}class xo{}class ml{constructor(J,j,se,Ie,$e,ct,Qt){this.injector=J,this.rootComponentType=j,this.config=se,this.urlTree=Ie,this.url=$e,this.paramsInheritanceStrategy=ct,this.urlSerializer=Qt}recognize(){const J=Xn(this.urlTree.root,[],[],this.config.filter(j=>void 0===j.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,J,jt).pipe((0,Ze.U)(j=>{if(null===j)return null;const se=new Tt([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},jt,this.rootComponentType,null,this.urlTree.root,-1,{}),Ie=new uo(se,j),$e=new q(this.url,Ie);return this.inheritParamsAndData($e._root),$e}))}inheritParamsAndData(J){const j=J.value,se=Vs(j,this.paramsInheritanceStrategy);j.params=Object.freeze(se.params),j.data=Object.freeze(se.data),J.children.forEach(Ie=>this.inheritParamsAndData(Ie))}processSegmentGroup(J,j,se,Ie){return 0===se.segments.length&&se.hasChildren()?this.processChildren(J,j,se):this.processSegment(J,j,se,se.segments,Ie)}processChildren(J,j,se){return(0,C.D)(Object.keys(se.children)).pipe((0,H.b)(Ie=>{const $e=se.children[Ie],ct=bt(j,Ie);return this.processSegmentGroup(J,ct,$e,Ie)}),Z((Ie,$e)=>Ie&&$e?(Ie.push(...$e),Ie):null),(0,de.o)(Ie=>null!==Ie),dt(null),X(),(0,Ze.U)(Ie=>{if(null===Ie)return null;const $e=eo(Ie);return function za(K){K.sort((J,j)=>J.value.outlet===jt?-1:j.value.outlet===jt?1:J.value.outlet.localeCompare(j.value.outlet))}($e),$e}))}processSegment(J,j,se,Ie,$e){return(0,C.D)(j).pipe((0,H.b)(ct=>this.processSegmentAgainstRoute(ct._injector??J,ct,se,Ie,$e)),Le(ct=>!!ct),(0,F.K)(ct=>{if(_a(ct))return ns(se,Ie,$e)?(0,V.of)([]):(0,V.of)(null);throw ct}))}processSegmentAgainstRoute(J,j,se,Ie,$e){if(j.redirectTo||!Bo(j,se,Ie,$e))return(0,V.of)(null);let ct;if("**"===j.path){const Qt=Ie.length>0?Ut(Ie).parameters:{},kn=R(se)+Ie.length,Ci=new Tt(Ie,Qt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,S(j),Fe(j),j.component??j._loadedComponent??null,j,qa(se),kn,N(j));ct=(0,V.of)({snapshot:Ci,consumedSegments:[],remainingSegments:[]})}else ct=Mn(se,j,Ie,J).pipe((0,Ze.U)(({matched:Qt,consumedSegments:kn,remainingSegments:Ci,parameters:Bi})=>{if(!Qt)return null;const ho=R(se)+kn.length;return{snapshot:new Tt(kn,Bi,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,S(j),Fe(j),j.component??j._loadedComponent??null,j,qa(se),ho,N(j)),consumedSegments:kn,remainingSegments:Ci}}));return ct.pipe((0,Ke.w)(Qt=>{if(null===Qt)return(0,V.of)(null);const{snapshot:kn,consumedSegments:Ci,remainingSegments:Bi}=Qt;J=j._injector??J;const ho=j._loadedInjector??J,Ls=function Wa(K){return K.children?K.children:K.loadChildren?K._loadedRoutes:[]}(j),{segmentGroup:ws,slicedSegments:Qa}=Xn(se,Ci,Bi,Ls.filter(hs=>void 0===hs.redirectTo));if(0===Qa.length&&ws.hasChildren())return this.processChildren(ho,Ls,ws).pipe((0,Ze.U)(hs=>null===hs?null:[new uo(kn,hs)]));if(0===Ls.length&&0===Qa.length)return(0,V.of)([new uo(kn,[])]);const Na=Fe(j)===$e;return this.processSegment(ho,Ls,ws,Qa,Na?jt:$e).pipe((0,Ze.U)(hs=>null===hs?null:[new uo(kn,hs)]))}))}}function Ho(K){const J=K.value.routeConfig;return J&&""===J.path&&void 0===J.redirectTo}function eo(K){const J=[],j=new Set;for(const se of K){if(!Ho(se)){J.push(se);continue}const Ie=J.find($e=>se.value.routeConfig===$e.value.routeConfig);void 0!==Ie?(Ie.children.push(...se.children),j.add(Ie)):J.push(se)}for(const se of j){const Ie=eo(se.children);J.push(new uo(se.value,Ie))}return J.filter(se=>!j.has(se))}function qa(K){let J=K;for(;J._sourceSegment;)J=J._sourceSegment;return J}function R(K){let J=K,j=J._segmentIndexShift??0;for(;J._sourceSegment;)J=J._sourceSegment,j+=J._segmentIndexShift??0;return j-1}function S(K){return K.data||{}}function N(K){return K.resolve||{}}function Gn(K){return"string"==typeof K.title||null===K.title}function hn(K){return(0,Ke.w)(J=>{const j=K(J);return j?(0,C.D)(j).pipe((0,Ze.U)(()=>J)):(0,V.of)(J)})}const yi=new h.OlP("ROUTES");let Si=(()=>{class K{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,h.f3M)(h.Sil)}loadComponent(j){if(this.componentLoaders.get(j))return this.componentLoaders.get(j);if(j._loadedComponent)return(0,V.of)(j._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(j);const se=Ft(j.loadComponent()).pipe((0,Ze.U)(Dr),(0,g.b)($e=>{this.onLoadEndListener&&this.onLoadEndListener(j),j._loadedComponent=$e}),(0,ft.x)(()=>{this.componentLoaders.delete(j)})),Ie=new xe(se,()=>new be.x).pipe(Ce());return this.componentLoaders.set(j,Ie),Ie}loadChildren(j,se){if(this.childrenLoaders.get(se))return this.childrenLoaders.get(se);if(se._loadedRoutes)return(0,V.of)({routes:se._loadedRoutes,injector:se._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(se);const $e=this.loadModuleFactoryOrRoutes(se.loadChildren).pipe((0,Ze.U)(Qt=>{this.onLoadEndListener&&this.onLoadEndListener(se);let kn,Ci,Bi=!1;Array.isArray(Qt)?Ci=Qt:(kn=Qt.create(j).injector,Ci=_t(kn.get(yi,[],h.XFs.Self|h.XFs.Optional)));return{routes:Ci.map(xr),injector:kn}}),(0,ft.x)(()=>{this.childrenLoaders.delete(se)})),ct=new xe($e,()=>new be.x).pipe(Ce());return this.childrenLoaders.set(se,ct),ct}loadModuleFactoryOrRoutes(j){return Ft(j()).pipe((0,Ze.U)(Dr),(0,u.z)(se=>se instanceof h.YKP||Array.isArray(se)?(0,V.of)(se):(0,C.D)(this.compiler.compileModuleAsync(se))))}}return K.\u0275fac=function(j){return new(j||K)},K.\u0275prov=h.Yz7({token:K,factory:K.\u0275fac,providedIn:"root"}),K})();function Dr(K){return function er(K){return K&&"object"==typeof K&&"default"in K}(K)?K.default:K}let oo=(()=>{class K{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new be.x,this.configLoader=(0,h.f3M)(Si),this.environmentInjector=(0,h.f3M)(h.lqb),this.urlSerializer=(0,h.f3M)(Fr),this.rootContexts=(0,h.f3M)(Hr),this.navigationId=0,this.afterPreactivation=()=>(0,V.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=Ie=>this.events.next(new Is(Ie)),this.configLoader.onLoadStartListener=Ie=>this.events.next(new Oo(Ie))}complete(){this.transitions?.complete()}handleNavigationRequest(j){const se=++this.navigationId;this.transitions?.next({...this.transitions.value,...j,id:se})}setupNavigations(j){return this.transitions=new ee.X({id:0,targetPageId:0,currentUrlTree:j.currentUrlTree,currentRawUrl:j.currentUrlTree,extractedUrl:j.urlHandlingStrategy.extract(j.currentUrlTree),urlAfterRedirects:j.urlHandlingStrategy.extract(j.currentUrlTree),rawUrl:j.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:No,restoredState:null,currentSnapshot:j.routerState.snapshot,targetSnapshot:null,currentRouterState:j.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,tt.h)(se=>0!==se.id),(0,Ze.U)(se=>({...se,extractedUrl:j.urlHandlingStrategy.extract(se.rawUrl)})),(0,Ke.w)(se=>{let Ie=!1,$e=!1;return(0,V.of)(se).pipe((0,g.b)(ct=>{this.currentNavigation={id:ct.id,initialUrl:ct.rawUrl,extractedUrl:ct.extractedUrl,trigger:ct.source,extras:ct.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Ke.w)(ct=>{const Qt=j.browserUrlTree.toString(),kn=!j.navigated||ct.extractedUrl.toString()!==Qt||Qt!==j.currentUrlTree.toString();if(!kn&&"reload"!==(ct.extras.onSameUrlNavigation??j.onSameUrlNavigation)){const Bi="";return this.events.next(new gs(ct.id,j.serializeUrl(se.rawUrl),Bi,0)),j.rawUrlTree=ct.rawUrl,ct.resolve(null),O.E}if(j.urlHandlingStrategy.shouldProcessUrl(ct.rawUrl))return so(ct.source)&&(j.browserUrlTree=ct.extractedUrl),(0,V.of)(ct).pipe((0,Ke.w)(Bi=>{const ho=this.transitions?.getValue();return this.events.next(new no(Bi.id,this.urlSerializer.serialize(Bi.extractedUrl),Bi.source,Bi.restoredState)),ho!==this.transitions?.getValue()?O.E:Promise.resolve(Bi)}),function Ni(K,J,j,se){return(0,Ke.w)(Ie=>function gr(K,J,j,se,Ie){return new Oi(K,J,j,se,Ie).apply()}(K,J,j,Ie.extractedUrl,se).pipe((0,Ze.U)($e=>({...Ie,urlAfterRedirects:$e}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,j.config),(0,g.b)(Bi=>{this.currentNavigation={...this.currentNavigation,finalUrl:Bi.urlAfterRedirects},se.urlAfterRedirects=Bi.urlAfterRedirects}),function ie(K,J,j,se,Ie){return(0,u.z)($e=>function ka(K,J,j,se,Ie,$e,ct="emptyOnly"){return new ml(K,J,j,se,Ie,ct,$e).recognize().pipe((0,Ke.w)(Qt=>null===Qt?function Or(K){return new y.y(J=>J.error(K))}(new xo):(0,V.of)(Qt)))}(K,J,j,$e.urlAfterRedirects,se.serialize($e.urlAfterRedirects),se,Ie).pipe((0,Ze.U)(ct=>({...$e,targetSnapshot:ct}))))}(this.environmentInjector,this.rootComponentType,j.config,this.urlSerializer,j.paramsInheritanceStrategy),(0,g.b)(Bi=>{if(se.targetSnapshot=Bi.targetSnapshot,"eager"===j.urlUpdateStrategy){if(!Bi.extras.skipLocationChange){const Ls=j.urlHandlingStrategy.merge(Bi.urlAfterRedirects,Bi.rawUrl);j.setBrowserUrl(Ls,Bi)}j.browserUrlTree=Bi.urlAfterRedirects}const ho=new Co(Bi.id,this.urlSerializer.serialize(Bi.extractedUrl),this.urlSerializer.serialize(Bi.urlAfterRedirects),Bi.targetSnapshot);this.events.next(ho)}));if(kn&&j.urlHandlingStrategy.shouldProcessUrl(j.rawUrlTree)){const{id:Bi,extractedUrl:ho,source:Ls,restoredState:ws,extras:Qa}=ct,Na=new no(Bi,this.urlSerializer.serialize(ho),Ls,ws);this.events.next(Na);const hs=Ar(ho,this.rootComponentType).snapshot;return se={...ct,targetSnapshot:hs,urlAfterRedirects:ho,extras:{...Qa,skipLocationChange:!1,replaceUrl:!1}},(0,V.of)(se)}{const Bi="";return this.events.next(new gs(ct.id,j.serializeUrl(se.extractedUrl),Bi,1)),j.rawUrlTree=ct.rawUrl,ct.resolve(null),O.E}}),(0,g.b)(ct=>{const Qt=new Ps(ct.id,this.urlSerializer.serialize(ct.extractedUrl),this.urlSerializer.serialize(ct.urlAfterRedirects),ct.targetSnapshot);this.events.next(Qt)}),(0,Ze.U)(ct=>se={...ct,guards:Rr(ct.targetSnapshot,ct.currentSnapshot,this.rootContexts)}),function Bl(K,J){return(0,u.z)(j=>{const{targetSnapshot:se,currentSnapshot:Ie,guards:{canActivateChecks:$e,canDeactivateChecks:ct}}=j;return 0===ct.length&&0===$e.length?(0,V.of)({...j,guardsResult:!0}):function Za(K,J,j,se){return(0,C.D)(K).pipe((0,u.z)(Ie=>function Be(K,J,j,se,Ie){const $e=J&&J.routeConfig?J.routeConfig.canDeactivate:null;if(!$e||0===$e.length)return(0,V.of)(!0);const ct=$e.map(Qt=>{const kn=Se(J)??Ie,Ci=Qr(Qt,kn);return Ft(function ir(K){return K&&Pe(K.canDeactivate)}(Ci)?Ci.canDeactivate(K,J,j,se):kn.runInContext(()=>Ci(K,J,j,se))).pipe(Le())});return(0,V.of)(ct).pipe(Yo())}(Ie.component,Ie.route,j,J,se)),Le(Ie=>!0!==Ie,!0))}(ct,se,Ie,K).pipe((0,u.z)(Qt=>Qt&&function ye(K){return"boolean"==typeof K}(Qt)?function I(K,J,j,se){return(0,C.D)(J).pipe((0,H.b)(Ie=>(0,ve.z)(function A(K,J){return null!==K&&J&&J(new os(K)),(0,V.of)(!0)}(Ie.route.parent,se),function w(K,J){return null!==K&&J&&J(new Nn(K)),(0,V.of)(!0)}(Ie.route,se),function _e(K,J,j){const se=J[J.length-1],$e=J.slice(0,J.length-1).reverse().map(ct=>function zs(K){const J=K.routeConfig?K.routeConfig.canActivateChild:null;return J&&0!==J.length?{node:K,guards:J}:null}(ct)).filter(ct=>null!==ct).map(ct=>(0,re.P)(()=>{const Qt=ct.guards.map(kn=>{const Ci=Se(ct.node)??j,Bi=Qr(kn,Ci);return Ft(function Tn(K){return K&&Pe(K.canActivateChild)}(Bi)?Bi.canActivateChild(se,K):Ci.runInContext(()=>Bi(se,K))).pipe(Le())});return(0,V.of)(Qt).pipe(Yo())}));return(0,V.of)($e).pipe(Yo())}(K,Ie.path,j),function te(K,J,j){const se=J.routeConfig?J.routeConfig.canActivate:null;if(!se||0===se.length)return(0,V.of)(!0);const Ie=se.map($e=>(0,re.P)(()=>{const ct=Se(J)??j,Qt=Qr($e,ct);return Ft(function at(K){return K&&Pe(K.canActivate)}(Qt)?Qt.canActivate(J,K):ct.runInContext(()=>Qt(J,K))).pipe(Le())}));return(0,V.of)(Ie).pipe(Yo())}(K,Ie.route,j))),Le(Ie=>!0!==Ie,!0))}(se,$e,K,J):(0,V.of)(Qt)),(0,Ze.U)(Qt=>({...j,guardsResult:Qt})))})}(this.environmentInjector,ct=>this.events.next(ct)),(0,g.b)(ct=>{if(se.guardsResult=ct.guardsResult,Zt(ct.guardsResult))throw Lr(0,ct.guardsResult);const Qt=new po(ct.id,this.urlSerializer.serialize(ct.extractedUrl),this.urlSerializer.serialize(ct.urlAfterRedirects),ct.targetSnapshot,!!ct.guardsResult);this.events.next(Qt)}),(0,tt.h)(ct=>!!ct.guardsResult||(j.restoreHistory(ct),this.cancelNavigationTransition(ct,"",3),!1)),hn(ct=>{if(ct.guards.canActivateChecks.length)return(0,V.of)(ct).pipe((0,g.b)(Qt=>{const kn=new ms(Qt.id,this.urlSerializer.serialize(Qt.extractedUrl),this.urlSerializer.serialize(Qt.urlAfterRedirects),Qt.targetSnapshot);this.events.next(kn)}),(0,Ke.w)(Qt=>{let kn=!1;return(0,V.of)(Qt).pipe(function Re(K,J){return(0,u.z)(j=>{const{targetSnapshot:se,guards:{canActivateChecks:Ie}}=j;if(!Ie.length)return(0,V.of)(j);let $e=0;return(0,C.D)(Ie).pipe((0,H.b)(ct=>function ot(K,J,j,se){const Ie=K.routeConfig,$e=K._resolve;return void 0!==Ie?.title&&!Gn(Ie)&&($e[xn]=Ie.title),function At(K,J,j,se){const Ie=function nn(K){return[...Object.keys(K),...Object.getOwnPropertySymbols(K)]}(K);if(0===Ie.length)return(0,V.of)({});const $e={};return(0,C.D)(Ie).pipe((0,u.z)(ct=>function Cn(K,J,j,se){const Ie=Se(J)??se,$e=Qr(K,Ie);return Ft($e.resolve?$e.resolve(J,j):Ie.runInContext(()=>$e(J,j)))}(K[ct],J,j,se).pipe(Le(),(0,g.b)(Qt=>{$e[ct]=Qt}))),W(1),(0,me.h)($e),(0,F.K)(ct=>_a(ct)?O.E:(0,U._)(ct)))}($e,K,J,se).pipe((0,Ze.U)(ct=>(K._resolvedData=ct,K.data=Vs(K,j).resolve,Ie&&Gn(Ie)&&(K.data[xn]=Ie.title),null)))}(ct.route,se,K,J)),(0,g.b)(()=>$e++),W(1),(0,u.z)(ct=>$e===Ie.length?(0,V.of)(j):O.E))})}(j.paramsInheritanceStrategy,this.environmentInjector),(0,g.b)({next:()=>kn=!0,complete:()=>{kn||(j.restoreHistory(Qt),this.cancelNavigationTransition(Qt,"",2))}}))}),(0,g.b)(Qt=>{const kn=new _s(Qt.id,this.urlSerializer.serialize(Qt.extractedUrl),this.urlSerializer.serialize(Qt.urlAfterRedirects),Qt.targetSnapshot);this.events.next(kn)}))}),hn(ct=>{const Qt=kn=>{const Ci=[];kn.routeConfig?.loadComponent&&!kn.routeConfig._loadedComponent&&Ci.push(this.configLoader.loadComponent(kn.routeConfig).pipe((0,g.b)(Bi=>{kn.component=Bi}),(0,Ze.U)(()=>{})));for(const Bi of kn.children)Ci.push(...Qt(Bi));return Ci};return(0,ue.a)(Qt(ct.targetSnapshot.root)).pipe(dt(),(0,De.q)(1))}),hn(()=>this.afterPreactivation()),(0,Ze.U)(ct=>{const Qt=function Cr(K,J,j){const se=Uo(K,J._root,j?j._root:void 0);return new ro(se,J)}(j.routeReuseStrategy,ct.targetSnapshot,ct.currentRouterState);return se={...ct,targetRouterState:Qt}}),(0,g.b)(ct=>{j.currentUrlTree=ct.urlAfterRedirects,j.rawUrlTree=j.urlHandlingStrategy.merge(ct.urlAfterRedirects,ct.rawUrl),j.routerState=ct.targetRouterState,"deferred"===j.urlUpdateStrategy&&(ct.extras.skipLocationChange||j.setBrowserUrl(j.rawUrlTree,ct),j.browserUrlTree=ct.urlAfterRedirects)}),((K,J,j)=>(0,Ze.U)(se=>(new kt(J,se.targetRouterState,se.currentRouterState,j).activate(K),se)))(this.rootContexts,j.routeReuseStrategy,ct=>this.events.next(ct)),(0,De.q)(1),(0,g.b)({next:ct=>{Ie=!0,this.lastSuccessfulNavigation=this.currentNavigation,j.navigated=!0,this.events.next(new wo(ct.id,this.urlSerializer.serialize(ct.extractedUrl),this.urlSerializer.serialize(j.currentUrlTree))),j.titleStrategy?.updateTitle(ct.targetRouterState.snapshot),ct.resolve(!0)},complete:()=>{Ie=!0}}),(0,ft.x)(()=>{Ie||$e||this.cancelNavigationTransition(se,"",1),this.currentNavigation?.id===se.id&&(this.currentNavigation=null)}),(0,F.K)(ct=>{if($e=!0,Lo(ct)){ss(ct)||(j.navigated=!0,j.restoreHistory(se,!0));const Qt=new Ri(se.id,this.urlSerializer.serialize(se.extractedUrl),ct.message,ct.cancellationCode);if(this.events.next(Qt),ss(ct)){const kn=j.urlHandlingStrategy.merge(ct.url,j.rawUrlTree),Ci={skipLocationChange:se.extras.skipLocationChange,replaceUrl:"eager"===j.urlUpdateStrategy||so(se.source)};j.scheduleNavigation(kn,No,null,Ci,{resolve:se.resolve,reject:se.reject,promise:se.promise})}else se.resolve(!1)}else{j.restoreHistory(se,!0);const Qt=new io(se.id,this.urlSerializer.serialize(se.extractedUrl),ct,se.targetSnapshot??void 0);this.events.next(Qt);try{se.resolve(j.errorHandler(ct))}catch(kn){se.reject(kn)}}return O.E}))}))}cancelNavigationTransition(j,se,Ie){const $e=new Ri(j.id,this.urlSerializer.serialize(j.extractedUrl),se,Ie);this.events.next($e),j.resolve(!1)}}return K.\u0275fac=function(j){return new(j||K)},K.\u0275prov=h.Yz7({token:K,factory:K.\u0275fac,providedIn:"root"}),K})();function so(K){return K!==No}let Po=(()=>{class K{buildTitle(j){let se,Ie=j.root;for(;void 0!==Ie;)se=this.getResolvedTitleForRoute(Ie)??se,Ie=Ie.children.find($e=>$e.outlet===jt);return se}getResolvedTitleForRoute(j){return j.data[xn]}}return K.\u0275fac=function(j){return new(j||K)},K.\u0275prov=h.Yz7({token:K,factory:function(){return(0,h.f3M)(Ns)},providedIn:"root"}),K})(),Ns=(()=>{class K extends Po{constructor(j){super(),this.title=j}updateTitle(j){const se=this.buildTitle(j);void 0!==se&&this.title.setTitle(se)}}return K.\u0275fac=function(j){return new(j||K)(h.LFG(Et.Dx))},K.\u0275prov=h.Yz7({token:K,factory:K.\u0275fac,providedIn:"root"}),K})(),ba=(()=>{class K{}return K.\u0275fac=function(j){return new(j||K)},K.\u0275prov=h.Yz7({token:K,factory:function(){return(0,h.f3M)(Xa)},providedIn:"root"}),K})();class Qo{shouldDetach(J){return!1}store(J,j){}shouldAttach(J){return!1}retrieve(J){return null}shouldReuseRoute(J,j){return J.routeConfig===j.routeConfig}}let Xa=(()=>{class K extends Qo{}return K.\u0275fac=function(){let J;return function(se){return(J||(J=h.n5z(K)))(se||K)}}(),K.\u0275prov=h.Yz7({token:K,factory:K.\u0275fac,providedIn:"root"}),K})();const vo=new h.OlP("",{providedIn:"root",factory:()=>({})});let Ms=(()=>{class K{}return K.\u0275fac=function(j){return new(j||K)},K.\u0275prov=h.Yz7({token:K,factory:function(){return(0,h.f3M)(is)},providedIn:"root"}),K})(),is=(()=>{class K{shouldProcessUrl(j){return!0}extract(j){return j}merge(j,se){return j}}return K.\u0275fac=function(j){return new(j||K)},K.\u0275prov=h.Yz7({token:K,factory:K.\u0275fac,providedIn:"root"}),K})();function Tl(K){throw K}function tc(K,J,j){return J.parse("/")}const Yi={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ji={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ci=(()=>{class K{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,h.f3M)(h.c2e),this.isNgZoneEnabled=!1,this.options=(0,h.f3M)(vo,{optional:!0})||{},this.errorHandler=this.options.errorHandler||Tl,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||tc,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,h.f3M)(Ms),this.routeReuseStrategy=(0,h.f3M)(ba),this.urlCreationStrategy=(0,h.f3M)(Do),this.titleStrategy=(0,h.f3M)(Po),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=_t((0,h.f3M)(yi,{optional:!0})??[]),this.navigationTransitions=(0,h.f3M)(oo),this.urlSerializer=(0,h.f3M)(Fr),this.location=(0,h.f3M)(ke.Ye),this.isNgZoneEnabled=(0,h.f3M)(h.R0b)instanceof h.R0b&&h.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Yt,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Ar(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(j=>{this.lastSuccessfulId=j.id,this.currentPageId=this.browserPageId??0},j=>{this.console.warn(`Unhandled Navigation Error: ${j}`)})}resetRootComponentType(j){this.routerState.root.component=j,this.navigationTransitions.rootComponentType=j}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const j=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),No,j)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(j=>{const se="popstate"===j.type?"popstate":"hashchange";"popstate"===se&&setTimeout(()=>{this.navigateToSyncWithBrowser(j.url,se,j.state)},0)}))}navigateToSyncWithBrowser(j,se,Ie){const $e={replaceUrl:!0},ct=Ie?.navigationId?Ie:null;if(Ie){const kn={...Ie};delete kn.navigationId,delete kn.\u0275routerPageId,0!==Object.keys(kn).length&&($e.state=kn)}const Qt=this.parseUrl(j);this.scheduleNavigation(Qt,se,ct,$e)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(j){this.config=j.map(xr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(j,se={}){const{relativeTo:Ie,queryParams:$e,fragment:ct,queryParamsHandling:Qt,preserveFragment:kn}=se,Ci=kn?this.currentUrlTree.fragment:ct;let Bi=null;switch(Qt){case"merge":Bi={...this.currentUrlTree.queryParams,...$e};break;case"preserve":Bi=this.currentUrlTree.queryParams;break;default:Bi=$e||null}return null!==Bi&&(Bi=this.removeEmptyProps(Bi)),this.urlCreationStrategy.createUrlTree(Ie,this.routerState,this.currentUrlTree,j,Bi,Ci??null)}navigateByUrl(j,se={skipLocationChange:!1}){const Ie=Zt(j)?j:this.parseUrl(j),$e=this.urlHandlingStrategy.merge(Ie,this.rawUrlTree);return this.scheduleNavigation($e,No,null,se)}navigate(j,se={skipLocationChange:!1}){return function fr(K){for(let J=0;J<K.length;J++){const j=K[J];if(null==j)throw new h.vHH(4008,false)}}(j),this.navigateByUrl(this.createUrlTree(j,se),se)}serializeUrl(j){return this.urlSerializer.serialize(j)}parseUrl(j){let se;try{se=this.urlSerializer.parse(j)}catch(Ie){se=this.malformedUriErrorHandler(Ie,this.urlSerializer,j)}return se}isActive(j,se){let Ie;if(Ie=!0===se?{...Yi}:!1===se?{...Ji}:se,Zt(j))return On(this.currentUrlTree,j,Ie);const $e=this.parseUrl(j);return On(this.currentUrlTree,$e,Ie)}removeEmptyProps(j){return Object.keys(j).reduce((se,Ie)=>{const $e=j[Ie];return null!=$e&&(se[Ie]=$e),se},{})}scheduleNavigation(j,se,Ie,$e,ct){if(this.disposed)return Promise.resolve(!1);let Qt,kn,Ci,Bi;return ct?(Qt=ct.resolve,kn=ct.reject,Ci=ct.promise):Ci=new Promise((ho,Ls)=>{Qt=ho,kn=Ls}),Bi="computed"===this.canceledNavigationResolution?Ie&&Ie.\u0275routerPageId?Ie.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:Bi,source:se,restoredState:Ie,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:j,extras:$e,resolve:Qt,reject:kn,promise:Ci,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ci.catch(ho=>Promise.reject(ho))}setBrowserUrl(j,se){const Ie=this.urlSerializer.serialize(j);if(this.location.isCurrentPathEqualTo(Ie)||se.extras.replaceUrl){const ct={...se.extras.state,...this.generateNgRouterState(se.id,this.browserPageId)};this.location.replaceState(Ie,"",ct)}else{const $e={...se.extras.state,...this.generateNgRouterState(se.id,se.targetPageId)};this.location.go(Ie,"",$e)}}restoreHistory(j,se=!1){if("computed"===this.canceledNavigationResolution){const $e=this.currentPageId-(this.browserPageId??this.currentPageId);0!==$e?this.location.historyGo($e):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===$e&&(this.resetState(j),this.browserUrlTree=j.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(se&&this.resetState(j),this.resetUrlToCurrentUrlTree())}resetState(j){this.routerState=j.currentRouterState,this.currentUrlTree=j.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,j.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(j,se){return"computed"===this.canceledNavigationResolution?{navigationId:j,\u0275routerPageId:se}:{navigationId:j}}}return K.\u0275fac=function(j){return new(j||K)},K.\u0275prov=h.Yz7({token:K,factory:K.\u0275fac,providedIn:"root"}),K})(),zo=(()=>{class K{constructor(j,se,Ie,$e,ct,Qt){this.router=j,this.route=se,this.tabIndexAttribute=Ie,this.renderer=$e,this.el=ct,this.locationStrategy=Qt,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new be.x;const kn=ct.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===kn||"area"===kn,this.isAnchorElement?this.subscription=j.events.subscribe(Ci=>{Ci instanceof wo&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(j){this._preserveFragment=(0,h.D6c)(j)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(j){this._skipLocationChange=(0,h.D6c)(j)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(j){this._replaceUrl=(0,h.D6c)(j)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(j){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",j)}ngOnChanges(j){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(j){null!=j?(this.commands=Array.isArray(j)?j:[j],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(j,se,Ie,$e,ct){return!!(null===this.urlTree||this.isAnchorElement&&(0!==j||se||Ie||$e||ct||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const j=null===this.href?null:(0,h.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",j)}applyAttributeValue(j,se){const Ie=this.renderer,$e=this.el.nativeElement;null!==se?Ie.setAttribute($e,j,se):Ie.removeAttribute($e,j)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return K.\u0275fac=function(j){return new(j||K)(h.Y36(ci),h.Y36(Qi),h.$8M("tabindex"),h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(ke.S$))},K.\u0275dir=h.lG2({type:K,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(j,se){1&j&&h.NdJ("click",function($e){return se.onClick($e.button,$e.ctrlKey,$e.shiftKey,$e.altKey,$e.metaKey)}),2&j&&h.uIk("target",se.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[h.TTD]}),K})();class Ws{}let _l=(()=>{class K{constructor(j,se,Ie,$e,ct){this.router=j,this.injector=Ie,this.preloadingStrategy=$e,this.loader=ct}setUpPreloading(){this.subscription=this.router.events.pipe((0,tt.h)(j=>j instanceof wo),(0,H.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(j,se){const Ie=[];for(const $e of se){$e.providers&&!$e._injector&&($e._injector=(0,h.MMx)($e.providers,j,`Route: ${$e.path}`));const ct=$e._injector??j,Qt=$e._loadedInjector??ct;($e.loadChildren&&!$e._loadedRoutes&&void 0===$e.canLoad||$e.loadComponent&&!$e._loadedComponent)&&Ie.push(this.preloadConfig(ct,$e)),($e.children||$e._loadedRoutes)&&Ie.push(this.processRoutes(Qt,$e.children??$e._loadedRoutes))}return(0,C.D)(Ie).pipe((0,pt.J)())}preloadConfig(j,se){return this.preloadingStrategy.preload(se,()=>{let Ie;Ie=se.loadChildren&&void 0===se.canLoad?this.loader.loadChildren(j,se):(0,V.of)(null);const $e=Ie.pipe((0,u.z)(ct=>null===ct?(0,V.of)(void 0):(se._loadedRoutes=ct.routes,se._loadedInjector=ct.injector,this.processRoutes(ct.injector??j,ct.routes))));if(se.loadComponent&&!se._loadedComponent){const ct=this.loader.loadComponent(se);return(0,C.D)([$e,ct]).pipe((0,pt.J)())}return $e})}}return K.\u0275fac=function(j){return new(j||K)(h.LFG(ci),h.LFG(h.Sil),h.LFG(h.lqb),h.LFG(Ws),h.LFG(Si))},K.\u0275prov=h.Yz7({token:K,factory:K.\u0275fac,providedIn:"root"}),K})();const Us=new h.OlP("");let ta=(()=>{class K{constructor(j,se,Ie,$e,ct={}){this.urlSerializer=j,this.transitions=se,this.viewportScroller=Ie,this.zone=$e,this.options=ct,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},ct.scrollPositionRestoration=ct.scrollPositionRestoration||"disabled",ct.anchorScrolling=ct.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(j=>{j instanceof no?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=j.navigationTrigger,this.restoredId=j.restoredState?j.restoredState.navigationId:0):j instanceof wo&&(this.lastId=j.id,this.scheduleScrollEvent(j,this.urlSerializer.parse(j.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(j=>{j instanceof Nr&&(j.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(j.position):j.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(j.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(j,se){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Nr(j,"popstate"===this.lastSource?this.store[this.restoredId]:null,se))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return K.\u0275fac=function(j){h.$Z()},K.\u0275prov=h.Yz7({token:K,factory:K.\u0275fac}),K})();var ko=(()=>((ko=ko||{})[ko.COMPLETE=0]="COMPLETE",ko[ko.FAILED=1]="FAILED",ko[ko.REDIRECTING=2]="REDIRECTING",ko))();const Ua=!1;function rl(K,J){return{\u0275kind:K,\u0275providers:J}}const na=new h.OlP("",{providedIn:"root",factory:()=>!1});function la(){const K=(0,h.f3M)(h.zs3);return J=>{const j=K.get(h.z2F);if(J!==j.components[0])return;const se=K.get(ci),Ie=K.get(ca);1===K.get(gc)&&se.initialNavigation(),K.get(Gr,null,h.XFs.Optional)?.setUpPreloading(),K.get(Us,null,h.XFs.Optional)?.init(),se.resetRootComponentType(j.componentTypes[0]),Ie.closed||(Ie.next(),Ie.complete(),Ie.unsubscribe())}}const ca=new h.OlP(Ua?"bootstrap done indicator":"",{factory:()=>new be.x}),gc=new h.OlP(Ua?"initial navigation":"",{providedIn:"root",factory:()=>1});function rc(){let K=[];return K=Ua?[{provide:h.Xts,multi:!0,useFactory:()=>{const J=(0,h.f3M)(ci);return()=>J.events.subscribe(j=>{console.group?.(`Router Event: ${j.constructor.name}`),console.log(function sa(K){if(!("type"in K))return`Unknown Router Event: ${K.constructor.name}`;switch(K.type){case 14:return`ActivationEnd(path: '${K.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${K.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${K.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${K.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${K.id}, url: '${K.url}', urlAfterRedirects: '${K.urlAfterRedirects}', state: ${K.state}, shouldActivate: ${K.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${K.id}, url: '${K.url}', urlAfterRedirects: '${K.urlAfterRedirects}', state: ${K.state})`;case 2:return`NavigationCancel(id: ${K.id}, url: '${K.url}')`;case 16:return`NavigationSkipped(id: ${K.id}, url: '${K.url}')`;case 1:return`NavigationEnd(id: ${K.id}, url: '${K.url}', urlAfterRedirects: '${K.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${K.id}, url: '${K.url}', error: ${K.error})`;case 0:return`NavigationStart(id: ${K.id}, url: '${K.url}')`;case 6:return`ResolveEnd(id: ${K.id}, url: '${K.url}', urlAfterRedirects: '${K.urlAfterRedirects}', state: ${K.state})`;case 5:return`ResolveStart(id: ${K.id}, url: '${K.url}', urlAfterRedirects: '${K.urlAfterRedirects}', state: ${K.state})`;case 10:return`RouteConfigLoadEnd(path: ${K.route.path})`;case 9:return`RouteConfigLoadStart(path: ${K.route.path})`;case 4:return`RoutesRecognized(id: ${K.id}, url: '${K.url}', urlAfterRedirects: '${K.urlAfterRedirects}', state: ${K.state})`;case 15:return`Scroll(anchor: '${K.anchor}', position: '${K.position?`${K.position[0]}, ${K.position[1]}`:null}')`}}(j)),console.log(j),console.groupEnd?.()})}}]:[],rl(1,K)}const Gr=new h.OlP(Ua?"router preloader":"");function ds(K){return rl(0,[{provide:Gr,useExisting:_l},{provide:Ws,useExisting:K}])}const ai=!1,Ca=new h.OlP(ai?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),vl=[ke.Ye,{provide:Fr,useClass:Ei},ci,Hr,{provide:Qi,useFactory:function Pl(K){return K.routerState.root},deps:[ci]},Si,ai?{provide:na,useValue:!0}:[]];function Vl(){return new h.PXZ("Router",ci)}let Ic=(()=>{class K{constructor(j){}static forRoot(j,se){return{ngModule:K,providers:[vl,ai&&se?.enableTracing?rc().\u0275providers:[],{provide:yi,multi:!0,useValue:j},{provide:Ca,useFactory:rd,deps:[[ci,new h.FiY,new h.tp0]]},{provide:vo,useValue:se||{}},se?.useHash?{provide:ke.S$,useClass:ke.Do}:{provide:ke.S$,useClass:ke.b0},{provide:Us,useFactory:()=>{const K=(0,h.f3M)(ke.EM),J=(0,h.f3M)(h.R0b),j=(0,h.f3M)(vo),se=(0,h.f3M)(oo),Ie=(0,h.f3M)(Fr);return j.scrollOffset&&K.setOffset(j.scrollOffset),new ta(Ie,se,K,J,j)}},se?.preloadingStrategy?ds(se.preloadingStrategy).\u0275providers:[],{provide:h.PXZ,multi:!0,useFactory:Vl},se?.initialNavigation?jr(se):[],[{provide:Gs,useFactory:la},{provide:h.tb,multi:!0,useExisting:Gs}]]}}static forChild(j){return{ngModule:K,providers:[{provide:yi,multi:!0,useValue:j}]}}}return K.\u0275fac=function(j){return new(j||K)(h.LFG(Ca,8))},K.\u0275mod=h.oAB({type:K}),K.\u0275inj=h.cJS({imports:[xi]}),K})();function rd(K){if(ai&&K)throw new h.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function jr(K){return["disabled"===K.initialNavigation?rl(3,[{provide:h.ip1,multi:!0,useFactory:()=>{const J=(0,h.f3M)(ci);return()=>{J.setUpLocationChangeListener()}}},{provide:gc,useValue:2}]).\u0275providers:[],"enabledBlocking"===K.initialNavigation?rl(2,[{provide:gc,useValue:0},{provide:h.ip1,multi:!0,deps:[h.zs3],useFactory:J=>{const j=J.get(ke.V_,Promise.resolve());return()=>j.then(()=>new Promise(se=>{const Ie=J.get(ci),$e=J.get(ca);(function aa(K,J){K.events.pipe((0,tt.h)(j=>j instanceof wo||j instanceof Ri||j instanceof io||j instanceof gs),(0,Ze.U)(j=>j instanceof wo||j instanceof gs?ko.COMPLETE:j instanceof Ri&&(0===j.code||1===j.code)?ko.REDIRECTING:ko.FAILED),(0,tt.h)(j=>j!==ko.REDIRECTING),(0,De.q)(1)).subscribe(()=>{J()})})(Ie,()=>{se(!0)}),J.get(oo).afterPreactivation=()=>(se(!0),$e.closed?(0,V.of)(void 0):$e),Ie.initialNavigation()}))}}]).\u0275providers:[]]}const Gs=new h.OlP(ai?"Router Initializer":"")},330:(cn,Ve,G)=>{"use strict";G.d(Ve,{XB:()=>It,aU:()=>Ut,H6:()=>Fi,C3:()=>pr,KX:()=>go,bQ:()=>Ne,Wc:()=>fn,RY:()=>pn,w1:()=>xs,Zi:()=>Ti,Er:()=>On,fs:()=>wo,pz:()=>Ue,kv:()=>on,st:()=>ln,lm:()=>Ln,kS:()=>Hr,OB:()=>hr,Gj:()=>To,WB:()=>Ht,dW:()=>ts,lr:()=>Fn,q6:()=>Xe,dj:()=>xr,E$:()=>gt,jH:()=>Js,in:()=>Ge,mH:()=>ss,Zf:()=>Lo,aH:()=>Wi,E6:()=>io,N1:()=>Pr,_S:()=>po,St:()=>He,t2:()=>Is,Sw:()=>Oo,de:()=>Zn,Qy:()=>rn,M4:()=>ks,bt:()=>zr,kc:()=>Lr,ZZ:()=>Vr,If:()=>ur,W:()=>wi,kM:()=>qi});var h=G(5861),C=G(529),V=G(4650),ee=G(5081),pe=G(7579),ue=G(2416),ve=G(9751),re=G(9300),le=G(3900),U=G(262),y=G(515),O=G(2722),$=G(9646),Q=G(1135),oe=G(4968),Ce=G(4006),xe=G(4327),be=G(5707),ke=G(4004),Ze=G(1884);const Ke=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;function De(Fe){return"string"==typeof Fe&&!!Fe.match(RegExp("(en-GB-oed|i-ami|i-bnn|i-default|i-enochian|i-hak|i-klingon|i-lux|i-mingo|i-navajo|i-pwn|i-tao|i-tay|i-tsu|sgn-BE-FR|sgn-BE-NL|sgn-CH-DE|art-lojban|cel-gaulish|no-bok|no-nyn|zh-guoyu|zh-hakka|zh-min|zh-min-nan|zh-xiang)|([a-z]{2}-[A-Z]{2})|([a-z]{2}-[A-Za-z]{4})"))}function u(Fe){return Fe instanceof Date&&!isNaN(Fe)}function mt(Fe,bt,Se){const Ct=Se.global?Se.global[bt]:{},kt=Se.localeBased?Se.localeBased[Fe]:{};return kt?.[bt]?{...Ct,...kt[bt]}:Ct}const Le={localeConfig:{global:{},localeBased:{}},defaultLocale:"en-US",defaultCurrency:"USD",localeToCurrencyMapping:{"aa-DJ":"DJF","aa-ER":"ERN","aa-ET":"ETB","ab-GE":"ETB","ab-TR":"ETB","af-BW":"ETB","af-NA":"ETB","af-ZA":"ZAR","ak-GH":"ZAR","am-ET":"ETB","am-IL":"ETB","ar-AE":"AED","ar-AR":"AED","ar-BH":"BHD","ar-CM":"BHD","ar-CY":"BHD","ar-DJ":"BHD","ar-DZ":"DZD","ar-EG":"EGP","ar-EH":"EGP","ar-ER":"EGP","ar-IL":"EGP","ar-IQ":"IQD","ar-IR":"IQD","ar-JO":"JOD","ar-KE":"JOD","ar-KM":"JOD","ar-KW":"KWD","ar-LB":"LBP","ar-LY":"LYD","ar-MA":"MAD","ar-ML":"MAD","ar-MR":"MAD","ar-NE":"MAD","ar-NG":"MAD","ar-OM":"OMR","ar-PS":"OMR","ar-QA":"QAR","ar-SA":"SAR","ar-SD":"SDD","ar-SS":"SDD","ar-SY":"SYP","ar-TD":"SYP","ar-TJ":"SYP","ar-TN":"TND","ar-TR":"TND","ar-YE":"YER","as-IN":"INR","av-RU":"INR","ay-BO":"INR","ay-PE":"INR","az-AZ":"AZM","ba-RU":"AZM","be-BY":"BYR","be-PL":"BYR","be-UA":"BYR","bg-BG":"BGN","bg-GR":"BGN","bg-MD":"BGN","bg-RO":"BGN","bg-TR":"BGN","bg-UA":"BGN","bi-VU":"BGN","bm-ML":"BGN","bn-BD":"BDT","bn-GB":"BDT","bn-IN":"INR","bn-NP":"INR","bo-CN":"CNY","bo-IN":"INR","bo-NP":"INR","br-FR":"EUR","bs-BA":"BAM","ca-AD":"EUR","ca-ES":"EUR","ca-FR":"EUR","ca-IT":"EUR","ce-RU":"EUR","ch-GU":"EUR","ch-MP":"EUR","co-FR":"EUR","cs-CZ":"CZK","cv-RU":"RUB","cy-AR":"RUB","cy-GB":"GBP","da-DE":"GBP","da-DK":"DKK","da-GL":"DKK","da-IS":"DKK","de-AT":"EUR","de-BE":"EUR","de-BR":"EUR","de-CA":"EUR","de-CH":"CHF","de-CZ":"CHF","de-DE":"EUR","de-DK":"EUR","de-HU":"EUR","de-IT":"EUR","de-KZ":"EUR","de-LI":"EUR","de-LU":"EUR","de-NA":"EUR","de-PL":"EUR","de-PY":"EUR","de-RO":"EUR","de-SK":"EUR","de-US":"EUR","dv-IN":"EUR","dv-MV":"MVR","dz-BT":"BTN","dz-IN":"BTN","ee-GH":"BTN","ee-TG":"BTN","el-AL":"BTN","el-CY":"EUR","el-DE":"EUR","el-EG":"EUR","el-GB":"EUR","el-GR":"EUR","el-IT":"EUR","el-RO":"EUR","el-TR":"EUR","el-UA":"EUR","en-AC":"EUR","en-AG":"XCD","en-AI":"XCD","en-AS":"XCD","en-AU":"AUD","en-AW":"AUD","en-BB":"AUD","en-BE":"AUD","en-BM":"AUD","en-BN":"AUD","en-BS":"AUD","en-BW":"BWP","en-BZ":"BWP","en-CA":"CAD","en-CC":"CAD","en-CK":"CAD","en-CM":"CAD","en-CN":"CAD","en-CX":"CAD","en-DE":"CAD","en-DG":"CAD","en-DM":"CAD","en-DO":"CAD","en-ES":"CAD","en-ET":"CAD","en-FI":"CAD","en-FJ":"CAD","en-FK":"CAD","en-FM":"CAD","en-FR":"CAD","en-GB":"GBP","en-GD":"GBP","en-GG":"GBP","en-GH":"GBP","en-GI":"GBP","en-GM":"GBP","en-GU":"GBP","en-GY":"GBP","en-HK":"HKD","en-HN":"HKD","en-IE":"EUR","en-IL":"EUR","en-IM":"EUR","en-IN":"INR","en-IO":"INR","en-IT":"INR","en-JE":"INR","en-JM":"INR","en-KE":"INR","en-KI":"INR","en-KN":"INR","en-KY":"INR","en-LB":"INR","en-LC":"INR","en-LK":"INR","en-LR":"INR","en-LS":"INR","en-MG":"INR","en-MH":"INR","en-MP":"INR","en-MS":"INR","en-MT":"INR","en-MU":"INR","en-MW":"INR","en-MY":"INR","en-NA":"INR","en-NF":"INR","en-NG":"NGN","en-NL":"NGN","en-NR":"NGN","en-NU":"NGN","en-NZ":"NZD","en-PA":"NZD","en-PG":"NZD","en-PH":"PHP","en-PI":"PHP","en-PK":"PHP","en-PM":"PHP","en-PN":"PHP","en-PR":"PHP","en-PW":"PHP","en-RW":"PHP","en-SB":"PHP","en-SC":"PHP","en-SG":"SGD","en-SH":"SGD","en-SL":"SGD","en-SS":"SGD","en-SZ":"SGD","en-TA":"SGD","en-TC":"SGD","en-TK":"SGD","en-TO":"SGD","en-TT":"SGD","en-TV":"SGD","en-TZ":"SGD","en-UD":"SGD","en-UG":"SGD","en-UM":"SGD","en-US":"USD","en-VC":"USD","en-VG":"USD","en-VI":"USD","en-VU":"USD","en-WS":"USD","en-ZA":"ZAR","en-ZM":"ZAR","en-ZW":"ZWD","eo-EO":"ZWD","eo-SM":"ZWD","es-AD":"ZWD","es-AR":"ARS","es-BO":"BOB","es-BZ":"BOB","es-CL":"CLP","es-CO":"COP","es-CR":"CRC","es-CU":"CRC","es-DE":"CRC","es-DO":"DOP","es-EA":"DOP","es-EC":"USD","es-ES":"EUR","es-GQ":"EUR","es-GT":"GTQ","es-HN":"HNL","es-IC":"HNL","es-LA":"HNL","es-MA":"HNL","es-MX":"MXN","es-NI":"NIO","es-PA":"PAB","es-PE":"PEN","es-PH":"PEN","es-PR":"USD","es-PY":"PYG","es-SV":"SVC","es-TT":"SVC","es-US":"USD","es-UY":"UYU","es-VE":"VEB","et-EE":"EEK","et-FI":"EEK","eu-ES":"EUR","eu-FR":"EUR","fa-AE":"EUR","fa-AF":"EUR","fa-IQ":"EUR","fa-IR":"IRR","fa-OM":"IRR","fa-PK":"IRR","fa-QA":"IRR","fa-TJ":"IRR","fb-LT":"IRR","ff-GN":"IRR","ff-MR":"IRR","ff-SN":"IRR","fi-FI":"EUR","fi-RU":"EUR","fi-SE":"EUR","fj-FJ":"EUR","fo-FO":"DKK","fr-AD":"DKK","fr-BE":"EUR","fr-BF":"EUR","fr-BI":"EUR","fr-BJ":"EUR","fr-BL":"EUR","fr-CA":"CAD","fr-CD":"CAD","fr-CF":"CAD","fr-CG":"CAD","fr-CH":"CHF","fr-CI":"CHF","fr-CM":"CHF","fr-CP":"CHF","fr-DJ":"CHF","fr-DZ":"CHF","fr-FR":"EUR","fr-GA":"EUR","fr-GB":"EUR","fr-GF":"EUR","fr-GN":"EUR","fr-GP":"EUR","fr-GQ":"EUR","fr-HT":"EUR","fr-IT":"EUR","fr-KM":"EUR","fr-LB":"EUR","fr-LU":"EUR","fr-MA":"EUR","fr-MC":"EUR","fr-MF":"EUR","fr-MG":"EUR","fr-ML":"EUR","fr-MQ":"EUR","fr-MR":"EUR","fr-MU":"EUR","fr-NC":"EUR","fr-NE":"EUR","fr-PF":"EUR","fr-PM":"EUR","fr-RE":"EUR","fr-RW":"EUR","fr-SC":"EUR","fr-SN":"EUR","fr-SY":"EUR","fr-TD":"EUR","fr-TF":"EUR","fr-TG":"EUR","fr-TN":"EUR","fr-US":"EUR","fr-VU":"EUR","fr-WF":"EUR","fr-YT":"EUR","fy-NL":"EUR","ga-GB":"EUR","ga-IE":"EUR","gd-GB":"GBP","gl-ES":"EUR","gl-PT":"EUR","gn-AR":"EUR","gn-BO":"EUR","gn-PY":"EUR","gu-IN":"INR","gu-KE":"INR","gv-IM":"INR","he-IL":"ILS","hi-FJ":"ILS","hi-IN":"INR","hi-NP":"INR","hi-UG":"INR","hi-ZA":"INR","ho-PG":"INR","hr-AT":"INR","hr-BA":"INR","hr-DE":"INR","hr-HR":"HRK","hr-HU":"HRK","hr-IT":"HRK","ht-HT":"HTG","hu-AT":"HTG","hu-HU":"HUF","hu-IL":"HUF","hu-RO":"HUF","hu-RS":"HUF","hu-SI":"HUF","hu-SK":"HUF","hu-UA":"HUF","hy-AM":"AMD","hy-CY":"AMD","hy-GE":"AMD","hy-IR":"AMD","hy-LB":"AMD","hy-SY":"AMD","hy-TR":"AMD","ia-SE":"AMD","id-ID":"IDR","id-NL":"IDR","ig-NG":"NGN","ii-CN":"NGN","ik-US":"NGN","is-IS":"ISK","it-AU":"ISK","it-BR":"ISK","it-CA":"ISK","it-CH":"CHF","it-DE":"CHF","it-FR":"CHF","it-GB":"CHF","it-HR":"CHF","it-IT":"EUR","it-SI":"EUR","it-SM":"EUR","it-US":"EUR","it-VA":"EUR","iu-GL":"EUR","ja-BR":"EUR","ja-JP":"JPY","jv-ID":"JPY","jv-MY":"JPY","ka-GE":"GEL","ka-IR":"GEL","ka-TR":"GEL","kg-CD":"GEL","ki-KE":"GEL","kj-NA":"GEL","kl-DK":"GEL","kl-GL":"DKK","km-KH":"KHR","kn-IN":"INR","ko-BR":"INR","ko-CN":"INR","ko-JP":"INR","ko-KP":"INR","ko-KR":"KRW","ko-US":"KRW","ks-GB":"KRW","ks-IN":"INR","ks-PK":"INR","ku-TR":"TRY","kw-GB":"GBP","la-VA":"GBP","lb-LU":"GBP","lg-UG":"UGX","li-NL":"EUR","ln-CD":"EUR","ln-CG":"EUR","lo-LA":"LAK","lt-LT":"LTL","lu-CD":"LTL","lv-LV":"LVL","mg-MG":"MGA","mh-MH":"MGA","mi-NZ":"NZD","mk-AL":"NZD","mk-GR":"NZD","mk-MK":"MKD","ml-AE":"MKD","ml-BH":"MKD","ml-GB":"MKD","ml-IL":"MKD","ml-IN":"INR","ml-MY":"INR","ml-QA":"INR","ml-SG":"INR","mr-IN":"INR","ms-BN":"INR","ms-CC":"INR","ms-ID":"INR","ms-MY":"MYR","ms-SG":"MYR","mt-MT":"EUR","my-BD":"EUR","my-MM":"MMK","na-NR":"MMK","nb-NO":"NOK","nb-SJ":"NOK","nd-ZW":"NOK","ne-BT":"NOK","ne-IN":"NOK","ne-NP":"INR","ng-NA":"INR","nl-AW":"AWG","nl-BE":"EUR","nl-DE":"EUR","nl-FR":"EUR","nl-NL":"EUR","nl-SR":"EUR","nn-NO":"NOK","nr-ZA":"ZAR","nv-US":"ZAR","ny-MW":"ZAR","ny-MZ":"ZAR","ny-ZM":"ZAR","ny-ZW":"ZAR","oc-FR":"EUR","om-ET":"ETB","om-KE":"KES","om-SO":"KES","or-IN":"INR","os-GE":"INR","pa-IN":"INR","pl-CZ":"INR","pl-DE":"INR","pl-IL":"INR","pl-PL":"PLN","pl-RO":"PLN","pl-SK":"PLN","pl-UA":"PLN","ps-AE":"PLN","ps-AF":"AFN","ps-IR":"AFN","ps-PK":"AFN","pt-AG":"AFN","pt-AO":"AFN","pt-BR":"BRL","pt-CV":"BRL","pt-FR":"BRL","pt-GW":"BRL","pt-MO":"BRL","pt-MZ":"BRL","pt-PT":"EUR","pt-ST":"EUR","pt-TL":"EUR","qu-BO":"EUR","qu-PE":"EUR","rm-CH":"EUR","rn-BI":"EUR","ro-HU":"EUR","ro-IL":"EUR","ro-MD":"EUR","ro-RO":"RON","ro-RS":"RON","ro-UA":"RON","ru-BY":"RON","ru-CN":"RON","ru-DE":"RON","ru-EE":"RON","ru-FI":"RON","ru-GE":"RON","ru-IL":"RON","ru-KG":"RON","ru-KZ":"RON","ru-LT":"RON","ru-LV":"RON","ru-MD":"RON","ru-MN":"RON","ru-RU":"RUB","ru-SJ":"RUB","ru-TM":"RUB","ru-UA":"UAH","ru-US":"UAH","ru-UZ":"UAH","rw-CD":"UAH","rw-RW":"RWF","rw-UG":"RWF","sa-IN":"INR","se-FI":"INR","se-NO":"NOK","se-SE":"NOK","sg-CF":"NOK","si-LK":"LKR","sk-HU":"LKR","sk-RS":"LKR","sk-SK":"EUR","sl-AT":"EUR","sl-HU":"EUR","sl-IT":"EUR","sl-SI":"EUR","sm-AS":"EUR","sm-WS":"EUR","sn-ZW":"EUR","so-DJ":"DJF","so-ET":"ETB","so-KE":"ETB","so-SO":"SOS","sq-AL":"ALL","sq-GR":"ALL","sq-ME":"ALL","sq-MK":"MKD","sq-RS":"MKD","sq-TR":"MKD","sr-RS":"RSD","ss-LS":"RSD","ss-SZ":"RSD","ss-ZA":"ZAR","st-LS":"ZAR","st-ZA":"ZAR","su-ID":"ZAR","sv-AX":"ZAR","sv-FI":"EUR","sv-SE":"SEK","sw-BI":"SEK","sw-CD":"SEK","sw-KE":"SEK","sw-MZ":"SEK","sw-SO":"SEK","sw-TZ":"SEK","sw-UG":"SEK","sw-YT":"SEK","sw-ZA":"SEK","ta-IN":"INR","ta-LK":"INR","ta-MU":"INR","ta-MY":"INR","ta-RE":"INR","ta-SG":"INR","te-IN":"INR","th-TH":"THB","ti-ER":"ERN","ti-ET":"ETB","ti-IL":"ETB","tk-AF":"ETB","tk-IR":"ETB","tk-TM":"TMM","tl-PH":"PHP","tl-US":"PHP","tn-BW":"PHP","tn-NA":"PHP","tn-ZA":"ZAR","tn-ZW":"ZAR","to-TO":"ZAR","tr-BG":"ZAR","tr-CY":"TRY","tr-DE":"TRY","tr-GR":"TRY","tr-MK":"TRY","tr-NL":"TRY","tr-RO":"TRY","tr-TR":"TRY","tr-UA":"TRY","tr-UZ":"TRY","ts-MZ":"TRY","ts-SZ":"TRY","ts-ZA":"ZAR","tt-RU":"RUB","ty-PF":"RUB","uk-PL":"RUB","uk-SK":"RUB","uk-UA":"UAH","ur-IN":"UAH","ur-MU":"UAH","ur-PK":"PKR","ve-ZA":"ZAR","ve-ZW":"ZAR","vi-CN":"ZAR","vi-US":"ZAR","vi-VN":"VND","wa-BE":"EUR","xh-LS":"EUR","xh-ZA":"ZAR","yi-UA":"ZAR","yo-BJ":"ZAR","yo-NG":"NGN","za-CN":"NGN","zh-CN":"CNY","zh-HK":"HKD","zh-TW":"TWD","zu-LS":"TWD","zu-MW":"TWD","zu-MZ":"TWD","zu-SZ":"TWD","zu-ZA":"ZAR"},langToLocaleMapping:{}},H=new V.OlP("DEFAULT_LOCALE"),g=new V.OlP("DEFAULT_LOCALE_CURRENCY"),F=new V.OlP("LOCALE_LANG_MAPPING"),b=new V.OlP("LOCALE_CONFIG"),Z=new V.OlP("LOCALE_CURRENCY_MAPPING"),W=new V.OlP("TRANSLOCO_DATE_TRANSFORMER"),X=new V.OlP("TRANSLOCO_NUMBER_TRANSFORMER");class de{transform(bt,Se,Ct){return function tt(Fe,bt,Se){return u(Fe)?new Intl.DateTimeFormat(bt,Se).format(Fe):""}(bt,Se,Ct)}}class me{transform(bt,Se,Ct,kt){return function et(Fe,bt,Se){const Ct=(0,be.He)(Fe);return null!==Ct?new Intl.NumberFormat(bt,Se).format(Ct):""}(bt,Ct,{...kt,style:Se})}}let ft=(()=>{class Fe{constructor(Se,Ct,kt,mn,Hn,Rr,zs,Qr){this.translocoService=Se,this.langLocaleMapping=Ct,this.defaultLocale=kt,this.defaultCurrency=mn,this.localeConfig=Hn,this.localeCurrencyMapping=Rr,this.numberTransformer=zs,this.dateTransformer=Qr,this._locale=this.defaultLocale||this.toLocale(this.translocoService.getActiveLang()),this.locale=new Q.X(this._locale),this.subscription=this.translocoService.langChanges$.pipe((0,ke.U)(this.toLocale.bind(this)),(0,re.h)(Jo=>!!Jo)).subscribe({next:Jo=>this.setLocale(Jo)}),this.localeChanges$=this.locale.asObservable().pipe((0,Ze.x)())}getLocale(){return this._locale}setLocale(Se){De(Se)?(this.locale.next(Se),this._locale=Se):console.error(`${Se} isn't a valid locale format`)}getCurrencySymbol(Se=this.getLocale()){return new Intl.NumberFormat(Se,{style:"currency",currencyDisplay:"symbol",currency:this.localeCurrencyMapping[Se],minimumFractionDigits:0,maximumFractionDigits:0}).format(0).split((0).toString()).map(Hn=>Hn.trim()).find(Hn=>!!Hn)}localizeDate(Se,Ct=this.getLocale(),kt={}){return kt=kt||mt(Ct,"date",this.localeConfig),this.dateTransformer.transform(function dt(Fe){let bt;if("string"==typeof Fe&&(Fe=Fe.trim()),u(Fe))return Fe;if(!isNaN(Fe-parseFloat(Fe)))return new Date(parseFloat(Fe));if("string"==typeof Fe&&/^(\d{4}-\d{1,2}-\d{1,2})$/.test(Fe)){const[Se,Ct,kt]=Fe.split("-").map(mn=>parseInt(mn,10));return new Date(Se,Ct-1,kt)}return"string"==typeof Fe&&(bt=Fe.match(Ke))?function we(Fe){const bt=new Date(0);let Se=0,Ct=0;const mn=Fe[8]?bt.setUTCHours:bt.setHours;Fe[9]&&(Se=+(Fe[9]+Fe[10]),Ct=+(Fe[9]+Fe[11])),(Fe[8]?bt.setUTCFullYear:bt.setFullYear).call(bt,+Fe[1],+Fe[2]-1,+Fe[3]);const Hn=+(Fe[4]||"0")-Se,Rr=+(Fe[5]||"0")-Ct,zs=+(Fe[6]||"0"),Qr=Math.round(1e3*parseFloat("0."+(Fe[7]||0)));return mn.call(bt,Hn,Rr,zs,Qr),bt}(bt):new Date(Fe)}(Se),Ct,kt)}localizeNumber(Se,Ct,kt=this.getLocale(),mn){let Hn=mn??mt(kt,Ct,this.localeConfig);return"currency"===Ct&&(Hn={...Hn,currency:Hn.currency||this._resolveCurrencyCode(kt)}),this.numberTransformer.transform(Se,Ct,kt,Hn)}_resolveCurrencyCode(Se=this.getLocale()){return this.localeCurrencyMapping[Se]||this.defaultCurrency}ngOnDestroy(){this.subscription.unsubscribe(),this.subscription=null}toLocale(Se){return this.langLocaleMapping[Se]?this.langLocaleMapping[Se]:De(Se)?Se:""}}return Fe.\u0275fac=function(Se){return new(Se||Fe)(V.LFG(be.Vn),V.LFG(F),V.LFG(H),V.LFG(g),V.LFG(b),V.LFG(Z),V.LFG(X),V.LFG(W))},Fe.\u0275prov=V.Yz7({token:Fe,factory:Fe.\u0275fac,providedIn:"root"}),Fe})(),Te=(()=>{class Fe{static forRoot(Se={}){return{ngModule:Fe,providers:[{provide:F,useValue:Se.langToLocaleMapping||Le.langToLocaleMapping},{provide:b,useValue:Se.localeConfig||Le.localeConfig},{provide:Z,useValue:Se.localeToCurrencyMapping||Le.localeToCurrencyMapping},{provide:H,useValue:Se.defaultLocale||Le.defaultLocale},{provide:g,useValue:Se.defaultCurrency||Le.defaultCurrency},{provide:W,useClass:de},{provide:X,useClass:me}]}}}return Fe.\u0275fac=function(Se){return new(Se||Fe)},Fe.\u0275mod=V.oAB({type:Fe}),Fe.\u0275inj=V.cJS({}),Fe})();var Lt,$t=G(6895);class _t{}class Ut extends _t{}class fn extends _t{}class Pn{get value(){return this.tvalue}set value(bt){this.tvalue=bt}constructor(){this.warnings=new Array}addWarning(bt){bt&&this.warnings.push(bt)}getAllWarnings(){return this.warnings}}const Dn="BusinessWarnings",On="DomainId",Ti="DataSetLabel",It="Ocp-Apim-Subscription-Key";var Ue;!function(Fe){function Se(kt){let mn="";return kt&&kt.headers&&kt.headers.get(Dn)&&(mn=decodeURI(kt.headers.get(Dn))),mn}Fe.buildHeadersWithContext=function bt(kt,mn=new C.WM){let Hn=mn.set("clientContext",JSON.stringify(kt));return kt.domainId&&(Hn=Hn.set(On,kt.domainId.toString())),kt.dataSetLabel&&(Hn=Hn.set(Ti,kt.dataSetLabel)),Hn},Fe.extractWarnings=Se,Fe.getWarnings=function Ct(kt){const mn=new Pn;let Hn="";return kt&&(mn.value=kt.body,Hn=Se(kt)),mn.addWarning(Hn),mn}}(Ue||(Ue={}));class Ht{}var Ge=(()=>{return(Fe=Ge||(Ge={}))[Fe.verbose=0]="verbose",Fe[Fe.debug=1]="debug",Fe[Fe.information=2]="information",Fe[Fe.warning=3]="warning",Fe[Fe.error=4]="error",Fe[Fe.critical=5]="critical",Fe[Fe.none=6]="none",Ge;var Fe})();const ut="default";class ni{}class Kn{}class Fn extends Kn{}class dr{}dr.injector=void 0;class Fr{get startKey(){return this.markerStart}get stopKey(){return this.markerStop}get measurementKey(){return this.measurementTag}constructor(){this.markerStart="startOpeningMeasurement",this.markerStop="stopOpeningMeasurement",this.measurementTag="timeMeasurement";const bt=ee.h.UUID().toString();this.markerStart+=bt,this.markerStop+=bt,this.measurementTag+=bt}start(){performance.mark(this.markerStart)}stop(){const bt=performance.getEntriesByName(this.markerStart);bt&&bt.length>0&&(performance.mark(this.markerStop),performance.measure(this.measurementTag,this.markerStart,this.markerStop))}reset(){performance.clearMeasures(this.measurementTag),performance.clearMarks(this.markerStart),performance.clearMarks(this.markerStop)}elapsedTime(){const bt=performance.getEntriesByName(this.measurementTag);return bt&&bt.length>0&&0!==bt[0].duration?bt[0].duration:null}}let fo=(()=>{class Fe{}return Fe.\u0275fac=function(Se){return new(Se||Fe)},Fe.\u0275prov=V.Yz7({token:Fe,factory:Fe.\u0275fac}),Fe})(),Fi=(()=>{class Fe{constructor(Se){this.traceService=Se,this.subscription$=new pe.x,this.stopWatch=new Fr,this.isPerformanceTraceEnabled=!1,this.isRoot=!1}ngOnInit(){if(this.isPerformanceTraceEnabled&&this.stopWatch.start(),this.getServices(),this.myId=ee.h.UUID(),this.manager&&this.manager.register(this),this.traceContext&&this.componentName&&this.traceContext.addCustomProperty("Window",this.componentName),this.isRoot){if(!this.componentName)throw new Error("componentName from BaseComponent is mandatory when isRoot = true.");this.callOutside("baseComponentData",[this.componentName])}}ngAfterViewInit(){if(this.isPerformanceTraceEnabled){this.stopWatch.stop();const Se=this.stopWatch.elapsedTime();Se&&this.traceService&&this.traceService.logMetric(Ge.information,"Tools.Window.UILaunchTime",Se/1e3),this.stopWatch.reset()}}ngOnDestroy(){this.subscription$.next(null),this.subscription$.complete(),this.manager&&this.manager.unregister(this),this.isPerformanceTraceEnabled&&this.stopWatch.reset(),this.traceContext&&this.traceContext.addCustomProperty("Window","")}hasPendingChanges(){return!1}onMessageIncoming(Se,Ct){return"hasPendingChanges"===Se?""+this.hasPendingChanges():""}get uniqueId(){return this.myId}callOutside(Se,Ct){return this.manager?this.manager.callOutside(Se,Ct):Promise.resolve(null)}getServices(){const Se=dr.injector;Se&&(this.manager=Se.get(fo),this.traceContext=dr.injector.get(ni)),Se&&!this.traceService&&(this.traceService=dr.injector.get(Fn))}enablePerformanceTrace(){this.isPerformanceTraceEnabled=!0}disablePerformanceTrace(){this.isPerformanceTraceEnabled=!1}}return Fe.\u0275fac=function(Se){return new(Se||Fe)(V.Y36(Fn,8))},Fe.\u0275dir=V.lG2({type:Fe}),Fe})();class pn{}class He{}var Xe=(()=>{return(Fe=Xe||(Xe={}))[Fe.fullWeb=1]="fullWeb",Fe[Fe.interop=2]="interop",Fe[Fe.simuInterop=3]="simuInterop",Xe;var Fe})();class ln{}let on=(()=>{class Fe{}return Fe.\u0275fac=function(Se){return new(Se||Fe)},Fe.\u0275prov=V.Yz7({token:Fe,factory:Fe.\u0275fac}),Fe})();class Ln{}function Wi(Fe){return function(bt,Se){Object.defineProperty(bt,Se,{get(){throw new Error(Fe||`Attribute ${String(Se)} is required`)},set(Ct){Object.defineProperty(this,Se,{value:Ct,writable:!0})}})}}class bi{}class ei{}var si,Fe;(Fe=si||(si={})).stringFormat=function bt(Ct,...kt){return Ct.replace(/{(\d+)}/g,(mn,Hn)=>kt[Hn]||mn)},Fe.messageTemplateFormat=function Se(Ct,kt){let mn=0;return Ct.replace(/{(.*?)}/gi,Hn=>kt[mn]?JSON.stringify(kt[mn++]):Hn)};let Ne=(()=>{class Fe{constructor(){this.subscription$=new pe.x}ngOnDestroy(){this.subscription$.next(null),this.subscription$.complete()}}return Fe.\u0275fac=function(Se){return new(Se||Fe)},Fe.\u0275prov=V.Yz7({token:Fe,factory:Fe.\u0275fac}),Fe})(),Mt=(()=>{class Fe extends Ne{get getListeners(){return this.listeners}get getListenersForDebug(){return this.debugListeners}constructor(){super(),this.listeners=new Array,this.debugListeners=new Array,this.currentLogLevel=Ge.verbose,this.isInDebugMode=!1}register(Se){this.listeners.push(Se)}registerDebugger(Se){this.debugListeners.push(Se)}unregister(Se){this.listeners.forEach((Ct,kt)=>{Ct===Se&&this.listeners.splice(kt,1)})}unregisterDebugger(Se){this.debugListeners.forEach((Ct,kt)=>{Ct===Se&&this.debugListeners.splice(kt,1)})}setCurrentLogLevel(Se){if(null==Se)throw new Error(`logLevel: ${Se}`);this.currentLogLevel=Se}getCurrentLogLevel(){return this.currentLogLevel}getCategoryName(){return this.categoryName}log(Se,Ct,kt){this.canLog(Se)&&(this.isInDebugMode&&this.getListenersForDebug.forEach(mn=>{mn.log(Se,Ct,kt)}),this.listeners.forEach(mn=>{mn.log(Se,Ct,kt)}))}logException(Se,Ct,kt){this.canLog(Se)&&(this.isInDebugMode&&this.getListenersForDebug.forEach(mn=>{mn.logException(Se,Ct,kt)}),this.listeners.forEach(mn=>{mn.logException(Se,Ct,kt)}))}logEvent(Se,Ct){this.canLog(Se)&&(this.isInDebugMode&&this.getListenersForDebug.forEach(kt=>{kt.logEvent(Se,Ct)}),this.listeners.forEach(kt=>{kt.logEvent(Se,Ct)}))}logMetric(Se,Ct,kt,mn){this.canLog(Se)&&(this.isInDebugMode&&this.getListenersForDebug.forEach(Hn=>{Hn.logMetric(Se,Ct,kt,mn)}),this.listeners.forEach(Hn=>{Hn.logMetric(Se,Ct,kt,mn)}))}logVerbose(Se,Ct){this.canLog(Ge.verbose)&&(this.isInDebugMode&&this.getListenersForDebug.forEach(kt=>{kt.logVerbose(Se,Ct)}),this.listeners.forEach(kt=>{kt.logVerbose(Se,Ct)}))}logVerboseException(Se,Ct){this.canLog(Ge.verbose)&&(this.isInDebugMode&&this.getListenersForDebug.forEach(kt=>{kt.logVerboseException(Se,Ct)}),this.listeners.forEach(kt=>{kt.logVerboseException(Se,Ct)}))}logDebug(Se,Ct){this.canLog(Ge.debug)&&(this.isInDebugMode&&this.getListenersForDebug.forEach(kt=>{kt.logDebug(Se,Ct)}),this.listeners.forEach(kt=>{kt.logDebug(Se,Ct)}))}logDebugException(Se,Ct){this.canLog(Ge.debug)&&(this.isInDebugMode&&this.getListenersForDebug.forEach(kt=>{kt.logDebugException(Se,Ct)}),this.listeners.forEach(kt=>{kt.logDebugException(Se,Ct)}))}logInformation(Se,Ct){this.canLog(Ge.information)&&(this.isInDebugMode&&this.getListenersForDebug.forEach(kt=>{kt.logInformation(Se,Ct)}),this.listeners.forEach(kt=>{kt.logInformation(Se,Ct)}))}logInformationException(Se,Ct){this.canLog(Ge.information)&&(this.isInDebugMode&&this.getListenersForDebug.forEach(kt=>{kt.logInformationException(Se,Ct)}),this.listeners.forEach(kt=>{kt.logInformationException(Se,Ct)}))}logWarning(Se,Ct){this.canLog(Ge.warning)&&(this.isInDebugMode&&this.getListenersForDebug.forEach(kt=>{kt.logWarning(Se,Ct)}),this.listeners.forEach(kt=>{kt.logWarning(Se,Ct)}))}logWarningException(Se,Ct){this.canLog(Ge.warning)&&(this.isInDebugMode&&this.getListenersForDebug.forEach(kt=>{kt.logWarningException(Se,Ct)}),this.listeners.forEach(kt=>{kt.logWarningException(Se,Ct)}))}logError(Se,Ct){this.canLog(Ge.error)&&(this.isInDebugMode&&this.getListenersForDebug.forEach(kt=>{kt.logError(Se,Ct)}),this.listeners.forEach(kt=>{kt.logError(Se,Ct)}))}logErrorException(Se,Ct){this.canLog(Ge.error)&&(this.isInDebugMode&&this.getListenersForDebug.forEach(kt=>{kt.logErrorException(Se,Ct)}),this.listeners.forEach(kt=>{kt.logErrorException(Se,Ct)}))}logCritical(Se,Ct){this.canLog(Ge.critical)&&(this.isInDebugMode&&this.getListenersForDebug.forEach(kt=>{kt.logCritical(Se,Ct)}),this.listeners.forEach(kt=>{kt.logCritical(Se,Ct)}))}logCriticalException(Se,Ct){this.canLog(Ge.critical)&&(this.isInDebugMode&&this.getListenersForDebug.forEach(kt=>{kt.logCriticalException(Se,Ct)}),this.listeners.forEach(kt=>{kt.logCriticalException(Se,Ct)}))}canLog(Se){return Se!==Ge.none&&Se>=this.currentLogLevel}}return Fe.\u0275fac=function(Se){return new(Se||Fe)},Fe.\u0275prov=V.Yz7({token:Fe,factory:Fe.\u0275fac}),Fe})(),Zt=(()=>{class Fe{constructor(){this.traceServices=new Array,this.isInDebugMode=!1}addTraceService(Se){Se.isInDebugMode=this.isInDebugMode,this.traceServices.push(Se)}getTraceServices(){return this.traceServices}setDebugMode(Se){this.isInDebugMode=Se,this.traceServices.forEach(Ct=>{Ct.isInDebugMode=Se})}getDebugMode(){return this.isInDebugMode}clear(){this.traceServices=new Array}}return Fe.\u0275fac=function(Se){return new(Se||Fe)},Fe.\u0275prov=V.Yz7({token:Fe,factory:Fe.\u0275fac,providedIn:"root"}),Fe})(),ht=(()=>{class Fe{constructor(){this.traceCollection=(0,V.f3M)(Zt)}setDebugMode(Se){this.traceCollection.setDebugMode(Se)}getDebugMode(){return this.traceCollection.getDebugMode()}setTraceFromConfiguration(Se,Ct){if(Se&&Ct){const kt=Ct.getInteropMode();if(kt&&kt===Xe.interop){Se.providers=new Array;const Hn=this.traceCollection.getTraceServices();Hn&&Hn.length>0&&Hn.forEach(Rr=>{Rr.getListeners.forEach(Qr=>{Rr.unregister(Qr)})})}}}getTraceServices(){const Se=new Map;return this.traceCollection.getTraceServices().forEach(kt=>{Se.has(kt.categoryName)||Se.set(kt.categoryName,kt)}),Se}}return Fe.\u0275fac=function(Se){return new(Se||Fe)},Fe.\u0275prov=V.Yz7({token:Fe,factory:Fe.\u0275fac,providedIn:"root"}),Fe})();function Qn(Fe,bt){return Se=>Se.create(Fe,bt)}function Zn(Fe,bt,Se){return{provide:Se,useFactory:Qn(Fe,bt),deps:[ei]}}var wr=(()=>(function(Fe){Fe[Fe.logRxJSUnhandledError=0]="logRxJSUnhandledError",Fe[Fe.logRxJSStoppedNotification=1]="logRxJSStoppedNotification",Fe[Fe.listenerFactory=2]="listenerFactory"}(wr||(wr={})),wr))();function Jr(Fe,bt){return{kind:Fe,providers:bt}}let mo=(()=>{class Fe extends Ne{constructor(){super(),this.customProperties=new Map}addCustomProperty(Se,Ct){Se&&this.customProperties.set(Se,Ct)}addCustomProperties(Se){Se&&Se.size>0&&Se.forEach((Ct,kt)=>{this.addCustomProperty(kt,Ct)})}getCustomProperties(){return this.customProperties}}return Fe.\u0275fac=function(Se){return new(Se||Fe)},Fe.\u0275prov=V.Yz7({token:Fe,factory:Fe.\u0275fac,providedIn:"root"}),Fe})(),Xs=(()=>{class Fe extends Ne{constructor(){super(),this.traceCollection=(0,V.f3M)(Zt,{optional:!0}),this.providers=new Array,this.providersForDebug=new Array}addProvider(Se){Se&&this.providers.push(Se)}addProviderForDebug(Se){Se&&this.providersForDebug.push(Se)}create(Se,Ct){if(!Se)throw new Error(`category: ${Se}`);if(null==Ct)throw new Error(`logLevel: ${Ct}`);const kt=new Mt;return kt.setCurrentLogLevel(Ct),kt.categoryName=Se,this.providersForDebug.forEach(mn=>{const Hn=mn.createListener(Se);kt.registerDebugger(Hn)}),this.providers.forEach(mn=>{const Hn=mn.createListener(Se);kt.register(Hn)}),this.traceCollection.addTraceService(kt),kt}}return Fe.\u0275fac=function(Se){return new(Se||Fe)},Fe.\u0275prov=V.Yz7({token:Fe,factory:Fe.\u0275fac,providedIn:"root"}),Fe})();function Ts(Fe){return Fe.create(ut,Ge.verbose)}function ks(...Fe){const bt=[{provide:bi,useExisting:ht},{provide:ni,useExisting:mo},{provide:ei,useExisting:Xs},{provide:Fn,useFactory:Ts,deps:[ei]}];for(const Se of Fe)bt.push(...Se.providers);return(0,V.MR2)(bt)}function qi(){return Jr(wr.logRxJSUnhandledError,[{provide:V.ip1,useFactory:Fe=>()=>{ue.v.onUnhandledError=bt=>{bt instanceof C.UA||bt instanceof Error?Fe?.logErrorException(bt,"rxjs - onUnhandledError"):Fe?.logError(`rxjs - onUnhandledError - ${JSON.stringify(bt)}`)}},multi:!0,deps:[Fn]}])}class Br{constructor(){this.defaultMessageFormat="{0} - {1} - {2} - {3}",this.defaultMetricFormat="{0} - {1} - {2} - Metric id: {3} - Value: {4}",this.defaultEventFormat="{0} - {1} - {2} - Event id: {3}",this.defaulExceptionFormat="{0} - {1} - {2} - {3} - {4}\n{5}",this.defaulExceptionFormatWithCutomMessage="{0} - {1} - {2} - {6} - {3} - {4}\n{5}",this.categoryName=""}get currentDate(){return this.internalDate?this.internalDate:new Date}set currentDate(bt){this.internalDate=bt}log(bt,Se,Ct){Ct&&(Se=si.messageTemplateFormat(Se,Ct));const kt=si.stringFormat(this.defaultMessageFormat,this.currentDate.toTimeString().replace(/\s*\(.*?\)\s*/g,""),this.categoryName,Ge[bt],Se);console.log(kt)}logEvent(bt,Se){const Ct=si.stringFormat(this.defaultEventFormat,this.currentDate.toTimeString().replace(/\s*\(.*?\)\s*/g,""),this.categoryName,Ge[bt],Se);console.log(Ct)}logMetric(bt,Se,Ct,kt){const mn=si.stringFormat(this.defaultMetricFormat,this.currentDate.toTimeString().replace(/\s*\(.*?\)\s*/g,""),this.categoryName,Ge[bt],Se,Ct.toString());console.log(mn)}logException(bt,Se,Ct){const kt=si.stringFormat(Ct?this.defaulExceptionFormatWithCutomMessage:this.defaulExceptionFormat,this.currentDate.toTimeString().replace(/\s*\(.*?\)\s*/g,""),this.categoryName,Ge[bt],Se.name,Se.message,Se.stack??"",Ct??"");console.log(kt)}logVerbose(bt,Se){this.log(Ge.verbose,bt,Se)}logVerboseException(bt,Se){this.logException(Ge.verbose,bt,Se)}logDebug(bt,Se){this.log(Ge.debug,bt,Se)}logDebugException(bt,Se){this.logException(Ge.debug,bt,Se)}logInformation(bt,Se){this.log(Ge.information,bt,Se)}logInformationException(bt,Se){this.logException(Ge.information,bt,Se)}logWarning(bt,Se){this.log(Ge.warning,bt,Se)}logWarningException(bt,Se){this.logException(Ge.warning,bt,Se)}logError(bt,Se){this.log(Ge.error,bt,Se)}logErrorException(bt,Se){this.logException(Ge.error,bt,Se)}logCritical(bt,Se){this.log(Ge.critical,bt,Se)}logCriticalException(bt,Se){this.logException(Ge.critical,bt,Se)}}class Eo{createListener(bt){const Se=new Br;return Se.categoryName=bt,Se}}function _o(Fe,bt){return()=>{if(Fe&&bt){const Se=new Eo;Fe.addProvider(Se);const Ct=Se.createListener(bt.getCategoryName());bt.register(Ct)}}}function ur(){return Jr(wr.listenerFactory,[{provide:V.ip1,useFactory:_o,deps:[ei,Fn],multi:!0}])}let pr=(()=>{class Fe{constructor(){this.subscription$=new pe.x}ngOnDestroy(){this.subscription$.next(null),this.subscription$.complete()}}return Fe.\u0275fac=function(Se){return new(Se||Fe)},Fe.\u0275dir=V.lG2({type:Fe}),Fe})();var no;!function(Fe){const bt=/^([a-zA-Z0-9\xe0\xe8\xec\xf2\xf9\xc0\xc8\xcc\xd2\xd9\xe1\xe9\xed\xf3\xfa\xfd\xc1\xc9\xcd\xd3\xda\xdd\xe2\xea\xee\xf4\xfb\xc2\xca\xce\xd4\xdb\xe3\xf1\xf5\xc3\xd1\xd5\xe4\xeb\xef\xf6\xfc\xff\xc4\xcb\xcf\xd6\xdc\u0178\xe7\xc7\xdf\xd8\xf8\xc5\xe5\xc6\xe6\u0152\u0153\xde\xfe!#%&'/=_`{|}~\$\^\?\+\-\*\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([a-zA-Z0-9\xe0\xe8\xec\xf2\xf9\xc0\xc8\xcc\xd2\xd9\xe1\xe9\xed\xf3\xfa\xfd\xc1\xc9\xcd\xd3\xda\xdd\xe2\xea\xee\xf4\xfb\xc2\xca\xce\xd4\xdb\xe3\xf1\xf5\xc3\xd1\xd5\xe4\xeb\xef\xf6\xfc\xff\xc4\xcb\xcf\xd6\xdc\u0178\xe7\xc7\xdf\xd8\xf8\xc5\xe5\xc6\xe6\u0152\u0153\xde\xfe!#%&'/=_`{|}~\$\^\?\+\-\*]+\.)+))([a-zA-Z]{2,63}|[0-9]{1,3})(\]?)$/;Fe.isEmailValid=function Se(Ct){let kt=!1;return Ct&&Ct.match(bt)&&(kt=!0),kt}}(no||(no={}));let wo=(()=>{class Fe{validate(Se){return Se.value?no.isEmailValid(Se.value)?null:{ingEmail:!0}:null}}return Fe.\u0275fac=function(Se){return new(Se||Fe)},Fe.\u0275dir=V.lG2({type:Fe,selectors:[["","ingEmail","","formControlName",""],["","ingEmail","","formControl",""],["","ingEmail","","ngModel",""]],features:[V._Bn([{provide:Ce.Cf,useExisting:Fe,multi:!0}])]}),Fe})();var io,po;!function(Fe){Fe.replaceAllLineBreaks=function bt(mn){let Hn="";return mn&&(Hn=mn.replace(/(?:\r\n|\r|\n)/g,"<br>")),Hn},Fe.insertAt=function Se(mn,Hn,Rr){return Hn<0||Hn>mn.length||1!==Rr.length?mn:mn.substring(0,Hn)+Rr+mn.substring(Hn)},Fe.removeBetween=function Ct(mn,Hn,Rr=Hn+1){return Hn<0||Hn>mn.length||Rr<Hn||Rr>mn.length?mn:mn.substring(0,Hn)+mn.substring(Rr)},Fe.replaceAt=function kt(mn,Hn,Rr){return Hn<0||Hn>=mn.length||1!==Rr.length?mn:mn.substring(0,Hn)+Rr+mn.substring(Hn+1)}}(io||(io={})),function(Fe){Fe.getUrlParameter=function bt(Ct,kt){let mn="";if(kt){kt=kt.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");const Rr=new RegExp("[\\?&]"+kt+"=([^&#]*)","i").exec(Ct);mn=null===Rr?"":decodeURIComponent(Rr[1].replace(/\+/g," "))}return mn},Fe.isValidHttpUrl=function Se(Ct){let kt;try{kt=new URL(Ct)}catch{return!1}return"http:"===kt.protocol||"https:"===kt.protocol}}(po||(po={}));let ms=(()=>{class Fe{}return Fe.maxFileSize=838860800,Fe})();var _s;function Oo(Fe,bt){return(Lt=Lt||(0,h.Z)(function*(Se,Ct){let kt="/";if(Ct?.state){const{redirect:mn}=Ct.state,Hn=mn;Hn&&Hn.indexOf("login")<0&&(kt=Hn)}return yield Se.navigateByUrl(kt)})).apply(this,arguments)}function Is(Fe){return Fe instanceof C.UA&&401===Fe.status&&Fe.headers.has("www-authenticate")&&Fe.headers.get("www-authenticate").indexOf("PasswordExpiredToken")>=0}!function(Fe){Fe.saveFile=function bt(Se,Ct,kt="text/plain;charset=utf-8"){let mn="File content is too big.",Hn="Blob is not supported in your browser.";if(dr.injector){const Rr=dr.injector.get(be.Vn);mn=Rr.translate("ingCore.errorFileTooBig"),Hn=Rr.translate("ingCore.errorBlobNotSupported")}if(Se.length>=ms.maxFileSize)throw new Error(mn);try{const Rr=new Blob([Se],{type:kt});xe.saveAs(Rr,Ct)}catch{throw new Error(Hn)}}}(_s||(_s={}));const os=new V.OlP("Taux de chargement des fichiers de traduction");let hr=(()=>{class Fe{}return Fe.\u0275fac=function(Se){return new(Se||Fe)},Fe.\u0275prov=V.Yz7({token:Fe,factory:Fe.\u0275fac}),Fe})();const Nn="languagePreferences",Do=new V.OlP("TRACE_SERVICE_CORE");function co(Fe,bt){if(Fe)return bt?.find(Se=>Se.languageCultureCode===Fe||Se.languageCultureCode?.startsWith(Fe)||Se.alias?.find(Ct=>Ct===Fe))}class go{onInit(bt){bt&&(this.languageLocaleData=bt)}onLanguageChange(bt){return new ve.y(Se=>{try{const Ct=this.getLocaleDataFromLangCode(bt);Ct||Se.error(new Error(`${bt} is not defined in available languages.`)),this.execute(bt,Se,Ct),Se.next(bt)}catch(Ct){Se.error(Ct)}finally{Se.complete()}})}getLocaleDataFromLangCode(bt){return this.languageLocaleData?.find(Se=>this.getLanguageCode(Se)===bt)}getLanguageCode(bt){return bt?.languageCultureCode}execute(bt,Se,Ct){}}let Fs=(()=>{class Fe extends go{execute(Se,Ct,kt){const mn=kt.angularLocale;!mn||mn?.length<=0?Ct.error(new Error(`Angular's culture for ${Se} is not available.`)):(0,$t.qS)(mn,mn[0])}}return Fe.\u0275fac=function(){let bt;return function(Ct){return(bt||(bt=V.n5z(Fe)))(Ct||Fe)}}(),Fe.\u0275prov=V.Yz7({token:Fe,factory:Fe.\u0275fac,providedIn:"root"}),Fe})();const uo={provide:V.ip1,useFactory:(Fe,bt)=>()=>{Fe.register(bt)},multi:!0,deps:[hr,Fs]};class ro{}let Ar=(()=>{class Fe{constructor(Se,Ct){this.translocoService=Se,this.trace=Ct,this.subscriptionSubject=new pe.x,this.commands=new Array}ngOnDestroy(){this.subscriptionSubject.next(!0),this.subscriptionSubject.complete()}register(Se,Ct){Ct&&Se&&(Se.onInit(Ct),this.commands.push(Se),this.manageCommand(Se))}manageCommand(Se){this.translocoService.langChanges$.pipe((0,re.h)(Ct=>null!=Ct),(0,le.w)(Ct=>Se.onLanguageChange(Ct)),(0,U.K)(Ct=>((Ct instanceof C.UA||Ct instanceof Error)&&this.trace?.logErrorException(Ct),y.E)),(0,O.R)(this.subscriptionSubject)).subscribe()}}return Fe.\u0275fac=function(Se){return new(Se||Fe)(V.LFG(be.Vn),V.LFG(Do,8))},Fe.\u0275prov=V.Yz7({token:Fe,factory:Fe.\u0275fac,providedIn:"root"}),Fe})(),ys=(()=>{class Fe{constructor(Se,Ct,kt,mn){this.translocoService=Se,this.translocoLocale=Ct,this.commandExecutor=kt,this.trace=mn,this.defaultBaseLanguageLocaleData=[{name:"French (France)",lang:"fr-FR",alias:["fr"]},{name:"English (United Kingdom)",lang:"en-GB",alias:["en"]}],this.defaultFallBacklanguageCultureCode="fr-FR",this.availableLanguages=this.defaultBaseLanguageLocaleData}getAvailableLanguages(){return this.availableLanguages?this.availableLanguages.map(Se=>({languageCode:Se.languageCultureCode,displayName:Se.name})):new Array}setLanguage(Se){if(Se||(Se=this.translocoService.getDefaultLang()),!this.availableLanguages?.find(kt=>kt.languageCultureCode===Se))throw`language ${Se} is not in the list of configured languages`;this.currentLanguage={languageCode:Se,displayName:""},this.translocoLocale.setLocale(Se),this.translocoService.setActiveLang(Se);const Ct=this.getLanguageLocalData(Se);Ct&&(this.currentLanguage.displayName=Ct.wijmoCulture.Globalize.displayName),this.saveLanguagePreference(Se)}configureLocales(Se,Ct){this.validateLanguageLocaleData(Se),this.availableLanguages=Se,this.updateLanguageLocalData(Se);const mn=this.getCultureData(Ct,Se)?.languageCultureCode;this.validatelanguageCultureCode(Se,mn),this.translocoService.setDefaultLang(mn),this.translocoService.setAvailableLangs(Se.map(Hn=>this.getlanguageCultureCode(Hn))),this.translocoService.setFallbackLangForMissingTranslation({fallbackLang:this.defaultFallBacklanguageCultureCode}),this.setLanguage(mn)}getActiveLanguage(){return this.currentLanguage}register(Se){this.commandExecutor?.register(Se,this.availableLanguages)}updateLanguageLocalData(Se){Se?.forEach(Ct=>{Ct.languageCultureCode=Ct.languageCultureCode??Ct.wijmoCulture?.Globalize?.name,Ct.name=Ct.name??Ct.wijmoCulture?.Globalize?.displayName,Ct.alias=Ct.alias??[]})}validateLanguageLocaleData(Se){if(!Se){const Ct="parameter languageLocalData not defined";throw this.trace?.logError(Ct),new Error(Ct)}}validatelanguageCultureCode(Se,Ct){if(Ct&&!Se.find(kt=>kt.languageCultureCode===Ct)){const kt=`${Ct} is not define culture localList`;throw this.trace?.logError(kt),new Error(kt)}}getCultureData(Se,Ct){let kt=this.loadSavedPreference(),mn=co(kt,Ct);return mn||(kt=this.getBrowserLanguageCulture(Ct),mn=co(kt,Ct),mn)||(kt=Se,mn=co(kt,Ct),mn)||(kt=this.defaultFallBacklanguageCultureCode,this.trace?.logError(`Language - Nous n'avons pas r\xe9ussi \xe0 d\xe9terminer le couple langue-culture \xe0 utiliser. Nous appliquons par d\xe9faut la fallback outils ${this.defaultFallBacklanguageCultureCode}`),mn=co(kt,Ct)),mn}saveLanguagePreference(Se){Se&&localStorage.setItem(Nn,Se)}loadSavedPreference(){const Se=localStorage.getItem(Nn);return this.getLanguageLocalData(Se)?Se:null}getLanguageLocalData(Se){return this.availableLanguages?.find(Ct=>this.getlanguageCultureCode(Ct)===Se)}getlanguageCultureCode(Se){return Se.languageCultureCode}getBrowserLanguageCulture(Se){if(!1===this.isBrowser())return null;const Ct=window.navigator;let kt=null,mn=new Array;if(Ct.languages&&(mn=[...mn,Ct.languages]),Ct.language&&(mn=[...mn,Ct.language]),mn)for(const Hn of mn)if(kt=co(Hn,Se)?.languageCultureCode,kt)break;return kt}isBrowser(){return typeof window<"u"}}return Fe.\u0275fac=function(Se){return new(Se||Fe)(V.LFG(be.Vn),V.LFG(ft),V.LFG(ro,8),V.LFG(Do,8))},Fe.\u0275prov=V.Yz7({token:Fe,factory:Fe.\u0275fac,providedIn:"root"}),Fe})(),Vs=(()=>{class Fe{constructor(Se,Ct,kt){this.http=Se,this.translattionLoadingRateMs=Ct,this.trace=kt,this.fileLoadingRateMs=Ct??864e5}getTranslation(Se){return this.http.get(this.constructLangfileUrl(Se)).pipe((0,U.K)(Ct=>(Ct instanceof C.UA||Ct instanceof Error?this.trace?.logErrorException(Ct):this.trace?.logError("Unknown error",[Ct]),(0,$.of)(null))))}constructLangfileUrl(Se){return`./assets/i18n/${Se}.json?v=${this.getTimedBaseVersion()}`}getTimedBaseVersion(){return Math.floor(Date.now()/this.fileLoadingRateMs)}}return Fe.\u0275fac=function(Se){return new(Se||Fe)(V.LFG(C.eN),V.LFG(os,8),V.LFG(Do,8))},Fe.\u0275prov=V.Yz7({token:Fe,factory:Fe.\u0275fac,providedIn:"root"}),Fe})();const qe=new V.OlP("@isagri-ng/core Language default TranslocoConfig"),Tt=new V.OlP("@isagri-ng/core Language default configuration");function q(Fe,bt,Se){return{provide:Fe,useFactory:()=>{const Ct=(0,V.f3M)(Fe,{skipSelf:!0,optional:!0}),kt=(0,V.f3M)(bt,{optional:!0});let mn={...Ct,...kt};if(Se){const{[Se]:Hn,...Rr}=kt;mn={[Se]:Hn}}return mn}}}var gt=(()=>(function(Fe){Fe[Fe.configuration=0]="configuration",Fe[Fe.featuresCommand=1]="featuresCommand"}(gt||(gt={})),gt))();function rn(Fe,bt){return{kind:Fe,providers:bt}}function wi(){return rn(gt.configuration,[{provide:qe,useValue:{reRenderOnLangChange:!0,defaultLang:"fr-FR",fallbackLang:"fr-FR",availableLangs:["fr-FR","en-GB"]}},{provide:Tt,useValue:{}}])}function Vr(){return rn(gt.featuresCommand,[uo])}const zr=function Kr(){let Fe=null;return(...bt)=>(Fe||(Fe=(0,V.MR2)([{provide:ro,useExisting:Ar},{provide:hr,useExisting:ys},{provide:be.K0,useExisting:Vs},Te.forRoot().providers,q(be.hG,qe),q(H,Tt,"defaultLocale"),q(b,Tt,"localeConfig"),q(Z,Tt,"localeToCurrencyMapping"),q(g,Tt,"defaultCurrency"),...bt.map(Se=>[...Se.providers])])),Fe)}();function Lr(...Fe){const bt=[];for(const Se of Fe)bt.push(...Se.providers);return(0,V.MR2)(bt)}let Js=(()=>{class Fe{static forRoot(){return{ngModule:Fe,providers:[zr(wi(),Vr())]}}}return Fe.\u0275fac=function(Se){return new(Se||Fe)},Fe.\u0275mod=V.oAB({type:Fe}),Fe.\u0275inj=V.cJS({imports:[be.y4,Te,be.y4,Te]}),Fe})();var ss=(()=>(function(Fe){Fe[Fe.ok=0]="ok",Fe[Fe.cancel=1]="cancel",Fe[Fe.retry=2]="retry",Fe[Fe.yes=3]="yes",Fe[Fe.no=4]="no",Fe[Fe.abort=5]="abort",Fe[Fe.terminated=6]="terminated"}(ss||(ss={})),ss))(),Lo=(()=>(function(Fe){Fe[Fe.ok=0]="ok",Fe[Fe.okCancel=1]="okCancel",Fe[Fe.retryCancel=2]="retryCancel",Fe[Fe.yesNo=3]="yesNo",Fe[Fe.yesNoCancel=4]="yesNoCancel",Fe[Fe.cancel=5]="cancel",Fe[Fe.abortRetryCancel=6]="abortRetryCancel",Fe[Fe.none=7]="none"}(Lo||(Lo={})),Lo))();class Hr{}let ts=(()=>{class Fe{}return Fe.\u0275fac=function(Se){return new(Se||Fe)},Fe.\u0275prov=V.Yz7({token:Fe,factory:Fe.\u0275fac}),Fe})(),xs=(()=>{class Fe extends Ne{constructor(Se,Ct,kt,mn){super(),this.applicationRef=Se,this.componentFactoryResolver=Ct,this.injector=kt,this.translocoService=mn,this.applicationRef=Se,this.componentFactoryResolver=Ct,this.injector=kt}getRootViewContainer(){if(this.container)return this.container;const Se=this.applicationRef.components;return Se.length?Se[0]:null}setRootViewContainer(Se){this.container=Se}getComponentRootNode(Se){return Se?Se.hostView.rootNodes[0]:null}getRootViewContainerNode(){return this.getComponentRootNode(this.getRootViewContainer())}projectComponentInputs(Se,Ct){if(Ct){const kt=Object.getOwnPropertyNames(Ct);for(const mn of kt)Se.instance[mn]=Ct[mn]}return Se}appendComponent(Se,Ct={},kt=this.getRootViewContainerNode()){const Hn=this.componentFactoryResolver.resolveComponentFactory(Se).create(this.injector),Rr=this.getComponentRootNode(Hn);return this.projectComponentInputs(Hn,Ct),this.applicationRef.attachView(Hn.hostView),Hn.onDestroy(()=>{this.applicationRef.detachView(Hn.hostView)}),kt&&kt.appendChild(Rr),Hn.changeDetectorRef.detectChanges(),Hn}}return Fe.\u0275fac=function(Se){return new(Se||Fe)(V.LFG(V.z2F),V.LFG(V._Vd),V.LFG(V.zs3),V.LFG(be.Vn))},Fe.\u0275prov=V.Yz7({token:Fe,factory:Fe.\u0275fac}),Fe})();class To{}let Qs=(()=>{class Fe extends Ne{get isEnabled(){return this._isEnabled}constructor(){super(),this.isActivated$=new Q.X(!1),this.onMessageChanged$=new Q.X(void 0),this.isUserInteractionEnabled=!0,this._isEnabled=!0}start(){this.isEnabled&&(this.lockUserInteraction(),this.isActivated$.next(!0))}stop(){this.isActivated$.next(!1),this.subscription$.next(null),this.subscription$.complete(),this.subscription$=new pe.x}setMessage(Se){this.onMessageChanged$.next(Se)}setIsUserInteractionEnabled(Se){this.isUserInteractionEnabled=Se}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}lockUserInteraction(){this.isUserInteractionEnabled||(this.preventAndStopEvent((0,oe.R)(document,"mousemove")),this.preventAndStopEvent((0,oe.R)(document,"mousedown")),this.preventAndStopEvent((0,oe.R)(document,"mouseup")),this.preventAndStopEvent((0,oe.R)(document,"wheel")),this.preventAndStopEvent((0,oe.R)(document,"keyup",{})),this.preventAndStopEvent((0,oe.R)(document,"keydown")))}preventAndStopEvent(Se){Se.pipe((0,O.R)(this.subscription$)).subscribe(Ct=>{Ct.preventDefault(),Ct.stopPropagation()})}}return Fe.\u0275fac=function(Se){return new(Se||Fe)},Fe.\u0275prov=V.Yz7({token:Fe,factory:Fe.\u0275fac}),Fe})(),Pr=(()=>{class Fe{constructor(Se){if(Se)throw new Error("TreatmentsModule from @isagri-ng/core is already loaded.")}}return Fe.\u0275fac=function(Se){return new(Se||Fe)(V.LFG(Fe,12))},Fe.\u0275mod=V.oAB({type:Fe}),Fe.\u0275inj=V.cJS({providers:[{provide:To,useClass:Qs}]}),Fe})(),xr=(()=>{class Fe{static forRoot(){return{ngModule:Fe,providers:[Js.forRoot().providers,{provide:be.Hn,useValue:"ingCore",multi:!0},xs,Zn("core",Ge.verbose,Do)]}}}return Fe.\u0275fac=function(Se){return new(Se||Fe)},Fe.\u0275mod=V.oAB({type:Fe}),Fe.\u0275inj=V.cJS({imports:[Js]}),Fe})()},4072:(cn,Ve,G)=>{"use strict";G.d(Ve,{of:()=>ro,$C:()=>sn,Qt:()=>mo,A2:()=>ii,d8:()=>Vs});var h=G(5861),C=G(4650),V=G(4006),ee=G(7579),pe=G(4128),ue=G(262),ve=G(9646),re=G(9751),le=G(576);function U(qe){return!!qe&&(qe instanceof re.y||(0,le.m)(qe.lift)&&(0,le.m)(qe.subscribe))}var y=G(5698),O=G(2722),$=G(6805),Q=G(930);function oe(qe,Tt){const q="object"==typeof Tt;return new Promise((Oe,gt)=>{const rn=new Q.Hp({next:wi=>{Oe(wi),rn.unsubscribe()},error:gt,complete:()=>{q?Oe(Tt.defaultValue):gt(new $.K)}});qe.subscribe(rn)})}var Ce=G(4004),xe=G(2843),be=G(5577),ke=G(8505),Ze=G(9635),Ke=G(9770),et=G(4707),tt=G(330),u=G(2975),dt=G(5707),we=G(529),mt=G(7489),Gt=G(7206),Le=G(6895),H=G(7665),g=G(8372),F=G(1884),b=G(3900),Z=G(515);class X{constructor(Tt,q,Oe){this.kind=Tt,this.value=q,this.error=Oe,this.hasValue="N"===Tt}observe(Tt){return de(this,Tt)}do(Tt,q,Oe){const{kind:gt,value:rn,error:wi}=this;return"N"===gt?Tt?.(rn):"E"===gt?q?.(wi):Oe?.()}accept(Tt,q,Oe){var gt;return(0,le.m)(null===(gt=Tt)||void 0===gt?void 0:gt.next)?this.observe(Tt):this.do(Tt,q,Oe)}toObservable(){const{kind:Tt,value:q,error:Oe}=this,gt="N"===Tt?(0,ve.of)(q):"E"===Tt?(0,xe._)(()=>Oe):"C"===Tt?Z.E:0;if(!gt)throw new TypeError(`Unexpected notification kind ${Tt}`);return gt}static createNext(Tt){return new X("N",Tt)}static createError(Tt){return new X("E",void 0,Tt)}static createComplete(){return X.completeNotification}}function de(qe,Tt){var q,Oe,gt;const{kind:rn,value:wi,error:Cr}=qe;if("string"!=typeof rn)throw new TypeError('Invalid notification, missing "kind"');"N"===rn?null===(q=Tt.next)||void 0===q||q.call(Tt,wi):"E"===rn?null===(Oe=Tt.error)||void 0===Oe||Oe.call(Tt,Cr):null===(gt=Tt.complete)||void 0===gt||gt.call(Tt)}X.completeNotification=new X("C");var me=G(4482),ft=G(5403);function pt(){return(0,me.e)((qe,Tt)=>{qe.subscribe((0,ft.x)(Tt,q=>{Tt.next(X.createNext(q))},()=>{Tt.next(X.createComplete()),Tt.complete()},q=>{Tt.next(X.createError(q)),Tt.complete()}))})}var Et=G(1005);function jt(){return(0,me.e)((qe,Tt)=>{qe.subscribe((0,ft.x)(Tt,q=>de(q,Tt)))})}var xn=G(1951),En=G(9794);const In=new C.OlP("JWT_OPTIONS");let Te=(()=>{class qe{constructor(q=null){this.tokenGetter=q&&q.tokenGetter||function(){}}urlBase64Decode(q){let Oe=q.replace(/-/g,"+").replace(/_/g,"/");switch(Oe.length%4){case 0:break;case 2:Oe+="==";break;case 3:Oe+="=";break;default:throw new Error("Illegal base64url string!")}return this.b64DecodeUnicode(Oe)}b64decode(q){let gt="";if((q=String(q).replace(/=+$/,"")).length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(let wi,Cr,rn=0,Uo=0;Cr=q.charAt(Uo++);~Cr&&(wi=rn%4?64*wi+Cr:Cr,rn++%4)?gt+=String.fromCharCode(255&wi>>(-2*rn&6)):0)Cr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(Cr);return gt}b64DecodeUnicode(q){return decodeURIComponent(Array.prototype.map.call(this.b64decode(q),Oe=>"%"+("00"+Oe.charCodeAt(0).toString(16)).slice(-2)).join(""))}decodeToken(q=this.tokenGetter()){return q instanceof Promise?q.then(Oe=>this._decodeToken(Oe)):this._decodeToken(q)}_decodeToken(q){if(!q||""===q)return null;const Oe=q.split(".");if(3!==Oe.length)throw new Error("The inspected token doesn't appear to be a JWT. Check to make sure it has three parts and see https://jwt.io for more.");const gt=this.urlBase64Decode(Oe[1]);if(!gt)throw new Error("Cannot decode the token.");return JSON.parse(gt)}getTokenExpirationDate(q=this.tokenGetter()){return q instanceof Promise?q.then(Oe=>this._getTokenExpirationDate(Oe)):this._getTokenExpirationDate(q)}_getTokenExpirationDate(q){let Oe;if(Oe=this.decodeToken(q),!Oe||!Oe.hasOwnProperty("exp"))return null;const gt=new Date(0);return gt.setUTCSeconds(Oe.exp),gt}isTokenExpired(q=this.tokenGetter(),Oe){return q instanceof Promise?q.then(gt=>this._isTokenExpired(gt,Oe)):this._isTokenExpired(q,Oe)}_isTokenExpired(q,Oe){if(!q||""===q)return!0;const gt=this.getTokenExpirationDate(q);return Oe=Oe||0,null!==gt&&!(gt.valueOf()>(new Date).valueOf()+1e3*Oe)}getAuthScheme(q,Oe){return"function"==typeof q?q(Oe):q}}return qe.\u0275fac=function(q){return new(q||qe)(C.LFG(In))},qe.\u0275prov=C.Yz7({token:qe,factory:qe.\u0275fac}),qe})();const $t=qe=>qe instanceof Promise?(0,Ke.P)(()=>qe):(0,ve.of)(qe);let Lt=(()=>{class qe{constructor(q,Oe,gt){this.jwtHelper=Oe,this.document=gt,this.standardPorts=["80","443"],this.tokenGetter=q.tokenGetter,this.headerName=q.headerName||"Authorization",this.authScheme=q.authScheme||""===q.authScheme?q.authScheme:"Bearer ",this.allowedDomains=q.allowedDomains||[],this.disallowedRoutes=q.disallowedRoutes||[],this.throwNoTokenError=q.throwNoTokenError||!1,this.skipWhenExpired=q.skipWhenExpired}isAllowedDomain(q){const Oe=new URL(q.url,this.document.location.origin);if(Oe.host===this.document.location.host)return!0;const gt=`${Oe.hostname}${Oe.port&&!this.standardPorts.includes(Oe.port)?":"+Oe.port:""}`;return this.allowedDomains.findIndex(rn=>"string"==typeof rn?rn===gt:rn instanceof RegExp&&rn.test(gt))>-1}isDisallowedRoute(q){const Oe=new URL(q.url,this.document.location.origin);return this.disallowedRoutes.findIndex(gt=>{if("string"==typeof gt){const rn=new URL(gt,this.document.location.origin);return rn.hostname===Oe.hostname&&rn.pathname===Oe.pathname}return gt instanceof RegExp&&gt.test(q.url)})>-1}handleInterception(q,Oe,gt){const rn=this.jwtHelper.getAuthScheme(this.authScheme,Oe);if(!q&&this.throwNoTokenError)throw new Error("Could not get token from tokenGetter function.");let wi=(0,ve.of)(!1);return this.skipWhenExpired&&(wi=q?$t(this.jwtHelper.isTokenExpired(q)):(0,ve.of)(!0)),q?wi.pipe((0,Ce.U)(Cr=>Cr&&this.skipWhenExpired?Oe.clone():Oe.clone({setHeaders:{[this.headerName]:`${rn}${q}`}})),(0,be.z)(Cr=>gt.handle(Cr))):gt.handle(Oe)}intercept(q,Oe){if(!this.isAllowedDomain(q)||this.isDisallowedRoute(q))return Oe.handle(q);const gt=this.tokenGetter(q);return $t(gt).pipe((0,be.z)(rn=>this.handleInterception(rn,q,Oe)))}}return qe.\u0275fac=function(q){return new(q||qe)(C.LFG(In),C.LFG(Te),C.LFG(Le.K0))},qe.\u0275prov=C.Yz7({token:qe,factory:qe.\u0275fac}),qe})(),rt=(()=>{class qe{constructor(q){if(q)throw new Error("JwtModule is already loaded. It should only be imported in your application's main module.")}static forRoot(q){return{ngModule:qe,providers:[{provide:we.TP,useClass:Lt,multi:!0},q.jwtOptionsProvider||{provide:In,useValue:q.config},Te]}}}return qe.\u0275fac=function(q){return new(q||qe)(C.LFG(qe,12))},qe.\u0275mod=C.oAB({type:qe}),qe.\u0275inj=C.cJS({}),qe})();var _t=G(7582),Ut=G(5218);const fn=function(qe){return{errors:qe}};function un(qe,Tt){if(1&qe&&(C.TgZ(0,"fieldset",3)(1,"label",4),C._uU(2),C.qZA(),C._UZ(3,"input",5),C.TgZ(4,"label",6),C._uU(5),C.qZA(),C.TgZ(6,"div",7),C._UZ(7,"input",8),C.GkF(8,9),C.ALo(9,"async"),C.qZA(),C._UZ(10,"ing-new-password",10),C.qZA()),2&qe){const q=Tt.$implicit,Oe=C.oxw(),gt=C.MAs(3);C.xp6(2),C.Oqu(q("changePasswordUserLabel")),C.xp6(1),C.s9C("placeholder",q("loginUserPlaceholder")),C.s9C("formControlName",Oe.usernameControlKey),C.xp6(2),C.Oqu(q("changePasswordOldPassword")),C.xp6(2),C.s9C("formControlName",Oe.oldPasswordControlKey),C.xp6(1),C.Q6J("ngTemplateOutlet",gt)("ngTemplateOutletContext",C.VKq(12,fn,C.lcZ(9,10,Oe.getErrorsForOldPassword()))),C.xp6(2),C.s9C("formControlName",Oe.changepasswordControlKey),C.Q6J("newPassWordValidator",Oe.newPassWordValidator)("checkNewPassWordValidator",Oe.checkNewPassWordValidator)}}function Ft(qe,Tt){if(1&qe&&(C.TgZ(0,"li"),C._uU(1),C.qZA()),2&qe){const q=Tt.$implicit;C.xp6(1),C.hij(" ",q," ")}}function Pn(qe,Tt){if(1&qe&&(C.TgZ(0,"div",12)(1,"ul"),C.YNc(2,Ft,2,1,"li",13),C.qZA()()),2&qe){const q=C.oxw().errors;C.xp6(2),C.Q6J("ngForOf",q)}}function yn(qe,Tt){if(1&qe&&C.YNc(0,Pn,3,1,"div",11),2&qe){const q=Tt.errors;C.Q6J("ngIf",q&&q.length>0)}}const Dn=["containerFrame"];function On(qe,Tt){if(1&qe&&(C.TgZ(0,"div",14)(1,"div",15),C._uU(2),C.ALo(3,"transloco"),C.qZA(),C.TgZ(4,"div",16),C._uU(5),C.ALo(6,"transloco"),C.qZA()()),2&qe){const q=C.oxw(2);C.xp6(2),C.hij(" ",C.lcZ(3,2,q.mediaProvider.appTitle)," "),C.xp6(3),C.hij(" ",C.lcZ(6,4,q.mediaProvider.appQuote)," ")}}function Ti(qe,Tt){if(1&qe&&(C.O4$(),C.TgZ(0,"svg",17)(1,"defs")(2,"pattern",18),C._UZ(3,"image",19),C.qZA(),C._UZ(4,"polygon",20),C.qZA(),C._UZ(5,"use",21),C.qZA()),2&qe){const q=C.oxw(2);C.xp6(3),C.uIk("href",q.mediaProvider.backgroundImagePath,null,"xlink"),C.xp6(1),C.uIk("filter","brightness("+q.mediaProvider.brightnessFrontImage+")")}}function It(qe,Tt){1&qe&&C._UZ(0,"img",22),2&qe&&C.Q6J("src","./assets/logo.svg",C.LSH)}function Ue(qe,Tt){if(1&qe&&C._uU(0),2&qe){const q=Tt.item,Oe=C.oxw(3);C.lnq(" ",q.name," - ",q.baseProperties.dataSetLabel," ",!0===Oe.showDataBaseVersion?"- "+q.baseProperties.versionBase:""," ")}}function Ht(qe,Tt){if(1&qe){const q=C.EpF();C.TgZ(0,"wj-combo-box",23,24),C.NdJ("selectedIndexChange",function(gt){C.CHM(q);const rn=C.oxw(2);return C.KtG(rn.domainChange(gt))}),C.YNc(2,Ue,1,3,"ng-template",25),C.qZA()}if(2&qe){const q=C.oxw(2);C.Q6J("itemsSource",q.domains)("displayMemberPath","name")("isEditable",!1)("placeholder",q.phDomain)("isReadOnly",q.domains.isEmpty)("ngModel",q.credentials.domainId)("selectedIndex",q.domainIndex)}}const Ge=function(){return["/forgotten-password"]},Pt=function(qe,Tt){return{returnUrl:qe,credentials:Tt}};function Yt(qe,Tt){if(1&qe){const q=C.EpF();C.ynx(0,26),C.O4$(),C.TgZ(1,"svg",27),C._UZ(2,"line",28),C.qZA(),C.kcU(),C.TgZ(3,"input",29),C.NdJ("ngModelChange",function(gt){C.CHM(q);const rn=C.oxw(2);return C.KtG(rn.credentials.userLogin=gt)}),C.ALo(4,"transloco"),C.qZA(),C.TgZ(5,"input",30),C.NdJ("ngModelChange",function(gt){C.CHM(q);const rn=C.oxw(2);return C.KtG(rn.credentials.userPassword=gt)}),C.ALo(6,"transloco"),C.qZA(),C.TgZ(7,"a",31),C.ALo(8,"json"),C._uU(9),C.ALo(10,"transloco"),C.qZA(),C.TgZ(11,"div",32)(12,"ing-toggle",33,34),C.NdJ("ngModelChange",function(gt){C.CHM(q);const rn=C.oxw(2);return C.KtG(rn.rememberCredentials=gt)}),C._uU(14),C.ALo(15,"transloco"),C.qZA()(),C.TgZ(16,"button",35),C.NdJ("click",function(){C.CHM(q);const gt=C.oxw(2);return C.KtG(gt.markSubmit())}),C._uU(17),C.ALo(18,"transloco"),C.qZA(),C.BQk()}if(2&qe){const q=C.oxw(2);C.xp6(3),C.s9C("placeholder",C.lcZ(4,12,"ingAuthentication.loginUserPlaceholder")),C.Q6J("ngModel",q.credentials.userLogin),C.xp6(2),C.s9C("placeholder",C.lcZ(6,14,"ingAuthentication.loginPwdPlaceholder")),C.Q6J("ngModel",q.credentials.userPassword),C.xp6(2),C.Q6J("routerLink",C.DdM(24,Ge))("queryParams",C.WLB(25,Pt,q.router.url,C.lcZ(8,16,q.getPartialCredential())))("skipLocationChange",!0),C.xp6(2),C.hij(" ",C.lcZ(10,18,"ingAuthentication.loginForgottenPassword")," "),C.xp6(3),C.Q6J("ngModel",q.rememberCredentials),C.xp6(2),C.hij(" ",C.lcZ(15,20,"ingAuthentication.loginRememberUser")," "),C.xp6(2),C.Q6J("ingDisabledClickFunction",q.onClickFunction),C.xp6(1),C.hij(" ",C.lcZ(18,22,"ingAuthentication.loginValidate")," ")}}function ut(qe,Tt){if(1&qe){const q=C.EpF();C.TgZ(0,"ing-signin-with-microsoft",36),C.NdJ("click",function(){C.CHM(q);const gt=C.oxw(2);return C.KtG(gt.onClickSigninWithMicrosoft())}),C.qZA()}}const ni=function(qe){return{"login-frame-1":!0,fullSizeLoginFrame:qe}},Kn=function(qe){return{loginform:!0,formRightSide:qe}};function Fn(qe,Tt){if(1&qe){const q=C.EpF();C.TgZ(0,"div",1,2)(2,"div",3)(3,"div",4),C.YNc(4,On,7,6,"div",5),C.YNc(5,Ti,6,2,"svg",6),C.TgZ(6,"form",7,8),C.NdJ("ngSubmit",function(){C.CHM(q);const gt=C.oxw();return C.KtG(gt.onLogin())}),C.YNc(8,It,1,1,"img",9),C.TgZ(9,"input",10),C.NdJ("ngModelChange",function(gt){C.CHM(q);const rn=C.oxw();return C.KtG(rn.credentials.clientId=gt)}),C.ALo(10,"transloco"),C.qZA(),C.YNc(11,Ht,3,7,"wj-combo-box",11),C.YNc(12,Yt,19,28,"ng-container",12),C.YNc(13,ut,1,0,"ing-signin-with-microsoft",13),C.qZA()()()()}if(2&qe){const q=C.oxw();C.Udp("background-image","url("+q.mediaProvider.backgroundImagePath+")"),C.xp6(3),C.Q6J("ngClass",C.VKq(15,ni,!q.backgroundImageVisible)),C.xp6(1),C.Q6J("ngIf",q.insetImageVisible),C.xp6(1),C.Q6J("ngIf",q.insetImageVisible),C.xp6(1),C.Q6J("ngClass",C.VKq(17,Kn,q.insetImageVisible)),C.xp6(2),C.Q6J("ngIf",q.mediaProvider.logoImagePath),C.xp6(1),C.s9C("placeholder",C.lcZ(10,13,"ingAuthentication.loginClientIdPlaceholder")),C.Q6J("formControl",q.clientIdInputControl)("ngModel",q.credentials.clientId),C.xp6(2),C.Q6J("ngIf",void 0!==q.domains&&q.domains.totalItemCount>1),C.xp6(1),C.Q6J("ngIf",q.hasUsernamePassword),C.xp6(1),C.Q6J("ngIf",q.hasMicrosoftAuthentication)}}const dr=["forgottenpasswordform"];function Fr(qe,Tt){if(1&qe){const q=C.EpF();C.ynx(0),C.TgZ(1,"label",10),C._uU(2),C.ALo(3,"transloco"),C.qZA(),C.TgZ(4,"input",11),C.NdJ("ngModelChange",function(gt){C.CHM(q);const rn=C.oxw();return C.KtG(rn.passwordRetrieveInfo.userLogin=gt)}),C.qZA(),C.BQk()}if(2&qe){const q=C.oxw();C.xp6(2),C.Oqu(C.lcZ(3,2,"ingAuthentication.forgottenPasswordUserLabel")),C.xp6(2),C.Q6J("ngModel",q.passwordRetrieveInfo.userLogin)}}let Ei=(()=>{class qe{}return qe.\u0275fac=function(q){return new(q||qe)},qe.\u0275prov=C.Yz7({token:qe,factory:qe.\u0275fac}),qe})();const Fi="id_token",pn="closingAppDate",on="authentication",Wi=new C.OlP("TRACE_SERVICE_TOKEN_AUTHENTICATION"),pi=new C.OlP("TRACE_SERVICE_TOKEN_AUTHORIZATION");class bi{}class ei{}let si=(()=>{class qe extends tt.bQ{constructor(q){super(),this.translocoService=q,this.subscriptions$=new ee.x}getAllErrorsOfForm(q){let Oe=new Array;return q instanceof V.F&&(Oe=[...Oe,...this.getErrorInControl(q.form)]),(q instanceof V.nJ||q instanceof V.cw)&&(Oe=[...Oe,...this.getErrorInControl(q)]),Object.keys(q.controls).forEach(gt=>{Oe=[...Oe,...this.getErrorInControl(q.controls[gt])]}),Oe.length>0?(0,pe.D)(Oe).pipe((0,ue.K)(()=>[])):(0,ve.of)([])}getErrorInControl(q){const Oe=new Array;if(q.errors&&q.errors)for(const gt in q.errors)if(Object.prototype.hasOwnProperty.call(q.errors,gt)){const rn=q.errors[gt];rn&&U(rn)&&Oe.push(rn.pipe((0,y.q)(1)))}return Oe}isEmptyValidator(){return q=>this.isEmpty(q.value)?{required:this.translocoService.selectTranslate("errorOldPwdMsg",{},"ingAuthentication")}:null}isEmpty(q){return null==q||("string"==typeof q||Array.isArray(q))&&0===q.length}checkEqualityBetweenOldAndNewPassword(){return q=>{if(this.isEmpty(q.value))return null;const Oe=q.value;if(this.isEmpty(Oe.oldPassword)||this.isEmpty(Oe.changepassword))return null;const gt=Oe.oldPassword;return Object.values(Oe.changepassword).some(Cr=>gt===Cr)?{equal:this.translocoService.selectTranslate("errorPwd",{},"ingAuthentication")}:null}}checkEqualityWithOneControl(q){let Oe;return q.valueChanges.pipe((0,O.R)(this.subscriptions$)).subscribe(gt=>{Oe&&Oe.updateValueAndValidity()}),gt=>(Oe||(Oe=gt),this.isEmpty(gt.value)||this.isEmpty(q.value)||q.value!==gt.value?null:{equal:this.translocoService.selectTranslate("errorPwd",{},"ingAuthentication")})}}return qe.\u0275fac=function(q){return new(q||qe)(C.LFG(dt.Vn))},qe.\u0275prov=C.Yz7({token:qe,factory:qe.\u0275fac}),qe})();class qt{constructor(){this.accessToken="",this.refreshToken=""}}const Je="userCredentials";var Ae;!function(qe){const Tt=new Uint8Array([124,10,15,200,157,1,16,255,201,76,12,70,115,22,156,5,160,251,120,17,78,31,18,2]);qe.cryptPassword=function q(gt){null==gt&&(gt="");const rn=Gt.enc.Hex.parse(function Oe(gt){const rn=[],wi="0123456789abcdef";for(const Cr of gt)rn.push(wi[(240&Cr)>>4]+wi[15&Cr]);return rn.join("")}(Tt));return(0,Gt.PBKDF2)(gt,rn,{keySize:8,iterations:2e3}).toString(Gt.enc.Base64)}}(Ae||(Ae={}));class Ne{static readRegisteredCredentials(){let Tt;const q=window.localStorage.getItem(Je);return q&&(Tt=JSON.parse(q)),Tt}static toCredential(Tt){const q=JSON.parse(Tt),Oe=new bi;return Oe.clientId=q.clientId,Oe.domainId=q.domainId,Oe.dataSetLabel=q.dataSetLabel,Oe.userLogin=q.userLogin,Oe}static cloneCredentialWithoutPassword(Tt){const q=mt.cloneDeep(Tt);return q.userPassword&&(q.userPassword=""),q}static getCopyPasswordEncrypted(Tt){const q=Ne.cloneCredentialWithoutPassword(Tt);return q.userPassword=Ae.cryptPassword(Tt.userPassword),q}static saveCredentials(Tt){const q=Ne.cloneCredentialWithoutPassword(Tt);window.localStorage.setItem(Je,JSON.stringify(q))}static cleanAdToken(){const Tt=Ne.readRegisteredCredentials();Tt&&Tt.azureADToken&&(Tt.azureADToken="",Ne.saveCredentials(Tt))}static deleteSavedCredentials(){window.localStorage.removeItem(Je)}}let Qe=(()=>{class qe{constructor(q,Oe,gt){this.http=q,this.clientContextDataProvider=Oe,this.configurationService=gt,this.loginAPIVersion="v2",this.passwordExpiredTokenSubject=new ee.x,this.passwordExpiredToken$=this.passwordExpiredTokenSubject.asObservable()}login(q){var Oe=this;return(0,h.Z)(function*(){let gt;const rn=Ne.getCopyPasswordEncrypted(q);return"v2"===Oe.loginAPIVersion&&(gt=yield oe(Oe.loginV2("access-tokens",rn))),"v1"===Oe.loginAPIVersion&&(gt=yield oe(Oe.loginV1("access-tokens",rn))),gt})()}loginV2(q,Oe){return this.http.post("v2/"+q,Oe,{headers:this.clientContextHttpHeaders,withCredentials:!1,observe:"response"}).pipe((0,Ce.U)(gt=>{const rn=new qt;return this.extractTokensFromV2Response(gt,rn),rn}),(0,ue.K)(gt=>gt instanceof we.UA&&(404===gt.status||0===gt.status)?(this.loginAPIVersion="v1",(0,ve.of)(null)):(this.emitV2PasswordExpiredToken(gt,Oe),(0,xe._)(()=>gt))))}emitV2PasswordExpiredToken(q,Oe){if((0,tt.t2)(q)){const gt=function Mt(qe){let Tt;if(!qe)return Tt;const q=qe.get("www-authenticate")?.split(" ");let Oe=-1;return q&&(Oe=q.indexOf("PasswordExpiredToken")),Oe>=0&&Oe+1<q.length&&(Tt=q[Oe+1]?.replace(",","")),Tt}(q.headers);gt&&this.passwordExpiredTokenSubject.next([gt,Oe])}}loginV1(q,Oe){return this.http.post("v1/"+q,Oe,{headers:this.clientContextHttpHeaders,withCredentials:!1,observe:"response"}).pipe((0,Ce.U)(gt=>{const rn=new qt;return this.extractTokenFromV1Response(gt,rn),rn}),(0,ue.K)(gt=>(gt instanceof we.UA&&(404===gt.status||0===gt.status)&&(this.loginAPIVersion="v2"),(0,ve.of)(null))))}loginWithAdToken(q){var Oe=this;return(0,h.Z)(function*(){let gt;return"v2"===Oe.loginAPIVersion&&(gt=yield yield oe(Oe.loginV2("access-tokens/access-token-ad",q))),"v1"===Oe.loginAPIVersion&&(gt=yield oe(Oe.loginV1("access-tokens/access-token-ad",q))),gt})()}extractTokenFromV1Response(q,Oe){const gt=q.body;if(!gt)throw"API v1/access-tokens/* did not return an access token in its response";Oe.accessToken=gt}extractTokensFromV2Response(q,Oe){const gt=q.body;if(!gt?.accessToken)throw"API v2/access-tokens/* did not return an access token in its response";Oe.accessToken=gt.accessToken,Oe.refreshToken=gt.refreshToken}loginExternal(q){var Oe=this;return(0,h.Z)(function*(){let gt;return"v2"===Oe.loginAPIVersion&&(gt=yield yield oe(Oe.loginV2("access-tokens/external",q))),"v1"===Oe.loginAPIVersion&&(gt=yield oe(Oe.loginV1("access-tokens/external",q))),gt})()}refreshAccessToken(q){var Oe=this;return(0,h.Z)(function*(){return yield oe(Oe.http.post("v2/access-tokens/refresh",q,{headers:Oe.clientContextHttpHeaders,withCredentials:!1}))})()}get clientContextHttpHeaders(){return tt.pz.buildHeadersWithContext(this.clientContextDataProvider.getClientContext())}changePassword(q,Oe){const gt=new ei;return gt.userLogin=Oe.userLogin,gt.userOldPassword=Ae.cryptPassword(Oe.userOldPassword),gt.userNewPassword=Ae.cryptPassword(Oe.userNewPassword),gt.userConfirmNewPassword="",this.http.post("v1/users/change-password/"+q.clientId,gt,{})}changePasswordForExpired(q){const Oe=new ei;return Oe.clientId=q.clientId,Oe.domainId=q.domainId,Oe.userLogin=q.userLogin,Oe.token=q.token,Oe.userNewPassword=Ae.cryptPassword(q.userNewPassword),Oe.userOldPassword=Ae.cryptPassword(q.userOldPassword),this.http.post("v1/users/change-expired-password",Oe,{headers:this.clientContextHttpHeaders})}sendPassword(q){q.applicationName=this.configurationService.getApplicationName();const Oe=this.buildHeaderWithPartialClientContext(q);return this.http.put("v1/users/reset-password",q,{headers:Oe})}buildHeaderWithPartialClientContext(q){let Oe=this.clientContextDataProvider.getClientContext();return Oe||(Oe=new tt.RY),q&&(Oe.clientId=q.clientId,Oe.domainId=+q.domainId,Oe.dataSetLabel=q.dataSetLabel),tt.pz.buildHeadersWithContext(Oe)}}return qe.\u0275fac=function(q){return new(q||qe)(C.LFG(we.eN),C.LFG(tt.kv),C.LFG(tt.st))},qe.\u0275prov=C.Yz7({token:qe,factory:qe.\u0275fac}),qe})(),Zt=(()=>{class qe extends u.X7{constructor(q,Oe,gt,rn,wi,Cr){super(),this.authenticationHttpClient=q,this.clientContextDataProvider=Oe,this.dialogManager=gt,this.changePasswordRulesService=rn,this.transloco=wi,this.trace=Cr,this.credentials=new bi,this.entity=new ei,this.usernameControlKey="username",this.changepasswordControlKey="changepassword",this.oldPasswordControlKey="oldPassword",this.isRoot=!0,this.enablePerformanceTrace(),this.componentName="ChangePasswordWithFormModalComponent",this.class="ing-new-password-modal"}ngOnInit(){super.ngOnInit(),this.getAndUpdateCredential(),this.initPasswordChange(),this.createFormGroup()}createFormGroup(){this.oldPasswordControl=new V.NI(this.entity.userOldPassword,{updateOn:"change",validators:[this.changePasswordRulesService.isEmptyValidator()]});const q=new u.cu({userNewPassword:this.entity.userNewPassword});this.changepasswordControl=new V.NI(q,{updateOn:"change"}),this.newPassWordValidator=this.changePasswordRulesService.checkEqualityWithOneControl(this.oldPasswordControl),this.checkNewPassWordValidator=this.changePasswordRulesService.checkEqualityWithOneControl(this.oldPasswordControl),this.changePasswordFormGroup=new V.cw({[this.usernameControlKey]:new V.NI(this.entity.userLogin),[this.oldPasswordControlKey]:this.oldPasswordControl,[this.changepasswordControlKey]:this.changepasswordControl},{updateOn:"change",validators:[this.changePasswordRulesService.checkEqualityBetweenOldAndNewPassword()]})}onSubmit(){this.changePasswordFormGroup.valid?this.getChangePasswordAction().subscribe():this.showErrors()}getChangePasswordAction(){return this.getObservableToExecute().pipe((0,be.z)(()=>this.showSuccessMessage()),(0,ke.b)(()=>this.succeed(this.entity.userNewPassword)),(0,ue.K)(q=>(q instanceof we.UA&&401===q.status?(this.trace.logErrorException(q),this.error(q)):(this.trace.logError("Unknown error",[q]),this.abort()),(0,ve.of)())),(0,y.q)(1))}getObservableToExecute(){return this.entity={...this.entity,userOldPassword:this.oldPasswordControl?.value,userNewPassword:this.changepasswordControl?.value?.userNewPassword,userConfirmNewPassword:this.changepasswordControl?.value?.userConfirmNewPassword},this.entity.token?this.authenticationHttpClient.changePasswordForExpired(this.entity):this.authenticationHttpClient.changePassword(this.credentials,this.entity)}showErrors(){this.changePasswordRulesService.getAllErrorsOfForm(this.changePasswordFormGroup).pipe(this.manageUnknownErrors(),(0,be.z)(q=>this.dialogManager.showError(q.join("\n"))),this.manageOldAndNewPasswordEqualityErrors(),(0,ue.K)(q=>(q instanceof Error&&this.trace.logErrorException(q),(0,xe._)(()=>q))),(0,O.R)(this.subscription$)).subscribe(()=>this.abort())}manageUnknownErrors(){return(0,Ze.z)((0,be.z)(q=>function De(qe,Tt,q){return(0,Ke.P)(()=>qe()?Tt:q)}(()=>q.length<=0,this.transloco.selectTranslate("errorUnknownPasswordChange",{},"ingAuthentication").pipe((0,Ce.U)(Oe=>[Oe])),(0,ve.of)(q))))}manageOldAndNewPasswordEqualityErrors(){return(0,Ze.z)((0,ke.b)(()=>{this.changePasswordFormGroup?.contains(this.changepasswordControlKey)&&this.changePasswordFormGroup.hasError("equal")&&this.changePasswordFormGroup.controls[this.changepasswordControlKey].reset({userNewPassword:null,userConfirmNewPassword:null})}))}getErrorsForOldPassword(){const q=this.changePasswordRulesService.getErrorInControl(this.oldPasswordControl);return q.length>0?(0,pe.D)(q).pipe((0,ue.K)(()=>[])):(0,ve.of)([])}getAndUpdateCredential(){const q=this.clientContextDataProvider.getClientContext();this.credentials.clientId=this.entity.clientId?this.entity.clientId:q.clientId,this.credentials.domainId=this.entity.domainId?this.entity.domainId:q.domainId,this.credentials.dataSetLabel=q.dataSetLabel,this.credentials.userLogin=this.entity.userLogin?this.entity.userLogin:q.authenticatedUser?.login}initPasswordChange(){this.entity.userLogin=this.credentials.userLogin}showSuccessMessage(){return this.dialogManager.showPopup(this.transloco.selectTranslate("warningModifiedPwd",{},"ingAuthentication"),this.transloco.selectTranslate("warningChangePasswordTitle",{},"ingAuthentication"),tt.Zf.ok,tt.mH.ok)}}return qe.\u0275fac=function(q){return new(q||qe)(C.Y36(Qe),C.Y36(tt.kv),C.Y36(tt.kS),C.Y36(si),C.Y36(dt.Vn),C.Y36(Wi))},qe.\u0275cmp=C.Xpm({type:qe,selectors:[["ing-new-password-with-form-modal"]],features:[C._Bn([si]),C.qOj],decls:4,vars:2,consts:[[1,"ing-new-password-form",3,"formGroup","ngSubmit"],["class","ing-full-height ing-form-content",4,"transloco","translocoRead"],["tooltip",""],[1,"ing-full-height","ing-form-content"],["id","ing-userlogin-label","for","ing-userlogin-input",1,"ing-new-password-label"],["id","ing-userlogin-input","type","text","readonly","","autocomplete","off",1,"ing-new-password-input",3,"placeholder","formControlName"],["id","ing-old-password-label","for","ing-old-password-input",1,"ing-new-password-label"],[1,"_ing-input-with-tooltip"],["id","ing-old-password-input","type","password","aria-describedby","old-password-rules","autocomplete","new-password",1,"ing-new-password-input",3,"formControlName"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["id","ing-new-password-inputs",3,"formControlName","newPassWordValidator","checkNewPassWordValidator"],["id","password-rules","role","tooltip",4,"ngIf"],["id","password-rules","role","tooltip"],[4,"ngFor","ngForOf"]],template:function(q,Oe){1&q&&(C.TgZ(0,"form",0),C.NdJ("ngSubmit",function(){return Oe.onSubmit()}),C.YNc(1,un,11,14,"fieldset",1),C.qZA(),C.YNc(2,yn,1,1,"ng-template",null,2,C.W1O)),2&q&&(C.Q6J("formGroup",Oe.changePasswordFormGroup),C.xp6(1),C.Q6J("translocoRead","ingAuthentication"))},dependencies:[Le.sg,Le.O5,Le.tP,V._Y,V.Fj,V.JJ,V.JL,V.sg,V.u,u.gl,dt.KI,Le.Ov],styles:['@charset "UTF-8";button[_ngcontent-%COMP%]{width:auto;height:2rem;font-family:Roboto,Arial,Helvetica,sans-serif;font-size:1rem;box-sizing:border-box;display:inline-flex;flex-direction:row;align-items:center;vertical-align:middle;margin:0;padding:.25rem 1rem;text-align:left;background-color:transparent;border:1px solid transparent;color:#387ef4}button[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(1n){margin:initial;margin-left:.5rem;margin-right:.5rem}@media screen and (min-width: 0\\fffd){button[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(1n){margin:auto;margin-left:.5rem;margin-right:.5rem}}button[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:last-child{margin-left:.5rem;margin-right:0}button[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child{margin-left:0;margin-right:.5rem}button[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:only-child{margin-left:0;margin-right:0}button[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:1rem;width:1rem}button[_ngcontent-%COMP%]:focus{outline-style:none}button[_ngcontent-%COMP%]:hover{cursor:pointer}button[_ngcontent-%COMP%]:hover, button[_ngcontent-%COMP%]:focus{color:#387ef4;background-color:#f2f2f2;border:1px solid transparent}button[_ngcontent-%COMP%]:hover:active, button[_ngcontent-%COMP%]:focus:active{background-color:#ccc;border:1px solid #ccc;color:#387ef4}button[_ngcontent-%COMP%]:disabled, button[_ngcontent-%COMP%]:disabled:hover, button[_ngcontent-%COMP%]:disabled:hover:active{background-color:transparent;border:1px solid transparent;color:#999}button.ing-center[_ngcontent-%COMP%]{text-align:center;align-items:center;justify-content:center}button.ing-icon[_ngcontent-%COMP%]{padding:0;background-color:transparent;border:1px solid transparent;color:#fff}button.ing-icon[_ngcontent-%COMP%]:hover, button.ing-icon[_ngcontent-%COMP%]:active{background-color:transparent;border:1px solid transparent;color:#fff}button.ing-icon[_ngcontent-%COMP%]:hover:active, button.ing-icon[_ngcontent-%COMP%]:active:active{background-color:transparent;border:1px solid transparent}button.ing-discreet[_ngcontent-%COMP%]{background-color:transparent;border:1px solid transparent;color:#387ef4}button.ing-discreet[_ngcontent-%COMP%]:hover{cursor:pointer}button.ing-discreet[_ngcontent-%COMP%]:hover, button.ing-discreet[_ngcontent-%COMP%]:focus{color:#387ef4;background-color:#f2f2f2;border:1px solid transparent}button.ing-discreet[_ngcontent-%COMP%]:hover:active, button.ing-discreet[_ngcontent-%COMP%]:focus:active{background-color:#ccc;border:1px solid #ccc;color:#387ef4}button.ing-discreet[_ngcontent-%COMP%]:disabled, button.ing-discreet[_ngcontent-%COMP%]:disabled:hover, button.ing-discreet[_ngcontent-%COMP%]:disabled:hover:active{background-color:transparent;border:1px solid transparent;color:#999}button.ing-secondary[_ngcontent-%COMP%]{background-color:transparent;border:1px solid #387ef4;color:#387ef4}button.ing-secondary[_ngcontent-%COMP%]:hover, button.ing-secondary[_ngcontent-%COMP%]:focus{background-color:#f2f2f2;border:1px solid #387ef4;color:#387ef4}button.ing-secondary[_ngcontent-%COMP%]:hover:active, button.ing-secondary[_ngcontent-%COMP%]:focus:active{background-color:#ccc;border:1px solid #387ef4;color:#387ef4}button.ing-secondary[_ngcontent-%COMP%]:disabled, button.ing-secondary[_ngcontent-%COMP%]:disabled:hover, button.ing-secondary[_ngcontent-%COMP%]:disabled:hover:active{background-color:#f2f2f2;border:1px solid #999999;color:#999}button.ing-action-standard[_ngcontent-%COMP%]{background-color:#387ef4;border:1px solid #387ef4;color:#fff}button.ing-action-standard[_ngcontent-%COMP%]:hover, button.ing-action-standard[_ngcontent-%COMP%]:focus{background-color:#466db1;border:1px solid #466db1;color:#fff}button.ing-action-standard[_ngcontent-%COMP%]:hover:active, button.ing-action-standard[_ngcontent-%COMP%]:focus:active{background-color:#40507d;border:1px solid #40507d;color:#fff}button.ing-action-standard[_ngcontent-%COMP%]:disabled, button.ing-action-standard[_ngcontent-%COMP%]:disabled:hover, button.ing-action-standard[_ngcontent-%COMP%]:disabled:hover:active{background-color:#b2b2b2;border:1px solid #b2b2b2;color:#fff}button.ing-action-exceptional[_ngcontent-%COMP%]{background-color:#5da500;border:1px solid #5da500;color:#fff}button.ing-action-exceptional[_ngcontent-%COMP%]:hover, button.ing-action-exceptional[_ngcontent-%COMP%]:focus{background-color:#4d8801;border:1px solid #4d8801;color:#fff}button.ing-action-exceptional[_ngcontent-%COMP%]:hover:active, button.ing-action-exceptional[_ngcontent-%COMP%]:focus:active{background-color:#407200;border:1px solid #407200;color:#fff}button.ing-action-exceptional[_ngcontent-%COMP%]:disabled, button.ing-action-exceptional[_ngcontent-%COMP%]:disabled:hover, button.ing-action-exceptional[_ngcontent-%COMP%]:disabled:hover:active{background-color:#b2b2b2;border:1px solid #b2b2b2;color:#fff}label[_ngcontent-%COMP%]{display:inline-flex;font-family:Roboto,Arial,Helvetica,sans-serif;font-size:1rem;font-weight:400;vertical-align:middle;background-color:transparent;color:#000;margin-left:.25rem;margin-right:.25rem;cursor:pointer}label.ing-disabled[_ngcontent-%COMP%]{color:gray}input[_ngcontent-%COMP%], input[type=text][_ngcontent-%COMP%]{font-family:Roboto,Arial,Helvetica,sans-serif;display:inline-flex;margin:0;background:#ffffff;padding-left:.5rem;padding-right:.5rem;border-color:#ccc;color:#000;border:1px solid #ccc;font-size:1rem;height:2rem;vertical-align:middle;box-sizing:border-box}input[_ngcontent-%COMP%]::placeholder, input[type=text][_ngcontent-%COMP%]::placeholder{-webkit-text-fill-color:#b2b2b2;opacity:1;color:#b2b2b2}input[_ngcontent-%COMP%]:read-only, input[type=text][_ngcontent-%COMP%]:read-only{-webkit-text-fill-color:#000;opacity:1;color:#000;background:#ececec}input[_ngcontent-%COMP%]:disabled, input[type=text][_ngcontent-%COMP%]:disabled{-webkit-text-fill-color:#808080;opacity:1;color:gray;background:#ececec}input[_ngcontent-%COMP%]::selection, input[type=text][_ngcontent-%COMP%]::selection{background:#387ef4;-webkit-text-fill-color:#ffffff;opacity:1;color:#fff}input[_ngcontent-%COMP%]:focus, input[type=text][_ngcontent-%COMP%]:focus{outline-style:none;border-color:#387ef4}form[_ngcontent-%COMP%]   .ng-dirty.ng-touched.ng-invalid[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   .ng-pristine.ng-touched.ng-invalid[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   .ng-dirty.ng-untouched.ng-invalid[_ngcontent-%COMP%], form.ng-submitted[_ngcontent-%COMP%]   .ng-pristine.ng-untouched.ng-invalid[_ngcontent-%COMP%], form.ng-submitted[_ngcontent-%COMP%]   .ng-invalid[_ngcontent-%COMP%]{border-color:#c1272d;background-color:#f9e9ea}form[_ngcontent-%COMP%]   .ng-dirty.ng-touched.ng-invalid[_ngcontent-%COMP%]:focus, form[_ngcontent-%COMP%]   .ng-pristine.ng-touched.ng-invalid[_ngcontent-%COMP%]:focus, form[_ngcontent-%COMP%]   .ng-dirty.ng-untouched.ng-invalid[_ngcontent-%COMP%]:focus, form.ng-submitted[_ngcontent-%COMP%]   .ng-pristine.ng-untouched.ng-invalid[_ngcontent-%COMP%]:focus, form.ng-submitted[_ngcontent-%COMP%]   .ng-invalid[_ngcontent-%COMP%]:focus{border-color:#c1272d}form[_ngcontent-%COMP%]   .ng-dirty.ng-touched.ng-invalid.ing-forms-error-disable-background-color[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   .ng-pristine.ng-touched.ng-invalid.ing-forms-error-disable-background-color[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   .ng-dirty.ng-untouched.ng-invalid.ing-forms-error-disable-background-color[_ngcontent-%COMP%], form.ng-submitted[_ngcontent-%COMP%]   .ng-pristine.ng-untouched.ng-invalid.ing-forms-error-disable-background-color[_ngcontent-%COMP%], form.ng-submitted[_ngcontent-%COMP%]   .ng-invalid.ing-forms-error-disable-background-color[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   .ng-dirty.ng-touched.ng-invalid.wj-control.wj-content[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   .ng-pristine.ng-touched.ng-invalid.wj-control.wj-content[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   .ng-dirty.ng-untouched.ng-invalid.wj-control.wj-content[_ngcontent-%COMP%], form.ng-submitted[_ngcontent-%COMP%]   .ng-pristine.ng-untouched.ng-invalid.wj-control.wj-content[_ngcontent-%COMP%], form.ng-submitted[_ngcontent-%COMP%]   .ng-invalid.wj-control.wj-content[_ngcontent-%COMP%]{background-color:inherit}form[_ngcontent-%COMP%]   .ng-dirty.ng-touched.ng-invalid.wj-control.wj-content[_ngcontent-%COMP%] > .wj-template[_ngcontent-%COMP%] > .wj-input[_ngcontent-%COMP%] > .wj-input-group[_ngcontent-%COMP%] > input[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   .ng-pristine.ng-touched.ng-invalid.wj-control.wj-content[_ngcontent-%COMP%] > .wj-template[_ngcontent-%COMP%] > .wj-input[_ngcontent-%COMP%] > .wj-input-group[_ngcontent-%COMP%] > input[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   .ng-dirty.ng-untouched.ng-invalid.wj-control.wj-content[_ngcontent-%COMP%] > .wj-template[_ngcontent-%COMP%] > .wj-input[_ngcontent-%COMP%] > .wj-input-group[_ngcontent-%COMP%] > input[_ngcontent-%COMP%], form.ng-submitted[_ngcontent-%COMP%]   .ng-pristine.ng-untouched.ng-invalid.wj-control.wj-content[_ngcontent-%COMP%] > .wj-template[_ngcontent-%COMP%] > .wj-input[_ngcontent-%COMP%] > .wj-input-group[_ngcontent-%COMP%] > input[_ngcontent-%COMP%], form.ng-submitted[_ngcontent-%COMP%]   .ng-invalid.wj-control.wj-content[_ngcontent-%COMP%] > .wj-template[_ngcontent-%COMP%] > .wj-input[_ngcontent-%COMP%] > .wj-input-group[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{border-color:#c1272d;background-color:#f9e9ea;border-width:1px;border-style:solid}form[_ngcontent-%COMP%]   .ng-dirty.ng-touched.ng-invalid.wj-control.wj-content[_ngcontent-%COMP%] > .wj-template[_ngcontent-%COMP%] > .wj-input[_ngcontent-%COMP%] > .wj-input-group[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]:focus, form[_ngcontent-%COMP%]   .ng-pristine.ng-touched.ng-invalid.wj-control.wj-content[_ngcontent-%COMP%] > .wj-template[_ngcontent-%COMP%] > .wj-input[_ngcontent-%COMP%] > .wj-input-group[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]:focus, form[_ngcontent-%COMP%]   .ng-dirty.ng-untouched.ng-invalid.wj-control.wj-content[_ngcontent-%COMP%] > .wj-template[_ngcontent-%COMP%] > .wj-input[_ngcontent-%COMP%] > .wj-input-group[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]:focus, form.ng-submitted[_ngcontent-%COMP%]   .ng-pristine.ng-untouched.ng-invalid.wj-control.wj-content[_ngcontent-%COMP%] > .wj-template[_ngcontent-%COMP%] > .wj-input[_ngcontent-%COMP%] > .wj-input-group[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]:focus, form.ng-submitted[_ngcontent-%COMP%]   .ng-invalid.wj-control.wj-content[_ngcontent-%COMP%] > .wj-template[_ngcontent-%COMP%] > .wj-input[_ngcontent-%COMP%] > .wj-input-group[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]:focus{border-color:#c1272d}form[_ngcontent-%COMP%]   .ing-input-error-message[_ngcontent-%COMP%]{color:#c1272d;font-size:.75rem}._ing-input-with-tooltip[_ngcontent-%COMP%]{position:relative;display:block;flex-direction:column;width:100%;margin:0 0 .5rem}._ing-input-with-tooltip[_ngcontent-%COMP%]   input[type][_ngcontent-%COMP%]{width:100%}._ing-input-with-tooltip[_ngcontent-%COMP%]   [role=tooltip][_ngcontent-%COMP%], ._ing-input-with-tooltip[_ngcontent-%COMP%]   .hidetooltip[_ngcontent-%COMP%] + [role=tooltip][_ngcontent-%COMP%]{visibility:hidden;position:absolute;border:1px solid #c1272d;background-color:#c1272d;color:#fff;z-index:530;opacity:1;margin:0;padding:.25rem .5rem;width:100%}._ing-input-with-tooltip[_ngcontent-%COMP%]   [role=tooltip][_ngcontent-%COMP%] > ul[_ngcontent-%COMP%], ._ing-input-with-tooltip[_ngcontent-%COMP%]   [role=tooltip][_ngcontent-%COMP%]   li[_ngcontent-%COMP%], ._ing-input-with-tooltip[_ngcontent-%COMP%]   .hidetooltip[_ngcontent-%COMP%] + [role=tooltip][_ngcontent-%COMP%] > ul[_ngcontent-%COMP%], ._ing-input-with-tooltip[_ngcontent-%COMP%]   .hidetooltip[_ngcontent-%COMP%] + [role=tooltip][_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0}._ing-input-with-tooltip[_ngcontent-%COMP%]   [aria-describedby][_ngcontent-%COMP%]:hover, ._ing-input-with-tooltip[_ngcontent-%COMP%]   [aria-describedby][_ngcontent-%COMP%]:focus{position:relative}._ing-input-with-tooltip[_ngcontent-%COMP%]   [aria-describedby][_ngcontent-%COMP%]:hover + [role=tooltip][_ngcontent-%COMP%], ._ing-input-with-tooltip[_ngcontent-%COMP%]   [aria-describedby][_ngcontent-%COMP%]:focus + [role=tooltip][_ngcontent-%COMP%]{visibility:visible}.ing-new-password-form[_ngcontent-%COMP%]   .ng-dirty.ng-touched.ng-invalid[_ngcontent-%COMP%], .ing-new-password-form[_ngcontent-%COMP%]   .ng-pristine.ng-touched.ng-invalid[_ngcontent-%COMP%], .ing-new-password-form[_ngcontent-%COMP%]   .ng-dirty.ng-untouched.ng-invalid[_ngcontent-%COMP%], .ing-new-password-form.ng-submitted[_ngcontent-%COMP%]   .ng-pristine.ng-untouched.ng-invalid[_ngcontent-%COMP%], .ing-new-password-form.ng-submitted[_ngcontent-%COMP%]   .ng-invalid[_ngcontent-%COMP%], .ing-nested-field[_ngcontent-%COMP%]   .ng-dirty.ng-touched.ng-invalid[_ngcontent-%COMP%], .ing-nested-field[_ngcontent-%COMP%]   .ng-pristine.ng-touched.ng-invalid[_ngcontent-%COMP%], .ing-nested-field[_ngcontent-%COMP%]   .ng-dirty.ng-untouched.ng-invalid[_ngcontent-%COMP%], .ing-nested-field.ng-submitted[_ngcontent-%COMP%]   .ng-pristine.ng-untouched.ng-invalid[_ngcontent-%COMP%], .ing-nested-field.ng-submitted[_ngcontent-%COMP%]   .ng-invalid[_ngcontent-%COMP%]{border-color:#c1272d;background:linear-gradient(225deg,#c1272d .25rem,#ffffff .25rem)}.ing-new-password-form[_ngcontent-%COMP%]   .ng-dirty.ng-touched.ng-invalid[_ngcontent-%COMP%]:focus, .ing-new-password-form[_ngcontent-%COMP%]   .ng-pristine.ng-touched.ng-invalid[_ngcontent-%COMP%]:focus, .ing-new-password-form[_ngcontent-%COMP%]   .ng-dirty.ng-untouched.ng-invalid[_ngcontent-%COMP%]:focus, .ing-new-password-form.ng-submitted[_ngcontent-%COMP%]   .ng-pristine.ng-untouched.ng-invalid[_ngcontent-%COMP%]:focus, .ing-new-password-form.ng-submitted[_ngcontent-%COMP%]   .ng-invalid[_ngcontent-%COMP%]:focus, .ing-nested-field[_ngcontent-%COMP%]   .ng-dirty.ng-touched.ng-invalid[_ngcontent-%COMP%]:focus, .ing-nested-field[_ngcontent-%COMP%]   .ng-pristine.ng-touched.ng-invalid[_ngcontent-%COMP%]:focus, .ing-nested-field[_ngcontent-%COMP%]   .ng-dirty.ng-untouched.ng-invalid[_ngcontent-%COMP%]:focus, .ing-nested-field.ng-submitted[_ngcontent-%COMP%]   .ng-pristine.ng-untouched.ng-invalid[_ngcontent-%COMP%]:focus, .ing-nested-field.ng-submitted[_ngcontent-%COMP%]   .ng-invalid[_ngcontent-%COMP%]:focus{border-color:#c1272d}.ing-new-password-form[_ngcontent-%COMP%]   .ng-dirty.ng-touched.ng-invalid.ing-forms-error-disable-background-color[_ngcontent-%COMP%], .ing-new-password-form[_ngcontent-%COMP%]   .ng-pristine.ng-touched.ng-invalid.ing-forms-error-disable-background-color[_ngcontent-%COMP%], .ing-new-password-form[_ngcontent-%COMP%]   .ng-dirty.ng-untouched.ng-invalid.ing-forms-error-disable-background-color[_ngcontent-%COMP%], .ing-new-password-form.ng-submitted[_ngcontent-%COMP%]   .ng-pristine.ng-untouched.ng-invalid.ing-forms-error-disable-background-color[_ngcontent-%COMP%], .ing-new-password-form.ng-submitted[_ngcontent-%COMP%]   .ng-invalid.ing-forms-error-disable-background-color[_ngcontent-%COMP%], .ing-nested-field[_ngcontent-%COMP%]   .ng-dirty.ng-touched.ng-invalid.ing-forms-error-disable-background-color[_ngcontent-%COMP%], .ing-nested-field[_ngcontent-%COMP%]   .ng-pristine.ng-touched.ng-invalid.ing-forms-error-disable-background-color[_ngcontent-%COMP%], .ing-nested-field[_ngcontent-%COMP%]   .ng-dirty.ng-untouched.ng-invalid.ing-forms-error-disable-background-color[_ngcontent-%COMP%], .ing-nested-field.ng-submitted[_ngcontent-%COMP%]   .ng-pristine.ng-untouched.ng-invalid.ing-forms-error-disable-background-color[_ngcontent-%COMP%], .ing-nested-field.ng-submitted[_ngcontent-%COMP%]   .ng-invalid.ing-forms-error-disable-background-color[_ngcontent-%COMP%]{background:inherit}wj-popup.ing-modal[_ngcontent-%COMP%]{height:auto;width:auto}@media (max-width: 767px){wj-popup.ing-modal[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;width:100%}wj-popup.ing-modal[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:100%}}@media (min-width: 768px){wj-popup.ing-modal[_ngcontent-%COMP%]{display:flex;flex-direction:row;max-height:80%;max-width:90%}}@media (min-width: 992px) and (max-width: 1199px){wj-popup.ing-modal[_ngcontent-%COMP%]{max-width:85%}}@media (min-width: 1200px){wj-popup.ing-modal[_ngcontent-%COMP%]{max-width:70%}}.ing-form-modal.ing-new-password-modal[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(1n){overflow:inherit}.ing-form-modal.ing-new-password-modal[_ngcontent-%COMP%]   .wj-dialog-body[_ngcontent-%COMP%]{overflow:visible}@media (max-width: 767px){.ing-form-modal.ing-new-password-modal[_ngcontent-%COMP%]{display:flex;flex-direction:column;max-height:100%;max-width:100%}}@media (min-width: 768px){.ing-form-modal.ing-new-password-modal[_ngcontent-%COMP%]{display:flex;flex-direction:column;max-height:100%;width:60%}}@media (min-width: 992px) and (max-width: 1199px){.ing-form-modal.ing-new-password-modal[_ngcontent-%COMP%]{width:50%}}@media (min-width: 1200px){.ing-form-modal.ing-new-password-modal[_ngcontent-%COMP%]{width:40%}}.item-align-auto[_ngcontent-%COMP%]{align-self:auto}.item-align-start[_ngcontent-%COMP%]{align-self:start}.item-align-end[_ngcontent-%COMP%]{align-self:end}.item-align-center[_ngcontent-%COMP%]{align-self:center}.item-align-stretch[_ngcontent-%COMP%]{align-self:stretch}.item-justify-auto[_ngcontent-%COMP%]{justify-self:auto}.item-justify-start[_ngcontent-%COMP%]{justify-self:start}.item-justify-end[_ngcontent-%COMP%]{justify-self:end}.item-justify-center[_ngcontent-%COMP%]{justify-self:center}.item-justify-stretch[_ngcontent-%COMP%]{justify-self:stretch}.ing-grid-auto[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(10rem,1fr));grid-gap:1rem}@supports (display: grid){.ing-grid-container[_ngcontent-%COMP%]{flex:1 0 auto;flex-direction:column;display:grid;padding:.5rem 1rem;grid-template-columns:1fr 2fr;column-gap:.5rem;row-gap:1.5rem;align-items:center;justify-items:center;place-content:stretch stretch}.ing-grid-container[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(n){margin:0}.ing-grid-container[_ngcontent-%COMP%]   .ing-item-col-1[_ngcontent-%COMP%], .ing-grid-container[_ngcontent-%COMP%]   .ing-item-label[_ngcontent-%COMP%]{grid-column:1}.ing-grid-container[_ngcontent-%COMP%]   .ing-item-col-2[_ngcontent-%COMP%], .ing-grid-container[_ngcontent-%COMP%]   .ing-item-input[_ngcontent-%COMP%]{grid-column:2}.ing-grid-container[_ngcontent-%COMP%]   .ing-item-width-100[_ngcontent-%COMP%]{grid-column:1/span 2}}.ing-item-label[_ngcontent-%COMP%]{justify-self:end;cursor:pointer}.ing-item-input[_ngcontent-%COMP%]{justify-self:stretch}.ing-item-width-100[_ngcontent-%COMP%]{justify-self:start}form[_ngcontent-%COMP%], fieldset[_ngcontent-%COMP%]{border:0}.ing-new-password-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;font-family:Roboto,Arial,Helvetica,sans-serif;font-size:1rem;font-weight:400;min-width:100%;min-height:100%;padding:1.25rem 20%;margin:0}.ing-new-password-form[_ngcontent-%COMP%] > .ing-form-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:0;margin:0}.ing-new-password-form[_ngcontent-%COMP%] > .ing-form-content[_ngcontent-%COMP%]   .ing-username[_ngcontent-%COMP%]{background-color:silver}.ing-new-password-form[_ngcontent-%COMP%] > .ing-form-content[_ngcontent-%COMP%]   label.ing-new-password-label[_ngcontent-%COMP%]{margin:0;width:100%;line-height:inherit;text-align:start}.ing-new-password-form[_ngcontent-%COMP%] > .ing-form-content[_ngcontent-%COMP%]   input.ing-new-password-input[_ngcontent-%COMP%]{margin:0;width:100%;line-height:2rem}.ing-new-password-form[_ngcontent-%COMP%] > .ing-form-content[_ngcontent-%COMP%]   _ing-input-with-tooltip[_ngcontent-%COMP%]{margin:0 0 .5rem}'],changeDetection:0}),qe})();var ht=(()=>{return(qe=ht||(ht={}))[qe.none=0]="none",qe[qe.applicationAccount=1]="applicationAccount",qe[qe.microsoftPersonalAccount=2]="microsoftPersonalAccount",qe[qe.microsoftWorkOrSchoolAccount=4]="microsoftWorkOrSchoolAccount",qe[qe.azureAD=6]="azureAD",qe[qe.all=7]="all",ht;var qe})();class sn{}class gn{}class Qn{}let Zn=(()=>{class qe{}return qe.\u0275fac=function(q){return new(q||qe)},qe.\u0275cmp=C.Xpm({type:qe,selectors:[["ing-signin-with-microsoft"]],decls:4,vars:3,consts:[["src","./assets/ms-symbollockup_mssymbol_19.svg","alt","Microsoft logo","id","ing-microsoft-logo"],["id","ing-microsoft-signin-text"]],template:function(q,Oe){1&q&&(C._UZ(0,"img",0),C.TgZ(1,"div",1),C._uU(2),C.ALo(3,"transloco"),C.qZA()),2&q&&(C.xp6(2),C.hij(" ",C.lcZ(3,1,"ingAuthentication.signInWithMicrosoft"),"\n"))},dependencies:[dt.Ot],styles:["[_nghost-%COMP%]{font-family:Segoe UI Regular,Tahoma,Geneva,Verdana,sans-serif;font-weight:600;font-size:15px;display:flex;align-items:center;height:41px;padding:0;color:#5e5e5e;background-color:#fff;border:#8c8c8c solid 1px;cursor:pointer}[_nghost-%COMP%]:hover{background-color:#e5e5e5}[_nghost-%COMP%]:active{background-color:#a0a0a0}[_nghost-%COMP%] > #ing-microsoft-logo[_ngcontent-%COMP%]{margin:0 12px;border-width:0;height:21px;padding:0}[_nghost-%COMP%] > #ing-microsoft-signin-text[_ngcontent-%COMP%]{margin:0 12px 0 0;padding-right:.5rem}"]}),qe})(),Vn=(()=>{class qe extends tt.H6{constructor(q,Oe,gt,rn,wi,Cr,Uo,Vr,Kr){super(),this.appAuthentication=q,this.domainsDataProvider=Oe,this.route=gt,this.router=rn,this.translocoService=wi,this.azureAuthentication=Cr,this._elementRef=Vr,this.dialogManager=Kr,this.clientIdInputControl=new V.p4,this.domainIndex=0,this.submitted=!1,this.rememberCredentials=!0,this.credentials=new bi,this.clientAndDomainFilled=!1,this.click$=new ee.x,this.languageSubscription$=new ee.x,this.enablePerformanceTrace(),this.domains=new H.CollectionView([]),this.credentials=new bi,this.mediaProvider=Uo??{brightnessFrontImage:.5}}ngOnInit(){super.ngOnInit(),this.showDataBaseVersion=(0,C.X6Q)(),this.readRegisteredCredentials(),this.readCredentialsFromRoute(),this.subscribeToClickEvent(),this.subscribeToTranslationChanges(),this.subscribeOnClientIdChange(),this.updateHasUsernamePassword(),this.updateLayout()}onContainerResize(){this.updateLayout()}updateLayout(){const q=this._elementRef.nativeElement.offsetWidth;this.backgroundImageVisible=this.mediaProvider.backgroundImagePath&&q>1155&&this._elementRef.nativeElement.offsetHeight>700*1.1,this.insetImageVisible=this.mediaProvider.backgroundImagePath&&q>1e3}subscribeOnClientIdChange(){this.clientIdInputControl.valueChanges.pipe((0,g.b)(400),(0,F.x)(),(0,b.w)(q=>(this.credentials.clientId=q,this.domainsDataProvider.getApplicationDomainsList(q))),(0,O.R)(this.subscription$)).subscribe(q=>{this.onNewDomainList(q)})}onNewDomainList(q){if(this.credentials.domainId=null,q.length>0){if(this.domains=new H.CollectionView(q),1===q.length&&this.domains.moveCurrentToFirst())this.domainChange(0);else if(this.credentials?.domainId>=0){const Oe=q.findIndex(gt=>gt?.domainId===this.credentials?.domainId);this.domainIndex=Oe}}else this.domains=new H.CollectionView,this.domains.moveCurrentTo(-1),this.domainChange(0)}ngOnDestroy(){this.languageSubscription$.next(null),this.languageSubscription$.complete(),super.ngOnDestroy()}domainChange(q){this.domainIndex=q,this.selectedDomain=this.domains?.items[q],(!this.credentials.domainId||!this.credentials.dataSetLabel||this.selectedDomain.domainId!==this.credentials.domainId||this.selectedDomain.baseProperties?.dataSetLabel!==this.credentials.dataSetLabel)&&(this.credentials.dataSetLabel=this.selectedDomain?.baseProperties?.dataSetLabel,this.credentials.domainId=this.selectedDomain?.domainId),this.updateHasMicrosoftAuthentication(),this.updateHasUsernamePassword()}markSubmit(){this.submitted=!0}getPartialCredential(){const q=new bi;return q.domainId=this.credentials.domainId,q.userLogin=this.credentials.userLogin,q.dataSetLabel=this.credentials.dataSetLabel,q.clientId=this.credentials.clientId,q}readRegisteredCredentials(){const q=Ne.readRegisteredCredentials();q&&(this.credentials=q)}readCredentialsFromRoute(){const q=this.route.snapshot.queryParams.credentials;if(void 0!==q){const Oe=Ne.toCredential(q);void 0!==Oe&&(this.credentials=Oe)}}onLogin(){var q=this;return(0,h.Z)(function*(){if(!(yield q.delayAndNotifyOnInvalidForm())){q.rememberCredentials?Ne.saveCredentials(q.credentials):Ne.deleteSavedCredentials(),q.credentials.userPassword||(q.credentials.userPassword="");try{yield q.appAuthentication.login(q.credentials),yield(0,tt.Sw)(q.router,window.history),q.click$.next()}catch(Oe){q.traceService.logError("Login error"),q.traceService.logErrorException(Oe),q.onLoginError()}}})()}onLoginError(){this.clientAndDomainFilled=!1,this.fillClientAndDomain(),this.click$.next()}delayAndNotifyOnInvalidForm(){var q=this;return(0,h.Z)(function*(){null==q.credentials.domainId&&(yield q.dialogManager.showErrorPopup(q.translocoService.selectTranslate("unauthorizedError",{},"ingCommunication")));const gt=!!q.credentials.clientId&&null!=q.credentials.domainId&&!!q.credentials.userLogin;return gt||setTimeout(()=>{q.click$.next()},2),!gt})()}fillClientAndDomain(){var q=this;return(0,h.Z)(function*(){if(q.credentials.clientId&&q.clientIdInputControl.value!==q.credentials.clientId){q.clientIdInputControl.setValue(q.credentials.clientId);const Oe=(yield oe(q.domainsDataProvider.getApplicationDomainsList(q.credentials.clientId))).splice(0,1);if(Oe.length>0){const gt=q.credentials.domainId;q.domains=new H.CollectionView(Oe);const rn=Oe.findIndex(wi=>wi.domainId===gt);rn&&(q.domainIndex=rn)}}})()}subscribeToClickEvent(){this.onClickFunction=()=>new Promise(q=>{this.click$.subscribe(()=>{q(!0)})})}subscribeToTranslationChanges(){this.translocoService.selectTranslate("loginDomainPlaceholder",{},"ingAuthentication").pipe((0,O.R)(this.languageSubscription$)).subscribe(q=>{this.phDomain=q})}updateHasMicrosoftAuthentication(){this.hasMicrosoftAuthentication=!(!this.domains||this.domains.items.length<=0||this.domainIndex>=this.domains.items.length||!this.selectedDomain||!this.azureAuthentication.isEnabled||(this.selectedDomain.authenticationModes&ht.microsoftPersonalAccount)!==ht.microsoftPersonalAccount&&(this.selectedDomain.authenticationModes&ht.microsoftWorkOrSchoolAccount)!==ht.microsoftWorkOrSchoolAccount)}updateHasUsernamePassword(){const q=!this.domains||this.domains.items.length<=0;(q||this.domainIndex>=this.domains.items.length||!this.selectedDomain)&&(this.hasMicrosoftAuthentication=!1),this.hasUsernamePassword=q||(this.selectedDomain.authenticationModes&ht.applicationAccount)===ht.applicationAccount}onClickSigninWithMicrosoft(){var q=this;return(0,h.Z)(function*(){q.credentials.domainId=q.domains.items[q.domainIndex].domainId,yield q.azureAuthentication.signInWithMicrosoft(q.credentials)})()}}return qe.\u0275fac=function(q){return new(q||qe)(C.Y36(sn),C.Y36(gn),C.Y36(xn.gz),C.Y36(xn.F0),C.Y36(dt.Vn),C.Y36(Ei),C.Y36(Qn,8),C.Y36(C.SBq),C.Y36(tt.kS))},qe.\u0275cmp=C.Xpm({type:qe,selectors:[["ing-login"]],viewQuery:function(q,Oe){if(1&q&&C.Gf(Dn,5),2&q){let gt;C.iGM(gt=C.CRH())&&(Oe.containerFrame=gt.first)}},hostBindings:function(q,Oe){1&q&&C.NdJ("resize",function(){return Oe.onContainerResize()},!1,C.Jf7)},features:[C._Bn([{provide:dt.Hn,useValue:{scope:"ingAuthentication"},multi:!0}]),C.qOj],decls:1,vars:1,consts:[["id","ing-container-frame-1",3,"background-image",4,"ngIf"],["id","ing-container-frame-1"],["containerFrame",""],["id","ing-blur-effect-1"],["id","ing-login-frame-1",3,"ngClass"],["id","ing-appText",4,"ngIf"],["viewBox","0 0 400 700","preserveAspectRatio","xMinYMin meet","id","ing-login-frame-inset-image-1",4,"ngIf"],["id","form-loginform-1",3,"ngClass","ngSubmit"],["loginForm","ngForm"],["id","logo-1",3,"src",4,"ngIf"],["id","clientId","name","clientId","type","text","required","",3,"placeholder","formControl","ngModel","ngModelChange"],["id","domain","name","domain","required","",3,"itemsSource","displayMemberPath","isEditable","placeholder","isReadOnly","ngModel","selectedIndex","selectedIndexChange",4,"ngIf"],["id","ng-container-2",4,"ngIf"],["id","ing-signin-with-microsoft",3,"click",4,"ngIf"],["id","ing-appText"],["id","ing-appTitle"],["id","ing-appQuote"],["viewBox","0 0 400 700","preserveAspectRatio","xMinYMin meet","id","ing-login-frame-inset-image-1"],["id","image1","x","0%","y","0%","height","100%","width","100%"],["height","101%"],["id","ing-poligon","points","-1,-1 600,-1 450,701 -1,701","stroke","black"],[0,"xlink","href","#ing-poligon","fill","url(#image1)"],["id","logo-1",3,"src"],["id","domain","name","domain","required","",3,"itemsSource","displayMemberPath","isEditable","placeholder","isReadOnly","ngModel","selectedIndex","selectedIndexChange"],["domain",""],["id","ng-template-1","wjItemTemplate",""],["id","ng-container-2"],["baseProfile","full","width","400","height","5","xmlns","http://www.w3.org/2000/svg","id","ing-line-1"],["x1","0","y1","0","x2","400","y2","0","stroke","currentColor","stroke-width","3"],["id","username","name","username","type","text","required","",3,"placeholder","ngModel","ngModelChange"],["id","password","name","password","type","password",3,"placeholder","ngModel","ngModelChange"],["id","forgotten-password",3,"routerLink","queryParams","skipLocationChange"],["id","div-ing-register-1",1,"ing-register"],["id","userToggle","name","ing-authent-toggle","tabindex","5",3,"ngModel","ngModelChange"],["toggle",""],["id","submitButton","type","submit","ingDisabledClick","",1,"ing-action-standard","submit",3,"ingDisabledClickFunction","click"],["id","ing-signin-with-microsoft",3,"click"]],template:function(q,Oe){1&q&&C.YNc(0,Fn,14,19,"div",0),2&q&&C.Q6J("ngIf",!Oe.appAuthentication.loggedIn())},dependencies:[Le.mk,Le.O5,V._Y,V.Fj,V.JJ,V.JL,V.Q7,V.On,V.F,V.oH,u.si,u.dn,En.ic,En.CN,xn.rH,Zn,Le.Ts,dt.Ot],styles:['@charset "UTF-8";button[_ngcontent-%COMP%]{width:auto;height:2rem;font-family:Roboto,Arial,Helvetica,sans-serif;font-size:1rem;box-sizing:border-box;display:inline-flex;flex-direction:row;align-items:center;vertical-align:middle;margin:0;padding:.25rem 1rem;text-align:left;background-color:transparent;border:1px solid transparent;color:#387ef4}button[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(1n){margin:initial;margin-left:.5rem;margin-right:.5rem}@media screen and (min-width: 0\\fffd){button[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(1n){margin:auto;margin-left:.5rem;margin-right:.5rem}}button[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:last-child{margin-left:.5rem;margin-right:0}button[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child{margin-left:0;margin-right:.5rem}button[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:only-child{margin-left:0;margin-right:0}button[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:1rem;width:1rem}button[_ngcontent-%COMP%]:focus{outline-style:none}button[_ngcontent-%COMP%]:hover{cursor:pointer}button[_ngcontent-%COMP%]:hover, button[_ngcontent-%COMP%]:focus{color:#387ef4;background-color:#f2f2f2;border:1px solid transparent}button[_ngcontent-%COMP%]:hover:active, button[_ngcontent-%COMP%]:focus:active{background-color:#ccc;border:1px solid #ccc;color:#387ef4}button[_ngcontent-%COMP%]:disabled, button[_ngcontent-%COMP%]:disabled:hover, button[_ngcontent-%COMP%]:disabled:hover:active{background-color:transparent;border:1px solid transparent;color:#999}button.ing-center[_ngcontent-%COMP%]{text-align:center;align-items:center;justify-content:center}button.ing-icon[_ngcontent-%COMP%]{padding:0;background-color:transparent;border:1px solid transparent;color:#fff}button.ing-icon[_ngcontent-%COMP%]:hover, button.ing-icon[_ngcontent-%COMP%]:active{background-color:transparent;border:1px solid transparent;color:#fff}button.ing-icon[_ngcontent-%COMP%]:hover:active, button.ing-icon[_ngcontent-%COMP%]:active:active{background-color:transparent;border:1px solid transparent}button.ing-discreet[_ngcontent-%COMP%]{background-color:transparent;border:1px solid transparent;color:#387ef4}button.ing-discreet[_ngcontent-%COMP%]:hover{cursor:pointer}button.ing-discreet[_ngcontent-%COMP%]:hover, button.ing-discreet[_ngcontent-%COMP%]:focus{color:#387ef4;background-color:#f2f2f2;border:1px solid transparent}button.ing-discreet[_ngcontent-%COMP%]:hover:active, button.ing-discreet[_ngcontent-%COMP%]:focus:active{background-color:#ccc;border:1px solid #ccc;color:#387ef4}button.ing-discreet[_ngcontent-%COMP%]:disabled, button.ing-discreet[_ngcontent-%COMP%]:disabled:hover, button.ing-discreet[_ngcontent-%COMP%]:disabled:hover:active{background-color:transparent;border:1px solid transparent;color:#999}button.ing-secondary[_ngcontent-%COMP%]{background-color:transparent;border:1px solid #387ef4;color:#387ef4}button.ing-secondary[_ngcontent-%COMP%]:hover, button.ing-secondary[_ngcontent-%COMP%]:focus{background-color:#f2f2f2;border:1px solid #387ef4;color:#387ef4}button.ing-secondary[_ngcontent-%COMP%]:hover:active, button.ing-secondary[_ngcontent-%COMP%]:focus:active{background-color:#ccc;border:1px solid #387ef4;color:#387ef4}button.ing-secondary[_ngcontent-%COMP%]:disabled, button.ing-secondary[_ngcontent-%COMP%]:disabled:hover, button.ing-secondary[_ngcontent-%COMP%]:disabled:hover:active{background-color:#f2f2f2;border:1px solid #999999;color:#999}button.ing-action-standard[_ngcontent-%COMP%]{background-color:#387ef4;border:1px solid #387ef4;color:#fff}button.ing-action-standard[_ngcontent-%COMP%]:hover, button.ing-action-standard[_ngcontent-%COMP%]:focus{background-color:#466db1;border:1px solid #466db1;color:#fff}button.ing-action-standard[_ngcontent-%COMP%]:hover:active, button.ing-action-standard[_ngcontent-%COMP%]:focus:active{background-color:#40507d;border:1px solid #40507d;color:#fff}button.ing-action-standard[_ngcontent-%COMP%]:disabled, button.ing-action-standard[_ngcontent-%COMP%]:disabled:hover, button.ing-action-standard[_ngcontent-%COMP%]:disabled:hover:active{background-color:#b2b2b2;border:1px solid #b2b2b2;color:#fff}button.ing-action-exceptional[_ngcontent-%COMP%]{background-color:#5da500;border:1px solid #5da500;color:#fff}button.ing-action-exceptional[_ngcontent-%COMP%]:hover, button.ing-action-exceptional[_ngcontent-%COMP%]:focus{background-color:#4d8801;border:1px solid #4d8801;color:#fff}button.ing-action-exceptional[_ngcontent-%COMP%]:hover:active, button.ing-action-exceptional[_ngcontent-%COMP%]:focus:active{background-color:#407200;border:1px solid #407200;color:#fff}button.ing-action-exceptional[_ngcontent-%COMP%]:disabled, button.ing-action-exceptional[_ngcontent-%COMP%]:disabled:hover, button.ing-action-exceptional[_ngcontent-%COMP%]:disabled:hover:active{background-color:#b2b2b2;border:1px solid #b2b2b2;color:#fff}label[_ngcontent-%COMP%]{display:inline-flex;font-family:Roboto,Arial,Helvetica,sans-serif;font-size:1rem;font-weight:400;vertical-align:middle;background-color:transparent;color:#000;margin-left:.25rem;margin-right:.25rem;cursor:pointer}label.ing-disabled[_ngcontent-%COMP%]{color:gray}input[_ngcontent-%COMP%], input[type=text][_ngcontent-%COMP%]{font-family:Roboto,Arial,Helvetica,sans-serif;display:inline-flex;margin:0;background:#ffffff;padding-left:.5rem;padding-right:.5rem;border-color:#ccc;color:#000;border:1px solid #ccc;font-size:1rem;height:2rem;vertical-align:middle;box-sizing:border-box}input[_ngcontent-%COMP%]::placeholder, input[type=text][_ngcontent-%COMP%]::placeholder{-webkit-text-fill-color:#b2b2b2;opacity:1;color:#b2b2b2}input[_ngcontent-%COMP%]:read-only, input[type=text][_ngcontent-%COMP%]:read-only{-webkit-text-fill-color:#000;opacity:1;color:#000;background:#ececec}input[_ngcontent-%COMP%]:disabled, input[type=text][_ngcontent-%COMP%]:disabled{-webkit-text-fill-color:#808080;opacity:1;color:gray;background:#ececec}input[_ngcontent-%COMP%]::selection, input[type=text][_ngcontent-%COMP%]::selection{background:#387ef4;-webkit-text-fill-color:#ffffff;opacity:1;color:#fff}input[_ngcontent-%COMP%]:focus, input[type=text][_ngcontent-%COMP%]:focus{outline-style:none;border-color:#387ef4}a[_ngcontent-%COMP%]{font-family:Roboto,Arial,Helvetica,sans-serif;text-decoration:none}a[_ngcontent-%COMP%]:hover{text-decoration:underline}a.ing-href-white[_ngcontent-%COMP%]:link, a.ing-href-white[_ngcontent-%COMP%]:visited, a.ing-href-white[_ngcontent-%COMP%]:active, a.ing-href-grey[_ngcontent-%COMP%]:link, a.ing-href-grey[_ngcontent-%COMP%]:visited, a.ing-href-grey[_ngcontent-%COMP%]:active{color:#387ef4}a.ing-href-blue[_ngcontent-%COMP%]:link, a.ing-href-blue[_ngcontent-%COMP%]:visited, a.ing-href-blue[_ngcontent-%COMP%]:active{color:#acd0e2}[_nghost-%COMP%]{height:100%}[_nghost-%COMP%]   #ing-container-frame-1[_ngcontent-%COMP%]{width:100%;height:100%;min-height:700px;background-size:cover;background-repeat:no-repeat}[_nghost-%COMP%]   #ing-blur-effect-1[_ngcontent-%COMP%]{width:100%;height:100%;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px)}[_nghost-%COMP%]   .login-frame-1[_ngcontent-%COMP%]{width:1050px;height:min(700px,100%);border:1px solid black;position:relative;top:50%;left:50%;transform:translate(-50%,-50%);background-color:#fff;box-shadow:5px 5px 12px 5px #0006;background-size:cover;background-repeat:no-repeat}[_nghost-%COMP%]   #ing-appText[_ngcontent-%COMP%]{position:fixed;color:#fff;z-index:50;margin-top:20%;margin-left:5%;width:45%}[_nghost-%COMP%]   #ing-appTitle[_ngcontent-%COMP%]{font-size:2.5rem}[_nghost-%COMP%]   #ing-appQuote[_ngcontent-%COMP%]{margin-top:10%;font-size:1.5rem}[_nghost-%COMP%]   .fullSizeLoginFrame[_ngcontent-%COMP%]{width:100%;height:100%;box-shadow:0 0;border:0px}[_nghost-%COMP%]   #ing-login-frame-inset-image-1[_ngcontent-%COMP%]{position:fixed;width:100%;height:100%}[_nghost-%COMP%]   form#form-loginform-1[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:flex-start;height:90%;top:5%;font-family:Roboto,Arial,Helvetica,sans-serif,Helvetica,sans-serif;position:relative;width:-moz-fit-content;width:fit-content;left:50%;transform:translate(-50%)}[_nghost-%COMP%]   form#form-loginform-1[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(1n){margin:.625rem}[_nghost-%COMP%]   form#form-loginform-1[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:last-child{margin-top:4rem}[_nghost-%COMP%]   .formRightSide[_ngcontent-%COMP%]{margin-left:25%}[_nghost-%COMP%]   #logo-1[_ngcontent-%COMP%]{height:160px;max-height:160px}[_nghost-%COMP%]   [_ngcontent-%COMP%]:focus{outline-style:none}[_nghost-%COMP%]   .ing-title[_ngcontent-%COMP%]{margin-top:1.25rem}[_nghost-%COMP%]   label[_ngcontent-%COMP%]{width:22.8125rem;font-size:1rem;font-weight:400}@media (max-width: 767px){[_nghost-%COMP%]   label[_ngcontent-%COMP%]{width:16.875rem}}[_nghost-%COMP%]   #domain[_ngcontent-%COMP%]{box-sizing:border-box;width:22.8125rem;font-size:1rem}@media (max-width: 767px){[_nghost-%COMP%]   #domain[_ngcontent-%COMP%]{width:16.875rem}}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{box-sizing:border-box;padding-left:.625rem;width:22.8125rem;font-size:1rem}@media (max-width: 767px){[_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:16.875rem}}[_nghost-%COMP%]   #clientId[_ngcontent-%COMP%]{margin-top:1.5rem}[_nghost-%COMP%]   .ing-register[_ngcontent-%COMP%]{position:relative;width:22.8125rem;display:flex;flex-direction:column;justify-items:center}@media (max-width: 767px){[_nghost-%COMP%]   .ing-register[_ngcontent-%COMP%]{width:16.875rem}}[_nghost-%COMP%]   .ing-register[_ngcontent-%COMP%]   ing-toggle[_ngcontent-%COMP%]{margin:.25rem .5rem;margin:auto}[_nghost-%COMP%]   button.ing-action-standard.submit[_ngcontent-%COMP%]{width:22.8125rem;text-align:center;display:block}@media (max-width: 767px){[_nghost-%COMP%]   button.ing-action-standard.submit[_ngcontent-%COMP%]{width:16.875rem}}[_nghost-%COMP%]   #ing-line-1[_ngcontent-%COMP%]{width:25.09375rem;color:#ccc}@media (max-width: 767px){[_nghost-%COMP%]   #ing-line-1[_ngcontent-%COMP%]{width:18.5625rem}}[_nghost-%COMP%]   #forgotten-password[_ngcontent-%COMP%]{line-height:1.5rem;text-align:right;width:22.8125rem}@media (max-width: 767px){[_nghost-%COMP%]   #forgotten-password[_ngcontent-%COMP%]{width:16.875rem}}']}),qe})();class Pi{}let Ui=(()=>{class qe extends tt.H6{constructor(q,Oe,gt,rn,wi,Cr,Uo){super(),this.router=q,this.route=Oe,this.authenticationHttpClient=gt,this.dialogManager=rn,this.translocoService=wi,this.scope=Cr,this.trace=Uo,this.passwordRetrieveInfo=new Pi,this.enablePerformanceTrace()}ngOnInit(){super.ngOnInit(),this.extractReturnUrlFromRoute(),this.readCredentialsFromRoute()}extractReturnUrlFromRoute(){this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/";const q=this.returnUrl.indexOf("?");q>0&&(this.returnUrl=this.returnUrl.substring(0,q))}readCredentialsFromRoute(){this.returnCredentials=Ne.toCredential(this.route.snapshot.queryParams.credentials),this.passwordRetrieveInfo.domainId=+this.returnCredentials.domainId,this.passwordRetrieveInfo.userLogin=this.returnCredentials.userLogin,this.passwordRetrieveInfo.dataSetLabel=this.returnCredentials.dataSetLabel,this.passwordRetrieveInfo.clientId=this.returnCredentials.clientId}sendPassword(){var q=this;return(0,h.Z)(function*(){if(q.forgottenpasswordform.form.valid){q.fillLoginWithEmptyIfNeeded();try{yield oe(q.authenticationHttpClient.sendPassword(q.passwordRetrieveInfo)),yield q.popupForgottenPassword(),q.navigateBack()}catch(Oe){return void(Oe instanceof we.UA||Oe instanceof Error?q.trace.logErrorException(Oe):q.trace.logErrorException(new Error(Oe)))}}})()}popupForgottenPassword(){return this.dialogManager.showPopup(this.translocoService.selectTranslate("forgottenPasswordEmailSent",{},this.scope[0]).pipe((0,Ce.U)(q=>q+this.passwordRetrieveInfo.userMail)),this.translocoService.selectTranslate("forgottenPasswordEmailSentTitle",{},this.scope[0]),tt.Zf.ok,tt.mH.ok)}fillLoginWithEmptyIfNeeded(){null==this.passwordRetrieveInfo.userLogin&&(this.passwordRetrieveInfo.userLogin="")}cancel(){this.navigateBack()}navigateBack(){const q={queryParams:{credentials:JSON.stringify(this.returnCredentials)},skipLocationChange:!0};this.router.navigate([this.returnUrl.toString()],q)}}return qe.\u0275fac=function(q){return new(q||qe)(C.Y36(xn.F0),C.Y36(xn.gz),C.Y36(Qe),C.Y36(tt.kS),C.Y36(dt.Vn),C.Y36(dt.Hn),C.Y36(Wi))},qe.\u0275cmp=C.Xpm({type:qe,selectors:[["ing-forgotten-password"]],viewQuery:function(q,Oe){if(1&q&&C.Gf(dr,7),2&q){let gt;C.iGM(gt=C.CRH())&&(Oe.forgottenpasswordform=gt.first)}},features:[C._Bn([{provide:dt.Hn,useValue:"ingAuthentication",multi:!0}]),C.qOj],decls:20,vars:17,consts:[["id","form-ing-forgottenpasswor-1",1,"ing-forgottenpasswordform",3,"ngSubmit"],["forgottenpasswordform","ngForm"],["id","label-ing-title-1",1,"ing-title"],["id","p-1"],[4,"ngIf"],["id","label-ing-overfield-2",1,"ing-overfield"],["id","email","name","email","type","email","required","","ingEmail","",3,"ngModel","ngModelChange"],["id","div-ing-modal-horizontal-1",1,"ing-modal-horizontal-buttons"],["id","cancelButton","type","button",1,"ing-secondary",3,"click"],["id","submitButton","type","submit",1,"ing-action-standard"],["id","label-ing-overfield-1",1,"ing-overfield"],["id","identifiant","name","identifiant","type","text","disabled","",3,"ngModel","ngModelChange"]],template:function(q,Oe){1&q&&(C.TgZ(0,"form",0,1),C.NdJ("ngSubmit",function(){return Oe.sendPassword()}),C.TgZ(2,"label",2),C._uU(3),C.ALo(4,"transloco"),C.qZA(),C.TgZ(5,"p",3),C._uU(6),C.ALo(7,"transloco"),C.qZA(),C.YNc(8,Fr,5,4,"ng-container",4),C.TgZ(9,"label",5),C._uU(10),C.ALo(11,"transloco"),C.qZA(),C.TgZ(12,"input",6),C.NdJ("ngModelChange",function(rn){return Oe.passwordRetrieveInfo.userMail=rn}),C.qZA(),C.TgZ(13,"div",7)(14,"button",8),C.NdJ("click",function(){return Oe.cancel()}),C._uU(15),C.ALo(16,"transloco"),C.qZA(),C.TgZ(17,"button",9),C._uU(18),C.ALo(19,"transloco"),C.qZA()()()),2&q&&(C.xp6(3),C.Oqu(C.lcZ(4,7,"ingAuthentication.forgottenPasswordTitle")),C.xp6(3),C.hij(" ",C.lcZ(7,9,"ingAuthentication.forgottenPasswordDescription")," "),C.xp6(2),C.Q6J("ngIf",Oe.passwordRetrieveInfo.userLogin),C.xp6(2),C.Oqu(C.lcZ(11,11,"ingAuthentication.forgottenPasswordEMailLabel")),C.xp6(2),C.Q6J("ngModel",Oe.passwordRetrieveInfo.userMail),C.xp6(3),C.hij(" ",C.lcZ(16,13,"ingAuthentication.cancelButton")," "),C.xp6(3),C.hij(" ",C.lcZ(19,15,"ingAuthentication.okButton")," "))},dependencies:[Le.O5,V._Y,V.Fj,V.JJ,V.JL,V.Q7,V.On,V.F,tt.fs,dt.Ot],styles:['@charset "UTF-8";button[_ngcontent-%COMP%]{width:auto;height:2rem;font-family:Roboto,Arial,Helvetica,sans-serif;font-size:1rem;box-sizing:border-box;display:inline-flex;flex-direction:row;align-items:center;vertical-align:middle;margin:0;padding:.25rem 1rem;text-align:left;background-color:transparent;border:1px solid transparent;color:#387ef4}button[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(1n){margin:initial;margin-left:.5rem;margin-right:.5rem}@media screen and (min-width: 0\\fffd){button[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(1n){margin:auto;margin-left:.5rem;margin-right:.5rem}}button[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:last-child{margin-left:.5rem;margin-right:0}button[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child{margin-left:0;margin-right:.5rem}button[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:only-child{margin-left:0;margin-right:0}button[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:1rem;width:1rem}button[_ngcontent-%COMP%]:focus{outline-style:none}button[_ngcontent-%COMP%]:hover{cursor:pointer}button[_ngcontent-%COMP%]:hover, button[_ngcontent-%COMP%]:focus{color:#387ef4;background-color:#f2f2f2;border:1px solid transparent}button[_ngcontent-%COMP%]:hover:active, button[_ngcontent-%COMP%]:focus:active{background-color:#ccc;border:1px solid #ccc;color:#387ef4}button[_ngcontent-%COMP%]:disabled, button[_ngcontent-%COMP%]:disabled:hover, button[_ngcontent-%COMP%]:disabled:hover:active{background-color:transparent;border:1px solid transparent;color:#999}button.ing-center[_ngcontent-%COMP%]{text-align:center;align-items:center;justify-content:center}button.ing-icon[_ngcontent-%COMP%]{padding:0;background-color:transparent;border:1px solid transparent;color:#fff}button.ing-icon[_ngcontent-%COMP%]:hover, button.ing-icon[_ngcontent-%COMP%]:active{background-color:transparent;border:1px solid transparent;color:#fff}button.ing-icon[_ngcontent-%COMP%]:hover:active, button.ing-icon[_ngcontent-%COMP%]:active:active{background-color:transparent;border:1px solid transparent}button.ing-discreet[_ngcontent-%COMP%]{background-color:transparent;border:1px solid transparent;color:#387ef4}button.ing-discreet[_ngcontent-%COMP%]:hover{cursor:pointer}button.ing-discreet[_ngcontent-%COMP%]:hover, button.ing-discreet[_ngcontent-%COMP%]:focus{color:#387ef4;background-color:#f2f2f2;border:1px solid transparent}button.ing-discreet[_ngcontent-%COMP%]:hover:active, button.ing-discreet[_ngcontent-%COMP%]:focus:active{background-color:#ccc;border:1px solid #ccc;color:#387ef4}button.ing-discreet[_ngcontent-%COMP%]:disabled, button.ing-discreet[_ngcontent-%COMP%]:disabled:hover, button.ing-discreet[_ngcontent-%COMP%]:disabled:hover:active{background-color:transparent;border:1px solid transparent;color:#999}button.ing-secondary[_ngcontent-%COMP%]{background-color:transparent;border:1px solid #387ef4;color:#387ef4}button.ing-secondary[_ngcontent-%COMP%]:hover, button.ing-secondary[_ngcontent-%COMP%]:focus{background-color:#f2f2f2;border:1px solid #387ef4;color:#387ef4}button.ing-secondary[_ngcontent-%COMP%]:hover:active, button.ing-secondary[_ngcontent-%COMP%]:focus:active{background-color:#ccc;border:1px solid #387ef4;color:#387ef4}button.ing-secondary[_ngcontent-%COMP%]:disabled, button.ing-secondary[_ngcontent-%COMP%]:disabled:hover, button.ing-secondary[_ngcontent-%COMP%]:disabled:hover:active{background-color:#f2f2f2;border:1px solid #999999;color:#999}button.ing-action-standard[_ngcontent-%COMP%]{background-color:#387ef4;border:1px solid #387ef4;color:#fff}button.ing-action-standard[_ngcontent-%COMP%]:hover, button.ing-action-standard[_ngcontent-%COMP%]:focus{background-color:#466db1;border:1px solid #466db1;color:#fff}button.ing-action-standard[_ngcontent-%COMP%]:hover:active, button.ing-action-standard[_ngcontent-%COMP%]:focus:active{background-color:#40507d;border:1px solid #40507d;color:#fff}button.ing-action-standard[_ngcontent-%COMP%]:disabled, button.ing-action-standard[_ngcontent-%COMP%]:disabled:hover, button.ing-action-standard[_ngcontent-%COMP%]:disabled:hover:active{background-color:#b2b2b2;border:1px solid #b2b2b2;color:#fff}button.ing-action-exceptional[_ngcontent-%COMP%]{background-color:#5da500;border:1px solid #5da500;color:#fff}button.ing-action-exceptional[_ngcontent-%COMP%]:hover, button.ing-action-exceptional[_ngcontent-%COMP%]:focus{background-color:#4d8801;border:1px solid #4d8801;color:#fff}button.ing-action-exceptional[_ngcontent-%COMP%]:hover:active, button.ing-action-exceptional[_ngcontent-%COMP%]:focus:active{background-color:#407200;border:1px solid #407200;color:#fff}button.ing-action-exceptional[_ngcontent-%COMP%]:disabled, button.ing-action-exceptional[_ngcontent-%COMP%]:disabled:hover, button.ing-action-exceptional[_ngcontent-%COMP%]:disabled:hover:active{background-color:#b2b2b2;border:1px solid #b2b2b2;color:#fff}label[_ngcontent-%COMP%]{display:inline-flex;font-family:Roboto,Arial,Helvetica,sans-serif;font-size:1rem;font-weight:400;vertical-align:middle;background-color:transparent;color:#000;margin-left:.25rem;margin-right:.25rem;cursor:pointer}label.ing-disabled[_ngcontent-%COMP%]{color:gray}input[_ngcontent-%COMP%], input[type=text][_ngcontent-%COMP%]{font-family:Roboto,Arial,Helvetica,sans-serif;display:inline-flex;margin:0;background:#ffffff;padding-left:.5rem;padding-right:.5rem;border-color:#ccc;color:#000;border:1px solid #ccc;font-size:1rem;height:2rem;vertical-align:middle;box-sizing:border-box}input[_ngcontent-%COMP%]::placeholder, input[type=text][_ngcontent-%COMP%]::placeholder{-webkit-text-fill-color:#b2b2b2;opacity:1;color:#b2b2b2}input[_ngcontent-%COMP%]:read-only, input[type=text][_ngcontent-%COMP%]:read-only{-webkit-text-fill-color:#000;opacity:1;color:#000;background:#ececec}input[_ngcontent-%COMP%]:disabled, input[type=text][_ngcontent-%COMP%]:disabled{-webkit-text-fill-color:#808080;opacity:1;color:gray;background:#ececec}input[_ngcontent-%COMP%]::selection, input[type=text][_ngcontent-%COMP%]::selection{background:#387ef4;-webkit-text-fill-color:#ffffff;opacity:1;color:#fff}input[_ngcontent-%COMP%]:focus, input[type=text][_ngcontent-%COMP%]:focus{outline-style:none;border-color:#387ef4}form[_ngcontent-%COMP%]   .ng-dirty.ng-touched.ng-invalid[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   .ng-pristine.ng-touched.ng-invalid[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   .ng-dirty.ng-untouched.ng-invalid[_ngcontent-%COMP%], form.ng-submitted[_ngcontent-%COMP%]   .ng-pristine.ng-untouched.ng-invalid[_ngcontent-%COMP%], form.ng-submitted[_ngcontent-%COMP%]   .ng-invalid[_ngcontent-%COMP%]{border-color:#c1272d;background-color:#f9e9ea}form[_ngcontent-%COMP%]   .ng-dirty.ng-touched.ng-invalid[_ngcontent-%COMP%]:focus, form[_ngcontent-%COMP%]   .ng-pristine.ng-touched.ng-invalid[_ngcontent-%COMP%]:focus, form[_ngcontent-%COMP%]   .ng-dirty.ng-untouched.ng-invalid[_ngcontent-%COMP%]:focus, form.ng-submitted[_ngcontent-%COMP%]   .ng-pristine.ng-untouched.ng-invalid[_ngcontent-%COMP%]:focus, form.ng-submitted[_ngcontent-%COMP%]   .ng-invalid[_ngcontent-%COMP%]:focus{border-color:#c1272d}form[_ngcontent-%COMP%]   .ng-dirty.ng-touched.ng-invalid.ing-forms-error-disable-background-color[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   .ng-pristine.ng-touched.ng-invalid.ing-forms-error-disable-background-color[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   .ng-dirty.ng-untouched.ng-invalid.ing-forms-error-disable-background-color[_ngcontent-%COMP%], form.ng-submitted[_ngcontent-%COMP%]   .ng-pristine.ng-untouched.ng-invalid.ing-forms-error-disable-background-color[_ngcontent-%COMP%], form.ng-submitted[_ngcontent-%COMP%]   .ng-invalid.ing-forms-error-disable-background-color[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   .ng-dirty.ng-touched.ng-invalid.wj-control.wj-content[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   .ng-pristine.ng-touched.ng-invalid.wj-control.wj-content[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   .ng-dirty.ng-untouched.ng-invalid.wj-control.wj-content[_ngcontent-%COMP%], form.ng-submitted[_ngcontent-%COMP%]   .ng-pristine.ng-untouched.ng-invalid.wj-control.wj-content[_ngcontent-%COMP%], form.ng-submitted[_ngcontent-%COMP%]   .ng-invalid.wj-control.wj-content[_ngcontent-%COMP%]{background-color:inherit}form[_ngcontent-%COMP%]   .ng-dirty.ng-touched.ng-invalid.wj-control.wj-content[_ngcontent-%COMP%] > .wj-template[_ngcontent-%COMP%] > .wj-input[_ngcontent-%COMP%] > .wj-input-group[_ngcontent-%COMP%] > input[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   .ng-pristine.ng-touched.ng-invalid.wj-control.wj-content[_ngcontent-%COMP%] > .wj-template[_ngcontent-%COMP%] > .wj-input[_ngcontent-%COMP%] > .wj-input-group[_ngcontent-%COMP%] > input[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   .ng-dirty.ng-untouched.ng-invalid.wj-control.wj-content[_ngcontent-%COMP%] > .wj-template[_ngcontent-%COMP%] > .wj-input[_ngcontent-%COMP%] > .wj-input-group[_ngcontent-%COMP%] > input[_ngcontent-%COMP%], form.ng-submitted[_ngcontent-%COMP%]   .ng-pristine.ng-untouched.ng-invalid.wj-control.wj-content[_ngcontent-%COMP%] > .wj-template[_ngcontent-%COMP%] > .wj-input[_ngcontent-%COMP%] > .wj-input-group[_ngcontent-%COMP%] > input[_ngcontent-%COMP%], form.ng-submitted[_ngcontent-%COMP%]   .ng-invalid.wj-control.wj-content[_ngcontent-%COMP%] > .wj-template[_ngcontent-%COMP%] > .wj-input[_ngcontent-%COMP%] > .wj-input-group[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{border-color:#c1272d;background-color:#f9e9ea;border-width:1px;border-style:solid}form[_ngcontent-%COMP%]   .ng-dirty.ng-touched.ng-invalid.wj-control.wj-content[_ngcontent-%COMP%] > .wj-template[_ngcontent-%COMP%] > .wj-input[_ngcontent-%COMP%] > .wj-input-group[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]:focus, form[_ngcontent-%COMP%]   .ng-pristine.ng-touched.ng-invalid.wj-control.wj-content[_ngcontent-%COMP%] > .wj-template[_ngcontent-%COMP%] > .wj-input[_ngcontent-%COMP%] > .wj-input-group[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]:focus, form[_ngcontent-%COMP%]   .ng-dirty.ng-untouched.ng-invalid.wj-control.wj-content[_ngcontent-%COMP%] > .wj-template[_ngcontent-%COMP%] > .wj-input[_ngcontent-%COMP%] > .wj-input-group[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]:focus, form.ng-submitted[_ngcontent-%COMP%]   .ng-pristine.ng-untouched.ng-invalid.wj-control.wj-content[_ngcontent-%COMP%] > .wj-template[_ngcontent-%COMP%] > .wj-input[_ngcontent-%COMP%] > .wj-input-group[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]:focus, form.ng-submitted[_ngcontent-%COMP%]   .ng-invalid.wj-control.wj-content[_ngcontent-%COMP%] > .wj-template[_ngcontent-%COMP%] > .wj-input[_ngcontent-%COMP%] > .wj-input-group[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]:focus{border-color:#c1272d}form[_ngcontent-%COMP%]   .ing-input-error-message[_ngcontent-%COMP%]{color:#c1272d;font-size:.75rem}._ing-input-with-tooltip[_ngcontent-%COMP%]{position:relative;display:block;flex-direction:column;width:100%;margin:0 0 .5rem}._ing-input-with-tooltip[_ngcontent-%COMP%]   input[type][_ngcontent-%COMP%]{width:100%}._ing-input-with-tooltip[_ngcontent-%COMP%]   [role=tooltip][_ngcontent-%COMP%], ._ing-input-with-tooltip[_ngcontent-%COMP%]   .hidetooltip[_ngcontent-%COMP%] + [role=tooltip][_ngcontent-%COMP%]{visibility:hidden;position:absolute;border:1px solid #c1272d;background-color:#c1272d;color:#fff;z-index:530;opacity:1;margin:0;padding:.25rem .5rem;width:100%}._ing-input-with-tooltip[_ngcontent-%COMP%]   [role=tooltip][_ngcontent-%COMP%] > ul[_ngcontent-%COMP%], ._ing-input-with-tooltip[_ngcontent-%COMP%]   [role=tooltip][_ngcontent-%COMP%]   li[_ngcontent-%COMP%], ._ing-input-with-tooltip[_ngcontent-%COMP%]   .hidetooltip[_ngcontent-%COMP%] + [role=tooltip][_ngcontent-%COMP%] > ul[_ngcontent-%COMP%], ._ing-input-with-tooltip[_ngcontent-%COMP%]   .hidetooltip[_ngcontent-%COMP%] + [role=tooltip][_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0}._ing-input-with-tooltip[_ngcontent-%COMP%]   [aria-describedby][_ngcontent-%COMP%]:hover, ._ing-input-with-tooltip[_ngcontent-%COMP%]   [aria-describedby][_ngcontent-%COMP%]:focus{position:relative}._ing-input-with-tooltip[_ngcontent-%COMP%]   [aria-describedby][_ngcontent-%COMP%]:hover + [role=tooltip][_ngcontent-%COMP%], ._ing-input-with-tooltip[_ngcontent-%COMP%]   [aria-describedby][_ngcontent-%COMP%]:focus + [role=tooltip][_ngcontent-%COMP%]{visibility:visible}.ing-new-password-form[_ngcontent-%COMP%]   .ng-dirty.ng-touched.ng-invalid[_ngcontent-%COMP%], .ing-new-password-form[_ngcontent-%COMP%]   .ng-pristine.ng-touched.ng-invalid[_ngcontent-%COMP%], .ing-new-password-form[_ngcontent-%COMP%]   .ng-dirty.ng-untouched.ng-invalid[_ngcontent-%COMP%], .ing-new-password-form.ng-submitted[_ngcontent-%COMP%]   .ng-pristine.ng-untouched.ng-invalid[_ngcontent-%COMP%], .ing-new-password-form.ng-submitted[_ngcontent-%COMP%]   .ng-invalid[_ngcontent-%COMP%], .ing-nested-field[_ngcontent-%COMP%]   .ng-dirty.ng-touched.ng-invalid[_ngcontent-%COMP%], .ing-nested-field[_ngcontent-%COMP%]   .ng-pristine.ng-touched.ng-invalid[_ngcontent-%COMP%], .ing-nested-field[_ngcontent-%COMP%]   .ng-dirty.ng-untouched.ng-invalid[_ngcontent-%COMP%], .ing-nested-field.ng-submitted[_ngcontent-%COMP%]   .ng-pristine.ng-untouched.ng-invalid[_ngcontent-%COMP%], .ing-nested-field.ng-submitted[_ngcontent-%COMP%]   .ng-invalid[_ngcontent-%COMP%]{border-color:#c1272d;background:linear-gradient(225deg,#c1272d .25rem,#ffffff .25rem)}.ing-new-password-form[_ngcontent-%COMP%]   .ng-dirty.ng-touched.ng-invalid[_ngcontent-%COMP%]:focus, .ing-new-password-form[_ngcontent-%COMP%]   .ng-pristine.ng-touched.ng-invalid[_ngcontent-%COMP%]:focus, .ing-new-password-form[_ngcontent-%COMP%]   .ng-dirty.ng-untouched.ng-invalid[_ngcontent-%COMP%]:focus, .ing-new-password-form.ng-submitted[_ngcontent-%COMP%]   .ng-pristine.ng-untouched.ng-invalid[_ngcontent-%COMP%]:focus, .ing-new-password-form.ng-submitted[_ngcontent-%COMP%]   .ng-invalid[_ngcontent-%COMP%]:focus, .ing-nested-field[_ngcontent-%COMP%]   .ng-dirty.ng-touched.ng-invalid[_ngcontent-%COMP%]:focus, .ing-nested-field[_ngcontent-%COMP%]   .ng-pristine.ng-touched.ng-invalid[_ngcontent-%COMP%]:focus, .ing-nested-field[_ngcontent-%COMP%]   .ng-dirty.ng-untouched.ng-invalid[_ngcontent-%COMP%]:focus, .ing-nested-field.ng-submitted[_ngcontent-%COMP%]   .ng-pristine.ng-untouched.ng-invalid[_ngcontent-%COMP%]:focus, .ing-nested-field.ng-submitted[_ngcontent-%COMP%]   .ng-invalid[_ngcontent-%COMP%]:focus{border-color:#c1272d}.ing-new-password-form[_ngcontent-%COMP%]   .ng-dirty.ng-touched.ng-invalid.ing-forms-error-disable-background-color[_ngcontent-%COMP%], .ing-new-password-form[_ngcontent-%COMP%]   .ng-pristine.ng-touched.ng-invalid.ing-forms-error-disable-background-color[_ngcontent-%COMP%], .ing-new-password-form[_ngcontent-%COMP%]   .ng-dirty.ng-untouched.ng-invalid.ing-forms-error-disable-background-color[_ngcontent-%COMP%], .ing-new-password-form.ng-submitted[_ngcontent-%COMP%]   .ng-pristine.ng-untouched.ng-invalid.ing-forms-error-disable-background-color[_ngcontent-%COMP%], .ing-new-password-form.ng-submitted[_ngcontent-%COMP%]   .ng-invalid.ing-forms-error-disable-background-color[_ngcontent-%COMP%], .ing-nested-field[_ngcontent-%COMP%]   .ng-dirty.ng-touched.ng-invalid.ing-forms-error-disable-background-color[_ngcontent-%COMP%], .ing-nested-field[_ngcontent-%COMP%]   .ng-pristine.ng-touched.ng-invalid.ing-forms-error-disable-background-color[_ngcontent-%COMP%], .ing-nested-field[_ngcontent-%COMP%]   .ng-dirty.ng-untouched.ng-invalid.ing-forms-error-disable-background-color[_ngcontent-%COMP%], .ing-nested-field.ng-submitted[_ngcontent-%COMP%]   .ng-pristine.ng-untouched.ng-invalid.ing-forms-error-disable-background-color[_ngcontent-%COMP%], .ing-nested-field.ng-submitted[_ngcontent-%COMP%]   .ng-invalid.ing-forms-error-disable-background-color[_ngcontent-%COMP%]{background:inherit}.ing-forgottenpasswordform[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;flex:1 0 auto;font-family:Roboto,Arial,Helvetica,sans-serif;padding:1.25rem}.ing-forgottenpasswordform[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%;max-width:22.8125rem;font-family:Roboto,Arial,Helvetica,sans-serif;font-size:1rem;font-weight:400;margin-left:auto;margin-right:auto}.ing-forgottenpasswordform[_ngcontent-%COMP%]   label.ing-overfield[_ngcontent-%COMP%]{margin-bottom:.125rem;margin-top:1.25rem}.ing-forgottenpasswordform[_ngcontent-%COMP%]   label.ing-title[_ngcontent-%COMP%]{margin-top:1.25rem;margin-bottom:.625rem;font-weight:700}.ing-forgottenpasswordform[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%;max-width:22.8125rem;font-family:Roboto,Arial,Helvetica,sans-serif;font-size:1rem;font-weight:400;margin-left:auto;margin-right:auto;height:3rem;padding-left:.625rem}.ing-forgottenpasswordform[_ngcontent-%COMP%]   div.ing-modal-horizontal-buttons[_ngcontent-%COMP%]{width:100%;max-width:22.8125rem;font-family:Roboto,Arial,Helvetica,sans-serif;font-size:1rem;font-weight:400;padding:1.25rem 0;margin:0;display:flex;flex-direction:row;justify-content:space-between;flex-wrap:wrap}.ing-forgottenpasswordform[_ngcontent-%COMP%]   div.ing-modal-horizontal-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1 1 auto;width:45%;min-width:5rem;max-width:100%;text-align:center;justify-content:center;margin:0 .625rem 1.25rem 0}.ing-forgottenpasswordform[_ngcontent-%COMP%]   div.ing-modal-horizontal-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] + button[_ngcontent-%COMP%]{margin:0 0 1.25rem .625rem}@media (max-width: 25rem){.ing-forgottenpasswordform[_ngcontent-%COMP%]   div.ing-modal-horizontal-buttons[_ngcontent-%COMP%]{flex-direction:column-reverse;justify-content:center;margin:0 0 1.25rem}.ing-forgottenpasswordform[_ngcontent-%COMP%]   div.ing-modal-horizontal-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 0 1.25rem;width:100%}.ing-forgottenpasswordform[_ngcontent-%COMP%]   div.ing-modal-horizontal-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] + button[_ngcontent-%COMP%]{margin:0 0 1.25rem}}.ing-forgottenpasswordform[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%;max-width:22.8125rem;font-family:Roboto,Arial,Helvetica,sans-serif;font-size:1rem;font-weight:400;margin-left:auto;margin-right:auto}']}),qe})();class Hi{constructor(Tt){mt.merge(this,Tt)}}class wr{}class Jr{}class mo{}class Xs{}let Ts=(()=>{class qe{constructor(q){this.jwt=q,this._clientCache=new Map,this._userCredentialCache=new Map,this._adCredentialCache=new Map,this._domainCache=new Map,this.init()}getDomains(q){return this._clientCache.has(q)?this._clientCache.get(q):[]}getCredential(q){const Oe=[];this._userCredentialCache.forEach(rn=>{Oe.push(rn)});const gt=Oe.findIndex(rn=>rn.userLogin===q);return gt>=0?Oe[gt]:null}updateCredential(q){this._userCredentialCache.has(q.domainId)&&(this._userCredentialCache.get(q.domainId).userPassword=q.userPassword,this._userCredentialCache.delete(q.domainId),this._userCredentialCache.set(q.domainId,q),console.log(this._userCredentialCache))}getTokenPair(q,Oe){let gt;const rn=this.getAccessToken(q,Oe);return rn&&(gt={accessToken:rn,refreshToken:"2215c9ef-2aa9-4a96-9d62-e8ce89191cd4"}),gt}getTokenPairWithAdToken(q,Oe){let gt;const rn=this.getAccessTokenWithAdToken(q,Oe);return rn&&(gt={accessToken:rn,refreshToken:"2215c9ef-2aa9-4a96-9d62-e8ce89191cd4"}),gt}getAccessToken(q,Oe){let gt;if(this._userCredentialCache.has(q.domainId)&&this._domainCache.has(q.domainId)){const rn=this._userCredentialCache.get(q.domainId),wi=this._domainCache.get(q.domainId);rn.clientId===q.clientId&&rn.dataSetLabel===q.dataSetLabel&&rn.userLogin===q.userLogin&&rn.userPassword===q.userPassword&&(gt=this.generatePayload(q.userLogin,wi,q.domainId,q.clientId,q.dataSetLabel,Oe))}return gt}getAccessTokenWithAdToken(q,Oe){if(this._userCredentialCache.has(q.domainId)&&this._domainCache.has(q.domainId)){const gt=this._adCredentialCache.get(q.domainId),rn=this.jwt.decodeToken(q.azureADToken),wi=this._domainCache.get(q.domainId);if(gt.clientId===q.clientId&&"testoutils@groupeisagri.com"===rn.upn)return this.generatePayload("",wi,q.domainId,q.clientId,q.dataSetLabel,Oe)}}generatePayload(q,Oe,gt,rn,wi,Cr){const Uo={IsRoot:"True",Email:"babar@isagri.fr",FirstName:"Bon",LastName:"Scott",Login:q,DomainName:Oe.name,DomainId:[gt.toString(),gt.toString()],Id:"e7b9cf0b-efd6-471f-85da-6dc472153bac",ClientId:rn,DataSetLabel:wi,Radical:"MF",role:["AccesFacture","AccesArticle","Stock"],iss:"http://my.tokenissuer.com",aud:"http://my.website.com",exp:1,nbf:1594294966};Uo.exp=(new Date).getTime()/1e3+Cr;const Vr=JSON.stringify(Uo),Kr=Gt.enc.Utf8.parse(Vr);return"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9."+Gt.enc.Base64.stringify(Kr)+".XuVgc5C0jwrFURp82SHyQySYiFaZyD3pspDZfvltKp8"}init(){this.initToken(),this._clientCache.set("client1",this.initDomains("client1",[{id:1,name:"PremierDomaine",auth:"applicationAccount,microsoftPersonalAccount"},{id:2,name:"MonNomDeDomaine",auth:"applicationAccount"},{id:3,name:"Troisi\xe8meDomaine",auth:"microsoftPersonalAccount"}],"1.23")),this._clientCache.set("client2",this.initDomains("client2",[{id:4,name:"Quatri\xe8meDomaine",auth:"applicationAccount,microsoftWorkOrSchoolAccount"}]))}initDomains(q,Oe,gt="2.0",rn="SharedDomains_Main"){return Oe.map(Cr=>{const Uo={clientId:q,name:Cr.name,domainId:Cr.id,serviceVersion:"5.0.0",baseProperties:{dataSetLabel:rn,versionBase:gt},authenticationModes:ht.none};return Uo.authenticationModes=Cr.auth,this._domainCache.set(Cr.id,Uo),Uo})}initToken(){this._userCredentialCache=new Map,this._userCredentialCache.set(1,{clientId:"client1",dataSetLabel:"SharedDomains_Main",domainId:1,userLogin:"User1",userPassword:"Qy0gs8chwNYGXozsemKjYZCjrq9GhvJ53UnNX4zWfcs=",isRoot:!0,isApplicationAdmin:!1,email:"babar@isagri.fr"}),this._userCredentialCache.set(2,{clientId:"client1",dataSetLabel:"SharedDomains_Main",domainId:2,userLogin:"User2",userPassword:"EHtgVidnq4VDYZCQD0w+TLqHWtXiUuAI6EcPULbT/LA=",isRoot:!1,isApplicationAdmin:!0,email:"babar12@isagri.fr"}),this._userCredentialCache.set(3,{clientId:"client1",dataSetLabel:"SharedDomains_Main",domainId:3,userLogin:"User3",userPassword:"M5tRsKVUR16lYqYn11umWBwPRMjrkXeTdz5IilSFkJg=",isRoot:!1,isApplicationAdmin:!1,email:"babar13@isagri.fr"}),this._userCredentialCache.set(4,{clientId:"client2",dataSetLabel:"SharedDomains_Main",domainId:4,userLogin:"User4",userPassword:"oJtkaggAyzuMcPg0vRba3lqnVd/p4HJc2gsvXF1Bfso="}),this._adCredentialCache=new Map,this._adCredentialCache.set(1,{clientId:"client1",dataSetLabel:"SharedDomains_Main",domainId:1,azureADToken:"not used"}),this._adCredentialCache.set(2,{clientId:"client1",dataSetLabel:"SharedDomains_Main",domainId:2,azureADToken:"not used"}),this._adCredentialCache.set(3,{clientId:"client1",dataSetLabel:"SharedDomains_Main",domainId:3,azureADToken:"not used"}),this._adCredentialCache.set(4,{clientId:"client2",dataSetLabel:"SharedDomains_Main",domainId:4,azureADToken:"not used"})}}return qe.\u0275fac=function(q){return new(q||qe)(C.LFG(Te))},qe.\u0275prov=C.Yz7({token:qe,factory:qe.\u0275fac}),qe})(),ks=(()=>{class qe{constructor(q,Oe){this.authFakeService=q,this.traceService=Oe,this.token="eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJJc1Jvb3QiOiJUcnVlIiwiRW1haWwiOiJiYWJhckBpc2FncmkuZnIiLCJGaXJzdE5hbWUiOiJCb24iLCJMYXN0TmFtZSI6IlNjb3R0IiwiTG9naW4iOiJVc2VyMSIsIkRvbWFpbk5hbWUiOiJQcmVtaWVyRG9tYWluZSIsIkRvbWFpbklkIjpbIjEiLCIxIl0sIklkIjoiZTdiOWNmMGItZWZkNi00NzFmLTg1ZGEtNmRjNDcyMTUzYmFjIiwiQ2xpZW50SWQiOiJDbGllbnQxIiwiRGF0YVNldExhYmVsIjoiU2hhcmVkRG9tYWluc19NYWluIiwiUmFkaWNhbCI6Ik1GIiwicm9sZSI6WyJBY2Nlc0ZhY3R1cmUiLCJBY2Nlc0FydGljbGUiLCJTdG9jayJdLCJpc3MiOiJodHRwOi8vbXkudG9rZW5pc3N1ZXIuY29tIiwiYXVkIjoiaHR0cDovL215LndlYnNpdGUuY29tIiwiZXhwIjoxNTk0MzM4MTY2LCJuYmYiOjE1OTQyOTQ5NjZ9.XuVgc5C0jwrFURp82SHyQySYiFaZyD3pspDZfvltKp8",this._businessWarnings=[]}addBusinessWarning(q){this._businessWarnings.push(q)}clearBusinessWarnings(q){this._businessWarnings=[]}intercept(q,Oe){return this.handleRoute(q,Oe).pipe(pt()).pipe((0,Et.g)(100)).pipe(jt())}handleRoute(q,Oe){if(this.traceService.logDebug(`AuthenticationFakeBackendInterceptor request URL : ${q.urlWithParams}`),q.url.indexOf("v1/domains/")>=0&&"GET"===q.method)return this.getDomainsByClientId(q.url);if(q.url.endsWith("v2/access-tokens")&&"POST"===q.method){const gt=q.body;if(!gt.domainId)return(0,xe._)(()=>new we.UA({status:400,error:{message:"Bad Request"}}));const rn=this.authFakeService.getTokenPair(gt,3600);return this._cachedCredentials=gt,this._adTokenDataSet=null,this.getHttpResponseForToken(rn)}if(q.url.endsWith("v2/access-tokens/access-token-ad")&&"POST"===q.method){const gt=this.authFakeService.getTokenPairWithAdToken(q.body,3600);return this._cachedCredentials=null,this._adTokenDataSet=q.body,this.getHttpResponseForToken(gt)}if(q.url.endsWith("v2/access-tokens/refresh")&&"POST"===q.method){const gt=this._cachedCredentials?this.authFakeService.getTokenPair(this._cachedCredentials,3600):this._adTokenDataSet?this.authFakeService.getTokenPairWithAdToken(this._adTokenDataSet,3600):null;return this.getHttpResponseForToken(gt)}return Oe.handle(q)}getDomainsByClientId(q){let Oe="";try{Oe=new URL(q).pathname.split("/")?.pop()}catch{}const gt=this.authFakeService.getDomains(Oe);return gt&&gt.length>0?(0,ve.of)(new we.Zn({status:200,body:mt.cloneDeep(gt)})):(0,xe._)(()=>new we.UA({status:404,error:{message:"Unknown Error"}}))}getHttpResponseForToken(q){if(q){const gt=new we.Zn({status:this._businessWarnings.length>0?202:201,body:q,headers:new we.WM({BusinessWarnings:this._businessWarnings.join("\n")})});return(0,ve.of)(gt)}return(0,xe._)(()=>new we.UA({status:401,error:{message:"Unauthorised"}}))}}return qe.\u0275fac=function(q){return new(q||qe)(C.LFG(Ts),C.LFG(pi))},qe.\u0275prov=C.Yz7({token:qe,factory:qe.\u0275fac}),qe})(),qo=(()=>{class qe{constructor(q,Oe){this.traceService=q,this.jwt=Oe,this.authFakeService=new Ts(Oe)}intercept(q,Oe){return this.handleRoute(q,Oe).pipe(pt()).pipe((0,Et.g)(100)).pipe(jt())}handleRoute(q,Oe){return this.traceService.logDebug(`UserFakeBackendInterceptor request URL : ${q.urlWithParams}`),q.url.indexOf("api/v1/users/reset-password")>=0&&"PUT"===q.method?this.resetPassword(q):q.url.indexOf("api/v1/users/change-password")>=0&&"POST"===q.method?this.changePassword(q):Oe.handle(q)}resetPassword(q){return"babar@isagri.fr"!==q?.body.userMail?(0,xe._)(new we.UA({status:402,error:{message:"\xc9chec de r\xe9initialisation du mot de passe, v\xe9rifiez que vous avez saisi l'email correspondant \xe0 votre compte utilisateur et qu'un seul compte utilisateur existe pour ce dernier"}})):(0,ve.of)(new we.Zn({status:201}))}changePassword(q){const Oe=q?.body,gt=this.authFakeService.getCredential(Oe.userLogin);return gt||gt.userPassword===Oe.userOldPassword?(gt.userPassword=Oe.userNewPassword,this.authFakeService.updateCredential(gt),(0,ve.of)(new we.Zn({status:201}))):(0,xe._)(new we.UA({status:402,error:{message:"\xc9chec du changement de mot de passe, v\xe9rifiez que vous avez saisi correctement les informations"}}))}}return qe.\u0275fac=function(q){return new(q||qe)(C.LFG(pi),C.LFG(Te))},qe.\u0275prov=C.Yz7({token:qe,factory:qe.\u0275fac}),qe})(),ii=(()=>{class qe{}return qe.\u0275fac=function(q){return new(q||qe)},qe.\u0275mod=C.oAB({type:qe}),qe.\u0275inj=C.cJS({providers:[Ts,ks,qo,{provide:we.TP,useExisting:ks,multi:!0},{provide:we.TP,useExisting:qo,multi:!0}]}),qe})(),qi=(()=>{class qe{onClosing(){localStorage.setItem(pn,JSON.stringify((new Date).getTime()))}}return qe.\u0275fac=function(q){return new(q||qe)},qe.\u0275cmp=C.Xpm({type:qe,selectors:[["ing-closing-app"]],hostBindings:function(q,Oe){1&q&&C.NdJ("beforeunload",function(rn){return Oe.onClosing(rn)},!1,C.Jf7)},decls:0,vars:0,template:function(q,Oe){},encapsulation:2}),qe})();class Br{static initByToken(Tt,q,Oe){let gt;try{gt=JSON.parse(localStorage.getItem(Fi)??"{}")}catch(rn){Oe.logErrorException(rn),Oe.logError("Error parsing local storage token key, an old version may be stored in cache, delete it"),localStorage.removeItem(Fi)}gt?.accessToken&&!q.isTokenExpired(gt.accessToken,0)&&Tt.processApplicationToken(gt)}static authBySSO(Tt,q){return(0,h.Z)(function*(){let Oe;Oe=location.search?location.search:location.hash;const gt=Br.getCredentialFromUrl(Oe);if(gt)return yield Tt.loginBySSO(gt),!0;{const rn=Br.getAdTokenFromLocation();if(rn)return yield q.authenticateAppUserWithAdToken(rn.azureADToken),!0}return!1})()}static getCredentialFromUrl(Tt){const q={domainId:tt._S.getUrlParameter(Tt,"d"),dataSetLabel:tt._S.getUrlParameter(Tt,"dl"),clientId:tt._S.getUrlParameter(Tt,"c"),userLogin:tt._S.getUrlParameter(Tt,"l"),timestamp:tt._S.getUrlParameter(Tt,"t"),key:tt._S.getUrlParameter(Tt,"k")};return q.domainId&&q.clientId&&q.userLogin&&q.key&&q.timestamp?q:null}static getAdTokenFromLocation(){const Tt=window.location.search?window.location.search:window.location.hash?.replace(/^[^?]*\?/i,"?"),Oe={azureADToken:new URLSearchParams(Tt).get("tokenAD")};return Oe.azureADToken?Oe:null}static closingAppComponentInjection(Tt){Tt.get(tt.w1).appendComponent(qi)}static checkApplicationClosedDateValidity(){const Tt=localStorage.getItem(pn);if(Tt){let q;try{q=JSON.parse(Tt)}catch{q=NaN}q&&!isNaN(q)&&(new Date).getTime()-q>6e5&&localStorage.removeItem(Fi)}}static clearTokenIfSSOfailed(Tt){return(0,h.Z)(function*(){Tt.loggedIn()||Tt.cleanUpToken()})()}}var Eo;function _o(qe,Tt,q,Oe,gt){return(0,h.Z)(function*(){try{let rn;Tt.onLogout$.pipe((0,y.q)(1)).subscribe(()=>{try{qe.isLoggedWithMicrosoftAd&&qe.logout()}catch(Cr){gt.logError("Error processing authentication logout"),gt.logErrorException(Cr)}}),Br.checkApplicationClosedDateValidity(),rn=location.search?location.search:location.hash,Eo.storeTokenFromUrl(rn),yield q.load(),qe.checkMicrosoftAuthenticationConfig();const wi=yield Br.authBySSO(Tt,qe);Br.clearTokenIfSSOfailed(Tt),wi||Br.initByToken(Tt,Oe,gt)}catch(rn){throw gt.logError("Authentication initializer error"),gt.logErrorException(rn),rn}})}function ur(){return qe=>{Br.closingAppComponentInjection(qe.injector)}}function No(qe){return function(){let q;return qe.isAuthenticationActivated()&&(q=JSON.parse(localStorage.getItem(Fi)??"{}")),q?.accessToken}}function pr(qe){return{tokenGetter:No(qe),allowedDomains:[]}}(Eo||(Eo={})).storeTokenFromUrl=function Tt(q){const Oe={accessToken:tt._S.getUrlParameter(q,"token"),refreshToken:tt._S.getUrlParameter(q,"refreshToken")??""};(Oe.accessToken||Oe.refreshToken)&&(localStorage.setItem(Fi,JSON.stringify(Oe)),localStorage.removeItem(pn))};let no=(()=>{class qe extends tt.bQ{constructor(q,Oe){super(),this.formModalService=q,this.translocoService=Oe}showChangePassword(q,Oe){const gt=new ei;return Oe&&(gt.domainId=Oe.domainId,gt.clientId=Oe.clientId,gt.userLogin=Oe.userLogin),q&&(gt.token=q),this.formModalService.show(Zt,this.translocoService.selectTranslate("warningChangePasswordTitle",{},"ingAuthentication"),gt)}cancel(){}}return qe.\u0275fac=function(q){return new(q||qe)(C.LFG(u.wF),C.LFG(dt.Vn))},qe.\u0275prov=C.Yz7({token:qe,factory:qe.\u0275fac,providedIn:"root"}),qe})();var wo,Ri;class io{constructor(Tt,q,Oe,gt,rn,wi,Cr,Uo,Vr,Kr){var Lr,zr=this;this.authenticationHttpClient=Tt,this.clientContextDataProvider=q,this.changePasswordApi=Oe,this.idle=gt,this.configurationService=rn,this.jwt=wi,this.traceService=Cr,this.router=Uo,this.onLoginSubject=new et.t(1/0),this.onLogoutSubject=new et.t(1/0),this.onLogin$=this.onLoginSubject.asObservable(),this.onLogout$=this.onLogoutSubject.asObservable(),this.inactivityTimeInSeconds=1800,wo.set(this,void 0),Ri.set(this,void 0),(0,_t.YH)(this,wo,Vr,"f"),(0,_t.YH)(this,Ri,Kr,"f"),this.initIdle(),this.expiredPasswordTokenSubscription=this.authenticationHttpClient.passwordExpiredToken$.subscribe(function(Js){return(Lr=Lr||(0,h.Z)(function*(ss){yield zr.processNewPasswordToken(ss)})).apply(this,arguments)})}initIdle(){this.idle.setIdle(this.inactivityTimeInSeconds),this.idle.setTimeout(1),this.idle.setInterrupts(Ut.WO),this.configurationService.isInSingleFeatureMode()||this.idle.onTimeout.subscribe(()=>{this.logout()})}processNewPasswordToken(Tt){var q=this;return(0,h.Z)(function*(){const Oe=Tt[0],gt=Tt[1];try{yield(0,_t.Q_)(q,wo,"f").showWarningPopup((0,_t.Q_)(q,Ri,"f").selectTranslate("warningUpdatePassword",{},"ingAuthentication")),q.fillContextWithToken(Oe);const rn=yield q.changePasswordApi.showChangePassword(Oe,gt);gt.userPassword=rn,yield q.login(gt),yield(0,tt.Sw)(q.router,window.history)}catch(rn){q.traceService.logError("Error processing password token Expiration "+Oe),q.traceService.logErrorException(rn)}})()}ngOnDestroy(){this.expiredPasswordTokenSubscription.unsubscribe()}login(Tt){var q=this;return(0,h.Z)(function*(){q.fillContextWithCredentials(Tt);const Oe=yield q.authenticationHttpClient.login(Tt);Oe&&q.processApplicationToken(Oe)})()}loginBySSO(Tt){var q=this;return(0,h.Z)(function*(){return q.promiseSSO?q.promiseSSO:(q.fillContextWithExternalCredentials(Tt),q.cleanUpToken(),q.promiseSSO=q.processSSO(Tt),yield q.promiseSSO)})()}processSSO(Tt){var q=this;return(0,h.Z)(function*(){const Oe=yield q.authenticationHttpClient.loginExternal(Tt);q.processApplicationToken(Oe)})()}loginWithAdToken(Tt){var q=this;return(0,h.Z)(function*(){q.fillContextWithAzureAdCredentials(Tt);let Oe=null;try{Oe=yield q.authenticationHttpClient.loginWithAdToken(Tt)}catch(gt){const rn=gt;if(!rn.status)throw new Error("loginWithAdToken error: "+gt);return rn.status}return q.processApplicationToken(Oe),200})()}processApplicationToken(Tt){if(this.jwt.isTokenExpired(Tt.accessToken,0))throw new Error(`Token ${Tt.accessToken} is expired`);localStorage.setItem(Fi,JSON.stringify(Tt)),this.fillContextWithToken(Tt.accessToken),this.configurationService.isInSingleFeatureMode()||this.idle.watch(),Tt.refreshToken&&this.planRefreshToken(Tt.accessToken),this.onLoginSubject.next(this.clientContextDataProvider.getClientContext().authenticatedUser)}logout(){this.idle.stop(),localStorage.removeItem(Fi),this.clientContextDataProvider.clearUser(),this.onLogoutSubject.next(null)}loggedIn(){const Tt=this.jwt.tokenGetter();return!!Tt&&!this.jwt.isTokenExpired(Tt,0)}cleanUpToken(){localStorage.removeItem(Fi)}planRefreshToken(Tt){const Oe=(new Te).decodeToken(Tt),gt=new Date,rn=new Date(1e3*Oe.exp),wi=rn.getTime()-gt.getTime()-1e4;this.traceService.logVerbose("Planning refresh token in "+wi/1e3+" seconds"),wi>1e3?setTimeout(()=>{this.refreshToken()},wi):this.traceService.logError(wi/1e3+"seconds calculated delay is too short to plan a refresh. Access token exipration date is "+rn.toDateString())}refreshToken(){var Tt=this;return(0,h.Z)(function*(){const q=JSON.parse(localStorage.getItem(Fi)??"{}");try{if(!q.refreshToken)throw new Error("refresh token command does not have a required refresh token into local storage "+Fi);Tt.traceService.logVerbose("Refreshing access token with refresh token "+q.refreshToken);const Oe=yield Tt.authenticationHttpClient.refreshAccessToken(q);if(!Oe.accessToken)throw new Error("no refresh token received");if((new Te).isTokenExpired(Oe.accessToken))throw new Error("received access token recevied is expired !");localStorage.setItem(Fi,JSON.stringify(Oe)),Tt.planRefreshToken(Oe.accessToken)}catch(Oe){Tt.traceService.logError("Echec du refresh de l'access token applicatif"),Tt.traceService.logErrorException(Oe),Tt.logout()}})()}fillContextWithToken(Tt){const q=this.clientContextDataProvider.getClientContext(),Oe=this.jwt.decodeToken(Tt);q.userId=Oe.Id,q.clientId=Oe.ClientId,q.domainId=Array.isArray(Oe.DomainId)?+Oe.DomainId[0]:+Oe.DomainId,q.dataSetLabel=Oe.DataSetLabel,q.radicalApplication=Oe.Radical;const gt=this.createUserContext(Oe);q.authenticatedUser=gt,this.clientContextDataProvider.setClientContext(q)}fillContextWithCredentials(Tt){const q=new tt.RY;q.userId=Tt.userLogin,q.clientId=Tt.clientId,q.domainId=Tt.domainId,q.dataSetLabel=Tt.dataSetLabel,this.clientContextDataProvider.setClientContext(q)}fillContextWithExternalCredentials(Tt){const q=new tt.RY;q.userId=Tt.userLogin,q.clientId=Tt.clientId,q.domainId=parseInt(Tt.domainId),q.dataSetLabel=Tt.dataSetLabel,this.clientContextDataProvider.setClientContext(q)}fillContextWithAzureAdCredentials(Tt){const q=new tt.RY;q.clientId=Tt.clientId,q.domainId=Tt.domainId,q.dataSetLabel=Tt.dataSetLabel,this.clientContextDataProvider.setClientContext(q)}createUserContext(Tt){const q=new tt.St;return q.id=Tt.Id,q.login=Tt.Login,q.firstName=Tt.FirstName,q.lastName=Tt.LastName,q.email=Tt.Email,q.isRoot="True"===Tt.IsRoot,q.IsApplicationAdmin="True"===Tt.IsApplicationAdmin,q.clientId=Tt.UserClientId,q}}wo=new WeakMap,Ri=new WeakMap,io.\u0275fac=function(Tt){return new(Tt||io)(C.LFG(Qe),C.LFG(tt.kv),C.LFG(wr),C.LFG(Ut.hX),C.LFG(tt.st),C.LFG(Te),C.LFG(tt.lr),C.LFG(xn.F0),C.LFG(tt.kS),C.LFG(dt.Vn))},io.\u0275prov=C.Yz7({token:io,factory:io.\u0275fac});let Co=(()=>{class qe extends tt.bQ{constructor(q,Oe){super(),this.auth=q,this.router=Oe}canActivate(q,Oe){let gt;return Oe&&(gt=Oe.url),this.getPromise(gt)}canActivateChild(q,Oe){return this.canActivate(q,Oe)}canLoad(q,Oe){let gt;return Oe&&(gt=Oe.reduce((rn,wi)=>`${rn}/${wi.path}`,"")),this.getPromise(gt)}getPromise(q){var Oe=this;return(0,h.Z)(function*(){return void 0!==Oe.auth.promiseSSO?(yield Oe.auth.loginBySSO(null),!0):yield new Promise(gt=>{if(Oe.auth.loggedIn())gt(!0);else{let rn;q&&(rn={state:{redirect:q}}),Oe.router.navigate(["login"],rn),gt(!1)}})})()}}return qe.\u0275fac=function(q){return new(q||qe)(C.LFG(io),C.LFG(xn.F0))},qe.\u0275prov=C.Yz7({token:qe,factory:qe.\u0275fac}),qe})(),Ps=(()=>{class qe extends tt.bQ{constructor(q,Oe,gt){super(),this.traceService=gt,this.domains=[],this.http=q,this.clientContextDataProvider=Oe}getApplicationDomainsList(q){if(!q)return(0,ve.of)([]);if(!this.domains.some(gt=>gt.clientId===q)){const gt=this.transformContext();return this.http.get("v1/domains/"+q,{headers:gt,withCredentials:!1}).pipe((0,Ce.U)(rn=>{for(const wi of rn)wi.authenticationModes=this.convertAuthenticationModes(wi.authenticationModes);return this.domains=rn,this.domains}),(0,ue.K)(rn=>(this.traceService.logErrorException(rn),this.domains=[],(0,ve.of)(this.domains))))}return(0,ve.of)(this.domains)}transformContext(){const q=this.clientContextDataProvider.getClientContext();return tt.pz.buildHeadersWithContext(q)}convertAuthenticationModes(q){let Oe=q?.split(",").map(gt=>{try{const rn=gt[0].toLowerCase()+gt.substring(1,gt.length);return ht[rn]}catch(rn){this.traceService.logError(`invalid authentication mode '${gt}':`),this.traceService.logErrorException(rn)}}).reduce((gt,rn)=>rn|gt)??ht.none;return Oe===ht.none&&(Oe=ht.applicationAccount),Oe}}return qe.\u0275fac=function(q){return new(q||qe)(C.LFG(we.eN),C.LFG(tt.kv),C.LFG(tt.lr))},qe.\u0275prov=C.Yz7({token:qe,factory:qe.\u0275fac}),qe})(),po=(()=>{class qe extends tt.bQ{constructor(q,Oe,gt,rn){super(),this.translocoService=gt,this.scope=rn,this.router=q,this.modal=Oe}canActivate(q,Oe){if(q&&q.queryParams){const gt=Ne.toCredential(q.queryParams.credentials);if(this.isValid(gt.domainId)&&this.isValid(gt.dataSetLabel)&&this.isValid(gt.clientId))return!0}return this.modal.showError(this.translocoService.translate("ingAuthentication.sendPasswordCanActivate")),!1}isValid(q){return void 0!==q&&"undefined"!==q}}return qe.\u0275fac=function(q){return new(q||qe)(C.LFG(xn.F0),C.LFG(tt.kS),C.LFG(dt.Vn),C.LFG(dt.Hn))},qe.\u0275prov=C.Yz7({token:qe,factory:qe.\u0275fac}),qe})(),ms=(()=>{class qe extends tt.bQ{constructor(q){super(),this.httpClient=q,this.URI="v1/users"}resetPassword(q){return this.httpClient.put(`${this.URI}/reset-password`,q)}changePassword(q,Oe){const gt=`${this.URI}/change-password/${q}`,rn={userLogin:Oe.userLogin,userOldPassword:"",userNewPassword:Ae.cryptPassword(Oe.userNewPassword),userConfirmNewPassword:Ae.cryptPassword(Oe.userConfirmNewPassword)};return this.httpClient.post(gt,rn)}}return qe.\u0275fac=function(q){return new(q||qe)(C.LFG(we.eN))},qe.\u0275prov=C.Yz7({token:qe,factory:qe.\u0275fac}),qe})();class _s{}let Oo=(()=>{class qe{get isLoggedWithMicrosoftAd(){return this._isLoggedWithMicrosoftAd}constructor(q,Oe,gt,rn,wi){this.tokenAdAuthentication=q,this.modalAwaiter=Oe,this.appConfig=gt,this.jwt=rn,this.trace=wi,this._isLoggedWithMicrosoftAd=!1}get isEnabled(){return this.isAzureAuthenticationActivated}checkMicrosoftAuthenticationConfig(){if(this.appConfig&&this.appConfig.getMsAuthenticationRedirectUri()){if(!tt._S.isValidHttpUrl(this.appConfig.getMsAuthenticationRedirectUri()))throw new Error(`Base url of microsoft authentication configuration is not a valid url: ${this.appConfig?.getMsAuthenticationRedirectUri()}`);if(this.appConfig.getMsAuthenticationAppId()&&this.appConfig.getMsAuthenticationAppCode())throw new Error(`Microsoft authentication appName (${this.appConfig.getMsAuthenticationAppCode}) and activeDirectoryApplicationId (${this.appConfig.getMsAuthenticationAppId})\n        are both configured in the app's environment and only one of them should be configured.`);if(!this.appConfig.getMsAuthenticationAppCode()&&!this.appConfig.getMsAuthenticationAppId())throw new Error("Microsoft authentication appName or activeDirectoryApplicationId are not configured in the app's environment, and at least one of them should be configured.");this.isAzureAuthenticationActivated=!0}else this.isAzureAuthenticationActivated=!1}signInWithMicrosoft(q){var Oe=this;return(0,h.Z)(function*(){Oe.checkMicrosoftAuthenticationConfig();const gt=Ne.readRegisteredCredentials()??new Hi({});gt.clientId=q.clientId,gt.domainId=q.domainId,Ne.saveCredentials(gt);const rn=Oe.getPostLoginUri();if(gt?.azureADToken&&Oe.isTokenValid(gt.azureADToken))return yield Oe.loginWithAdToken(gt),void window.location.replace(rn);const wi=`${Oe.appConfig.getMsAuthenticationRedirectUri()}/redirectToAzureAD?command=login&${Oe.currentClientParam}&redirect_uri=${encodeURIComponent(rn)}`;window.location.replace(wi)})()}getPostLoginUri(){let q=window.history?.state?.redirect??"";return q.endsWith("/login")&&(q=""),location.origin+location.pathname+(location.hash&&q?"#":"")+q}get currentClientParam(){let q="";return this.appConfig.getMsAuthenticationAppCode()&&(q=`azureApplicationCode=${this.appConfig.getMsAuthenticationAppCode()}`),this.appConfig.getMsAuthenticationAppId()&&(q=`azureApplicationId=${this.appConfig.getMsAuthenticationAppId()}`),q}authenticateAppUserWithAdToken(q){var Oe=this;return(0,h.Z)(function*(){if(!Oe.isTokenValid(q))throw new Error("accessToken is expired");Oe.checkMicrosoftAuthenticationConfig();const gt=Ne.readRegisteredCredentials();if(!gt.clientId)throw new Error(`There was no ClientId saved into local storage ${Je} before sign in to Microsoft`);if(!gt.domainId)throw new Error(`There was no DomainId saved into local storage ${Je} before sign in to Microsoft`);gt.azureADToken=q,Ne.saveCredentials(gt),yield Oe.loginWithAdToken(gt)})()}loginWithAdToken(q){var Oe=this;return(0,h.Z)(function*(){const gt=yield Oe.tokenAdAuthentication.loginWithAdToken(q);gt>=400?(401!==gt&&Oe.trace.logError("Invalid status code returned by loginWithAdToken: "+gt),Oe.logout()):Oe._isLoggedWithMicrosoftAd=!0})()}isTokenValid(q){const Oe=this.jwt.decodeToken(q),gt=new Date(1e3*Oe.exp);return new Date<gt}logout(){var q=this;return(0,h.Z)(function*(){Ne.cleanAdToken();const Oe=encodeURIComponent(`${location.origin}${location.pathname}#/login`),gt=`${q.appConfig.getMsAuthenticationRedirectUri()}/redirectToAzureAD?command=logout&${q.currentClientParam}&redirect_uri=${Oe}`;yield q.modalAwaiter.waitForCurrentModals(),window.location.replace(gt)})()}}return qe.\u0275fac=function(q){return new(q||qe)(C.LFG(_s),C.LFG(tt.dW),C.LFG(tt.st),C.LFG(Te),C.LFG(tt.lr))},qe.\u0275prov=C.Yz7({token:qe,factory:qe.\u0275fac}),qe})(),Is=(()=>{class qe{static forRoot(){return{ngModule:qe,providers:[{provide:C.ip1,useFactory:_o,deps:[Ei,sn,tt.lm,Te,tt.lr],multi:!0},{provide:C.tb,multi:!0,useFactory:ur},po,{provide:Jr,useExisting:no},{provide:wr,useExisting:no},{provide:Xs,useClass:ms},(0,tt.de)(on,tt.in.verbose,Wi),Qe,io,{provide:sn,useExisting:io},{provide:_s,useExisting:io},{provide:Ei,useClass:Oo},{provide:mo,useClass:Co},{provide:gn,useClass:Ps}]}}}return qe.\u0275fac=function(q){return new(q||qe)},qe.\u0275mod=C.oAB({type:qe}),qe.\u0275inj=C.cJS({providers:[{provide:dt.Hn,useValue:"ingAuthentication",multi:!0}],imports:[Le.ez,rt.forRoot({jwtOptionsProvider:{provide:In,useFactory:pr,deps:[tt.st]}}),tt.jH]}),qe})(),hr=(()=>{class qe extends Ei{constructor(){super(...arguments),this._isLogged=!1,this.onValidADTokenDatasetSubject=new ee.x}checkMicrosoftAuthenticationConfig(){}logout(){this._isLogged=!1}get isLoggedWithMicrosoftAd(){return this._isLogged}get onValidADTokenDataset$(){return this.onValidADTokenDatasetSubject.asObservable()}get isEnabled(){return!0}signInWithMicrosoft(){this._isLogged=!0}authenticateAppUserWithAdToken(q){return Promise.resolve()}}return qe.\u0275fac=function(){let Tt;return function(Oe){return(Tt||(Tt=C.n5z(qe)))(Oe||qe)}}(),qe.\u0275prov=C.Yz7({token:qe,factory:qe.\u0275fac}),qe})(),Nr=(()=>{class qe{constructor(q){this.clientContextDataProvider=q,this.onLogin$=new et.t(1/0),this.onLogout$=new et.t(1/0),this.inactivityTimeInSeconds=1800,this.logged=!1,this.loginWithAdTokenReturnedStatusCode=200,this.fakeJwtService={decodeToken:Oe=>({Id:"XXS",ClientId:Oe,DomainId:[0],DataSetLabel:"Shared_Main",Radical:"MF",Login:"user_xxs",FirstName:"pr\xe9nom-xxs",LastName:"nom-xxs",Email:"xxs@isagri.fr",IsRoot:!0,UserClientId:"XXS"})}}loginWithAdToken(q){var Oe=this;return(0,h.Z)(function*(){return Oe.loginWithAdTokenReturnedStatusCode})()}get microsoftAuthenticationUrl(){return"https://login.live.com"}get hasMicrosoftAuthenticationConfiguration(){return!0}login(q){var Oe=this;return(0,h.Z)(function*(){Oe.logged=!0;const gt=function Nn(){const qe=new tt.RY;qe.radicalApplication="MF",qe.clientId="C_12345",qe.dataSetLabel="Shared_Main",qe.domainId=12345,qe.userId="XXS",qe.password="X_X_S";const Tt=new tt.St;return Tt.id=qe.userId,Tt.login="user_xxs",Tt.firstName="pr\xe9nom-xxs",Tt.lastName="nom-xxs",Tt.email="xxs@isagri.fr",Tt.isRoot=!0,Tt.clientId=qe.clientId,qe.authenticatedUser=Tt,qe}();return Oe.clientContextDataProvider.setClientContext(gt),new Promise((rn,wi)=>{Oe.onLogin$.next(gt.authenticatedUser),rn()})})()}logout(){this.logged=!1,this.onLogout$.next(null)}loggedIn(){return this.logged}processApplicationToken(q){const Oe=this.fillContext(q.accessToken);this.logged=!0,this.onLogin$.next(Oe)}cleanUpToken(){localStorage.removeItem(Fi)}loginBySSO(q){var Oe=this;return(0,h.Z)(function*(){return Oe.promiseSSO||(Oe.promiseSSO=Promise.resolve(!0)),Oe.promiseSSO})()}fillContext(q){const Oe=this.clientContextDataProvider.getClientContext(),gt=this.fakeJwtService.decodeToken(q);Oe.userId=gt.Id,Oe.currentUiCulture="Fr-fr",Oe.clientId=gt.ClientId,Oe.domainId=+gt.DomainId[0],Oe.dataSetLabel=gt.DataSetLabel,Oe.radicalApplication=gt.Radical;const rn=new tt.St;return rn.id=gt.Id,rn.login=gt.Login,rn.firstName=gt.FirstName,rn.lastName=gt.LastName,rn.email=gt.Email,rn.isRoot=gt.IsRoot,rn.clientId=gt.UserClientId,Oe.authenticatedUser=rn,this.clientContextDataProvider.setClientContext(Oe),rn}}return qe.\u0275fac=function(q){return new(q||qe)(C.LFG(tt.kv))},qe.\u0275prov=C.Yz7({token:qe,factory:qe.\u0275fac}),qe})(),Do=(()=>{class qe extends Qe{constructor(q,Oe,gt){super(q,Oe,gt),this.passwordExpiredToken$=(0,ve.of)(["token",{clientId:"Client1",domainId:0,dataSetLabel:"Le Royaume de Babar",userLogin:"Babar",userPassword:"Peneloppe"}])}login(q){return Promise.reject(new Error("Not Implemented"))}loginWithAdToken(q){return Promise.reject(new Error("Not Implemented"))}loginExternal(q){return Promise.reject(new Error("Not Implemented"))}changePassword(q,Oe){return(0,ve.of)("ChangePassword")}changePasswordForExpired(q){return(0,ve.of)("ChangePassword")}sendPassword(q){return"Mooooo"===q.clientId?(0,xe._)(()=>new Error):(0,ve.of)(new Object)}}return qe.\u0275fac=function(q){return new(q||qe)(C.LFG(we.eN),C.LFG(tt.kv),C.LFG(tt.st))},qe.\u0275prov=C.Yz7({token:qe,factory:qe.\u0275fac}),qe})();class co{}let go=(()=>{class qe extends tt.bQ{constructor(q){super(),this.authorization=q}canActivate(q){return this.canActivateOrLoad(q)}canActivateChild(q,Oe){return this.canActivate(q)}canLoad(q){return this.canActivateOrLoad(q)}canActivateOrLoad(q){return q&&q.data&&q.data.rightId?this.authorization.isAuthorized(q.data.rightId):Promise.resolve(!1)}}return qe.\u0275fac=function(q){return new(q||qe)(C.LFG(co))},qe.\u0275prov=C.Yz7({token:qe,factory:qe.\u0275fac}),qe})();class Fs{}let uo=(()=>{class qe extends tt.bQ{constructor(q,Oe){super(),this.authProvider=q,this.authentication=Oe,this.authentication.onLogin$.subscribe(gt=>{this.loadRights(gt)})}isAuthorized(q){return this.authProvider.isAuthorized(q)}loadRights(q){this.authProvider.loadRights(q)}}return qe.\u0275fac=function(q){return new(q||qe)(C.LFG(Fs),C.LFG(sn))},qe.\u0275prov=C.Yz7({token:qe,factory:qe.\u0275fac}),qe})();class Di{}let ro=(()=>{class qe{static forRoot(){return{ngModule:qe,providers:[]}}}return qe.\u0275fac=function(q){return new(q||qe)},qe.\u0275mod=C.oAB({type:qe}),qe.\u0275inj=C.cJS({providers:[{provide:co,useClass:uo},{provide:Di,useClass:go},(0,tt.de)("authorization",tt.in.verbose,pi)]}),qe})();const Ar=[{path:"login",component:Vn},{path:"forgotten-password",component:Ui,canActivate:[po]}];let ys=(()=>{class qe{}return qe.\u0275fac=function(q){return new(q||qe)},qe.\u0275mod=C.oAB({type:qe}),qe.\u0275inj=C.cJS({imports:[xn.Bz.forChild(Ar),xn.Bz]}),qe})(),Qi=(()=>{class qe{static forTests(q){return{ngModule:qe,providers:[{provide:wr,useClass:no},{provide:sn,useClass:Nr},{provide:Qe,useClass:Do},{provide:Ei,useClass:hr},(0,tt.de)(on,tt.in.verbose,Wi),q]}}}return qe.\u0275fac=function(q){return new(q||qe)},qe.\u0275mod=C.oAB({type:qe}),qe.\u0275inj=C.cJS({providers:[{provide:dt.Hn,useValue:"ingAuthentication",multi:!0}],imports:[Le.ez,V.u5,V.UX,tt.dj,u.or,u.Fq,u.IB,En.wJ,u.zk,tt.jH,ys]}),qe})(),Vs=(()=>{class qe{}return qe.\u0275fac=function(q){return new(q||qe)},qe.\u0275mod=C.oAB({type:qe}),qe.\u0275inj=C.cJS({imports:[Le.ez,Is.forRoot(),Qi,tt.jH,Is]}),qe})()},2975:(cn,Ve,G)=>{"use strict";G.d(Ve,{Fq:()=>wp,yB:()=>Bh,or:()=>Va,si:()=>Vh,X7:()=>bu,wF:()=>_u,zk:()=>yu,gl:()=>Hh,cu:()=>zh,IB:()=>Ep,dn:()=>jh,j3:()=>pl,io:()=>Xt});var h={};G.r(h),G.d(h,{AllowDragging:()=>Je,AllowMerging:()=>Pt,AllowPinning:()=>Dn,AllowResizing:()=>si,AllowSorting:()=>yn,AutoSizeMode:()=>qt,CellEditEndingEventArgs:()=>pt,CellFactory:()=>Fn,CellRange:()=>W,CellRangeEventArgs:()=>me,CellType:()=>X,ClipStringOptions:()=>Ti,Column:()=>$t,ColumnCollection:()=>Ut,ColumnGroup:()=>Ft,ColumnGroupCollection:()=>Pn,DataMap:()=>Z,DataMapEditor:()=>b,FlexGrid:()=>It,FormatItemEventArgs:()=>ft,GridPanel:()=>de,GroupRow:()=>rt,HeadersVisibility:()=>On,HitTestInfo:()=>ut,KeyAction:()=>Ln,MergeManager:()=>Yt,Row:()=>Lt,RowCol:()=>Te,RowColCollection:()=>_t,RowColFlags:()=>In,RowCollection:()=>fn,SelMove:()=>xn,SelectedState:()=>jt,SelectionMode:()=>Et,_AddNewHandler:()=>Ht,_ColumnGroupHandler:()=>un,_CustomEditor:()=>on,_EditHandler:()=>ln,_ImeHandler:()=>Ue,_KeyboardHandler:()=>Wi,_MouseHandler:()=>Ae,_NewRowTemplate:()=>Ge,_SelectionHandler:()=>En,_getSafariVer:()=>Le,softInput:()=>ni});var C={};G.r(C),G.d(C,{BooleanChecker:()=>Zt,Selector:()=>Qe});var V={};G.r(V),G.d(V,{DirectiveCellFactoryBase:()=>Zn,GridCellTemplateType:()=>Vn,softGridDetail:()=>gn,softInput:()=>sn});var ee={};G.r(ee),G.d(ee,{Axis:()=>ys,AxisCollection:()=>Vs,AxisType:()=>Di,ChartElement:()=>Vr,ChartTooltip:()=>vs,ChartType:()=>xi,DataArray:()=>Js,DataLabel:()=>Fs,DataLabelBase:()=>go,DataLabelRenderEventArgs:()=>co,DataPoint:()=>_s,FlexChart:()=>Oa,FlexChartBase:()=>Nr,FlexChartCore:()=>Ai,FlexPie:()=>Hr,HitTestInfo:()=>Kr,ImageFormat:()=>os,LabelPosition:()=>sr,Legend:()=>ms,LineMarker:()=>mn,LineMarkerAlignment:()=>kt,LineMarkerInteraction:()=>Ct,LineMarkerLines:()=>Se,Marker:()=>Lr,Orientation:()=>Ao,OverlappingLabels:()=>ro,Palettes:()=>no,PieDataLabel:()=>uo,PieLabelPosition:()=>Do,PlotArea:()=>wo,PlotAreaCollection:()=>gs,Position:()=>Nn,RenderEventArgs:()=>Oo,SelectionMode:()=>hr,Series:()=>Xo,SeriesBase:()=>Lo,SeriesEventArgs:()=>ss,SeriesRenderingEventArgs:()=>Is,SeriesVisibility:()=>zr,Stacking:()=>Wr,SvgRenderEngine:()=>po,TickMark:()=>Ar,_AreaPlotter:()=>To,_BarPlotter:()=>Ss,_BasePlotter:()=>xs,_BubblePlotter:()=>Rr,_CircleArea:()=>rn,_DataInfo:()=>$i,_DataPoint:()=>q,_DonutSegment:()=>ma,_FinancePlotter:()=>xr,_FunnelPlotter:()=>Qs,_FunnelSegment:()=>Pr,_HitResult:()=>Cr,_HitTester:()=>Uo,_KeyWords:()=>sa,_LinePlotter:()=>Hn,_LinesArea:()=>wi,_MeasureOption:()=>Oe,_PieSegment:()=>Hs,_RectArea:()=>gt,_Spline:()=>pr,_SvgRenderEngine:()=>Co,_VolumeHelper:()=>No});var pe={};G.r(pe),G.d(pe,{BulletGraph:()=>jo,Gauge:()=>Mn,GaugeDirection:()=>Un,LinearGauge:()=>br,NeedleLength:()=>Xn,NeedleShape:()=>qn,RadialGauge:()=>hi,Range:()=>zt,ShowText:()=>an});var ue={};G.r(ue),G.d(ue,{ColumnFilter:()=>qa,ColumnFilterEditor:()=>R,ConditionFilter:()=>ml,ConditionFilterEditor:()=>za,FilterCondition:()=>Wa,FilterType:()=>Or,FlexGridFilter:()=>ka,Operator:()=>Ho,ValueFilter:()=>eo,ValueFilterEditor:()=>Dl});var ve={};G.r(ve),G.d(ve,{BorderStyle:()=>ji,DefinedName:()=>Xa,HAlign:()=>ci,TextDirection:()=>zo,TextOrientation:()=>ea,VAlign:()=>fr,WorkSheet:()=>Xi,Workbook:()=>hn,WorkbookBorder:()=>ba,WorkbookBorderSetting:()=>Qo,WorkbookCell:()=>Dr,WorkbookColumn:()=>yi,WorkbookFill:()=>Ns,WorkbookFont:()=>Po,WorkbookFrozenPane:()=>oo,WorkbookNote:()=>Zr,WorkbookRow:()=>er,WorkbookStyle:()=>so,WorkbookTable:()=>Fa,WorkbookTableBandedStyle:()=>wa,WorkbookTableBorder:()=>Tl,WorkbookTableColumn:()=>vo,WorkbookTableCommonStyle:()=>is,WorkbookTableStyle:()=>Ms,WorkbookTextRun:()=>tc,_SyncPromise:()=>ta,_WorkbookExtraColumn:()=>Si,_map:()=>aa,_xlsx:()=>il,useJSZip:()=>bs});var re={};G.r(re),G.d(re,{FlexGridXlsxConverter:()=>la,HtmlEntityConversion:()=>rc,XlsxFormatItemEventArgs:()=>gc,_StyleCache:()=>ic,_blobToBuffer:()=>mc,softDetail:()=>na,softMultiRow:()=>Ur,softTransposed:()=>nc,softTransposedMultiRow:()=>Il});var le={};G.r(le),G.d(le,{AutoFillOperation:()=>js,AutoFilledEventArgs:()=>Gd,AutoFillingEventArgs:()=>xu,ColumnSortDescription:()=>ol,DefinedName:()=>ad,DefinedNameCollection:()=>Wp,DivideByZeroError:()=>Ca,DraggingRowColumnEventArgs:()=>sl,DroppingRowColumnEventArgs:()=>Wd,FlexSheet:()=>ia,FlexSheetColumnFilter:()=>Su,FlexSheetColumnFilterEditor:()=>Mu,FlexSheetConditionFilter:()=>Qh,FlexSheetFilter:()=>tf,FlexSheetPanel:()=>ra,FlexSheetValueFilter:()=>ef,FlexSheetValueFilterEditor:()=>sd,FormulaError:()=>Ko,HeaderRow:()=>as,NameError:()=>vl,NotAvailableError:()=>Al,NullError:()=>Ja,NumericError:()=>Ic,ReferenceError:()=>Vl,RowColumnChangedEventArgs:()=>La,Sheet:()=>cd,SheetCollection:()=>sf,SortManager:()=>Jc,SyntaxError:()=>jr,Table:()=>Ac,TableColumn:()=>Hl,TableSection:()=>J,TableStyle:()=>K,UndoStack:()=>Ga,UnknownError:()=>rd,UnknownFunctionEventArgs:()=>Ud,ValueError:()=>Zi,_BinaryExpression:()=>dd,_CalcEngine:()=>Eu,_CellMergeAction:()=>Ci,_CellRangeExpression:()=>So,_CellStyleAction:()=>kn,_ColumnResizeAction:()=>Ie,_ColumnsChangedAction:()=>ct,_ContextMenu:()=>Oc,_CutAction:()=>Ls,_EditAction:()=>se,_ErrorMessages:()=>ai,_Expression:()=>Jn,_FillAction:()=>hs,_FilteringAction:()=>Na,_FlexSheetCellFactory:()=>Qc,_FlexSheetSelectionHandler:()=>nf,_FormulaErrorHelper:()=>Gs,_FunctionDefinition:()=>fi,_FunctionExpression:()=>kc,_MoveCellsAction:()=>ho,_OpMap:()=>$d,_RowResizeAction:()=>$e,_RowsChangedAction:()=>Qt,_SheetContextMenu:()=>rf,_SheetTabContextMenu:()=>ld,_SheetTabs:()=>ud,_SmartTag:()=>Rc,_SortColumnAction:()=>Bi,_TabHolder:()=>Up,_TableAction:()=>Qa,_TableSettingAction:()=>ws,_Token:()=>xa,_TokenID:()=>_i,_TokenType:()=>lr,_UnaryExpression:()=>Kd,_UnboundSortDescription:()=>af,_UndoAction:()=>j,_isEditingCell:()=>Ta,_isFormula:()=>Fo,softInput:()=>Jh,softXlsx:()=>zp});var U={};G.r(U),G.d(U,{Accordion:()=>fd,AccordionPane:()=>eu,DropPosition:()=>Sa,FormatNodeEventArgs:()=>qd,Tab:()=>Du,TabPanel:()=>Pa,TreeNode:()=>Ma,TreeNodeDragDropEventArgs:()=>sc,TreeNodeEventArgs:()=>va,TreeView:()=>rs,_BindingArray:()=>_c,_TreeDragDropManager:()=>tu});var we,s,b,y=G(4650),O=G(4006),$=G(330),Q=G(6895),oe=G(9646),Ce=G(7579),xe=G(4968),be=G(2722),ke=G(4128),Ze=G(5698),Ke=G(262),De=G(5707),et=G(9794),tt=G(238),u=G(7665),dt=G(4103),mt=(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)},function(t,e){function n(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Gt=null;function Le(){return Gt}if((0,u.isSafari)()){var H=navigator.userAgent.match(/version\/([\d\.]+)/i);if(null!=H){var g=H[1],F=(H=g.match(/(\d+)/g)).map(function(s){return parseInt(s)});Gt={full:g,major:F[0],minor:F[1]}}}!function(s){s[s.AutoComplete=0]="AutoComplete",s[s.DropDownList=1]="DropDownList",s[s.RadioButtons=2]="RadioButtons"}(b||(b={}));var X,Z=function(){function s(t,e,n){this._keyPath="",this._displayPath="",this._sortByVal=!0,this._editable=!1,this._serK=!0,this.mapChanged=new u.Event,(0,u.isArray)(t)&&!e&&!n&&(t=t.map(function(i){return{value:i}}),e=n="value"),this._cv=(0,u.asCollectionView)(t),this._keyPath=(0,u.asString)(e,!1),this._displayPath=(0,u.asString)(n,!1),this._cv.collectionChanged.addHandler(this.onMapChanged,this)}return Object.defineProperty(s.prototype,"sortByDisplayValues",{get:function(){return this._sortByVal},set:function(t){this._sortByVal=(0,u.asBoolean)(t)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"serializeKeys",{get:function(){return this._serK},set:function(t){if((t=(0,u.asBoolean)(t))!==this._serK){var e=this._map,n=e&&e.size;this._map=null,this._serK=t,n&&this.onMapChanged(u.EventArgs.empty)}},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"collectionView",{get:function(){return this._cv},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"selectedValuePath",{get:function(){return this._keyPath},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"displayMemberPath",{get:function(){return this._displayPath},enumerable:!0,configurable:!0}),s.prototype.getDataItem=function(t){var e=this;if(!this._map){var n=this._cv.sourceCollection,i=new u._Map(this.serializeKeys);(0,u.isArray)(n)&&this._keyPath&&n.forEach(function(r){var o=r[e._keyPath];i.has(o)||i.set(o,r)}),this._map=i}return this._map.get(t)},s.prototype.getDisplayValue=function(t){var e=this._displayPath,n=this.getDataItem(t);return e&&n?n[e]:t},s.prototype.getKeyValue=function(t,e){var n=this._displayPath,i=this._indexOf(t,n,e,!0);return i<0&&(i=this._indexOf(t,n,e,!1)),i>-1?this._cv.sourceCollection[i][this._keyPath]:null},s.prototype.getDisplayValues=function(t){var e=this;return this._cv&&this._displayPath?this._cv.items.map(function(n){return n[e._displayPath]}):[]},s.prototype.getKeyValues=function(){var t=this;return this._cv&&this._keyPath?this._cv.items.map(function(e){return e[t._keyPath]}):[]},Object.defineProperty(s.prototype,"isEditable",{get:function(){return this._editable},set:function(t){this._editable=(0,u.asBoolean)(t)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"search",{get:function(){return this._search},set:function(t){this._search=(0,u.asFunction)(t)},enumerable:!0,configurable:!0}),s.prototype.onMapChanged=function(t){this._map=null,this.mapChanged.raise(this,t)},s.prototype._indexOf=function(t,e,n,i){var r=-1,o=-1;if(this._cv&&e){var a=null!=t?t.toString():"";a&&n&&(t=(0,u.toPlainText)(a));for(var d=i?a:a.toLowerCase(),p=this._cv.sourceCollection,v=0;v<p.length;v++){var M=p[v],T=M[e];if(n&&(0,u.isString)(T)&&(T=(0,u.toPlainText)(T)),T==t?r=v:i||T.length!=d.length||T.toLowerCase()!=d?null!=T&&T.toString()==a&&(r=v):r=v,r==v){if(!this._cv.filter||this._cv.filter(M))return r;o<0&&(o=r)}}}return o},s}(),W=function(){function s(t,e,n,i){void 0===t&&(t=-1),void 0===e&&(e=-1),void 0===n&&(n=t),void 0===i&&(i=e),this.setRange(t,e,n,i)}return s.prototype.setRange=function(t,e,n,i){void 0===t&&(t=-1),void 0===e&&(e=-1),void 0===n&&(n=t),void 0===i&&(i=e),this._row=(0,u.asInt)(t),this._col=(0,u.asInt)(e),this._row2=(0,u.asInt)(n),this._col2=(0,u.asInt)(i)},Object.defineProperty(s.prototype,"row",{get:function(){return this._row},set:function(t){this._row=(0,u.asInt)(t)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"col",{get:function(){return this._col},set:function(t){this._col=(0,u.asInt)(t)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"row2",{get:function(){return this._row2},set:function(t){this._row2=(0,u.asInt)(t)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"col2",{get:function(){return this._col2},set:function(t){this._col2=(0,u.asInt)(t)},enumerable:!0,configurable:!0}),s.prototype.clone=function(){return new s(this._row,this._col,this._row2,this._col2)},s.prototype.copy=function(t){this.setRange(t._row,t._col,t._row2,t._col2)},Object.defineProperty(s.prototype,"rowSpan",{get:function(){return Math.abs(this._row2-this._row)+1},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"columnSpan",{get:function(){return Math.abs(this._col2-this._col)+1},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"topRow",{get:function(){return Math.min(this._row,this._row2)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"bottomRow",{get:function(){return Math.max(this._row,this._row2)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"leftCol",{get:function(){return Math.min(this._col,this._col2)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"rightCol",{get:function(){return Math.max(this._col,this._col2)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"isValid",{get:function(){return this._row>-1&&this._col>-1&&this._row2>-1&&this._col2>-1},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"isSingleCell",{get:function(){return this._row==this._row2&&this._col==this._col2},enumerable:!0,configurable:!0}),s.prototype.contains=function(t,e){var n=(0,u.tryCast)(t,s);if(n)return n.topRow>=this.topRow&&n.bottomRow<=this.bottomRow&&n.leftCol>=this.leftCol&&n.rightCol<=this.rightCol;if((0,u.isInt)(t)&&(0,u.isInt)(e))return t>=this.topRow&&t<=this.bottomRow&&e>=this.leftCol&&e<=this.rightCol;throw"contains expects a CellRange or row/column indices."},s.prototype.containsRow=function(t){return(0,u.asInt)(t)>=this.topRow&&t<=this.bottomRow},s.prototype.containsColumn=function(t){return(0,u.asInt)(t)>=this.leftCol&&t<=this.rightCol},s.prototype.intersects=function(t){return this.intersectsRow(t)&&this.intersectsColumn(t)},s.prototype.intersectsRow=function(t){return t&&!(this.bottomRow<t.topRow||this.topRow>t.bottomRow)},s.prototype.intersectsColumn=function(t){return t&&!(this.rightCol<t.leftCol||this.leftCol>t.rightCol)},s.prototype.getRenderSize=function(t){var e=new u.Size(0,0);if(this.isValid){for(var n=this.topRow;n<=this.bottomRow;n++)e.height+=t.rows[n].renderSize;for(var i=this.leftCol;i<=this.rightCol;i++)e.width+=t.columns[i].renderSize}return e},s.prototype.equals=function(t){return t instanceof s&&this._row==t._row&&this._col==t._col&&this._row2==t._row2&&this._col2==t._col2},s.prototype.combine=function(t){return t?new s(Math.min(this.topRow,t.topRow),Math.min(this.leftCol,t.leftCol),Math.max(this.bottomRow,t.bottomRow),Math.max(this.rightCol,t.rightCol)):this},s.prototype.toString=function(){return(0,u.format)("({row}, {col})-({row2}, {col2})",this)},s}();!function(s){s[s.None=0]="None",s[s.Cell=1]="Cell",s[s.ColumnHeader=2]="ColumnHeader",s[s.RowHeader=3]="RowHeader",s[s.TopLeft=4]="TopLeft",s[s.ColumnFooter=5]="ColumnFooter",s[s.BottomLeft=6]="BottomLeft"}(X||(X={}));var Et,jt,xn,de=function(){function s(t,e,n,i,r){this._offsetY=0,this._rng=new W,this._g=(0,u.asType)(t,It),this._ct=(0,u.asInt)(e),this._rows=(0,u.asType)(n,fn),this._cols=(0,u.asType)(i,Ut),this._e=(0,u.asType)(r,HTMLElement),this._vrb=new W}return Object.defineProperty(s.prototype,"grid",{get:function(){return this._g},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"cellType",{get:function(){return this._ct},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"viewRange",{get:function(){return this._getViewRange()},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"width",{get:function(){return this._cols.getTotalSize()},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"height",{get:function(){return this._rows.getTotalSize()},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"rows",{get:function(){return this._rows},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"columns",{get:function(){return this._cols},enumerable:!0,configurable:!0}),s.prototype.getCellData=function(t,e,n){var i,r=this._g,o=this._rows[(0,u.asNumber)(t,!1,!0)],a=null;if(!o)return null;e=this._toIndex(e),i=this._cols[(0,u.asNumber)(e,!1,!0)];var d=r?r._getBindingColumn(this,t,i):i,p=null;if(o instanceof rt&&o.dataItem instanceof u.CollectionViewGroup&&!r.childItemsPath&&(p=o.dataItem),d.binding&&o.dataItem&&!p?a=d._binding.getValue(o.dataItem):o._ubv&&(a=o._ubv[i._hash]),null==a)switch(this._ct){case X.TopLeft:case X.ColumnHeader:t!=this._rows.length-1&&d==i||(a=d.header);break;case X.ColumnFooter:if(o instanceof rt&&d.aggregate!=u.Aggregate.None){var M=this._g.collectionView;if(M){var T=(0,u.tryCast)(M,u.CollectionView);a=T?T.getAggregate(d.aggregate,d.binding):(0,u.getAggregate)(d.aggregate,M.items,d.binding)}}break;case X.Cell:o instanceof rt&&(e==this._cols.firstVisibleIndex?a=o.getGroupHeader():p&&d.aggregate!=u.Aggregate.None&&(a=p.getAggregate(d.aggregate,d.binding,this._g.collectionView)))}if(n){var k=d.dataMap||o.dataMap;this.cellType==X.Cell&&k&&(a=k.getDisplayValue(a)),a=null!=a?u.Globalize.format(a,d.format||o.format):""}return a},s.prototype.setCellData=function(t,e,n,i,r){void 0===i&&(i=!0),void 0===r&&(r=!0);var o=this._g,a=this._rows[(0,u.asNumber)(t,!1,!0)],d=this._cols[(0,u.asNumber)(this._toIndex(e),!1,!0)],p=u.DataType;if(!a)return!1;var v=o?o._getBindingColumn(this,t,d):d,M=v.dataMap||a.dataMap;if(this._ct==X.Cell){var T=v.getIsRequired(a);if(M&&null!=n){var L=M.getKeyValue(n,v.isContentHtml||a.isContentHtml);if(null==L&&null==M.getDisplayValue(null)){if(M.getDisplayValue(n)==n&&(!M.isEditable||M.displayMemberPath!=M.selectedValuePath)){if(""!=n||T)return!1;n=null}}else n=L}var Y,ce=v.dataType||a.dataType,ae=this.getCellData(t,e,!1);if(Y=ce||(0,u.getType)(ae),null==n||""===n&&i&&!M){if(T)return!1;Y!=p.String&&(n=null),i=!1}if(i){var Ee=v.format||a.format;if(Ee||Y!=p.Date||(Ee="d"),v.mask&&(0,u.isString)(n)&&Y!=p.String&&(n=n.replace(/_/g,"")),n=(0,u.changeType)(n,Y,Ee,ae),Y!=p.Object&&(0,u.getType)(n)!=Y)return!1}}if(a.dataItem&&v.binding){var Me=v._binding,ze=a.dataItem,st=Me.getValue(ze);if(n!==st&&(M&&!M.serializeKeys||!u.DateTime.equals(n,st))){var xt=o.collectionView,yt=xt instanceof u.CollectionView&&ze!=xt.currentEditItem&&xt.trackChanges,St=null;if(yt&&(St=xt._extend({},ze)),Me.setValue(ze,n),yt){var Dt=new u.NotifyCollectionChangedEventArgs(u.NotifyCollectionChangedAction.Change,ze,xt.items.indexOf(ze));xt.onCollectionChanged(Dt),xt._trackItemChanged(ze,St)}}}else a._ubv||(a._ubv={}),a._ubv[d._hash]=n;return r&&o&&o.invalidate(),!0},s.prototype.getCellBoundingRect=function(t,e,n){var i=this._g,r=this.rows[t],o=this.columns[this._toIndex(e)],a=new u.Rect(o.pos,r.pos,o.renderSize,r.renderSize);if(i.rightToLeft&&(a.left=this.hostElement.clientWidth-a.right,(0,u.isIE)()||(a.left-=i._root.offsetWidth-i._root.clientWidth)),!n){var d=this.hostElement.getBoundingClientRect();a.left+=d.left,a.top+=d.top-this._offsetY}return t<this.rows.frozen&&(a.top-=i.scrollPosition.y),e<this.columns.frozen&&(a.left-=i.scrollPosition.x*(i.rightToLeft?-1:1)),a},s.prototype.getCellElement=function(t,e){var n=this.hostElement.children,i=Math.min(t+2,n.length);e=this._toIndex(e);for(var r=0;r<i;r++)for(var o=n[r].children,a=Math.min(e+2,o.length),d=0;d<a;d++){var p=o[d],v=p[s._INDEX_KEY];if(v&&(v.row==t&&v.col==e||v.rng&&v.rng.contains(t,e)))return p}return null},s.prototype.getSelectedState=function(t,e,n){var i=this._g,r=i.selectionMode,o=i._selHdl.selection,a=Et,d=jt;if(r==a.None)return d.None;switch(e=this._toIndex(e),this._ct){case X.Cell:if(n||(n=i.getMergedRange(this,t,e)),n){if(n.contains(o.row,o.col))return i.showMarquee?d.Active:d.Cursor;if(n.intersects(o)&&r!=a.ListBox)return d.Selected;for(var p=n.leftCol;p<=n.rightCol;p++)if(i.columns[p].isSelected)return d.Selected;for(var v=n.topRow;v<=n.bottomRow;v++)if(i.rows[v].isSelected)return d.Selected}if(o.row==t&&o.col==e)return i.showMarquee?d.Active:d.Cursor;if(i.rows[t].isSelected||i.columns[e].isSelected)return d.Selected;if(r==a.MultiRange)for(var M=i._selHdl.extendedSelection,T=0;T<M.length;T++)if(M[T].contains(t,e)||n&&n.intersects(M[T]))return d.Selected;if(n)switch(r){case a.Row:case a.RowRange:if(n.containsRow(o.row))return d.Selected}return r==a.ListBox?d.None:(o=this._getAdjustedSelection(o)).containsRow(t)&&o.containsColumn(e)?d.Selected:d.None;case X.ColumnHeader:if(i.showSelectedHeaders&On.Column&&(i.columns[e].isSelected||o.containsColumn(e)||o.intersectsColumn(n))&&(n&&(t=n.bottomRow),t==this.rows.length-1))return d.Selected;break;case X.RowHeader:if(i.showSelectedHeaders&On.Row&&(i.rows[t].isSelected||o.containsRow(t)||o.intersectsRow(n))&&(n&&(e=n.rightCol),e==this.columns.length-1))return d.Selected}return d.None},Object.defineProperty(s.prototype,"hostElement",{get:function(){return this._e},enumerable:!0,configurable:!0}),s.prototype._toIndex=function(t){if((0,u.isString)(t)&&(t=this._cols.indexOf(t))<0)throw"Invalid column name or binding.";return t},s.prototype._getAdjustedSelection=function(t){var e=this._g,n=this._rng;switch(e.selectionMode){case Et.Cell:n.setRange(t.row,t.col,t.row,t.col);break;case Et.Row:n.setRange(t.row,0,t.row,e.columns.length-1);break;case Et.RowRange:case Et.ListBox:n.setRange(t.row,0,t.row2,e.columns.length-1);break;default:n.copy(t)}return n},s.prototype._getOffsetY=function(){return this._offsetY},s.prototype._updateContent=function(t,e,n){var i=this._g,r=this._e,o=this._rows,a=this._cols,d=this._ct;if(d==X.ColumnHeader||d==X.ColumnFooter||d==X.RowHeader){var p=i._ptScrl,v=r.style;d==X.RowHeader?v.top=p.y+"px":i.rightToLeft?v.right=p.x+"px":v.left=p.x+"px"}this._offsetY!=n&&(t=!1,this._offsetY=n);var M=this._getViewRange(),T=M;if(T.isValid){var k=o.length<=i._vtRows?o.length:0,L=a.length<=i._vtCols?a.length:0;T=new W(Math.max(M.row-k,o.frozen),Math.max(M.col-L,a.frozen),Math.min(M.row2+k,o.length-1),Math.min(M.col2+L,a.length-1))}if(t&&!e&&this._vrb.contains(M)&&!o.frozen&&!a.frozen)return this._activeCell;t&&T.equals(this._vrb)||(e=!1),t&&!e&&this._ct!=X.TopLeft&&this._reorderCells(T,this._vrb),this._activeCell=null,this._vru=M,this._vrb=T,this._recycle=t;var Y=0;this._ct==X.Cell&&(Y=this._renderColHdrRow(T,e));for(var ce=0;ce<o.frozen&&ce<o.length;ce++)Y=this._renderRow(ce,T,e,Y);for(ce=T.topRow;ce<=T.bottomRow&&ce>-1;ce++)Y=this._renderRow(ce,T,e,Y);for(;r.childElementCount>Y;){var ae=r.lastElementChild;(0,u.removeChild)(ae),this._removeExtraCells(ae,0)}return this._activeCell},s.prototype._clearCells=function(){for(var t=this.hostElement,e=this._g.cellFactory,n=t.childElementCount-1;n>=0;n--){var i=t.children[n];(0,u.removeChild)(i);for(var r=i.childElementCount-1;r>=0;r--)e.disposeCell(i.children[r])}},s.prototype._reorderCells=function(t,e){var n=this;if(this._g._reorderCells&&e.isValid&&t.isValid&&t.intersects(e)){var v,i=function(L,Y,ce,ae,Ee,Me){(0,u.assert)(ce<0,"Scroll delta must be a negative number");var ze,st,xt=-ce,yt=Y+(ae-Ee+1),St=L.childElementCount-yt;if(St<xt?(ze=St,st=xt-St):(ze=xt,st=0),ze>0){var Dt=n._createRange(L,yt,yt+ze);Dt&&L.insertBefore(Dt.extractContents(),L.children[Y])}if(st>0)for(var Nt=L.children[Y],en=0;en<st;en++){var Rt=document.createElement("div");Rt.className=Me,L.insertBefore(Rt,Nt)}};if(t.row!=e.row){var r=this._e;if(0!=(v=t.row-e.row)){var o=this._ct==X.Cell?1:0,a=r.childElementCount;if(o+=this.rows.frozen,v>0){var d=o,p=Math.min(o+v,a);(k=this._createRange(r,d,p))&&r.appendChild(k.extractContents())}else i(r,o,v,t.row2,e.row,"wj-row")}}if(t.col!=e.col&&(r=this._e,0!=(v=t.col-e.col))){o=this._ct==X.Cell&&this._g.rowHeaderPath?1:0,o+=this.columns.frozen;for(var M=0;M<r.children.length;M++){var T=r.children[M];if(a=T.children.length,(0,u.hasClass)(T,"wj-row"))if(v>0){var k;d=o,p=Math.min(o+v,a),(k=this._createRange(T,d,p))&&T.appendChild(k.extractContents())}else i(T,o,v,t.col2,e.col,"wj-cell")}}}},s.prototype._createRange=function(t,e,n){if(n>e&&n<=t.children.length&&e>-1){this._docRange||(this._docRange=document.createRange());var i=this._docRange;return i.setStart(t,e),i.setEnd(t,n),i}return null},s.prototype._renderColHdrRow=function(t,e){if(e)return 1;var n=this._e.children[0];n||(n=(0,u.createElement)('<div class="wj-row" role="row"></div>',this._e));var i=this._g;(0,u.setAttribute)(n,"aria-label",i?i.columnHeaders.rows.ariaLabel:null),(0,u.setAttribute)(n,"aria-selected",null);var o=0,a=this._g._getRowHeaderPath();a&&(o=this._renderRowHdrCell(n,-1,a.path));for(var d=0;d<this.columns.frozen&&d<this.columns.length;d++)o=this._renderColHdrCell(n,d,t,e,o);for(d=t.leftCol;d<=t.rightCol&&d>-1;d++)o=this._renderColHdrCell(n,d,t,e,o);return this._removeExtraCells(n,o),1},s.prototype._renderColHdrCell=function(t,e,n,i,r){var o=this.grid,a=this.columns[e];if(a.renderSize<=0)return r;if(i)return r+1;var d=t.children[r];if(d||(d=(0,u.createElement)(s._HTML_CELL,t)),(0,u.setAttribute)(d,"role","columnheader"),d&&this._recycle&&o._lazyRender){var p=d[s._INDEX_KEY];if(p&&-1==p.row&&p.col==e&&e>=this.columns.frozen)return r+1}if(d.textContent=this.columns[e].header,(0,u.setCss)(d,{position:"fixed",left:a.pos,top:-32e3,width:a.renderSize,height:.1,overflow:"hidden",opacity:"0",pointerEvents:"none"}),a.describedById||this.columns.describedById){var v=[a.describedById,this.columns.describedById].join(" ").trim();(0,u.setAttribute)(d,"aria-describedby",v||null)}if(o.allowSorting){var M="none";switch(o._getBindingColumn(this,0,a).currentSort){case"+":M="ascending";break;case"-":M="descending"}(0,u.setAttribute)(d,"aria-sort",M)}return o.isReadOnly||((0,u.setAttribute)(d,"aria-readonly",a.isReadOnly),(0,u.setAttribute)(d,"aria-required",a.isReadOnly?null:a.getIsRequired())),d[s._INDEX_KEY]={row:-1,col:e,panel:this},r+1},s.prototype._renderRowHdrCell=function(t,e,n){var i=t.children[0];return i||(i=(0,u.createElement)(s._HTML_CELL,t)),i.setAttribute("role",e<0?"columnheader":"rowheader"),i.textContent=n?n.toString():"",(0,u.setCss)(i,{position:"fixed",left:-32e3,top:-32e3,width:.1,height:.1,overflow:"hidden",opacity:"0"}),i[s._INDEX_KEY]={row:e,col:-1,panel:this},1},s.prototype._renderRow=function(t,e,n,i){var r=this._g,o=this.rows[t];if(o.renderSize<=0)return i;var a=this._e.children[i];if(a||(a=(0,u.createElement)('<div class="wj-row"></div>',this._e)),this._ct==X.Cell){a.setAttribute("role","row");var p=o.isSelected;switch(r.selectionMode){case Et.Row:case Et.RowRange:p=p||this._g._selHdl.selection.containsRow(t)}(0,u.setAttribute)(a,"aria-selected",!!p||null),(0,u.setAttribute)(a,"aria-level",o instanceof rt?o.level+1:null),(0,u.setAttribute)(a,"aria-expanded",o instanceof rt?!o.isCollapsed:null),this.rows.ariaLabel&&(0,u.setAttribute)(a,"aria-label",this.rows.ariaLabel)}var v=0;if(this._ct==X.Cell){var M=this._g._getRowHeaderPath();M&&(v=this._renderRowHdrCell(a,t,M.getValue(o.dataItem)))}for(var T=0;T<this.columns.frozen&&T<this.columns.length;T++)v=this._renderCell(a,t,T,e,n,v);for(T=e.leftCol;T<=e.rightCol&&T>-1;T++)v=this._renderCell(a,t,T,e,n,v);return this._removeExtraCells(a,v),i+1},s.prototype._renderCell=function(t,e,n,i,r,o){var a=this._g,d=this._ct==X.Cell?a.getMergedRange(this,e,n,!1):a.getMergedRange(this,e,n);if(d){for(var p=Math.max(i.row,d.row);p<e;p++)if(this.rows[p].renderSize)return o;for(p=Math.max(i.col,d.col);p<n;p++)if(this.columns[p].renderSize)return o;var v=this.columns.frozen;if(v&&d.col<v&&d.col2>=v&&n>d.col)return o}var M=this.columns[n];if(M.renderSize<=0&&(!d||d.getRenderSize(this).width<=0))return o;var T=t.children[o];if(T&&!r&&this._recycle&&a._lazyRender&&!a.activeEditor){var k=T[s._INDEX_KEY];k&&k.row==e&&k.col==n&&k.rng==d&&e>=this.rows.frozen&&n>=this.columns.frozen&&(r=!0)}var L=jt,Y=this.getSelectedState(e,n,d),ce=Y==L.Cursor||Y==L.Active;if(T&&r)return(0,u.toggleClass)(T,"wj-state-active",ce),(0,u.toggleClass)(T,"wj-state-selected",Y==L.Cursor),(0,u.toggleClass)(T,"wj-state-multi-selected",Y==L.Selected),(0,u.setAttribute)(T,"aria-selected",!(!ce&&Y==L.None)||null),ce&&(this._activeCell=T),o+1;if(T||(T=(0,u.createElement)(s._HTML_CELL,t)),ce&&(this._activeCell=T),this._ct==X.Cell){(0,u.setAttribute)(T,"role","gridcell"),(0,u.setAttribute)(T,"aria-selected",!(Y==L.None&&!ce)||null);var ae=!a.canEditCell(e,n)||null;(0,u.setAttribute)(T,"aria-readonly",ae),(0,u.setAttribute)(T,"aria-required",ae?null:M.getIsRequired())}return a.cellFactory.updateCell(this,e,n,T,d),T[s._INDEX_KEY]={row:e,col:n,rng:d,panel:this},o+1},s.prototype._removeExtraCells=function(t,e){for(var n=this._g.cellFactory;t.childElementCount>e;){var i=t.lastElementChild;(0,u.removeChild)(i),n.disposeCell(i)}for(var r=t.childElementCount-1;r>-1;--r){var o=[t.children[r],t.children[r-1]],a=o[1];(i=o[0])&&a&&i.getAttribute("style")===a.getAttribute("style")&&i.innerHTML===a.innerHTML&&((0,u.removeChild)(i),n.disposeCell(i))}},s.prototype._getViewRange=function(){var t=this._g,e=t._ptScrl,n=t._szClientSB,i=this._rows,r=this._cols,o=new W(0,0,i.length-1,r.length-1);if(this._ct==X.Cell||this._ct==X.RowHeader){var a=-e.y+this._offsetY,d=n.height;(T=Math.min(i.frozen,i.length-1))>0&&(a+=Y=i[T-1].pos,d-=Y),T>0&&i[T].pos>n.height?o.row=o.row2=-1:(o.row=Math.min(i.length-1,Math.max(T,i.getItemAt(a))),o.row2=Math.max(o.row,i.getItemAt(a+d)));var p=t.hostElement;if(t._clipToScreen&&p){var v=p.getBoundingClientRect(),M=-v.top-t.cells._e.offsetTop;v.top<0&&(o.row=Math.max(o.row,i.getItemAt(M)-1)),v.bottom>innerHeight&&(o.row2=Math.min(o.row2,i.getItemAt(M+innerHeight)+1))}}if(this._ct==X.Cell||this._ct==X.ColumnHeader){var T,Y,k=-e.x,L=n.width;(T=Math.min(r.frozen,r.length-1))>0&&(k+=Y=r[T-1].pos,L-=Y),T>0&&r[T].pos>n.width?o.col=o.col2=-1:(o.col=Math.min(r.length-1,Math.max(T,r.getItemAt(k))),o.col2=Math.max(o.col,r.getItemAt(k+L)))}return i.length<=i.frozen&&(o.row=o.row2=-1),r.length<=r.frozen&&(o.col=o.col2=-1),o},s.prototype._getFrozenPos=function(){var t=this._rows.frozen,e=this._cols.frozen,n=t>0?this._rows[t-1]:null,i=e>0?this._cols[e-1]:null;return new u.Point(i?i.pos+i.renderSize:0,n?n.pos+n.renderSize:0)},s._INDEX_KEY="wj-cell-index",s._HTML_CELL='<div class="wj-cell" tabindex="-1"></div>',s}(),me=function(s){function t(e,n,i){var r=s.call(this)||this;return r._p=(0,u.asType)(e,de,!0),r._rng=(0,u.asType)(n,W,!0),r._data=i,r}return mt(t,s),Object.defineProperty(t.prototype,"panel",{get:function(){return this._p},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"range",{get:function(){return this._rng.clone()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"row",{get:function(){return this._rng.row},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"col",{get:function(){return this._rng.col},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(e){this._data=e},enumerable:!0,configurable:!0}),t.prototype.getRow=function(){return this._p&&this.row>-1?this._p.rows[this.row]:null},t.prototype.getColumn=function(e){var n=this._p,i=n&&this.col>-1?n.columns[this.col]:null;if(i&&e){var r=n.grid;i=n.cellType===X.ColumnHeader&&r._hasColumnGroups()?r._getColumnGroup(this.row,this.col):n.grid._getBindingColumn(n,this.row,i)}return i},t}(u.CancelEventArgs),ft=function(s){function t(e,n,i,r){void 0===r&&(r=!0);var o=s.call(this,e,n)||this;return o._updateContent=!0,o._cell=(0,u.asType)(i,HTMLElement),o}return mt(t,s),Object.defineProperty(t.prototype,"cell",{get:function(){return this._cell},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateContent",{get:function(){return this._updateContent},enumerable:!0,configurable:!0}),t}(me),pt=function(s){function t(){var e=null!==s&&s.apply(this,arguments)||this;return e._stayInEditMode=!1,e._refresh=!0,e}return mt(t,s),Object.defineProperty(t.prototype,"stayInEditMode",{get:function(){return this._stayInEditMode},set:function(e){this._stayInEditMode=(0,u.asBoolean)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"refresh",{get:function(){return this._refresh},set:function(e){this._refresh=(0,u.asBoolean)(e)},enumerable:!0,configurable:!0}),t}(me);!function(s){s[s.None=0]="None",s[s.Cell=1]="Cell",s[s.CellRange=2]="CellRange",s[s.Row=3]="Row",s[s.RowRange=4]="RowRange",s[s.ListBox=5]="ListBox",s[s.MultiRange=6]="MultiRange"}(Et||(Et={})),function(s){s[s.None=0]="None",s[s.Selected=1]="Selected",s[s.Cursor=2]="Cursor",s[s.Active=3]="Active"}(jt||(jt={})),function(s){s[s.None=0]="None",s[s.Next=1]="Next",s[s.Prev=2]="Prev",s[s.NextPage=3]="NextPage",s[s.PrevPage=4]="PrevPage",s[s.Home=5]="Home",s[s.End=6]="End",s[s.NextCell=7]="NextCell",s[s.PrevCell=8]="PrevCell",s[s.NextEditableCell=9]="NextEditableCell",s[s.PrevEditableCell=10]="PrevEditableCell"}(xn||(xn={}));var In,En=function(){function s(t){this._sel=new W(0,0),this._xSel=new u.ObservableArray,this._mode=Et.CellRange,this._g=t,this._e=new me(t.cells,new W(0,0)),this._xSel.collectionChanged.addHandler(function(){t.invalidate()})}return Object.defineProperty(s.prototype,"selectionMode",{get:function(){return this._mode},set:function(t){t!=this._mode&&this._setSelectionMode(t)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"selection",{get:function(){return this._sel},set:function(t){this.select(t)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"extendedSelection",{get:function(){return this._xSel},enumerable:!0,configurable:!0}),s.prototype.select=function(t,e,n){void 0===e&&(e=!0),void 0===n&&(n=!1);var i=this._g,r=this._e.range,o=this._sel,a=r,d=!1,p=Et;if((0,u.isNumber)(t)&&(0,u.isString)(e)){var v=i.columns.indexOf(e);if(v<0)throw"Invalid column name or binding.";r.setRange(t,v),e=!0}else(0,u.isNumber)(t)&&(0,u.isNumber)(e)?(r.setRange(t,e),e=!0):t instanceof W?r.copy(t):(0,u.assert)(!1,"CellRange expected");switch(i.selectionMode){case p.Cell:a.row2=a.row,a.col2=a.col;break;case p.Row:a.row2=a.row;break;case p.ListBox:d=!0}var M=a.equals(o);if(M&&d)for(var T=0;T<i.rows.length;T++)if(i.rows[T].isSelected!==a.containsRow(T)){M=!1;break}if(M)return e&&i.isRangeValid(a)&&this._showSelection(),!0;var k=u.Control.getControl((0,u.closest)((0,u.getActiveElement)(),".wj-flexgrid"));if(k&&k.activeEditor&&!k.finishEditing())return!1;var L=this._e;if(L._rng=a,L.cancel=!1,!i.onSelectionChanging(L)&&!n)return!1;d&&i.rows.forEach(function(ae,Ee){ae._setFlag(In.Selected,a.containsRow(Ee),!0)}),a.row=Math.min(a.row,i.rows.length-1),a.row2=Math.min(a.row2,i.rows.length-1),this._sel.copy(a),i.refreshCells(!1,!0,!0),e&&this._showSelection();var Y=i.collectionView;if(Y){var ce=i._getCvIndex(a.row);Y.moveCurrentToPosition(ce)}return i.onSelectionChanged(L),!0},s.prototype.moveSelection=function(t,e,n){var i=this._g,r=this._sel,o=n&&i.anchorCursor?new W(r.row2,r.col2):new W(r.row,r.col);this._adjustReferenceCell(o,t,e);var a=o.row,d=o.col,p=i.columns,v=Math.max(0,i._szClient.height-i.columnHeaders.height),M=xn;switch(e){case M.NextCell:case M.NextEditableCell:(d=this._getNextColumnCell(a,d,e))==o.col&&(a=this._getNextRowCell(a,d,e))>o.row&&(d=this._getNextColumnCell(a,0,e),d=this._getNextColumnCell(a,d,e==M.NextCell?M.PrevCell:M.PrevEditableCell)),i.select(a,d);break;case M.PrevCell:case M.PrevEditableCell:(d=this._getNextColumnCell(a,o.col,e))==o.col&&(a=this._getNextRowCell(a,d,e))<o.row&&(d=this._getNextColumnCell(a,p.length-1,e),d=this._getNextColumnCell(a,d,e==M.PrevCell?M.NextCell:M.NextEditableCell)),i.select(a,d);break;default:a=this._getNextRowCell(a,d,t,v),d=this._getNextColumnCell(a,d,e,v),n?i.selection=i.anchorCursor?new W(r.row,r.col,a,d):new W(a,d,r.row2,r.col2):i.select(a,d)}},s.prototype._getNextColumnCell=function(t,e,n,i){return void 0===i&&(i=0),this._g.columns.getNextCell(e,n,i)},s.prototype._getNextRowCell=function(t,e,n,i){return void 0===i&&(i=0),this._g.rows.getNextCell(t,n,i)},s.prototype._setSelectionMode=function(t){var e=this._g,n=e.rows;this._mode=t,this._xSel.clear(),n.length&&(this._adjustSelection(this._sel,t,!0),e.invalidate())},s.prototype._adjustSelection=function(t,e,n){void 0===n&&(n=!1);var i=this._g.rows,r=Et,o=this._g.hostElement.querySelector("input.wj-column-selector")instanceof HTMLInputElement;if(!o)for(var a=0;a<i.length;a++)i[a]._setFlag(In.Selected,!1,!0);var d=t.clone();switch(e){case r.None:d=new W;break;case r.Cell:d=new W(t.row,t.col);break;case r.ListBox:if(o)return;for(a=0;a<i.length;a++)i[a]._setFlag(In.Selected,d.containsRow(a),!0)}this.select(d,!1,n)},s.prototype._expandSelection=function(){var t=this._g,e=t.selectionMode;if(t.expandSelectionOnCopyPaste&&e){var n=this.selection;switch(e){case Et.Cell:case Et.Row:break;case Et.ListBox:this._expandSelectedRows();break;case Et.RowRange:n=new W(n.topRow,0,n.bottomRow,t.columns.length-1);default:var r=this._expandSelectionRange(n);r&&this.select(r,!1)}}},s.prototype._deselectRange=function(t){var n=this.extendedSelection;if(this.selection.contains(t)){var i=n.length;return this._sel=i?n[i-1]:new W,i&&n.removeAt(i-1),!0}for(var r=0;r<n.length;r++)if(n[r].contains(t))return n.removeAt(r),!0;return!1},s.prototype._expandSelectedRows=function(){(0,u.assert)(this.selectionMode==Et.ListBox,"ListBox mode expected");for(var t=this._g,e=t.selectedRows.map(function(d){return d.index}),n=[],i=0;i<e.length;i++)for(var r=new W(e[i],0,e[i],t.columns.length-1),o=this._expandSelectionRange(r)||r,a=o.topRow;a<=o.bottomRow;a++)-1===n.indexOf(a)&&n.push(a);n.sort(),this._selectRows(n)},s.prototype._expandSelectionRange=function(t){var e=this._g,n=e.cells,i=e.getMergedRange(n,t.topRow,t.leftCol,!1),r=e.getMergedRange(n,t.bottomRow,t.leftCol,!1),o=e.getMergedRange(n,t.topRow,t.rightCol,!1),a=e.getMergedRange(n,t.bottomRow,t.rightCol,!1);return i||r||o||a?(i=i||new W(t.topRow,t.leftCol),r=r||new W(t.bottomRow,t.leftCol),o=o||new W(t.topRow,t.rightCol),a=a||new W(t.bottomRow,t.rightCol),new W(Math.min(i.topRow,r.topRow,o.topRow,a.topRow),Math.min(i.leftCol,r.leftCol,o.leftCol,a.leftCol),Math.max(i.bottomRow,r.bottomRow,o.bottomRow,a.bottomRow),Math.max(i.rightCol,r.rightCol,o.rightCol,a.rightCol))):null},s.prototype._selectRows=function(t){(0,u.assert)(this.selectionMode==Et.ListBox,"ListBox mode expected");for(var e=this._g,n=0,i=!0;n<e.rows.length;n++){var r=e.rows[n],o=t&&t.indexOf(r.index)>-1;o&&i&&(i=!1,this.select(n,this.selection.col)),r.isSelected=o}},s.prototype._showSelection=function(){var t=this._g,e=this._sel;t.anchorCursor?t.scrollIntoView(e.row2,e.col2):t.scrollIntoView(e.row,e.col)},s.prototype._adjustReferenceCell=function(t,e,n){var i=this._g,r=i.getMergedRange(i.cells,t.row,t.col);if(r&&!r.isSingleCell){var o=xn;switch(e){case o.Next:case o.NextCell:case o.NextEditableCell:t.row=r.bottomRow;break;case o.Prev:case o.PrevCell:case o.PrevEditableCell:t.row=r.topRow}switch(n){case o.Next:case o.NextCell:case o.NextEditableCell:t.col=r.rightCol;break;case o.Prev:case o.PrevCell:case o.PrevEditableCell:t.col=r.leftCol}}},s}();!function(s){s[s.Visible=1]="Visible",s[s.AllowResizing=2]="AllowResizing",s[s.AllowDragging=4]="AllowDragging",s[s.AllowMerging=8]="AllowMerging",s[s.AllowSorting=16]="AllowSorting",s[s.AutoGenerated=32]="AutoGenerated",s[s.Collapsed=64]="Collapsed",s[s.ParentCollapsed=128]="ParentCollapsed",s[s.Selected=256]="Selected",s[s.ReadOnly=512]="ReadOnly",s[s.HtmlContent=1024]="HtmlContent",s[s.WordWrap=2048]="WordWrap",s[s.MultiLine=4096]="MultiLine",s[s.HasTemplate=8192]="HasTemplate",s[s.RowDefault=3]="RowDefault",s[s.ColumnDefault=23]="ColumnDefault"}(In||(In={}));var yn,Dn,On,Ti,Te=function(){function s(){this._type=null,this._align=null,this._inpType=null,this._mask=null,this._maxLen=null,this._required=null,this._fmt=null,this._map=null,this._ddCssClass=null,this._cssClass=null,this._cssClassAll=null,this._szMin=null,this._szMax=null,this._sz=null,this._pos=0,this._idx=-1,this._idxVis=-1,this._idxData=-1,this.gridChanged=new u.Event}return Object.defineProperty(s.prototype,"binding",{get:function(){return this._binding?this._binding.path:null},set:function(t){if(t!=this.binding){var e=(0,u.asString)(t);if(this._binding=e?new u.Binding(e):null,!this._type&&this.grid&&this._binding){var n=this.grid.collectionView;n&&n.sourceCollection&&n.sourceCollection.length&&(this._type=(0,u.getType)(this._binding.getValue(n.sourceCollection[0])))}this.onPropertyChanged()}},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"sortMemberPath",{get:function(){return this._bindingSort?this._bindingSort.path:null},set:function(t){if(t!=this.sortMemberPath){var e=(0,u.asString)(t);this._bindingSort=e?new u.Binding(e):null,this.onPropertyChanged()}},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"dataType",{get:function(){return this._type},set:function(t){t=(0,u.asEnum)(t,u.DataType,!0),this._type!=t&&(this._type=t,this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"inputType",{get:function(){return this._inpType},set:function(t){this._inpType=(0,u.asString)(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"mask",{get:function(){return this._mask},set:function(t){this._mask=(0,u.asString)(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"maxLength",{get:function(){return this._maxLen},set:function(t){this._maxLen=(0,u.asNumber)(t,!0,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"align",{get:function(){return this._align},set:function(t){this._align!=t&&(this._align=t,this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"format",{get:function(){return this._fmt},set:function(t){this._fmt!=t&&(this._fmt=t,this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"dataMap",{get:function(){return this._map},set:function(t){this._map!=t&&(this._map&&this._map.mapChanged.removeHandler(this.onPropertyChanged,this),(0,u.isArray)(t)&&(t=new Z(t,null,null)),this._map=(0,u.asType)(t,Z,!0),this._map&&this._map.mapChanged.addHandler(this.onPropertyChanged,this),this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"dataMapEditor",{get:function(){return null!=this._mapEditor?this._mapEditor:b.DropDownList},set:function(t){t!=this._mapEditor&&(this._mapEditor=(0,u.asEnum)(t,b),this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"showDropDown",{get:function(){return this.dataMapEditor==b.DropDownList},set:function(t){(0,u._deprecated)("showDropDown","dataMapEditor"),this.dataMapEditor=t?b.DropDownList:b.AutoComplete},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"dropDownCssClass",{get:function(){return this._ddCssClass},set:function(t){this._ddCssClass=(0,u.asString)(t)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"visible",{get:function(){return this._getFlag(In.Visible)},set:function(t){this._setFlag(In.Visible,t)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"isVisible",{get:function(){return!!this._getFlag(In.Visible)&&(!this._getFlag(In.ParentCollapsed)||this instanceof Ge)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"pos",{get:function(){return this._list&&this._list._dirty&&this._list._update(),this._pos},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"index",{get:function(){return this._list&&this._list._dirty&&this._list._update(),this._idx},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"visibleIndex",{get:function(){return this._list&&this._list._dirty&&this._list._update(),this.isVisible?this._idxVis:-1},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"size",{get:function(){return this._sz},set:function(t){t!=this._sz&&(this._sz=(0,u.asNumber)(t,!0),this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"renderSize",{get:function(){var t=0,e=this._list;return this.isVisible&&((null==(t=this._sz)||t<0)&&(t=e?e.defaultSize:0),e&&null!=e.minSize&&t<e.minSize&&(t=e.minSize),e&&null!=e.maxSize&&t>e.maxSize&&(t=e.maxSize),null!=this._szMin&&t<this._szMin&&(t=this._szMin),null!=this._szMax&&t>this._szMax&&(t=this._szMax)),t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"allowResizing",{get:function(){return this._getFlag(In.AllowResizing)},set:function(t){this._setFlag(In.AllowResizing,t)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"allowDragging",{get:function(){return this._getFlag(In.AllowDragging)},set:function(t){this._setFlag(In.AllowDragging,t)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"allowMerging",{get:function(){return this._getFlag(In.AllowMerging)},set:function(t){this._setFlag(In.AllowMerging,t)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"isSelected",{get:function(){return this._getFlag(In.Selected)},set:function(t){if(!!t!=this.isSelected){var e=this.grid;if(e){var n=new me(e?e.cells:null,e.selection);e.onSelectionChanging(n)&&this._setFlag(In.Selected,t,!0)&&(e.refreshCells(!1,!0,!0),e.onSelectionChanged(n))}else this._setFlag(In.Selected,t)}},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"isReadOnly",{get:function(){return this._getFlag(In.ReadOnly)},set:function(t){this._setFlag(In.ReadOnly,t)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"isRequired",{get:function(){return this._required},set:function(t){this._required=(0,u.asBoolean)(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"isContentHtml",{get:function(){return this._getFlag(In.HtmlContent)},set:function(t){this.isContentHtml!=t&&(this._setFlag(In.HtmlContent,t),this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"wordWrap",{get:function(){return this._getFlag(In.WordWrap)},set:function(t){this._setFlag(In.WordWrap,t)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"multiLine",{get:function(){return this._getFlag(In.MultiLine)},set:function(t){this._setFlag(In.MultiLine,t)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"cssClass",{get:function(){return this._cssClass},set:function(t){t!=this._cssClass&&(this._cssClass=(0,u.asString)(t),this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"cssClassAll",{get:function(){return this._cssClassAll},set:function(t){t!=this._cssClassAll&&(this._cssClassAll=(0,u.asString)(t),this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"grid",{get:function(){return this._list?this._list._g:null},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"collectionView",{get:function(){return this.grid?this.grid.collectionView:null},enumerable:!0,configurable:!0}),s.prototype.onPropertyChanged=function(){this._list&&(this._list._dirty=!0,this.grid.invalidate())},s.prototype.onGridChanged=function(t){this.gridChanged.raise(this,t)},s.prototype._setList=function(t){t!=this._list&&(this._list=t,this.onGridChanged())},s.prototype._getFlag=function(t){return 0!=(this._f&t)},s.prototype._setFlag=function(t,e,n){return!!e!=this._getFlag(t)&&(this._f=e?this._f|t:this._f&~t,n||this.onPropertyChanged(),!0)},s}(),$t=function(s){function t(e){var n=s.call(this)||this;return n._hdr=null,n._name=null,n._agg=null,n._quickSize=null,n._descById=null,n._tpl=null,n._f=In.ColumnDefault,n._hash=t._ctr.toString(36),t._ctr++,(0,u.copy)(n,e),n}return mt(t,s),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},set:function(e){this._name=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return null!=this._szStar?this._szStar:this.size},set:function(e){null!=t._parseStarSize(e)?(this._szStar=e,this.onPropertyChanged()):(this._szStar=null,this.size=(0,u.asNumber)(e,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minWidth",{get:function(){return this._szMin},set:function(e){e!=this._szMin&&(this._szMin=(0,u.asNumber)(e,!0,!0),this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxWidth",{get:function(){return this._szMax},set:function(e){e!=this._szMax&&(this._szMax=(0,u.asNumber)(e,!0,!0),this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"quickAutoSize",{get:function(){return this._quickSize},set:function(e){this._quickSize=(0,u.asBoolean)(e,!0)},enumerable:!0,configurable:!0}),t.prototype._getQuickAutoSize=function(){return!!this.grid._getQuickAutoSize()&&((0,u.isBoolean)(this._quickSize)?this._quickSize:!(this.isContentHtml||this.wordWrap||this.multiLine||this._getFlag(In.HasTemplate)))},Object.defineProperty(t.prototype,"renderWidth",{get:function(){return this.renderSize},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"header",{get:function(){return this._hdr?this._hdr:this.binding},set:function(e){this._hdr!=e&&(this._hdr=e,this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cellTemplate",{get:function(){return this._tpl},set:function(e){e!=this._tpl&&((0,u.assert)(null==e||(0,u.isString)(e)||(0,u.isFunction)(e),"cellTemplate should be a string or an ICellTemplateFunction."),this._tpl=e,this._setFlag(In.HasTemplate,null!=e&&""!=e),this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"editor",{get:function(){var e=this._edt;return e?e.control:null},set:function(e){e!=this.editor&&(this._edt&&(this._edt.dispose(),this._edt=null),null!=e&&(e=(0,u.asType)(e,u.Control),this._edt=new on(this,e)))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowSorting",{get:function(){return this._getFlag(In.AllowSorting)},set:function(e){this._setFlag(In.AllowSorting,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentSort",{get:function(){var e=this.currentSortIndex;return e>-1?this.grid.collectionView.sortDescriptions[e].ascending?"+":"-":null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentSortIndex",{get:function(){var e=this.grid?this.grid.collectionView:null,n=e?e.sortDescriptions:null,i=n&&n.length?this._getBindingSort():null;if(i)for(var r=0;r<n.length;r++)if(n[r].property==i)return r;return-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"aggregate",{get:function(){return null!=this._agg?this._agg:u.Aggregate.None},set:function(e){(e=(0,u.asEnum)(e,u.Aggregate))!=this._agg&&(this._agg=e,this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"describedById",{get:function(){return this._descById},set:function(e){e!=this._descById&&(this._descById=(0,u.asString)(e),this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),t.prototype.getIsRequired=function(e){return null!=this._required?this._required:e&&null!=e.isRequired?e.isRequired:this.dataType==u.DataType.String?null!=this.dataMap||null!=this._mask&&this._mask.length>0:!e||e.dataType!=u.DataType.String||null!=e.dataMap||null!=e.mask&&e.mask.length>0},t.prototype.getAlignment=function(e){if(null!=this._align)return this._align;if(e&&null!=e.align)return e.align;if(!this._map)switch(this.dataType){case u.DataType.Boolean:return"center";case u.DataType.Number:return"right"}if(e&&!e.dataMap)switch(e.dataType){case u.DataType.Boolean:return"center";case u.DataType.Number:return"right"}return""},t.prototype._getBindingSort=function(){return this.sortMemberPath?this.sortMemberPath:this.binding?this.binding:null},t._parseStarSize=function(e){if((0,u.isString)(e)){var n=e.length;if(n>0&&"*"==e[n-1]){var i=1==n?1:parseFloat(e);if(i>0&&!isNaN(i))return i}}return null},t._ctr=0,t}(Te),Lt=function(s){function t(e){var n=s.call(this)||this;return n._f=In.ColumnDefault,n._data=e||null,n}return mt(t,s),Object.defineProperty(t.prototype,"dataItem",{get:function(){return this._data},set:function(e){this._data=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataIndex",{get:function(){return this._list&&this._list._dirty&&this._list._update(),this._idxData},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.size},set:function(e){this.size=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderHeight",{get:function(){return this.renderSize},enumerable:!0,configurable:!0}),t}(Te),rt=function(s){function t(e){var n=s.call(this,e)||this;return n._level=-1,n.level=e instanceof u.CollectionViewGroup?e.level:-1,n.isReadOnly=!0,n}return mt(t,s),Object.defineProperty(t.prototype,"level",{get:function(){return this._level},set:function(e){(0,u.asInt)(e),e!=this._level&&(this._level=e,this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasChildren",{get:function(){if(null!=this.grid&&null!=this._list){this._list._update();var e=this.index<this._list.length-1?this._list[this.index+1]:null,n=(0,u.tryCast)(e,t),i=(0,u.tryCast)(e,Ge);return null!=e&&null==i&&(null==n||n.level>this.level)}return!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isCollapsed",{get:function(){return this._getFlag(In.Collapsed)},set:function(e){!!e!=this.isCollapsed&&null!=this._list&&this._setCollapsed((0,u.asBoolean)(e))},enumerable:!0,configurable:!0}),t.prototype.getGroupHeader=function(){var e=this.grid,n=e.groupHeaderFormat||u.culture.FlexGrid.groupHeaderFormat,i=this.dataItem;if(i instanceof u.CollectionViewGroup&&n&&e.showGroups&&!e.childItemsPath){var r=i.groupDescription.propertyName,o=i.name,a=e.getColumn(r),d=this.isContentHtml;if(a){d=d||a.isContentHtml,a.header&&(r=a.header);var p=a.dataMap;p&&(o=p.getDisplayValue(o)),a.dataType==(0,u.getType)(o)&&(o=u.Globalize.format(o,a.format))}else r=(0,u.toHeaderCase)(r);var v=i.getAggregate(u.Aggregate.CntAll,null,e.collectionView);return(0,u.format)(n,{name:(0,u.escapeHtml)(r),value:d?o:(0,u.escapeHtml)(o),level:i.level,count:v})}return""},t.prototype._setCollapsed=function(e){var n=this,i=this.grid,r=i.rows,o=this.getCellRange(),a=new me(i.cells,new W(this.index,-1));i.onGroupCollapsedChanging(a)&&(i.deferUpdate(function(){r.deferUpdate(function(){n._setFlag(In.Collapsed,e,!0);for(var d=o.topRow+1;d<=o.bottomRow&&d>-1&&d<r.length;d++){r[d]._setFlag(In.ParentCollapsed,e,!0);var p=r[d];p instanceof t&&p.isCollapsed&&(d=p.getCellRange().bottomRow)}})}),i.onGroupCollapsedChanged(a))},t.prototype.getCellRange=function(){for(var e=this._list,n=this.index,i=e.length-1,r=n+1;r<=i;r++){var o=e[r];if(o instanceof t&&o.level<=this.level){i=r-1;break}}return new W(n,0,i,this.grid.columns.length-1)},t}(Lt),_t=function(s){function t(e,n){var i=s.call(this)||this;return i._frozen=0,i._lastFrozen=-1,i._firstVisible=-1,i._vlen=0,i._szDef=28,i._szTot=0,i._szCustom=!1,i._dirty=!1,i._g=(0,u.asType)(e,It),i._szDef=(0,u.asNumber)(n,!1,!0),i}return mt(t,s),Object.defineProperty(t.prototype,"grid",{get:function(){return this._g},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"defaultSize",{get:function(){return this._szDef},set:function(e){this._szCustom=!0,this._szDef!=e&&(this._szDef=(0,u.asNumber)(e,!1,!0),this._dirty=!0,this._g.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"frozen",{get:function(){return this._frozen},set:function(e){e!=this._frozen&&(this._frozen=(0,u.asNumber)(e,!1,!0),this._dirty=!0,this._g.invalidate())},enumerable:!0,configurable:!0}),t.prototype.isFrozen=function(e){return e<this.frozen},Object.defineProperty(t.prototype,"minSize",{get:function(){return this._szMin},set:function(e){e!=this._szMin&&(this._szMin=(0,u.asNumber)(e,!0,!0),this._dirty=!0,this._g.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxSize",{get:function(){return this._szMax},set:function(e){e!=this._szMax&&(this._szMax=(0,u.asNumber)(e,!0,!0),this._dirty=!0,this._g.invalidate())},enumerable:!0,configurable:!0}),t.prototype.getTotalSize=function(){return this._dirty&&this._update(),this._szTot},Object.defineProperty(t.prototype,"visibleLength",{get:function(){return this._dirty&&this._update(),this._vlen},enumerable:!0,configurable:!0}),t.prototype.getItemAt=function(e){if(this._dirty&&this._update(),e<=0&&this.length>0&&this[0].renderSize)return 0;for(var n,i,r=this.length,o=0,a=r-1;o<=a;)if((i=this[n=o+a>>>1])._pos>=e&&n>0)a=n-1;else{if(!(i._pos+i.renderSize<=e&&n<r-1)){for(;n>0&&!this[n].renderSize;)n--;for(;n<r-1&&!this[n].renderSize;)n++;return n}o=n+1}return a},t.prototype.getNextCell=function(e,n,i){var r;switch(void 0===i&&(i=0),n){case xn.Next:case xn.NextCell:for(r=e+1;r<this.length;r++)if(this[r].renderSize>0)return r;break;case xn.NextEditableCell:for(r=e+1;r<this.length;r++)if(this[r].renderSize>0&&!this[r].isReadOnly)return r;break;case xn.Prev:case xn.PrevCell:for(r=e-1;r>=0;r--)if(this[r].renderSize>0)return r;break;case xn.PrevEditableCell:for(r=e-1;r>=0;r--)if(this[r].renderSize>0&&!this[r].isReadOnly)return r;break;case xn.End:for(r=this.length-1;r>=0;r--)if(this[r].renderSize>0)return r;break;case xn.Home:for(r=0;r<this.length;r++)if(this[r].renderSize>0)return r;break;case xn.NextPage:return(r=this.getItemAt(this[e].pos+this[e].renderSize+i))<0?this.getNextCell(e,xn.End,i):r==e&&r<this.length-1&&this[r+1].renderSize?r+1:r;case xn.PrevPage:return(r=this.getItemAt(this[e].pos-i))<0?this.getNextCell(e,xn.Home,i):r==e&&r>0&&this[r-1].renderSize?r-1:r}return e},t.prototype.canMoveElement=function(e,n,i){if(void 0===i&&(i=!0),n==e||e<0||e>=this.length||n>=this.length)return!1;if(i){n<0&&(n=this.length-1);for(var r=Math.min(e,n),o=Math.max(e,n),a=r;a<=o;a++)if(!this[a].allowDragging)return!1}return!(this[n]instanceof Ge)},t.prototype.moveElement=function(e,n,i){if(void 0===i&&(i=!0),this.canMoveElement(e,n,i)){var r=this[e];if(this.removeAt(e),n<0&&(n=this.length),this.insert(n,r),i){var o=this.frozen;e<o&&n>=o?this.frozen--:e>=o&&n<o&&this.frozen++}return!0}return!1},t.prototype.onCollectionChanged=function(e){void 0===e&&(e=u.NotifyCollectionChangedEventArgs.reset),this._dirty=!0,this._g.invalidate(),s.prototype.onCollectionChanged.call(this,e)},t.prototype.push=function(e){return e._setList(this),s.prototype.push.call(this,e)},t.prototype.splice=function(e,n){for(var i=this,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];for(var a=e;a<e+n&&a<this.length;a++){var d=this[a];d instanceof Te&&d._setList(null)}return r.forEach(function(p){return p._setList(i)}),s.prototype.splice.apply(this,[e,n].concat(r))},t.prototype.beginUpdate=function(){this._update(),s.prototype.beginUpdate.call(this)},t.prototype._setDefaultSize=function(e){this._szCustom||(this.defaultSize=e,this._szCustom=!1)},t.prototype._update=function(){if(this._dirty&&!this.isUpdating){this._dirty=!1,this._lastFrozen=-1,this._firstVisible=-1;for(var e=0,n=0,i=void 0,r=void 0,o=0;o<this.length;o++)(r=this[o])._idx=o,r._idxVis=e,r._pos=n,r._setList(this),(i=r.renderSize)>0&&(n+=i,e++,o<this._frozen&&(this._lastFrozen=o)),this._firstVisible<0&&r.visible&&(this._firstVisible=o);return this._vlen=e,this._szTot=n,!0}return!1},t}(u.ObservableArray),Ut=function(s){function t(){return null!==s&&s.apply(this,arguments)||this}return mt(t,s),t.prototype.getColumn=function(e){var n=(0,u.isNumber)(e)?e:this.indexOf(e);return n>-1?this[n]:null},t.prototype.indexOf=function(e){if(e instanceof $t)return s.prototype.indexOf.call(this,e);for(var n=0;n<this.length;n++)if(this[n].name==e)return n;for(n=0;n<this.length;n++)if(this[n].binding==e)return n;return-1},Object.defineProperty(t.prototype,"describedById",{get:function(){return this._descById},set:function(e){e!=this._descById&&(this._descById=(0,u.asString)(e),this._g&&this._g.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstVisibleIndex",{get:function(){return this._dirty&&this._update(),this._firstVisible},enumerable:!0,configurable:!0}),t.prototype._updateStarSizes=function(e){var n,i=!1,r=0;e-=.5;for(var o=0;o<this.length;o++)(d=this[o]).isVisible&&(d._szStar?(r+=$t._parseStarSize(d._szStar),n=d):e-=d.renderWidth);if(n){var a=e;for(o=0;o<this.length;o++){var d;if((d=this[o]).isVisible&&d._szStar){var p=d._sz;d==n&&a>0?p=a:a-=p=Math.max(0,Math.round($t._parseStarSize(d._szStar)/r*e)),p!=d._sz&&(d._sz=p,i=!0)}}return i&&(this._dirty=!0,this._update()),i}return!1},t}(_t),fn=function(s){function t(){var e=null!==s&&s.apply(this,arguments)||this;return e._maxLevel=-1,e}return mt(t,s),Object.defineProperty(t.prototype,"ariaLabel",{get:function(){return this._ariaLabel},set:function(e){e!=this.ariaLabel&&(this._ariaLabel=(0,u.asString)(e),this._g&&this._g.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxGroupLevel",{get:function(){return this._dirty&&this._update(),this._maxLevel},enumerable:!0,configurable:!0}),t.prototype._update=function(){var e=this;if(s.prototype._update.call(this)){var n=this.grid?this.grid.collectionView:null,i=n?n.items:null,r=0;return this._maxLevel=-1,this.forEach(function(o){o instanceof rt&&o.level>e._maxLevel&&(e._maxLevel=o.level);var a=o.dataItem;a&&i?a===i[r]?o._idxData=r:a===i[r+1]?o._idxData=++r:a!==i[o._idxData]&&(o._idxData=-1):o._idxData=-1}),!0}return!1},t}(_t),un=function(){function s(t){this._updatingCollection=0,this._initialized=!1,this._grid=t,this._initializeColumnGroups(),this._initialized=!0}return Object.defineProperty(s.prototype,"columnGroups",{get:function(){return this._colGroups},enumerable:!0,configurable:!0}),s.prototype.createColumnGroups=function(t){this._initialized=!1,this._createColumnGroups(t),this._initialized=!0},s.prototype.hasColumnGroups=function(){return null!=this._colGroups&&this._colGroups.length>0},s.prototype.getGroupDefinitions=function(){return this._groupDefs},s.prototype.getColumnGroup=function(t,e){return this._getColumnGroup(t,e)},s.prototype.canMoveColumnGroup=function(t,e,n,i){if(t==n&&e==i)return!1;var r=this._grid,o=r.columnHeaders.rows,a=r.columns;if(t<0||t>=o.length||e<0||e>=a.length||n<0||n>=o.length||i<0||i>=a.length)return!1;var d=this._getColumnGroup(t,e),p=this._getColumnGroup(n,i);if(!d||!p||d==p||d.level<p.level&&d._containsGroup(p))return!1;var v=d.parentGroup;return!v||v===p.parentGroup||!v._isCollapseTo(d)},s.prototype.moveColumnGroup=function(t,e,n,i,r){if(this.canMoveColumnGroup(t,e,n,i)){var o=this._getColumnGroup(t,e),a=this._getColumnGroup(n,i);if(!o||!a||o==a||r&&!a.isEmpty)return!1;var d=this._getCollection(o),p=r?a.columns:this._getCollection(a);if(!d||!p)return!1;var v=r?0:p.indexOf(a);return!(v<0||(!r&&d!=p&&i>e&&v++,this._deferCollectionUpdate(function(){if(!d.remove(o))return!1;p.insert(v,o)}),0))}return!1},s.prototype.handleCollectionChange=function(){this._initialized&&!this._updatingCollection&&(this._initialized=!1,this._buildColumnGroups(),this._initialized=!0)},s.prototype.handlePropertyChange=function(t){if(t&&this._initialized){var e=this._grid,n=t._rng,i=t.header;if(i!=t._curr_header)for(var r=n.topRow;r<=n.bottomRow;r++)for(var o=n.leftCol;o<=n.rightCol;o++)e.columnHeaders.setCellData(r,o,i),t._curr_header=i;t.columns.length>0&&e.invalidate()}},s.prototype._initializeColumnGroups=function(){var t=this._grid,e=new Pn;this._groupDefs=e,this._colGroups=e,this._colGroups._setOwner(t),this._colGroups._setChangeHandler(this)},s.prototype._createColumnGroups=function(t){this._groupDefs=(0,u.asArray)(t),this._colGroups&&this._colGroups._setOwner(null),this._colGroups=Pn._parse(t),this._buildColumnGroups()},s.prototype._buildColumnGroups=function(){var t=this,e=this._grid;this._colGroups._removeChangeHandler(),this._assertColumnGroups(this._colGroups),e.autoGenerateColumns=!1,e.columns.clear(),this._colGroups._setOwner(e),this._colGroups.forEach(function(v){v._beginBuild()});var n=0;this._colGroups.forEach(function(v){t._addColumnGroup(v),n=Math.max(n,v._getMaxLevel())}),this._colGroups.forEach(function(v){v._expandRange(n)});var i=e.columnHeaders.rows;i.clear();for(var r=0;r<=n;r++){var o=new Lt;i.splice(r,0,o),r<n&&(o.cssClassAll="wj-colgroup")}for(r=0;r<i.length;r++)for(var a=0;a<e.columns.length;a++){var d=this._getColumnGroup(r,a);if(d){var p=d.header||(0,u.toHeaderCase)(d.binding);e.columnHeaders.setCellData(r,a,p),d._curr_header=d.header}}this._colGroups._setChangeHandler(this),this._colGroups.forEach(function(v){v._checkIfCollapsed()})},s.prototype._getColumnGroup=function(t,e){var n=this._grid;if(t<n.columnHeaders.rows.length&&e<n.columns.length)for(var i=this._colGroups;i;){for(var r=i,o=0;o<i.length;o++){var a=i[o],d=a._rng;if(d.containsColumn(e)){if(d.containsRow(t)||0==a.columns.length)return a;i=a.columns;break}}if(i==r)break}return null},s.prototype._getCollection=function(t){var e=t.parentGroup;return e?e.columns:this._colGroups},s.prototype._assertColumnGroups=function(t){var e=this;(0,u.assert)(t instanceof Pn,"column groups contain items of invalid collection type"),t.forEach(function(n){(0,u.assert)(n instanceof Ft,"column groups contain items of invalid type"),e._assertColumnGroups(n.columns)})},s.prototype._addColumnGroup=function(t){var e=this,n=this._grid;t._rng.col=n.columns.length,0==t.columns.length?n.columns.push(t):t.columns.forEach(function(i){e._addColumnGroup(i)}),t._rng.col2=n.columns.length-1},s.prototype._beginCollectionUpdate=function(){this._updatingCollection++},s.prototype._endCollectionUpdate=function(){this._updatingCollection--,this._updatingCollection<=0&&this.handleCollectionChange()},s.prototype._deferCollectionUpdate=function(t){try{this._beginCollectionUpdate(),t()}finally{this._endCollectionUpdate()}},s}(),Ft=function(s){function t(e,n){var i=s.call(this)||this;i._rng=new W(0,-1),i._lvl=0,i._collapsed=!1,i._cols=new Pn,(0,u.copy)(i,e);var r=n&&n.columns;return r&&r.indexOf(i)<0&&r.push(i),i}return mt(t,s),t.prototype._copy=function(e,n){if("columns"==e){var i=(0,u.asArray)(n);return this._cols=Pn._parse(i),!0}return!1},Object.defineProperty(t.prototype,"columns",{get:function(){return this._cols},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnGroups",{get:function(){return this._cols},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isEmpty",{get:function(){return 0===this._cols.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentGroup",{get:function(){var e=this._ownerList,n=e&&e.owner;return n instanceof t?n:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"level",{get:function(){for(var e=this,n=0;e.parentGroup;)e=e.parentGroup,n++;return n},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"collapseTo",{get:function(){return this._collTo},set:function(e){(0,u.assert)((0,u.isArray)(e)||(0,u.isString)(e),"collapseTo should be an array or a string."),this._collTo!=e&&(this._collTo=e,this._updateCollapsedState())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isCollapsed",{get:function(){return this._collapsed},set:function(e){var n=this.grid,i=null;e!=this._collapsed&&(n?(i=new me(n.columnHeaders,this._rng,this),n.onColumnGroupCollapsedChanging(i)?this._collapsed=(0,u.asBoolean)(e):i=null):this._collapsed=(0,u.asBoolean)(e)),this._updateCollapsedState(),n&&i&&n.onColumnGroupCollapsedChanged(i)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"grid",{get:function(){var e=this._ownerList,n=e&&e.owner;return n instanceof t?n.grid:n instanceof It?n:null},enumerable:!0,configurable:!0}),t.prototype._beginBuild=function(){this._lvl=0;for(var e=this.parentGroup;e;e=e.parentGroup)this._lvl++;this._rng=new W(0,-1),this._rng.row=this._rng.row2=this._lvl,this._cols.forEach(function(n){n._beginBuild()})},t.prototype._setChangeHandler=function(e){this._changeHdl=e,this._cols._setChangeHandler(e)},t.prototype._removeChangeHandler=function(){this._changeHdl=null,this._cols._removeChangeHandler()},t.prototype._setOwnerList=function(e){e!=this._ownerList&&(this._ownerList=e)},t.prototype._checkIfCollapsed=function(){var e=this.grid;e&&e.columns&&(this._collapsed?this._updateCollapsedState():this._cols.forEach(function(n){n._checkIfCollapsed()}))},t.prototype._updateCollapsedState=function(){var e=this.grid,n=e?e.columns:null,i=this._rng,r=this._collapsed;if(n){this._cols.forEach(function(p){p instanceof t&&(p._collapsed=r,p._updateCollapsedState())});for(var o=this._getCollapseToIndices(),a=i.leftCol;a<=i.rightCol;a++){var d=!r||o.indexOf(a)>-1;n[a]._setFlag(In.ParentCollapsed,!d)}}},t.prototype._getMaxLevel=function(){var e=this._lvl;return this.columns.forEach(function(n){e=Math.max(e,n._getMaxLevel())}),e},t.prototype._expandRange=function(e){var n=e-this._getMaxLevel();n>0&&(this._rng.row2+=n,this._cols.forEach(function(a){a._shiftRange(n)}));for(var i=this.grid.columns,r=this._rng,o=r.col;o<=r.col2;o++)i[o]._rng.row2=e},t.prototype._shiftRange=function(e){this._rng.row+=e,this._rng.row2+=e,this._cols.forEach(function(n){n._shiftRange(e)})},t.prototype._containsGroup=function(e){for(var n=0;n<this._cols.length;n++){var i=this._cols[n];if(i==e||i._containsGroup(e))return!0}return!1},t.prototype._isCollapseTo=function(e){var n=this.grid,i=n?n.columns:null;if(!e||!i)return!1;var r=this._getCollapseToBindings();if(r&&r.length)for(var o=0;o<r.length;o++)switch(r[o]){case"$first":case"$last":continue;default:if(e===i.getColumn(r[o]))return!0}return!1},t.prototype._getCollapseToBindings=function(){var e=this.collapseTo;return(0,u.isString)(e)?[e]:e},t.prototype._getCollapseToIndices=function(){var e=this.grid,n=this._rng,i=this._getCollapseToBindings();if(i&&i.length){for(var r=[],o=e.columns,a=0;a<i.length;a++)switch(i[a]){case"$first":r.push(n.leftCol);break;case"$last":r.push(n.rightCol);break;default:var d=o.getColumn(i[a]),p=o.indexOf(d);d&&n.containsColumn(p)&&r.push(p)}if(r.length)return r}return[n.rightCol]},t.prototype.onPropertyChanged=function(){var e=this._changeHdl;e&&e.handlePropertyChange(this),s.prototype.onPropertyChanged.call(this)},t}($t),Pn=function(s){function t(){return null!==s&&s.apply(this,arguments)||this}return mt(t,s),t.prototype.getColumn=function(e){return(0,u.isNumber)(e)?this._getColByIdx(e):this._findColByProp("name",e)||this._findColByProp("binding",e)},Object.defineProperty(t.prototype,"owner",{get:function(){return this._owner},enumerable:!0,configurable:!0}),t.prototype.push=function(e){return e._setOwnerList(this),s.prototype.push.call(this,e)},t.prototype.splice=function(e,n){for(var i=this,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];for(var a=e;a<e+n&&a<this.length;a++){var d=this[a];d instanceof Ft&&d._setOwnerList(null)}return r.forEach(function(p){return p._setOwnerList(i)}),s.prototype.splice.apply(this,[e,n].concat(r))},t._parse=function(e){var n=null;return e?e instanceof t?n=e:(n=new t,e.forEach(function(i){var r=i instanceof Ft?i:new Ft(i);n.indexOf(r)<0&&n.push(r)})):n=new t,n},t.prototype._setChangeHandler=function(e){this._changeHdl=e,this.forEach(function(n){return n._setChangeHandler(e)})},t.prototype._removeChangeHandler=function(){this._changeHdl=null,this.forEach(function(e){return e._removeChangeHandler()})},t.prototype._setOwner=function(e){this._owner=e,this.forEach(function(n){return n.columns._setOwner(n)})},t.prototype._getColByIdx=function(e){return e>-1&&e<this.length?this[e]:null},t.prototype._findColByProp=function(e,n){for(var i=0;i<this.length;i++){var r=this[i];if(r[e]===n||null!==(r=r.columns._findColByProp(e,n)))return r}return null},t.prototype.onCollectionChanged=function(e){void 0===e&&(e=u.NotifyCollectionChangedEventArgs.reset);var n=this._changeHdl;n&&n.handleCollectionChange(),s.prototype.onCollectionChanged.call(this,e)},t}(u.ObservableArray);(0,u._addCultureInfo)("FlexGrid",{groupHeaderFormat:"{name}: <b>{value}</b> ({count:n0} items)",ariaLabels:{toggleDropDown:"Toggle Dropdown",toggleGroup:"Toggle Group"}}),function(s){s[s.None=0]="None",s[s.SingleColumn=1]="SingleColumn",s[s.MultiColumn=2]="MultiColumn"}(yn||(yn={})),function(s){s[s.None=0]="None",s[s.SingleColumn=1]="SingleColumn",s[s.ColumnRange=2]="ColumnRange",s[s.Both=3]="Both"}(Dn||(Dn={})),function(s){s[s.None=0]="None",s[s.Column=1]="Column",s[s.Row=2]="Row",s[s.All=3]="All"}(On||(On={})),function(s){s[s.Default=0]="Default",s[s.CSV=1]="CSV",s[s.QuoteAll=2]="QuoteAll",s[s.SkipMerged=4]="SkipMerged",s[s.Unformatted=8]="Unformatted",s[s.InvisibleRows=16]="InvisibleRows",s[s.InvisibleColumns=32]="InvisibleColumns",s[s.InvisibleCells=48]="InvisibleCells"}(Ti||(Ti={}));var Pt,It=function(s){function t(e,n){var i=s.call(this,e,null,!0)||this;i._activeCell=null,i._szClient=new u.Size(0,0),i._szClientSB=new u.Size(0,0),i._offsetY=0,i._cssPage=0,i._ptScrl=new u.Point(0,0),i._cellPadLeft=3,i._cellPadHorz=3,i._cellPadVert=0,i._clipToScreen=!1,i._autoGenCols=!0,i._autoClipboard=!0,i._xOnCopyPaste=!0,i._autoScroll=!0,i._autoSearch=!1,i._caseSensitive=!1,i._readOnly=!1,i._indent=14,i._autoSizeMode=qt.Both,i._autoHeights=!1,i._quickSize=null,i._hdrVis=On.All,i._alSorting=yn.SingleColumn,i._alPinning=Dn.None,i._alAddNew=!1,i._alDelete=!1,i._alResizing=si.Columns,i._alDragging=Je.Columns,i._alMerging=Pt.None,i._ssHdr=On.None,i._shSort=!0,i._shGroups=!0,i._shMarquee=!1,i._shPlcHld=!1,i._altStep=1,i._shErr=!0,i._shDropDown=!0,i._valEdt=!0,i._gHdrFmt=null,i._childItemsPath=null,i._sortRowIndex=null,i._editColIndex=null,i._deferResizing=!1,i._pSel=!0,i._pOutline=!0,i._stickyHdr=!1,i._anchorCursor=!1,i._copyHeaders=On.None,i._bigChecks=!1,i._skipMerged=!1,i._fzClone=null,i._vt=0,i._vtRows=0,i._vtCols=0,i._lazyRender=!0,i._refreshOnEdit=!0,i._reorderCells=!0,i._isISChanging=!1,i._isScrollingByWheel=!1,i._touchEdit=!1,i.itemsSourceChanging=new u.Event,i.itemsSourceChanged=new u.Event,i.scrollPositionChanged=new u.Event,i.selectionChanging=new u.Event,i.selectionChanged=new u.Event,i.loadingRows=new u.Event,i.loadedRows=new u.Event,i.updatingLayout=new u.Event,i.updatedLayout=new u.Event,i.resizingColumn=new u.Event,i.resizedColumn=new u.Event,i.autoSizingColumn=new u.Event,i.autoSizedColumn=new u.Event,i.starSizedColumns=new u.Event,i.draggingColumn=new u.Event,i.draggingColumnOver=new u.Event,i.draggedColumn=new u.Event,i.pinningColumn=new u.Event,i.pinnedColumn=new u.Event,i.resizingRow=new u.Event,i.resizedRow=new u.Event,i.autoSizingRow=new u.Event,i.autoSizedRow=new u.Event,i.draggingRow=new u.Event,i.draggingRowOver=new u.Event,i.draggedRow=new u.Event,i.groupCollapsedChanging=new u.Event,i.groupCollapsedChanged=new u.Event,i.columnGroupCollapsedChanging=new u.Event,i.columnGroupCollapsedChanged=new u.Event,i.sortingColumn=new u.Event,i.sortedColumn=new u.Event,i.beginningEdit=new u.Event,i.prepareCellForEdit=new u.Event,i.cellEditEnding=new u.Event,i.cellEditEnded=new u.Event,i.rowEditStarting=new u.Event,i.rowEditStarted=new u.Event,i.rowEditEnding=new u.Event,i.rowEditEnded=new u.Event,i.rowAdded=new u.Event,i.deletingRow=new u.Event,i.deletedRow=new u.Event,i.copying=new u.Event,i.copied=new u.Event,i.pasting=new u.Event,i.pasted=new u.Event,i.pastingCell=new u.Event,i.pastedCell=new u.Event,i.formatItem=new u.Event(function(){i._clearCells()}),i.updatingView=new u.Event,i.updatedView=new u.Event,i._mappedColumns=null;var r=i.hostElement;(0,u.isIE)()&&(r.style.borderRadius="0");var o=i.getTemplate();if(i.applyTemplate("wj-control wj-content wj-flexgrid",o,{_root:"root",_eSz:"sz",_eCt:"cells",_fCt:"fcells",_eTL:"tl",_eBL:"bl",_eCHdr:"ch",_eRHdr:"rh",_eCFtr:"cf",_eTLCt:"tlcells",_eBLCt:"blcells",_eCHdrCt:"chcells",_eCFtrCt:"cfcells",_eRHdrCt:"rhcells",_eMarquee:"marquee",_eFocus:"focus"}),(0,u.setCss)(i._root.parentElement,{position:"relative",left:"0",top:"0",width:"100%",height:"100%",overflow:"hidden",minWidth:"inherit",minHeight:"inherit",maxWidth:"inherit",maxHeight:"inherit"}),(0,u.setCss)(i._root,{position:"absolute",left:"0",top:"0",width:"100%",height:"100%",minWidth:"inherit",minHeight:"inherit",maxWidth:"inherit",maxHeight:"inherit",overflow:"auto",webkitOverflowScrolling:"touch"}),(0,u.setCss)(i._eCt,{position:"absolute"}),(0,u.setCss)(i._eMarquee,{display:"none"}),(0,u.setCss)(i._eMarquee.firstChild,{width:"100%",height:"100%"}),(0,u.setCss)(i._fCt,{position:"absolute",left:"0",top:"0",overflow:"hidden",pointerEvents:"none"}),(0,u.setCss)(i._eFocus,{position:"fixed",left:"-32000px"}),(0,u.setCss)(i._eSz,{position:"relative",visibility:"hidden"}),[i._eRHdr,i._eCFtr,i._eCHdr,i._eBL,i._eTL].forEach(function(d){(0,u.setAttribute)(d,"aria-hidden",!0),(0,u.setCss)(d,{position:"absolute",overflow:"hidden",outline:"none"}),(0,u.setCss)(d.firstElementChild,{position:"relative"})}),[i._eFocus,i._eMarquee,i._fCt,i._eSz].forEach(function(d){(0,u.setAttribute)(d,"aria-hidden",!0)}),(0,u.isIE9)()||(0,u.isIE10)()){var a=i._eMarquee;["click","dblclick","mousedown","mouseup"].forEach(function(d){i.addEventListener(a,d,function(p){var v=a.style.display;a.style.display="none";var M=document.elementFromPoint(p.clientX,p.clientY);a.style.display=v;var T=document.createEvent("Event");for(var k in T.initEvent(d,!0,!0),p)try{T[k]=p[k]}catch{}M.dispatchEvent(T)})})}return r.tabIndex=-1,i.deferUpdate(function(){var d=i._getDefaultRowHeight();i._rows=new fn(i,d),i._cols=new Ut(i,4*d),i._hdrRows=new fn(i,d),i._hdrCols=new Ut(i,Math.round(1.25*d)),i._ftrRows=new fn(i,d);var p=X;i._gpTL=new de(i,p.TopLeft,i._hdrRows,i._hdrCols,i._eTLCt),i._gpCHdr=new de(i,p.ColumnHeader,i._hdrRows,i._cols,i._eCHdrCt),i._gpRHdr=new de(i,p.RowHeader,i._rows,i._hdrCols,i._eRHdrCt),i._gpCells=new de(i,p.Cell,i._rows,i._cols,i._eCt),i._gpBL=new de(i,p.BottomLeft,i._ftrRows,i._hdrCols,i._eBLCt),i._gpCFtr=new de(i,p.ColumnFooter,i._ftrRows,i._cols,i._eCFtrCt),i._hdrRows.push(new Lt),i._hdrCols.push(new $t({align:"center"})),i._cf=new Fn,i._keyHdl=new Wi(i),i._mouseHdl=new Ae(i),i._edtHdl=new ln(i),i._selHdl=i._createSelHdl(),i._addHdl=new Ht(i),i._grpHdl=new un(i),i._mrgMgr=new Yt,i._bndSortConverter=i._sortConverter.bind(i),i._errorTip=new u.Tooltip({isContentHtml:!1,showDelay:0,cssClass:"wj-error-tip"}),(0,u.setAttribute)(i.cells.hostElement,"role","grid"),i.selectionMode=Et.CellRange,i._root.tabIndex=-1,i.initialize(n)}),i.addEventListener(i._root,"scroll",function(d){if(i._updateScrollPosition()||i._forceScrollUpdate){var p=i.activeEditor,v=i.activeCell,M=v?v.className:null;i._forceScrollUpdate||i.finishEditing(),i._forceScrollUpdate=!1,i._updateContent(!0);var T=i.activeEditor,k=i.activeCell;T&&k&&p&&M?(T.value=p.value,k.className=M,i._setFocusNoScroll(T)):T&&!k&&i.finishEditing(!0),i.frozenColumns&&setTimeout(function(){var Y=parseInt(i.columnHeaders.hostElement.style.left);Math.abs(Y-i._ptScrl.x)>1&&i.invalidate()})}}),i.addEventListener(r,"focus",function(d){if(r.tabIndex>-1){var p=d.target;p instanceof HTMLElement&&p.tabIndex<0&&i._setFocus(!0)}},!0),i}return mt(t,s),t.prototype._handleResize=function(){var e=this;this._rcBounds=null,this.activeEditor&&this.isTouching||this._touchEdit?setTimeout(function(){e.activeEditor||(e._touchEdit=!0,e.startEditing(!0))},50):s.prototype._handleResize.call(this),this._touchEdit=!1},Object.defineProperty(t.prototype,"headersVisibility",{get:function(){return this._hdrVis},set:function(e){(e=(0,u.asEnum)(e,On))!=this._hdrVis&&(this._hdrVis=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stickyHeaders",{get:function(){return this._stickyHdr},set:function(e){e!=this._stickyHdr&&(this._stickyHdr=(0,u.asBoolean)(e),this._updateStickyHeaders(),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"preserveSelectedState",{get:function(){return this._pSel},set:function(e){this._pSel=(0,u.asBoolean)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"preserveOutlineState",{get:function(){return this._pOutline},set:function(e){this._pOutline=(0,u.asBoolean)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"anchorCursor",{get:function(){return this._anchorCursor},set:function(e){this._anchorCursor=(0,u.asBoolean)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"copyHeaders",{get:function(){return this._copyHeaders},set:function(e){this._copyHeaders=(0,u.asEnum)(e,On)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lazyRender",{get:function(){return this._lazyRender},set:function(e){this._lazyRender=(0,u.asBoolean)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"refreshOnEdit",{get:function(){return this._refreshOnEdit},set:function(e){this._refreshOnEdit=(0,u.asBoolean)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"virtualizationThreshold",{get:function(){return this._vt},set:function(e){this._vt=e,(0,u.isNumber)(e)?this._vtRows=this._vtCols=(0,u.asNumber)(e):e?(0,u.isArray)(e)&&2==e.length?(this._vtRows=(0,u.asNumber)(e[0]),this._vtCols=(0,u.asNumber)(e[1])):(0,u.assert)(!1,"virtualizationThreshold should be a number or an array with two numbers."):this._vtRows=this._vtCols=0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoGenerateColumns",{get:function(){return this._autoGenCols},set:function(e){this._autoGenCols=(0,u.asBoolean)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoClipboard",{get:function(){return this._autoClipboard},set:function(e){this._autoClipboard=(0,u.asBoolean)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"expandSelectionOnCopyPaste",{get:function(){return this._xOnCopyPaste},set:function(e){this._xOnCopyPaste=(0,u.asBoolean)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoScroll",{get:function(){return this._autoScroll},set:function(e){this._autoScroll=(0,u.asBoolean)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoSearch",{get:function(){return this._autoSearch},set:function(e){this._autoSearch=(0,u.asBoolean)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"caseSensitiveSearch",{get:function(){return this._caseSensitive},set:function(e){this._caseSensitive=(0,u.asBoolean)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnLayout",{get:function(){var e,n=this._hasColumnGroups(),i=n?Ft:$t,r=n?"columnGroups":"columns",o=t._getSerializableProperties(i),a=n?["collapseTo"]:[],d=["size"],p=new i,v=n?this.getColumnGroups():this.columns,M=function(k){var L=[];return k.forEach(function(Y){var ce={};if(o.forEach(function(Ee){var ze,st,Me=Y[Ee];(st=Me)!=p[ze=Ee]&&d.indexOf(ze)<0&&((0,u.isPrimitive)(st)||a.indexOf(ze)>-1)&&(ce[Ee]=Me)}),n){var ae=Y.columns;ae.length&&(ce.columns=M(ae))}L.push(ce)}),L},T=M(v);return JSON.stringify(((e={})[r]=T,e))},set:function(e){var n=this,i=JSON.parse((0,u.asString)(e));(0,u.assert)(i,"Invalid columnLayout data."),this.columns.deferUpdate(function(){n.columns.clear(),n._hasColumnGroups()&&(n.columnGroups=new Pn),n.initialize(i)})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnGroups",{get:function(){return this._grpHdl.getGroupDefinitions()},set:function(e){this.columns.clear(),this._grpHdl.createColumnGroups((0,u.asArray)(e))},enumerable:!0,configurable:!0}),t.prototype.getColumnGroups=function(){return this._grpHdl.columnGroups},Object.defineProperty(t.prototype,"isReadOnly",{get:function(){return this._readOnly},set:function(e){e!=this._readOnly&&(this._readOnly=(0,u.asBoolean)(e),this.finishEditing(),this.invalidate(!0),this._addHdl.updateNewRowTemplate(),(0,u.toggleClass)(this.hostElement,"wj-state-readonly",this.isReadOnly),this._setAria("readonly",this.isReadOnly?"true":null))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bigCheckboxes",{get:function(){return this._bigChecks},set:function(e){this._bigChecks=(0,u.asBoolean)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"skipMerged",{get:function(){return this._skipMerged},set:function(e){this._skipMerged=(0,u.asBoolean)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDisabled",{get:function(){return this._e&&null!=this._e.getAttribute("disabled")},set:function(e){if((e=(0,u.asBoolean)(e,!0))!=this.isDisabled){var n=this._e;n&&((0,u.enable)(n,!e),this._updateTabIndex(),this.invalidate())}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"imeEnabled",{get:function(){return null!=this._imeHdl},set:function(e){if((0,u.asBoolean)(e)!=this.imeEnabled&&this.finishEditing()){var n=this.containsFocus();this._imeHdl&&(this._imeHdl.dispose(),this._imeHdl=null),e&&(this._imeHdl=new Ue(this)),n&&this.focus()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowResizing",{get:function(){return this._alResizing},set:function(e){this._alResizing=(0,u.asEnum)(e,si)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"deferResizing",{get:function(){return this._deferResizing},set:function(e){this._deferResizing=(0,u.asBoolean)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoSizeMode",{get:function(){return this._autoSizeMode},set:function(e){this._autoSizeMode=(0,u.asEnum)(e,qt)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoRowHeights",{get:function(){return this._autoHeights},set:function(e){this._autoHeights=(0,u.asBoolean)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"quickAutoSize",{get:function(){return this._quickSize},set:function(e){this._quickSize=(0,u.asBoolean)(e,!0)},enumerable:!0,configurable:!0}),t.prototype._getQuickAutoSize=function(){return(0,u.isBoolean)(this._quickSize)?this._quickSize:!this.formatItem.hasHandlers&&null==this.itemFormatter},Object.defineProperty(t.prototype,"allowSorting",{get:function(){return this._alSorting},set:function(e){(0,u.isBoolean)(e)&&(e=e?yn.SingleColumn:yn.None),this._alSorting=(0,u.asEnum)(e,yn)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowPinning",{get:function(){return this._alPinning},set:function(e){e!=this._alPinning&&((0,u.isBoolean)(e)&&(e=e?Dn.SingleColumn:Dn.None),this._alPinning=(0,u.asEnum)(e,Dn),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowAddNew",{get:function(){return this._alAddNew},set:function(e){e!=this._alAddNew&&(this._alAddNew=(0,u.asBoolean)(e),this._addHdl.updateNewRowTemplate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"newRowAtTop",{get:function(){return this._addHdl.newRowAtTop},set:function(e){this._addHdl.newRowAtTop=(0,u.asBoolean)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowDelete",{get:function(){return this._alDelete},set:function(e){e!=this._alDelete&&(this._alDelete=(0,u.asBoolean)(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowMerging",{get:function(){return this._alMerging},set:function(e){(e=(0,u.asEnum)(e,Pt))!=this._alMerging&&(this._alMerging=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showSelectedHeaders",{get:function(){return this._ssHdr},set:function(e){(e=(0,u.asEnum)(e,On))!=this._ssHdr&&(this._ssHdr=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showMarquee",{get:function(){return this._shMarquee},set:function(e){e!=this._shMarquee&&(this._shMarquee=(0,u.asBoolean)(e),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showPlaceholders",{get:function(){return this._shPlcHld},set:function(e){this._shPlcHld=(0,u.asBoolean)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showSort",{get:function(){return this._shSort},set:function(e){e!=this._shSort&&(this._shSort=(0,u.asBoolean)(e),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showGroups",{get:function(){return this._shGroups},set:function(e){e!=this._shGroups&&(this._shGroups=(0,u.asBoolean)(e),this._bindGrid(!1))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"alternatingRowStep",{get:function(){return this._altStep},set:function(e){e!=this._altStep&&(this._altStep=(0,u.asInt)(e,!1,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showAlternatingRows",{get:function(){return this._altStep>0},set:function(e){(0,u._deprecated)("showAlternatingRows","alternatingRowStep"),this.alternatingRowStep=e?1:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showErrors",{get:function(){return this._shErr},set:function(e){e!=this._shErr&&(this._clearCells(),this._shErr=(0,u.asBoolean)(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"errorTip",{get:function(){return this._errorTip},set:function(e){e!=this._errorTip&&(this._clearCells(),this._errorTip=(0,u.asType)(e,u.Tooltip,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemValidator",{get:function(){return this._itemValidator},set:function(e){e!=this.itemValidator&&(this._itemValidator=(0,u.asFunction)(e),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validateEdits",{get:function(){return this._valEdt},set:function(e){this._valEdt=(0,u.asBoolean)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"groupHeaderFormat",{get:function(){return this._gHdrFmt},set:function(e){e!=this._gHdrFmt&&(this._gHdrFmt=(0,u.asString)(e),this._bindGrid(!1))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowDragging",{get:function(){return this._alDragging},set:function(e){(e=(0,u.asEnum)(e,Je))!=this._alDragging&&(this._alDragging=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ariaLabel",{get:function(){return this._ariaLabel},set:function(e){this._ariaLabel=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemsSource",{get:function(){return this._items},set:function(e){var n=this;if(e!=this._items){var r,i=new u.CancelEventArgs;if(this.onItemsSourceChanging(i))this._cv&&((r=this._cv).currentChanged.removeHandler(null,this),r.collectionChanged.removeHandler(null,this),r instanceof u.CollectionView&&r.sortConverter==this._bndSortConverter&&(r.sortConverter=null),this._cv=null),this._items=e,this._cv=this._getCollectionView(e),this._lastCount=0,this._cv&&((r=this._cv).currentChanged.addHandler(function(o,a){return n._cvCurrentChanged(o,a)},this),r.collectionChanged.addHandler(function(o,a){return n._cvCollectionChanged(o,a)},this),r instanceof u.CollectionView&&!r.sortConverter&&(r.sortConverter=this._bndSortConverter)),this._isISChanging=!0,this._bindGrid(!0),this._isISChanging=!1,this.onItemsSourceChanged(i)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"collectionView",{get:function(){return this._cv},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"editableCollectionView",{get:function(){return(0,u.tryCast)(this._cv,"IEditableCollectionView")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"childItemsPath",{get:function(){return this._childItemsPath},set:function(e){e!=this._childItemsPath&&((0,u.assert)(null==e||(0,u.isArray)(e)||(0,u.isString)(e),"childItemsPath should be an array or a string."),this._childItemsPath=e,this._bindGrid(!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rowHeaderPath",{get:function(){return this._rowHdrPath?this._rowHdrPath.path:null},set:function(e){e!=this.rowHeaderPath&&(e=(0,u.asString)(e),this._rowHdrPath=e?new u.Binding(e):null,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cells",{get:function(){return this._gpCells},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnHeaders",{get:function(){return this._gpCHdr},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnFooters",{get:function(){return this._gpCFtr},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rowHeaders",{get:function(){return this._gpRHdr},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"topLeftCells",{get:function(){return this._gpTL},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottomLeftCells",{get:function(){return this._gpBL},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rows",{get:function(){return this._rows},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columns",{get:function(){return this._cols},enumerable:!0,configurable:!0}),t.prototype.getColumn=function(e,n){if(this._hasColumnGroups()&&n){var i=this.getColumnGroups();return null!==i?i.getColumn(e):null}return this.columns.getColumn(e)},Object.defineProperty(t.prototype,"frozenRows",{get:function(){return this.rows.frozen},set:function(e){this.rows.frozen=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"frozenColumns",{get:function(){return this.columns.frozen},set:function(e){this.columns.frozen=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cloneFrozenCells",{get:function(){return this._fzClone},set:function(e){e!=this._fzClone&&((0,u.setText)(this._fCt,null),this._fzClone=(0,u.asBoolean)(e,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sortRowIndex",{get:function(){return this._sortRowIndex},set:function(e){e!=this._sortRowIndex&&(this._sortRowIndex=(0,u.asNumber)(e,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"editColumnIndex",{get:function(){return this._editColIndex},set:function(e){e!=this._editColIndex&&(this._editColIndex=(0,u.asNumber)(e,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollPosition",{get:function(){return this._ptScrl.clone()},set:function(e){var n=this._root,i=-e.x;if(this.rightToLeft)switch(t._getRtlMode()){case"rev":i=n.scrollWidth-n.clientWidth+e.x;break;case"neg":i=e.x;break;default:i=-e.x}n.scrollLeft=i,n.scrollTop=-e.y,this._updateScrollPosition()&&(this._forceScrollUpdate=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"clientSize",{get:function(){return this._szClient},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"controlRect",{get:function(){return this._rcBounds||(this._rcBounds=(0,u.getElementRect)(this._root)),this._rcBounds},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollSize",{get:function(){return new u.Size(this._gpCells.width,this._heightBrowser)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"viewRange",{get:function(){return this._gpCells.viewRange},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cellFactory",{get:function(){return this._cf},set:function(e){e!=this._cf&&(this._clearCells(),this._cf=(0,u.asType)(e,Fn,!1))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemFormatter",{get:function(){return this._itemFormatter},set:function(e){e!=this._itemFormatter&&(this._clearCells(),this._itemFormatter=(0,u.asFunction)(e))},enumerable:!0,configurable:!0}),t.prototype.canEditCell=function(e,n){return this._edtHdl._allowEdit(e,n)},t.prototype.getCellData=function(e,n,i){return this.cells.getCellData(e,n,i)},t.prototype.getCellBoundingRect=function(e,n,i){return this.cells.getCellBoundingRect(e,n,i)},t.prototype.setCellData=function(e,n,i,r,o){return void 0===r&&(r=!0),void 0===o&&(o=!0),this.cells.setCellData(e,n,i,r,o)},t.prototype.hitTest=function(e,n){return(0,u.isNumber)(e)&&(0,u.isNumber)(n)&&(e=new u.Point(e,n)),(0,u.isBoolean)(n)&&n&&(this._rcBounds=null),new ut(this,e)},t.prototype.getClipString=function(e,n,i,r){var o;o=null==n||(0,u.isBoolean)(n)?n?Ti.CSV:Ti.Default:n,(0,u.assert)((0,u.isNumber)(o),"Unexpected value for ClipStringOptions parameter.");var a=this.selection,d=this.getMergedRange(this.cells,a.row,a.col,!1);return(d&&(d.columnSpan>1||d.rowSpan>1)||this.skipMerged)&&(o|=Ti.SkipMerged),this._edtHdl.getClipString(e,o,i,r)},t.prototype.setClipString=function(e,n){this._edtHdl.setClipString(e,n)},t.prototype.focus=function(e){this.isDisabled||this._setFocus(e)},t.prototype.dispose=function(){this.finishEditing(!0),this.itemsSource=null,s.prototype.dispose.call(this)},t.prototype.refresh=function(e){void 0===e&&(e=!0),s.prototype.refresh.call(this,e),this.finishEditing(),e&&(this._updateColumnTypes(),this.scrollPosition=this._ptScrl,this._updateDefaultSizes(),clearTimeout(this._toInv),this._toInv=null),this.refreshCells(e);var n=this._e;n&&(this._szCtl=new u.Size(n.offsetWidth,n.offsetHeight))},t.prototype.refreshCells=function(e,n,i){this.isUpdating||(e?this._updateLayout():this._updateContent(n,i))},t.prototype.refreshRange=function(e){for(var n=e.topRow;n<=e.bottomRow;n++)for(var i=e.leftCol;i<=e.rightCol;i++){var r=this.cells.getCellElement(n,i);r&&this.cellFactory.updateCell(this.cells,n,i,r,r[de._INDEX_KEY].rng)}},t.prototype.autoSizeColumn=function(e,n,i){void 0===n&&(n=!1),void 0===i&&(i=4),this.autoSizeColumns(e,e,n,i)},t.prototype.autoSizeColumns=function(e,n,i,r){var o=this;void 0===i&&(i=!1),void 0===r&&(r=4);var a=0,d=i?this.topLeftCells:this.columnHeaders,p=i?this.bottomLeftCells:this.columnFooters,v=i?this.rowHeaders:this.cells,M=this.viewRange;e=null==e?0:(0,u.asInt)(e),n=null==n?v.columns.length-1:(0,u.asInt)(n),M.row=Math.max(0,M.row-1e3),M.row2=Math.min(M.row2+1e3,this.rows.length-1),this.finishEditing()&&this.columns.deferUpdate(function(){(0,u.setCss)(o._eCt,{width:o._gpCells.width});for(var T=(0,u.createElement)("<div "+t._WJS_MEASURE+'="true"/>',v.hostElement,{visibility:"hidden"}),k=o._getCanvasContext(),L=e;L<=n&&L>-1&&L<v.columns.length;L++){var Y=v.columns[L];if(Y.isVisible){if(a=0,o.autoSizeMode&qt.Headers){for(var ce=0;ce<d.rows.length;ce++)d.rows[ce].isVisible&&(a=Math.max(o._getDesiredWidth(d,ce,L,T),a));for(ce=0;ce<p.rows.length;ce++)p.rows[ce].isVisible&&(a=Math.max(o._getDesiredWidth(p,ce,L,T),a))}if(o.autoSizeMode&qt.Cells&&M.row>-1&&M.row2>-1)if(Y._getQuickAutoSize())ce=o._getWidestRow(v,M,L,k),a=Math.max(o._getDesiredWidth(v,ce,L,T),a);else for(ce=M.row;ce<=M.row2&&ce<v.rows.length;ce++)v.rows[ce].isVisible&&(a=Math.max(o._getDesiredWidth(v,ce,L,T),a));a>0&&(Y.width=a+r+2)}}o.cellFactory.disposeCell(T),(0,u.removeChild)(T)})},t.prototype.autoSizeRow=function(e,n,i){void 0===n&&(n=!1),void 0===i&&(i=0),this.autoSizeRows(e,e,n,i)},t.prototype.autoSizeRows=function(e,n,i,r){var o=this;void 0===i&&(i=!1),void 0===r&&(r=0);var a=0,d=1==i?this.topLeftCells:null==i?this.bottomLeftCells:this.rowHeaders,p=1==i?this.columnHeaders:null==i?this.columnFooters:this.cells;if(r=(0,u.asNumber)(r),e=null==e?0:(0,u.asInt)(e),(n=null==n?p.rows.length-1:(0,u.asInt)(n))>=e&&this.finishEditing()){(0,u.setCss)(this._eCt,{width:this._gpCells.width});var v=(0,u.createElement)("<div "+t._WJS_MEASURE+'="true"/>',p.hostElement,{visibility:"hidden"});this.rows.deferUpdate(function(){for(var M={},T=o._autoSizeMode,k=qt,L=e;L<=n&&L>-1&&L<p.rows.length;L++)p.rows[L].isVisible&&(a=0,T&k.Headers&&(a=o._getDesiredRowHeight(d,L,v,M)),T&k.Cells&&(a=Math.max(o._getDesiredRowHeight(p,L,v,M),a)),a>0&&(p.rows[L].height=a+r))}),this.cellFactory.disposeCell(v),(0,u.removeChild)(v)}},Object.defineProperty(t.prototype,"treeIndent",{get:function(){return this._indent},set:function(e){e!=this._indent&&(this._indent=(0,u.asNumber)(e,!1,!0),this.columns.onCollectionChanged())},enumerable:!0,configurable:!0}),t.prototype.collapseGroupsToLevel=function(e){var n=this;this.finishEditing()&&this.deferUpdate(function(){var i=n.rows;i.deferUpdate(function(){for(var r=0;r<i.length;r++){var o=i[r];o instanceof rt&&(o.isCollapsed=o.level>=e)}})})},Object.defineProperty(t.prototype,"selectionMode",{get:function(){return this._selHdl.selectionMode},set:function(e){(e=(0,u.asEnum)(e,Et))!=this.selectionMode&&(this._selHdl.selectionMode=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selection",{get:function(){return this._selHdl.selection.clone()},set:function(e){this._selHdl.selection=e},enumerable:!0,configurable:!0}),t.prototype.select=function(e,n){return void 0===n&&(n=!0),this._selHdl.select(e,n)},t.prototype.selectAll=function(){var e=this.rows.length,n=this.columns.length;return!(!e||!n)&&this.select(new W(0,0,e-1,n-1),!1)},t.prototype.getSelectedState=function(e,n){return this.cells.getSelectedState(e,n)},Object.defineProperty(t.prototype,"selectedRows",{get:function(){var e=this,n=this.selectionMode,i=this.rows.filter(function(o){return o.isSelected});if(0==i.length&&n!=Et.None){var r=[];this.selectedRanges.forEach(function(o){for(var a=o.topRow;a<=o.bottomRow&&a>-1&&a<e.rows.length;a++)r.indexOf(a)<0&&r.push(a)}),r.sort(),i=r.map(function(o){return e.rows[o]})}return i},set:function(e){var n=this;(0,u.assert)(this.selectionMode==Et.ListBox,"This property can be set only in ListBox mode."),e=(0,u.asArray)(e),this.deferUpdate(function(){for(var i=0,r=!0;i<n.rows.length;i++){var o=n.rows[i],a=e&&e.indexOf(o)>-1;a&&r&&(r=!1,n.select(i,n.selection.col)),o.isSelected=a}})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedItems",{get:function(){var e=[];return this.selectedRows.forEach(function(n){var i=n?n.dataItem:null;i&&e.indexOf(i)<0&&e.push(i)}),e},set:function(e){var n=this;(0,u.assert)(this.selectionMode==Et.ListBox,"This property can be set only in ListBox mode."),e=(0,u.asArray)(e),this.deferUpdate(function(){for(var i=0,r=!0;i<n.rows.length;i++){var o=n.rows[i],a=e&&e.indexOf(o.dataItem)>-1;a&&r&&(r=!1,n.select(i,n.selection.col)),o.isSelected=a}})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedRanges",{get:function(){var e=[this.selection];return this._selHdl.extendedSelection.forEach(function(n){e.push(n)}),e},set:function(e){if((e=(0,u.asArray)(e))&&e.length>0&&(this.select(e[0]),this.selectionMode==Et.MultiRange)){var n=this._selHdl.extendedSelection;n.deferUpdate(function(){n.clear();for(var i=1;i<e.length;i++)n.push(e[i])})}},enumerable:!0,configurable:!0}),t.prototype.scrollIntoView=function(e,n,i){(null==this._maxOffsetY||this._rows._dirty||this._cols._dirty)&&this._updateLayout();var r=this.scrollPosition,o=this._szClient,a=o.width,d=o.height-this._gpCFtr.rows.getTotalSize(),p=this.cells._getFrozenPos();if((e=(0,u.asInt)(e))>-1&&e<this._rows.length&&e>=this._rows.frozen){var v=this._rows[e],M=this._getCssPage(v.pos);if(M!=this._cssPage){for(var T=this._maxOffsetY,k=Math.round(T*M);k>v.pos;M-=.1)k=Math.round(T*M);this._offsetY=k}var L=v.pos-this._offsetY,Y=L+v.renderSize;Y>d-r.y&&(r.y=Math.max(-L,d-Y)),L-p.y<-r.y&&(r.y=-(L-p.y)),M!=this._cssPage&&(this._cssPage=this._getCssPage(-r.y))}if((0,u.isString)(n)&&(n=this.columns.indexOf(n)),(n=(0,u.asInt)(n))>-1&&n<this._cols.length&&n>=this._cols.frozen){var ce=this._cols[n],ae=ce.pos+ce.renderSize;ae>-r.x+a&&(r.x=Math.max(-ce.pos,a-ae)),ce.pos-p.x<-r.x&&(r.x=-(ce.pos-p.x))}if(!r.equals(this._ptScrl))return this.scrollPosition=r,i&&(this._updateScrollPosition(),this._forceScrollUpdate=!1,this.refresh()),!0;if(this._activeCell&&e>-1&&n>-1){var Ee=this._root,Me=Ee.scrollWidth==Ee.clientWidth,ze=Ee.scrollHeight==Ee.clientHeight;if(Me||ze){var st=this._activeCell.getBoundingClientRect(),xt=innerWidth,yt=innerHeight,St=st.right<0||st.left>xt,Dt=st.bottom<0||st.top>yt;r.x=pageXOffset+(st.left<0?st.left:st.right>xt?st.right-xt:0),r.y=pageYOffset+(st.top<0?st.top:st.bottom>yt?st.bottom-yt:0),St&&Me&&Dt&&ze?scrollTo(r.x,r.y):St&&Me?scrollTo(r.x,document.documentElement.scrollLeft):Dt&&ze&&scrollTo(document.documentElement.scrollTop,r.y)}}return!1},t.prototype.isRangeValid=function(e){return e&&e.isValid&&e.bottomRow<this.rows.length&&e.rightCol<this.columns.length},t.prototype.startEditing=function(e,n,i,r,o){return void 0===e&&(e=!0),this._edtHdl.startEditing(e,n,i,r,o)},t.prototype.finishEditing=function(e){return this._edtHdl.finishEditing(e)},Object.defineProperty(t.prototype,"activeCell",{get:function(){return this._activeCell},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activeEditor",{get:function(){var e=this._edtHdl;return e?e.activeEditor:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"editRange",{get:function(){var e=this._edtHdl.editRange;return e?e.clone():null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mergeManager",{get:function(){return this._mrgMgr},set:function(e){e!=this._mrgMgr&&(this._mrgMgr=(0,u.asType)(e,Yt,!0),this.invalidate())},enumerable:!0,configurable:!0}),t.prototype.getMergedRange=function(e,n,i,r){return void 0===r&&(r=!0),this._mrgMgr?this._mrgMgr.getMergedRange(e,n,i,r):null},Object.defineProperty(t.prototype,"keyActionTab",{get:function(){return this._keyHdl._kaTab},set:function(e){this._keyHdl._kaTab=(0,u.asEnum)(e,Ln)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"keyActionEnter",{get:function(){return this._keyHdl._kaEnter},set:function(e){this._keyHdl._kaEnter=(0,u.asEnum)(e,Ln)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"preserveWhiteSpace",{get:function(){return(0,u.hasClass)(this.hostElement,t._WJS_WSPRE)},set:function(e){(0,u.toggleClass)(this.hostElement,t._WJS_WSPRE,(0,u.asBoolean)(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showDropDown",{get:function(){return this._shDropDown},set:function(e){e!=this._shDropDown&&(this._shDropDown=(0,u.asBoolean)(e,!0),this.invalidate())},enumerable:!0,configurable:!0}),t.prototype.toggleDropDownList=function(){return this._tglDropDown||(this._tglDropDown=!0,this._edtHdl._toggleListBox(null),this._tglDropDown=!1),null!=this._edtHdl._lbx},Object.defineProperty(t,"defaultTypeWidth",{get:function(){return t._defTypeWidth},enumerable:!0,configurable:!0}),t.prototype.onItemsSourceChanging=function(e){return this.itemsSourceChanging.raise(this,e),!e.cancel},t.prototype.onItemsSourceChanged=function(e){this.itemsSourceChanged.raise(this,e)},t.prototype.onScrollPositionChanged=function(e){this.scrollPositionChanged.raise(this,e)},t.prototype.onSelectionChanging=function(e){return this.selectionChanging.raise(this,e),!e.cancel},t.prototype.onSelectionChanged=function(e){this.selectionChanged.raise(this,e)},t.prototype.onLoadingRows=function(e){return this.loadingRows.raise(this,e),!e.cancel},t.prototype.onLoadedRows=function(e){this.loadedRows.raise(this,e),this._autoRowHeights()},t.prototype.onUpdatingLayout=function(e){return this.updatingLayout.raise(this,e),!e.cancel},t.prototype.onUpdatedLayout=function(e){this.updatedLayout.raise(this,e)},t.prototype.onResizingColumn=function(e){return this.resizingColumn.raise(this,e),!e.cancel},t.prototype.onResizedColumn=function(e){this.resizedColumn.raise(this,e),this._autoRowHeights()},t.prototype.onAutoSizingColumn=function(e){return this.autoSizingColumn.raise(this,e),!e.cancel},t.prototype.onAutoSizedColumn=function(e){this.autoSizedColumn.raise(this,e)},t.prototype.onStarSizedColumns=function(e){this.starSizedColumns.raise(this,e),this._autoRowHeights()},t.prototype.onDraggingColumn=function(e){return this.draggingColumn.raise(this,e),!e.cancel},t.prototype.onDraggingColumnOver=function(e){return this.draggingColumnOver.raise(this,e),!e.cancel},t.prototype.onDraggedColumn=function(e){this.draggedColumn.raise(this,e)},t.prototype.onPinningColumn=function(e){return this.pinningColumn.raise(this,e),!e.cancel},t.prototype.onPinnedColumn=function(e){this.pinnedColumn.raise(this,e)},t.prototype.onResizingRow=function(e){return this.resizingRow.raise(this,e),!e.cancel},t.prototype.onResizedRow=function(e){this.resizedRow.raise(this,e)},t.prototype.onAutoSizingRow=function(e){return this.autoSizingRow.raise(this,e),!e.cancel},t.prototype.onAutoSizedRow=function(e){this.autoSizedRow.raise(this,e)},t.prototype.onDraggingRow=function(e){return this.draggingRow.raise(this,e),!e.cancel},t.prototype.onDraggingRowOver=function(e){return this.draggingRowOver.raise(this,e),!e.cancel},t.prototype.onDraggedRow=function(e){this.draggedRow.raise(this,e)},t.prototype.onGroupCollapsedChanging=function(e){return this.groupCollapsedChanging.raise(this,e),!e.cancel},t.prototype.onGroupCollapsedChanged=function(e){this.groupCollapsedChanged.raise(this,e)},t.prototype.onColumnGroupCollapsedChanging=function(e){return this.columnGroupCollapsedChanging.raise(this,e),!e.cancel},t.prototype.onColumnGroupCollapsedChanged=function(e){this.columnGroupCollapsedChanged.raise(this,e)},t.prototype.onSortingColumn=function(e){return this.sortingColumn.raise(this,e),!e.cancel},t.prototype.onSortedColumn=function(e){this.sortedColumn.raise(this,e)},t.prototype.onBeginningEdit=function(e){return this._addHdl._beginningEdit(this,e),e.cancel||this.beginningEdit.raise(this,e),!e.cancel},t.prototype.onPrepareCellForEdit=function(e){this.prepareCellForEdit.raise(this,e)},t.prototype.onCellEditEnding=function(e){return this.cellEditEnding.raise(this,e),!e.cancel&&!e.stayInEditMode},t.prototype.onCellEditEnded=function(e){this.cellEditEnded.raise(this,e),this._autoRowHeights()},t.prototype.onRowEditStarting=function(e){return this._addHdl._rowEditStarting(this,e),e.cancel||this.rowEditStarting.raise(this,e),!e.cancel},t.prototype.onRowEditStarted=function(e){this.rowEditStarted.raise(this,e)},t.prototype.onRowEditEnding=function(e){this._addHdl._rowEditEnding(this,e),this.rowEditEnding.raise(this,e)},t.prototype.onRowEditEnded=function(e){this.rowEditEnded.raise(this,e),this._addHdl._rowEditEnded(this,e),this._autoRowHeights()},t.prototype.onRowAdded=function(e){return this.rowAdded.raise(this,e),!e.cancel},t.prototype.onDeletingRow=function(e){return this.deletingRow.raise(this,e),!e.cancel},t.prototype.onDeletedRow=function(e){this.deletedRow.raise(this,e)},t.prototype.onCopying=function(e){return this.copying.raise(this,e),!e.cancel},t.prototype.onCopied=function(e){this.copied.raise(this,e)},t.prototype.onPasting=function(e){return this.pasting.raise(this,e),!e.cancel},t.prototype.onPasted=function(e){this.pasted.raise(this,e)},t.prototype.onPastingCell=function(e){return this.pastingCell.raise(this,e),!e.cancel},t.prototype.onPastedCell=function(e){this.pastedCell.raise(this,e)},t.prototype.onFormatItem=function(e){this.formatItem.raise(this,e)},t.prototype.onUpdatingView=function(e){return this.updatingView.raise(this,e),!e.cancel},t.prototype.onUpdatedView=function(e){this.updatedView.raise(this,e)},t.prototype._createSelHdl=function(){return new En(this)},t.prototype._getTabIndex=function(){return this._orgTabIndex},t.prototype._setTabOrder=function(e){this._orgTabIndex=e,this._updateTabIndex()},t.prototype._updateTabIndex=function(){var e=this.isDisabled?-1:this._orgTabIndex,n=this._imeHdl;n&&n._updateImeFocus();var i=this._activeCell,r=this._eFocus;i?(i.tabIndex=e,r.tabIndex=-1):r.tabIndex=e},t.prototype._autoRowHeights=function(){var e=this;this._autoHeights&&(this.rows.length>100&&[this.columnHeaders,this.rowHeaders].forEach(function(n){n._updateContent(!0,!1,n._getOffsetY())}),clearTimeout(this._toAutoHeights),this._toAutoHeights=setTimeout(function(){e._toAutoHeights=null,e.editRange||e._autoSizeRows()},u.Control._REFRESH_INTERVAL))},t.prototype._autoSizeRows=function(){var e=this.autoSizeMode,n=qt;e&n.Headers&&(this._autoSizeMode=n.Both,this.autoSizeRows(0,this.columnHeaders.rows.length-1,!0),this._autoSizeMode=e),e&n.Cells&&this.autoSizeRows()},t.prototype._getShowErrors=function(){return this.showErrors&&this._hasValidation},t.prototype._getHasValidation=function(){return this._hasValidation},t.prototype._getError=function(e,n,i,r){if((0,u.isFunction)(this.itemValidator)){if(e==this.cells)return this.itemValidator(n,i,r);if(e==this.rowHeaders)for(i=0;i<this.columns.length;i++)if(M=this.itemValidator(n,i,r))return M}var o=this._cv,a=o?o.getError:null;if((0,u.isFunction)(a)){var d=e.rows,p=this.columns,v=d[n].dataItem;if(v&&!(v instanceof u.CollectionViewGroup))if(e==this.cells)for(;n<d.length&&d[n].dataItem==v;n++)return a(v,this._getBindingColumn(this.cells,n,p[i]).binding,r);else if(e==this.rowHeaders){var M;if(!(M=a(v,null,!1))){for(var T=[];n<d.length&&d[n].dataItem==v;n++)for(i=0;i<p.length;i++){M=a(v,this._getBindingColumn(this.cells,n,p[i]).binding,!1);var k=this.getMergedRange(this.cells,n,i);M&&(!k||!(k.columnSpan>1&&k.col<i||k.rowSpan>1&&k.row<n))&&T.push(M)}if(T.length){var Y=this.errorTip;M=T.join(Y&&Y.isContentHtml?"<br/>":"\n")}}return M}}return null},t.prototype._setAria=function(e,n){(0,u.setAttribute)(this.cells.hostElement,"aria-"+e,n)},t.prototype._setFocus=function(e){if(this.hostElement){var n=(0,u.getActiveElement)(),i=this.activeEditor,r=this._activeCell,o=this._eFocus,a=this._root,d=this._getTabIndex(),p=this.containsFocus();if(!e&&p&&this.selectionMode!=Et.None){var v=this._getBindingColumn(this.cells,this.selection.row,this.columns[this.selection.col]),M=v&&v._edt;!r||(0,u.contains)(r,n)||this.imeEnabled||M||this._correctFocusOfActiveCell(r)}else(e||!p)&&(i?(0,u.contains)(i,n)||(i.focus(),o.tabIndex=-1):r?(0,u.contains)(r,n)||this._correctFocusOfActiveCell(r):!(0,u.contains)(o,n)&&n!=a&&(o.tabIndex=d,this._setFocusNoScroll(o)),this.containsFocus()||(o.tabIndex=d,this._setFocusNoScroll(o)))}},t.prototype._correctFocusOfActiveCell=function(e){var n=this._getTabIndex();(0,u.getActiveElement)()!=this._root?((0,u.isIE)()&&(0,u.hasClass)(e,"wj-group")&&(e=e.querySelector("."+Fn._WJC_COLLAPSE)||e),e.tabIndex=n,this._setFocusNoScroll(e)):e.tabIndex=n,this._eFocus.tabIndex=-1},t.prototype._setFocusNoScroll=function(e){if((0,u.getActiveElement)()!=e){if((0,u.supportsFocusOptions)())e.focus({preventScroll:!0});else{var n=this.scrollPosition,i=e.style,r=i.position;i.position="fixed",e.focus(),i.position=r,this.scrollPosition=n}this._fixScroll()}},t.prototype._updateDefaultSizes=function(){var e=this._getDefaultRowHeight();return this._rows._setDefaultSize(e),this._cols._setDefaultSize(4*e),this._hdrRows._setDefaultSize(e),this._hdrCols._setDefaultSize(Math.round(1.25*e)),this._ftrRows._setDefaultSize(e),e},t.prototype._getDefaultRowHeight=function(){var e=this.hostElement,n=this._eFocus,i=null;n.offsetHeight||(i=(0,u.createElement)('<div><div class="wj-cell">0</div></div>',document.body),e&&i.setAttribute("class",e.getAttribute("class")),n=i.children[0]);var r=n.offsetHeight;return(isNaN(r)||r<=6)&&(r=28),(0,u.removeChild)(i),r},t.prototype._getCollectionView=function(e){return(0,u.asCollectionView)(e)},t.prototype._getCanvasContext=function(){var e=document.createElement("canvas").getContext("2d"),n=getComputedStyle(this.hostElement);return e.font=n.fontSize+" "+n.fontFamily.split(",")[0],e},t.prototype._getWidestRow=function(e,n,i,r){for(var o=0,a=0,d=1===this._getRowsPerItem()&&e.columns[i].dataType==u.DataType.Boolean,p=n.row;p<=n.row2;p++)if(e.rows[p].isVisible){var v=e.getCellData(p,i,!0),M=r.measureText(v).width,T=this.getMergedRange(e,p,i,!1);if(T&&T.columnSpan>1&&(M/=T.columnSpan),M>a&&(a=M,o=p),d)break;p+=T?T.rowSpan-1:0}return o},t.prototype._getDesiredWidth=function(e,n,i,r){var o=this.getMergedRange(e,n,i,!1),a=r.style;return this.cellFactory.updateCell(e,n,i,r,o),a.width=a.top=a.left="",r.offsetWidth/(o&&o.columnSpan>1?o.columnSpan:1)},t.prototype._getDesiredHeight=function(e,n,i,r){var o=r.style,a=this.getMergedRange(e,n,i,!1),d=a?a.rowSpan:1;return this.cellFactory.updateCell(e,n,i,r,a),r.innerHTML.trim()||(r.innerHTML="&nbsp;"),o.height=o.top=o.left="",r.offsetHeight/d},t.prototype._getDesiredRowHeight=function(e,n,i,r){for(var o=0,a=this._getQuickAutoSize(),d=0;d<e.columns.length;d++)if(e.columns[d].isVisible){var p=this.getMergedRange(e,n,d,!1),v=void 0;if(a){var M={ct:e.cellType,col:d,spr:p&&p.rowSpan>1?p.rowSpan:1,spc:p&&p.columnSpan>1?p.columnSpan:1,data:e.getCellData(n,d,!0)||"1"},T=JSON.stringify(M);null==(v=r[T])&&(v=this._getDesiredHeight(e,n,d,i),r[T]=v)}else v=this._getDesiredHeight(e,n,d,i);o=Math.max(v,o),d+=p?p.columnSpan-1:0}return o},t.prototype._getSortRowIndex=function(){return null!=this._sortRowIndex?this._sortRowIndex:this.columnHeaders.rows.length-1},t.prototype._getDeleteColumnIndex=function(){return 0},t.prototype._getEditColumnIndex=function(){return null!=this._editColIndex?this._editColIndex:this.rowHeaders.columns.length-1},t.prototype._sortConverter=function(e,n,i,r){var o,a=this;if(r&&(this._mappedColumns=null,this._cv&&this._cv.sortDescriptions.forEach(function(p){(o=a.getColumn(p.property))&&o.dataMap&&(a._mappedColumns||(a._mappedColumns={}),a._mappedColumns[o.binding]=o.dataMap)}),this._mouseHdl._htDown&&this._mouseHdl._htDown.col>-1&&(o=this.columns[this._mouseHdl._htDown.col],this._mappedColumns&&o.dataMap&&(this._mappedColumns[o.binding]=o.dataMap))),this._mappedColumns){var d=this._mappedColumns[e.property];d&&d.sortByDisplayValues&&(i=d.getDisplayValue(i))}return i},t.prototype._bindGrid=function(e){var n=this;if(this.finishEditing(),this.deferUpdate(function(){var a;n.autoGenerateColumns&&0==n._lastCount&&(0,u.hasItems)(n._cv)&&(e=!0),n.preserveSelectedState&&(a=n._getMap())&&n.rows.forEach(function(ae){ae.isSelected&&ae.dataItem&&a.set(ae.dataItem,!0)});var d,p=n._getMap();if(p&&n.rows.forEach(function(ae){ae.isReadOnly&&ae.dataItem&&p.set(ae.dataItem,!0)}),n.preserveOutlineState&&n.rows.maxGroupLevel>-1&&(d=n._getMap()))for(var v=0;v<n.rows.length;v++){var M=n.rows[v];if(M instanceof rt&&M.isCollapsed&&M.dataItem){var T=M.dataItem;T instanceof u.CollectionViewGroup&&(T=T._path),d.set(T,!0)}}e&&n.columns.deferUpdate(function(){n._bindColumns()});var k=new u.CancelEventArgs;n.onLoadingRows(k)&&(n.rows.deferUpdate(function(){n._bindRows()}),n.onLoadedRows(k)),n._selHdl.extendedSelection.clear();var L=0;if(a&&a.size&&n.rows.forEach(function(ae){var Ee=ae.dataItem;Ee&&a.has(Ee)&&(ae.isSelected=!0,L++)}),p&&p.size&&n.rows.forEach(function(ae){var Ee=ae.dataItem;Ee&&p.has(Ee)&&(ae.isReadOnly=!0)}),0==L&&n.selectionMode==Et.ListBox){var Y=n.selection;for(v=Y.topRow;v<=Y.bottomRow&&v>-1&&v<n.rows.length;v++)n.rows[v]._setFlag(In.Selected,!0,!0)}if(d&&d.size&&n.rows.deferUpdate(function(){n.rows.forEach(function(ae){if(ae instanceof rt){var Ee=ae.dataItem;Ee instanceof u.CollectionViewGroup&&(Ee=Ee._path),d.has(Ee)&&(ae.isCollapsed=!0)}})}),!n._lastCount){var ce=n._cv;ce&&ce.items&&(n._lastCount=ce.items.length)}}),this._cv)this._syncSelection(e&&!this._toInv);else{var r=this.selection,o=new W(-1,r.col,-1,r.col2);this._selHdl._adjustSelection(o,this.selectionMode)}},t.prototype._getMap=function(){return window.Map?new Map:null},t.prototype._cvCollectionChanged=function(e,n){if(this.autoGenerateColumns&&0==this.columns.length)this._bindGrid(!0);else{var i=u.NotifyCollectionChangedAction;if(this.childItemsPath&&n.action!=i.Change)this._bindGrid(!1);else{switch(n.action){case i.Change:return void this.invalidate();case i.Add:if(n.index==this._cv.items.length-1){var r=this.rows.length;return this.rows[r-1]instanceof Ge&&r--,void this.rows.insert(r,new Lt(n.item))}(0,u.assert)(!1,"added item should be the last one.");break;case i.Remove:var o=this._findRow(n.item);if(o>-1)return this.rows.removeAt(o),void this._syncSelection(!1);(0,u.assert)(!1,"removed item not found on grid.")}this._bindGrid(!1)}}},t.prototype._cvCurrentChanged=function(e,n){this._syncSelection(!1)},t.prototype._syncSelection=function(e){if(this._cv&&this.selectionMode!=Et.None){var n=this._selHdl,i=n.selection,r=i.row>-1&&i.row<this.rows.length?this.rows[i.row]:null,o=r?r.dataItem:null,a=this._cv;if(a instanceof u.CollectionView&&a.isUpdating||this.newRowAtTop&&r instanceof Ge)return;o instanceof u.CollectionViewGroup&&(o=null);var d=this._isISChanging;if(e||o!=a.currentItem||i.row>=this.rows.length||i.row2>=this.rows.length||d&&i.row!==i.row2){var p=this.editableCollectionView;if(!this.childItemsPath||!p||!p.currentAddItem){var v=this._getRowIndex(a.currentPosition);v==i.row&&this.childItemsPath||(i=new W(v,i.col,v,d?i.col:i.col2),n._adjustSelection(i,this.selectionMode),this.selectionMode&&!this._updating&&this.scrollIntoView(i.row,-1))}}}},t.prototype._getRowIndex=function(e){if(this._cv){var n=this.rows;if(e>-1){for(var i=this._cv.items[e];e<n.length;e++)if(n[e].dataItem===i)return e;return-1}if(1==n.length&&n[0]instanceof Ge)return 0;var r=this.selection.row,o=r>-1?n[r]:null;return o&&(o instanceof rt||null==o.dataItem)?r:-1}return this.selection.row},t.prototype._getCvIndex=function(e){return e>-1&&e<this.rows.length?this.rows[e].dataIndex:-1},t.prototype._findRow=function(e){for(var n=0;n<this.rows.length;n++)if(this.rows[n].dataItem==e)return n;return-1},t.prototype._preWidth=function(){var e=this._root,n=this._hdrVis&On.Row?this._hdrCols.getTotalSize():0;return e.clientWidth-n},t.prototype._updateLayout=function(){var e=new u.CancelEventArgs;if(this.onUpdatingLayout(e)){var n=this._hdrVis&On.Row?this._hdrCols.getTotalSize():0,i=this._hdrVis&On.Column?this._hdrRows.getTotalSize():0,r=this._ftrRows.getTotalSize(),o=this._rows.getTotalSize()+r;o<1&&(o=1),this._heightReal=o,this._heightBrowser=Math.min(o,t._getMaxSupportedCssHeight()),this._maxOffsetY=Math.max(0,o-this._heightBrowser);var a=getComputedStyle(this._eFocus);this._cellPadVert=parseInt(a.paddingTop)+parseInt(a.paddingBottom),this._cellPadHorz=parseInt(a.paddingLeft)+parseInt(a.paddingRight),this._cellPadLeft=parseInt(this.rightToLeft?a.paddingRight:a.paddingLeft);var d=this._heightBrowser+i-r,p=this._gpCells.width,v=this._heightBrowser;!p&&this.rows.length&&(p=.1),!v&&this.columns.length&&(v=.1),this.rightToLeft?((0,u.setCss)(this._eTL,{right:0,top:0,width:n,height:i}),(0,u.setCss)(this._eCHdr,{right:n,top:0,height:i}),(0,u.setCss)(this._eRHdr,{right:0,top:i,width:n}),(0,u.setCss)(this._eCt,{right:n,top:i,width:p,height:v}),(0,u.setCss)(this._fCt,{right:n,top:i}),(0,u.setCss)(this._eBL,{right:0,top:d,width:n,height:r}),(0,u.setCss)(this._eCFtr,{right:n,top:d,height:r})):((0,u.setCss)(this._eTL,{left:0,top:0,width:n,height:i}),(0,u.setCss)(this._eCHdr,{left:n,top:0,height:i}),(0,u.setCss)(this._eRHdr,{left:0,top:i,width:n}),(0,u.setCss)(this._eCt,{left:n,top:i,width:p,height:v}),(0,u.setCss)(this._fCt,{left:n,top:i}),(0,u.setCss)(this._eBL,{left:0,top:d,width:n,height:r}),(0,u.setCss)(this._eCFtr,{left:n,top:d,height:r})),this._stickyHdr&&this._updateStickyHeaders();var M=this.frozenRows||this.frozenColumns?"3":"";(0,u.setCss)([this._eTL,this._eBL,this._eCHdr,this._eCFtr,this._eRHdr,this._eMarquee],{zIndex:M}),(0,u.isIE)()&&(this._fCt.style.zIndex=M?"2":"");var T=this._root,k=T.offsetWidth-T.clientWidth,L=T.offsetHeight-T.clientHeight;(0,u.setCss)(this._eSz,{width:n+k+this._gpCells.width,height:i+L+this._heightBrowser});var Y=null;this.columns._updateStarSizes(T.clientWidth-n)&&(Y=T.clientWidth,(0,u.setCss)(this._eCt,{width:this._gpCells.width}),this.onStarSizedColumns()),this._szClient=new u.Size(T.clientWidth-n,T.clientHeight-i),this._szClientSB=new u.Size(T.offsetWidth-n,T.offsetHeight-i),this._rcBounds=null,this._updateScrollHandler(),this._updateContent(!1),(0,u.setCss)(this._eSz,{width:n+(k=T.offsetWidth-T.clientWidth)+this._gpCells.width,height:i+(L=T.offsetHeight-T.clientHeight)+this._heightBrowser}),this._szClient=new u.Size(T.clientWidth-n,T.clientHeight-i),Y&&Y!=T.clientWidth&&this.columns._updateStarSizes(T.clientWidth-n)&&((0,u.setCss)(this._eCt,{width:this._gpCells.width}),this._updateContent(!1)),(0,u.setCss)([this._eCHdr,this._eCFtr,this._fCt],{width:this._szClient.width}),(0,u.setCss)([this._eRHdr,this._fCt],{height:this._szClient.height}),r&&(d=Math.min(d,this._szClient.height+i-r),(0,u.setCss)([this._eBL,this._eCFtr],{top:d})),this.onUpdatedLayout(e)}},t.prototype._updateStickyHeaders=function(){var e=!1,n=0;if(this._stickyHdr){for(var i=0,r=null,o=this.hostElement;o;o=o.parentElement)if("inline"!=getComputedStyle(o).display){var a=o.getBoundingClientRect();null==r&&(r=a.top),i=Math.max(i,a.top)}n=-(r=Math.max(0,i-r-1)),e=r>0,this._rcBounds=null}this._eTL.style.top=this._eCHdr.style.top=e?-n+"px":"",(0,u.toggleClass)(this._eTL,t._WJS_STICKY,e),(0,u.toggleClass)(this._eCHdr,t._WJS_STICKY,e)},t.prototype._updateScrollHandler=function(){this._clipToScreen=this._getClipToScreen();var e=this._stickyHdr||this._clipToScreen;e!=this._scrollHandlerAttached&&(this._scrollHandlerAttached=e,e?this.addEventListener(window,"scroll",this._scroll.bind(this),!0):this.removeEventListener(window,"scroll"))},t.prototype._getClipToScreen=function(){if(this.rows.length<=t._MIN_VIRT_ROWS||this._root.scrollHeight>this._root.clientHeight)return!1;for(var e=this.hostElement;e&&e!=document.documentElement;e=e.parentElement)if("auto"==getComputedStyle(e).overflow)return!1;return!0},t.prototype._scroll=function(e){var n=this;(0,u.contains)(e.target,this.hostElement)&&(this._clipToScreen&&(this._afClip&&cancelAnimationFrame(this._afClip),this._afClip=requestAnimationFrame(function(){n._afClip=null,n.finishEditing(),n._updateContent(!0)})),this._stickyHdr&&(this._afSticky&&cancelAnimationFrame(this._afSticky),this._afSticky=requestAnimationFrame(function(){n._afSticky=null;var i=new u.CancelEventArgs;n.onUpdatingLayout(i)&&(n._updateStickyHeaders(),n.onUpdatedLayout(i))})))},t.prototype._getCssPage=function(e){if(this._heightReal>this._heightBrowser){var n=this._szClient.height-this._gpCFtr.rows.getTotalSize();if(this._heightBrowser>n)return(0,u.clamp)(Math.round(e/(this._heightBrowser-n)*10)/10,0,1)}return 0},t.prototype._updateScrollPosition=function(){var e=this._root,n=e.scrollTop,i=e.scrollLeft;this.rightToLeft&&"rev"==t._getRtlMode()&&(i=e.scrollWidth-e.clientWidth-i);var r=new u.Point(-Math.abs(i),-n);return!this._ptScrl.equals(r)&&(this._ptScrl=r,this.onScrollPositionChanged(),!0)},t.prototype._updateContent=function(e,n){var i=this,r=this._root,o=this.hostElement,a=this.cells.hostElement,d=this._activeCell,p=(0,u.getActiveElement)(),v=(0,u.contains)(o,p),M=(0,u.closest)(p,".wj-flexgrid")==o?p:null,T=new u.CancelEventArgs;if(this.onUpdatingView(T)){(0,u.setAttribute)(a,"role",this.rows.maxGroupLevel<0?"grid":"treegrid"),(0,u.setAttribute)(a,"aria-label",this.ariaLabel),this._hasValidation=(0,u.isFunction)(this._itemValidator)||this._cv&&(0,u.isFunction)(this._cv.getError);var k=!n&&this._errorTip&&this._errorTip._tips.length,L=this._getCssPage(-this._ptScrl.y);L!=this._cssPage&&(this._cssPage=L,this._offsetY=Math.round(this._maxOffsetY*L)),this._updateScrollPosition(),this._updateMarquee();var Y=this._gpCells._updateContent(e,n,this._offsetY),ce=this._hdrVis;ce&On.Column&&(!n||this._ssHdr&ce)&&(this._gpCHdr._updateContent(e,n,0),this.rightToLeft||(this._eCHdr.scrollLeft=0)),ce&On.Row&&(!n||this._ssHdr&ce)&&(this._gpRHdr._updateContent(e,n,this._offsetY),this._eRHdr.scrollTop=0),ce&&!n&&this._gpTL._updateContent(e,n,0),this._gpCFtr.rows.length&&(this._gpBL._updateContent(e,n,0),this._gpCFtr._updateContent(e,n,0)),k&&this._errorTip&&this._errorTip._tips.length&&(clearTimeout(this._toErrorTips),this._toErrorTips=setTimeout(function(){var ze=i._errorTip;if(ze){ze.hide();for(var st=ze._tips,xt=0;xt<st.length;xt++){var yt=st[xt].element;(!yt.offsetHeight||!(0,u.hasClass)(yt,"wj-state-invalid"))&&(ze.setTooltip(yt,null),xt--)}}},250)),this._useFrozenDiv()&&(this._updateFrozenCells(n),Y&&(0,u.hasClass)(Y,"wj-frozen")&&(Y=null)),this._fCt.style.display=this._fCt.childElementCount?"":"none",this._activeCell=Y,M&&(M!=r&&M!=this._eFocus&&(0,u.contains)(o,M)&&!(0,u.contains)(a,M)?((0,u.getActiveElement)()!==M&&M.focus(),(0,u.isIE)()&&M instanceof HTMLInputElement&&!M.type.match(/checkbox|radio|range/i)&&M.setSelectionRange(M.selectionStart,M.selectionEnd)):this._setFocus(Y!==d)),!M&&Y&&(Y.tabIndex=this.isDisabled?-1:this._orgTabIndex),d&&d!=Y&&(d.tabIndex=-1),this._eFocus.tabIndex=null!=Y||this.isDisabled?-1:this._orgTabIndex,v&&this.focus(),this._fixScroll(),this._rcBounds=null,this.onUpdatedView(T)}},t.prototype._fixScroll=function(){var e=this._root;if(!this._updating){var n=this.hostElement,i=e?e.parentElement:null,r=this.rightToLeft;n&&(n.scrollTop&&(n.scrollTop=0),n.scrollLeft&&!r&&(n.scrollLeft=0)),i&&(i.scrollTop&&(i.scrollTop=0),i.scrollLeft&&!r&&(i.scrollLeft=0))}var o=Le();e&&o&&14==o.major&&o.minor>=1&&(e.style.transform="",e.style.transform="translateZ(0)")},t.prototype._clearCells=function(){for(var e in this)if("_"==e[0]){var n=this[e];n instanceof de&&n._clearCells()}this.invalidate()},t.prototype._useFrozenDiv=function(){return(0,u.isBoolean)(this._fzClone)?this._fzClone:(0,u.isIE)()||(0,u.isFirefox)()||(0,u.isSafari)()||(0,u.isMobile)()},t.prototype._updateFrozenCells=function(e){var n=this._fCt;if(this.frozenRows||this.frozenColumns){var i=this._eCt.querySelectorAll(".wj-frozen");if(e&&n.children.length==i.length){for(var r=0;r<i.length;r++)n.children[r].className=i[r].className;return}if((0,u.setText)(n,null),!this.activeEditor){var o=this._errorTip,a=navigator.userAgent.indexOf("MSIE")>=0;for(r=0;r<i.length;r++){var d=i[r];if((0,u.closest)(d,".wj-flexgrid")==this.hostElement){var p=d[de._INDEX_KEY],v=d.firstElementChild,M=null;if(p&&v){var T=p.panel,k=this._getBindingColumn(T,p.row,T.columns[p.col]);M=(0,u.isFunction)(k.cellTemplate)?v.onclick:null}if(a){var L="input[type=checkbox]",Y=d.querySelector(L);d=d.cloneNode(!0),Y&&(d.querySelector(L).checked=Y.checked)}else d=d.cloneNode(!0);if(v=d.firstElementChild,M&&v&&(v.onclick=M),d[de._INDEX_KEY]=p,o){var ce=o.getTooltip(i[r]);ce&&o.setTooltip(d,ce)}n.appendChild(d)}}}}else(0,u.setText)(n,null)},t.prototype._updateMarquee=function(){var e=this._eMarquee,n=this._getMarqueeRect();if(n&&n.width&&n.height){var i=e.firstChild,r=e.offsetWidth-i.offsetWidth,o=e.offsetHeight-i.offsetHeight,a=this.cells.hostElement;(0,u.setCss)(e,{left:n.left+a.offsetLeft-r/2,top:n.top+a.offsetTop-o/2,width:n.width+r,height:n.height+o,display:""})}else e.style.display="none"},t.prototype._getMarqueeRect=function(){if(!this._shMarquee||!this.selectionMode)return null;var e=this._selHdl.selection;if(!this.isRangeValid(e))return null;e=(e=(e=this.cells._getAdjustedSelection(e)).combine(this.getMergedRange(this.cells,e.topRow,e.leftCol,!1))).combine(this.getMergedRange(this.cells,e.bottomRow,e.rightCol,!1));var n=this.cells.getCellBoundingRect(e.topRow,e.leftCol,!0),i=this.cells.getCellBoundingRect(e.bottomRow,e.rightCol,!0);if(this.rows.frozen){var r=Math.min(this.rows.length,this.rows.frozen),o=this.cells.getCellBoundingRect(r-1,0,!0);e.topRow>=r&&n.top<o.bottom&&(n.top=o.bottom),e.bottomRow>=r&&i.bottom<o.bottom&&(i.height=o.bottom-i.top)}if(this.columns.frozen){var a=Math.min(this.columns.length,this.columns.frozen);o=this.cells.getCellBoundingRect(0,a-1,!0),this.rightToLeft?(e.leftCol>=a&&n.right>o.left&&(n.left=o.left-n.width),e.rightCol>=a&&i.left>o.left&&(i.left=o.left)):(e.leftCol>=a&&n.left<o.right&&(n.left=o.right),e.rightCol>=a&&i.right<o.right&&(i.width=o.right-i.left))}return this.rightToLeft?new u.Rect(i.left,n.top,n.right-i.left,i.bottom-n.top):new u.Rect(n.left,n.top,i.right-n.left,i.bottom-n.top)},t.prototype._bindColumns=function(){for(var e=this.columns,n=0;n<e.length;n++)e[n]._getFlag(In.AutoGenerated)&&(e.removeAt(n),n--);var i=this._cv,r=i?i.items:null;r&&r.length&&this.autoGenerateColumns&&this._getColumnTypes(r).forEach(function(o){var a=new $t(o);a._setFlag(In.AutoGenerated,!0),a.name=a.binding,a.header=(0,u.toHeaderCase)(a.binding);var d=t._defTypeWidth[a.dataType];if(null!=d){if((0,u.isString)(d)){var p=Math.round(parseFloat(d));d=d.indexOf("*")>-1?p*e.defaultSize:p}(0,u.isNumber)(d)&&d>0&&(a.width=d)}e.push(a)}),this._updateColumnTypes()},t.prototype._getColumnTypes=function(e){return(0,u.getTypes)(e)},t.prototype._updateColumnTypes=function(){var e=this._cv;if((0,u.hasItems)(e)){var n=e.items[0];this.columns.forEach(function(i){null==i.dataType&&i._binding&&(i.dataType=(0,u.getType)(i._binding.getValue(n)))})}},t.prototype._getMapEditor=function(e,n){return n.editor?null!=n.editor.isDroppedDown?n.dataMapEditor:null:!e.dataMap||e instanceof rt?n.dataMap?n.dataMapEditor:null:e.dataMapEditor},t.prototype._getBindingColumn=function(e,n,i){return i},t.prototype._getBindingColumns=function(){return this.columns},t.prototype._getRowsPerItem=function(){return 1},t.prototype._isTransposed=function(){return!1},t.prototype._getRowHeaderPath=function(){return this._rowHdrPath},t.prototype._bindRows=function(){this.rows.clear();var e=this._cv;if(e&&e.items){var n=e.items,i=e.groups;if(this.childItemsPath)for(var r=0;r<n.length;r++)this._addNode(n,r,0);else if(null!=i&&i.length>0&&this.showGroups)for(r=0;r<i.length;r++)this._addGroup(i[r]);else for(r=0;r<n.length;r++)this._addBoundRow(n,r)}},t.prototype._addBoundRow=function(e,n){var i=new Lt(e[n]),r=this.rows;i._list=r,r[r.length++]=i},t.prototype._addGroupRow=function(e){this.rows.push(new rt(e))},t.prototype._addNode=function(e,n,i){var r=e[n],o=this.childItemsPath,a=r[(0,u.isArray)(o)?o[i]:o],d=new rt(r);if(d.level=i,this.rows.push(d),(0,u.isArray)(a))for(var p=0;p<a.length;p++)this._addNode(a,p,i+1)},t.prototype._addGroup=function(e){if(this._addGroupRow(e),e.isBottomLevel)for(var n=e.items,i=0;i<n.length;i++)this._addBoundRow(n,i);else for(i=0;i<e.groups.length;i++)this._addGroup(e.groups[i])},t._getSerializableProperties=function(e){var n=[];for(e=e.prototype;e!=Object.prototype;e=Object.getPrototypeOf(e))for(var i=Object.getOwnPropertyNames(e),r=0;r<i.length;r++){var o=i[r],a=Object.getOwnPropertyDescriptor(e,o);a&&a.set&&a.get&&"_"!=o[0]&&!o.match(/^(disabled|required|showDropDown)$/)&&n.push(o)}return n},t.prototype._hasColumnGroups=function(){return this._grpHdl.hasColumnGroups()},t.prototype._getColumnGroup=function(e,n){return this._grpHdl.getColumnGroup(e,n)},t.prototype._canMoveColumnGroup=function(e,n,i,r){return this._grpHdl.canMoveColumnGroup(e,n,i,r)},t.prototype._moveColumnGroup=function(e,n,i,r,o){return this._grpHdl.moveColumnGroup(e,n,i,r,o)},t.prototype._copy=function(e,n){var i=this;if("columns"==e){var r=(0,u.asArray)(n);return r.some(function(o){return null!=o.columns})?this.columnGroups=r:(this.columns.clear(),r.forEach(function(o){var a=new $t(o);i.columns.push(a)})),!0}return!1},t.prototype._isInputElement=function(e){return e instanceof HTMLElement&&!(0,u.hasClass)(e,"wj-btn-glyph")&&("true"==e.contentEditable||null!=e.tagName.match(/^(INPUT|TEXTAREA|BUTTON|A|SELECT|OPTION)$/i))},t.prototype._isNativeCheckbox=function(e){return e instanceof HTMLInputElement&&"checkbox"==e.type&&!e.disabled&&!e.readOnly&&(0,u.hasClass)(e,Fn._WJC_CHECKBOX)&&(0,u.closest)(e,".wj-flexgrid")==this.hostElement},t.prototype._wantsInput=function(e){return this._isInputElement(e)&&!this.activeEditor&&!this._isNativeCheckbox(e)&&!(0,u.hasClass)(e,"wj-grid-ime")&&(0,u.contains)(document.body,e)},t._getMaxSupportedCssHeight=function(){if(!t._maxCssHeight){var e=265e5;(0,u.isIE)()?e=15e5:(0,u.isFirefox)()&&(e=175e5),t._maxCssHeight=e}return t._maxCssHeight},t._getRtlMode=function(){if(!t._rtlMode){var e=(0,u.createElement)('<div dir="rtl"><div></div></div>');(0,u.setCss)(e,{visibility:"hidden",width:100,height:100,overflow:"auto"}),(0,u.setCss)(e.firstChild,{width:2e3,height:2e3}),document.body.appendChild(e);var n=e.scrollLeft;e.scrollLeft=-1e3;var i=e.scrollLeft;(0,u.removeChild)(e),t._rtlMode=i<0?"neg":n>0?"rev":"std"}return t._rtlMode},t.prototype.getEmptyRequiredCell=function(e){if(e>=0)for(var n=0;n<this.columns.length;n++){var i=this.getCellData(e,n,!1);if(this.columns[n].getIsRequired(this.rows[e])&&(""===i||null==i))return n}return null},t._WJS_STICKY="wj-state-sticky",t._WJS_MEASURE="wj-state-measuring",t._WJS_UPDATING="wj-state-updating",t._WJS_WSPRE="wj-whitespace-pre",t._MIN_VIRT_ROWS=200,t._defTypeWidth=((we={})[u.DataType.Number]="0.714285714*",we),t.controlTemplate='<div><div wj-part="root"><div wj-part="cells" class="wj-cells"></div><div wj-part="marquee" class="wj-marquee"><div></div></div></div><div wj-part="fcells" aria-hidden="true" class="wj-cells wj-frozen-clone"></div><div wj-part="rh"><div wj-part="rhcells" class="wj-rowheaders"></div></div><div wj-part="cf"><div wj-part="cfcells" class="wj-colfooters"></div></div><div wj-part="ch"><div wj-part="chcells" class="wj-colheaders"></div></div><div wj-part="bl"><div wj-part="blcells" class="wj-bottomleft"></div></div><div wj-part="tl"><div wj-part="tlcells" class="wj-topleft"></div></div><div wj-part="focus" class="wj-cell">0</div><div wj-part="sz"></div></div>',t}(u.Control),Ue=function(){function s(t){var e=this;this._updateImeFocusAsyncBnd=this._updateImeFocusAsync.bind(this),this._cmpstartBnd=this._compositionstart.bind(this),this._keypressBnd=this._keypress.bind(this),this._g=t;var n=(0,u.createElement)('<textarea class="wj-grid-editor wj-form-control wj-grid-ime" aria-hidden="true"/>');(0,u.setCss)(n,s._cssHidden),(0,u.disableAutoComplete)(n),n.tabIndex=-1,this._tbx=n,this._maskProvider=new u._MaskProvider(n),t._root.appendChild(n),this._updateImeFocus();var i=t.hostElement,r=t.addEventListener.bind(t),o=this._updateImeFocusAsyncBnd;r(i,"blur",o,!0),r(i,"focus",o,!0),r(n,"compositionstart",this._cmpstartBnd),(0,u.isiOS)()&&r(i,"keypress",this._keypressBnd),t.selectionChanged.addHandler(o,this),t.cellEditEnded.addHandler(this._cellEditEnded,this),t.cellEditEnding.addHandler(this._cellEditEnding,this),r(i,"mousedown",function(a){(0,u.closest)((0,u.getActiveElement)(),".wj-flexgrid")==t.hostElement&&t.hitTest(a).panel==t.cells&&(0,u.hasClass)(t.hitTest(a).target,"wj-cell")&&a.preventDefault()}),t.gotFocus.addHandler(function(){return e._updateImeFocus()})}return s.prototype.dispose=function(){var t=this._g,e=t.hostElement,n=this._tbx,i=t.removeEventListener.bind(t),r=this._updateImeFocusAsyncBnd;i(e,"blur",r),i(e,"focus",r),i(e,"keypress",this._keypressBnd),i(n,"compositionstart",this._cmpstartBnd),t.selectionChanged.removeHandler(r),t.cellEditEnded.removeHandler(this._cellEditEnded),t.cellEditEnding.removeHandler(this._cellEditEnding),(0,u.removeChild)(n)},s.prototype._compositionstart=function(t){var e=this,n=this._g;if(!n.activeEditor){var i=n._selHdl.selection;if(n.startEditing(!1,i.row,i.col,!1,t)){if(n.activeEditor&&"checkbox"!=n.activeEditor.type){var r=n._getBindingColumn(n.cells,(i=n.editRange).row,n.columns[i.col]),o=r&&r._edt,a=n.activeEditor,d=this._tbx,p=n.cells.hostElement,v=n.columns[i.col].pos+p.offsetLeft,M=n.rows[i.row].pos+p.offsetTop,T=n.getCellBoundingRect(i.row,i.col),k=n.cells.getCellElement(i.row,i.col);T.width=k.offsetWidth,T.height=k.offsetHeight,i.row<n.frozenRows&&(M+=n._root.scrollTop),i.col<n.frozenColumns&&(v+=n._root.scrollLeft);var L=k.querySelector(".wj-btn.wj-right");L&&(T.width-=L.offsetWidth),"minLength,maxLength,pattern".split(",").forEach(function(en){(0,u.setAttribute)(d,en,a.getAttribute(en))});var Y=a instanceof HTMLTextAreaElement;(0,u.setAttribute)(d,"wrap",Y?"soft":"off");var ce=getComputedStyle(k),ae=ce.paddingTop;if(i.rowSpan>1&&!Y){var Ee=parseFloat(ce.lineHeight);isNaN(Ee)&&(Ee=1.2*parseFloat(ce.fontSize)),ae=Math.max(0,(T.height-Ee)/2)+"px"}var Me={position:"absolute",left:v,top:M,width:T.width-1,height:T.height-1,paddingTop:ae,paddingLeft:ce.paddingLeft,paddingRight:ce.paddingRight,textAlign:ce.textAlign,zIndex:k.style.zIndex};if(n.rightToLeft&&(Me.right=parseInt(k.style.right)+parseInt(n.cells.hostElement.style.right),Me.left=""),(0,u.setCss)(d,Me),o){var ze=o._tbx.getBoundingClientRect(),st=d.getBoundingClientRect(),xt=window.getComputedStyle(d),yt=parseFloat(xt.left),St=parseFloat(xt.right),Dt=parseFloat(xt.top);(0,u.setCss)(d,n.rightToLeft?{right:St+st.right-ze.right+"px",top:Dt+ze.top-st.top+"px",width:ze.width+"px",height:ze.height+"px"}:{left:yt+ze.left-st.left+"px",top:Dt+ze.top-st.top+"px",width:ze.width+"px",height:ze.height+"px"})}n._edtHdl._edt=d,d.select();var Nt=a.value;setTimeout(function(){"\u3000"!=d.value&&" "!=d.value||(d.value=Nt),(0,u.setSelectionRange)(d,d.value.length)},20),d.placeholder=a.placeholder,a.placeholder="",a.value=""}}else this._tbx.blur(),setTimeout(function(){e._tbx.focus(),n._setFocusNoScroll(n.hostElement)},20)}},s.prototype._cellEditEnding=function(){var t=this._maskProvider;t&&t.mask&&t._valueChanged()},s.prototype._cellEditEnded=function(){var t=this._tbx,e=this._g;if(this._enableIme()){var n=(0,u.getActiveElement)();n.blur(),e._isScrollingByWheel?setTimeout(function(){n.focus(),e._setFocusNoScroll(e.hostElement),n.focus()},20):(n.focus(),e._setFocusNoScroll(e.hostElement),n.focus())}t.value="",(0,u.setCss)(t,s._cssHidden),this._updateImeFocus()},s.prototype._keypress=function(t){!t.defaultPrevented&&t.target==this._tbx&&!(t.ctrlKey||t.altKey||t.metaKey||27==t.keyCode||this._g.activeEditor)&&(this._tbx.value="",this._compositionstart(t),t.stopPropagation())},s.prototype._updateImeFocus=function(){var t=this._g,e=this._tbx,n=(0,u.getActiveElement)(),i=t._getTabIndex();if(t.activeEditor||(0,u.closest)(n,".wj-flexgrid")!=t.hostElement)(t.isDisabled||i<0)&&e.tabIndex>=0&&(e.tabIndex=-1);else if(this._enableIme()&&!t._wantsInput(n)){n!=e&&(t.activeCell&&(t.activeCell.tabIndex=-1),e.tabIndex=i,e.disabled=!1,e.value="",t.isTouching||(window&&window.top!=window.self?((0,u.setSelectionRange)(e,0,0,!1),t._setFocusNoScroll(e)):((0,u.setSelectionRange)(e,0),e.focus())));var r=t._selHdl.selection,o=r.isValid?t._getBindingColumn(t.cells,r.row,t.columns[r.col]):null;this._maskProvider.mask=o?o.mask:null}else if(e.tabIndex=-1,e.disabled=!0,e.value="",n==e){e.blur();var a=t.activeCell;a?(a.tabIndex=i,a.focus()):t.focus()}},s.prototype._updateImeFocusAsync=function(){var t=this;this._toFocus&&clearTimeout(this._toFocus),this._toFocus=setTimeout(function(){t._toFocus=null,t._updateImeFocus()},100)},s.prototype._resetTabIndex=function(){this._tbx.tabIndex=-1},s.prototype._enableIme=function(){var t=this._g,e=t._selHdl.selection;if(!t.canEditCell(e.row,e.col))return!1;var n=e.isValid?t._getBindingColumn(t.cells,e.row,t.columns[e.col]):null;return!(!n||n.dataType==u.DataType.Boolean||n&&n.dataMap&&n.dataMapEditor==b.RadioButtons)},s._cssHidden={position:"fixed",width:"1px",left:-32e3,top:-32e3,overflow:"hidden"},s}(),Ht=function(){function s(t){this._nrt=new Ge,this._top=!1,this._keydownBnd=this._keydown.bind(this),this._committing=!1,this._pasting=!1,this._g=t,this._attach()}return Object.defineProperty(s.prototype,"newRowAtTop",{get:function(){return this._top},set:function(t){if(t!=this.newRowAtTop){this._top=(0,u.asBoolean)(t),this.updateNewRowTemplate();var e=this._g;this._top&&e.selectionMode==Et.ListBox&&(e.rows.forEach(function(n,i){n._setFlag(In.Selected,0==i,!0)}),e.select(0,e.selection.col))}},enumerable:!0,configurable:!0}),s.prototype.updateNewRowTemplate=function(){var t=this._g,e=t.editableCollectionView,n=t.rows,i=this._nrt,r=e&&e.canAddNew&&t.allowAddNew&&!t.isReadOnly,o=n.indexOf(i),a=this._top?0:n.length-1,d=!1;if(!r&&o>-1){var p=t.selection;p.row==o&&t.select(p.row-1,p.col),n.removeAt(o)}else r&&(o<0?d=!0:o!=a&&(n.removeAt(o),d=!0),d&&(this._top?n.insert(0,i):n.push(i)),i&&(i._ubv=null,i._setFlag(In.ParentCollapsed,!1),this._top&&t.selectionMode==Et.ListBox||i._setFlag(In.Selected,!1)))},s.prototype._attach=function(){var t=this._g;t&&(t.pasting.addHandler(this._pastingData,this),t.pasted.addHandler(this._pastedData,this),t.loadedRows.addHandler(this.updateNewRowTemplate,this),t.hostElement.addEventListener("keydown",this._keydownBnd,!0))},s.prototype._detach=function(){var t=this._g;t&&(t.pasting.removeHandler(this._pastingData,this),t.pasted.removeHandler(this._pastedData,this),t.loadedRows.removeHandler(this.updateNewRowTemplate),t.hostElement.removeEventListener("keydown",this._keydownBnd,!0))},s.prototype._keydown=function(t){!t.defaultPrevented&&t.keyCode==u.Key.Escape&&null==this._g.activeEditor&&this._top&&this._nrt.dataItem&&(this._nrt.dataItem=null,this._g.invalidate())},s.prototype._beginningEdit=function(t,e){if(!e.cancel){var n=t.rows[e.row];n instanceof Ge&&this._handleEditStarting(t,e,n)}},s.prototype._pastingData=function(t,e){e.cancel||(this._pasting=!0)},s.prototype._pastedData=function(t,e){this._pasting=!1},s.prototype._rowEditStarting=function(t,e){if(this._pasting){var n=t.rows[e.row];n instanceof Ge&&this._handleEditStarting(t,e,n)}},s.prototype._rowEditEnding=function(t,e){var n=t.editableCollectionView,i=this._nrt.dataItem;if(n&&this._top&&i&&!e.cancel){var r=n.currentAddItem;if(!r||r!=i)for(var o in r=n.addNew(),i)r[o]=i[o]}},s.prototype._rowEditEnded=function(t,e){var n=this,i=t.editableCollectionView;if(i&&!this._committing)if(this._top){if(e.cancel)return;var r=this._nrt.dataItem;if(r){this._committing=!0,this._nrt.dataItem=null;var o=this._g.rows,a=i.items.indexOf(r)+1;a<o.length&&e._rng.setRange(a,-1),t.onRowAdded(e)?i.commitNew():i.cancelNew(),this._committing=!1}var d=t.rows[e.row];setTimeout(function(){d instanceof Ge&&t.select(0,t.columns.firstVisibleIndex),n.updateNewRowTemplate()},20)}else i.isAddingNew&&i.commitNew()},s.prototype._handleEditStarting=function(t,e,n){var i=t.editableCollectionView;if(i&&i.canAddNew)if(this._top)if(null==this._nrt.dataItem){var r=null,o=i.sourceCollection,a=i.newItemCreator;r=(0,u.isFunction)(a)?a():o&&o.length?new o[0].constructor:{},this._nrt.dataItem=r}else i.currentAddItem&&(t.onRowAdded(e)||i.cancelNew());else{r=i.currentAddItem&&i.currentAddItem==n.dataItem?i.currentAddItem:i.addNew(),i.moveCurrentTo(r);var d=this._nrt.isSelected;this.updateNewRowTemplate(),d&&e.row>-1&&(t.rows[e.row].isSelected=!0),t.isUpdating||t.refresh(!0),t.onRowAdded(e)||i.cancelNew()}},s}(),Ge=function(s){function t(){return null!==s&&s.apply(this,arguments)||this}return mt(t,s),t}(Lt);!function(s){s[s.None=0]="None",s[s.Cells=1]="Cells",s[s.ColumnHeaders=2]="ColumnHeaders",s[s.RowHeaders=4]="RowHeaders",s[s.AllHeaders=6]="AllHeaders",s[s.All=7]="All"}(Pt||(Pt={}));var Yt=function(){function s(t){null!=t&&console.error('** WARNING: the "grid" parameter has been deprecated. Please remove it.')}return s.prototype.getMergedRange=function(t,e,n,i){void 0===i&&(i=!0);var r=t.grid,o=t.cellType,a=t.columns,d=t.rows,p=d[e],v=a[n];if(p instanceof Ge||!(p instanceof Lt&&v instanceof $t))return null;if(t==r.columnHeaders){var M=r._getColumnGroup(e,n);if(M){var T=M._rng,k=t.columns;return k.isFrozen(T.col)!=k.isFrozen(T.col2)&&(T=T.clone(),k.isFrozen(n)?T.col2=k.frozen-1:T.col=k.frozen),T}}if(r.showGroups&&!r.childItemsPath&&p instanceof rt&&p.dataItem instanceof u.CollectionViewGroup&&o==X.Cell){if(T=new W(e,n),v.aggregate==u.Aggregate.None){for(;T.col>0&&a[T.col-1].aggregate==u.Aggregate.None&&T.col!=a.frozen;)T.col--;for(;T.col2<a.length-1&&a[T.col2+1].aggregate==u.Aggregate.None&&T.col2+1!=a.frozen;)T.col2++}for(;T.col<n&&!a[T.col].visible;)T.col++;return T.isSingleCell?null:T}var L=!1,ce=X;switch(r.allowMerging){case Pt.None:L=!0;break;case Pt.Cells:L=o!=ce.Cell;break;case Pt.ColumnHeaders:L=o!=ce.ColumnHeader&&o!=ce.TopLeft;break;case Pt.RowHeaders:L=o!=ce.RowHeader&&o!=ce.TopLeft;break;case Pt.AllHeaders:L=o==ce.Cell}if(L)return null;if(o==ce.Cell){var ae=r.editableCollectionView,Ee=ae?ae.currentAddItem:null;if(Ee&&p.dataItem==Ee)return null}if(a[n].allowMerging){T=new W(e,n);var Me=t._vrb,ze=0,st=d.length-1;e>=d.frozen?i&&(o==X.Cell||o==X.RowHeader)&&r._vtRows<d.length&&Me&&(ze=Me.topRow,st=Me.bottomRow):d.length>d.frozen&&(st=d.frozen-1);for(var xt=e-1;xt>=ze&&this._mergeCell(t,xt,n,e,n);xt--)T.row=xt;for(var yt=e+1;yt<=st&&this._mergeCell(t,e,n,yt,n);yt++)T.row2=yt;for(;T.row<e&&!d[T.row].visible;)T.row++;if(!T.isSingleCell)return T}if(d[e].allowMerging){T=new W(e,n),Me=t._vrb;var St=0,Dt=a.length-1;n>=a.frozen?i&&(o==X.Cell||o==X.ColumnHeader)&&r._vtCols<a.length&&Me&&(St=Me.leftCol,Dt=Me.rightCol):Dt=a.frozen-1;for(var Nt=n-1;Nt>=St&&this._mergeCell(t,e,Nt,e,n);Nt--)T.col=Nt;for(var en=n+1;en<=Dt&&this._mergeCell(t,e,n,e,en);en++)T.col2=en;for(;T.col<n&&!a[T.col].visible;)T.col++;if(!T.isSingleCell)return T}return null},s.prototype._mergeCell=function(t,e,n,i,r){var o=t.rows[e],a=t.rows[i];if(!o||!a||o instanceof rt||o instanceof Ge||a instanceof rt||a instanceof Ge)return!1;var d=t.grid.editableCollectionView,p=d?d.currentAddItem:null;return!(p&&(o.dataItem==p||a.dataItem==p)||e!=i&&t.rows.isFrozen(e)!=t.rows.isFrozen(i)||n!=r&&t.columns.isFrozen(n)!=t.columns.isFrozen(r)||e!=i&&(n>0&&(o.allowMerging&&this._mergeCell(t,e,n-1,e,n)||a.allowMerging&&this._mergeCell(t,i,n-1,i,n))||r<t.columns.length-1&&(o.allowMerging&&this._mergeCell(t,e,r,e,r+1)||a.allowMerging&&this._mergeCell(t,i,r,i,r+1))))&&t.getCellData(e,n,!0)==t.getCellData(i,r,!0)},s}(),ut=function(){function s(t,e){var n;if(this._row=-1,this._col=-1,this._edge=0,e instanceof Element){if((0,u.closest)(e,".wj-flexgrid")!=t.hostElement)return;t=e,this._target=e}if(!(t instanceof Element)||t instanceof It){if(t instanceof It)this._target=t.hostElement,n=this._g=t;else{if(!(t instanceof de))throw"First parameter should be a FlexGrid or GridPanel.";this._target=t.hostElement,this._p=t,n=this._g=this._p.grid}e instanceof MouseEvent&&(this._target=e.target,"mousedown"==e.type&&(n._rcBounds=null)),e=(0,u.mouseToPage)(e),this._pt=e.clone();var i=n.controlRect,r=n._szClient,o=n.topLeftCells,a=n._eTL,d=n.headersVisibility,p=On,v=d&p.Row?o.columns.getTotalSize():0,M=d&p.Column?o.rows.getTotalSize():0,T=d&p.Column?M+a.offsetTop:0,k=n._eBL,L=k.offsetHeight;if(e.x-=i.left,e.y-=i.top,n.rightToLeft&&(e.x=i.width-e.x),this._p||e.x>=0&&e.y>=a.offsetTop&&r&&e.x<=r.width+v&&e.y<=r.height+M&&(this._p=e.y<T?e.x<v?n.topLeftCells:n.columnHeaders:e.y<k.offsetTop?e.x<v?n.rowHeaders:n.cells:e.x<v?n.bottomLeftCells:n.columnFooters),null!=this._p){var Y=this._p.rows,ce=this._p.columns,ae=this._p.cellType,Ee=X,Me=this._p._getFrozenPos(),ze=ae==Ee.TopLeft||ae==Ee.ColumnHeader?M:ae==Ee.BottomLeft||ae==Ee.ColumnFooter?L:Y.getTotalSize(),st=ae==Ee.TopLeft||ae==Ee.BottomLeft||ae==Ee.RowHeader?v:ce.getTotalSize();ae==Ee.RowHeader||ae==Ee.Cell?(e.y-=M,(e.y>Me.y||Me.y<=0)&&(e.y-=n._ptScrl.y,e.y+=this._p._getOffsetY())):ae!=Ee.BottomLeft&&ae!=Ee.ColumnFooter||(e.y-=k.offsetTop),(ae==Ee.ColumnHeader||ae==Ee.Cell||ae==Ee.ColumnFooter)&&(e.x-=v,(e.x>Me.x||Me.x<=0)&&(e.x-=n._ptScrl.x)),ae!=Ee.ColumnHeader&&ae!=Ee.TopLeft||(e.y-=T-M),this._edge=0;var xt=s._SZEDGE[this._g.isTouching?1:0];if(this._g.isTouching&&(e.x-=(xt=s._SZEDGE[1])/2),this._row=e.y>ze?-1:Y.getItemAt(e.y),this._col=e.x>st?-1:ce.getItemAt(e.x),this._row<0||this._col<0)return void(this._p=null);if(this._col>-1){var yt=ce[this._col];e.x-yt.pos<=xt&&(this._edge|=1);var St=yt.pos+yt.renderSize-e.x;St<=xt&&(this._edge|=4,St<=xt/2&&(this._edge|=16))}if(this._row>-1){var Dt=Y[this._row];e.y-Dt.pos<=xt&&(this._edge|=2);var Nt=Dt.pos+Dt.renderSize-e.y;Nt<=xt&&(this._edge|=8,Nt<=xt/2&&(this._edge|=32))}}}else{var en=(0,u.closest)(t,".wj-cell"),Rt=en?en[de._INDEX_KEY]:null;Rt&&(this._target=t,this._row=Rt.row,this._col=Rt.col,this._rng=Rt.rng,this._p=Rt.panel,this._g=Rt.panel.grid)}}return Object.defineProperty(s.prototype,"point",{get:function(){return this._pt},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"cellType",{get:function(){return this._p?this._p.cellType:X.None},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"panel",{get:function(){return this._p},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"grid",{get:function(){return this._p?this._p.grid:null},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"row",{get:function(){return this._row},enumerable:!0,configurable:!0}),s.prototype.getRow=function(){return this._p&&this._row>-1?this._p.rows[this._row]:null},Object.defineProperty(s.prototype,"col",{get:function(){return this._col},enumerable:!0,configurable:!0}),s.prototype.getColumn=function(t){var e=this._p,n=e&&this._col>-1?e.columns[this._col]:null;if(n&&t){var i=e.grid;n=e.cellType===X.ColumnHeader&&i._hasColumnGroups()?i._getColumnGroup(this._row,this._col):i._getBindingColumn(e,this._row,n)}return n},Object.defineProperty(s.prototype,"range",{get:function(){return this._rng||(this._rng=new W(this._row,this._col)),this._rng},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"edgeLeft",{get:function(){return 0!=(1&this._edge)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"edgeTop",{get:function(){return 0!=(2&this._edge)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"edgeRight",{get:function(){return 0!=(4&this._edge)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"edgeFarRight",{get:function(){return 0!=(16&this._edge)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"edgeBottom",{get:function(){return 0!=(8&this._edge)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"edgeFarBottom",{get:function(){return 0!=(32&this._edge)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),s._SZEDGE=[6,30],s}();function ni(){return(0,u._getModule)("wijmo.input")}var Kn="$WJ-MSKP",Fn=function(){function s(){}return s.prototype.updateCell=function(t,e,n,i,r,o){var a=t.grid,d=a.rightToLeft,p=t.rows,v=t.columns,M=p[e],T=v[n],k=e,L=n,Y=M instanceof rt?M:null,ce=M instanceof Ge?M:null,ae=T.renderWidth,Ee=M.renderHeight,Me=t.cellType,ze="wj-cell",st="",xt={display:""},yt=X;0!=o&&i.firstElementChild&&(1==i.childNodes.length&&"checkbox"==i.firstElementChild.type||(i.textContent="")),r&&!r.isSingleCell&&(k=r.row2,L=r.col2,T=v[n=r.col],Y=(M=p[e=r.row])instanceof rt?M:null,Ee=(oi=r.getRenderSize(t)).height,ae=oi.width);var St=a._getBindingColumn(t,e,T),Dt=St.dataType||M.dataType,Nt=St.dataMap||M.dataMap,en=Me==yt.Cell?a._getMapEditor(M,St):null,Rt=Me==yt.RowHeader||Me==yt.Cell&&(!Y||a.childItemsPath),Kt=Rt&&en==b.RadioButtons,Vt=Dt==u.DataType.Boolean&&!Nt,jn=St.isContentHtml||M.isContentHtml,_n=T.pos,Wn=M.pos,wn=a._ptScrl;if(a._useFrozenDiv()&&Me==yt.Cell&&!a.editRange)n<v.frozen&&k>=p.frozen?Wn+=wn.y:e<p.frozen&&L>=v.frozen&&(_n+=wn.x);else{var oi=a._szClient;if(k<p.frozen&&(Wn=Math.min(Wn,oi.height),Ee=Math.min(Ee,Math.max(0,oi.height-Wn)),Wn-=wn.y),L<v.frozen){var di=0!=oi.width?oi.width:a._preWidth();_n=Math.min(_n,di),ae=Math.min(ae,Math.max(0,di-_n)),_n-=wn.x}}d?xt.right=_n+"px":xt.left=_n+"px",k>=p.frozen&&(Wn-=t._getOffsetY()),xt.top=Wn+"px",xt.width=ae+"px",xt.height=Ee+"px",xt.zIndex="",(e<p.frozen||n<v.frozen)&&(xt.zIndex=e<p.frozen&&n<v.frozen?2:1);var ui=!1,Rn=a.alternatingRowStep;if(Rn&&(!r||r.row==r.row2)&&(ui=M.visibleIndex%(Rn+1)==0,1==Rn&&(ui=!ui)),Me==yt.Cell)Y&&(ze+=" wj-group"),ui&&(ze+=" wj-alt"),(e<p.frozen||n<v.frozen)&&(ze+=" wj-frozen"),ce&&(ze+=" wj-new"),M.cssClass&&(ze+=" "+M.cssClass),St.cssClass&&(ze+=" "+St.cssClass);else{ze+=" wj-header",ui&&(ze+=" wj-header-alt"),M.cssClass&&Me==yt.ColumnHeader&&(ze+=" "+M.cssClass),St.cssClass&&Me==yt.RowHeader&&(ze+=" "+St.cssClass);var gi=!1;Me!=yt.ColumnHeader&&Me!=yt.TopLeft||a.allowResizing&si.Columns&&(gi=null!=a._mouseHdl._getResizeCol(t,L)),gi||Me!=yt.RowHeader||a.allowResizing&si.Rows&&(gi=null!=a._mouseHdl._getResizeRow(t,k)),gi&&(ze+=" wj-big-header")}M.cssClassAll&&(ze+=" "+M.cssClassAll),St.cssClassAll&&(ze+=" "+St.cssClassAll);var Mi=jt,li=t.getSelectedState(e,n,r);switch(li!=Mi.None&&Me==yt.Cell&&!Vt&&a.editRange&&a.editRange.contains(e,n)&&(li=Mi.None),li){case Mi.Active:ze+=" wj-state-active";break;case Mi.Cursor:ze+=" wj-state-selected wj-state-active";break;case Mi.Selected:ze+=" wj-state-multi-selected"}k==p._lastFrozen&&(ze+=" wj-frozen-row"),L==v._lastFrozen&&(ze+=" wj-frozen-col"),(St.wordWrap||M.wordWrap)&&(ze+=" wj-wrap"),(St.multiLine||M.multiLine)&&(ze+=" wj-multiline");var $n=St.getAlignment(M);$n&&(st=" wj-align-"+$n);var Ki=Me,tr=a._isTransposed(),Tr=(Ki==yt.ColumnHeader&&!tr||Ki==yt.RowHeader&&tr)&&a._hasColumnGroups()?a._getColumnGroup(e,n):null;if(Tr&&Tr.align&&(st=" wj-align-"+Tr.align),xt.paddingLeft=xt.paddingRight=xt.paddingTop=xt.paddingBottom="",Me==yt.Cell&&a.rows.maxGroupLevel>-1&&n==v.firstVisibleIndex&&a.treeIndent){var Io=Y?Math.max(0,Y.level):p.maxGroupLevel+1,cs=Math.min(a.treeIndent*Io+a._cellPadLeft,ae-a._cellPadHorz)+"px";d?xt.paddingRight=cs:xt.paddingLeft=cs}ae<=a._cellPadHorz&&null==i.getAttribute(It._WJS_MEASURE)&&(xt.paddingLeft=xt.paddingRight=0);var Li=Me==yt.Cell&&n==v.firstVisibleIndex&&Y&&Y.hasChildren&&!Ei(a,e,n);if(Li&&(st=""),0!=o){var us=t.getCellData(e,n,!1),mr=t.getCellData(e,n,!0);if(Li){var Zo=function pn(s,t){var i=(0,u.createElement)('<button class="wj-btn wj-btn-glyph '+Fn._WJC_COLLAPSE+'" type="button" tabindex="-1">'+nt((s.isCollapsed?"":"down-")+(s.grid.rightToLeft?"left":"right"))+"</button>");return(0,u.setAriaLabel)(i,u.culture.FlexGrid.ariaLabels.toggleGroup),(0,u.setAttribute)(i,"aria-expanded",!s.isCollapsed),(0,u.setAttribute)(t,"aria-expanded",!s.isCollapsed),i}(Y,i);mr=Y.getGroupHeader()||(0,u.escapeHtml)(mr),i.innerHTML=Zo.outerHTML+" "+mr}else if(Me!=yt.ColumnHeader||k!=a._getSortRowIndex()&&St==T){if(Me!=yt.RowHeader||mr||!function(){var Hd=!1;if(n==a._getEditColumnIndex()){var Fp=a.editableCollectionView,Np=Fp?Fp.currentEditItem:null;mr=i.innerHTML=Np&&M.dataItem==Np?nt("pencil"):M instanceof Ge?nt("asterisk"):"",Hd=!0}var Zh=St._tpl;return Zh&&(dr(Zh,i,us,mr,M,St),Hd=!0),Hd}())if(Me!=yt.Cell||Dt!=u.DataType.Boolean||Nt||Y&&!(0,u.isBoolean)(us))if(Me==yt.Cell&&!Kt&&Ei(a,e,n)){var Ll=St.inputType||M.inputType;if(Ll||(Ll=Dt!=u.DataType.Number||Nt?"text":"tel"),!Nt&&!St.mask&&!M.mask){var fs=t.getCellData(e,n,!1);(0,u.isNumber)(fs)&&(mr=function Fr(s,t){var e=u.Globalize._parseNumericFormat(t=t||"n");switch(e.spec){case"d":case"x":break;case"e":t=t.replace(/[0-9]/g,"");break;default:t="p"==e.spec?"P15":"r",e.scale&&(t+=Array(e.scale/3+1).join(","))}return u.Globalize.formatNumber(s,t,!0)}(fs,St.format||M.format))}i.innerHTML=(St.multiLine||M.multiLine)&&"checkbox"!=Ll?'<textarea wrap="soft"></textarea>':'<input type="'+Ll+'"/>';var Ro=i.children[0];(0,u.addClass)(Ro,"wj-grid-editor wj-form-control"),(0,u.disableAutoComplete)(Ro),jn&&Nt&&!Nt.isEditable&&(mr=(0,u.toPlainText)(mr)),Ro.value=mr,Ro.tabIndex=-1,Ro.required=St.getIsRequired(M),(0,u.setAttribute)(Ro,"aria-required",Ro.required);var Ds=St.maxLength||M.maxLength;Ds&&(Ro.maxLength=Ds),Ro.style.textAlign=St.getAlignment(M);var Cs=St.mask||M.mask;Cs&&(Ro[Kn]=new u._MaskProvider(Ro,Cs)),a.showPlaceholders&&(Ro.placeholder=St.header),a._edtHdl._edt=Ro}else{if(Kt){var Bs=[],Os=t.getCellData(e,n,!1);Nt.getDisplayValues(M.dataItem).forEach(function(Hd){var Fp=Nt.getKeyValue(Hd)==Os?" checked":"",Np=a.isReadOnly||M.isReadOnly||T.isReadOnly?" disabled":"",Zh=(0,u.escapeHtml)(Hd);Bs.push('<label><input type="radio" tabindex="-1"'+Fp+Np+' value="'+Zh+'"><span>'+Zh+"</span></label>")}),i.innerHTML=Bs.join(" "),ze+=" "+s._WJC_RADIOMAP}var ed=Rt?St._tpl:null;if(ed?dr(ed,i,us,mr,M,St):Kt||(Me==yt.Cell&&jn?i.innerHTML=mr:i.textContent=mr||""),Tr&&Tr.collapseTo){var tl=Tr._rng;if(tl&&(Me==yt.ColumnHeader&&tl.columnSpan>1||Me==yt.RowHeader&&tl.rowSpan>1)){var td=Tr.isCollapsed;i.innerHTML='<div role="button" class="'+s._WJC_COLLAPSE+'">'+nt(td?"plus":"minus")+"</div>&nbsp;"+i.innerHTML,td&&(0,u.addClass)(i,"wj-state-collapsed")}}}else{var ps=i.firstChild;a._isNativeCheckbox(ps)||(i.innerHTML='<label><input type="checkbox" class="'+s._WJC_CHECKBOX+'" tabindex="-1"/><span></span></label>',ps=i.querySelector("input")),(0,u.setChecked)(ps,us),ps.disabled=!a.canEditCell(e,n),ps.disabled&&(ps.style.cursor="default"),a.editRange&&a.editRange.contains(e,n)&&(a._edtHdl._edt=ps)}}else{i.innerHTML=(0,u.escapeHtml)(mr);var qc=St.currentSort;qc&&a.showSort&&(ze+=" wj-sort-"+("+"==qc?"asc":"desc"),i.innerHTML+="&nbsp;"+function Xr(s){var t=nt("+"==s.currentSort?"up":"down"),e=s.grid.collectionView;if(e&&e.sortDescriptions.length>1){var n=s.currentSortIndex;n>-1&&(t+='<span class="wj-sort-index">'+(n+1)+"</span>")}return t}(St)),a.allowPinning&&(0,u.contains)(a.hostElement,i)&&function Fi(s,t){var e=He(Fn._WJC_PIN,"pin"),n=(0,u.createElement)(e);(0,u.toggleClass)(n,"wj-state-pinned",t),(0,u.setAttribute)(n,"aria-pressed",t),s.insertBefore(n,s.firstChild)}(i,n<a.frozenColumns)}if(en==b.DropDownList&&a.showDropDown&&a.canEditCell(e,n)&&ni()){var pc=function fo(){var s=Fn._ddBtn;return s||(s=Fn._ddBtn=(0,u.createElement)(Fn._tplDdBtn),(0,u.setAriaLabel)(s,u.culture.FlexGrid.ariaLabels.toggleDropDown),(0,u.setAttribute)(s,"aria-expanded",!1)),s.cloneNode(!0)}();i.insertBefore(pc,i.firstChild),Ei(a,e,n)&&(ze+=" wj-hasdropdown")}}Me!=yt.RowHeader&&Me!=yt.ColumnHeader||(0,u.setAttribute)(i,"draggable",(Me==yt.RowHeader?!Y&&!ce&&M.allowDragging&&0!=(a.allowDragging&Je.Rows):(Tr||T).allowDragging&&0!=(a.allowDragging&Je.Columns))?"true":null),i.className!=(ze+=st)&&(i.className=ze);var gl=i.style;for(var Op in xt)gl[Op]!==xt[Op]&&(gl[Op]=xt[Op]);if(a._edtHdl._edt&&a._edtHdl._edt.parentElement==i){var hm=a._root,c_=hm.getBoundingClientRect(),kp=i.getBoundingClientRect(),u_=c_.top+hm.clientHeight-kp.top,d_=c_.left+hm.clientWidth-kp.left;kp.height>u_&&(i.style.height=u_+"px"),kp.width>d_&&(i.style.width=d_+"px")}if((Me==yt.Cell||Me==yt.RowHeader)&&a._getShowErrors()){var R_=a._getError(t,e,n,!1);a._edtHdl._setCellError(i,R_)}if(a.itemFormatter&&a.itemFormatter(t,e,n,i),a.formatItem.hasHandlers){var nd=s._fmtItemArgs;nd?(nd._p=t,nd._rng.setRange(e,n,k,L),nd._cell=i):nd=s._fmtItemArgs=new ft(t,new W(e,n,k,L),i),nd._updateContent=!1!==o,a.onFormatItem(nd)}},s.prototype.disposeCell=function(t){},s.prototype.getEditorValue=function(t){var e=t._edtHdl._edt;if(e instanceof HTMLInputElement)switch(e.type){case"checkbox":return e.checked;case"radio":return e.value}if(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement){var n=e[Kn],i=n?n._applyMask():e.value,r=e.maxLength;if((0,u.isNumber)(r)&&r>-1&&i.length>r){var o=u.culture.Globalize.numberFormat["%"]||"%",a=i.length&&i[i.length-1]==o;i=i.substr(0,r),a&&i.indexOf(o)<0&&(i+=o)}return i}return null},s._WJC_RADIOMAP="wj-radio-map",s._WJC_CHECKBOX="wj-cell-check",s._WJC_COLLAPSE="wj-elem-collapse",s._WJC_DROPDOWN="wj-elem-dropdown",s._WJC_PIN="wj-elem-pin",s._tplDdBtn=He(s._WJC_DROPDOWN,"down"),s._tplCtx={row:null,col:null,value:null,text:null,item:null},s}();function dr(s,t,e,n,i,r){var o=Fn._tplCtx;o.value=e,o.text=n,o.item=i.dataItem,o.row=i,o.col=r;var a=(0,u.isString)(s)?(0,u.evalTemplate)(s,o):s(o,t);null!=a&&(t.innerHTML=a)}function Ei(s,t,e){return s.editRange&&s.editRange.contains(t,e)}function nt(s){return'<span class="wj-glyph-'+s+'"></span>'}function He(s,t){return'<button class="wj-btn wj-btn-glyph wj-right {cls}" type="button" tabindex="-1">{glyph}</button>'.replace("{cls}",s).replace("{glyph}",nt(t))}var Ln,ln=function(){function s(t){var e=this;this._rng=null,this._edt=null,this._edItem=null,this._edtCanceled=!1,this._list=null,this._mapSearch=null,this._fullEdit=!1,this._evtInput=null,this._evtChange=null,this._cstEdtValue=null,this._validating=!1,this._composing=!1,this._g=t,this._evtInput=document.createEvent("HTMLEvents"),this._evtInput.initEvent("input",!0,!1),this._evtChange=document.createEvent("HTMLEvents"),this._evtChange.initEvent("change",!0,!1),t.selectionChanging.addHandler(function(i,r){if(e.finishEditing()){var o=t._selHdl.selection.row;if(o!=r.row){var a=t.rows.length;if((o>-1&&o<a?t.rows[o].dataItem:null)!=(r.row>-1&&r.row<a?t.rows[r.row].dataItem:null)&&(e._commitRowEdits(),t._getHasValidation())){var d=!t.rows[o]||t.rows[o]&&Object.getPrototypeOf(t.rows[o])!==Lt.prototype?null:t.getEmptyRequiredCell(o);null!==d&&setTimeout(function(){t.select(new W(o,d)),e.startEditing(!0,o,d,!0,r)})}}}else r.cancel=!0}),t.lostFocus.addHandler(function(){var i=(0,u.getActiveElement)();i&&"fixed"==getComputedStyle(i).position?e.finishEditing():e._commitRowEdits()});var n=t.hostElement;t.addEventListener(n,"mousedown",function(i){if(!i.defaultPrevented&&0==i.button&&!t._mouseHdl._szRowCol){var r=t.hitTest(i);r.cellType!=X.Cell&&r.cellType!=X.None&&(e.finishEditing()||e.finishEditing(!0))}},!0),t.addEventListener(n,"compositionend",function(){e._composing=!1,e._keypress.bind(e)}),t.addEventListener(n,"compositionstart",function(){e._composing=!0})}return s.prototype.startEditing=function(t,e,n,i,r){void 0===t&&(t=!0);var o=this._g,a=o._selHdl.selection;if(e=(0,u.asNumber)(e,!0,!0),n=(0,u.isString)(n)?o.columns.indexOf(n):(0,u.asNumber)(n,!0,!0),null==e&&(e=a.row),null==n&&(n=a.col),null==i&&(i=!0),!this._allowEdit(e,n))return!1;var d=o.getMergedRange(o.cells,e,n,!1);d||(d=new W(e,n));var p=o.rows[e].dataItem;if(o.scrollIntoView(d.row,d.col,!0),!o.select(d,!0)||!o.rows[e]||p!=o.rows[e].dataItem)return!1;if(this.activeEditor){if(d.equals(this._rng))return!0;if(!this.finishEditing())return!1}var v=new me(o.cells,d,r);if(!o.onBeginningEdit(v))return!1;var M=o.editableCollectionView,T=!1;M&&((T=(p=o.rows[e].dataItem)!=M.currentEditItem)&&o.onRowEditStarting(v),M.editItem(p),T&&(o.onRowEditStarted(v),this._edItem=p));var k=o.rows[e],L=o._getBindingColumn(o.cells,e,o.columns[n]),Y=L.dataMap||k.dataMap,ce=b.RadioButtons,ae=k.dataMap&&k.dataMapEditor==ce||L.dataMap&&L.dataMapEditor==ce;if(this._fullEdit=(0,u.asBoolean)(t),this._rng=d,this._list=null,Y&&!ae&&!L.editor){var Ee=Y.getDisplayValues(p);(L.isContentHtml||k.isContentHtml)&&(Ee=Ee.map(function(Rt){return(0,u.toPlainText)(Rt)})),this._list=Ee,this._mapSearch=Y.search}if(ae){var Me=o._activeCell||o.hostElement.querySelector(".wj-cell.wj-state-active");if(Me){var ze=r?r.target:null;ze instanceof HTMLSpanElement&&(ze=(0,u.closest)(ze,"label")),ze instanceof HTMLLabelElement&&(ze=ze.querySelector("input")),this._edt=ze instanceof HTMLInputElement?ze:Me.querySelector("input"),this._updateRowHeaderCell(e)}}else d.isSingleCell?this._updateEditorCell(e,n,T):o.refresh(!1);var st=this._edt;if(st){if("checkbox"==st.type||"radio"==st.type)this._fullEdit=!1;else if(i){var xt=0,yt=st.value.length,St=!1,Dt=u.culture.Globalize.numberFormat["%"]||"%",Nt=o.getCellData(e,n,!1);if((0,u.isNumber)(Nt)?St=st.value.indexOf(Dt)>-1:null==Nt&&(St=/^p/i.test(L.format))&&st.value.indexOf(Dt)<0&&(st.value+=Dt),St){var en=st.value;for(xt=0,yt=en.length;yt>0&&(en[yt-1]==Dt||" "==en[yt-1]);)yt--;for(;xt<yt&&en[xt]==Dt;)xt++}r&&"keydown"==r.type&&r.keyCode==u.Key.Space&&(xt=yt),(0,u.setSelectionRange)(st,xt,yt),(0,u.isIE)()&&"right"==st.style.textAlign&&(st.style.paddingRight="1px")}o.onPrepareCellForEdit(v)}return i&&!o.containsFocus()&&o.focus(),null!=st&&!st.disabled&&!st.readOnly},s.prototype.finishEditing=function(t){var e=this._edt;if(!e)return this._removeListBox(),!0;var n=this._g,i=this._rng,r=new pt(n.cells,i),o=n.containsFocus();if(!t){var a=n.hostElement.querySelector(".wj-control.wj-state-focused");if(a){var d=u.Control.getControl(a);d&&(d.containsFocus()||d._focus)&&d.onLostFocus(r)}}if(r.cancel=t,!t&&n.validateEdits&&(Ee=this._getValidationError())){r.cancel=!0;var p=n.cells.getCellElement(i.row,i.col);p&&(this._setCellError(p,Ee),r.stayInEditMode=!0)}if(this._cstEdtValue=null,r.data=n.cells.getCellData(i.topRow,i.leftCol,!1),!n.onCellEditEnding(r)&&r.stayInEditMode)return o?setTimeout(function(){e.select()}):e.select(),this._fullEdit=!0,!1;if(!r.cancel){for(var v=this._cstEdtValue,M=v&&!(0,u.isUndefined)(v.value)?v.value:n.cellFactory.getEditorValue(n),T=i.topRow;T<=i.bottomRow&&T<n.rows.length;T++)for(var k=i.leftCol;k<=i.rightCol&&k<n.columns.length;k++){var Ee,L=n._getBindingColumn(n.cells,T,n.columns[k]),Y=n.rows[T],ce=L&&L.dataMap||Y&&Y.dataMap;if(!n.cells.setCellData(T,k,M,!ce||ce.serializeKeys,!1)&&n.validateEdits&&(Ee=this._getValidationError(!0))){r.cancel=!0;var Me=n.cells.getCellElement(i.row,i.col);return Me&&(this._setCellError(Me,Ee),r.stayInEditMode=!0),!1}}e.value==this._edtValue&&e.dispatchEvent(this._evtChange)}this._edt=null,this._rng=null,this._list=null,this._edtValue=null,this._edtCanceled=r.cancel,this._removeListBox();var ze=(0,u.closest)(e,".wj-cell");return(0,u.contains)(ze,(0,u.getActiveElement)())&&n._setFocusNoScroll(ze),!r.cancel&&r.refresh&&n._refreshOnEdit?n.refresh(!1):this._updateEditorCell(i.row,i.col,!1),o&&n.focus(),n.onCellEditEnded(r),!0},s.prototype._setCustomEditorValue=function(t){this._cstEdtValue={value:t}},s.prototype._setCellError=function(t,e){var n=this._g;""==e&&(e=null),(0,u.toggleClass)(t,"wj-state-invalid",null!=e);var i=n.errorTip,r=n.activeEditor;i?(i.setTooltip(t,e),r&&(0,u.contains)(t,r)&&(0,u.setAttribute)(r,"title","")):(0,u.setAttribute)(t,"title",e),r&&t==n.activeCell&&!(0,u.contains)(t,r)&&i&&i.setTooltip(r,e)},Object.defineProperty(s.prototype,"activeEditor",{get:function(){return this._edt},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"editRange",{get:function(){return this._rng},enumerable:!0,configurable:!0}),s.prototype.getClipString=function(t,e,n,i){var r,o=this,a=this._g,d=a.selectionMode,p=[],v=0!=(e&Ti.CSV),M=v?"\r\n":"\n",T=v?",":"\t",k=0!=(e&Ti.InvisibleRows),L=Et,Y=null!=t;if(!t&&d!=L.ListBox)for(var ce=a.rows,ae=0;ae<ce.length;ae++)if(ce[ae].isSelected){d=L.ListBox;break}if(!t)switch(a._selHdl._expandSelection(),t=a.selection,d){case L.Row:case L.RowRange:case L.ListBox:t.col=0,t.col2=a.columns.length-1;break;case L.MultiRange:var Ee=a.selectedRanges;if(Ee.length>1){var Me=this._sameCols(Ee),ze=this._sameRows(Ee);if(Me||ze){(Ee=Ee.slice()).sort(function(Rt,Kt){return Rt.topRow-Kt.topRow||Rt.leftCol-Kt.leftCol});for(var st=0;st<Ee.length;st++)for(var xt=Ee[st],yt=st+1;yt<Ee.length;yt++)xt.contains(Ee[yt])&&(Ee.splice(yt,1),yt--);if(Me){var St=[];return Ee.forEach(function(Rt){St.push(o.getClipString(Rt,e,n,i)),n=!1}),St.join(M)}var Dt;if(ze)return Ee.forEach(function(Rt){var Kt=o.getClipString(Rt,e,n,i).split(M);null==Dt?(Dt=Kt,i=!1):Kt.forEach(function(Vt,jn){Dt[jn]+=T+Vt})}),Dt.join(M)}}}if(n&&t.col>-1&&t.col2>-1&&(r=a.columnHeaders).rows.forEach(function(Rt,Kt){if(k||Rt.isVisible){var Vt=o._getRowClipString(r,Kt,t,e,i);p.push(Vt)}}),t.row>-1&&t.row2>-1)if(r=a.cells,d!=L.ListBox||Y){for((0,u.assert)(t.bottomRow<r.rows.length,"Row index must be less than the number of rows."),st=t.topRow;st<=t.bottomRow;st++)if(k||r.rows[st].isVisible){var en=this._getRowClipString(r,st,t,e,i);p.push(en)}}else r.rows.forEach(function(Rt,Kt){if(Rt.isSelected&&(k||Rt.isVisible)){var Vt=o._getRowClipString(r,Kt,t,e,i);p.push(Vt)}});return p.join(M)},s.prototype._getRowClipString=function(t,e,n,i,r){var o=[],a=t.rows[e],p=0!=(i&Ti.CSV),v=0!=(i&Ti.InvisibleColumns),M=0==(i&Ti.Unformatted),T=0!=(i&Ti.SkipMerged);if(a.isVisible){if(r)for(var k=t.cellType==X.ColumnHeader?t.grid.topLeftCells:t.grid.rowHeaders,L=0;L<k.columns.length;L++)if(v||k.columns[L].isVisible){var Y=k.getCellData(e,L,!0);T&&this._skipMergedCell(t,null,e,L)&&(Y=""),o.push(this._getCellClipString(Y,i))}if(n.col>-1&&n.col2>-1)for((0,u.assert)(n.rightCol<t.columns.length,"Column index must be less than the number of columns."),L=n.leftCol;L<=n.rightCol;L++)(v||t.columns[L].isVisible)&&(!(Y=t.getCellData(e,L,M))&&a instanceof rt&&L==t.columns.firstVisibleIndex&&(Y=(0,u.toPlainText)(a.getGroupHeader())),T&&this._skipMergedCell(t,null,e,L)&&(Y=""),o.push(this._getCellClipString(Y,i)))}return o.join(p?",":"\t")},s.prototype._skipMergedCell=function(t,e,n,i){var r=t.grid.getMergedRange(t,n,i,!1);return!(!r||(e&&(r.row=Math.max(e.topRow,r.row),r.col=Math.max(e.leftCol,r.col)),r.row==n&&r.col==i))},s.prototype._getCellClipString=function(t,e){(0,u.isString)(t)||(t=(0,u.isDate)(t)?t.toJSON():null!=t?t.toString():""),t=t.replace(/\t/g," ");var n=0!=(e&Ti.QuoteAll);return(n=n||/\n|^"|"$/.test(t))||!(e&Ti.CSV)||(n=t.indexOf(",")>-1),n&&(t='"'+(t=t.replace(/"/g,'""'))+'"'),t},s.prototype._sameRows=function(t){for(var e=t[0],n=1;n<t.length;n++)if(t[n].topRow!=e.topRow||t[n].bottomRow!=e.bottomRow)return!1;return!0},s.prototype._sameCols=function(t){for(var e=t[0],n=1;n<t.length;n++)if(t[n].leftCol!=e.leftCol||t[n].rightCol!=e.rightCol)return!1;return!0},s.prototype.setClipString=function(t,e){var n=this,i=this._g,r=i.editableCollectionView,o=null==e,a=Et;if(o)switch(i._selHdl._expandSelection(),e=i.selection,i.selectionMode){case a.Row:case a.RowRange:case a.ListBox:e.col=0,e.col2=i.columns.length-1;break;case a.MultiRange:var d=i.selectedRanges;if(d.length>1)return r&&r.beginUpdate(),d.forEach(function(Rt){i.setClipString(t,Rt)}),r&&r.endUpdate(),void(i.selectedRanges=d)}e=(0,u.asType)(e,W);var p=this._parseClipString((0,u.asString)(t));!o&&p.length>e.rowSpan&&(p=p.slice(0,e.rowSpan)),this._expandClipRows(p,e);var v=0;if(p.length)for(var M=e.leftCol,T=i.columns.length,k=0;k<p[0].length;k++)for(var L=M+k+v;L<T&&!i.columns[L].visible;)v++,L++;var Y=o?new W(e.topRow,e.leftCol,Math.min(e.topRow+p.length-1,i.rows.length-1),Math.min(e.leftCol+p[0].length-1+v,i.columns.length-1)):e,ce=new me(i.cells,Y,t);if(!i.onPasting(ce))return!1;Y=new W(e.topRow,e.leftCol);var ae=new me(i.cells,new W(e.topRow,-1)),Ee=!1,Me=0,ze=e.topRow,st=i.rows,xt=i.columns,yt=i._getRowsPerItem(),St=p.length>yt,Dt=this._deferPaste(e,p.length);if((0,u.assert)(yt>=1,"Invalid RPI value = "+yt),i.deferUpdate(function(){var Rt=-1;r&&Dt&&(Rt=r.currentPosition,r.beginUpdate());for(var Kt=0;Kt<p.length&&ze<st.length;Kt++,ze++){var Vt=st[ze];if(Vt.isVisible){if(!St||!Vt.isReadOnly){var jn=Vt.dataItem,_n=r?r.currentEditItem:null;if(_n&&jn!=_n&&(i.onRowEditEnding(ae),i.onRowEditEnded(ae)),Vt instanceof Ge&&r){if(Dt){if(Vt.dataItem=r.addNew(),ae._rng.setRange(i.newRowAtTop?0:ze,-1),!i.onRowEditStarting(ae)){ze--,r.cancelNew();continue}i.onRowEditStarted(ae)}else if(1==yt||(ze+1)%yt==1){if(ae._rng.setRange(i.newRowAtTop?ze%yt:ze,-1),!i.onRowEditStarting(ae)){ze--;continue}i.onRowEditStarted(ae)}}else jn!=_n&&(ae._rng.setRange(ze,-1),i.onRowEditStarting(ae),i.onRowEditStarted(ae));for(var Wn=p[Kt],wn=e.leftCol,oi=0;oi<Wn.length&&wn<xt.length;oi++,wn++){var di=xt[wn];if(di.isVisible){if(!St||!di.isReadOnly){var ui=i.getMergedRange(i.cells,ze,wn,!1);if((!ui||ui.leftCol==wn&&ui.topRow==ze)&&n._allowEdit(ze,wn)){var Rn=Wn[oi],gi=Rn.length;gi>1&&'"'==Rn[0]&&'"'==Rn[gi-1]&&Rn.indexOf("\n")>-1&&(Rn=Rn.substr(1,gi-2));var Mi=di.maxLength||Vt.maxLength;Mi&&(Rn=Rn.substr(0,Mi));var li=new me(i.cells,new W(ze+Me,wn),Rn);if(i.onPastingCell(li)){r&&(r.editItem(jn),n._edItem=r.currentEditItem);var $n=i.getCellData(ze,wn,!1),Ki=li.data,tr=ni();if(tr){var Tr=i._getBindingColumn(i.cells,ze,i.columns[wn]),Io=Tr.editor,cs=null,Li=null;Io instanceof tr.InputNumber?(cs=Io.clamp.bind(Io),Li=u.DataType.Number):(Io instanceof tr.InputDate||Io instanceof tr.InputTime)&&(cs=Io._clamp.bind(Io),Li=u.DataType.Date),cs&&(Ki=(0,u.changeType)(Ki,Li,Tr.format,$n),(0,u.getType)(Ki)==Li&&(Ki=cs(Ki)))}i.setCellData(ze,wn,Ki)&&(li.data=$n,i.onPastedCell(li),Ee=!0)}Y.row2=Math.max(Y.row2,ze+Me),Y.col2=Math.max(Y.col2,wn)}}}else oi--}if(n._edItem&&r instanceof u.CollectionView){var us=new u.NotifyCollectionChangedEventArgs(u.NotifyCollectionChangedAction.Change,n._edItem,ze);r.onCollectionChanged(us)}Vt instanceof Ge&&r&&(Dt?(Vt.dataItem=null,Ee?(ae._rng.setRange(i.newRowAtTop?0:ze,-1),i.onRowEditEnding(ae),i.onRowEditEnded(ae),ze--,Me++,r.commitNew()):r.cancelNew()):St&&yt>1&&(ze+1)%yt==0&&Ee&&(ae._rng.setRange(i.newRowAtTop?ze%yt:ze,-1),i.onRowEditEnding(ae),i.onRowEditEnded(ae),ze-=yt,Me++))}}else Kt--}if(r)if(Dt)r.currentEditItem&&(r.commitEdit(),i.onRowEditEnding(ae),i.onRowEditEnded(ae)),r.moveCurrentToPosition(Rt),r.endUpdate(!0);else{var mr=r.currentAddItem;!mr&&0==e.row&&i.newRowAtTop&&st[0]instanceof Ge&&(mr=st[0].dataItem),mr&&(r.editItem(mr),n._edItem=mr)}Y.rowSpan>1&&0==Y.topRow&&st[0]instanceof Ge&&(Y.row=Y.row2=0),i.select(Y)}),i.onPasted(ce),Ee&&(0,u.closest)(i.hostElement,"form")){var Nt=document.createEvent("HTMLEvents"),en=(0,u.createElement)("<input>",i.hostElement);Nt.initEvent("change",!0,!1),en.dispatchEvent(Nt),(0,u.removeChild)(en)}},s.prototype._deferPaste=function(t,e){var n=this._g.rows,i=n.length;return e>1&&(i>1&&n[0].dataItem!=n[1].dataItem||1==i&&n[0]instanceof Ge)},s.prototype._parseClipString=function(t){var e=[],n=(t=(t=t.replace(/\r\n/g,"\n").replace(/\r/g,"\n")).replace(/\n$/,"")).length,i=function(ce){return"\n"===ce||"\t"===ce},r=0,o=0;for(r=0;r<n;r++){var a=!1,d=!1,p=!1;if('"'===t[r]){for(var v=!1,M=!1,T=r+1;T<n;T++){var k=t[T];if('"'===k){var L=T+1;L<n?i(t[L])&&(M=!0):M=!0}else!v&&i(k)&&(v=!0);if(M)break}M&&v&&(a=!0)}for(o=r;o<n&&!p;o++){var Y=t[o];'"'===Y?a&&(d=!d):i(Y)&&!d&&(this._parseClipCell(e,t,r,o,"\n"==Y),r=o,o==n-1&&(r=o+1),p=!0)}if(o==n){this._parseClipCell(e,t,r,o,!1);break}}return 0==e.length&&e.push([""]),e},s.prototype._parseClipCell=function(t,e,n,i,r){t.length||t.push([]);var o=e.substr(n,i-n),a=o.length;if(a>2&&'"'==o[0]&&'"'==o[a-1]){var d=o.substr(1,a-2),p=function(v){return d.indexOf(v)>-1};(p('""')||p("\t")||p("\n"))&&(o=d.replace(/""/g,'"'))}else"\t"==o&&(o="");t[t.length-1].push(o),r&&t.push([])},s.prototype._expandClipRows=function(t,e){for(var n=t.length,i=0,r=0;r<n;r++)i=Math.max(i,t[r].length);for(var o=this._g,a=0,d=0,p=e.topRow;p<=e.bottomRow;p++)o.rows[p].isVisible&&a++;for(var v=e.leftCol;v<=e.rightCol;v++)o.columns[v].isVisible&&d++;if((a>1||d>1)&&(1==a&&(a=n),1==d&&(d=i),d%i==0&&a%n==0)){for(v=i;v<d;v++)for(p=0;p<n;p++)t[p].push(t[p%n][v%i]);for(p=n;p<a;p++)t.push(t[p%n])}},s.prototype._updateEditorCell=function(t,e,n){var i=this._g,r=i.cells.getCellElement(t,e),o=i._useFrozenDiv()&&(t<i.frozenRows||e<i.frozenColumns);!r||o||i._hasPendingUpdates()?i.refresh(!1):i.onUpdatingView(new u.CancelEventArgs)&&(this._updateCell(r),(n||i._getHasValidation())&&this._updateRowHeaderCell(t),i.onUpdatedView())},s.prototype._updateRowHeaderCell=function(t){var e=this._g;if(e.headersVisibility&On.Row){var n=e.rowHeaders,i=e._getEditColumnIndex(),r=n.getCellElement(t,i);r&&this._updateCell(r)}},s.prototype._updateCell=function(t){var e=new ut(t,null),n=It._WJS_UPDATING;e.panel&&((0,u.addClass)(t,n),e.grid.cellFactory.updateCell(e.panel,e.row,e.col,t,e.range),(0,u.removeClass)(t,n))},s.prototype._getValidationError=function(t){var e=this,n=this._g,i="";if(n&&this._rng&&!this._validating){var r=this._rng.row,o=this._rng.col,a=n.activeEditor,d=n.cellFactory.getEditorValue(n),p=n.getCellData(r,o,!1);if(t&&(i=n._getError(n.cells,r,o,!0)),!i&&n._getHasValidation()){if(a&&(i=a.validationMessage),!i){var M=n.rows[r];!n._getBindingColumn(n.cells,r,n.columns[o]).getIsRequired(M)||null!=d&&""!==d||(i=this._getRequiredMsg())}!i&&n.setCellData(r,o,d,!0,!1)&&(i=n._getError(n.cells,r,o,!1),n.setCellData(r,o,p,!1,!1))}if(!i){var T=u.Control.getControl((0,u.closest)(a,".wj-control"));if(T&&T!=n&&T.invalidInput.hasHandlers){var k=function(ce,ae){ae.cancel&&(i=n._getError(n.cells,r,o,!0)||e._getBadInputMsg(),ae.cancel=!1)};this._validating=!0;var L=a.value;if(T.invalidInput.addHandler(k),T._containsFocus()){var Y=(0,u.closest)(T.hostElement,".wj-cell");Y&&Y.focus()}T.onLostFocus(),T.invalidInput.removeHandler(k),a.value=L,i&&a.select(),this._validating=!1}}}return i},s.prototype._getRequiredMsg=function(){if(!s._msgRequired){var t=document.createElement("input");t.required=!0,s._msgRequired=t.validationMessage}return s._msgRequired},s.prototype._getBadInputMsg=function(){if(!s._msgBadInput){var t=document.createElement("input");t.pattern="x",t.value="a",s._msgBadInput=t.validationMessage||"Bad Input"}return s._msgBadInput},s.prototype._allowEdit=function(t,e){var n=this._g;if(n.isReadOnly||n.selectionMode==Et.None||n.collectionView&&!n.editableCollectionView)return!1;if(null!=t){if(t<0||t>=n.rows.length)return!1;var i=n.rows[t];if(!i||i.isReadOnly||!i.isVisible)return!1}if(null!=e){if(e<0||e>=n.columns.length)return!1;var r=n._getBindingColumn(n.cells,t,n.columns[e]);if(!r||r.isReadOnly||!r.isVisible)return!1}return!0},s.prototype._commitRowEdits=function(){var t=this._g;if(this.finishEditing()&&this._edItem){var e=t.editableCollectionView;if(e&&(e.currentEditItem||e.currentAddItem)){var n=new me(t.cells,t.selection);t.onRowEditEnding(n),e.commitEdit(),t.onRowEditEnded(n)}this._edItem=null}},s.prototype._keydown=function(t){var e=this._edt;switch(t.keyCode){case u.Key.F2:return this._fullEdit=!this._fullEdit,t.preventDefault(),!0;case u.Key.F4:return this._toggleListBox(t),t.preventDefault(),!0;case u.Key.Space:return e&&"checkbox"==e.type&&!e.disabled&&!e.readOnly&&((0,u.setChecked)(e,e.indeterminate||!e.checked),this.finishEditing(),t.preventDefault()),!0;case u.Key.Enter:if(t.preventDefault(),e&&t.altKey){var n=t.target;if(n instanceof HTMLTextAreaElement&&"soft"==n.wrap){this._composing&&(n.blur(),n.focus()),n.style.setProperty("ime-mode","auto","important");var i=n.value,r=n.selectionStart,o=n.selectionEnd;n.value=i.substr(0,r)+"\n"+i.substr(o),(0,u.setSelectionRange)(n,r+1),n.style.imeMode=""}return!0}return e&&this._lbx?(this._toggleListBox(t),this.finishEditing(),!0):!this.finishEditing();case u.Key.Tab:return t.preventDefault(),!this.finishEditing();case u.Key.Escape:return t.preventDefault(),this.finishEditing(!0),!0;case u.Key.Up:case u.Key.Down:case u.Key.Left:case u.Key.Right:case u.Key.PageUp:case u.Key.PageDown:case u.Key.Home:case u.Key.End:if(this._lbx)return this._keydownListBox(t);if(t.altKey)switch(t.keyCode){case u.Key.Up:case u.Key.Down:return this._toggleListBox(t),t.preventDefault(),!0}if(this._fullEdit)switch(t.keyCode){case u.Key.PageUp:case u.Key.PageDown:t.preventDefault()}else if(this.finishEditing())return!1}return!0},s.prototype._keydownListBox=function(t){var e=!0;if(this._lbx)switch(t.keyCode){case u.Key.Up:t.altKey?this._toggleListBox(t):this._lbx.selectedIndex>0&&this._lbx.selectedIndex--;break;case u.Key.Down:t.altKey?this._toggleListBox(t):this._lbx.selectedIndex++;break;case u.Key.Home:case u.Key.PageUp:this._lbx.selectedIndex=0;break;case u.Key.End:case u.Key.PageDown:this._lbx.selectedIndex=this._lbx.collectionView.items.length-1;break;default:e=!1}return!!e&&(t.preventDefault(),!0)},s.prototype._keypress=function(t){if("AltLeft"!=t.code&&"AltRight"!=t.code){var e=this._edt,n=t.charCode||32,i=this._list;if(e&&"checkbox"!=e.type&&(0,u.getActiveElement)()==e&&i&&i.length>0&&n>=32){var r=e.selectionStart,o=e.value.substr(0,r);t.target==e&&t.charCode&&(o+=String.fromCharCode(t.charCode),r++);var a=this._mapSearch,d=-1;if(a)for(var p=0;p<i.length;p++){var v=i[p];if(a(null==v?v:v.toString(),o)){d=p;break}}else(d=this._findString(i,o,!0))<0&&!this._g.caseSensitiveSearch&&(d=this._findString(i,o,!1));if(d>-1){var M=this._lbx;M&&(M.selectedIndex=d),e.value=i[d],(0,u.setSelectionRange)(e,r,e.value.length),e.dispatchEvent(this._evtInput),t.preventDefault&&t.preventDefault()}}}else t.preventDefault()},s.prototype._findString=function(t,e,n){n||(e=e.toLowerCase());for(var i=0;i<t.length;i++){var r=t[i];if(null!=r&&(r=r.toString(),n||(r=r.toLowerCase()),0==r.indexOf(e)))return i}return-1},s.prototype._toggleListBox=function(t,e){var n=this._g,i=n._selHdl.selection,r=n.isTouching;if(e||(e=i),this._lbx&&(this._removeListBox(),i.intersects(e)))return n.activeEditor?n.activeEditor.focus():n.containsFocus()||n.focus(),!0;if(!e.isValid)return!1;var o=n.rows[e.row],a=n._getBindingColumn(n.cells,e.row,n.columns[e.col]),d=o.dataMap||a.dataMap,p=n._getMapEditor(o,a);if(!d||p!=b.DropDownList||!ni()||null!=a.editor||!e.intersects(n.editRange)&&!this.startEditing(!0,e.row,e.col,!r,t))return!1;var v=this._lbx=this._createListBox();return requestAnimationFrame(function(){return v.showSelection()}),r&&v.focus(),!0},s.prototype._createListBox=function(){var t=this,e=this._g,n=e.activeEditor,i=this._rng,r=e.rows[i.row],o=e._getBindingColumn(e.cells,i.row,e.columns[i.col]),a=o.isContentHtml||r.isContentHtml,d=o.dataMap||r.dataMap,p=o.dropDownCssClass||r.dropDownCssClass,v=document.createElement("div");this._removeListBox(),(0,u.addClass)(v,"wj-dropdown-panel wj-grid-listbox"),(0,u.addClass)(v,p);var M=n?n.value:e.getCellData(i.row,i.col,!0),T=new dt.ListBox(v,{maxHeight:4*r.renderHeight,isContentHtml:a,itemsSource:d.getDisplayValues(r.dataItem),selectedValue:M});T.addEventListener(v,"keydown",function(Y){switch(Y.keyCode){case u.Key.Enter:case u.Key.Escape:t._removeListBox(),e.focus()}}),T.addEventListener(v,"click",function(){t._removeListBox(),e.focus(),t.finishEditing()}),T.gotFocus.addHandler(function(){T.containsFocus()&&n&&n.focus()}),T.selectedIndexChanged.addHandler(function(){var Y=e.activeEditor;Y&&(Y.value=t._list[T.selectedIndex],Y.dispatchEvent(t._evtInput),(0,u.setSelectionRange)(Y,0,Y.value.length))});var k=e.cells.getCellElement(i.row,i.col);if(k){(0,u.showPopup)(v,k,!1,!1,!1);var L=k.querySelector("."+Fn._WJC_DROPDOWN);(0,u.setAttribute)(L,"aria-expanded",!0)}else(0,u.showPopup)(v,e.getCellBoundingRect(i.row,i.col)),v[u.Control._OWNR_KEY]=e.hostElement;return T},s.prototype._removeListBox=function(){var t=this._lbx;t&&(this._lbx=null,(0,u.hidePopup)(t.hostElement,function(){t.dispose()}))},s._msgRequired="",s._msgBadInput="",s}(),on=function(){function s(t,e){this._col=(0,u.asType)(t,$t),this._ctl=e,this._tbx=e.hostElement.querySelector("input"),(0,u.assert)(this._col instanceof $t,"Invalid Column"),(0,u.assert)(this._ctl instanceof u.Control,"Invalid edit control"),(0,u.assert)(this._tbx instanceof HTMLInputElement,"Input element not found in editor");var n=this._ctl;this._prop=(0,u.isUndefined)(n.value)?(0,u.isUndefined)(n.checkedItems)?(0,u.isUndefined)(n.text)?null:"text":"checkedItems":"value",(0,u.assert)(null!=this._prop,"value, text properties not found in editor");var i=ni();i&&(this._isDropDown=n instanceof i.DropDown,this._isComboBox=n instanceof i.ComboBox,this._isAutoComplete=n instanceof i.AutoComplete,this._isInputDateTime=n instanceof i.InputDateTime,this._isInputMask=n instanceof i.InputMask),this._updateFocusBnd=this._updateFocus.bind(this),this._keydownBnd=this._keydown.bind(this),this._cmpstartBnd=this._cmpstart.bind(this),this._mousedownBnd=this._mousedown.bind(this),this._connect(),this._col.gridChanged.addHandler(this._connect,this),this._hideEditor(),this._updateFocus()}return Object.defineProperty(s.prototype,"grid",{get:function(){return this._g},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"column",{get:function(){return this._col},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"control",{get:function(){return this._ctl},enumerable:!0,configurable:!0}),s.prototype.dispose=function(){this._disconnect(),this._isDropDown&&(this._isDropDown=!1),this._g=this._col=this._ctl=this._tbx=null},s.prototype._connect=function(){var t=this._col?this._col.grid:null;if(t!=this._g&&(this._disconnect(),t)){var e=t.hostElement,n=t.addEventListener.bind(t),i=this._updateFocusBnd;this._g=t,this._hideEditor(),this._updateFocus(),n(e,"keydown",this._keydownBnd,!0),n(e,"mousedown",this._mousedownBnd,!0),n(e,"mouseup",i,!0),n(e,"blur",i,!0),n(e,"focus",i),n(this._tbx,"compositionstart",this._cmpstartBnd),t.gotFocus.addHandler(i,this),t.selectionChanged.addHandler(i,this),t.prepareCellForEdit.addHandler(this._prepareCellForEdit,this),t.cellEditEnding.addHandler(this._cellEditEnding,this),t.cellEditEnded.addHandler(this._cellEditEnded,this)}},s.prototype._disconnect=function(){var t=this._g;if(t){var e=t.hostElement,n=t.removeEventListener.bind(t),i=this._updateFocusBnd;n(e,"keydown",this._keydownBnd),n(e,"mousedown",this._mousedownBnd),n(e,"mouseup",i),n(e,"blur",i),n(e,"focus",i),n(this._tbx,"compositionstart",this._cmpstartBnd),t.gotFocus.removeHandler(i,this),t.selectionChanged.removeHandler(i,this),t.prepareCellForEdit.removeHandler(this._prepareCellForEdit,this),t.cellEditEnding.removeHandler(this._cellEditEnding,this),t.cellEditEnded.removeHandler(this._cellEditEnded,this),this._g=null}},s.prototype._prepareCellForEdit=function(t,e){if(!e.cancel&&e.getColumn(!0)==this._col){var n=this.grid,i=this._ctl,r=this._tbx,o=this._prop,a=e.range,d=e.data,p=d?d.type:"",v=n.getCellData(a.row,a.col,"text"==o||this._isInputMask),M=!1;if(this._isComboBox&&(this._isAutoComplete&&(i._oldText=""),i.isRequired||(i.selectedIndex=-1,r.value=""),this._isInputDateTime&&i._setDropdown(i._ddDate)),"checkedItems"==o&&(i.showFilterInput&&(i.showFilterInput=!1,i.showFilterInput=!0),(null==v||0==v.length)&&(i[o]=[],i.selectedIndex=0)),(null!=v||!i.isRequired)&&(i[o]=v,this._isAutoComplete&&(clearTimeout(i._toSearch),(k=i.collectionView)&&(k.filter||i._rxHighlight)&&(i._rxHighlight=null,k.filter=null),v))){var T=i._findNext(v,1,-1);i.selectedIndex!=T&&(i.selectedIndex=T)}switch(p){case"keydown":case"mousedown":var k;((0,u.isUndefined)(d.keyCode)||d.keyCode==u.Key.F4||d.altKey)&&(M=this._isDropDown,this._isAutoComplete&&(null==v||(0,u.isString)(v)))&&(k=i.collectionView)&&((k.filter||i._rxHighlight)&&(i._rxHighlight=null,k.filter=null),T=v?i._findNext(v,1,-1):-1,i.selectedIndex!=T&&(i.selectedIndex=T))}n.showPlaceholders&&!i.placeholder&&(r.placeholder=this._col.header),this._showEditor(),n._edtHdl._fullEdit=!0,0==p.indexOf("key")&&32==d.keyCode&&((0,u.setSelectionRange)(r,r.value.length),d.preventDefault()),(0,u.isIE)()&&!n.imeEnabled&&("keypress"==p&&d.key?(setTimeout(function(){r.value=d.key,(0,u.setSelectionRange)(r,1);var Y=document.createEvent("HTMLEvents");Y.initEvent("input",!0,!1),r.dispatchEvent(Y)}),d.preventDefault()):"compositionstart"==p&&(0,u.setSelectionRange)(r,r.value.length)),this._isDropDown&&(i.isDroppedDown=M)}},s.prototype._cellEditEnding=function(t,e){if(!e.cancel&&e.getColumn(!0)==this._col){var n=this.grid,i=this._ctl,r=this._prop;if(this._isAutoComplete){var o=i.selectedIndex;if((0,u.isNumber)(o)&&o<0){var a=i.collectionView;a&&1==a.items.length?i.selectedIndex=0:this._col.isRequired&&(e.cancel=!0)}}!e.cancel&&r&&n._edtHdl._setCustomEditorValue(i[r])}},s.prototype._cellEditEnded=function(t,e){this._hideEditor(),this._updateFocus()},s.prototype._cmpstart=function(t){var e=this;(0,u.isIE)()?setTimeout(function(){e._activateEditor(t)}):this._activateEditor(t)},s.prototype._keydown=function(t){if(!t.defaultPrevented&&this._checkColumn(t.target))if(this.grid.activeEditor){if(t.keyCode==u.Key.Enter&&this._isDropDown){var e=this._ctl;e.isDroppedDown&&(e.isDroppedDown=!1,t.preventDefault(),t.stopImmediatePropagation())}}else if(this._isDropDown){var n=t.keyCode;switch(n){case u.Key.F4:case u.Key.Up:case u.Key.Down:(n==u.Key.F4||t.altKey)&&(this._activateEditor(t),t.preventDefault())}}},s.prototype._checkColumn=function(t){var e=this._g;if((0,u.contains)(t,this._tbx)||null!=t&&this._imeEditor()===t){var n=e._selHdl.selection;return e._getBindingColumn(e.cells,n.row,e.columns[n.col])==this._col}return!1},s.prototype._mousedown=function(t){if(!t.defaultPrevented&&0==t.button&&!t.shiftKey&&!t.ctrlKey&&!t.metaKey&&this._isDropDown&&(0,u.closestClass)(t.target,Fn._WJC_DROPDOWN)){var e=this.grid,n=e.hitTest(t);n.getColumn(!0)==this._col&&(e.select(n.range),e.refresh(),this._activateEditor(t),t.preventDefault())}},s.prototype._activateEditor=function(t){var e=this.grid;if(!e.activeEditor){var n=e._selHdl.selection;if(n.isValid)return e.startEditing(!0,n.row,n.col,!0,t)}return!1},s.prototype._showEditor=function(){var t=this.grid,e=t.activeEditor,n=(0,u.closest)(e,".wj-cell");if(n){var i=this._tbx,r=this._ctl.hostElement;(0,u.setCss)(r,s._cssVisible),(0,u.toggleClass)(i,"wj-grid-ime",!1),n.innerHTML="",n.appendChild(r),t._edtHdl._edt=i,this._imeEditor()?this._initImeEditInput():(i.select(),i.focus(),e.value="")}},s.prototype._hideEditor=function(){var t=this.grid,e=this._ctl.hostElement,n=this._tbx;this._isDropDown&&(this._ctl.isDroppedDown=!1),n.setCustomValidity("");var i=n.value;n.value=i+" ",n.value=i,(0,u.setCss)(e,s._cssHidden),(0,u.toggleClass)(n,"wj-grid-ime",!0),t&&e.parentElement!=t._root&&t._root.appendChild(e)},s.prototype._resetTabIndex=function(){this._tbx.tabIndex=-1},s.prototype._updateFocus=function(){var t=this.grid;if(t&&!t.activeEditor){var e=t.hostElement,n=".wj-flexgrid",i=this._tbx,r=(0,u.getActiveElement)(),o=t._getTabIndex();if((0,u.closest)(r,n)==e)if((0,u.closest)(i,n)!=e)this._hideEditor();else if(t.imeEnabled)i.tabIndex>-1&&(i.tabIndex=-1);else{var a=t._selHdl.selection,d=t._getBindingColumn(t.cells,a.row,t.columns[a.col]);d&&d==this._col&&t.canEditCell(a.row,a.col)?r!==i&&(t.activeCell&&(t.activeCell.tabIndex=-1),i.tabIndex=o,t.isTouching||(i.select(),i.focus())):i.tabIndex>-1&&(i.tabIndex=-1,r==i&&t.focus(!0))}}},s.prototype._initImeEditInput=function(){var t=this,e=this._imeEditor();if(e){var n=this._tbx,i=n&&n.style.color,r=this._ctl,o=function(){if(e.removeEventListener("compositionend",o),(0,u.setCss)(e,Ue._cssHidden),n){n.style.color=i;var a=function(){r.gotFocus.removeHandler(a),t._g._edtHdl._edt=n;var d=e.value;if(d){n.value=d,s._setSelectionRange(n,d.length,d.length);var p=document.createEvent("HTMLEvents");p.initEvent("input",!0,!1),n.dispatchEvent(p)}};r.gotFocus.addHandler(a),n.focus()}};e.addEventListener("compositionend",o),n&&(n.style.color="transparent")}},s._setSelectionRange=function(t,e,n){if(void 0===n&&(n=e),(0,u.contains)(document.body,t)&&!t.disabled&&"none"!=t.style.display)try{t.setSelectionRange((0,u.asNumber)(e),(0,u.asNumber)(n),(0,u.isIE)()?null:"backward"),t.focus()}catch{}},s.prototype._imeEditor=function(){var t=this.grid;if(t&&t.imeEnabled){var e=(0,u.getActiveElement)();if(e&&(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement)&&(0,u.hasClass)(e,"wj-grid-ime"))return e}return null},s._cssHidden={position:"fixed",left:-32e3,top:-32e3,width:"1px",height:"1px",overflow:"hidden",border:"none"},s._cssVisible={position:"absolute",left:0,top:0,width:"100%",height:"100%"},s}();!function(s){s[s.None=0]="None",s[s.MoveDown=1]="MoveDown",s[s.MoveAcross=2]="MoveAcross",s[s.Cycle=3]="Cycle",s[s.CycleOut=4]="CycleOut",s[s.CycleEditable=5]="CycleEditable"}(Ln||(Ln={}));var si,qt,Je,Wi=function(){function s(t){this._kaTab=Ln.None,this._kaEnter=Ln.MoveDown,this._g=t;var e=t.hostElement;t.addEventListener(e,"keypress",this._keypress.bind(this)),t.addEventListener(e,"keydown",this._keydown.bind(this))}return s.prototype._keydown=function(t){var e=this._g,n=e._edtHdl,i=e.selection,r=t.ctrlKey||t.metaKey,o=t.shiftKey,a=t.altKey,d=t.target,p=t.char||t.key,v=!0;if(!r&&!a&&p&&1==p.length&&(0,u.closest)(d,".wj-cell")&&d.firstElementChild&&(" "!=p||!o)){var M=d.querySelectorAll("."+Fn._WJC_RADIOMAP+" label input");if(M&&M.length){for(var T=-1,k=0;k<M.length;k++)if(M[k].checked){T=k;break}for(p=p.toLowerCase(),k=0;k<M.length;k++){var L=M[(T+k+1)%M.length];if(" "==p||L.value.toLowerCase()[0]==p){L.click();break}}return void t.preventDefault()}}if(!e._wantsInput(d)){var Y=(0,u.tryCast)(e.rows[i.row],rt),ce=e.editableCollectionView,ae=e._getKeyCode(t),Ee=xn,Me=Et,ze=t.defaultPrevented&&!(d instanceof HTMLInputElement);if((e.isRangeValid(i)&&!ze||r&&65==ae)&&(!e.activeEditor||!n._keydown(t)||e._isNativeCheckbox(e.activeEditor))){if(e.autoClipboard){if(r&&(67==ae||45==ae)){var st=new me(e.cells,i);if(e.onCopying(st)){var Dt=e.getClipString(null,!1,0!=(e.copyHeaders&On.Column),0!=(e.copyHeaders&On.Row))+"\r\n";e._eFocus.focus(),u.Clipboard.copy(Dt),e.onCopied(st)}return void t.stopPropagation()}if(r&&86==ae||o&&45==ae)return e.isReadOnly||u.Clipboard.paste(function(Vt){e.setClipString(Vt)}),void t.stopPropagation()}switch((o||r)&&"Space"==t.code&&(ae=u.Key.Space),ae){case u.Key.Space:if(o&&i.isValid)switch(e.selectionMode){case Me.CellRange:case Me.MultiRange:case Me.Row:case Me.RowRange:case Me.ListBox:e.select(new W(i.row,0,i.row,e.columns.length-1),!1)}else if(r&&i.isValid)switch(e.selectionMode){case Me.CellRange:case Me.MultiRange:e.select(new W(0,i.col,e.rows.length-1,i.col),!1)}else(v=this._startEditing(!0,t))&&setTimeout(function(){var Vt=e.activeEditor;Vt&&(Vt.disabled||Vt.readOnly&&!(0,u.closest)(Vt,".wj-control")?e.finishEditing():"checkbox"==Vt.type&&((0,u.setChecked)(Vt,Vt.indeterminate||!Vt.checked),e.finishEditing()))}),v=!0;break;case 65:if(r)switch(e.selectionMode){case Me.None:case Me.Cell:break;default:e.selectAll()}else v=!1;break;case u.Key.Left:if(r||a)v=!1;else if(i.isValid&&0==i.leftCol&&Y&&!Y.isCollapsed&&Y.hasChildren)Y.isCollapsed=!0;else{if(e.selectionMode==Me.None)return;this._moveSel(Ee.None,r?Ee.Home:Ee.Prev,o)}break;case u.Key.Right:if(r||t.altKey)v=!1;else if(i.isValid&&0==i.leftCol&&Y&&Y.isCollapsed)Y.isCollapsed=!1;else{if(e.selectionMode==Me.None)return;this._moveSel(Ee.None,r?Ee.End:Ee.Next,o)}break;case u.Key.Up:if(r)v=!1;else if(t.altKey&&n._toggleListBox(t))v=!0;else{if(e.selectionMode==Me.None)return;this._moveSel(Ee.Prev,Ee.None,o)}break;case u.Key.Down:if(r)v=!1;else if(t.altKey&&n._toggleListBox(t))v=!0;else{if(e.selectionMode==Me.None)return;this._moveSel(Ee.Next,Ee.None,o)}break;case u.Key.PageUp:if(this._moveSel(t.altKey?Ee.Home:Ee.PrevPage,Ee.None,o),e.rows.frozen&&e.selection.row<e.rows.frozen){var Nt=e.scrollPosition;Nt.y&&(e.scrollPosition=new u.Point(Nt.x,0))}break;case u.Key.PageDown:this._moveSel(t.altKey?Ee.End:Ee.NextPage,Ee.None,o);break;case u.Key.Home:this._moveSel(r?Ee.Home:Ee.None,Ee.Home,o);break;case u.Key.End:this._moveSel(r?Ee.End:Ee.None,Ee.End,o);break;case u.Key.Tab:if(!(v=this._performKeyAction(e.keyActionTab,o))&&!e.activeCell)if(e.focus(!0),e.imeEnabled){var en=e._imeHdl;en&&en._resetTabIndex()}else{var Rt=this._getCustomEditor(e,i.row,i.col);Rt&&Rt._resetTabIndex()}break;case u.Key.Enter:v=this._performKeyAction(e.keyActionEnter,o),this._getCustomEditor(e,i.row,i.col)||e.focus(!0),!o&&ce&&null!=ce.currentEditItem&&n._commitRowEdits();break;case u.Key.Escape:if(v=!1,ce&&(ce.currentAddItem||ce.currentEditItem)){var Kt=new me(e.cells,e.selection);Kt.cancel=!0,e.onRowEditEnding(Kt),ce.currentAddItem&&ce.cancelNew(),ce.currentEditItem&&ce.cancelEdit(),e.onRowEditEnded(Kt),v=!0}e._mouseHdl.resetMouseState();break;case u.Key.Delete:case u.Key.Back:v=this._deleteSel(t);break;case u.Key.F2:v=this._startEditing(!0,t);break;case u.Key.F4:v=n._toggleListBox(t);break;default:v=!1}v&&(e.containsFocus()||e.focus(),t.preventDefault(),t.stopPropagation())}}},s.prototype._performKeyAction=function(t,e){var i=xn;switch(t){case Ln.MoveDown:return this._moveSel(e?i.Prev:i.Next,i.None,!1),!0;case Ln.MoveAcross:return this._moveSel(i.None,e?i.Prev:i.Next,!1),!0;case Ln.Cycle:return this._moveSel(i.None,e?i.PrevCell:i.NextCell,!1),!0;case Ln.CycleEditable:return this._moveSel(i.None,e?i.PrevEditableCell:i.NextEditableCell,!1),!0;case Ln.CycleOut:var r=this._g.selection;return this._moveSel(i.None,e?i.PrevCell:i.NextCell,!1),!r.equals(this._g.selection)}return!1},s.prototype._keypress=function(t){var e=this,n=this._g;if(!n._wantsInput(t.target)&&!t.defaultPrevented){var i=n._edtHdl;if(n.activeEditor)i._keypress(t);else if(t.charCode>u.Key.Space&&"AltLeft"!=t.code&&"AltRight"!=t.code)if(this._startEditing(!1,t)&&n.activeEditor){var r=(0,u.getActiveElement)();if(r instanceof HTMLInputElement&&"checkbox"!=r.type||r instanceof HTMLTextAreaElement){var o=n._selHdl.selection,a=n.getCellData(o.row,o.col,!0),d=n.getCellData(o.row,o.col,!1),p=u.culture.Globalize.numberFormat["%"]||"%",v=String.fromCharCode(t.charCode),M=(0,u.isNumber)(d)&&a.indexOf(p)>-1||""==a&&r.value==p,T=!0,k=function(){r.value=M?v+p:v,(0,u.setSelectionRange)(r,1),r.dispatchEvent(i._evtInput),i._keypress(t),i._edtValue=r.value!=a?r.value:null};if(n.imeEnabled){var L=this._getCustomEditor(n,o.row,o.col),Y=L&&L.control;if(Y&&!Y._focus){var ce=function(){Y.gotFocus.removeHandler(ce),T=!1,k()};Y.gotFocus.addHandler(ce)}}T&&k(),t.preventDefault()}}else if(n.autoSearch){var ae=!1;if(o=n._selHdl.selection,t.charCode>32||32==t.charCode&&this._search){t.preventDefault(),this._search+=String.fromCharCode(t.charCode),this._toSearch&&clearTimeout(this._toSearch),this._toSearch=setTimeout(function(){e._toSearch=null,e._search=""},u.Control._SEARCH_DELAY);var Ee=this._findNext(o.row,o.col);Ee<0&&this._search.length>1&&(this._search=this._search[this._search.length-1],Ee=this._findNext(o.row,o.col)),Ee>-1&&(ae=!0,n.select(Ee,o.col))}ae||(this._search="")}}},s.prototype._getCustomEditor=function(t,e,n){var i=t._getBindingColumn(t.cells,e,t.columns[n]);return i&&i._edt},s.prototype._findNext=function(t,e){var n=this._g,i=n.rows.length;(t<0||1==this._search.length)&&t++;var r=this._search,o=n.caseSensitiveSearch;o||(r=r.toLowerCase());for(var a=n.columns[e].isContentHtml,d=0;d<i;d++){var p=(t+d)%i,v=n.getCellData(p,e,!0).trim();if(a&&(v=(0,u.toPlainText)(v)),o||(v=v.toLowerCase()),0==v.indexOf(r))return p}return-1},s.prototype._moveSel=function(t,e,n){var i=this._g,r=i.selectionMode,o=i._selHdl;r!=Et.None&&(r==Et.MultiRange&&o.extendedSelection.clear(),o.moveSelection(t,e,n))},s.prototype._deleteSel=function(t){var e=this,n=this._g,i=n.rows,r=n.editableCollectionView,o=n.selection,a=[],d=new W,p=new pt(n.cells,d,t),v=Et;if(!n._edtHdl._allowEdit())return!1;if(n.allowDelete&&(null==r||r.canRemove&&!r.isAddingNew&&!r.isEditingItem)&&0==(a=i.filter(function(Y){return Y.isSelected})).length)switch(n.selectionMode){case v.CellRange:case v.MultiRange:var M=n._getDeleteColumnIndex();n.selectedRanges.forEach(function(Y){if(Y.leftCol==M&&Y.rightCol==n.columns.length-1)for(var ce=Y.topRow;ce>-1&&ce<=Y.bottomRow;ce++){var ae=i[ce];a.indexOf(ae)<0&&a.push(ae)}});break;case v.Row:o.topRow>-1&&a.push(i[o.topRow]);break;case v.RowRange:for(var T=o.topRow;T>-1&&T<=o.bottomRow;T++)a.push(i[T])}if(a.length>0){var k=0;if(n.deferUpdate(function(){r&&r.beginUpdate();for(var Y=a.length-1;Y>=0;Y--){var ce=a[Y];ce instanceof Ge||(d.setRange(ce.index,-1),n.onDeletingRow(p)&&(r&&ce.dataItem?r.remove(ce.dataItem):n.rows.removeAt(ce.index),k++,n.onDeletedRow(p)))}r&&r.endUpdate(!1)}),k>0){var L=o.topRow;for(L=Math.min(L,n.rows.length-1);L>0&&n.rows[L]instanceof Ge;)L--;o.row=o.row2=L,n.select(o,!1),n.childItemsPath&&r&&r.refresh()}return!0}return 0==a.length&&(n.deferUpdate(function(){var Y=n.scrollPosition,ce=-1;a=i.filter(function(ze){return ze.isSelected});var ae=n.selectedRanges.length>1||a.length>1||o.isValid&&i[o.row].dataItem!=i[o.row2].dataItem;if(r&&r.beginUpdate(),a.length){var Ee=new W(0,0,0,n.columns.length-1);a.forEach(function(ze){Ee.row=Ee.row2=ze.index,e._deleteRange(t,Ee),ce=Ee.bottomRow})}else e._deleteRange(t,o),ce=o.bottomRow,n.selectionMode==v.MultiRange&&n._selHdl.extendedSelection.forEach(function(ze){e._deleteRange(t,ze),ce=ze.bottomRow});if(n.select(o,!1),n.scrollPosition=Y,r){if(ae&&r.currentEditItem){r.commitEdit();var Me=new me(n.cells,new W(ce,-1));n.onRowEditEnding(Me),n.onRowEditEnded(Me)}r.endUpdate(!1)}}),!0)},s.prototype._deleteRange=function(t,e){for(var n=this._g,i=n.editableCollectionView,r=new W,o=new pt(n.cells,r,t),a=new me(n.cells,new W(e.topRow,-1)),d=e.topRow;d<=e.bottomRow;d++){var p=n.rows[d];if(!p.isReadOnly)for(var v=e.leftCol;v<=e.rightCol;v++){var M=n._getBindingColumn(n.cells,d,n.columns[v]);if(!M.getIsRequired(p)&&!M.isReadOnly&&n.getCellData(d,v,!0)&&(r.setRange(d,v),o.cancel=!1,n.onBeginningEdit(o))){var T=p.dataItem,k=i?i.currentEditItem:null;k&&T!=k&&(n.onRowEditEnding(a),n.onRowEditEnded(a)),T!=k&&(a._rng.setRange(d,-1),n.onRowEditStarting(a),n.onRowEditStarted(a)),i&&(i.editItem(T),n._edtHdl._edItem=T),n.setCellData(d,v,"",!0,!1),n.onCellEditEnding(o),n.onCellEditEnded(o)}}}},s.prototype._startEditing=function(t,e,n,i){return this._g._edtHdl.startEditing(t,n,i,!0,e)},s}(),bi="wj-state-dragsrc",ei="wj-flexgrid";!function(s){s[s.None=0]="None",s[s.Columns=1]="Columns",s[s.Rows=2]="Rows",s[s.Both=3]="Both",s[s.ColumnsAllCells=4|s.Columns]="ColumnsAllCells",s[s.RowsAllCells=4|s.Rows]="RowsAllCells",s[s.BothAllCells=4|s.Both]="BothAllCells"}(si||(si={})),function(s){s[s.None=0]="None",s[s.Headers=1]="Headers",s[s.Cells=2]="Cells",s[s.Both=3]="Both"}(qt||(qt={})),function(s){s[s.None=0]="None",s[s.Columns=1]="Columns",s[s.Rows=2]="Rows",s[s.Both=3]="Both"}(Je||(Je={}));var Ae=function(){function s(t){var e=this,n=t.hostElement,i=t.addEventListener.bind(t),r=t.removeEventListener.bind(t);this._g=t,this._dvMarker=(0,u.createElement)('<div class="wj-marker">&nbsp;</div>'),i(n,"mousedown",function(d){if(t._rcBounds=null,!d.defaultPrevented&&0==d.button){var p=d.target;if(!t.containsFocus()){var v=p instanceof HTMLElement&&p.tabIndex>-1?p:t._eFocus;t._setFocusNoScroll(v)}setTimeout(function(){d.defaultPrevented||t.focus()});var M=(0,u.closestClass)(p,ei);if(M&&M!=t.hostElement||!t.activeEditor&&t._isInputElement(p)&&!e._hasRadioMap(d)&&!t._isNativeCheckbox(p)){var T=t.hitTest(d),k=X;switch(T.cellType){case k.Cell:t.select(T.range,!1),p instanceof HTMLElement&&"root"!=p.getAttribute("wj-part")&&p.focus();break;case k.ColumnHeader:case k.ColumnFooter:t.scrollIntoView(-1,T.col);break;case k.RowHeader:t.scrollIntoView(T.row,-1)}return void((0,u.isIE)()&&T.cellType!=k.Cell&&t._isInputElement(p)&&p.focus())}var L=document;r(L,"mousemove"),r(L,"mouseup"),i(L,"mousemove",o),i(L,"mouseup",a),e._isDown=!0,e._mousedown(d)}});var o=function(d){e._mousemove(d)},a=function(d){e._isDown=!1,r(document,"mousemove"),r(document,"mouseup"),e._mouseup(d)};i(n,"mouseenter",function(d){t._rcBounds=null}),i(n,"mousemove",this._hover.bind(this)),i(n,"dblclick",this._dblclick.bind(this)),i(n,"click",this._click.bind(this)),i(n,"selectstart",function(d){t._isInputElement(d.target)||d.preventDefault()}),i(n,"wheel",function(d){if(!d.defaultPrevented&&d.deltaY&&!d.ctrlKey&&!d.metaKey){var p=t._root,v=d.deltaY;if((d.shiftKey?p.scrollWidth>p.clientWidth:p.scrollHeight>p.clientHeight)&&(0,u.closestClass)(d.target,ei)==t.hostElement){switch(d.deltaMode){case 1:v=t.rows.defaultSize*(v<0?-1:1);break;case 2:v=(d.shiftKey?p.clientWidth:p.clientHeight)*(v<0?-1:1);break;default:(0,u.isSafari)()&&(v=(0,u.clamp)(v,-150,150))}t._isScrollingByWheel=!0;var M=t.finishEditing(!1);t._isScrollingByWheel=!1,M&&(d.shiftKey?p.scrollLeft+=v:p.scrollTop+=v),d.preventDefault(),d.stopImmediatePropagation()}}}),i(n,"dragstart",this._dragstart.bind(this)),i(n,"dragover",this._dragover.bind(this)),i(n,"dragleave",this._dragleave.bind(this)),i(n,"drop",this._drop.bind(this)),i(n,"dragend",this._dragend.bind(this))}return s.prototype.resetMouseState=function(){var t=this._g,e=t.hostElement;this._updating&&(this._updating=!1,t.endUpdate()),this._dragSrc&&(0,u.removeClass)(this._dragSrc,bi),this._showDragMarker(null),e&&(e.style.cursor=""),(0,u.isSafari)()&&this._szRowCol&&t.invalidate(),t.removeEventListener(document,"mousemove"),t.removeEventListener(document,"mouseup"),this._eMouse=null,this._isDown=null,this._htDown=null,this._lbSelState=null,this._lbSelStateRows={},this._lbSel=null,this._szRowCol=null,this._szArgs=null,t._rcBounds=null},s.prototype._mousedown=function(t){var e=this._g,n=t.target,i=e.hitTest(t),r=i.cellType,o=X,a=t.ctrlKey||t.metaKey;if(this._selDown=e.selection,this._ignoreClick=!1,i.panel==e.cells){if((0,u.closestClass)(n,Fn._WJC_DROPDOWN)){var d=e.hitTest(n);return e._edtHdl._toggleListBox(t,d.range),t.preventDefault(),void(this._ignoreClick=!0)}var p=e.editRange;if(p&&p.contains(i.range))return}var v=(0,u.getActiveElement)();if(n!=v||!e._isInputElement(n))if(r!=o.None)if(this._htDown=i,this._eMouse=t,null==this._szRowCol){var M=e.allowResizing,T=si;if((r==o.RowHeader||r==o.TopLeft)&&i.edgeBottom&&M&T.Rows&&this._getResizeRowHt(i))this._ignoreClick=!0;else if((r==o.ColumnHeader||r==o.TopLeft)&&i.edgeRight&&M&T.Columns&&this._getResizeColHt(i))this._ignoreClick=!0;else{var k=e.allowDragging,L=Je;switch(r){case o.Cell:case o.RowHeader:a&&e.selectionMode==Et.ListBox&&(this._lbSelState=e.rows[i.row].isSelected,(0,u.closest)(n,".wj-elem-collapse")&&(this._lbSelState=!1)),this._mouseSelect(t,t.shiftKey),r==o.RowHeader&&!(k&L.Rows)&&(t.preventDefault(),e.focus());break;case o.ColumnHeader:e.allowSorting||k&L.Columns||(0,u.closest)(n,"button")||this._mouseSelect(t,t.shiftKey)}}}else{var Y=e._eFocus;v!=Y&&(Y.tabIndex=0,Y.focus()),this._ignoreClick=!0,this._handleResizing(t)}else e.finishEditing(),n!=e._root&&n!=e._fCt&&e._edtHdl._commitRowEdits()},s.prototype._mousemove=function(t){if(this._htDown&&!t.defaultPrevented){if(0==t.buttons&&this._eMouse&&t.timeStamp-this._eMouse.timeStamp>600)return void this.resetMouseState();if(this._eMouse=t,this._szRowCol)this._handleResizing(t);else{var e=this._g,n=e.allowDragging,i=Je;switch(this._htDown.cellType){case X.Cell:this._mouseSelect(t,!0);break;case X.RowHeader:n&i.Rows||this._mouseSelect(t,!0);break;case X.ColumnHeader:n&i.Columns||e.allowSorting||this._mouseSelect(t,!0)}}}},s.prototype._mouseup=function(t){var e=this._g;if(!e.isTouching||!(this._dragSrc||t.target instanceof HTMLHtmlElement)){var n=e.hitTest(t),i=this._htDown;if(i&&!t.defaultPrevented&&(this._szArgs&&this._finishResizing(t),!this._szArgs&&n.panel==i.panel&&n.row==i.row&&n.col==i.col)){var r=n.getColumn();if(r&&(!r._getFlag(In.HasTemplate)||r.cellTemplate)){var o=n.target;if(o!=i.target&&o instanceof HTMLElement){if(i.target instanceof HTMLInputElement){var a=n.point,d=i.point;Math.abs(a.x-d.x)+Math.abs(a.y-d.y)<10&&(o=o.querySelector("input")||o)}var p=document.createEvent("Event");for(var v in p.initEvent("click",!0,!0),t)/Key$|X$|Y$|^button|^(x|y|which)$/.test(v)&&(p[v]=t[v]);o.dispatchEvent(p)}}}this.resetMouseState()}},s.prototype._click=function(t){if(this._ignoreClick&&(this._ignoreClick=!1,t.preventDefault()),!t.defaultPrevented){var e=this._g,n=t.target,i=e.hitTest(n),r=(0,u.tryCast)(n,HTMLInputElement),o="input."+Fn._WJC_CHECKBOX;if(!r){var a=(0,u.closest)(n,"label");a&&(r=a.querySelector(o))}if(!r&&e.bigCheckboxes&&(r=n.querySelector(o)),r!=e.activeEditor&&e._isNativeCheckbox(r)){if(i.panel==e.cells){var d=e.getCellData(i.row,i.col,!1);e.startEditing(!1,i.row,i.col,!1,t)?(e.activeEditor.checked=!d,e.finishEditing(),e.focus()):r.checked=d}return}if(this._hasRadioMap(t))return void this._handleClick(t);var p=t.ctrlKey||t.metaKey;if(e.rows.maxGroupLevel>-1&&(0,u.closestClass)(n,Fn._WJC_COLLAPSE)){var v=e.rows[i.row];if(i.panel==e.cells&&v instanceof rt)return void(p?e.collapseGroupsToLevel(v.isCollapsed?v.level+1:v.level):v.isCollapsed=!v.isCollapsed)}if(!p&&!t.shiftKey&&!e.activeEditor&&i.panel==e.cells){var M=e._selHdl.selection;if(M.equals(this._selDown)&&i.range.contains(M))return void e.startEditing(!0,null,null,!0,t)}this._handleClick(t)}},s.prototype._handleClick=function(t){var e=this._g,n=t.target,i=e.hitTest(n),r=t.ctrlKey||t.metaKey,o=i.panel;if(!t.defaultPrevented&&i.grid==e){if(o==e.cells&&this._hasRadioMap(t)){var a=(0,u.closest)(n,"label"),d=a&&a.querySelector("input");return void(d&&!d.disabled&&e.startEditing(!1,i.row,i.col,!1,t)&&e.finishEditing()&&(e._edtHdl._edtCanceled?t.preventDefault():e.setCellData(i.row,i.col,a.textContent,!0,e.refreshOnEdit)))}if(!e._isInputElement(n)){if(o==e.topLeftCells){switch(e.selectionMode){case Et.None:case Et.Cell:break;default:e.selectAll()}return}if(o==e.columnHeaders){if(e.allowPinning&&(0,u.closestClass)(n,Fn._WJC_PIN))this._clickPin(t,i);else if(!e._isTransposed()&&(0,u.closestClass)(t.target,Fn._WJC_COLLAPSE)){if(L=e._getColumnGroup(i.row,i.col))if(r)for(var v=L.isCollapsed,M=L.level,T=[],k=0;k<e.columns.length;k++)(L=e._getColumnGroup(i.row,k))&&L.collapseTo&&L.level==M&&T.indexOf(L)<0&&(T.push(L),L.isCollapsed=!v);else L.isCollapsed=!L.isCollapsed}else n instanceof HTMLSpanElement&&n.parentElement instanceof HTMLLabelElement&&(n=n.parentElement.querySelector("input")),n instanceof HTMLInputElement||this._clickSort(t,i),e.focus();return}if(o==e.rowHeaders){var L;if(e._isTransposed()&&(0,u.closestClass)(t.target,Fn._WJC_COLLAPSE)&&(L=e._getColumnGroup(i.row,i.col)))if(r){v=L.isCollapsed,M=L.level,T=[];for(var Y=0;Y<e.rows.length;Y++)(L=e._getColumnGroup(Y,i.col))&&L.collapseTo&&L.level==M&&T.indexOf(L)<0&&(T.push(L),L.isCollapsed=!v)}else L.isCollapsed=!L.isCollapsed;return}if(o==e.cells){if(i.row<0)return void this._clickSort(t,i);if((0,u.closestClass)(n,Fn._WJC_COLLAPSE)){var ce=e.rows[i.row];return void(ce instanceof rt&&(r?e.collapseGroupsToLevel(ce.isCollapsed?ce.level+1:ce.level):ce.isCollapsed=!ce.isCollapsed))}(0,u.closestClass)(n,Fn._WJC_DROPDOWN)&&e._edtHdl._toggleListBox(t,i.range)}}}},s.prototype._hasRadioMap=function(t){var e=t.target;if((0,u.closest)(e,"label")){var n=(0,u.closestClass)(e,Fn._WJC_RADIOMAP);return(0,u.closestClass)(n,ei)==this._g.hostElement}return!1},s.prototype._clickSort=function(t,e){var n=this._g,i=n.allowSorting,r=n.collectionView,o=r?r.sortDescriptions:null,a=t.ctrlKey||t.metaKey,d=t.shiftKey;if(r&&r.canSort&&i!=yn.None){var p=e.panel.columns[e.col],v=n._getBindingColumn(e.panel,e.row,p),M=v?v._getBindingSort():null;if(v.allowSorting&&M){if(p==v){var T=n.getMergedRange(e.panel,e.row,e.col,!1);if(T&&T.columnSpan>1)return}var k=new me(e.panel,e.range,t);if(n.onSortingColumn(k)){n._edtHdl._commitRowEdits();for(var L=-1,Y=null,ce=0;ce<o.length;ce++)if(o[ce].property==M){L=ce,Y=o[ce];break}o.deferUpdate(function(){if(a&&d)o.clear();else if(Y){var ae=a;!ae&&n.isTouching&&(ae=0==Y.ascending),ae?o.removeAt(L):o[L]=new u.SortDescription(M,!Y.ascending)}else{i!=yn.MultiColumn&&o.clear();var Ee=new u.SortDescription(M,!0);o.push(Ee)}}),n.onSortedColumn(k)}}}},s.prototype._clickPin=function(t,e){var n=this._g,i=n.columns,r=i.frozen,o=n.allowPinning;o==Dn.Both&&(o=t.shiftKey?Dn.ColumnRange:Dn.SingleColumn);var a=new me(n.cells,e.range);n.onPinningColumn(a)&&(o==Dn.SingleColumn&&(e.col>=r?(i.moveElement(e.col,r,!1),i.frozen++):(i.moveElement(e.col,r-1,!1),i.frozen--)),o==Dn.ColumnRange&&(i.frozen=e.col+1!=r?e.col+1:0),n.onPinnedColumn(a))},s.prototype._dblclick=function(t){if(!t.defaultPrevented){var e,n=this._g,i=n.hitTest(t),r=t.ctrlKey||t.metaKey,o=i.range,a=i.cellType,d=X,p=n.selection,v=n.allowResizing,M=si;if(i.edgeRight&&v&M.Columns){if(a==d.TopLeft)i.panel.columns[i.col].allowResizing&&(e=new me(i.panel,new W(-1,i.col)),n.onAutoSizingColumn(e)&&n.onResizingColumn(e)&&(this._ignoreClick=!0,n.autoSizeColumn(i.col,!0),n.onAutoSizedColumn(e),n.onResizedColumn(e),t.preventDefault()));else if(a==d.ColumnHeader||4&v){a==d.ColumnHeader&&r&&p.containsColumn(i.col)&&(o=p);for(var T=a==d.RowHeader||a==d.BottomLeft,k=o.leftCol;k<=o.rightCol;k++)i.panel.columns[k].allowResizing&&(e=new me(i.panel,new W(-1,k)),n.onAutoSizingColumn(e)&&n.onResizingColumn(e)&&(this._ignoreClick=!0,n.autoSizeColumn(k,T),n.onResizedColumn(e),n.onAutoSizedColumn(e),t.preventDefault()))}this.resetMouseState()}else if(i.edgeBottom&&v&M.Rows){if(a==d.TopLeft||a==d.BottomLeft)i.getRow().allowResizing&&(T=a==d.TopLeft||null,e=new me(i.panel,new W(i.row,-1)),n.onAutoSizingRow(e)&&n.onResizingRow(e)&&(this._ignoreClick=!0,n.autoSizeRow(i.row,T),n.onResizedRow(e),n.onAutoSizedRow(e),t.preventDefault()));else if(a==d.RowHeader||4&v){var L=i.panel;T=L==n.columnHeaders||L==n.columnFooters&&null,r&&p.containsRow(i.row)&&L==n.cells&&(o=p);for(var Y=o.topRow;Y<=o.bottomRow;Y++)L.rows[Y].allowResizing&&(e=new me(L,new W(Y,-1)),n.onAutoSizingRow(e)&&n.onResizingRow(e)&&(this._ignoreClick=!0,n.autoSizeRow(Y,T),n.onResizedRow(e),n.onAutoSizedRow(e),t.preventDefault()))}this.resetMouseState()}}},s.prototype._hover=function(t){if(!this._isDown){var e=this._g,n=e.hitTest(t),i="";return this._szRowCol=this._getResizeColHt(n)||this._getResizeRowHt(n),this._szRowCol instanceof $t?i="col-resize":this._szRowCol instanceof Lt&&(i="row-resize"),this._szStart=this._szRowCol?this._szRowCol.renderSize:0,e.hostElement.style.cursor=i,n}return null},s.prototype._getResizeColHt=function(t){var e,n=this._g.allowResizing,i=t.cellType;return n&si.Columns&&(i==X.ColumnHeader||i==X.TopLeft||4&n)&&(t.edgeRight&&(e=t.getColumn()),t.edgeFarRight&&(e=this._getResizeCol(t.panel,t.col)||t.getColumn()),t.edgeLeft&&(e=this._getResizeCol(t.panel,t.col,!0)||e)),e&&e.allowResizing?e:null},s.prototype._getResizeRowHt=function(t){var e,n=this._g.allowResizing,r=t.cellType;return n&si.Rows&&(r==X.RowHeader||r==X.TopLeft||4&n)&&(t.edgeBottom&&(e=t.getRow()),t.edgeFarBottom&&(e=this._getResizeRow(t.panel,t.row)||t.getRow()),t.edgeTop&&(e=this._getResizeRow(t.panel,t.row,!0)||e)),e&&e.allowResizing?e:null},s.prototype._getResizeCol=function(t,e,n){void 0===n&&(n=!1);var i=this._g,r=t.columns;if(n){for(var o=e-1;o>=0;o--)if((a=r[o]).isVisible)return this._asResizable(a);if(r==i.columns&&i.headersVisibility&On.Row)for(o=(r=i.rowHeaders.columns).length-1;o>=0;o--)if((a=r[o]).isVisible)return this._asResizable(a);return null}for(o=e+1;o<r.length;o++)if((a=r[o]).isVisible)return this._asResizable(a);if(e==r.length-1&&r==i.rowHeaders.columns)for(r=i.columns,o=0;o<r.length;o++){var a;if((a=r[o]).isVisible)return this._asResizable(a)}return null},s.prototype._getResizeRow=function(t,e,n){void 0===n&&(n=!1);var i=this._g,r=t.rows;if(n){for(var o=e-1;o>=0;o--)if((a=r[o]).isVisible)return this._asResizable(a);if(r==i.rows&&i.headersVisibility&On.Column)for(o=(r=i.columnHeaders.rows).length-1;o>=0;o--)if((a=r[o]).isVisible)return this._asResizable(a);return null}for(o=e+1;o<r.length;o++)if((a=r[o]).isVisible)return this._asResizable(a);if(e==r.length-1&&r==i.columnHeaders.rows)for(r=i.rows,o=0;o<r.length;o++){var a;if((a=r[o]).isVisible)return this._asResizable(a)}return null},s.prototype._asResizable=function(t){return 0==t.renderSize&&t.allowResizing?t:null},s.prototype._mouseSelect=function(t,e){var n=this,i=this._g;if(t&&this._htDown&&this._htDown.panel&&i.selectionMode!=Et.None){var r=new ut(this._htDown.panel,t);this._handleSelection(r,e),!(0,u.isIE9)()&&t.button>=0&&t.target!=i._root&&((r=new ut(i,t)).panel||setTimeout(function(){n._isDown&&n._eMouse&&n._mouseSelect(n._eMouse,e)},100))}},s.prototype._handleResizing=function(t){"mousedown"==t.type&&((0,u.isSafari)()?(0,u.setAttribute)(t.target,"draggable",null):t.preventDefault());var e=this._szRowCol;if(e instanceof $t){var n=this._g,i=(0,u.mouseToPage)(t).x,r=Math.round(Math.max(s._SZ_MIN,this._szStart+(i-this._htDown.point.x)*(n.rightToLeft?-1:1)));if(e.renderSize!=r){if(null==this._szArgs){var o=n.rowHeaders.columns.indexOf(e)>-1?n.rowHeaders:n.cells;this._szArgs=new me(o,new W(-1,e.index))}this._szArgs.cancel=!1,n.onResizingColumn(this._szArgs)&&(n.deferResizing?this._showResizeMarker(r):e.width=r)}}var a=this._szRowCol;if(a instanceof Lt){n=this._g;var d=(0,u.mouseToPage)(t).y;r=Math.round(Math.max(s._SZ_MIN,this._szStart+(d-this._htDown.point.y))),a.renderSize!=r&&(null==this._szArgs&&(o=n.columnHeaders.rows.indexOf(a)>-1?n.columnHeaders:n.columnFooters.rows.indexOf(a)>-1?n.columnFooters:n.cells,this._szArgs=new me(o,new W(a.index,-1))),this._szArgs.cancel=!1,n.onResizingRow(this._szArgs)&&(n.deferResizing?this._showResizeMarker(r):a.height=r))}this._szArgs&&t.preventDefault()},s.prototype._dragstart=function(t){var e=this._g,n=this._htDown,i=Je,r=X;if(n){if(this._dragSrc=null,this._htDrag=null,this._chldColGrpMarker=!1,!this._szRowCol){var o=new me(n.panel,n.range),a=e.allowDragging,d=n.cellType,p=n.panel.rows,v=n.getColumn(!0);if(v&&v.allowDragging&&(d==r.ColumnHeader||d==r.TopLeft)&&a&i.Columns&&(e.onDraggingColumn(o)?this._dragSrc=t.target:t.preventDefault()),!this._dragSrc&&n.row>-1&&p[n.row].allowDragging){var M=p[n.row];M instanceof rt||M instanceof Ge||d==r.RowHeader&&a&i.Rows&&(e.onDraggingRow(o)?this._dragSrc=t.target:t.preventDefault())}}this._dragSrc&&t.dataTransfer&&!t.defaultPrevented&&(this._htDrag=n,(0,u._startDrag)(t.dataTransfer,"move"),t.stopPropagation(),(0,u.addClass)(this._dragSrc,bi),e.beginUpdate(),this._updating=!0)}},s.prototype._dragend=function(t){this._dragSrc=null,this._htDrag=null,this.resetMouseState()},s.prototype._dragover=function(t){var e=this._g,n=this._hitTest(t),i=this._dragSrc?this._htDrag:null,r=X,o=!1;if(i&&n.cellType==i.cellType){var a=new me(n.panel,n.range,i);n.cellType==r.ColumnHeader&&e._hasColumnGroups()?(a.cancel=!e._canMoveColumnGroup(i.row,i.col,n.row,n.col),o=e.onDraggingColumnOver(a)):n.cellType==r.ColumnHeader?(a.cancel=!e.columns.canMoveElement(i.col,n.col),o=e.onDraggingColumnOver(a)):n.cellType==r.RowHeader?(a.cancel=!e.rows.canMoveElement(i.row,n.row),o=e.onDraggingRowOver(a)):n.cellType==r.TopLeft&&(a.cancel=!e.topLeftCells.columns.canMoveElement(i.col,n.col),o=e.onDraggingColumnOver(a))}if(o?(t.dataTransfer.dropEffect="move",t.preventDefault(),t.stopPropagation(),this._showDragMarker(n)):this._showDragMarker(null),i&&e.autoScroll){var d=e.controlRect,p=e.scrollPosition,v=u.Control._DRAG_SCROLL_EDGE,M=u.Control._DRAG_SCROLL_STEP;i.panel==e.columnHeaders?(t.pageX-d.left<v&&(p.x+=M),d.right-t.pageX<v&&(p.x-=M)):i.panel==e.rowHeaders&&(t.pageY-d.top<v&&(p.y+=M),d.bottom-t.pageY<v&&(p.y-=M)),p.equals(e._ptScrl)||(e.scrollPosition=p,e._rcBounds=null)}},s.prototype._dragleave=function(t){this._showDragMarker(null)},s.prototype._drop=function(t){var e=this._g,n=this._hitTest(t),i=this._dragSrc?this._htDrag:null,r=X;if(i&&n.cellType==i.cellType){var o=e.selection,a=new me(n.panel,n.range,i);n.cellType==r.ColumnHeader&&e._hasColumnGroups()?(e._moveColumnGroup(i.row,i.col,n.row,n.col,this._chldColGrpMarker),e.select(o.row,n.col),e.onDraggedColumn(a)):n.cellType==r.ColumnHeader?(e.columns.moveElement(i.col,n.col),e.select(o.row,n.col),e.onDraggedColumn(a)):n.cellType==r.RowHeader?(e.rows.moveElement(i.row,n.row),e.select(n.row,o.col),e.onDraggedRow(a)):n.cellType==r.TopLeft&&(e.topLeftCells.columns.moveElement(i.col,n.col),e.onDraggedColumn(a))}this.resetMouseState()},s.prototype._hitTest=function(t){var e=this._g;return e._rcBounds=null,e.hitTest(t)},s.prototype._showResizeMarker=function(t){var e,n=this._g,i=n._ptScrl,r=this._szArgs.panel.cellType,o=X,a=this._dvMarker,d=n.cells.hostElement;a.parentElement!=d&&d.appendChild(a),this._szRowCol instanceof $t?(e={left:this._szRowCol.pos+t-1,top:-1e3,right:"",bottom:0,width:3,height:""},r!=o.TopLeft&&r!=o.RowHeader||(e.left-=n._eTL.offsetWidth+i.x),r==o.Cell&&this._szRowCol.index<n.frozenColumns&&(e.left-=i.x),n.rightToLeft&&(e.left=d.clientWidth-e.left-e.width)):(e={left:-1e3,top:this._szRowCol.pos+t-1,right:0,bottom:"",width:"",height:3},r!=o.TopLeft&&r!=o.ColumnHeader||(e.top-=n._eTL.offsetHeight+i.y),r==o.Cell&&this._szRowCol.index<n.frozenRows&&(e.top-=i.y)),(0,u.setCss)(a,e)},s.prototype._showDragMarker=function(t){var e=this._dvMarker;if(t&&t.panel){if(!t.range.equals(this._rngTarget)){this._rngTarget=t.range;var n=t.panel.hostElement;e.parentElement!=n&&n.appendChild(e);var i=this._g,r=i._ptScrl,o=X,a={left:0,top:0,width:6,height:6,right:"",bottom:""};switch(t.cellType){case o.ColumnHeader:var d=i._getColumnGroup(t.row,t.col);if(d){var p=d._rng,v=t.panel.rows,M=t.panel.columns;if(d.isEmpty&&null===d.binding){var T=v[p.bottomRow],k=M[p.leftCol],L=i.rightToLeft,Y=L?e.parentElement.clientWidth-t.point.x:t.point.x,ce=Math.max(k.renderWidth/5,s._SZ_MAX_COLGRP_EDGE),Me=this._htDown&&t.col>this._htDown.col;if(!Me&&Y>k.pos+ce||Me&&Y<k.pos+k.renderWidth-ce){a.top=T.pos-a.height/2+T.renderHeight,a.left=L?e.parentElement.clientWidth-k.pos-k.renderWidth:k.pos,a.width=k.renderWidth,this._chldColGrpMarker=!0;break}}this._chldColGrpMarker=!1,a.top=0,a.height=0;for(var ze=0;ze<p.topRow;ze++)a.top+=v[ze].renderHeight;for(ze=p.topRow;ze<=p.bottomRow;ze++)a.height+=v[ze].renderHeight;if(a.left=0,this._htDown&&t.col>this._htDown.col){var st=M[p.rightCol];a.left=st.pos-a.width/2+st.renderWidth}else a.left=M[p.leftCol].pos-a.width/2;i.rightToLeft&&(a.left=e.parentElement.clientWidth-a.left-a.width);break}case o.TopLeft:case o.ColumnHeader:var yt=t.panel.columns[t.col];a.left=yt.pos-a.width/2,a.height=t.panel.height,this._htDown&&t.col>this._htDown.col&&(a.left+=yt.renderWidth),t.cellType==o.ColumnHeader&&t.col<i.frozenColumns&&(a.left-=r.x),i.rightToLeft&&(a.left=e.parentElement.clientWidth-a.left-a.width);break;case o.RowHeader:var St=t.getRow();a.top=St.pos-a.height/2,a.width=t.panel.width,t.row>this._htDown.row&&(a.top+=St.renderHeight),t.row<i.frozenRows&&(a.top-=r.y)}(0,u.setCss)(e,a)}}else(0,u.removeChild)(e),this._rngTarget=null},s.prototype._finishResizing=function(t){var e=this._g,n=e.selection,i=this._szArgs,r=this._eMouse,o=r&&(r.ctrlKey||r.metaKey),a=X;if(i&&!i.cancel){if(i.col>-1){var d=i.col,p=(0,u.mouseToPage)(t).x,v=Math.round(Math.max(s._SZ_MIN,this._szStart+(p-this._htDown.point.x)*(this._g.rightToLeft?-1:1)));if(i.panel.columns[d].width=Math.round(v),e.onResizedColumn(i),o&&this._htDown.cellType==a.ColumnHeader&&n.containsColumn(d))for(var M=n.leftCol;M<=n.rightCol;M++)e.columns[M].allowResizing&&M!=d&&(i=new me(e.cells,new W(-1,M)),e.onResizingColumn(i)&&(e.columns[M].size=e.columns[d].size,e.onResizedColumn(i)));t.preventDefault()}if(i.row>-1){var T=i.row,k=(0,u.mouseToPage)(t).y;if(v=Math.round(Math.max(s._SZ_MIN,this._szStart+(k-this._htDown.point.y))),i.getRow().height=Math.round(v),e.onResizedRow(i),o&&this._htDown.cellType==a.RowHeader&&n.containsRow(T))for(var L=n.topRow;L<=n.bottomRow;L++)e.rows[L].allowResizing&&L!=T&&(i=new me(e.cells,new W(L,-1)),e.onResizingRow(i)&&(e.rows[L].size=e.rows[T].size,e.onResizedRow(i)));t.preventDefault()}}},s.prototype._handleSelection=function(t,e){var n=this._g,i=n._selHdl.selection,r=new W(t.row,t.col),o=X,a=Et;if(r.isValid)if(null==this._lbSelState){switch(t.cellType){case o.RowHeader:r.col=0,r.col2=n.columns.length-1;break;case o.ColumnHeader:switch(n.selectionMode){case a.Row:case a.Cell:r.row=r.row2=i.row,e=!1;break;default:r.row=0,r.row2=n.rows.length-1}}if(e&&(n.anchorCursor?(r.row=i.row,r.col=i.col):(r.row2=i.row2,r.col2=i.col2),!r.isValid)){var d=this._htDown;d&&(r=new W(d.row,d.col))}if(n.selectionMode==Et.MultiRange){var p=n._mouseHdl._eMouse,v=p&&(p.ctrlKey||p.metaKey),M=n._selHdl,T=M.selection,k=M.extendedSelection,L=t.panel!=n.cells;(0,u.closest)(p.target,".wj-elem-collapse")&&(v=!1),v?!e&&M._deselectRange(r)?M.selection.isValid&&(r=null):T.isValid&&(L||!T.intersects(r))&&(L?this._splitRange(T):[T.clone()]).forEach(function(st){for(var xt=!1,yt=0;yt<k.length&&!xt;yt++)k[yt].equals(st)&&(xt=!0);xt||k.push(st)}):k.clear()}if(r)switch(n.select(r,!1),t.cellType){case o.RowHeader:n.scrollIntoView(t.row,-1);break;case o.ColumnHeader:n.scrollIntoView(-1,t.col);break;default:n.scrollIntoView(t.row,t.col)}else{var Y=new me(n.cells,new W(t.row,t.col));n.onSelectionChanging(Y),n.onSelectionChanged(Y),n.invalidate()}}else{var ce=this._htDown.row,ae=t.row,Ee=this._lbSel;ce>ae&&(ae=ce,ce=t.row);var Me=this._lbSelStateRows||{};if(this._lbSel)for(var ze=Ee.row;ze<=Ee.row2;ze++)(ze<ce||ze>ae)&&(n.rows[ze].isSelected=Me[ze]);for(ze=ce;ze<=ae;ze++)Me.hasOwnProperty(ze)||(Me[ze]=n.rows[ze].isSelected),n.rows[ze].isSelected=!this._lbSelState;this._lbSel=new W(ce,0,ae,0),n.scrollIntoView(t.row,t.col)}},s.prototype._splitRange=function(t){var e=this._g,n=e.columns.length,i=e.rows.length,r=[];if(t.columnSpan==n)for(var o=t.topRow;o<=t.bottomRow;o++)r.push(new W(o,0,o,n-1));else if(t.rowSpan==i)for(var a=t.leftCol;a<=t.rightCol;a++)r.push(new W(0,a,i-1,a));else r.push(t.clone());return r},s._SZ_MIN=0,s._SZ_MAX_COLGRP_EDGE=50,s}();(0,u._registerModule)("wijmo.grid",h);var Ne=function(){var s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Mt="wj-column-selector",Wt="wj-column-selector-group",Qe=function(){function s(t,e){this._col=null,this._grid=null,this._isFixedCol=!1,this._isBound=!1,this._showCheckAll=!0,this._clickBnd=this._click.bind(this),this._mousedownBnd=this._mousedown.bind(this),this.columnChanging=new u.Event,this.columnChanged=new u.Event,this.itemChecked=new u.Event,this._initialize(),this.column=this._getColumn(t),(0,u.copy)(this,e)}return s.prototype._copy=function(t,e){return!("column"!=t||!(0,u.isObject)(e)||(this.column=e,0))},Object.defineProperty(s.prototype,"column",{get:function(){return this._col},set:function(t){if((t=this._getColumn(t))!=this._col&&this.onColumnChanging(new u.CancelEventArgs)){var e=this._grid;if(e){var n=e.hostElement;e.formatItem.removeHandler(this._formatItem,this),e.removeEventListener(n,"click",this._clickBnd),e.removeEventListener(n,"mousedown",this._mousedownBnd)}var i=this._col=(0,u.asType)(t,$t,!0);this._grid=e=i?i.grid:null,this._isFixedCol=!!e&&e.columns.indexOf(i)<0,i&&!this._isBound&&(i.allowMerging=!1),e&&!this._isBound&&(e.selectionMode=Et.Cell),e&&(n=e.hostElement,e.formatItem.addHandler(this._formatItem,this),e.addEventListener(n,"click",this._clickBnd,!0),e.addEventListener(n,"mousedown",this._mousedownBnd,!0)),this.onColumnChanged()}},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"showCheckAll",{get:function(){return this._showCheckAll},set:function(t){t!=this._showCheckAll&&(this._showCheckAll=(0,u.asBoolean)(t),this._grid&&this._grid.invalidate())},enumerable:!0,configurable:!0}),s.prototype.onColumnChanging=function(t){return this.columnChanging.raise(this,t),!t.cancel},s.prototype.onColumnChanged=function(t){this.columnChanged.raise(this,t)},s.prototype.onItemChecked=function(t){this.itemChecked.raise(this,t)},s.prototype._initialize=function(){},s.prototype._click=function(t){if(!t.defaultPrevented&&t.target instanceof HTMLElement){var e=this._grid,n=this._col,i=t.target,r=e.hitTest(i);if(n&&r&&r.getColumn()==n){if(i instanceof HTMLInputElement&&(0,u.hasClass)(i,Mt)){var o=void 0,a=r.panel.rows,d=a[r.range.topRow];if(a==e.columnHeaders.rows){if(o=new W(0,0,e.rows.length-1,0),this._isBound){var p=e.selection;p.col=p.col2=n.index,e.select(p)}}else o=this._isGroupRow(d)?d.getCellRange():r.range;return o.isValid&&(this._setRangeChecked(i.checked,o),this.onItemChecked()),e.invalidate(),void t.preventDefault()}if((0,u.hasClass)(i,"wj-cell")&&e.bigCheckboxes&&this._isBound&&(this._isFixedCol||this._isGroupRow(r.getRow()))){var v=i.querySelector("input."+Mt);v instanceof HTMLInputElement&&(v.click(),t.preventDefault())}}}},s.prototype._mousedown=function(t){var e=this._grid,n=this._col,i=e.editableCollectionView;if(this._isBound&&n&&i&&i.currentEditItem){var r=e.hitTest(t);if(r.getColumn()==n&&this._isGroupRow(r.getRow())){var o=(0,u.closestClass)(t.target,Wt);o instanceof HTMLInputElement&&o.click()}}},s.prototype._isGroupRow=function(t){return t instanceof rt&&(!this._grid.childItemsPath||t.getCellRange().rowSpan>1)},s.prototype._getRowChecked=function(t,e){void 0===e&&(e=t);for(var n=0,i=0,r=this._col._binding,o=t;o<=e&&(!n||!i);o++){var a=this._grid.rows[o],d=a.dataItem;d&&!this._isGroupRow(a)&&((this._isBound?r.getValue(d):a.isSelected)?n++:i++)}return!(!n||i)||!(i&&!n)&&null},s.prototype._setRangeChecked=function(t,e){var n=this,i=this._grid,r=i.rows,o=this._col,a=o?o._binding:null,d=i.selection,p=this._isBound?i.editableCollectionView:null;if(!this._isBound||!i.isReadOnly&&p&&a){var v=!1;if(p){var M=!0;p instanceof u.CollectionView&&!p.refreshOnEdit&&(M=!1),M&&(v=!0,p.beginUpdate())}i.deferUpdate(function(){for(var T=e.bottomRow;T>=e.topRow;T--){var k=r[T],L=k.dataItem;if(L)if(n._isGroupRow(k))i.childItemsPath&&!n._isBound&&(k.isSelected=t);else if(n._isBound){if(L[o.binding]!=t){p&&p.editItem(L);var Y=new W(T,o.index),ce=new pt(i.cells,Y,L[o.binding]);i.onCellEditEnding(ce)&&(a.setValue(L,t),i.onCellEditEnded(ce))}}else k.isSelected=t}}),p&&(p.commitEdit(),v&&p.endUpdate(),i.selection=d)}},s.prototype._formatItem=function(t,e){var n=e.getColumn(),i=t.editRange;if(n&&n==this._col&&(!i||!i.contains(e.row,e.col))&&e.panel.rows!=t.columnFooters.rows){var r=e.getRow(),o=e.cell,a="",d=void 0;if(e.panel.rows==t.columnHeaders.rows)this._showCheckAll&&e.range.bottomRow==e.panel.rows.length-1&&(d=this._getRowChecked(0,t.rows.length-1),a=Mt+" "+Wt);else if(this._isGroupRow(r)){var p=r.getCellRange();d=this._getRowChecked(p.row,p.row2),a=Mt+" "+Wt}else r.dataItem&&!this._isBound&&(d=this._getRowChecked(e.row),a=Mt);if(a){if(this._isFixedCol||this._isBound&&this._isGroupRow(r)&&n.aggregate&&n.index>t.columns.firstVisibleIndex){var v=o.querySelector("."+Fn._WJC_COLLAPSE);o.textContent="",v&&o.appendChild(v)}var M=(0,u.createElement)('<label><input type="checkbox" class="'+a+'" tabindex="-1"><span></span></label>'),T=M.querySelector("input");(0,u.setChecked)(T,d),this._isBound&&(n.isReadOnly||t.selectionMode==Et.None)&&(T.disabled=!0,T.style.cursor="default"),o.insertBefore(M,o.firstChild)}}},s.prototype._getColumn=function(t){if(t instanceof It){var n=t.rowHeaders.columns;t=t.headersVisibility&On.Row&&n.length?n[0]:t.columns[0]}return this._grid&&((0,u.isString)(t)||(0,u.isNumber)(t))&&(t=this._grid.getColumn(t)),t instanceof $t?t:null},s}(),Zt=function(s){function t(e,n){return s.call(this,e,n)||this}return Ne(t,s),t.prototype.onColumnChanged=function(e){var n=this.column,i=n?n.dataType:null;(0,u.assert)(!n||null==i||i==u.DataType.Boolean,"BooleanChecker should be bound to boolean columns"),s.prototype.onColumnChanged.call(this,e)},t.prototype._initialize=function(){this._isBound=!0},t}(Qe);(0,u._registerModule)("wijmo.grid.selector",C);var ht=function(){var s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();function sn(){return(0,u._getModule)("wijmo.input")}function gn(){return(0,u._getModule)("wijmo.grid.detail")}var Qn=h&&Fn;Qn||(window.wijmo.grid={},window.wijmo.grid.CellFactory=function(){});var Vn,Zn=function(s){function t(e){var n=s.call(this)||this;if(n._lastApplyTimeStamp=0,n._noApplyLag=!1,n._startingEditing=!1,n._cellStampCounter=0,n._composing=!1,n._isCheckingHeght=!1,n._backupHeight=-1,n._cacheRow=null,n.grid=e,!t._templateTypes)for(var i in t._templateTypes=[],Vn)isNaN(i)&&t._templateTypes.push(i);var r=n;return n._baseCf=e.cellFactory,e.cellFactory=n,n._evtInput=document.createEvent("HTMLEvents"),n._evtInput.initEvent("input",!0,!1),n._evtBlur=document.createEvent("HTMLEvents"),n._evtBlur.initEvent("blur",!1,!1),e.prepareCellForEdit.addHandler(function(o,a){r._noApplyLag=!0}),e.cellEditEnded.addHandler(function(o,a){var d=a.range,p=d.col;(p<0||p<e.columns.length&&!e._getBindingColumn(e.cells,d.row,e.columns[p])[t.getTemplContextProp(Vn.CellEdit)])&&(r._editChar=null),setTimeout(function(){r._noApplyLag=!1},300)}),e.beginningEdit.addHandler(function(o,a){r._startingEditing=!0}),e.hostElement.addEventListener("keydown",function(o){r._startingEditing=!1},!0),e.hostElement.addEventListener("keypress",function(o){var a=o.charCode>32?String.fromCharCode(o.charCode):null;a&&u.closest(o.target,".wj-flexgrid")===e.hostElement&&(!e.activeEditor||r._startingEditing?(r._editChar=a,setTimeout(function(){e.activeEditor||(r._editChar=null)},0)):r._editChar&&(r._editChar+=a))},!0),e.hostElement.addEventListener("compositionstart",function(o){r._composing=!0},!0),e.hostElement.addEventListener("compositionend",function(o){r._composing=!1},!0),n}return ht(t,s),t.prototype.updateCell=function(e,n,i,r,o){var a=this;this._cellStampCounter=(this._cellStampCounter+1)%1e7;var d=r[t._cellStampProp]=this._cellStampCounter;r.style.overflow&&(r.style.overflow="");var p=n,v=i;o&&!o.isSingleCell&&(n=o.row,i=o.col);var M,T=this,k=e.grid,L=k.editRange,Y=e.rows[n],ce=Y.dataItem,ae=!1,Ee=!1,Me=!1,ze=!1;switch(e.cellType){case X.Cell:if(L&&L.row===n&&L.col===i)M=Vn.CellEdit,Ee=Me=!0;else if(Y instanceof rt){var st=!((ze=ce instanceof u.CollectionViewGroup)||Y.hasChildren);i==e.columns.firstVisibleIndex?M=st?Vn.Cell:Vn.GroupHeader:(M=st?Vn.Cell:Vn.Group,Ee=!0)}else Y instanceof Ge?M=Vn.NewCellTemplate:gn()&&gn().DetailRow&&Y instanceof gn().DetailRow||(M=Vn.Cell);break;case X.ColumnHeader:M=Vn.ColumnHeader;break;case X.RowHeader:M=k.collectionView&&k.collectionView.currentEditItem===ce?Vn.RowHeaderEdit:Vn.RowHeader,ae=!0;break;case X.TopLeft:M=Vn.TopLeft,ae=!0;break;case X.ColumnFooter:M=Vn.ColumnFooter,Ee=!0;break;case X.BottomLeft:M=Vn.BottomLeft,ae=!0}var xt=!1;if(null!=M){var yt=null;if(ze&&M==Vn.GroupHeader?yt=k.getColumn(ce.groupDescription.propertyName):i>=0&&i<e.columns.length&&(yt=e.cellType===X.ColumnHeader&&k._hasColumnGroups()?k._getColumnGroup(n,i):k._getBindingColumn(e,n,e.columns[i])),yt){var St=t.getTemplContextProp,Dt=St(M),Nt=(ae?k:yt)[Dt];if(Nt||(M===Vn.RowHeaderEdit?(Dt=St(M=Vn.RowHeader),Nt=k[Dt]):(M===Vn.Group||M===Vn.GroupHeader)&&!ze&&(Dt=St(M=Vn.Cell),Nt=yt[Dt])),Nt){var en;Ee&&(en=e.getCellData(n,i,!1)),xt=!0;var Rt=r.getAttribute(It._WJS_MEASURE),Kt=Rt&&"true"===Rt.toLowerCase();Me&&(this.clearCell(r),this._baseCf.updateCell(e,p,v,r,o,!0));var Vt,jn=Me&&k.imeEnabled,Wn=r[Dt],wn={cell:r,column:yt,row:Y,panel:e,rng:o,isEdit:Me,isImeInput:jn,isTrueImeInput:jn&&this._composing,templateContext:Nt,templateCache:Wn,templateContextProperty:Dt,cellStamp:d,cellValue:en};if(this.shouldInstantiate(wn)){if(Me){var oi=r.firstElementChild;oi&&(jn||r.focus(),oi.style.display="none")}else this.clearCell(r);this._doDisposeCell(r),this.renderTemplate(wn,!0),wn.templateCache=Wn=r[Dt],Vt=wn.cellBindingsData}else this.renderTemplate(wn,!1),Vt=wn.cellBindingsData;if(Nt.cellOverflow&&(r.style.overflow=Nt.cellOverflow),Kt?this.applyImmediately(wn):Nt.autoSizeRows&&!jn?this.checkHeight(wn):Me&&setTimeout(function(){jn?a._initImeEditInput(wn.cell,Nt):a._initEditInput(wn.cell,Nt,null)},0),Me){T._cellEditorVars=Vt.localVars;var di=function(Rn,gi){if(k.cellEditEnding.removeHandler(di),!gi.stayInEditMode){var Mi=u.getActiveElement();Mi&&Mi.dispatchEvent(T._evtBlur),u.contains(r,u.getActiveElement())&&r.focus()}if(T._triggerEditorEvents(r),!gi.cancel&&!gi.stayInEditMode)for(var li=Vt.localVars,$n=0,Ki=Object.getOwnPropertyNames(Vt.bindings);$n<Ki.length;$n++){var tr=Ki[$n];Vt.bindings[tr].setValue(li,Vt.localVars.values[tr])}var Tr=r.querySelectorAll(".wj-dropdown");[].forEach.call(Tr,function(Io){var cs=u.Control.getControl(Io);cs&&sn()&&cs instanceof sn().DropDown&&(cs.isDroppedDown=!1)})},ui=function(Rn,gi){k.cellEditEnded.removeHandler(ui),T._cellEditorVars=null};k.cellEditEnding.addHandler(di),k.cellEditEnded.addHandler(ui)}else this._baseCf.updateCell(e,p,v,r,o,!1)}}}xt||(this._doDisposeCell(r),this._baseCf.updateCell(e,p,v,r,o))},t.prototype.getEditorValue=function(e){if(this._cellEditorVars){var n=e.editRange;return n&&n.isValid&&this._triggerEditorEvents(e.cells.getCellElement(n.row,n.col)),this._cellEditorVars.value}return s.prototype.getEditorValue.call(this,e)},t.prototype.disposeCell=function(e){this._doDisposeCell(e)},t.prototype.disposeTemplate=function(e,n,i){n&&(n.rootElement=null,n.column=null,e[n.templateContextProperty]=null,n.templateContextProperty=null)},t.prototype.setBindingsData=function(e,n,i,r,o,a){e.row=n,e.col=i,e.item=r;var d={},p=e.cell||{},v={},M={localVars:p,bindings:v};if(p.row=n,p.col=i,p.item=r,p.value=o,p.values=d,a)for(var T=0,k=Object.getOwnPropertyNames(a);T<k.length;T++){var L=k[T],Y=new u.Binding(a[L]);v[L]=Y,d[L]=Y.getValue(p)}return e.cell!==p&&(e.cell=p),M},t.prototype.checkHeight=function(e){var n=this;setTimeout(function(){var i=e.cell;if(e.cellStamp===i[t._cellStampProp]){var r=i.scrollHeight,o=e.panel.rows,a=e.row.index,d=e.rng,p=d&&d.rowSpan||1,v=e.isEdit;if(null!=o.maxSize&&(r=Math.min(r,o.maxSize)),a<o.length&&o[a].renderHeight*p<r-1){var M=o.defaultSize=r/p;if(v){var T=n._isFullEdit(),k=n.grid;return n._backupHeight=e.row.height,e.row.height=M,n._cacheRow=e.row,n._isCheckingHeght=!0,k.refresh(),k.startEditing(T),void(n._isCheckingHeght=!1)}}else v&&(e.isImeInput?n._initImeEditInput(e.cell,e.templateContext):n._initEditInput(e.cell,e.templateContext,null))}},0)},t.prototype._restoreRowHeight=function(){!this._isCheckingHeght&&this._backupHeight>0&&(this._cacheRow.height=this._backupHeight,this._backupHeight=-1,this._cacheRow=null)},t.prototype.doDisposeCell=function(e){for(var n=t._templateTypes,i=0;i<n.length;i++){var r=t.getTemplContextProp(Vn[n[i]]),o=e[r];o&&(this.disposeTemplate(e,o,(o.column||this.grid)[r]),n[i]==Vn[Vn.CellEdit]&&this._restoreRowHeight())}},t.getTemplContextProp=function(e){return"$__cellTempl"+Vn[e]},t.prototype._doDisposeCell=function(e){this.doDisposeCell(e)},t.prototype._initEditInput=function(e,n,i){var r=this;this.setEditorFocusFlag(!0);var o=!1!==this.getEditorFocusFlag();this.setEditorFocusFlag(null),this._setFullEdit(n),o&&setTimeout(function(){var a=r._findInitialInput(e);if(a){var d=function(){a.removeEventListener("focus",d),setTimeout(function(){setTimeout(function(){var p=i??r._editChar;p&&(a.value=p,r._editChar=null,t._setSelectionRange(a,p.length,p.length),a.dispatchEvent(r._evtInput))},0)},t._FOCUS_INTERVAL)};a.addEventListener("focus",d),a.focus()}},100)},t.prototype._initImeEditInput=function(e,n){var i=this,r=u.getActiveElement();if(r&&(r instanceof HTMLInputElement||r instanceof HTMLTextAreaElement)&&u.hasClass(r,"wj-grid-ime")){var o=this._findInitialInput(e),a=o&&o.style.color,d=this._composing,p=function(){r.removeEventListener("compositionend",p),u.setCss(r,Ue._cssHidden),i.setEditorFocusFlag(!0),o&&(o.style.color=a),i._initEditInput(e,n,d?r.value:null)};if(d){if(r.addEventListener("compositionend",p),o){var v=o.getBoundingClientRect(),M=r.getBoundingClientRect(),T=window.getComputedStyle(r),k=parseFloat(T.left),L=parseFloat(T.top);u.setCss(r,{left:k+v.left-M.left+"px",top:L+v.top-M.top+"px",width:v.width+"px",height:v.height+"px"}),o.style.color="transparent"}}else setTimeout(function(){return p()},t._FOCUS_INTERVAL)}},t.prototype._findInitialInput=function(e){var n=e&&e.rootElement&&e.rootElement.querySelectorAll("input,textarea")||e&&e.querySelectorAll("input,textarea");if(n)for(var i=0;i<n.length;i++){var r=n[i],o=window.getComputedStyle(r);if("none"!==o.display&&"visible"===o.visibility)return r}return null},t._setSelectionRange=function(e,n,i){if(void 0===i&&(i=n),u.contains(document.body,e)&&!e.disabled&&"none"!=e.style.display)try{e.setSelectionRange(u.asNumber(n),u.asNumber(i),u.isIE()?null:"backward"),e.focus()}catch{}},t.prototype._triggerEditorEvents=function(e){if(e)for(var n=e.querySelectorAll(".wj-control"),i=0;i<n.length;i++){var o=u.Control.getControl(n[i]);o&&this.flushPendingEvents(o)}},t.prototype._isFullEdit=function(){var e=this.grid;return!e.activeEditor||e._edtHdl._fullEdit},t.prototype._setFullEdit=function(e){var n=this.grid;e.forceFullEdit&&n.activeEditor&&(n._edtHdl._fullEdit=!0)},t._cellStampProp="__wjCellStamp",t._FOCUS_INTERVAL=u.Control._FOCUS_INTERVAL+20,t}(Fn);Qn||(window.wijmo.grid=null),function(s){s[s.Cell=0]="Cell",s[s.CellEdit=1]="CellEdit",s[s.ColumnHeader=2]="ColumnHeader",s[s.RowHeader=3]="RowHeader",s[s.RowHeaderEdit=4]="RowHeaderEdit",s[s.TopLeft=5]="TopLeft",s[s.GroupHeader=6]="GroupHeader",s[s.Group=7]="Group",s[s.NewCellTemplate=8]="NewCellTemplate",s[s.ColumnFooter=9]="ColumnFooter",s[s.BottomLeft=10]="BottomLeft"}(Vn||(Vn={})),(0,u._registerModule)("wijmo.interop.grid",V);var Ri,Pi=["*"],Ui=function(){var s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ii=function(s,t,e,n){var i,r=arguments.length,o=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(s,t,e,n);else for(var a=s.length-1;a>=0;a--)(i=s[a])&&(o=(r<3?i(o):r>3?i(t,e,o):i(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Hi=function(s,t){return function(e,n){t(e,n,s)}},wr=Vn,Jr={selector:"wj-flex-grid",template:"<div><ng-content></ng-content></div>",inputs:["wjModelProperty","isDisabled","tabOrder","newRowAtTop","allowAddNew","allowDelete","allowDragging","allowMerging","allowResizing","allowSorting","allowPinning","autoScroll","autoRowHeights","autoSizeMode","autoGenerateColumns","autoSearch","caseSensitiveSearch","quickAutoSize","bigCheckboxes","childItemsPath","groupHeaderFormat","headersVisibility","showSelectedHeaders","showMarquee","showPlaceholders","itemFormatter","isReadOnly","imeEnabled","mergeManager","selectionMode","showGroups","showSort","showDropDown","showAlternatingRows","showErrors","alternatingRowStep","itemValidator","validateEdits","treeIndent","itemsSource","autoClipboard","expandSelectionOnCopyPaste","frozenRows","frozenColumns","cloneFrozenCells","deferResizing","sortRowIndex","editColumnIndex","stickyHeaders","preserveSelectedState","preserveOutlineState","preserveWhiteSpace","keyActionTab","keyActionEnter","rowHeaderPath","virtualizationThreshold","anchorCursor","lazyRender","refreshOnEdit","copyHeaders","columnGroups"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","refreshingNg: refreshing","refreshedNg: refreshed","invalidInputNg: invalidInput","beginningEditNg: beginningEdit","cellEditEndedNg: cellEditEnded","cellEditEndingNg: cellEditEnding","prepareCellForEditNg: prepareCellForEdit","formatItemNg: formatItem","resizingColumnNg: resizingColumn","resizedColumnNg: resizedColumn","autoSizingColumnNg: autoSizingColumn","autoSizedColumnNg: autoSizedColumn","draggingColumnNg: draggingColumn","draggingColumnOverNg: draggingColumnOver","draggedColumnNg: draggedColumn","sortingColumnNg: sortingColumn","sortedColumnNg: sortedColumn","pinningColumnNg: pinningColumn","pinnedColumnNg: pinnedColumn","resizingRowNg: resizingRow","resizedRowNg: resizedRow","autoSizingRowNg: autoSizingRow","autoSizedRowNg: autoSizedRow","draggingRowNg: draggingRow","draggingRowOverNg: draggingRowOver","draggedRowNg: draggedRow","deletingRowNg: deletingRow","deletedRowNg: deletedRow","loadingRowsNg: loadingRows","loadedRowsNg: loadedRows","rowEditStartingNg: rowEditStarting","rowEditStartedNg: rowEditStarted","rowEditEndingNg: rowEditEnding","rowEditEndedNg: rowEditEnded","rowAddedNg: rowAdded","groupCollapsedChangingNg: groupCollapsedChanging","groupCollapsedChangedNg: groupCollapsedChanged","columnGroupCollapsedChangingNg: columnGroupCollapsedChanging","columnGroupCollapsedChangedNg: columnGroupCollapsedChanged","itemsSourceChangingNg: itemsSourceChanging","itemsSourceChangedNg: itemsSourceChanged","selectionChangingNg: selectionChanging","selectionChangedNg: selectionChanged","scrollPositionChangedNg: scrollPositionChanged","updatingViewNg: updatingView","updatedViewNg: updatedView","updatingLayoutNg: updatingLayout","updatedLayoutNg: updatedLayout","pastingNg: pasting","pastedNg: pasted","pastingCellNg: pastingCell","pastedCellNg: pastedCell","copyingNg: copying","copiedNg: copied"],providers:[{provide:O.JU,useFactory:tt.Ko,multi:!0,deps:["WjComponent"]}]},Xs=(function(s){function t(n,i,r,o){var a=s.call(this,tt.D6.getHostElement(n,i))||this;return a.cdRef=o,a.isInitialized=!1,a._wjBehaviour=tt.D6.attach(a,n,i,r),new qi(a,o),a.deferUpdate(function(){if(a.rows.defaultSize<10){var d=a.hostElement,p=getComputedStyle(d),v=getComputedStyle(document.body),M=2*parseInt(p.fontSize&&u.contains(document.body,d)?p.fontSize:v.fontSize);a.rows.defaultSize=M,a.columns.defaultSize=4*M,a.columnHeaders.rows.defaultSize=M,a.rowHeaders.columns.defaultSize=Math.round(1.25*M)}}),a.created(),a}var e;Ui(t,s),e=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.prototype.addEventListener=function(n,i,r,o){var a=this;void 0===o&&(o=!1);var d=tt.D6,p=d.getZone(this);p&&d.outsideZoneEvents[i]?p.runOutsideAngular(function(){s.prototype.addEventListener.call(a,n,i,r,o)}):s.prototype.addEventListener.call(this,n,i,r,o)},t.prototype.startEditing=function(n,i,r,o,a){void 0===n&&(n=!0),this._edtFocus=null;var d=s.prototype.startEditing.call(this,n,i,r,o,a);return d&&(this._edtFocus=o||null==o),d},t.prototype.onCellEditEnding=function(n){return this._edtFocus=null,s.prototype.onCellEditEnding.call(this,n)},t.meta={outputs:Jr.outputs},t.\u0275fac=function(i){return new(i||t)(y.Y36(y.SBq),y.Y36(y.zs3),y.Y36("WjComponent",12),y.Y36(y.sBO))},t.\u0275cmp=y.Xpm({type:t,selectors:[["wj-flex-grid"]],inputs:{wjModelProperty:"wjModelProperty",isDisabled:"isDisabled",tabOrder:"tabOrder",newRowAtTop:"newRowAtTop",allowAddNew:"allowAddNew",allowDelete:"allowDelete",allowDragging:"allowDragging",allowMerging:"allowMerging",allowResizing:"allowResizing",allowSorting:"allowSorting",allowPinning:"allowPinning",autoScroll:"autoScroll",autoRowHeights:"autoRowHeights",autoSizeMode:"autoSizeMode",autoGenerateColumns:"autoGenerateColumns",autoSearch:"autoSearch",caseSensitiveSearch:"caseSensitiveSearch",quickAutoSize:"quickAutoSize",bigCheckboxes:"bigCheckboxes",childItemsPath:"childItemsPath",groupHeaderFormat:"groupHeaderFormat",headersVisibility:"headersVisibility",showSelectedHeaders:"showSelectedHeaders",showMarquee:"showMarquee",showPlaceholders:"showPlaceholders",itemFormatter:"itemFormatter",isReadOnly:"isReadOnly",imeEnabled:"imeEnabled",mergeManager:"mergeManager",selectionMode:"selectionMode",showGroups:"showGroups",showSort:"showSort",showDropDown:"showDropDown",showAlternatingRows:"showAlternatingRows",showErrors:"showErrors",alternatingRowStep:"alternatingRowStep",itemValidator:"itemValidator",validateEdits:"validateEdits",treeIndent:"treeIndent",itemsSource:"itemsSource",autoClipboard:"autoClipboard",expandSelectionOnCopyPaste:"expandSelectionOnCopyPaste",frozenRows:"frozenRows",frozenColumns:"frozenColumns",cloneFrozenCells:"cloneFrozenCells",deferResizing:"deferResizing",sortRowIndex:"sortRowIndex",editColumnIndex:"editColumnIndex",stickyHeaders:"stickyHeaders",preserveSelectedState:"preserveSelectedState",preserveOutlineState:"preserveOutlineState",preserveWhiteSpace:"preserveWhiteSpace",keyActionTab:"keyActionTab",keyActionEnter:"keyActionEnter",rowHeaderPath:"rowHeaderPath",virtualizationThreshold:"virtualizationThreshold",anchorCursor:"anchorCursor",lazyRender:"lazyRender",refreshOnEdit:"refreshOnEdit",copyHeaders:"copyHeaders",columnGroups:"columnGroups"},outputs:{initialized:"initialized",gotFocusNg:"gotFocus",lostFocusNg:"lostFocus",refreshingNg:"refreshing",refreshedNg:"refreshed",invalidInputNg:"invalidInput",beginningEditNg:"beginningEdit",cellEditEndedNg:"cellEditEnded",cellEditEndingNg:"cellEditEnding",prepareCellForEditNg:"prepareCellForEdit",formatItemNg:"formatItem",resizingColumnNg:"resizingColumn",resizedColumnNg:"resizedColumn",autoSizingColumnNg:"autoSizingColumn",autoSizedColumnNg:"autoSizedColumn",draggingColumnNg:"draggingColumn",draggingColumnOverNg:"draggingColumnOver",draggedColumnNg:"draggedColumn",sortingColumnNg:"sortingColumn",sortedColumnNg:"sortedColumn",pinningColumnNg:"pinningColumn",pinnedColumnNg:"pinnedColumn",resizingRowNg:"resizingRow",resizedRowNg:"resizedRow",autoSizingRowNg:"autoSizingRow",autoSizedRowNg:"autoSizedRow",draggingRowNg:"draggingRow",draggingRowOverNg:"draggingRowOver",draggedRowNg:"draggedRow",deletingRowNg:"deletingRow",deletedRowNg:"deletedRow",loadingRowsNg:"loadingRows",loadedRowsNg:"loadedRows",rowEditStartingNg:"rowEditStarting",rowEditStartedNg:"rowEditStarted",rowEditEndingNg:"rowEditEnding",rowEditEndedNg:"rowEditEnded",rowAddedNg:"rowAdded",groupCollapsedChangingNg:"groupCollapsedChanging",groupCollapsedChangedNg:"groupCollapsedChanged",columnGroupCollapsedChangingNg:"columnGroupCollapsedChanging",columnGroupCollapsedChangedNg:"columnGroupCollapsedChanged",itemsSourceChangingNg:"itemsSourceChanging",itemsSourceChangedNg:"itemsSourceChanged",selectionChangingNg:"selectionChanging",selectionChangedNg:"selectionChanged",scrollPositionChangedNg:"scrollPositionChanged",updatingViewNg:"updatingView",updatedViewNg:"updatedView",updatingLayoutNg:"updatingLayout",updatedLayoutNg:"updatedLayout",pastingNg:"pasting",pastedNg:"pasted",pastingCellNg:"pastingCell",pastedCellNg:"pastedCell",copyingNg:"copying",copiedNg:"copied"},features:[y._Bn([{provide:"WjComponent",useExisting:(0,y.Gpc)(function(){return e})}].concat(Jr.providers))],ngContentSelectors:Pi,decls:2,vars:0,template:function(i,r){1&i&&(y.F$t(),y.TgZ(0,"div"),y.Hsn(1),y.qZA())},encapsulation:2}),t=e=Ii([,Hi(0,(0,y.tBr)(y.SBq)),Hi(1,(0,y.tBr)(y.zs3)),Hi(2,(0,y.tBr)("WjComponent")),Hi(2,(0,y.tp0)()),Hi(2,(0,y.FiY)()),Hi(3,(0,y.tBr)(y.sBO))],t)}(It),{selector:"wj-flex-grid-column",template:"<div><ng-content></ng-content></div>",inputs:["asyncBindings","wjProperty","name","dataMap","dataType","binding","sortMemberPath","format","cellTemplate","header","width","maxLength","minWidth","maxWidth","align","allowDragging","allowSorting","allowResizing","allowMerging","aggregate","isReadOnly","cssClass","cssClassAll","isContentHtml","isSelected","visible","wordWrap","multiLine","mask","inputType","isRequired","showDropDown","dataMapEditor","dropDownCssClass","quickAutoSize","editor"],outputs:["initialized","isSelectedChangePC: isSelectedChange"],providers:[]}),ks=(function(s){function t(n,i,r,o){var a=s.call(this)||this;a.cdRef=o,a.isInitialized=!1,a.wjProperty="columns";var d=(a._wjBehaviour=tt.D6.attach(a,n,i,r)).parentBehavior.directive;return d.autoGenerateColumns&&(d.autoGenerateColumns=!1,d.columns.clear()),a.created(),a}var e;Ui(t,s),e=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.meta={outputs:Xs.outputs,changeEvents:{"grid.selectionChanged":["isSelected"]}},t.\u0275fac=function(i){return new(i||t)(y.Y36(y.SBq),y.Y36(y.zs3),y.Y36("WjComponent",12),y.Y36(y.sBO))},t.\u0275cmp=y.Xpm({type:t,selectors:[["wj-flex-grid-column"]],inputs:{asyncBindings:"asyncBindings",wjProperty:"wjProperty",name:"name",dataMap:"dataMap",dataType:"dataType",binding:"binding",sortMemberPath:"sortMemberPath",format:"format",cellTemplate:"cellTemplate",header:"header",width:"width",maxLength:"maxLength",minWidth:"minWidth",maxWidth:"maxWidth",align:"align",allowDragging:"allowDragging",allowSorting:"allowSorting",allowResizing:"allowResizing",allowMerging:"allowMerging",aggregate:"aggregate",isReadOnly:"isReadOnly",cssClass:"cssClass",cssClassAll:"cssClassAll",isContentHtml:"isContentHtml",isSelected:"isSelected",visible:"visible",wordWrap:"wordWrap",multiLine:"multiLine",mask:"mask",inputType:"inputType",isRequired:"isRequired",showDropDown:"showDropDown",dataMapEditor:"dataMapEditor",dropDownCssClass:"dropDownCssClass",quickAutoSize:"quickAutoSize",editor:"editor"},outputs:{initialized:"initialized",isSelectedChangePC:"isSelectedChange"},features:[y._Bn([{provide:"WjComponent",useExisting:(0,y.Gpc)(function(){return e})}].concat(Xs.providers))],ngContentSelectors:Pi,decls:2,vars:0,template:function(i,r){1&i&&(y.F$t(),y.TgZ(0,"div"),y.Hsn(1),y.qZA())},encapsulation:2}),t=e=Ii([,Hi(0,(0,y.tBr)(y.SBq)),Hi(1,(0,y.tBr)(y.zs3)),Hi(2,(0,y.tBr)("WjComponent")),Hi(2,(0,y.tp0)()),Hi(2,(0,y.FiY)()),Hi(3,(0,y.tBr)(y.sBO))],t)}($t),{selector:"wj-flex-grid-column-group",template:"<div><ng-content></ng-content></div>",inputs:["asyncBindings","wjProperty","name","dataMap","dataType","binding","sortMemberPath","format","cellTemplate","header","width","maxLength","minWidth","maxWidth","align","allowDragging","allowSorting","allowResizing","allowMerging","aggregate","isReadOnly","cssClass","cssClassAll","isContentHtml","isSelected","visible","wordWrap","multiLine","mask","inputType","isRequired","showDropDown","dataMapEditor","dropDownCssClass","quickAutoSize","editor","collapseTo","isCollapsed"],outputs:["initialized","isSelectedChangePC: isSelectedChange"],providers:[]}),qi=(function(s){function t(n,i,r){var o=s.call(this)||this;return o.isInitialized=!1,o.wjProperty="columnGroups",o._wjBehaviour=tt.D6.attach(o,n,i,r),o.created(),o}var e;Ui(t,s),e=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.meta={outputs:ks.outputs,changeEvents:{"grid.selectionChanged":["isSelected"]}},t.\u0275fac=function(i){return new(i||t)(y.Y36(y.SBq),y.Y36(y.zs3),y.Y36("WjComponent",12))},t.\u0275cmp=y.Xpm({type:t,selectors:[["wj-flex-grid-column-group"]],inputs:{asyncBindings:"asyncBindings",wjProperty:"wjProperty",name:"name",dataMap:"dataMap",dataType:"dataType",binding:"binding",sortMemberPath:"sortMemberPath",format:"format",cellTemplate:"cellTemplate",header:"header",width:"width",maxLength:"maxLength",minWidth:"minWidth",maxWidth:"maxWidth",align:"align",allowDragging:"allowDragging",allowSorting:"allowSorting",allowResizing:"allowResizing",allowMerging:"allowMerging",aggregate:"aggregate",isReadOnly:"isReadOnly",cssClass:"cssClass",cssClassAll:"cssClassAll",isContentHtml:"isContentHtml",isSelected:"isSelected",visible:"visible",wordWrap:"wordWrap",multiLine:"multiLine",mask:"mask",inputType:"inputType",isRequired:"isRequired",showDropDown:"showDropDown",dataMapEditor:"dataMapEditor",dropDownCssClass:"dropDownCssClass",quickAutoSize:"quickAutoSize",editor:"editor",collapseTo:"collapseTo",isCollapsed:"isCollapsed"},outputs:{initialized:"initialized",isSelectedChangePC:"isSelectedChange"},features:[y._Bn([{provide:"WjComponent",useExisting:(0,y.Gpc)(function(){return e})}].concat(ks.providers))],ngContentSelectors:Pi,decls:2,vars:0,template:function(i,r){1&i&&(y.F$t(),y.TgZ(0,"div"),y.Hsn(1),y.qZA())},encapsulation:2}),t=e=Ii([,Hi(0,(0,y.tBr)(y.SBq)),Hi(1,(0,y.tBr)(y.zs3)),Hi(2,(0,y.tBr)("WjComponent")),Hi(2,(0,y.tp0)()),Hi(2,(0,y.FiY)())],t)}(Ft),function(){function s(e,n,i,r,o,a){if(this.viewContainerRef=e,this.templateRef=n,this.elRef=i,this.cdRef=a,this.autoSizeRows=!0,this.forceFullEdit=!0,r instanceof It)this.grid=r;else if(r instanceof $t){this.column=r;var d=void 0,p=tt.D6.getBehavior(r);do{d=(p=p.parentBehavior)&&p.directive}while(d&&!(d instanceof It));this.grid=d}}var t;t=s,s.prototype.ngOnInit=function(){this.ownerControl=this.column&&this.column.grid===this.grid?this.column:this.grid,this._attachToControl()},s.prototype.ngOnDestroy=function(){this.cellTypeStr&&(this.viewContainerRef.clear(),this.ownerControl[qi.getTemplContextProp(this.cellType)]=null,this.grid.invalidate())},s.prototype._instantiateTemplate=function(e,n){return tt.D6.instantiateTemplate(e,this.viewContainerRef,this.templateRef,!1,n)},s.prototype._attachToControl=function(){if(this.cellTypeStr){var e=this.cellType=u.asEnum(this.cellTypeStr,wr),n=this.ownerControl;n[qi.getTemplContextProp(e)]=this,n instanceof $t&&(e===wr.Cell||e===wr.ColumnHeader||e===wr.ColumnFooter)&&n._setFlag(In.HasTemplate,!0),this.grid.invalidate()}},s.\u0275fac=function(n){return new(n||s)(y.Y36(y.s_b),y.Y36(y.Rgc,8),y.Y36(y.SBq),y.Y36("WjComponent",12),y.Y36(y.zs3),y.Y36(y.sBO))},s.\u0275dir=y.lG2({type:s,selectors:[["","wjFlexGridCellTemplate",""]],inputs:{wjFlexGridCellTemplate:"wjFlexGridCellTemplate",cellTypeStr:["cellType","cellTypeStr"],cellOverflow:"cellOverflow",valuePaths:"valuePaths",autoSizeRows:"autoSizeRows",forceFullEdit:"forceFullEdit"},exportAs:["wjFlexGridCellTemplate"],features:[y._Bn([{provide:"WjComponent",useExisting:(0,y.Gpc)(function(){return t})}])]}),s=t=Ii([,Hi(0,(0,y.tBr)(y.s_b)),Hi(1,(0,y.tBr)(y.Rgc)),Hi(1,(0,y.FiY)()),Hi(2,(0,y.tBr)(y.SBq)),Hi(3,(0,y.tBr)("WjComponent")),Hi(3,(0,y.tp0)()),Hi(3,(0,y.FiY)()),Hi(4,(0,y.tBr)(y.zs3)),Hi(5,(0,y.tBr)(y.sBO))],s)}(),function(s){function t(e,n){var i=s.call(this,e)||this;return i._needsCdCheck=!1,i._gridCdRef=n,e.updatedView.addHandler(function(){i._needsCdCheck&&(i._needsCdCheck=!1,i._gridCdRef.markForCheck())},i),i}return Ui(t,s),t.prototype.shouldInstantiate=function(e){var n=e.templateCache;return null==n||n.column!==e.column||!n.viewRef||n.templateContextProperty!==e.templateContextProperty||e.cell.firstChild!=n.rootElement},t.prototype.renderTemplate=function(e,n){var i=e.row,r=n?{}:e.templateCache.viewRef.context,o=e.templateContext;if(e.cellBindingsData=this.setBindingsData(r,i,e.column,i.dataItem,e.cellValue,o.valuePaths),n){var a=e.cell,d=o._instantiateTemplate(a,r),p=e.templateCache={column:e.column,viewRef:d.viewRef,rootElement:d.rootElement,templateContextProperty:e.templateContextProperty};a[e.templateContextProperty]=p}},t.prototype.setBindingsData=function(e,n,i,r,o,a){return this._needsCdCheck=!0,s.prototype.setBindingsData.call(this,e,n,i,r,o,a)},t.prototype.disposeTemplate=function(e,n,i){if(n&&n.viewRef){if(i){var r=i.viewContainerRef.indexOf(n.viewRef);r>-1&&i.viewContainerRef.remove(r)}n.viewRef=null,s.prototype.disposeTemplate.call(this,e,n,i)}},t.prototype.clearCell=function(e){e.textContent=""},t.prototype.applyImmediately=function(e){e.templateContext.cdRef.detectChanges()},t.prototype.flushPendingEvents=function(e){if(e){var n=tt.D6.getBehavior(e);n&&n.flushPendingEvents()}},t.prototype.getEditorFocusFlag=function(){return this.grid._edtFocus},t.prototype.setEditorFocusFlag=function(e){this.grid._edtFocus=e},t.prototype.checkHeight=function(e){var n=this;tt.D6.getZone(this.grid).runOutsideAngular(function(){s.prototype.checkHeight.call(n,e)})},t}(Zn)),_o=(function(){function s(){}s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=y.oAB({type:s}),s.\u0275inj=y.cJS({imports:[Q.ez]})}(),G(7582)),ur=function(){var s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),No=function(){function s(t,e,n,i,r){this._volumes=(0,u.asArray)(t),this._xVals=(0,u.asArray)(e),this._xDataMin=(0,u.asNumber)(n,!0,!1),this._xDataMax=(0,u.asNumber)(i,!0,!1),this._xDataType=(0,u.asEnum)(r,u.DataType,!0),this._calcData=[],this._init()}return s.prototype.convert=function(t,e,n){var i=void 0,r=this._calcData.length,o=-1;if(this._hasXs&&this._xDataType===u.DataType.Date){if(-1===(o=this._xVals.indexOf(t)))for(var a=0;a<this._xVals.length;a++){if(a<this._xVals.length-1&&this._xVals[a]<=t&&t<=this._xVals[a+1]){o=a;break}if(0===a&&t<=this._xVals[a]){o=a;break}if(a===this._xVals.length-1&&this._xVals[a]<=t){o=a;break}}-1===o&&(o=this._xVals.indexOf(Math.floor(t)),o=(0,u.clamp)(o,0,r-1))}else this._hasXs?-1===(o=this._xVals.indexOf(t))&&(o=this._xVals.indexOf(Math.floor(t)),o=(0,u.clamp)(o,0,r-1)):o=(0,u.clamp)(Math.round(t),0,r-1);return 0<=o&&o<r&&(this._hasXs&&(t=s.convertToRange(t,0,r-1,this._xDataMin,this._xDataMax)),i=((i=this._calcData[o].value+(t-o)*this._calcData[o].width-.5*this._calcData[o].width)-(e=this._getXVolume(e)))/((n=this._getXVolume(n))-e)),i},s.prototype.convertBack=function(t,e,n){var i,r=void 0,o=this._calcData.length,a=-1;for(i=0;i<o;i++)if(this._calcData[i].x1<=t&&t<=this._calcData[i].x2||0===i&&t<=this._calcData[i].x2||i===o-1&&this._calcData[i].x1<=t){a=i;break}return 0<=a&&a<o&&(r=t/this._calcData[a].width-this._calcData[a].value/this._calcData[a].width+.5+i,this._hasXs&&(r=s.convertToRange(r,this._xDataMin,this._xDataMax,0,o-1))),r},s.prototype._init=function(){this._hasXs=null!==this._xVals&&this._xVals.length>0,this._hasXs&&!(0,u.isNumber)(this._xDataMin)&&(this._xDataMin=Math.min.apply(null,this._xVals)),this._hasXs&&!(0,u.isNumber)(this._xDataMax)&&(this._xDataMax=Math.max.apply(null,this._xVals)),this._hasXs&&(this._hasXs=(0,u.isNumber)(this._xDataMin)&&(0,u.isNumber)(this._xDataMax)),this._hasXs&&this._xDataType===u.DataType.Date&&this._fillGaps();var t=0,e=0,n=null!==this._volumes&&this._volumes.length>0?this._volumes.length:0;for(e=0;e<n;e++)t+=this._volumes[e]||0;var i,r,o=0;for(e=0;e<n;e++)i=o+(r=(this._volumes[e]||0)/t),this._calcData.push({value:i,width:r,x1:o,x2:i}),o=this._calcData[e].value},s.prototype._getXVolume=function(t){var e=this._calcData.length,n=-1;if(this._hasXs){n=this._xVals.indexOf(t);for(var i=0;i<this._xVals.length;i++){if(i<this._xVals.length-1&&this._xVals[i]<=t&&t<=this._xVals[i+1]){n=i;break}if(0===i&&t<=this._xVals[i]){n=i;break}if(i===this._xVals.length-1&&this._xVals[i]<=t){n=i;break}}}return this._hasXs&&(t=s.convertToRange(t,0,e-1,this._xDataMin,this._xDataMax)),-1===n&&(n=(0,u.clamp)(Math.round(t),0,e-1)),this._calcData[n].value+(t-n)*this._calcData[n].width-.5*this._calcData[n].width},s.convertToRange=function(t,e,n,i,r){return e===n||i===r?0:(t-i)*(n-e)/(r-i)+e},s.prototype._fillGaps=function(){if(!(this._xDataType!==u.DataType.Date||null===this._xVals||this._xVals.length<=0)){var t,e=this._xDataMin,n=this._xDataMax;for(t=1;e<n;t++)(e=new Date(e)).setDate(e.getDate()+1),(e=e.valueOf())!==this._xVals[t]&&(this._xVals.splice(t,0,e),this._volumes.splice(t,0,0))}},s}(),pr=function(){function s(t,e,n){this.k=.002,this._a=[],this._b=[],this._c=[],this._d=[],this.m=[[-.5,1.5,-1.5,.5],[1,-2.5,2,-.5],[-.5,0,.5,0],[0,1,0,0]],this._x=t,this._y=e;var i=this._len=n||Math.min(t.length,e.length);if(i>3)for(var r=0;r<i-1;r++){var o=0==r?new u.Point(t[r],e[r]):new u.Point(t[r-1],e[r-1]),a=new u.Point(t[r],e[r]),d=new u.Point(t[r+1],e[r+1]),p=r==i-2?new u.Point(t[r+1],e[r+1]):new u.Point(t[r+2],e[r+2]),v=new u.Point,M=new u.Point,T=new u.Point,k=new u.Point;v.x=o.x*this.m[0][0]+a.x*this.m[0][1]+d.x*this.m[0][2]+p.x*this.m[0][3],M.x=o.x*this.m[1][0]+a.x*this.m[1][1]+d.x*this.m[1][2]+p.x*this.m[1][3],T.x=o.x*this.m[2][0]+a.x*this.m[2][1]+d.x*this.m[2][2]+p.x*this.m[2][3],k.x=o.x*this.m[3][0]+a.x*this.m[3][1]+d.x*this.m[3][2]+p.x*this.m[3][3],v.y=o.y*this.m[0][0]+a.y*this.m[0][1]+d.y*this.m[0][2]+p.y*this.m[0][3],M.y=o.y*this.m[1][0]+a.y*this.m[1][1]+d.y*this.m[1][2]+p.y*this.m[1][3],T.y=o.y*this.m[2][0]+a.y*this.m[2][1]+d.y*this.m[2][2]+p.y*this.m[2][3],k.y=o.y*this.m[3][0]+a.y*this.m[3][1]+d.y*this.m[3][2]+p.y*this.m[3][3],this._a.push(v),this._b.push(M),this._c.push(T),this._d.push(k)}}return s.prototype.calculatePoint=function(t){var e=Math.floor(t);e<0&&(e=0),e>this._len-2&&(e=this._len-2);var n=t-e;return{x:((this._a[e].x*n+this._b[e].x)*n+this._c[e].x)*n+this._d[e].x,y:((this._a[e].y*n+this._b[e].y)*n+this._c[e].y)*n+this._d[e].y}},s.prototype.calculate=function(){if(this._len<=3)return{xs:this._x,ys:this._y};var t=[],e=[],n=this.calculatePoint(0);t.push(n.x),e.push(n.y);for(var i=this._len*this.k,r=i;r<=this._len-1;r+=i){var o=this.calculatePoint(r);(Math.abs(n.x-o.x)>=3||Math.abs(n.y-o.y)>=3)&&(t.push(o.x),e.push(o.y),n=o)}return{xs:t,ys:e}},s}(),no=function(){function s(){}return s._isExtended=function(t){return-1!==this._values(s.Diverging).indexOf(t)||-1!==this._values(s.Qualitative).indexOf(t)||-1!==this._values(s.SequentialSingle).indexOf(t)||-1!==this._values(s.SequentialMulti).indexOf(t)},s._values=function(t){return Object.keys(t).map(function(e){return t[e]})},s.standard=["#88bde6","#fbb258","#90cd97","#f6aac9","#bfa554","#bc99c7","#eddd46","#f07e6e","#8c8c8c"],s.cocoa=["#466bb0","#c8b422","#14886e","#b54836","#6e5944","#8b3872","#73b22b","#b87320","#141414"],s.coral=["#84d0e0","#f48256","#95c78c","#efa5d6","#ba8452","#ab95c2","#ede9d0","#e96b7d","#888888"],s.dark=["#005fad","#f06400","#009330","#e400b1","#b65800","#6a279c","#d5a211","#dc0127","#000000"],s.highcontrast=["#ff82b0","#0dda2c","#0021ab","#bcf28c","#19c23b","#890d3a","#607efd","#1b7700","#000000"],s.light=["#ddca9a","#778deb","#cb9fbb","#b5eae2","#7270be","#a6c7a7","#9e95c7","#95b0c7","#9b9b9b"],s.midnight=["#83aaca","#e37849","#14a46a","#e097da","#a26d54","#a584b7","#d89c54","#e86996","#2c343b"],s.modern=["#2d9fc7","#ec993c","#89c235","#e377a4","#a68931","#a672a6","#d0c041","#e35855","#68706a"],s.organic=["#9c88d9","#a3d767","#8ec3c0","#e9c3a9","#91ab36","#d4ccc0","#61bbd8","#e2d76f","#80715a"],s.slate=["#7493cd","#f99820","#71b486","#e4a491","#cb883b","#ae83a4","#bacc5c","#e5746a","#505d65"],s.zen=["#7bb5ae","#e2d287","#92b8da","#eac4cb","#7b8bbd","#c7d189","#b9a0c8","#dfb397","#a9a9a9"],s.cyborg=["#2a9fd6","#77b300","#9933cc","#ff8800","#cc0000","#00cca3","#3d6dcc","#525252","#000000"],s.superhero=["#5cb85c","#f0ad4e","#5bc0de","#d9534f","#9f5bde","#46db8c","#b6b86e","#4e5d6c","#2b3e4b"],s.flatly=["#18bc9c","#3498db","#f39c12","#6cc1be","#99a549","#8f54b5","#e74c3c","#8a9899","#2c3e50"],s.darkly=["#375a7f","#00bc8c","#3498db","#f39c12","#e74c3c","#8f61b3","#b08725","#4a4949","#000000"],s.cerulan=["#033e76","#87c048","#59822c","#53b3eb","#fc6506","#d42323","#e3bb00","#cccccc","#222222"],s.Qualitative={Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5"]},s.Diverging={BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"]},s.SequentialSingle={Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"]},s.SequentialMulti={BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"]},s}(),wo=function(){function s(t){this._row=0,this._col=0,this._rect=new u.Rect(0,0,0,0),(0,u.copy)(this,t)}return Object.defineProperty(s.prototype,"row",{get:function(){return this._row},set:function(t){t!=this._row&&(this._row=(0,u.asInt)(t,!0,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"column",{get:function(){return this._col},set:function(t){t!=this._col&&(this._col=(0,u.asInt)(t,!0,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"name",{get:function(){return this._name},set:function(t){t!=this._name&&(this._name=(0,u.asString)(t,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"width",{get:function(){return this._width},set:function(t){t!=this._width&&(this._width=t,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"height",{get:function(){return this._height},set:function(t){t!=this._height&&(this._height=t,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"style",{get:function(){return this._style},set:function(t){t!=this._style&&(this._style=t,this._invalidate())},enumerable:!0,configurable:!0}),s.prototype._invalidate=function(){this._chart&&this._chart.invalidate()},s.prototype._render=function(t){t.drawRect(this._rect.left,this._rect.top,this._rect.width,this._rect.height,null,this.style)},s.prototype._setPlotX=function(t,e){this._rect.left=t,this._rect.width=e},s.prototype._setPlotY=function(t,e){this._rect.top=t,this._rect.height=e},s}(),gs=function(s){function t(){return null!==s&&s.apply(this,arguments)||this}return ur(t,s),t.prototype.getPlotArea=function(e){var n=this.indexOf(e);return n>-1?this[n]:null},t.prototype.indexOf=function(e){for(var n=0;n<this.length;n++)if(this[n].name==e)return n;return-1},t.prototype._getWidth=function(e){for(var n=0;n<this.length;n++){var i=this[n];if(i.column==e&&0==i.row)return i.width}},t.prototype._getHeight=function(e){for(var n=0;n<this.length;n++){var i=this[n];if(i.row==e&&0==i.column)return i.height}},t.prototype._calculateWidths=function(e,n){if(n<=0)throw"ncols";for(var i=[],r=0;r<n;r++){var o=this._getWidth(r);i[r]=new io(o)}return this._calculateLengths(e,n,i)},t.prototype._calculateHeights=function(e,n){if(n<=0)throw"nrows";for(var i=[],r=0;r<n;r++){var o=this._getHeight(r);i[r]=new io(o)}return this._calculateLengths(e,n,i)},t.prototype._calculateLengths=function(e,n,i){for(var r=[n],o=0,a=0,d=0;d<n;d++)i[d].isAbsolute?(r[d]=i[d].value,o+=r[d]):i[d].isStar?a+=i[d].value:i[d].isAuto&&a++;var p=(e-o)/a;for(d=0;d<n;d++)i[d].isStar?r[d]=p*i[d].value:i[d].isAuto&&(r[d]=p),r[d]<0&&(r[d]=0);return r},t}(u.ObservableArray);!function(s){s[s.Auto=0]="Auto",s[s.Pixel=1]="Pixel",s[s.Star=2]="Star"}(Ri||(Ri={}));var os,hr,Nn,Ao,io=function(){function s(t){void 0===t&&(t=null),this._unitType=Ri.Auto,t&&((t=t.toString()).indexOf("*")>=0?(this._unitType=Ri.Star,t=t.replace("*",""),this._value=parseFloat(t),isNaN(this._value)&&(this._value=1)):(this._unitType=Ri.Pixel,this._value=parseFloat(t),isNaN(this._value)&&(this._unitType=Ri.Auto,this._value=1)))}return Object.defineProperty(s.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"isStar",{get:function(){return this._unitType==Ri.Star},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"isAbsolute",{get:function(){return this._unitType==Ri.Pixel},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"isAuto",{get:function(){return this._unitType==Ri.Auto},enumerable:!0,configurable:!0}),s}(),Co=function(){function s(t){this._strokeWidth=1,this._fontSize=null,this._fontFamily=null,this._savedGradient={},this._bbCache={},this._baseUrl="",this._cssPriority=!0,this._readOnly=!1,this._isRtl=!1,this._precision=1,this._element=t,this._create(),this._element&&this._element.appendChild(this._svg);var e=navigator.userAgent.toLowerCase();void 0===s._isff&&(s._isff=e.indexOf("firefox")>=0),void 0===s._isSafari&&(s._isSafari=e.indexOf("safari")>-1&&-1==e.indexOf("chrome")),this._baseUrl=window.location.pathname.replace(window.location.hash,""),"file:"==window.location.protocol&&((0,u.isIE)()||(0,u.isEdge)())&&(this._baseUrl="file:"+this._baseUrl)}return s.prototype.attach=function(t){this._element=t,t&&(t.insertBefore(this._svg,t.childNodes[0]),t.appendChild(this._svg))},s.prototype.detach=function(){for(this._element&&this._element.removeChild(this._svg);this._svg.firstChild;)(0,u.removeChild)(this._svg.firstChild)},s.prototype.beginRender=function(){for(;this._svg.firstChild;)(0,u.removeChild)(this._svg.firstChild);this._savedGradient={},this._bbCache={},this._svg.appendChild(this._defs),this._svg.appendChild(this._textGroup),this._isRtl=this._checkRtl()},s.prototype.endRender=function(){(0,u.removeChild)(this._textGroup)},s.prototype.setViewportSize=function(t,e){this._svg.setAttribute("width",t.toString()),this._svg.setAttribute("height",e.toString())},Object.defineProperty(s.prototype,"element",{get:function(){return this._svg},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"fill",{get:function(){return this._fill},set:function(t){this._fill=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(t){this._fontFamily=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"stroke",{get:function(){return this._stroke},set:function(t){this._stroke=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"strokeWidth",{get:function(){return this._strokeWidth},set:function(t){this._strokeWidth=void 0===t?null:t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"textFill",{get:function(){return this._textFill},set:function(t){this._textFill=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"cssPriority",{get:function(){return this._cssPriority},set:function(t){this._cssPriority=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"readOnly",{get:function(){return this._readOnly},set:function(t){this._readOnly=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"precision",{get:function(){return this._precision},set:function(t){this._precision=(0,u.asNumber)(t)},enumerable:!0,configurable:!0}),s.prototype.addClipRect=function(t,e){if(t&&e){var n=this.precision,i=document.createElementNS(s.svgNS,"clipPath"),r=document.createElementNS(s.svgNS,"rect");r.setAttribute("x",(t.left-1).toFixed(n)),r.setAttribute("y",(t.top-1).toFixed(n)),r.setAttribute("width",(t.width+2).toFixed(n)),r.setAttribute("height",(t.height+2).toFixed(n)),i.appendChild(r),i.setAttribute("id",e),this._svg.appendChild(i)}},s.prototype.drawEllipse=function(t,e,n,i,r,o){var a=document.createElementNS(s.svgNS,"ellipse"),d=this.precision;return this._applyColor(a,"stroke",this._stroke),null!==this._strokeWidth&&this._setAttribute(a,"stroke-width",this._strokeWidth.toString()),this._applyColor(a,"fill",this._fill),a.setAttribute("cx",t.toFixed(d)),a.setAttribute("cy",e.toFixed(d)),a.setAttribute("rx",n.toFixed(d)),a.setAttribute("ry",i.toFixed(d)),r&&a.setAttribute("class",r),this._applyStyle(a,o),this._appendChild(a),a},s.prototype.drawRect=function(t,e,n,i,r,o,a){var d=document.createElementNS(s.svgNS,"rect"),p=this.precision;return this._applyColor(d,"fill",this._fill),this._applyColor(d,"stroke",this._stroke),null!==this._strokeWidth&&this._setAttribute(d,"stroke-width",this._strokeWidth.toString()),d.setAttribute("x",t.toFixed(p)),d.setAttribute("y",e.toFixed(p)),d.setAttribute("width",n>0&&n<.05?"0.1":n.toFixed(p)),d.setAttribute("height",i>0&&i<.05?"0.1":i.toFixed(p)),a&&this._setClipPath(d,a),r&&d.setAttribute("class",r),this._applyStyle(d,o),this._appendChild(d),d},s.prototype.drawLine=function(t,e,n,i,r,o){var a=document.createElementNS(s.svgNS,"line"),d=this.precision;return this._applyColor(a,"stroke",this._stroke),null!==this._strokeWidth&&this._setAttribute(a,"stroke-width",this._strokeWidth.toString()),a.setAttribute("x1",t.toFixed(d)),a.setAttribute("x2",n.toFixed(d)),a.setAttribute("y1",e.toFixed(d)),a.setAttribute("y2",i.toFixed(d)),r&&a.setAttribute("class",r),this._applyStyle(a,o),this._appendChild(a),a},s.prototype.drawLines=function(t,e,n,i,r,o){if(t&&e){var a=o||Math.min(t.length,e.length);if(a>0){var d=document.createElementNS(s.svgNS,"polyline"),p=this.precision;this._applyColor(d,"stroke",this._stroke),null!==this._strokeWidth&&this._setAttribute(d,"stroke-width",this._strokeWidth.toString()),d.setAttribute("fill","none");for(var v="",M=0;M<a;M++)v+=t[M].toFixed(p)+","+e[M].toFixed(p)+" ";return d.setAttribute("points",v),n&&d.setAttribute("class",n),r&&this._setClipPath(d,r),this._applyStyle(d,i),this._appendChild(d),d}}return null},s.prototype.drawSplines=function(t,e,n,i,r,o){if(t&&e){var a=new pr(t,e,o).calculate(),d=a.xs,p=a.ys,v=Math.min(d.length,p.length);if(v>0){var M=document.createElementNS(s.svgNS,"polyline"),T=this.precision;this._applyColor(M,"stroke",this._stroke),null!==this._strokeWidth&&this._setAttribute(M,"stroke-width",this._strokeWidth.toString()),M.setAttribute("fill","none");for(var k="",L=0;L<v;L++)k+=d[L].toFixed(T)+","+p[L].toFixed(T)+" ";return M.setAttribute("points",k),n&&M.setAttribute("class",n),r&&this._setClipPath(M,r),this._applyStyle(M,i),this._appendChild(M),M}}return null},s.prototype.drawPolygon=function(t,e,n,i,r){if(t&&e){var o=Math.min(t.length,e.length);if(o>0){var a=document.createElementNS(s.svgNS,"polygon"),d=this.precision;this._applyColor(a,"stroke",this._stroke),null!==this._strokeWidth&&this._setAttribute(a,"stroke-width",this._strokeWidth.toString()),this._applyColor(a,"fill",this._fill);for(var p="",v=0;v<o;v++)p+=t[v].toFixed(d)+","+e[v].toFixed(d)+" ";return a.setAttribute("points",p),n&&a.setAttribute("class",n),r&&this._setClipPath(a,r),this._applyStyle(a,i),this._appendChild(a),a}}return null},s.prototype.drawPieSegment=function(t,e,n,i,r,o,a,d){if(r>=2*Math.PI)return this.drawEllipse(t,e,n,n,o,a);var p=document.createElementNS(s.svgNS,"path"),v=this.precision;this._applyColor(p,"fill",this._fill),this._applyColor(p,"stroke",this._stroke),null!==this._strokeWidth&&this._setAttribute(p,"stroke-width",this._strokeWidth.toString());var M=new u.Point(t,e);M.x+=n*Math.cos(i),M.y+=n*Math.sin(i);var T=i+r,k=new u.Point(t,e);k.x+=n*Math.cos(T),k.y+=n*Math.sin(T);var L=" 0 0,1 ";Math.abs(r)>Math.PI&&(L=" 0 1,1 ");var Y="M "+M.x.toFixed(v)+","+M.y.toFixed(v);return Y+=" A "+n.toFixed(v)+","+n.toFixed(v)+L,Y+=k.x.toFixed(v)+","+k.y.toFixed(v),Y+=" L "+t.toFixed(v)+","+e.toFixed(v)+" z",p.setAttribute("d",Y),d&&this._setClipPath(p,d),o&&p.setAttribute("class",o),this._applyStyle(p,a),this._appendChild(p),p},s.prototype.drawDonutSegment=function(t,e,n,i,r,o,a,d,p){var v=!1;o>=2*Math.PI&&(v=!0,o-=.001);var M=document.createElementNS(s.svgNS,"path"),T=this.precision+2;this._applyColor(M,"fill",this._fill),this._applyColor(M,"stroke",this._stroke),null!==this._strokeWidth&&this._setAttribute(M,"stroke-width",this._strokeWidth.toString());var k=new u.Point(t,e);k.x+=n*Math.cos(r),k.y+=n*Math.sin(r);var L=r+o,Y=new u.Point(t,e);Y.x+=n*Math.cos(L),Y.y+=n*Math.sin(L);var ce=new u.Point(t,e);ce.x+=i*Math.cos(L),ce.y+=i*Math.sin(L);var ae=new u.Point(t,e);ae.x+=i*Math.cos(r),ae.y+=i*Math.sin(r);var Ee=" 0 0,1 ",Me=" 0 0,0 ";Math.abs(o)>Math.PI&&(Ee=" 0 1,1 ",Me=" 0 1,0 ");var ze="M "+k.x.toFixed(T)+","+k.y.toFixed(T);return ze+=" A "+n.toFixed(T)+","+n.toFixed(T)+Ee,ze+=Y.x.toFixed(T)+","+Y.y.toFixed(T),ze+=v?" M "+ce.x.toFixed(T)+","+ce.y.toFixed(T):" L "+ce.x.toFixed(T)+","+ce.y.toFixed(T),ze+=" A "+i.toFixed(T)+","+i.toFixed(T)+Me,ze+=ae.x.toFixed(T)+","+ae.y.toFixed(T),v||(ze+=" z"),M.setAttribute("d",ze),p&&this._setClipPath(M,p),a&&M.setAttribute("class",a),this._applyStyle(M,d),this._appendChild(M),M},s.prototype.drawString=function(t,e,n,i){var r=this._createText(e,t),o=this.precision;n&&r.setAttribute("class",n),this._applyStyle(r,i),this._appendChild(r);var a,d=this._getKey(t,n,this._groupCls);return this._bbCache[d]?r.setAttribute("y",(e.y-((a=this._bbCache[d]).y+a.height)).toFixed(o)):(a=this._getBBox(r),r.setAttribute("y",(e.y-(a.y+a.height-e.y)).toFixed(o))),this._isRtl&&!(0,u.isIE)()&&r.setAttribute("x",(e.x+a.width).toFixed(o)),r},s.prototype.drawStringRotated=function(t,e,n,i,r,o){var a=this._createText(e,t),d=this.precision;r&&a.setAttribute("class",r),this._applyStyle(a,o);var p=document.createElementNS(s.svgNS,"g");p.setAttribute("transform","rotate("+i.toFixed(d)+","+n.x.toFixed(d)+","+n.y.toFixed(d)+")"),p.appendChild(a),this._appendChild(p);var v=this._getBBox(a);return a.setAttribute("y",(e.y-(v.y+v.height-e.y)).toFixed(d)),this._isRtl&&!(0,u.isIE)()&&a.setAttribute("x",(e.x+v.width).toFixed(d)),a},s.prototype.measureString=function(t,e,n,i){var r=new u.Size(0,0);if(!this._fontFamily&&!this._fontSize){var o=this._getKey(t,e,n);if(this._bbCache[o])return this._bbCache[o]}if(this.cssPriority)this._fontSize&&this._text.setAttribute("font-size",this._fontSize),this._fontFamily&&this._text.setAttribute("font-family",this._fontFamily);else{var a="";this._fontSize&&(a+="font-size:"+this._fontSize+";"),this._fontFamily&&(a+="font-family:"+this._fontFamily+";"),a.length>0&&this._text.setAttribute("style",a)}e&&this._text.setAttribute("class",e),n&&this._textGroup.setAttribute("class",n),this._applyStyle(this._text,i),this._setText(this._text,t);var d=this._getBBox(this._text);if(r.width=d.width,r.height=d.height,this._text.removeAttribute("font-size"),this._text.removeAttribute("font-family"),this._text.removeAttribute("class"),this._text.removeAttribute("style"),i)for(var p in i)this._text.removeAttribute(this._deCase(p));if(this._textGroup.removeAttribute("class"),this._text.textContent=null,!this._fontFamily&&!this._fontSize){var v=this._getKey(t,e,n);this._bbCache[v]={x:d.x,y:d.y+1e3,width:d.width,height:d.height}}return r},s.prototype.startGroup=function(t,e,n){void 0===n&&(n=!1);var i=document.createElementNS(s.svgNS,"g");return t&&(i.setAttribute("class",t),this._groupCls=t),e&&this._setClipPath(i,e),this._appendChild(i),n&&i.transform.baseVal.appendItem(this._svg.createSVGTransform()),this._group=i,i},s.prototype.endGroup=function(){if(this._group){var t=this._group.parentNode;t==this._svg?(this._group=null,this._groupCls=null):(this._group=t,this._groupCls=this._getClass(this._group))}},s.prototype.drawImage=function(t,e,n,i,r){var o=document.createElementNS(s.svgNS,"image"),a=this.precision;return o.setAttributeNS(s.xlinkNS,"href",t),o.setAttribute("x",e.toFixed(a)),o.setAttribute("y",n.toFixed(a)),o.setAttribute("width",i.toFixed(a)),o.setAttribute("height",r.toFixed(a)),this._appendChild(o),o},s.prototype._setClipPath=function(t,e){t.setAttribute("clip-path","url(#"+e+")"),s._isSafari&&(0,u.setCss)(t,{"-webkit-clip-path":"url(#"+e+")"})},s.prototype._appendChild=function(t){if(!this.readOnly){var e=this._group;e||(e=this._svg),e.appendChild(t)}},s.prototype._create=function(){this._svg=document.createElementNS(s.svgNS,"svg"),this._defs=document.createElementNS(s.svgNS,"defs"),this._svg.appendChild(this._defs),this._text=this._createText(new u.Point(-1e3,-1e3),""),this._textGroup=document.createElementNS(s.svgNS,"g"),this._textGroup.appendChild(this._text),this._svg.appendChild(this._textGroup)},s.prototype._setText=function(t,e){var n=e?e.toString():null;if(n&&n.indexOf("tspan")>=0)try{t.textContent=null;for(var o=(new DOMParser).parseFromString('<svg xmlns="http://www.w3.org/2000/svg">'+n+"</svg>","text/xml").documentElement.firstChild;o;)t.appendChild(t.ownerDocument.importNode(o,!0)),o=o.nextSibling}catch{throw new Error("Error parsing XML string.")}else t.textContent=n},s.prototype._getKey=function(t,e,n){return t+(e||"")+(n||"")},s.prototype._createText=function(t,e){var n=document.createElementNS(s.svgNS,"text"),i=this.precision;if(this._setText(n,e),n.setAttribute("x",t.x.toFixed(i)),n.setAttribute("y",t.y.toFixed(i)),this.cssPriority)null!=this._textFill&&n.setAttribute("fill",this._textFill),this._fontSize&&n.setAttribute("font-size",this._fontSize),this._fontFamily&&n.setAttribute("font-family",this._fontFamily);else{var r="";null!=this._textFill&&(r+="fill:"+this._textFill+";"),this._fontSize&&(r+="font-size:"+this._fontSize+";"),this._fontFamily&&(r+="font-family:"+this._fontFamily+";"),r.length>0&&n.setAttribute("style",r)}return n},s.prototype._applyStyle=function(t,e){if(e)for(var n in e)"fill"===n||"stroke"===n?this._applyColor(t,n,e[n]):t.setAttribute(this._deCase(n),e[n])},s.prototype._deCase=function(t){return t.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()})},s.prototype._getClass=function(t){var e;if(t)for(var n=t;n&&!(e=n.getAttribute("class"));n=n.parentNode);return e},s.prototype._getBBox=function(t){if(!s._isff)return t.getBBox();try{return t.getBBox()}catch{return{x:0,y:0,width:0,height:0}}},s.prototype._applyColor=function(t,e,n){var i=Ps.tryParse(n);if(null!=i){if(!(0,u.isString)(i)){if(null==this._savedGradient[n]){var r,o="gc"+(1e6*Math.random()).toFixed();null!=i.x1?(r=document.createElementNS(s.svgNS,"linearGradient"),["x1","y1","x2","y2","gradientUnits"].forEach(function(a){null!=i[a]&&r.setAttribute(a,i[a])})):null!=i.r&&(r=document.createElementNS(s.svgNS,"radialGradient"),["cx","cy","r","fx","fy","fr","gradientUnits"].forEach(function(a){null!=i[a]&&r.setAttribute(a,i[a])})),i.colors&&i.colors&&i.colors.length>0&&i.colors.forEach(function(a){var d=document.createElementNS(s.svgNS,"stop");null!=a.color&&d.setAttribute("stop-color",a.color),null!=a.offset&&d.setAttribute("offset",a.offset),null!=a.opacity&&d.setAttribute("stop-opacity",a.opacity),r.appendChild(d)}),r.setAttribute("id",o),this._defs.appendChild(r),this._savedGradient[n]=o}i="url("+this._baseUrl+"#"+this._savedGradient[n]+")"}this.cssPriority?t.setAttribute(e,i):this._addInlineStyle(t,e,i)}},s.prototype._addInlineStyle=function(t,e,n){var i=t.getAttribute("style");t.setAttribute("style",i?i+e+":"+n+";":e+":"+n+";")},s.prototype._setAttribute=function(t,e,n){this.cssPriority?t.setAttribute(e,n):this._addInlineStyle(t,e,n)},s.prototype._checkRtl=function(){return this._element&&(0,u.hasClass)(this._element,"wj-rtl")},s.svgNS="http://www.w3.org/2000/svg",s.xlinkNS="http://www.w3.org/1999/xlink",s}(),Ps=function(){function s(){}return s.tryParse=function(t){if(s.parsedColor[t])return s.parsedColor[t];if(null==t||-1===t.indexOf("-")||-1!==t.indexOf("var("))return t;var e,n=t.replace(/\s+/g,"").split(/\-/g),i=n[0][0],r=!1,o=n[0].match(/\(\S+\)/);if(!o||0==o.length)return t;var a=o[0].replace(/[\(\\)]/g,"").split(/\,/g);"l"===i||"L"===i?(e={x1:"0",y1:"0",x2:"0",y2:"0",colors:[]},"l"===i&&(r=!0),["x1","y1","x2","y2"].forEach(function(p,v){null!=a[v]&&(e[p]=r?100*+a[v]+"%":a[v]+"")})):("r"===i||"R"===i)&&(e={cx:"0",cy:"0",r:"0",colors:[]},"r"===i&&(r=!0),["cx","cy","r","fx","fy","fr"].forEach(function(p,v){null!=a[v]&&""!==a[v]&&(e[p]=r?100*+a[v]+"%":a[v]+"")})),r||(e.gradientUnits="userSpaceOnUse"),s.parsedColor[t]=e;var d=n.length-1;return n.forEach(function(p,v){p.indexOf(")")>-1&&(p=p.match(/\)\S+/)[0].replace(")",""));var M=p.split(":"),T={color:"black"};null!=M[0]&&(T.color=M[0]),T.offset=null!=M[1]?r?100*+M[1]+"%":M[1]+"":v/d*100+"%",null!=M[2]&&(T.opacity=M[2]),e.colors.push(T)}),e},s.parsedColor={},s}(),po=function(s){function t(){return null!==s&&s.apply(this,arguments)||this}return ur(t,s),t}(Co),ms=function(){function s(t){this._position=Nn.Right,this._title="",this._titleAlign="left",this._titlePadding=5,this._areas=new Array,this._sz=new u.Size,this._colRowLens=[],this._orient=Ao.Auto,this._scrollbar=!1,this._chart=t}return Object.defineProperty(s.prototype,"position",{get:function(){return this._position},set:function(t){(t=(0,u.asEnum)(t,Nn))!=this._position&&(this._position=t,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"title",{get:function(){return this._title},set:function(t){t!=this._title&&(this._title=(0,u.asString)(t,!1),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"titleAlign",{get:function(){return this._titleAlign},set:function(t){if(t!=this._titleAlign){var e=(0,u.asString)(t,!1);this._titleAlign="right"===e?"right":"center"===e?"center":"left",this._invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"orientation",{get:function(){return this._orient},set:function(t){(t=(0,u.asEnum)(t,Ao))!=this._orient&&(this._orient=t,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"maxSize",{get:function(){return this._maxSz},set:function(t){if(t!=this._maxSz){if((0,u.isNumber)(t))this._maxSz=t;else if((0,u.isString)(t)){var e=(0,u.asString)(t);(0,u.assert)(Nr._endsWith(e,"px")||Nr._endsWith(e,"%"),"number with unit (px or %) expected."),this._maxSz=e}else t&&(0,u.assert)(!1,"number or string expected.");this._invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"scrollbar",{get:function(){return this._scrollbar},set:function(t){t!=this._scrollbar&&(this._scrollbar=(0,u.asBoolean)(t,!1),this._invalidate())},enumerable:!0,configurable:!0}),s.prototype._getDesiredSize=function(t,e,n,i){if(e==Nn.None)return null;var r=this.orientation==Ao.Auto?e==Nn.Right||e==Nn.Left:this.orientation==Ao.Vertical,o=this._chart._getDesiredLegendSize(t,r,n,i);if(null!=o){if(this.title.length>0){var a=t.measureString(this.title,"wj-title","wj-legend");o.height+=a.height+this._titlePadding,a.width>o.width&&(o.width=a.width)}this._sz=o.clone(),this.scrollbar&&o.height>i&&(r&&(o.width+=18),o.height=i)}return o},s.prototype._getPosition=function(t,e){return this.position==Nn.Auto?t>=e?Nn.Right:Nn.Bottom:this.position},s.prototype._render=function(t,e,n,i,r){this._areas=[];var o=this.orientation==Ao.Auto?n==Nn.Right||n==Nn.Left:this.orientation==Ao.Vertical;if(t.fill="transparent",t.stroke=null,t.drawRect(e.x,e.y,i,r),this.title.length){var a=e.clone(),d=t.measureString(this.title,"wj-title`");a.y+=d.height,"right"===this.titleAlign?a.x=e.x+i-d.width:"center"===this.titleAlign&&(a.x=e.x+.5*(i-d.width)),t.drawString(this.title,a,"wj-title");var p=d.height+this._titlePadding;e.y+=p,r-=p}var v=!1;this.scrollbar&&this._sz.height>r&&(v=!0),this._chart._renderLegend(t,e,this._areas,o,v?i-18:i,r),v&&this._addScrollbar(t,e,i,r,this._sz.height)},s.prototype._hitTest=function(t){for(var e=this._areas,n=0;n<e.length;n++)if(e[n]&&Nr._contains(e[n],t))return n;return null},s.prototype._addScrollbar=function(t,e,n,i,r){t.endGroup();var o=t.element,a=o.children.item(o.children.length-1);a.removeAttribute("clip-path"),a.remove(),Array.from(a.querySelectorAll("text,rect")).forEach(function(M){M.setAttribute("x",(+M.getAttribute("x")-e.x).toFixed(2)),M.setAttribute("y",(+M.getAttribute("y")-e.y).toFixed(2))}),Array.from(a.querySelectorAll("ellipse")).forEach(function(M){M.setAttribute("cx",(+M.getAttribute("cx")-e.x).toFixed(2)),M.setAttribute("cy",(+M.getAttribute("cy")-e.y).toFixed(2))});var d=document.createElementNS("http://www.w3.org/2000/svg","foreignObject");d.setAttribute("x",e.x.toFixed(2)),d.setAttribute("y",e.y.toFixed(2)),d.setAttribute("width",n.toFixed(2)),d.setAttribute("height",i.toFixed(2));var p=document.createElement("div");p.setAttribute("style","height:100%;overflow-x:hidden;overflow-y:scroll;");var v=document.createElementNS("http://www.w3.org/2000/svg","svg");v.setAttribute("width",n.toFixed(2)),v.setAttribute("height",r.toFixed(2)),v.appendChild(a),p.appendChild(v),d.appendChild(p),o.appendChild(d)},s.prototype._invalidate=function(){this._chart&&this._chart.invalidate()},s.prototype._getMaxSize=function(t){var e=this.maxSize;if((0,u.isNumber)(e)){if((i=(0,u.asNumber)(e,!0))>0)return Math.min(i,t)}else{var n=(0,u.asString)(e,!0);if(n)if(Nr._endsWith(n,"px")){if((i=parseFloat(n.replace("px","")))>0)return Math.min(i,t)}else if(Nr._endsWith(n,"%")){var i;if((i=parseFloat(n.replace("%","")))>0)return t*Math.min(i,100)/100}}return.5*t},s}(),_s=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e},Oo=function(s){function t(e){var n=s.call(this)||this;return n._engine=e,n}return ur(t,s),Object.defineProperty(t.prototype,"engine",{get:function(){return this._engine},enumerable:!0,configurable:!0}),t}(u.CancelEventArgs),Is=function(s){function t(e,n,i){var r=s.call(this,e)||this;return r._index=n,r._count=i,r}return ur(t,s),Object.defineProperty(t.prototype,"index",{get:function(){return this._index},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"count",{get:function(){return this._count},enumerable:!0,configurable:!0}),t}(Oo);!function(s){s[s.Png=0]="Png",s[s.Jpeg=1]="Jpeg",s[s.Svg=2]="Svg"}(os||(os={})),function(s){s[s.None=0]="None",s[s.Series=1]="Series",s[s.Point=2]="Point"}(hr||(hr={})),function(s){s[s.None=0]="None",s[s.Left=1]="Left",s[s.Top=2]="Top",s[s.Right=3]="Right",s[s.Bottom=4]="Bottom",s[s.Auto=5]="Auto"}(Nn||(Nn={})),function(s){s[s.Auto=0]="Auto",s[s.Vertical=1]="Vertical",s[s.Horizontal=2]="Horizontal"}(Ao||(Ao={}));var sr,Do,Nr=function(s){function t(){var e=null!==s&&s.apply(this,arguments)||this;return e._palette=null,e._selectionMode=hr.None,e._defPalette=no.standard,e._notifyCurrentChanged=!0,e._legendHost=null,e._needBind=!1,e._skipLightClr=!1,e.rendering=new u.Event,e.rendered=new u.Event,e.itemsSourceChanging=new u.Event,e.itemsSourceChanged=new u.Event,e.selectionChanged=new u.Event,e}return ur(t,s),Object.defineProperty(t.prototype,"itemsSource",{get:function(){return this._items},set:function(e){if(this._items!=e){var n=new u.CancelEventArgs;if(!this.onItemsSourceChanging(n))return;this._cv&&(this._cv.currentChanged.removeHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.removeHandler(this._cvCollectionChanged,this),this._cv=null),this._items=e,this._cv=(0,u.asCollectionView)(e),null!=this._cv&&(this._cv.currentChanged.addHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.addHandler(this._cvCollectionChanged,this)),this._clearCachedValues(),this.onItemsSourceChanged(n),this._bindChart()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"collectionView",{get:function(){return this._cv},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"palette",{get:function(){return this._palette},set:function(e){e!=this._palette&&(this._palette=(0,u.asArray)(e),this._skipLightClr=no._isExtended(this._palette),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"plotMargin",{get:function(){return this._plotMargin},set:function(e){e!=this._plotMargin&&(this._plotMargin=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"legend",{get:function(){return this._legend},set:function(e){e!=this._legend&&(this._legend=(0,u.asType)(e,ms),null!=this._legend&&(this._legend._chart=this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"header",{get:function(){return this._header},set:function(e){e!=this._header&&(this._header=(0,u.asString)(e,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"footer",{get:function(){return this._footer},set:function(e){e!=this._footer&&(this._footer=(0,u.asString)(e,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"headerStyle",{get:function(){return this._headerStyle},set:function(e){e!=this._headerStyle&&(this._headerStyle=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"footerStyle",{get:function(){return this._footerStyle},set:function(e){e!=this._footerStyle&&(this._footerStyle=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectionMode",{get:function(){return this._selectionMode},set:function(e){(e=(0,u.asEnum)(e,hr))!=this._selectionMode&&(this._selectionMode=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemFormatter",{get:function(){return this._itemFormatter},set:function(e){e!=this._itemFormatter&&(this._itemFormatter=(0,u.asFunction)(e),this.invalidate())},enumerable:!0,configurable:!0}),t.prototype.onRendering=function(e){this.rendering.raise(this,e)},t.prototype.onRendered=function(e){this.rendered.raise(this,e)},t.prototype.onItemsSourceChanging=function(e){return this.itemsSourceChanging.raise(this,e),!e.cancel},t.prototype.onItemsSourceChanged=function(e){this.itemsSourceChanged.raise(this,e)},t.prototype.saveImageToFile=function(e){var n,i,r,o;e&&0!==e.length&&-1!==e.indexOf(".")||(e="image.png"),o=e.split("."),n=o[0],i=o[1].toLowerCase(),r=os[i[0].toUpperCase()+i.substring(1)],this.saveImageToDataUrl(r,function(a){As.downloadImage(a,n,i)})},t.prototype.saveImageToDataUrl=function(e,n){var i=(0,u.asEnum)(e,os,!1),r=os[i].toLowerCase();r&&r.length&&this._exportToImage(r,function(o){n.call(n,o)})},t.prototype.saveSvgToDataUrl=function(e,n){void 0===n&&(n=!0),this._exportToImage("svg",function(i){e.call(e,i)},{embedCss:n})},t.prototype.saveSvgToFile=function(e,n){void 0===n&&(n=!0),this.saveSvgToDataUrl(function(i){As.downloadImage(i,e,"svg")},n)},t.prototype._exportToImage=function(e,n,i){var r=this;void 0===i&&(i=null);var o,a=new Image,d=this._currentRenderEngine.element;o=i&&!1===i.embedCss?As.getDataUri2(d,this):As.getDataUri(d,this),"svg"===e?n.call(null,o):(a.onload=function(){var p,v=document.createElement("canvas"),M=d.parentNode||d,T=(0,u.getElementRect)(M);v.width=T.width,v.height=T.height;var k=v.getContext("2d"),L=r._bgColor(r.hostElement);r._isTransparent(L)&&(L="#ffffff"),k.fillStyle=L,k.fillRect(0,0,T.width,T.height);var Y=window.getComputedStyle(M,null).getPropertyValue("padding-left").replace("px",""),ce=window.getComputedStyle(M,null).getPropertyValue("padding-top").replace("px","");k.drawImage(a,+Y||0,+ce||0),p=v.toDataURL("image/"+e),n.call(null,p),v=null},a.src=o)},t.prototype.refresh=function(e){void 0===e&&(e=!0),s.prototype.refresh.call(this,e),this.isUpdating||this._refreshChart()},t.prototype.onSelectionChanged=function(e){this.selectionChanged.raise(this,e)},t.prototype.onLostFocus=function(e){this._tooltip&&this._tooltip.isVisible&&!this.isTouching&&this._tooltip.hide(),s.prototype.onLostFocus.call(this,e)},t.prototype._cvCollectionChanged=function(e,n){this._clearCachedValues(),this._bindChart()},t.prototype._cvCurrentChanged=function(e,n){this._notifyCurrentChanged&&this._bindChart()},t.prototype._bgColor=function(e){if(!e)return"transparent";var n=getComputedStyle(e).backgroundColor;return this._isTransparent(n)?this._bgColor(e.parentElement):n},t.prototype._isTransparent=function(e){var n=new u.Color(e);return 0==n.a&&0==n.b&&0==n.g&&0==n.r},t.prototype._getColor=function(e){var n=this._defPalette;return null!=this._palette&&this._palette.length>0&&(n=this._palette),n[e%n.length]},t.prototype._getColorLight=function(e){var n=this._getColor(e);return this._skipLightClr||(n=this._getLightColor(n)),n},t.prototype._getLightColor=function(e){var n=new u.Color(e);return null!=n&&-1===e.indexOf("-")&&(1==n.a&&-1==e.indexOf("rgba")&&-1==e.indexOf("hsla")&&(n.a*=.7),e=n.toString()),e},t.prototype._bindChart=function(){this._needBind=!0,this.invalidate()},t.prototype._clearCachedValues=function(){},t.prototype._renderEls=function(e,n,i,r,o){void 0===i&&(i=!0),void 0===r&&(r=null),void 0===o&&(o=!1);var a=n.width,d=n.height;if(0!=a){(isNaN(a)||a<0)&&(a=t._WIDTH),(d<=0||isNaN(d))&&(d=t._HEIGHT);var p=a>0&&d>0;if(p&&e.setViewportSize(a,d),e.beginRender(),e.cssPriority=!0,p){if(this._rectChart=new u.Rect(0,0,a,d),this._prepareRender(),r){var v=e.stroke,M=e.fill;e.fill=r,e.stroke=null,e.drawRect(0,0,a,d),e.fill=M,e.stroke=v}var T=new u.Rect(0,0,a,d);this._chartRectId="chartRect"+(1e6*Math.random()).toFixed(),e.addClipRect(T,this._chartRectId),this._renderHeader(e,T),this._renderFooter(e,T),this._renderLegends(e,T),this._renderChart(e,T,i)}e.endRender()}},t.prototype._render=function(e,n,i){void 0===n&&(n=!0),void 0===i&&(i=null);var r=this._getHostSize();if(this._h){var o=r.height-this._h;o>=4&&o<=6&&!1!==this._isPCUnit("height")&&(r.height=this._h)}this._h=r.height,this._renderEls(e,r,n,i)},t.prototype._isPCUnit=function(e){var n=null,i=this.hostElement;if(i&&i.computedStyleMap){var r=i.computedStyleMap();if(r){var o=r.get(e);o&&(n="percent"==o.unit)}}return n},t.prototype._renderHidden=function(e,n){void 0===e&&(e=null),void 0===n&&(n=null);var i=document.createElement("div");(0,u.addClass)(i,this.hostElement.getAttribute("class")||""),i.style.visibility="hidden";var r=new Co(i);if(document.body.appendChild(i),!e){var o=this._getHostComputedStyle(),a=0,d=0;o&&(a=this._parsePx(o.width),d=this._parsePx(o.height),0==a&&(a=t._WIDTH),0==d&&(d=t._HEIGHT),a-=this._parsePx(o.paddingLeft),a-=this._parsePx(o.paddingRight),d-=this._parsePx(o.paddingTop),d-=this._parsePx(o.paddingBottom),a-=this._parsePx(o.borderLeftWidth),a-=this._parsePx(o.borderRightWidth),d-=this._parsePx(o.borderTopWidth),d-=this._parsePx(o.borderBottomWidth)),0==a&&(a=t._WIDTH),0==d&&(d=t._HEIGHT),e=new u.Size(a,d)}return this._renderEls(r,e,!0,n,!0),(0,u.removeChild)(i),r.element},t.prototype._renderHeader=function(e,n){e.startGroup(t._CSS_HEADER,this._chartRectId),n=this._drawTitle(e,n,this.header,this.headerStyle,!1),e.endGroup()},t.prototype._renderFooter=function(e,n){e.startGroup(t._CSS_FOOTER,this._chartRectId),n=this._drawTitle(e,n,this.footer,this.footerStyle,!0),e.endGroup()},t.prototype._renderLegends=function(e,n){var i,r,o=this.legend,a=n.width,d=n.height,p=o._getPosition(a,d),v=a,M=d;if(p==Nn.Left||p==Nn.Right?v=this._getLegendSize(a,v):M=this._getLegendSize(d,M),i=o._getDesiredSize(e,p,v,M)){switch(p==Nn.Left||p==Nn.Right?i.width=this._getLegendSize(a,i.width):i.height=this._getLegendSize(d,i.height),i.height>n.height&&(i.height=n.height),p){case Nn.Right:r=new u.Point(a-=i.width,n.top+.5*(d-i.height));break;case Nn.Left:n.left+=i.width,a-=i.width,r=new u.Point(0,n.top+.5*(d-i.height));break;case Nn.Top:d-=i.height,r=new u.Point(.5*(a-i.width),n.top),n.top+=i.height;break;case Nn.Bottom:r=new u.Point(.5*(a-i.width),n.top+(d-=i.height))}n.width=a,n.height=d,this._rectLegend=new u.Rect(r.x,r.y,i.width,i.height);var T="legRect"+(1e6*Math.random()).toFixed();e.addClipRect(this._rectLegend,T),this._legendHost=e.startGroup(t._CSS_LEGEND,T),this.legend._render(e,r,p,i.width,i.height),e.endGroup()}else this._legendHost=null,this._rectLegend=null},t.prototype._prepareRender=function(){},t.prototype._renderChart=function(e,n,i){},t.prototype._performBind=function(){},t.prototype._getDesiredLegendSize=function(e,n,i,r){return null},t.prototype._renderLegend=function(e,n,i,r,o,a){},t.prototype._getHitTestItem=function(e){return null},t.prototype._getHitTestValue=function(e,n){return null},t.prototype._getHitTestLabel=function(e){return null},t.prototype._refreshChart=function(){this._needBind&&(this._needBind=!1,this._performBind()),this.hostElement&&this._render(this._currentRenderEngine)},t.prototype._drawTitle=function(e,n,i,r,o){var a=t._CSS_TITLE,d=o?t._CSS_FOOTER:t._CSS_HEADER,p=null;if(o?this._rectFooter=null:this._rectHeader=null,null!=i){var v=null,M=null,T=null,k=null;r&&(r.fontSize&&(v=r.fontSize),r.foreground&&(M=r.foreground),r.fill&&(M=r.fill),r.fontFamily&&(T=r.fontFamily),r.halign&&(k=r.halign)),e.fontSize=v,e.fontFamily=T,p=e.measureString(i,a,d,r),n.height-=p.height,M||(M=t._FG),e.textFill=M,o?("left"==k?t._renderText(e,i,new u.Point(n.left,n.bottom),0,0,a,d,r):"right"==k?t._renderText(e,i,new u.Point(n.left+n.width,n.bottom),2,0,a,d,r):t._renderText(e,i,new u.Point(n.left+.5*n.width,n.bottom),1,0,a,d,r),this._rectFooter=new u.Rect(n.left,n.bottom,n.width,p.height)):(this._rectHeader=new u.Rect(n.left,n.top,n.width,p.height),n.top+=p.height,"left"==k?t._renderText(e,i,new u.Point(n.left,0),0,0,a,d,r):"right"==k?t._renderText(e,i,new u.Point(n.left+n.width,0),2,0,a,d,r):t._renderText(e,i,new u.Point(n.left+.5*n.width,0),1,0,a,d,r)),e.textFill=null,e.fontSize=null,e.fontFamily=null}return n},t.prototype.pageToControl=function(e,n){return this._toControl(e,n)},t.prototype._toControl=function(e,n){(0,u.isNumber)(e)&&(0,u.isNumber)(n)?e=new u.Point(e,n):e instanceof MouseEvent&&(e=(0,u.mouseToPage)(e)),(0,u.asType)(e,u.Point);var i=e.clone(),r=this._getHostOffset();i.x-=r.x,i.y-=r.y;var o=this._currentRenderEngine?this._currentRenderEngine.element:null;if(null!=o){var a=o.getBoundingClientRect(),d=parseFloat(o.getAttribute("width")),p=parseFloat(o.getAttribute("height"));a.width!=d&&(i.x*=d/a.width),a.height!=p&&(i.y*=p/a.height)}var v=this._getHostComputedStyle();if(v){var M=parseInt(v.paddingLeft.replace("px",""));M&&!isNaN(M)&&(i.x-=M);var T=parseInt(v.paddingTop.replace("px",""));T&&!isNaN(T)&&(i.y-=T)}return i},t.prototype._highlightItems=function(e,n,i){if(i)for(var r=0;r<e.length;r++)(0,u.addClass)(e[r],n);else for(r=0;r<e.length;r++)(0,u.removeClass)(e[r],n)},t.prototype._parseMargin=function(e){var n={};if((0,u.isNumber)(e)&&!isNaN(e))n.top=n.bottom=n.left=n.right=(0,u.asNumber)(e);else if((0,u.isString)(e)){var i=(0,u.asString)(e).split(" ",4),r=NaN,o=NaN,a=NaN,d=NaN;i&&(4==i.length?(r=parseFloat(i[0]),d=parseFloat(i[1]),o=parseFloat(i[2]),a=parseFloat(i[3])):2==i.length?(r=o=parseFloat(i[0]),a=d=parseFloat(i[1])):1==i.length&&(r=o=a=d=parseFloat(i[1])),isNaN(r)||(n.top=r),isNaN(o)||(n.bottom=o),isNaN(a)||(n.left=a),isNaN(d)||(n.right=d))}return n},t.prototype._showToolTip=function(e,n){var i=this,r=this._tooltip.showDelay;i._clearTimeouts(),i.isDisabled||(e||i._tooltip.hide(),r>0?i._toShow=setTimeout(function(){i._tooltip.show(i.hostElement,e,n),i._tooltip.hideDelay>0&&(i._toHide=setTimeout(function(){i._tooltip.hide()},i._tooltip.hideDelay))},r):(i._tooltip.show(i.hostElement,e,n),i._tooltip.hideDelay>0&&(i._toHide=setTimeout(function(){i._tooltip.hide()},i._tooltip.hideDelay))))},t.prototype._hideToolTip=function(){this._clearTimeouts(),this._tooltip.hide()},t.prototype._clearTimeouts=function(){this._toShow&&(clearTimeout(this._toShow),this._toShow=null),this._toHide&&(clearTimeout(this._toHide),this._toHide=null)},t.prototype._getHostOffset=function(){var e=(0,u.getElementRect)(this.hostElement);return new u.Point(e.left,e.top)},t.prototype._getHostSize=function(){var e=new u.Size,n=this.hostElement,i=this._getHostComputedStyle(),r=n.offsetWidth,o=n.offsetHeight;return i&&(r-=this._parsePx(i.paddingLeft),r-=this._parsePx(i.paddingRight),o-=this._parsePx(i.paddingTop),o-=this._parsePx(i.paddingBottom),r-=this._parsePx(i.borderLeftWidth),r-=this._parsePx(i.borderRightWidth),o-=this._parsePx(i.borderTopWidth),o-=this._parsePx(i.borderBottomWidth),e.width=r,e.height=o),e},t.prototype._parsePx=function(e){var n=parseFloat(e.replace("px",""));return isNaN(n)?0:n},t.prototype._getHostComputedStyle=function(){var e=this.hostElement;return e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(this.hostElement):null},t.prototype._find=function(e,n){for(var i=[],r=0;r<e.childElementCount;r++){var o=e.childNodes.item(r);if(n.indexOf(o.nodeName)>=0)i.push(o);else{var a=this._find(o,n);if(a.length>0)for(var d=0;d<a.length;d++)i.push(a[d])}}return i},t.prototype._getLegendSize=function(e,n){return Math.min(n,this.legend._getMaxSize(e))},t._contains=function(e,n){return!(!e||!n)&&n.x>=e.left&&n.x<=e.right&&n.y>=e.top&&n.y<=e.bottom},t._intersects=function(e,n){return!(e.left>n.right||e.right<n.left||e.top>n.bottom||e.bottom<n.top)},t._toOADate=function(e){return e.valueOf()},t._fromOADate=function(e){return new Date(e)},t._renderText=function(e,n,i,r,o,a,d,p,v){var M=e.measureString(n,a,d,p),T=i.x,k=i.y;switch(r){case 1:T-=.5*M.width;break;case 2:T-=M.width}switch(o){case 1:k+=.5*M.height;break;case 0:k+=M.height}var L=new u.Rect(T,k-M.height,M.width,M.height);return v?v(L)?(e.drawString(n,new u.Point(T,k),a,p),L):null:(e.drawString(n,new u.Point(T,k),a,p),L)},t._renderRotatedText=function(e,n,i,r,o,a,d,p,v,M){var T=e.measureString(n,p,v,M),k=i.x,L=i.y;switch(r){case 1:k-=.5*T.width;break;case 2:k-=T.width}switch(o){case 1:L+=.5*T.height;break;case 0:L+=T.height}return e.drawStringRotated(n,new u.Point(k,L),a,d,p,M)},t._endsWith=function(e,n){if(e&&n){var i=e.length-n.length;return i>=0&&e.indexOf(n,i)===i}return!1},t._WIDTH=300,t._HEIGHT=200,t._SELECTION_THRESHOLD=15,t._CSS_LEGEND="wj-legend",t._CSS_HEADER="wj-header",t._CSS_FOOTER="wj-footer",t._CSS_TITLE="wj-title",t._CSS_LABEL="wj-label",t._CSS_SELECTION="wj-state-selected",t._CSS_PLOT_AREA="wj-plot-area",t._FG="#666",t._epoch=new Date(1899,11,30).getTime(),t._msPerDay=864e5,t}(u.Control),sa=function(){function s(){this._keys={},this._keys.seriesName=null,this._keys.pointIndex=null,this._keys.x=null,this._keys.y=null,this._keys.value=null,this._keys.name=null}return s.prototype.replace=function(t,e){var n=this;return(0,u.format)(t,{},function(i,r,o,a){return n.getValue(r,e,o)})},s.prototype.getValue=function(t,e,n){switch(t){case"seriesName":return e.series?e.series.name:"";case"pointIndex":return null!=e.pointIndex?e.pointIndex.toFixed():"";case"x":return n?u.Globalize.format(e.x,n):e._xfmt;case"y":return n?u.Globalize.format(e.y,n):e._yfmt;case"value":return n?u.Globalize.format(e.value,n):e._getValueFmt();case"name":return e.name}if(e.item){0==t.indexOf("item.")&&(t=t.substr(5));var i=e.item[t];if(!(0,u.isUndefined)(i))return n?u.Globalize.format(i,n):i}return""},s}(),As=function(){function s(){}return s.downloadImage=function(t,e,n){var i=document.createElement("a"),r="image/"+n;if(navigator.msSaveOrOpenBlob){t=t.substring(t.indexOf(",")+1);var o,a,d,p=atob(t),v=[];for(o=0;o<p.length;o+=512){a=p.slice(o,o+512);for(var M=new Array(a.length),T=0;T<a.length;T++)M[T]=a.charCodeAt(T);var k=new Uint8Array(M);v.push(k)}d=new Blob(v,{type:r}),navigator.msSaveOrOpenBlob(d,e+"."+n)}else i.download=e+"."+n,i.href=t,document.body.appendChild(i),i.addEventListener("click",function(L){(0,u.removeChild)(i)}),i.click()},s.getDataUri=function(t,e){var n,i,r,o,a,d,p,v,M,T,k=document.createElement("div"),L=t.cloneNode(!0),Y=!1;if("svg"==t.tagName?(i=(n=(0,u.getElementRect)(t.parentNode||t)).width||0,r=n.height||0,0==i&&(Y=!0),o=t.viewBox.baseVal&&0!==t.viewBox.baseVal.width?t.viewBox.baseVal.width:i,a=t.viewBox.baseVal&&0!==t.viewBox.baseVal.height?t.viewBox.baseVal.height:r):(i=(d=t.getBBox()).x+d.width,r=d.y+d.height,L.setAttribute("transform",L.getAttribute("transform").replace(/translate\(.*?\)/,"")),o=i,a=r,(v=document.createElementNS("http://www.w3.org/2000/svg","svg")).appendChild(L),L=v),Y){var ce=e._renderHidden(),ae=e._getHostComputedStyle(),Ee=0,Me=0;ae&&(Ee=e._parsePx(ae.width),Me=e._parsePx(ae.height)),0==Ee&&(Ee=Nr._WIDTH),0==Me&&(Me=Nr._HEIGHT),o=i=Ee,a=r=Me,L=ce.cloneNode(!0)}L.setAttribute("version","1.1"),L.setAttributeNS(s.xmlns,"xmlns","http://www.w3.org/2000/svg"),L.setAttributeNS(s.xmlns,"xmlns:xlink","http://www.w3.org/1999/xlink"),L.setAttribute("width",i),L.setAttribute("height",r),L.setAttribute("viewBox","0 0 "+o+" "+a),(0,u.addClass)(L,t.parentNode&&t.parentNode.getAttribute("class")||""),k.appendChild(L),p=s.getStyles(t),p+=".wj-flexchart{margin:0px;padding:0px;border:none;width:"+i+"px;height:"+r+"px;}\n",(M=document.createElement("style")).setAttribute("type","text/css"),M.innerHTML="<![CDATA[\n"+p+"\n]]>",(T=document.createElementNS("http://www.w3.org/2000/svg","defs")).appendChild(M),L.insertBefore(T,L.firstChild),(0,u.isIE)()||L.querySelectorAll("foreignObject").forEach(function(xt){L.removeChild(xt)});var ze=e._currentRenderEngine.canvas;if(ze){var st=document.createElementNS("http://www.w3.org/2000/svg","image");st.setAttribute("width",ze.width),st.setAttribute("height",ze.height),st.setAttribute("href",ze.toDataURL()),L.insertBefore(st,L.firstChild),e.invalidate()}return"data:image/svg+xml;base64,"+window.btoa(window.unescape(encodeURIComponent(s.doctype+k.innerHTML)))},s.getDataUri2=function(t,e){var n,i,r,o,a,d,p,v=document.createElement("div"),M=this.cloneWithComputedStyles(t),T=!1;if("svg"==t.tagName?(i=(n=(0,u.getElementRect)(t.parentNode||t)).width||0,r=n.height||0,0==i&&(T=!0),o=t.viewBox.baseVal&&0!==t.viewBox.baseVal.width?t.viewBox.baseVal.width:i,a=t.viewBox.baseVal&&0!==t.viewBox.baseVal.height?t.viewBox.baseVal.height:r):(i=(d=t.getBBox()).x+d.width,r=d.y+d.height,M.setAttribute("transform",M.getAttribute("transform").replace(/translate\(.*?\)/,"")),o=i,a=r,(p=document.createElementNS("http://www.w3.org/2000/svg","svg")).appendChild(M),M=p),T){var k=e._renderHidden(),L=e._getHostComputedStyle(),Y=0,ce=0;L&&(Y=e._parsePx(L.width),ce=e._parsePx(L.height)),0==Y&&(Y=Nr._WIDTH),0==ce&&(ce=Nr._HEIGHT),o=i=Y,a=r=ce,M=this.cloneWithComputedStyles(k)}M.setAttribute("version","1.1"),M.setAttributeNS(s.xmlns,"xmlns","http://www.w3.org/2000/svg"),M.setAttributeNS(s.xmlns,"xmlns:xlink","http://www.w3.org/1999/xlink"),M.setAttribute("width",i),M.setAttribute("height",r),M.setAttribute("viewBox","0 0 "+o+" "+a),v.appendChild(M);var ae=e._currentRenderEngine.canvas;if(ae){var Ee=document.createElementNS("http://www.w3.org/2000/svg","image");Ee.setAttribute("width",ae.width),Ee.setAttribute("height",ae.height),Ee.setAttribute("href",ae.toDataURL()),M.insertBefore(Ee,M.firstChild),e.invalidate()}return"data:image/svg+xml;base64,"+window.btoa(window.unescape(encodeURIComponent(s.doctype+v.innerHTML)))},s.computeAttributes=function(t,e,n){var i=getComputedStyle(t);n.forEach(function(r){var o=i.getPropertyValue(r);o&&o.length>0&&e.setAttribute(r,o)})},s.cloneWithComputedStyles=function(t){var e=this,n=t.cloneNode();return Array.from(t.childNodes).forEach(function(i){var r=e.cloneWithComputedStyles(i);1===i.nodeType&&("text"===i.nodeName?e.computeAttributes(i,r,e.textAttrs):"line"===i.nodeName&&e.computeAttributes(i,r,e.lineAttrs)),n.appendChild(r)}),n},s.getStyles=function(t){var e="",n=document.styleSheets;if(null==n||0===n.length)return null;[].forEach.call(n,function(o){try{if(null==o.cssRules||0===o.cssRules.length)return!0}catch(d){if("SecurityError"==d.name)return console.log("SecurityError. Can't read: "+o.href),!0}[].forEach.call(o.cssRules,function(d){var p,v=d.style;if(null==v)return!0;var M=d.selectorText;if((0,u.isIE)()&&M){var T=M.match(/\[(.*?)\]/g);T&&T.forEach(function(k){return M=M.replace(k,k.replace(":","\\:"))})}try{p=".wj-flexchart"==M||t.querySelector(M)}catch(k){console.warn('Invalid CSS selector "'+d.selectorText+'"',k)}p?e+=d.selectorText+" { "+v.cssText+" }\n":d.cssText.match(/^@font-face/)&&(e+=d.cssText+"\n")})});var i=getComputedStyle(t),r=i?i.getPropertyValue("font"):null;return r&&(e+=".wj-flexchart{font:"+r+"}\n"),e},s.doctype='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">',s.xmlns="http://www.w3.org/2000/xmlns/",s.textAttrs=["font-family","font-size","font-style","font-weight","fill"],s.lineAttrs=["stroke","stroke-width","stroke-dasharray"],s}(),vs=function(s){function t(){var e=s.call(this)||this;return e._content="<b>{seriesName}</b><br/>{x} {y}",e._threshold=15,e}return ur(t,s),Object.defineProperty(t.prototype,"content",{get:function(){return this._content},set:function(e){e!=this._content&&(this._content=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"threshold",{get:function(){return this._threshold},set:function(e){e!=this._threshold&&(this._threshold=(0,u.asNumber)(e))},enumerable:!0,configurable:!0}),t.prototype.show=function(e,n,i){s.prototype.show.call(this,e,n,i);var r=t._eTip;r&&r.style&&(r.style.pointerEvents="none")},t}(u.Tooltip);!function(s){s[s.None=0]="None",s[s.Left=1]="Left",s[s.Top=2]="Top",s[s.Right=3]="Right",s[s.Bottom=4]="Bottom",s[s.Center=5]="Center"}(sr||(sr={})),function(s){s[s.None=0]="None",s[s.Inside=1]="Inside",s[s.Center=2]="Center",s[s.Outside=3]="Outside",s[s.Radial=4]="Radial",s[s.Circular=5]="Circular"}(Do||(Do={}));var Di,ro,Ar,co=function(s){function t(e,n,i,r){var o=s.call(this,e)||this;return o.cancel=!1,o._ht=n,o._pt=i,o._text=r,o}return ur(t,s),Object.defineProperty(t.prototype,"point",{get:function(){return this._pt},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(e){this._text=(0,u.asString)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hitTestInfo",{get:function(){return this._ht},enumerable:!0,configurable:!0}),t}(Oo),go=function(){function s(){this.rendering=new u.Event}return Object.defineProperty(s.prototype,"content",{get:function(){return this._content},set:function(t){t!=this._content&&(this._content=t,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"border",{get:function(){return this._bdr},set:function(t){t!=this._bdr&&(this._bdr=(0,u.asBoolean)(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"offset",{get:function(){return this._off},set:function(t){t!=this._off&&(this._off=(0,u.asNumber)(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"connectingLine",{get:function(){return this._line},set:function(t){t!=this._line&&(this._line=(0,u.asBoolean)(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),s.prototype.onRendering=function(t){return this.rendering.raise(this,t),!t.cancel},s.prototype._invalidate=function(){this._chart&&this._chart.invalidate()},s}(),Fs=function(s){function t(){var e=null!==s&&s.apply(this,arguments)||this;return e._pos=sr.Top,e}return ur(t,s),Object.defineProperty(t.prototype,"position",{get:function(){return this._pos},set:function(e){(e=(0,u.asEnum)(e,sr))!=this._pos&&(this._pos=e,this._invalidate())},enumerable:!0,configurable:!0}),t}(go),uo=function(s){function t(){var e=null!==s&&s.apply(this,arguments)||this;return e._pos=Do.Center,e}return ur(t,s),Object.defineProperty(t.prototype,"position",{get:function(){return this._pos},set:function(e){(e=(0,u.asEnum)(e,Do))!=this._pos&&(this._pos=e,this._invalidate())},enumerable:!0,configurable:!0}),t}(go);!function(s){s[s.X=0]="X",s[s.Y=1]="Y"}(Di||(Di={})),function(s){s[s.Auto=0]="Auto",s[s.Show=1]="Show"}(ro||(ro={})),function(s){s[s.None=0]="None",s[s.Outside=1]="Outside",s[s.Inside=2]="Inside",s[s.Cross=3]="Cross"}(Ar||(Ar={}));var Qi,ys=function(){function s(t){this._GRIDLINE_WIDTH=1,this._LINE_WIDTH=1,this._TICK_WIDTH=1,this._TICK_HEIGHT=4,this._TICK_OVERLAP=1,this._TICK_LABEL_DISTANCE=4,this._minorGrid=!1,this._labels=!0,this._isTimeAxis=!1,this._labelPadding=5,this._actualLabels=[],this._labelMin=!1,this._labelMax=!1,this.rangeChanged=new u.Event,this._customConvert=null,this._customConvertBack=null,this.__uniqueId=s._id++,this._position=t,this._axisType=t==Nn.Bottom||t==Nn.Top?Di.X:Di.Y,this._minorTickMarks=Ar.None,this._overlap=ro.Auto}return Object.defineProperty(s.prototype,"hostElement",{get:function(){return this._hostElement},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"actualMin",{get:function(){return this._isTimeAxis?new Date(this._actualMin):this._actualMin},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"actualMax",{get:function(){return this._isTimeAxis?new Date(this._actualMax):this._actualMax},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"min",{get:function(){return this._min},set:function(t){t!=this._min&&(this._min=(0,u.isDate)(t)?(0,u.asDate)(t,!0):(0,u.asNumber)(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"max",{get:function(){return this._max},set:function(t){t!=this._max&&(this._max=(0,u.isDate)(t)?(0,u.asDate)(t,!0):(0,u.asNumber)(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"reversed",{get:function(){return this._reversed},set:function(t){this._reversed!=t&&(this._reversed=(0,u.asBoolean)(t),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"position",{get:function(){return this._position},set:function(t){(t=(0,u.asEnum)(t,Nn,!1))!=this._position&&(this._position=t,this._position==Nn.Bottom||this._position==Nn.Top?this._axisType=Di.X:this._position!=Nn.Left&&this._position!=Nn.Right||(this._axisType=Di.Y),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"majorUnit",{get:function(){return this._majorUnit},set:function(t){t!=this._majorUnit&&(this._majorUnit=(0,u.asNumber)(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"minorUnit",{get:function(){return this._minorUnit},set:function(t){t!=this._minorUnit&&(this._minorUnit=(0,u.asNumber)(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"name",{get:function(){return this._name},set:function(t){t!=this._name&&(this._name=(0,u.asString)(t,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"title",{get:function(){return this._title},set:function(t){t!=this._title&&(this._title=(0,u.asString)(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"format",{get:function(){return this._format},set:function(t){t!=this._format&&(this._format=(0,u.asString)(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"majorGrid",{get:function(){return this._majorGrid},set:function(t){t!=this._majorGrid&&(this._majorGrid=(0,u.asBoolean)(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"majorTickMarks",{get:function(){return this._majorTickMarks},set:function(t){(t=(0,u.asEnum)(t,Ar,!0))!=this._majorTickMarks&&(this._majorTickMarks=t,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"minorGrid",{get:function(){return this._minorGrid},set:function(t){t!=this._minorGrid&&(this._minorGrid=(0,u.asBoolean)(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"minorTickMarks",{get:function(){return this._minorTickMarks},set:function(t){(t=(0,u.asEnum)(t,Ar,!0))!=this._minorTickMarks&&(this._minorTickMarks=t,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"axisLine",{get:function(){return void 0===this._axisLine?this.axisType==Di.X:this._axisLine},set:function(t){t!=this._axisLine&&(this._axisLine=(0,u.asBoolean)(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"labels",{get:function(){return this._labels},set:function(t){t!=this._labels&&(this._labels=(0,u.asBoolean)(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"labelAlign",{get:function(){return this._labelAlign},set:function(t){t!=this._labelAlign&&(this._labelAlign=(0,u.asString)(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"labelAngle",{get:function(){return this._labelAngle},set:function(t){t!=this._labelAngle&&(this._labelAngle=(0,u.asNumber)(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"labelMin",{get:function(){return this._labelMin},set:function(t){t!=this._labelMin&&(this._labelMin=(0,u.asBoolean)(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"labelMax",{get:function(){return this._labelMax},set:function(t){t!=this._labelMax&&(this._labelMax=(0,u.asBoolean)(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"origin",{get:function(){return this._origin},set:function(t){t!=this._origin&&(this._origin=(0,u.asNumber)(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"overlappingLabels",{get:function(){return this._overlap},set:function(t){(t=(0,u.asEnum)(t,ro,!0))!=this._overlap&&(this._overlap=t,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"itemsSource",{get:function(){return this._items},set:function(t){this._items!=t&&(this._cv&&(this._cv.collectionChanged.removeHandler(this._cvCollectionChanged,this),this._cv=null),this._items=t,this._cv=(0,u.asCollectionView)(t),null!=this._cv&&this._cv.collectionChanged.addHandler(this._cvCollectionChanged,this))},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"binding",{get:function(){return this._binding},set:function(t){t!=this._binding&&(this._binding=(0,u.asString)(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"itemFormatter",{get:function(){return this._ifmt},set:function(t){this._ifmt!=t&&(this._ifmt=(0,u.asFunction)(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"logBase",{get:function(){return this._logBase},set:function(t){t!=this._logBase&&(this._logBase=(0,u.asNumber)(t,!0,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"axisLabels",{get:function(){return this._actualLabels},enumerable:!0,configurable:!0}),s.prototype._getLogBase=function(){return this._chart&&this._chart._stacking===Wr.Stacked100pc?0:this.logBase},s.prototype._isLogAxis=function(){var t=this._getLogBase();return null!=t&&t>0},Object.defineProperty(s.prototype,"plotArea",{get:function(){return this._parea},set:function(t){t!=this._parea&&(this._parea=(0,u.asType)(t,wo,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"labelPadding",{get:function(){return this._labelPadding},set:function(t){t!=this._labelPadding&&(this._labelPadding=(0,u.asNumber)(t,!0,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"_groupClass",{get:function(){return this.axisType===Di.X?Ai._CSS_AXIS_X:Ai._CSS_AXIS_Y},enumerable:!0,configurable:!0}),s.prototype.onRangeChanged=function(t){this.rangeChanged.raise(this,t)},s.prototype._getPosition=function(){if(this.axisType==Di.X){if(this.position==Nn.Auto)return Nn.Bottom}else if(this.axisType==Di.Y&&this.position==Nn.Auto)return Nn.Left;return this.position},s.prototype._isOverlapped=function(t,e,n,i){var r=this._lbls;if(null!=r&&r.length>1)for(var o=r.length,a=this._values&&this._values.length==o?this._values:null,d=0,p=0,v=0;v<o;v++){var M=a?a[v]:v;if(M>=this._actualMin&&M<=this._actualMax){var T=e*(M-this._actualMin)/(this._actualMax-this._actualMin),k=t.measureString(r[v],n,this._groupClass);if(this.axisType==Di.X){if(v>0&&Math.abs(T-d)<.5*(k.width+p))return!0;d=T,p=k.width}}}return!1},s.prototype._getHeight=function(t,e){this._actualAngle=null;var n=Ai._CSS_LABEL,i=Ai._CSS_TITLE,r=.1*(this._actualMax-this._actualMin),o=this._lbls,a=this.labelAngle;if(this.labels&&this._chart._getChartType()!==xi.Funnel){if(r=this._updateAutoFormat(r),null!=o&&o.length>0){var d=o.length,p=this._values&&this._values.length==d?this._values:null;this._annoSize=new u.Size;for(var v=0;v<d;v++)if((L=p?p[v]:v)>=this._actualMin&&L<=this._actualMax){var M=o[v],T=n;this.itemFormatter&&(M=(Y=this._getFormattedItem(t,L,M,new u.Point,n,!0)).text,T=Y.cls);var k=t.measureString(M,T,this._groupClass);k.width>this._annoSize.width&&(this._annoSize.width=k.width),k.height>this._annoSize.height&&(this._annoSize.height=k.height)}null==a&&this.axisType==Di.X&&(this._isOverlapped(t,Math.max(10,e-this._annoSize.width),n,this.axisType)?a=this._actualAngle=-45:this._actualAngle=0)}else{var Y,L=this._actualMin-r;M=this._formatValue(L),T=n,this.itemFormatter&&(M=(Y=this._getFormattedItem(t,L,M,new u.Point,n,!0)).text,T=n),k=t.measureString(M,T,this._groupClass),this._annoSize=k,M=this._formatValue(L=this._actualMax+r),T=n,this.itemFormatter&&(M=(Y=this._getFormattedItem(t,L,M,new u.Point,n,!0)).text,T=n),(k=t.measureString(M,T,this._groupClass)).width>this._annoSize.width&&(this._annoSize.width=k.width),k.height>this._annoSize.height&&(this._annoSize.height=k.height)}if(a){a>90?a=90:a<-90&&(a=-90);var ce=a*Math.PI/180,ae=this._annoSize.width,Ee=this._annoSize.height;this._annoSize.width=ae*Math.abs(Math.cos(ce))+Ee*Math.abs(Math.sin(ce)),this._annoSize.height=ae*Math.abs(Math.sin(ce))+Ee*Math.abs(Math.cos(ce))}}else this._annoSize=new u.Size(8,8);var Me=2*(this._labelPadding||5);Me+=this._axisType==Di.X?this._annoSize.height:this._annoSize.width+this._TICK_LABEL_DISTANCE+2;var st=this._TICK_OVERLAP,xt=this.majorTickMarks;return xt==Ar.Outside?st=1:xt==Ar.Inside?st=-1:xt==Ar.Cross&&(st=0),null==xt&&(xt=Ar.Outside),xt!=Ar.None&&(Me+=.5*(1+st)*this._TICK_HEIGHT),this._title&&(this._szTitle=t.measureString(M=this._title,i,this._groupClass),Me+=this._szTitle.height),t.fontSize=null,Me},s.prototype._updateAutoFormat=function(t){if(this._isTimeAxis){var e=this.format,n=.001*this._getActualRange()/10,i=new qe(n*qe.TicksPerSecond),r=(0,u.isNumber)(this._majorUnit)?qe.fromDays(this._majorUnit):Tt.NiceTimeSpan(i,e);e||(this._tfmt=Tt.GetTimeDefaultFormat(1e3*r.TotalSeconds,0)),t=r.TotalSeconds}return t},s.prototype._getActualRange=function(){return this._actualMax-this._actualMin},s.prototype._updateActualLimitsByChartType=function(t,e,n){if(t&&t.length>0&&!this._isTimeAxis){var i=this._chart._getChartType();i!=xi.Column&&i!=xi.Bar&&(e-=.5,n+=.5)}return{min:e,max:n}},s.prototype._updateActualLimits=function(t,e,n,i,r){void 0===i&&(i=null),void 0===r&&(r=null);var o=this._actualMin,a=this._actualMax;this._isTimeAxis=t==u.DataType.Date;var d=this._updateActualLimitsByChartType(i,e,n);e=d.min,n=d.max;var p=this._min,v=this._max;(0,u.isDate)(p)&&(p=p.valueOf()),(0,u.isDate)(v)&&(v=v.valueOf());var M=this._chart&&this._chart._stacking!==Wr.Stacked100pc;M||(M=this._chart._isRotated()?this.axisType==Di.Y:this.axisType==Di.X);var T=this._actualMin=null!=p&&M?p:e;if(T==(this._actualMax=null!=v&&M?v:n))if(void 0!==p&&void 0===v)this._actualMax+=1;else if(void 0===p&&void 0!==v)this._actualMin-=1;else if(0===T)this._actualMax=1;else{var k=Math.abs(T);k<1?(this._actualMin-=k,this._actualMax+=k):(this._actualMin-=1,this._actualMax+=1)}if(this._getLogBase()>0){var L=this.logBase,Y=Math.log(L);if(!this._max){var ce=Math.ceil(Math.log(this._actualMax)/Y);this._actualMax=Math.pow(L,ce)}if(!this._min){var ae=Math.floor(Math.log(this._actualMin)/Y);this._actualMin=Math.pow(L,ae)}(this._actualMin<=0||!(0,u.isNumber)(this._actualMin))&&(this._actualMin=1),this._actualMax<this._actualMin?this._actualMax=this._actualMin+1:this._actualMax===this._actualMin&&(this._actualMin=.1*this._actualMax)}if((o!=this._actualMin&&((0,u.isNumber)(o)||(0,u.isNumber)(this._actualMin))||a!=this._actualMax&&((0,u.isNumber)(a)||(0,u.isNumber)(this._actualMax)))&&this.onRangeChanged(),this._items){this._values=[],this._lbls=[];var Ee=this._items.length,Me="value",ze="text";if(this.binding){var st=this.binding.split(",");2==st.length&&(Me=st[0],ze=st[1])}for(var xt=0;xt<Ee;xt++){var yt=this._items[xt],St=yt[Me];(0,u.isNumber)(St)?(this._values.push(St),this._lbls.push(yt[ze])):(0,u.isDate)(St)&&(this._values.push(St.getTime()),this._lbls.push(yt[ze]))}}else this._lbls=i,this._values=r},s.prototype._layout=function(t,e){var n=this.axisType==Di.Y;this._plotrect=e,this._axrect=n?new u.Rect(t.left,t.top,t.height,t.width):t},s.prototype._hasVisibileSeries=function(){for(var t,e=this._chart.series,n=0,i=e.length;n<i;n++)if((t=e[n].visibility)==zr.Plot||t==zr.Visible)return!0;return!1},s.prototype._render=function(t){if(this.position!=Nn.None&&this._hasVisibileSeries()){this.axisLabels.length=0,this._vals={};var e=0;this.labelAngle&&((e=this.labelAngle)>90?e=90:e<-90&&(e=-90)),null==this.labelAngle&&null!=this._actualAngle&&(e=this._actualAngle);var n=Ai._FG,i=this._actualMax-this._actualMin;if((0,u.isNumber)(i)){var r=this._calcMajorUnit();0==r&&(r=.1*this._niceTickNumber(i));var o=Math.min(s.MAX_MAJOR,Math.floor(i/r)+1),a=[],d=[];this._rects=[],this._vals.major=a,this._vals.hasLbls=[];var p=Math.floor(this._actualMin/r)*r;p<this._actualMin&&(p+=r);var v=!1;if(this._lbls&&this._lbls.length>0)if(d=this._lbls,0==this._values.length){v=!0;for(var M=0;M<d.length;M++)a.push(M)}else a=this._values;else this._isTimeAxis?(this._createTimeLabels(p,o,a,d),this._addMinMaxLabels(a,d)):this._getLogBase()?(this._createLogarithmicLabels(this._actualMin,this._actualMax,this.majorUnit,a,d,!0),this._addMinMaxLabels(a,d)):(this._createLabels(p,o,r,a,d),this._addMinMaxLabels(a,d));o=Math.min(a.length,d.length),t.textFill=n;var T=this._TICK_HEIGHT,k=this._TICK_OVERLAP,L=this.majorTickMarks;null==L&&(L=Ar.Outside),L==Ar.Outside?k=1:L==Ar.Inside?k=-1:L==Ar.Cross&&(k=0);var Y=.5*(k-1)*T,ce=.5*(1+k)*T;for(M=0;M<o;M++){var ae=!0,Ee=a[M],Me=d[M],ze=this.labels;if(ze&&(v||this.itemsSource)&&this.majorUnit&&M%this.majorUnit!=0&&(ze=!1),Ee>=this._actualMin&&Ee<=this._actualMax){var st=t.textFill;ae=this._renderLabelsAndTicks(t,M,Ee,Me,e,L,ze,Y,ce),t.textFill=st}this._vals.hasLbls.push(ae),ae&&this.axisLabels.push(Me)}}(this.minorGrid||this.minorTickMarks!=Ar.None)&&this._renderMinor(t,a,v),t.stroke=n,t.fontSize=null,this._renderLineAndTitle(t),t.stroke=null,t.fontSize=null,t.textFill=null,t.strokeWidth=null}},s.prototype._renderLineAndTitle=function(t){var e=this._getPosition(),i=e!=Nn.Top&&e!=Nn.Right,r=Ai._CSS_TITLE,o=Ai._CSS_LINE;if(this.axisType==Di.Y)if(i){if(this._title){var a=new u.Point(this._axrect.left+.5*this._szTitle.height,this._axrect.top+.5*this._axrect.height);Ai._renderRotatedText(t,this._title,a,1,1,a,-90,r,this._groupClass)}this.axisLine&&t.drawLine(this._axrect.right,this._axrect.top,this._axrect.right,this._axrect.bottom,o)}else this._title&&(a=new u.Point(this._axrect.right-.5*this._szTitle.height,this._axrect.top+.5*this._axrect.height),Ai._renderRotatedText(t,this._title,a,1,1,a,90,r,this._groupClass)),this.axisLine&&t.drawLine(this._axrect.left,this._axrect.top,this._axrect.left,this._axrect.bottom,o);else i?(this.axisLine&&t.drawLine(this._axrect.left,this._axrect.top,this._axrect.right,this._axrect.top,o),this._title&&Ai._renderText(t,this._title,new u.Point(this._axrect.left+.5*this._axrect.width,this._axrect.bottom),1,2,r)):(this.axisLine&&t.drawLine(this._axrect.left,this._axrect.bottom,this._axrect.right,this._axrect.bottom,o),this._title&&Ai._renderText(t,this._title,new u.Point(this._axrect.left+.5*this._axrect.width,this._axrect.top),1,0,r))},s.prototype._renderMinor=function(t,e,n){var i=this._getPosition(),r=this.axisType==Di.Y,o=i!=Nn.Top&&i!=Nn.Right;if(this._getLogBase()){if(this.minorUnit>0){var a=[];this._createLogarithmicLabels(this._actualMin,this._actualMax,this.minorUnit,a,null,!1);for(var d=[],p=0;p<a.length;p++){var v=a[p];-1==e.indexOf(v)&&v>this._actualMin&&d.push(v)}this._renderMinors(t,d,r,o)}}else this._createMinors(t,e,r,o,n)},s.prototype._renderRotatedText=function(t,e,n,i,r,o,a,d,p,v,M){if(this.itemFormatter){var T=this._getFormattedItem(t,e,n,i,p);T?(n=T.text,p=T.cls):n=null}Ai._renderRotatedText(t,n,i,r,o,a,d,p,v,M)},s.prototype._getFormattedItem=function(t,e,n,i,r,o){if(void 0===o&&(o=!1),this.itemFormatter){var a=i.clone();this._plotrect&&(this.axisType==Di.X?a.y=this.position==Nn.Top?this._plotrect.top:this._plotrect.bottom:a.x=this.position==Nn.Right?this._plotrect.right:this._plotrect.left);var d={val:e,text:n,pos:a,cls:r};return o&&(t.readOnly=!0),d=this.itemFormatter(t,d),o&&(t.readOnly=!1),d}},s.prototype._renderLabelsAndTicks=function(t,e,n,i,r,o,a,d,p){var v=this._getPosition(),M=!1,T=this.axisType==Di.Y,k=v!=Nn.Top&&v!=Nn.Right,L=this.labelPadding||5,Y=this._TICK_WIDTH,ce=this._getLabelAlign(T),ae=Ai._CSS_LABEL,Ee=Ai._CSS_GRIDLINE,Me=Ai._CSS_TICK,ze=Ai._FG,st=Ai._FG,xt=this._GRIDLINE_WIDTH,yt=n!=this._actualMin&&this.majorGrid;if(T){var St=this.convert(n);if(yt&&(t.stroke=ze,t.strokeWidth=xt,t.drawLine(this._plotrect.left,St,this._plotrect.right,St,Ee)),t.stroke=st,t.strokeWidth=Y,k){if(a){M=!0;var Dt=new u.Point(this._axrect.right-p-this._TICK_LABEL_DISTANCE-L,St);r>0?90==r?this._renderRotatedText(t,n,i,Dt,1,0,Dt,r,ae,this._groupClass):this._renderRotatedText(t,n,i,Dt,2,1,Dt,r,ae,this._groupClass):r<0?-90==r?this._renderRotatedText(t,n,i,Dt,1,2,Dt,r,ae,this._groupClass):this._renderRotatedText(t,n,i,Dt,2,1,Dt,r,ae,this._groupClass):M=this._renderLabel(t,n,i,Dt,2,ce,ae)}o!=Ar.None&&M&&t.drawLine(this._axrect.right-d,St,this._axrect.right-p,St,Me)}else a&&(M=!0,Dt=new u.Point(this._axrect.left+p+this._TICK_LABEL_DISTANCE+L,St),r>0?90==r?this._renderRotatedText(t,n,i,Dt,1,2,Dt,r,ae,this._groupClass):this._renderRotatedText(t,n,i,Dt,0,1,Dt,r,ae,this._groupClass):r<0?-90==r?this._renderRotatedText(t,n,i,Dt,1,0,Dt,r,ae,this._groupClass):this._renderRotatedText(t,n,i,Dt,0,1,Dt,r,ae,this._groupClass):M=this._renderLabel(t,n,i,Dt,0,ce,ae)),o!=Ar.None&&M&&t.drawLine(this._axrect.left+d,St,this._axrect.left+p,St,Me)}else{var Nt=this.convert(n);this.overlappingLabels==ro.Auto&&this._xCross(Nt)&&(a=!1),yt&&a&&(t.stroke=ze,t.strokeWidth=xt,t.drawLine(Nt,this._plotrect.top,Nt,this._plotrect.bottom,Ee)),t.stroke=st,t.strokeWidth=Y,k?(a&&(Dt=new u.Point(Nt,this._axrect.top+p+L),M=0!=r?this._renderRotatedLabel(t,n,i,Dt,ce,r,ae,k):this._renderLabel(t,n,i,Dt,ce,0,ae)),o!=Ar.None&&M&&(Nt=this.convert(n),t.drawLine(Nt,this._axrect.top+d,Nt,this._axrect.top+p,Me))):(a&&(Dt=new u.Point(Nt,this._axrect.bottom-p-L),M=0!=r?this._renderRotatedLabel(t,n,i,Dt,ce,r,ae,k):this._renderLabel(t,n,i,Dt,ce,2,ae)),o!=Ar.None&&M&&(Nt=this.convert(n),t.drawLine(Nt,this._axrect.bottom-d,Nt,this._axrect.bottom-p,Me)))}return M},s.prototype._xCross=function(t){for(var e=this._rects.length,n=0;n<e;n++){var i=this._rects[n];if(t>=i.left&&t<=i.right)return!0}return!1},s.prototype._createMinors=function(t,e,n,i,r){if(e&&e.length>1){for(var o=this.majorUnit?this._isTimeAxis?24*this.majorUnit*3600*1e3:this.majorUnit:e[1]-e[0],a=(0,u.isNumber)(this.minorUnit)?this._isTimeAxis?24*this.minorUnit*3600*1e3:this.minorUnit:.5*o,d=[],p=e[0];p>this._actualMin&&d.length<s.MAX_MINOR;p-=a)-1==e.indexOf(p)&&d.push(p);for(p=e[0]+a;p<this._actualMax&&d.length<s.MAX_MINOR;p+=a)(-1==e.indexOf(p)||r&&this.majorUnit&&p%this.majorUnit!=0)&&d.push(p);this._renderMinors(t,d,n,i)}},s.prototype._renderMinors=function(t,e,n,i){var r=this._TICK_HEIGHT,o=this._TICK_WIDTH,a=this._TICK_OVERLAP,d=Ai._FG,p=this.minorTickMarks,v=!0;this._vals.minor=e,p==Ar.Outside?a=1:p==Ar.Inside?a=-1:p==Ar.Cross?a=0:v=!1;for(var M=.5*(a-1)*r,T=.5*(1+a)*r,k=e?e.length:0,L=this.minorGrid,Y=this._plotrect,ce=this._GRIDLINE_WIDTH,ae=Ai._FG,Ee=Ai._CSS_GRIDLINE_MINOR,Me=Ai._CSS_TICK_MINOR,ze=0;ze<k;ze++)if(e[ze]>=this.actualMin&&e[ze]<=this.actualMax)if(n){var st=this.convert(e[ze]);v&&(t.stroke=d,t.strokeWidth=o,i?t.drawLine(this._axrect.right-M,st,this._axrect.right-T,st,Me):t.drawLine(this._axrect.left+M,st,this._axrect.left+T,st,Me)),L&&(t.stroke=ae,t.strokeWidth=ce,t.drawLine(Y.left,st,Y.right,st,Ee))}else{var xt=this.convert(e[ze]);v&&(t.stroke=d,t.strokeWidth=o,i?t.drawLine(xt,this._axrect.top+M,xt,this._axrect.top+T,Me):t.drawLine(xt,this._axrect.bottom-M,xt,this._axrect.bottom-T,Me)),L&&(t.stroke=ae,t.strokeWidth=ce,t.drawLine(xt,Y.top,xt,Y.bottom,Ee))}},s.prototype._renderLabel=function(t,e,n,i,r,o,a){var d=!1;if(this.itemFormatter){var p=this._getFormattedItem(t,e,n,i,a);p?(n=p.text,a=p.cls):n=null}if(n){var v=this._rects,M=this.overlappingLabels==ro.Auto&&!(0,u.isNumber)(this._actualAngle),T=Ai._renderText(t,n,i,r,o,a,this._groupClass,null,function(k){if(M)for(var L=v.length,Y=0;Y<L;Y++)if(Ai._intersects(v[Y],k))return!1;return!0});T&&(T.left+=4,T.width+=8,v.push(T),d=!0)}return d},s.prototype._renderRotatedLabel=function(t,e,n,i,r,o,a,d){if(this.itemFormatter){var p=this._getFormattedItem(t,e,n,i,a);p?(n=p.text,a=p.cls):n=null}if(n){var v=t.measureString(n,a,this._groupClass),M=.5*v.height,T=.5*v.width*Math.abs(Math.sin(o*Math.PI/180)),k=.5*v.width,L=.5*(v.width*Math.abs(Math.cos(o*Math.PI/180))+v.height*Math.abs(Math.sin(o*Math.PI/180))),Y=new u.Point(i.x,i.y),ce=new u.Point(i.x,i.y);this.labelAlign||(r=90==o||-90==o?1:d?o>0?0:2:o>0?2:0),d?(i.y+=M+T,Y.y+=M+T-.5*v.height):(i.y-=M+T-v.height,Y.y-=M+T-.5*v.height);var ae=0;2===r?(Y.x-=L,i.x-=k+L,ae=Y.x+L-v.height-2):0===r?(Y.x+=L,i.x-=k-L,ae=Y.x-L):(i.x-=k,ae=Y.x-v.height/2);var Ee=new u.Rect(ae,ce.y,v.height+2,v.width),Me=this._rects;if(this.overlappingLabels==ro.Auto)for(var ze=Me.length,st=0;st<ze;st++)if(Ai._intersects(Me[st],Ee))return!1;return Ai._renderRotatedText(t,n,i,0,2,Y,o,a,this._groupClass),this._rects.push(Ee),!0}return!1},s.prototype._getLabelAlign=function(t){var e=1;if(this.labelAlign){var n=this.labelAlign.toLowerCase();t?"top"==n?e=0:"bottom"==n&&(e=2):"left"==n?e=0:"right"==n&&(e=2)}return e},s.prototype._addMinMaxLabels=function(t,e){if(this.labelMin){var n=this.actualMin;isFinite(n)&&(e.splice(0,0,this._formatValue(n)),t.splice(0,0,n))}if(this.labelMax){var i=this.actualMax;isFinite(i)&&(e.splice(0,0,this._formatValue(i)),t.splice(0,0,i))}},s.prototype.convert=function(t,e,n){var i=e??this._actualMax,r=n??this._actualMin;if(i==r||!this._axrect)return 0;var o=this._axrect.left,a=this._axrect.width,d=this._axrect.top,p=this._axrect.height;if(null!=this._customConvert){var v=this._customConvert(t,r,i);return this.axisType==Di.Y?d+v*p:o+v*a}if(this._getLogBase()){if(t<=0)return NaN;var M=Math.log(i/r);return this._reversed?this.axisType==Di.Y?d+Math.log(t/r)/M*p:o+a-Math.log(t/r)/M*a:this.axisType==Di.Y?d+p-Math.log(t/r)/M*p:o+Math.log(t/r)/M*a}return this._reversed?this.axisType==Di.Y?d+(t-r)/(i-r)*p:o+a-(t-r)/(i-r)*a:this.axisType==Di.Y?d+p-(t-r)/(i-r)*p:o+(t-r)/(i-r)*a},s.prototype.convertBack=function(t){if(this._actualMax==this._actualMin)return 0;var d,e=this._plotrect.left,n=this._plotrect.width,i=this._plotrect.top,r=this._plotrect.height,o=this._actualMax-this._actualMin,a=this._getLogBase();return null!=this._customConvertBack?this._customConvertBack(this.axisType==Di.Y?(t-i)/r:(t-e)/n,this._actualMin,this._actualMax):a?(d=this._reversed?this.axisType==Di.Y?(t-i)/r:1-(t-e)/n:this.axisType==Di.Y?1-(t-i)/r:(t-e)/n,Math.pow(a,(Math.log(this._actualMin)+(Math.log(this._actualMax)-Math.log(this._actualMin))*d)/Math.log(a))):this._reversed?this.axisType==Di.Y?this._actualMin+(t-i)*o/r:this._actualMin+(e+n-t)*o/n:this.axisType==Di.Y?this._actualMax-(t-i)*o/r:this._actualMin+(t-e)*o/n},Object.defineProperty(s.prototype,"axisType",{get:function(){var t=this._chart;if(t){if(t.axisX==this)return Di.X;if(t.axisY==this)return Di.Y}return this._axisType},enumerable:!0,configurable:!0}),s.prototype._getMinNum=function(){return this._actualMin},s.prototype._getMaxNum=function(){return this._actualMax},s.prototype._invalidate=function(){this._chart&&this._chart.invalidate()},s.prototype._cvCollectionChanged=function(t,e){this._invalidate()},s.prototype._createLabels=function(t,e,n,i,r){for(var o=0;o<e;o++){var a=(t+n*o).toFixed(14),d=parseFloat(a),p=this._formatAxisValue(d),v=r.indexOf(p);if(v>=0&&!(0,u.isNumber)(this.majorUnit)&&!this._format){var M=parseFloat(p);Math.abs(M-d)<Math.abs(M-i[v])&&(i[v]=d)}else i.push(d),r.push(p)}},s.prototype._createLogarithmicLabels=function(t,e,n,i,r,o){var a=this._getLogBase(),d=Math.log(a),p=Math.floor(Math.log(t)/d),v=Math.ceil(Math.log(e)/d),M=a,T=!0;n>0&&(T=!1,M=n),M<a&&(M=a);var k=(v-p+1)*a/M,L=1;if(o){var Y=this._getPosition(),ce=this._getAnnoNumber(Y==Nn.Left||Y==Nn.Right);k>ce?L=Math.floor(k/ce+1):T&&(k<=.2*ce?M=.2*a:k<=.1*ce&&(M=.1*a))}for(var ae=p;ae<=v;ae+=L)if(T)for(var Ee=Math.pow(a,ae),Me=0;Me*M<a-1;Me++)(ze=Ee*(1+Me*M))>=t&&ze<=e&&(0==Me?(i.unshift(ze),r&&r.unshift(this._formatValue(ze))):(i.push(ze),r&&r.push(this._formatValue(ze))));else{var ze;(ze=Math.pow(M,ae))>=t&&ze<=e&&(i.push(ze),r&&r.push(this._formatValue(ze)))}},s.prototype._createTimeLabels=function(t,e,n,i){var r=this._actualMin,o=this._actualMax,a=new Date(r),d=new Date(o),p=this._format,v=this._getAnnoNumber(this._axisType==Di.Y);v>10&&(v=10);var T=new qe(.001*(this._actualMax-this._actualMin)/v*qe.TicksPerSecond),k=(0,u.isNumber)(this._majorUnit)?qe.fromDays(this._majorUnit):Tt.NiceTimeSpan(T,p);p||(this._tfmt=p=Tt.GetTimeDefaultFormat(1e3*k.TotalSeconds,0));var L=k.Ticks,Y=Tt.RoundTime(r,k.TotalDays,!1);isFinite(Y)&&(r=Y);var ce=Tt.RoundTime(o,k.TotalDays,!0);isFinite(ce)&&(o=ce);var ae=new Date(r);if(new Date(o),k.TotalDays>=365&&!(0,u.isNumber)(this._majorUnit)){(ae=new Date(a.getFullYear(),0,1))<a&&ae.setFullYear(ae.getFullYear()+1);var Ee=k.TotalDays/365;Ee-=Ee%1;for(var Me=ae;Me<=d&&Ee;Me.setFullYear(Me.getFullYear()+Ee)){var ze=Me.valueOf();n.push(ze),i.push(this._formatValue(ze))}}else if(k.TotalDays>=30&&!(0,u.isNumber)(this._majorUnit)){(ae=new Date(a.getFullYear(),a.getMonth(),1))<a&&ae.setMonth(ae.getMonth()+1);var st=k.TotalDays/30;for(st-=st%1,Me=ae;Me<=d;Me.setMonth(Me.getMonth()+st))ze=Me.valueOf(),n.push(ze),i.push(this._formatValue(ze))}else{var xt=1e3*L/qe.TicksPerSecond,yt=(Me=ae,a.getTime()-Me.getTime());for(yt>xt&&(Me=new Date(Me.getTime()+Math.floor(yt/xt)*xt));Me<=d&&xt;Me=new Date(Me.getTime()+xt))(ze=Me.valueOf()+yt)>=a.valueOf()&&(n.push(ze),i.push(this._formatValue(ze)))}},s.prototype._formatValue=function(t){if(this._isTimeAxis)return u.Globalize.format(new Date(t),this._format?this._format:this._tfmt);if(this._format)return u.Globalize.format(t,this._format);var e=t==Math.round(t)?"n0":"n";return u.Globalize.format(t,e)},s.prototype._formatAxisValue=function(t,e){if(void 0===e&&(e=void 0),this._isTimeAxis)return u.Globalize.format(new Date(t),this._format?this._format:this._tfmt);if(this._format)return u.Globalize.format(t,this._format);if((0,u.isNumber)(t)){var n=this._findFormat(t,e);return u.Globalize.format(t,n)}return t},s.prototype._findFormat=function(t,e){void 0===e&&(e=void 0);var n=t==Math.round(t)?"n0":"n";if(void 0!==e&&(n+=e.toString()),"n"==n){var i=t.toFixed(14),r=i.search(".");if(r>=0){e=1;for(var o=i.length-1;o>=r;o--)if("0"!=i[o]){e=o-r-1;break}n+=e.toString()}}return n},s.prototype._calcMajorUnit=function(){var t=this._majorUnit;if(!(0,u.isNumber)(t)){var e=this._actualMax-this._actualMin,n=this._nicePrecision(e),i=e/this._getAnnoNumber(this.axisType==Di.Y);(t=this._niceNumber(2*i,-n,!0))<i&&(t=this._niceNumber(i,1-n,!1)),t<i&&(t=this._niceTickNumber(i))}return t},s.prototype._getAnnoNumber=function(t){var e=t?this._annoSize.height:this._annoSize.width,n=t?this._axrect.height:this._axrect.width;if(e>0&&n>0){var i=Math.floor(n/(e+6));return i<=0&&(i=1),i}return 10},s.prototype._nicePrecision=function(t){if(!(0,u.isNumber)(t)||t<=0)return 0;var e,n=Math.log(t)/Math.LN10;e=n>=0?Math.floor(n):Math.ceil(n);var i=t/Math.pow(10,e);return i<3&&(e=1-e,(i=t/Math.pow(10,e))<3&&(e+=1)),e},s.prototype._niceTickNumber=function(t){if(0==t)return t;t<0&&(t=-t);var e=Math.log(t)/Math.LN10,n=Math.floor(e),i=t/Math.pow(10,n),r=10;return i<=1?r=1:i<=2?r=2:i<=5&&(r=5),r*Math.pow(10,n)},s.prototype._niceNumber=function(t,e,n){if(0==t)return t;t<0&&(t=-t);var i=t/Math.pow(10,e),r=10;return n?i<1.5?r=1:i<3?r=2:i<4.5?r=4:i<7&&(r=5):i<=1?r=1:i<=2?r=2:i<=5&&(r=5),r*Math.pow(10,e)},Object.defineProperty(s.prototype,"_uniqueId",{get:function(){return this.__uniqueId},enumerable:!0,configurable:!0}),s.MAX_MAJOR=1e3,s.MAX_MINOR=2e3,s._id=0,s}(),Vs=function(s){function t(){return null!==s&&s.apply(this,arguments)||this}return ur(t,s),t.prototype.getAxis=function(e){var n=this.indexOf(e);return n>-1?this[n]:null},t.prototype.indexOf=function(e){for(var n=0;n<this.length;n++)if(this[n].name==e)return n;return-1},t}(u.ObservableArray);!function(s){s[s.tickf7=-7]="tickf7",s[s.tickf6=-6]="tickf6",s[s.tickf5=-5]="tickf5",s[s.tickf4=-4]="tickf4",s[s.tickf3=-3]="tickf3",s[s.tickf2=-2]="tickf2",s[s.tickf1=-1]="tickf1",s[s.second=1]="second",s[s.minute=60]="minute",s[s.hour=3600]="hour",s[s.day=86400]="day",s[s.week=604800]="week",s[s.month=2678400]="month",s[s.year=31536e3]="year",s[s.maxtime=Number.MAX_VALUE]="maxtime"}(Qi||(Qi={}));var Oe,qe=function(){function s(t){this.ticks=t}return Object.defineProperty(s.prototype,"Ticks",{get:function(){return this.ticks},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"TotalSeconds",{get:function(){return this.ticks/1e7},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"TotalDays",{get:function(){return this.ticks/1e7/86400},enumerable:!0,configurable:!0}),s.fromSeconds=function(t){return new s(1e7*t)},s.fromDays=function(t){return new s(1e7*t*24*60*60)},s.TicksPerSecond=1e7,s}(),Tt=function(){function s(t){(0,u.isDate)(t)?this.init(t):(0,u.isNumber)(t)&&this.init(Ai._fromOADate(t))}return s.prototype.init=function(t){this.year=t.getFullYear(),this.month=t.getMonth(),this.day=t.getDate(),this.hour=t.getHours(),this.minute=t.getMinutes(),this.second=t.getSeconds()},s.prototype.getTimeAsDateTime=function(){return this.hour>=24&&(this.hour-=24,this.day+=1),this.month<0?this.month=1:this.month>11&&(this.month=11),this.day<1?this.day=1:this.day>28&&1==this.month?this.day=28:this.day>30&&(3==this.month||5==this.month||8==this.month||10==this.month)?this.day=30:this.day>31&&(this.day=31),this.second>59&&(this.second=59),this.minute>59&&(this.minute=59),new Date(this.year,this.month,this.day,this.hour,this.minute,this.second)},s.prototype.getTimeAsDouble=function(){return this.getTimeAsDateTime().valueOf()},s.tround=function(t,e,n){var i=t/e*e;return i-=i%1,n&&i!=t&&(i+=e-=e%1),i},s.RoundTime=function(t,e,n){var i=24*e*60*60;if(i>0){var r=new s(t);return i<Qi.minute?(r.second=this.tround(r.second,i,n),r.getTimeAsDouble()):(r.second=0,i<Qi.hour?(r.minute=this.tround(r.minute,i/=Qi.minute,n),r.getTimeAsDouble()):(r.minute=0,i<Qi.day?(r.hour=this.tround(r.hour,i/=Qi.hour,n),r.getTimeAsDouble()):(r.hour=0,i<Qi.month?(r.day=this.tround(r.day,i/=Qi.day,n),r.getTimeAsDouble()):(r.day=1,i<Qi.year?(i/=Qi.month,1!=r.month&&(r.month=this.tround(r.month,i,n)),r.getTimeAsDouble()):(r.month=1,r.year=this.tround(r.year,i/=Qi.year,n),r.getTimeAsDouble())))))}var a=t-i,d=a/e*e;return n&&d!=a&&(d+=e),i+d},s.TimeSpanFromTmInc=function(t){var e=qe.fromSeconds(1);if(t!=Qi.maxtime)if(t>Qi.tickf1)e=qe.fromSeconds(t);else{var n=t,i=1;for(n+=7;n>0;)i*=10,n--;e=new qe(i)}return e},s.manualTimeInc=function(t){var e=Qi.second;if(null==t||0==t.length)return e;var n=t.indexOf("f");if(n>=0){var i=-1;if(n>0&&"%"==t.substr(n-1,1))i=-1;else for(var r=1;r<6&&!(n+r>=t.length)&&"f"==t.substr(n+r,1);r++)i--;e=i}else t.indexOf("s")>=0?e=Qi.second:t.indexOf("m")>=0?e=Qi.minute:t.indexOf("h")>=0||t.indexOf("H")?e=Qi.hour:t.indexOf("d")>=0?e=Qi.day:t.indexOf("M")>=0?e=Qi.month:t.indexOf("y")>=0&&(e=Qi.year);return e},s.getNiceInc=function(t,e,n){for(var i=0;i<t.length;i++){var r=t[i]*n;if(e<=r)return r}return 0},s.NiceTimeSpan=function(t,e){var n=Qi.second;null!=e&&e.length>0&&(n=s.manualTimeInc(e));var i=0,r=0;if(n<Qi.second&&t.TotalSeconds<10){for(i=t.Ticks,r=s.TimeSpanFromTmInc(n).Ticks;i>10*r;)r*=10;var o=r;return i>o&&(o*=2),i>o&&(o=5*r),i>o&&(o=10*r),new qe(o)}if(0==(i=Math.ceil(t.TotalSeconds)))return s.TimeSpanFromTmInc(n);if(r=1,n<Qi.minute){if(i<Qi.minute&&0!=(r=s.getNiceInc([1,2,5,10,15,30],i,n)))return qe.fromSeconds(r);n=Qi.minute}if(n<Qi.hour){if(i<Qi.hour&&0!=(r=s.getNiceInc([1,2,5,10,15,30],i,n)))return qe.fromSeconds(r);n=Qi.hour}if(n<Qi.day){if(i<Qi.day&&0!=(r=s.getNiceInc([1,3,6,12],i,n)))return qe.fromSeconds(r);n=Qi.day}if(n<Qi.month){if(i<Qi.month&&0!=(r=s.getNiceInc([1,2,7,14],i,n)))return qe.fromSeconds(r);n=Qi.month}if(n<Qi.year){if(i<Qi.year&&0!=(r=s.getNiceInc([1,2,3,4,6],i,n)))return qe.fromSeconds(r);n=Qi.year}return i<(r=100*Qi.year)&&0==(r=s.getNiceInc([1,2,5,10,20,50],i,n))&&(r=100*Qi.year),qe.fromSeconds(r)},s.NiceTimeUnit=function(t,e){var n=qe.fromDays(t);return(n=s.NiceTimeSpan(n,e)).TotalDays},s.GetTimeDefaultFormat=function(t,e){if(!(0,u.isNumber)(t)||!(0,u.isNumber)(e))return"";var n="s",i=qe.fromSeconds(.001*(t-e)),r=i.TotalSeconds;if(r>=Qi.year)n="yyyy";else if(r>=Qi.month)n="MMM yyyy";else if(r>=Qi.day)n="MMM d";else if(r>=Qi.hour)n="ddd H:mm";else if(r>=.5*Qi.hour)n="H:mm";else if(r>=1)n="H:mm:ss";else if(r>0){var o=i.Ticks;for(n="s.";o<qe.TicksPerSecond;)o*=10,n+="f"}return n},s.secInYear=86400,s}(),q=function(){function s(t,e,n,i){this._seriesIndex=t,this._pointIndex=e,this._dataX=n,this._dataY=i}return Object.defineProperty(s.prototype,"seriesIndex",{get:function(){return this._seriesIndex},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"pointIndex",{get:function(){return this._pointIndex},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"dataX",{get:function(){return this._dataX},set:function(t){t!==this._dataX&&(this._dataX=t)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"dataY",{get:function(){return this._dataY},set:function(t){t!==this._dataY&&(this._dataY=t)},enumerable:!0,configurable:!0}),s}();!function(s){s[s.X=0]="X",s[s.Y=1]="Y",s[s.XY=2]="XY"}(Oe||(Oe={}));var Vr,gt=function(){function s(t){this._rect=t}return Object.defineProperty(s.prototype,"rect",{get:function(){return this._rect},enumerable:!0,configurable:!0}),s.prototype.contains=function(t){var e=this._rect;return t.x>=e.left&&t.x<=e.right&&t.y>=e.top&&t.y<=e.bottom},s.prototype.pointDistance=function(t,e,n){var i=e.x-t.x,r=e.y-t.y;return n==Oe.X?Math.abs(i):n==Oe.Y?Math.abs(r):Math.sqrt(i*i+r*r)},s.prototype.distance=function(t){var e=Oe.XY;isNaN(t.x)||null===t.x?e=Oe.Y:(isNaN(t.y)||null===t.y)&&(e=Oe.X);var n=this._rect;return t.x<n.left?t.y<n.top?this.pointDistance(t,new u.Point(n.left,n.top),e):t.y>n.bottom?this.pointDistance(t,new u.Point(n.left,n.bottom),e):e==Oe.Y?0:n.left-t.x:t.x>n.right?t.y<n.top?this.pointDistance(t,new u.Point(n.right,n.top),e):t.y>n.bottom?this.pointDistance(t,new u.Point(n.right,n.bottom),e):e==Oe.Y?0:t.x-n.right:e==Oe.X?0:t.y<n.top?n.top-t.y:t.y>n.bottom?t.y-n.bottom:0},s}(),rn=function(){function s(t,e){this._center=t,this.setRadius(e)}return s.prototype.setRadius=function(t){this._rad=t,this._rad2=t*t},Object.defineProperty(s.prototype,"center",{get:function(){return this._center},enumerable:!0,configurable:!0}),s.prototype.contains=function(t){var e=this._center.x-t.x,n=this._center.y-t.y;return e*e+n*n<=this._rad2},s.prototype.distance=function(t){var e=isNaN(t.x)?0:this._center.x-t.x,n=isNaN(t.y)?0:this._center.y-t.y,i=e*e+n*n;return i<=this._rad2?0:Math.sqrt(i)-this._rad},s}(),wi=function(){function s(t,e){this._x=[],this._y=[],this._x=t,this._y=e}return s.prototype.contains=function(t){return!1},s.prototype.distance=function(t){for(var e=NaN,n=0;n<this._x.length-1;n++){var i=Ai._dist(t,new u.Point(this._x[n],this._y[n]),new u.Point(this._x[n+1],this._y[n+1]));(isNaN(e)||i<e)&&(e=i)}return e},s}(),Cr=function(){},Uo=function(){function s(t){this._map={},this._chart=t}return s.prototype.add=function(t,e){this._map[e]&&(t.tag||(t.tag=new q(e,NaN,NaN,NaN)),this._map[e].push(t))},s.prototype.clear=function(){this._map={};for(var t=this._chart.series,e=0;e<t.length;e++)t[e].hitTest===Xo.prototype.hitTest&&(this._map[e]=new Array)},s.prototype.hitTest=function(t,e){void 0===e&&(e=!1);for(var n=null,i=Number.MAX_VALUE,r=this._chart.series.length-1;r>=0;r--){var o=this._map[r];if(o){for(var a=o.length-1;a>=0;a--){var d=o[a];if(!(0,u.tryCast)(d,wi)||e){var p=d.distance(t);if(p<i&&(n=d,0==(i=p)))break}}if(0==i)break}}if(n){var v=new Cr;return v.area=n,v.distance=i,v}return null},s.prototype.hitTestSeries=function(t,e){var n=null,i=Number.MAX_VALUE,r=this._map[e];if(r)for(var o=r.length-1;o>=0;o--){var a=r[o],d=a.distance(t);if(d<i&&(n=a,0==(i=d)))break}if(n){var p=new Cr;return p.area=n,p.distance=i,p}return null},s}();!function(s){s[s.PlotArea=0]="PlotArea",s[s.AxisX=1]="AxisX",s[s.AxisY=2]="AxisY",s[s.ChartArea=3]="ChartArea",s[s.Legend=4]="Legend",s[s.Header=5]="Header",s[s.Footer=6]="Footer",s[s.Series=7]="Series",s[s.SeriesSymbol=8]="SeriesSymbol",s[s.DataLabel=9]="DataLabel",s[s.None=10]="None"}(Vr||(Vr={}));var zr,Lr,Kr=function(){function s(t,e,n){this._pointIndex=null,this._chartElement=Vr.None,this._chart=t,this._pt=e,this._chartElement=n}return Object.defineProperty(s.prototype,"chart",{get:function(){return this._chart},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"point",{get:function(){return this._pt},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"series",{get:function(){return this._series},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"pointIndex",{get:function(){return this._pointIndex},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"chartElement",{get:function(){return this._chartElement},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"distance",{get:function(){return this._dist},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"item",{get:function(){if(null==this._item&&null!==this.pointIndex)if(null!=this.series)this._item=this.series._getItem(this.pointIndex);else{var t=this._chart._getHitTestItem(this.pointIndex);t&&(this._item=t)}return this._item},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"x",{get:function(){return void 0===this._x&&(this._x=this._getValue(1,!1)),this._x},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"y",{get:function(){return void 0===this._y&&(this._y=this._getValue(0,!1)),this._y},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"value",{get:function(){return this._chart._getHitTestValue(this.pointIndex,this._groupIndex)??(this.series&&null!=this.series._getValue?this.series._getValue(this.pointIndex):this.y)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"name",{get:function(){if(void 0===this._name){var t=this._chart._getHitTestLabel(this.pointIndex);return null==t?this.series.name:t.toString()}return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"groupIndex",{get:function(){return this._groupIndex},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"_xfmt",{get:function(){return void 0===this.__xfmt&&(this.__xfmt=this._getValue(1,!0)),this.__xfmt},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"_yfmt",{get:function(){return void 0===this.__yfmt&&(this.__yfmt=this._getValue(0,!0)),this.__yfmt},enumerable:!0,configurable:!0}),s.prototype._setData=function(t,e){this._series=t,this._pointIndex=e},s.prototype._setDataGroup=function(t,e){this._groupIndex=t,this._pointIndex=e},s.prototype._setDataPoint=function(t){if(t=(0,u.asType)(t,q,!0)){this._pointIndex=t.pointIndex;var e=(0,u.asType)(this._chart,Ai,!0),n=t.seriesIndex;null!==n&&n>=0&&n<e.series.length&&(this._series=e.series[n]),null!=t.item&&(this._item=t.item),null!=t.x&&(this._x=t.x),null!=t.y&&(this._y=t.y),null!=t.xfmt&&(this.__xfmt=t.xfmt),null!=t.yfmt&&(this.__yfmt=t.yfmt),null!=t.name&&(this._name=t.name)}},s.prototype._getValueFmt=function(){var t=this.value;if(null!=t){if(null==this.series){var e=t==Math.round(t)?"{val:n0}":"{val:n}";return(0,u.format)(e,{val:t})}t=this._chart._isRotated()?this.ax._formatValue(t):this.ay._formatValue(t)}return t},s.prototype._getValue=function(t,e){var n=this._chart._getHitTestValue(this.pointIndex,this.groupIndex);if(null!==n)return n;var i=null,r=this._chart,o=this.pointIndex,a=r._isRotated();if(null!==this.series&&null!==o){var d=this.series.getValues(t),p=this.series.getDataType(t);d&&this.pointIndex<d.length?(i=d[this.pointIndex],p!=u.DataType.Date||e||(i=new Date(i))):1==t&&(r._xlabels&&r._xlabels.length>0&&o<r._xlabels.length?i=r._xlabels[o]:r._xvals&&o<r._xvals.length&&(i=r._xvals[o],r._xDataType!=u.DataType.Date||e||(i=new Date(i))))}return null!==i&&e&&(a?0==t?i=this.ax._formatValue(i):1==t&&(i=this.ay._formatValue(i)):0==t?i=this.ay._formatValue(i):1==t&&(i=this.ax._formatValue(i))),i},Object.defineProperty(s.prototype,"ax",{get:function(){return this.series.axisX?this.series.axisX:this._chart.axisX},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"ay",{get:function(){return this.series.axisY?this.series.axisY:this._chart.axisY},enumerable:!0,configurable:!0}),s}();!function(s){s[s.Visible=0]="Visible",s[s.Plot=1]="Plot",s[s.Legend=2]="Legend",s[s.Hidden=3]="Hidden"}(zr||(zr={})),function(s){s[s.Dot=0]="Dot",s[s.Box=1]="Box"}(Lr||(Lr={}));var xi,Wr,Js=function(){},ss=function(s){function t(e){var n=s.call(this)||this;return n._series=(0,u.asType)(e,Lo),n}return ur(t,s),Object.defineProperty(t.prototype,"series",{get:function(){return this._series},enumerable:!0,configurable:!0}),t}(u.EventArgs),Lo=function(){function s(t){this._altStyle=null,this._symbolMarker=Lr.Dot,this._visibility=zr.Visible,this._interpolateNulls=null,this._cache={},this.rendering=new u.Event,this.rendered=new u.Event,this.initialize(t)}return Object.defineProperty(s.prototype,"interpolateNulls",{get:function(){return null==this._interpolateNulls?this._chart&&this._chart.interpolateNulls:this._interpolateNulls},set:function(t){t!=this._interpolateNulls&&(this._interpolateNulls=(0,u.asBoolean)(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"style",{get:function(){return this._style},set:function(t){t!=this._style&&(this._style=t,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"altStyle",{get:function(){return this._altStyle},set:function(t){t!=this._altStyle&&(this._altStyle=t,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"symbolStyle",{get:function(){return this._symbolStyle},set:function(t){t!=this._symbolStyle&&(this._symbolStyle=t,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"symbolSize",{get:function(){return this._symbolSize},set:function(t){t!=this._symbolSize&&(this._symbolSize=(0,u.asNumber)(t,!0,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"symbolMarker",{get:function(){return this._symbolMarker},set:function(t){(t=(0,u.asEnum)(t,Lr,!0))!=this._symbolMarker&&(this._symbolMarker=t,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"binding",{get:function(){return this._binding?this._binding:this._chart?this._chart.binding:null},set:function(t){t!=this._binding&&(this._binding=(0,u.asString)(t,!0),this._clearValues(),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"bindingX",{get:function(){return this._bindingX?this._bindingX:this._chart?this._chart.bindingX:null},set:function(t){t!=this._bindingX&&(this._bindingX=(0,u.asString)(t,!0),this._clearValues(),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"name",{get:function(){return this._name},set:function(t){this._name=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"itemsSource",{get:function(){return this._itemsSource},set:function(t){t!=this._itemsSource&&(this._cv&&(this._cv.currentChanged.removeHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.removeHandler(this._cvCollectionChanged,this),this._cv=null),this._itemsSource=t,this._cv=(0,u.asCollectionView)(t),null!=this._cv&&(this._cv.currentChanged.addHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.addHandler(this._cvCollectionChanged,this)),this._clearValues(),this._itemsSource=t,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"collectionView",{get:function(){return this._cv?this._cv:this._chart?this._chart.collectionView:null},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"chart",{get:function(){return this._chart},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"hostElement",{get:function(){return this._hostElement},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"legendElement",{get:function(){return this._legendElement},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"cssClass",{get:function(){return this._cssClass},set:function(t){this._cssClass=(0,u.asString)(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"visibility",{get:function(){return this._visibility},set:function(t){(t=(0,u.asEnum)(t,zr))!=this._visibility&&(this._visibility=t,this._clearValues(),this._invalidate(),this._chart&&this._chart.onSeriesVisibilityChanged(new ss(this)))},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"tooltipContent",{get:function(){return this._tooltipContent},set:function(t){t!=this._tooltipContent&&(this._tooltipContent=t)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"itemFormatter",{get:function(){return this._itemFormatter},set:function(t){t!=this._itemFormatter&&(this._itemFormatter=(0,u.asFunction)(t),this._invalidate())},enumerable:!0,configurable:!0}),s.prototype.hitTest=function(t,e){return(0,u.isNumber)(t)&&(0,u.isNumber)(e)?t=new u.Point(t,e):t instanceof MouseEvent&&(t=new u.Point(t.pageX,t.pageY)),(0,u.asType)(t,u.Point),this._chart?this._chart._hitTestSeries(t,this._chart.series.indexOf(this)):null},s.prototype.getPlotElement=function(t){if(this.hostElement&&t<this._pointIndexes.length){var e=this._pointIndexes[t];if(e<this.hostElement.childNodes.length)return this.hostElement.childNodes[e]}return null},Object.defineProperty(s.prototype,"axisX",{get:function(){return this._axisX},set:function(t){if(t!=this._axisX){if(this._axisX=(0,u.asType)(t,ys,!0),this._axisX){var e=this._axisX._chart=this._chart;e&&-1==e.axes.indexOf(this._axisX)&&e.axes.push(this._axisX)}this._invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"axisY",{get:function(){return this._axisY},set:function(t){if(t!=this._axisY){if(this._axisY=(0,u.asType)(t,ys,!0),this._axisY){var e=this._axisY._chart=this._chart;e&&-1==e.axes.indexOf(this._axisY)&&e.axes.push(this._axisY)}this._invalidate()}},enumerable:!0,configurable:!0}),s.prototype.initialize=function(t){(0,u.copy)(this,t)},s.prototype.pointToData=function(t){return(0,u.asType)(t,u.Point),(t=t.clone()).x=this._getAxisX().convertBack(t.x),t.y=this._getAxisY().convertBack(t.y),t},s.prototype.dataToPoint=function(t){return(0,u.asType)(t,u.Point),(t=t.clone()).x=this._getAxisX().convert(t.x),t.y=this._getAxisY().convert(t.y),t},s.prototype.onRendering=function(t,e,n){var i=new Is(t,e,n);return this.rendering.raise(this,i),i.cancel},s.prototype.onRendered=function(t){this.rendered.raise(this,new Oo(t))},Object.defineProperty(s.prototype,"_chart",{get:function(){return this.__chart},set:function(t){t!==this.__chart&&(this.__chart=t)},enumerable:!0,configurable:!0}),s.prototype._getSymbolSize=function(){return null!=this.symbolSize?this.symbolSize:this.chart.symbolSize},Object.defineProperty(s.prototype,"_plotter",{get:function(){return this.chart&&!this.__plotter&&(this.__plotter=this.chart._getPlotter(this)),this.__plotter},set:function(t){t!=this.__plotter&&(this.__plotter=t)},enumerable:!0,configurable:!0}),s.prototype.getDataType=function(t){return 0==t?this._valueDataType:1==t?this._xvalueDataType:null},s.prototype.getValues=function(t){if(0==t){if(null==this._values)if(this._valueDataType=null,null!=this._cv){var e=this._bindValues(this._cv.items,this._getBinding(0));this._values=e.values,this._valueDataType=e.dataType}else null!=this.binding&&null!=this._chart&&null!=this._chart.collectionView&&(e=this._bindValues(this._chart.collectionView.items,this._getBinding(0)),this._values=e.values,this._valueDataType=e.dataType);return this._values}if(1==t){if(null==this._xvalues&&(this._xvalueDataType=null,null!=this.bindingX))if(null!=this._cv)e=this._bindValues(this._cv.items,this.bindingX,!0),this._xvalueDataType=e.dataType,this._xvalues=e.values;else{if(null==this._bindingX)return null;null!=this._chart&&null!=this._chart.collectionView&&(e=this._bindValues(this._chart.collectionView.items,this.bindingX,!0),this._xvalueDataType=e.dataType,this._xvalues=e.values)}return this._xvalues}return null},s.prototype.drawLegendItem=function(t,e,n){var i=this._getChartType();null==i&&(i=this._chart._getChartType());var r=this._getLegendStyle(this.style);i===xi.Funnel?this._drawFunnelLegendItem(t,e,n,r,this.symbolStyle):this._drawLegendItem(t,e,i,this.name,r,this.symbolStyle)},s.prototype._getLegendStyle=function(t){if(t){var e={};return t.fill&&(e.fill=t.fill),t.stroke&&(e.stroke=t.stroke),e}},s.prototype.measureLegendItem=function(t,e){var n=this._getChartType();return null==n&&(n=this._chart._getChartType()),this._measureLegendItem(t,n===xi.Funnel?this._getFunnelLegendName(e):this.name)},s.prototype.legendItemLength=function(){var t=this._getChartType();return null==t&&(t=this._chart._getChartType()),t===xi.Funnel?this._chart._xlabels&&this._chart._xlabels.length?this._chart._xlabels.length:this._chart._xvals&&this._chart._xvals.length?this._chart._xvals.length:1:1},s.prototype.getDataRect=function(t,e){return null},s.prototype._getChartType=function(){return this._chartType},s.prototype._clearValues=function(){this._values=null,this._xvalues=null,this.__plotter=null,this._cache={}},s.prototype._getBinding=function(t){var e=this.binding;if(e){var n=this.chart?this.chart._bindingSeparator:",";if(n){var i=e.split(n);i&&i.length>t&&(e=i[t].trim())}}return e},s.prototype._getBindingValues=function(t){if(this._cache[t])return this._cache[t];var e;null!=this._cv?e=this._cv.items:null!=this._chart&&null!=this._chart.collectionView&&(e=this._chart.collectionView.items);var n=this._bindValues(e,this._getBinding(t));return this._cache[t]=n.values},s.prototype._getItem=function(t){var e=null,n=null;return null!=this.itemsSource?n=null!=this._cv?this._cv.items:this.itemsSource:null!=this._chart.itemsSource&&(n=null!=this._chart.collectionView?this._chart.collectionView.items:this._chart.itemsSource),null!=n&&(e=n[t]),e},s.prototype._getLength=function(){var t=0,e=null;return null!=this.itemsSource?e=null!=this._cv?this._cv.items:this.itemsSource:null!=this._chart.itemsSource&&(e=null!=this._chart.collectionView?this._chart.collectionView.items:this._chart.itemsSource),null!=e&&(t=e.length),t},s.prototype._setPointIndex=function(t,e){this._pointIndexes[t]=e},s.prototype._getDataRect=function(){var t=this.getValues(0),e=this.getValues(1);if(t){for(var n=NaN,i=NaN,r=NaN,o=NaN,a=t.length,d=0;d<a;d++){var p=t[d];if(isFinite(p)&&(isNaN(i)?i=o=p:p<i?i=p:p>o&&(o=p)),e){var v=e[d];isFinite(v)&&(isNaN(n)?n=r=v:v<n?n=v:p>o&&(r=v))}}if(e||(n=0,r=a-1),!isNaN(i))return new u.Rect(n,i,r-n,o-i)}return null},s.prototype._isCustomAxisX=function(){return!(!this._axisX||this._chart&&this._axisX==this.chart.axisX)},s.prototype._isCustomAxisY=function(){return!(!this._axisY||this._chart&&this._axisY==this.chart.axisY)},s.prototype._getAxisX=function(){var t=null;return this.axisX?t=this.axisX:this.chart&&(t=this.chart.axisX),t},s.prototype._getAxisY=function(){var t=null;return this.axisY?t=this.axisY:this.chart&&(t=this.chart.axisY),t},s.prototype._measureLegendItem=function(t,e){var n=new u.Size;if(n.width=s._LEGEND_ITEM_WIDTH,n.height=s._LEGEND_ITEM_HEIGHT,this._name){var i=t.measureString(e,Ai._CSS_LABEL,Ai._CSS_LEGEND);n.width+=i.width,n.height<i.height&&(n.height=i.height)}return n.width+=3*s._LEGEND_ITEM_MARGIN,n.height+=2*s._LEGEND_ITEM_MARGIN,n},s.prototype._drawFunnelLegendItem=function(t,e,n,i,r){t.strokeWidth=1;var o=s._LEGEND_ITEM_MARGIN,a=null,d=null;null===a&&(a=this._chart._getColorLight(n)),null===d&&(d=this._chart._getColor(n)),t.fill=a,t.stroke=d;var p=e.top+.5*e.height,v=s._LEGEND_ITEM_WIDTH,M=s._LEGEND_ITEM_HEIGHT,T=this._getFunnelLegendName(n);t.drawRect(e.left+o,p-.5*M,v,M,null,r||i),null!=T&&Ai._renderText(t,T,new u.Point(e.left+M+2*o,p),0,1,Ai._CSS_LABEL,Ai._CSS_LEGEND)},s.prototype._getFunnelLegendName=function(t){var e,n=this._chart;return n._xlabels&&n._xlabels.length&&t<n._xlabels.length?e=n._xlabels[t]:n._xvals&&n._xvals.length&&t<n._xvals.length&&(e=n._xvals[t],n._xDataType===u.DataType.Date&&(e=Ai._fromOADate(e))),null==e&&(e=this.name),e.toString()},s.prototype._drawLegendItem=function(t,e,n,i,r,o){t.strokeWidth=1;var a=s._LEGEND_ITEM_MARGIN,d=null,p=null;null===d&&(d=this._chart._getColorLight(this._chart.series.indexOf(this))),null===p&&(p=this._chart._getColor(this._chart.series.indexOf(this))),t.fill=d,t.stroke=p;var v=e.top+.5*e.height,M=s._LEGEND_ITEM_WIDTH,T=s._LEGEND_ITEM_HEIGHT;switch(n){case xi.Area:case xi.SplineArea:case xi.StepArea:t.drawRect(e.left+a,v-.5*T,M,T,null,r);break;case xi.Bar:case xi.Column:t.drawRect(e.left+a,v-.5*T,M,T,null,o||r);break;case xi.Scatter:case xi.Bubble:var k=.3*M,L=.3*T;this.symbolMarker==Lr.Box?t.drawRect(e.left+a+.5*M-k,v-L,2*k,2*L,null,o||r):t.drawEllipse(e.left+.5*M+a,v,k,L,null,o||r);break;case xi.Line:case xi.Spline:case xi.Step:t.drawLine(e.left+a,v,e.left+M+a,v,null,r);break;case xi.LineSymbols:case xi.SplineSymbols:case xi.StepSymbols:k=.3*M,L=.3*T,this.symbolMarker==Lr.Box?t.drawRect(e.left+a+.5*M-k,v-L,2*k,2*L,null,o||r):t.drawEllipse(e.left+.5*M+a,v,k,L,null,o||r),t.drawLine(e.left+a,v,e.left+M+a,v,null,r);break;case xi.Candlestick:case xi.HighLowOpenClose:t.drawLine(e.left+a,v,e.left+M+a,v,null,o||r)}this._name&&Ai._renderText(t,i,new u.Point(e.left+T+2*a,v),0,1,Ai._CSS_LABEL,Ai._CSS_LEGEND)},s.prototype._cvCollectionChanged=function(t,e){this._clearValues(),this._invalidate()},s.prototype._cvCurrentChanged=function(t,e){this._chart&&this._chart._notifyCurrentChanged&&this._invalidate()},s.prototype._bindValues=function(t,e,n){var i,r,o;if(void 0===n&&(n=!1),null!=t){var a=t.length;i=new Array(t.length);for(var d=e?new u.Binding(e):null,p=0;p<a;p++){o=null;var v=t[p];null!=d&&(v=d.getValue(v)),(0,u.isArray)(v)&&v.length>0&&(o=v,v=v[0]),(0,u.isNumber)(v)?(i[p]=v,r=u.DataType.Number):(0,u.isDate)(v)?(i[p]=v.valueOf(),r=u.DataType.Date):n&&v&&(i[p]=p,r=u.DataType.Number),(0,u.isArray)(o)&&o.length>0&&(i[p]=o)}}var M=new Js;return M.values=i,M.dataType=r,M},s.prototype._invalidate=function(){this._chart&&this._chart.invalidate()},s.prototype._indexToPoint=function(t){return t>=0&&t<this._values.length?new u.Point(this._xvalues?this._xvalues[t]:t,this._values[t]):null},s.prototype._getSymbolFill=function(t){var e=null;return this.symbolStyle&&(e=this.symbolStyle.fill),!e&&this.style&&(e=this.style.fill),!e&&this.chart&&(e=this.chart._getColorLight(t)),e},s.prototype._getSymbolStroke=function(t){var e=null;return this.symbolStyle&&(e=this.symbolStyle.stroke),!e&&this.style&&(e=this.style.stroke),!e&&this.chart&&(e=this.chart._getColor(t)),e},s.prototype._getAltSymbolStroke=function(t){var e=null;return this.altStyle&&(e=this.altStyle.stroke),e},s.prototype._getAltSymbolFill=function(t){var e=null;return this.altStyle&&(e=this.altStyle.fill),e},s.prototype._renderLabels=function(t,e,n,i){this._plotter&&this._plotter._renderLabels(t,this,e,n,i)},s._LEGEND_ITEM_WIDTH=10,s._LEGEND_ITEM_HEIGHT=10,s._LEGEND_ITEM_MARGIN=4,s._DEFAULT_SYM_SIZE=10,s}(),Xo=function(s){function t(){return null!==s&&s.apply(this,arguments)||this}return ur(t,s),Object.defineProperty(t.prototype,"chartType",{get:function(){return this._chartType},set:function(e){(e=(0,u.asEnum)(e,xi,!0))!=this._chartType&&(this._chartType=e,this._invalidate())},enumerable:!0,configurable:!0}),t}(Lo),Hr=function(s){function t(e,n){var i=s.call(this,e,null,!0)||this;i._areas=[],i._keywords=new sa,i._startAngle=0,i._innerRadius=0,i._offset=0,i._reversed=!1,i._isAnimated=!1,i._selectedItemPosition=Nn.None,i._selectedItemOffset=0,i._pieGroups=[],i._rotationAngles=[],i._centers=[new u.Point],i._selectedOffset=new u.Point,i._selectedIndex=-1,i._angles=[],i._colRowLens=[],i._titles=void 0,i._values=[],i._labels=[],i._pels=[],i._sum=0,i._sums=[],i._bindingSeparator=",",i.applyTemplate("wj-control wj-flexchart wj-flexpie",null,null),i._currentRenderEngine=new Co(i.hostElement),i._legend=new ms(i),i._tooltip=new vs,i._tooltip.content="<b>{name}</b><br/>{value}",i._tooltip.showDelay=0,i._lbl=new uo,i._lbl._chart=i;var r=i;return i.hostElement.addEventListener("mousemove",function(o){var a=r._tooltip;if(a.content&&!r.isTouching){var d=r.hitTest(o);if(d.distance<=a.threshold){var p=r._getLabelContent(d,r.tooltip.content);r._showToolTip(p,new u.Rect(o.clientX,o.clientY,5,5))}else r._hideToolTip()}}),i.hostElement.addEventListener("click",function(o){var a=!0;if(r.selectionMode==hr.Point){var d=r.hitTest(o),p=Nr._SELECTION_THRESHOLD;r.tooltip&&r.tooltip.threshold&&(p=r.tooltip.threshold),d.distance<=p?(d.pointIndex!=r._selectionIndex&&r.selectedItemPosition!=Nn.None&&(a=!1),d.pointIndex!=r._selectionIndex&&r._select(d.pointIndex,!0)):r._selectedIndex>=0&&r._select(null)}if(a&&r.isTouching){var v=r._tooltip;if(v.content)if((d=r.hitTest(o)).distance<=v.threshold){var M=r._getLabelContent(d,r.tooltip.content);r._showToolTip(M,new u.Rect(o.clientX,o.clientY,5,5))}else r._hideToolTip()}}),i.hostElement.addEventListener("mouseleave",function(o){r._hideToolTip()}),i.deferUpdate(function(){return i.initialize(n)}),i}return ur(t,s),Object.defineProperty(t.prototype,"binding",{get:function(){return this._binding},set:function(e){e!=this._binding&&(this._binding=(0,u.asString)(e,!0),this._bindChart())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bindingName",{get:function(){return this._bindingName},set:function(e){e!=this._bindingName&&(this._bindingName=(0,u.asString)(e,!0),this._bindChart())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startAngle",{get:function(){return this._startAngle},set:function(e){e!=this._startAngle&&(this._startAngle=(0,u.asNumber)(e,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"offset",{get:function(){return this._offset},set:function(e){e!=this._offset&&(this._offset=(0,u.asNumber)(e,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerRadius",{get:function(){return this._innerRadius},set:function(e){e!=this._innerRadius&&(this._innerRadius=(0,u.asNumber)(e,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerTextStyle",{get:function(){return this._innerTextStyle},set:function(e){e!=this._innerText&&(this._innerTextStyle=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerText",{get:function(){return this._innerText},set:function(e){e!=this._innerText&&(this._innerText=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"reversed",{get:function(){return this._reversed},set:function(e){e!=this._reversed&&(this._reversed=(0,u.asBoolean)(e,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedItemPosition",{get:function(){return this._selectedItemPosition},set:function(e){(e=(0,u.asEnum)(e,Nn,!0))!=this._selectedItemPosition&&(this._selectedItemPosition=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedItemOffset",{get:function(){return this._selectedItemOffset},set:function(e){e!=this._selectedItemOffset&&(this._selectedItemOffset=(0,u.asNumber)(e,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isAnimated",{get:function(){return this._isAnimated},set:function(e){e!=this._isAnimated&&(this._isAnimated=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltip",{get:function(){return this._tooltip},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataLabel",{get:function(){return this._lbl},set:function(e){e!=this._lbl&&(this._lbl=e,this._lbl&&(this._lbl._chart=this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedIndex",{get:function(){return this._selectedIndex},set:function(e){if(e!=this._selectedIndex){var n=(0,u.asNumber)(e,!0);this._select(n,!0)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"titles",{get:function(){return this._titles},set:function(e){e!==this._titles&&(this._titles=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"chartsPerLine",{get:function(){return this._chartsPerLine},set:function(e){e!=this._chartsPerLine&&(this._chartsPerLine=(0,u.asNumber)(e,!0,!0),this.invalidate())},enumerable:!0,configurable:!0}),t.prototype._getLabelsForLegend=function(){return this._labels},t.prototype.hitTest=function(e,n){var i=this._toControl(e,n),r=new Kr(this,i),o=null;if(Nr._contains(this._rectHeader,i))r._chartElement=Vr.Header;else if(Nr._contains(this._rectFooter,i))r._chartElement=Vr.Footer;else if(Nr._contains(this._rectLegend,i))r._chartElement=Vr.Legend,null!==(o=this.legend._hitTest(i))&&o>=0&&o<this._areas.length&&r._setData(null,o);else if(Nr._contains(this._rectChart,i)){for(var a,d=this._areas.length,p=NaN,v=0;v<d;v++){var M=i.clone(),T=this._areas[v],k=this._rotationAngles[T.gi];if(0!=k){var L=this._centers[T.gi],Y=L.x,ce=L.y,ae=-Y+M.x,Ee=-ce+M.y,Me=Math.sqrt(ae*ae+Ee*Ee),ze=Math.atan2(Ee,ae)-k*Math.PI/180;M.x=Y+Me*Math.cos(ze),M.y=ce+Me*Math.sin(ze)}v==this._selectedIndex&&(M.x-=this._selectedOffset.x,M.y-=this._selectedOffset.y);var st=this._areas[v];if(st.contains(M)&&(r._setDataGroup(T.gi,st.tag),r._dist=0,v!=this._selectedIndex))break;var xt=st.distance(M);void 0!==xt&&(isNaN(p)||xt<p)&&(p=xt,a=st)}0!==r._dist&&null!=a&&(r._setDataGroup(a.gi,a.tag),r._dist=p),r._chartElement=Vr.ChartArea}else r._chartElement=Vr.None;return r},t.prototype._performBind=function(){if(this._initData(),this._cv){this._selectionIndex=this._cv.currentPosition;var e=this._cv.items;if(e){for(var n=e.length,i=this._getBindings(),r=0;r<i.length;r++)this._values[r]=[],this._sums[r]=0;for(var o=0;o<n;o++){var a=e[o];for(r=0;r<i.length;r++)this._sums[r]+=Math.abs(this._getBindData(a,this._values[r],0==r?this._labels:null,i[r],this.bindingName))}}}},t.prototype._getBindings=function(){var e=[],n=this.binding;if(n){var i=this._bindingSeparator;i&&(e=n.split(i))}return e},t.prototype._initData=function(){this._sum=0,this._sums=[],this._values=[],this._labels=[]},t.prototype._getBindData=function(e,n,i,r,o){var a,d=0,p=r?new u.Binding(r):null;p&&(a=p.getValue(e)),d=0,(0,u.isNumber)(a)?d=(0,u.asNumber)(a):a&&(d=parseFloat(a.toString())),!isNaN(d)&&isFinite(d)||(d=0),n.push(d);var v=o?new u.Binding(o):null;if(i)if(v&&e){var M=v.getValue(e);M&&(M=M.toString()),i.push(M)}else i.push(d.toString());return d},t.prototype._render=function(e,n,i){void 0===n&&(n=!0),void 0===i&&(i=null),this._selectionAnimationID&&clearInterval(this._selectionAnimationID),this.onRendering(new Oo(e)),s.prototype._render.call(this,e,n,i)},t.prototype._prepareRender=function(){this._areas=[]},t.prototype._renderChart=function(e,n,i){var a,r=this._rectChart.clone(),o=new u.Size(r.width,r.height),d=this._parseMargin(this.plotMargin),p=this.dataLabel,v=p.content&&p.position==Do.Outside,M=v?((0,u.isNumber)(p.offset)?p.offset:0)+24:0;isNaN(d.left)&&(d.left=v?M:t._MARGIN),isNaN(d.right)&&(d.right=v?M:t._MARGIN),isNaN(d.top)&&(d.top=v?M:t._MARGIN),isNaN(d.bottom)&&(d.bottom=v?M:t._MARGIN),n.top+=d.top,n.height=(a=n.height-(d.top+d.bottom))>0?a:24,n.left+=d.left,n.width=(o=n.width-(d.left+d.right))>0?o:24;var T=this._getBindings(),k=this.titles;void 0===k&&T.length>1&&(k=T);var L=this._layout(e,n,k,T.length);this._angles=[],this._pels=[],this._pieGroups=[],this._rotationAngles=[];for(var Y=0;Y<T.length;Y++){var ce=L[Y];k&&Y<k.length&&k[Y]&&Nr._renderText(e,k[Y],new u.Point(ce.left+.5*ce.width,ce.top),1,2,t._CSS_GROUP_TITLE);var ae=e.startGroup("wj-slice-group",null,!0);this._pieGroups.push(ae),this._renderData(e,ce,Y,ae),e.endGroup(),this._rotationAngles.push(0)}this._highlightCurrent(),this.innerText&&this._renderInnerText(e),this.dataLabel.content&&this.dataLabel.position!=Do.None&&this._renderLabels(e),this.onRendered(new Oo(e))},t.prototype._layout=function(e,n,i,r){var o=0,a=r,d=1,p=0;if(i)for(var v=0;v<i.length;v++)p=Math.max(p,e.measureString(i[v],t._CSS_GROUP_TITLE).height);var M=Math.floor(this.chartsPerLine);if(M>0){a=Math.min(r,M),d=Math.ceil(r/a);var T=Math.floor(n.width/a),k=Math.floor(n.height/d)-p;o=Math.min(T,k)}else for(var L=1;L<=r;L++){var Y=Math.floor((r+(L-1))/L);T=Math.floor(n.width/L),k=Math.floor(n.height/Y),(k-=p)<T&&(T=k),T>o&&(o=T,a=L,d=Y)}for(var ce=[],ae=.5*(n.width-o*a),Ee=.5*(n.height-(o+p)*d),Me=0;Me<d;Me++)for(var ze=0;ze<a;ze++)ce.push(new u.Rect(n.left+o*ze+8+ae,n.top+(o+p)*Me+8+Ee+p,o-16,o-16));return ce},t.prototype._getDesiredLegendSize=function(e,n,i,r){var o=new u.Size,a=(new u.Size(i,r),this._getLabelsForLegend()),d=a.length,p=0,v=0,M=this.legend.scrollbar?18:0;this._colRowLens=[];for(var T=0;T<d;T++){var k=this._measureLegendItem(e,a[T]);n?(v+k.height>r&&!this.legend.scrollbar&&(o.height=r,this._colRowLens.push(p),p=0,v=0),p<k.width&&(p=k.width),v+=k.height):(p+k.width>i-M&&(o.width=i,this._colRowLens.push(v),v=0,p=0),v<k.height&&(v=k.height),p+=k.width)}return n?(o.height<v&&(o.height=v),this._colRowLens.push(p),o.width=this._colRowLens.reduce(function(L,Y){return L+Y},0)):(o.width<p&&(o.width=p),this._colRowLens.push(v),o.height=this._colRowLens.reduce(function(L,Y){return L+Y},0)),o},t.prototype._renderLegend=function(e,n,i,r,o,a){for(var d=new u.Rect(n.x,n.y,o,a),p=this._getLabelsForLegend(),v=p.length,M=0,T=n.clone(),k=0;k<v;k++){var L=this._measureLegendItem(e,p[k]);r?T.y+L.height>d.top+d.height+1&&!this.legend.scrollbar&&(T.x+=this._colRowLens[M],M++,T.y=n.y):T.x+L.width>d.right&&(T.y+=this._colRowLens[M],M++,T.x=n.x);var Y=new u.Rect(T.x,T.y,L.width,L.height);this._drawLegendItem(e,Y,k,p[k]),i.push(Y),r?T.y+=L.height:T.x+=L.width}},t.prototype._renderData=function(e,n,i,r){var d=this.innerRadius,p=this.offset;if(d>1&&(d=1),this._sums[i]>0){var v=(this.startAngle+180)*Math.PI/180,M=n.left+.5*n.width,T=n.top+.5*n.height,k=Math.min(.5*n.width,.5*n.height);this._centers[i]=new u.Point(M,T);var L=Math.max(p,this.selectedItemOffset);L>0&&(p*=k/=1+L),this._radius=k,this._renderPie(e,i,k,d*k,v,p)}},t.prototype._renderPie=function(e,n,i,r,o,a){this._renderSlices(e,this._values[n],this._sums[n],n,i,r,o,2*Math.PI,a)},t.prototype._getCenter=function(){return this._centers[0]},t.prototype._renderSlices=function(e,n,i,r,o,a,d,p,v){for(var M,T,k,L=n.length,Y=0,ce=d,ae=1==this.reversed,Ee=this._centers[r],Me=0;Me<L;Me++)n[Me]>0&&Y++;var ze=1===Y?360:359.9/360;for(Me=0;Me<L;Me++){T=Ee.x,k=Ee.y,M=e.startGroup("wj-slice"),e.fill=this._getColorLight(Me),e.stroke=this._getColor(Me);var st=Math.abs(n[Me]),xt=Math.abs(st-i)<1e-10?p:p*st/i;xt=Math.min(xt,p*ze);var yt=ae?ce-.5*xt:ce+.5*xt;v>0&&xt<p&&(T+=v*Math.cos(yt),k+=v*Math.sin(yt)),this._renderSlice(e,T,k,yt,r,Me,o,a,ce,xt,p),ae?ce-=xt:ce+=xt,e.endGroup(),this._pels.push(M)}},t.prototype._renderSlice=function(e,n,i,r,o,a,d,p,v,M,T){var k=this,L=!!this.reversed;if(this._angles.push(r),this.itemFormatter){var Y=new Kr(this,new u.Point(n+d*Math.cos(r),i+d*Math.sin(r)),Vr.SeriesSymbol);Y._setData(null,a),this.itemFormatter(e,Y,function(){k._drawSlice(e,o,a,L,n,i,d,p,v,M)}),e.cssPriority=!0}else this._drawSlice(e,o,a,L,n,i,d,p,v,M)},t.prototype._getSelectedItemOffset=function(e,n){var i=0,r=0,o=0;return e==this._selectedIndex&&this.selectedItemOffset>0&&(o=this.selectedItemOffset),o>0&&(i=Math.cos(n)*o*this._radius,r=Math.sin(n)*o*this._radius),{x:i,y:r}},t.prototype._renderInnerText=function(e){for(var n=this.innerText,i=this.innerTextStyle,r=0;r<this._centers.length;r++){var o=this._centers[r],a=void 0;(a=(0,u.isFunction)(n)?n(r):(0,u.isArray)(n)?(0,u.asString)(n[r]):(0,u.asString)(n))&&(a=(0,u.format)(a,{total:this._sums[r],binding:this._getBindings()[r]}),i&&(e.cssPriority=!1),t._renderText(e,a,o,1,1,Nr._CSS_TITLE,null,i),e.cssPriority=!0)}},t.prototype._renderLabels=function(e){var n=this._areas.length,i=this.dataLabel,r=i.position,o="wj-data-label",a=this._rotationAngles,d=i.connectingLine,p=i.offset?i.offset:0;e.stroke="null",e.fill="transparent",e.strokeWidth=1,e.startGroup("wj-data-labels");for(var v=0;v<n;v++){var M=this._areas[v];if(M){var T=M.radius,k=M.langle+a[M.gi],L=1,Y=1;r==Do.Center||r===Do.Radial||r===Do.Circular?T*=.5*(1+(M.innerRadius||0)/M.radius):((k=ts.clampAngle(k))<=-170||k>=170?(L=2,Y=1):k>=-100&&k<=-80?(L=1,Y=2):k>=-10&&k<=10?(L=0,Y=1):k>=80&&k<=100?(L=1,Y=0):-180<k&&k<-90?(L=2,Y=2):-90<=k&&k<0?(L=0,Y=2):0<k&&k<90?(L=0,Y=0):90<k&&k<180&&(L=2,Y=0),r==Do.Inside&&(L=2-L,Y=2-Y)),k*=Math.PI/180;var ae=this._getSelectedItemOffset(M.gi?v-M.gi*this._values[0].length:v,k),Ee=ae.x,Me=ae.y,ze=T;r==Do.Outside?ze+=p:r==Do.Inside&&(ze-=p);var st=M.center.x,xt=M.center.y,yt=this._centers[M.gi],St=st-yt.x,Dt=xt-yt.y;if(0!=this._rotationAngles[M.gi]){var Nt=Math.sqrt(St*St+Dt*Dt),en=Math.atan2(Dt,St)+this._rotationAngles[M.gi]*Math.PI/180;st=yt.x+Nt*Math.cos(en),xt=yt.y+Nt*Math.sin(en)}var Rt=new u.Point(st+Ee+ze*Math.cos(k),xt+Me+ze*Math.sin(k));i.border&&r!=Do.Center&&(0==L?Rt.x+=2:2==L&&(Rt.x-=2),0==Y?Rt.y+=2:2==Y&&(Rt.y-=2));var Kt=new Kr(this,Rt);Kt._setDataGroup(M.gi,M.tag);var Vt=this._getLabelContent(Kt,i.content),jn=new co(e,Kt,Rt,Vt);if(i.onRendering&&(i.onRendering(jn)?(Vt=jn.text,Rt=jn.point):Vt=null),Vt){var _n,Wn=180*Math.atan2(xt-Rt.y,st-Rt.x)/Math.PI;if(Wn=(Wn+360)%360,r===Do.Radial||r===Do.Circular?(r===Do.Radial?Wn>90&&Wn<270&&(Wn+=180):(Wn>180&&Wn<360&&(Wn+=180),Wn-=90),(_n=Nr._renderRotatedText(e,Vt,Rt,L,Y,Rt,Wn,o).getBBox()).left=_n.x,_n.top=_n.y):_n=Nr._renderText(e,Vt,Rt,L,Y,o),i.border&&e.drawRect(_n.left-2,_n.top-2,_n.width+4,_n.height+4,"wj-data-label-border"),d){var wn=new u.Point(st+Ee+T*Math.cos(k),xt+Me+T*Math.sin(k));e.drawLine(Rt.x,Rt.y,wn.x,wn.y,"wj-data-label-line")}}e.cssPriority=!0}}e.endGroup()},t.prototype._drawSlice=function(e,n,i,r,o,a,d,p,v,M){var T;r?p>0?(0!=M&&e.drawDonutSegment(o,a,d,p,v-M,M),(T=new ma(new u.Point(o,a),d,p,v-M,M,this.startAngle)).tag=i,this._areas.push(T)):(0!=M&&e.drawPieSegment(o,a,d,v-M,M),(T=new Hs(new u.Point(o,a),d,v-M,M,this.startAngle)).tag=i,this._areas.push(T)):(p>0?(0!=M&&e.drawDonutSegment(o,a,d,p,v,M),(T=new ma(new u.Point(o,a),d,p,v,M,this.startAngle)).tag=i,this._areas.push(T)):(0!=M&&e.drawPieSegment(o,a,d,v,M),(T=new Hs(new u.Point(o,a),d,v,M,this.startAngle)).tag=i,this._areas.push(T)),v+=M),T&&(T.gi=n)},t.prototype._measureLegendItem=function(e,n){var i=new u.Size;if(i.width=Xo._LEGEND_ITEM_WIDTH,i.height=Xo._LEGEND_ITEM_HEIGHT,n){var r=e.measureString(n,Nr._CSS_LABEL,Nr._CSS_LEGEND);i.width+=r.width,i.height<r.height&&(i.height=r.height)}return i.width+=3*Xo._LEGEND_ITEM_MARGIN,i.height+=2*Xo._LEGEND_ITEM_MARGIN,i},t.prototype._drawLegendItem=function(e,n,i,r){e.strokeWidth=1;var o=Xo._LEGEND_ITEM_MARGIN,a=null,d=null;null===a&&(a=this._getColorLight(i)),null===d&&(d=this._getColor(i)),e.fill=a,e.stroke=d;var p=n.top+.5*n.height,M=Xo._LEGEND_ITEM_HEIGHT;e.drawRect(n.left+o,p-.5*M,Xo._LEGEND_ITEM_WIDTH,M,null),null!=r&&Nr._renderText(e,r.toString(),new u.Point(n.left+M+2*o,p),0,1,Nr._CSS_LABEL)},t.prototype._getLabelContent=function(e,n){return(0,u.isString)(n)?this._keywords.replace(n,e):(0,u.isFunction)(n)?n(e):null},t.prototype._select=function(e,n){if(void 0===n&&(n=!1),this._highlight(!1,this._selectionIndex),this._selectionIndex=e,this.selectionMode==hr.Point){var i=this._cv;i&&(this._notifyCurrentChanged=!1,i.moveCurrentToPosition(e),this._notifyCurrentChanged=!0)}null==e?(this._selectedIndex=-1,this.invalidate()):this.isAnimated&&this.selectedItemPosition!=Nn.None||!(this.selectedItemOffset>0||this.selectedItemPosition!=Nn.None)?this._highlight(!0,this._selectionIndex,n):(this._selectedIndex=e,this.invalidate()),this.onSelectionChanged()},t.prototype._highlightCurrent=function(){if(this.selectionMode!=hr.None){var e=-1,n=this._cv;n&&(e=n.currentPosition),this._highlight(!0,e)}},t.prototype._highlight=function(e,n,i){if(void 0===i&&(i=!1),this.selectionMode==hr.Point&&null!=n&&n>=0)if(e){for(var r=[],o=0;o<this._pieGroups.length;o++){if(L=this._pels[n+o*this._values[0].length]){L.parentNode.appendChild(L);var a=this._find(L,["ellipse"]);this._highlightItems(this._find(L,["path","ellipse"]),Nr._CSS_SELECTION,e)}var d=this._angles[n+o*this._values[0].length];if(this.selectedItemPosition!=Nn.None&&0!=d){var p=0;this.selectedItemPosition==Nn.Left?p=180:this.selectedItemPosition==Nn.Top?p=-90:this.selectedItemPosition==Nn.Bottom&&(p=90);var v=p*Math.PI/180-d;v*=180/Math.PI,i&&this.isAnimated?r.push(v):(this._rotationAngles[o]=v,this._pieGroups[o].transform.baseVal.getItem(0).setRotate(v,this._centers[o].x,this._centers[o].y))}var M=this.selectedItemOffset;if(M>0&&a&&0==a.length){var T=this._selectedOffset.x=Math.cos(d)*M*this._radius,k=this._selectedOffset.y=Math.sin(d)*M*this._radius;L&&L.setAttribute("transform","translate("+T.toFixed()+","+k.toFixed()+")")}this._selectedIndex=n}r.length>0&&this._animateSelectionAngle(r,.5)}else{for(o=0;o<this._pieGroups.length;o++){var L;(L=this._pels[n+o*this._values[0].length])&&(L.parentNode.insertBefore(L,L.parentNode.childNodes.item(n)),L.removeAttribute("transform"),this._highlightItems(this._find(L,["path","ellipse"]),Nr._CSS_SELECTION,e))}this._selectedIndex==n&&(this._selectedIndex=-1)}},t.prototype._animateSelectionAngle=function(e,n){var i=this,r=i._pieGroups;i._selectionAnimationID&&clearInterval(this._selectionAnimationID),this._selectionAnimationID=(0,u.animate)(function(o){if(r==i._pieGroups){for(var a=0;a<r.length;a++){var d=ts.clampAngle(i._rotationAngles[a]),p=ts.clampAngle(e[a])-d;i._rotationAngles[a]=d+=p*o,r[a].transform.baseVal.getItem(0).setRotate(d,i._centers[a].x,i._centers[a].y)}1==o&&clearInterval(i._selectionAnimationID),o>.99&&(i.selectedItemOffset>0||i.selectedItemPosition!=Nn.None)&&i.invalidate()}},1e3*n)},t.prototype._getHitTestItem=function(e){var n,i=null;return(n=null!=this._cv?this._cv.items:this.itemsSource)&&e<n.length&&(i=n[e]),i},t.prototype._getHitTestValue=function(e,n){return null==n&&(n=0),this._values[n][e]},t.prototype._getHitTestLabel=function(e){return this._labels[e]},t._MARGIN=4,t._CSS_GROUP_TITLE="wj-label",t}(Nr),ts=function(){function s(){}return s.clampAngle=function(t,e){void 0===e&&(e=0);var n=(t+180)%360-180;return n<-180+(e<0?e+360:e)&&(n+=360),n},s}(),Hs=function(){function s(t,e,n,i,r){void 0===r&&(r=0),this._isFull=!1,this._center=t,this._radius=e,this._originAngle=n,this._originSweep=i,i>=2*Math.PI&&(this._isFull=!0),this._sweep=.5*i*180/Math.PI,this._angle=ts.clampAngle(180*n/Math.PI+this._sweep),this._radius2=e*e,this._startAngle=r}return s.prototype.contains=function(t){var e=t.x-this._center.x,n=t.y-this._center.y;if(e*e+n*n<=this._radius2){var i=180*Math.atan2(n,e)/Math.PI,r=ts.clampAngle(this._angle,this._startAngle)-ts.clampAngle(i,this._startAngle);if(this._isFull||Math.abs(r)<=this._sweep)return!0}return!1},s.prototype.distance=function(t){if(this.contains(t))return 0;var e=t.x-this._center.x,n=t.y-this._center.y,i=e*e+n*n,r=180*Math.atan2(n,e)/Math.PI,o=ts.clampAngle(this._angle,this._startAngle)-ts.clampAngle(r,this._startAngle);return this._isFull||Math.abs(o)<=this._sweep?Math.sqrt(i)-this._radius:void 0},Object.defineProperty(s.prototype,"center",{get:function(){return this._center},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"radius",{get:function(){return this._radius},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"langle",{get:function(){return this._angle},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"angle",{get:function(){return this._originAngle},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"sweep",{get:function(){return this._originSweep},enumerable:!0,configurable:!0}),s}(),ma=function(){function s(t,e,n,i,r,o){void 0===o&&(o=0),this._isFull=!1,this._center=t,this._radius=e,this._iradius=n,this._originAngle=i,this._originSweep=r,r>=2*Math.PI&&(this._isFull=!0),this._sweep=.5*r*180/Math.PI,this._angle=ts.clampAngle(180*i/Math.PI+this._sweep),this._radius2=e*e,this._iradius2=n*n,this._startAngle=o}return s.prototype.contains=function(t){var e=t.x-this._center.x,n=t.y-this._center.y,i=e*e+n*n;if(i>=this._iradius2&&i<=this._radius2){var r=180*Math.atan2(n,e)/Math.PI,o=ts.clampAngle(this._angle,this._startAngle)-ts.clampAngle(r,this._startAngle);if(this._isFull||Math.abs(o)<=this._sweep)return!0}return!1},s.prototype.distance=function(t){if(this.contains(t))return 0},Object.defineProperty(s.prototype,"center",{get:function(){return this._center},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"radius",{get:function(){return this._radius},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"langle",{get:function(){return this._angle},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"angle",{get:function(){return this._originAngle},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"sweep",{get:function(){return this._originSweep},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"innerRadius",{get:function(){return this._iradius},enumerable:!0,configurable:!0}),s}(),xs=function(){function s(){this._DEFAULT_WIDTH=2,this._DEFAULT_SYM_SIZE=10,this.clipping=!0}return s.prototype.clear=function(){this.seriesCount=0,this.seriesIndex=0},s.prototype._renderLabels=function(t,e,n,i,r){var o=n.length,a=i.dataLabel,p=a.offset;void 0===p&&(p=a.connectingLine?16:0),a.border&&(p-=2);for(var M=0;M<o;M++){var T=n[M],k=(0,u.asType)(T.tag,q,!0);k&&!T.ignoreLabel&&this._renderLabel(t,T,k,i,a,e,p,r)}},s.prototype._renderLabel=function(t,e,n,i,r,o,a,d){var p=null==r.position?sr.Top:r.position,v=r.border,M=r.connectingLine,T=new Kr(i,L);T._setDataPoint(n);var k=i._getLabelContent(T,r.content),L=this._getLabelPoint(o,n);if(this._getPointAndPosition(L,p,e,i),i._plotRect.contains(L)){var Y=new co(t,T,L,k);if(r.onRendering&&(r.onRendering(Y)?(k=Y.text,L=Y.point):k=null),k){var ce=this._renderLabelAndBorder(t,k,p,a,L,M,2,v);if(ce){var ae=new gt(ce);ae.tag=n,d.push(ae)}}t.cssPriority=!0}},s.prototype._getPointAndPosition=function(t,e,n,i){if(n instanceof gt){var r=n;i._isRotated()?t.y=r.rect.top+.5*r.rect.height:t.x=r.rect.left+.5*r.rect.width}},s.prototype._getLabelPoint=function(t,e){var n=t._getAxisX(),i=t._getAxisY();return new u.Point(n.convert(e.dataX),i.convert(e.dataY))},s.prototype._renderLabelAndBorder=function(t,e,n,i,r,o,a,d){var p,v="wj-data-label",M="wj-data-label-line",T=Ai._CSS_DATA_LABELS;switch(n){case sr.Top:o&&t.drawLine(r.x,r.y,r.x,r.y-i,M),r.y-=a+i,p=Ai._renderText(t,e,r,1,2,v,T);break;case sr.Bottom:o&&t.drawLine(r.x,r.y,r.x,r.y+i,M),r.y+=a+i,p=Ai._renderText(t,e,r,1,0,v,T);break;case sr.Left:o&&t.drawLine(r.x,r.y,r.x-i,r.y,M),r.x-=a+i,p=Ai._renderText(t,e,r,2,1,v,T);break;case sr.Right:o&&t.drawLine(r.x,r.y,r.x+i,r.y,M),r.x+=a+i,p=Ai._renderText(t,e,r,0,1,v,T);break;case sr.Center:p=Ai._renderText(t,e,r,1,1,v,T)}return d&&p&&t.drawRect(p.left-a,p.top-a,p.width+2*a,p.height+2*a,"wj-data-label-border"),p},s.prototype.getOption=function(t,e){var n=this.chart._options;if(e&&(n=n?n[e]:null),n&&!(0,u.isUndefined)(n[t])&&null!==n[t])return n[t]},s.prototype.getNumOption=function(t,e){var n=this.chart._options;if(e&&(n=n?n[e]:null),n&&n[t])return(0,u.asNumber)(n[t],!0)},s.prototype.getItemFormatter=function(t){return t instanceof Lo&&t.itemFormatter?t.itemFormatter:this.chart.itemFormatter},s.cloneStyle=function(t,e){if(!t)return t;var n={};for(var i in t)e&&e.indexOf(i)>=0||(n[i]=t[i]);return n},s.prototype.isValid=function(t,e,n,i){return isFinite(t)&&isFinite(e)&&Ai._contains(this.chart._plotRect,new u.Point(t,e))},s.prototype.load=function(){},s.prototype.unload=function(){},s.prototype._createSteps=function(t,e,n){var i=this.getOption("position","step"),r=n||t.length,o=[],a=[],d=this.chart._isRotated();if("center"==i)if(d)for(var p=0;p<r;p++){var v=0==p?e[p+1]-e[p]:e[p]-e[p-1],M=p==r-1?e[p]-e[p-1]:e[p+1]-e[p];o.push(t[p]),a.push(e[p]-.5*v),o.push(t[p]),a.push(e[p]+.5*M)}else for(p=0;p<r;p++){var k=p==r-1?t[p]-t[p-1]:t[p+1]-t[p];o.push(t[p]-.5*(0==p?t[p+1]-t[p]:t[p]-t[p-1])),a.push(e[p]),o.push(t[p]+.5*k),a.push(e[p])}else if("end"==i)for(p=0;p<r;p++)p>0&&(d?(o.push(t[p]),a.push(e[p-1])):(o.push(t[p-1]),a.push(e[p]))),o.push(t[p]),a.push(e[p]);else for(p=0;p<r;p++)o.push(t[p]),a.push(e[p]),p<r-1&&(d?(o.push(t[p]),a.push(e[p+1])):(o.push(t[p+1]),a.push(e[p])));return{x:o,y:a}},s}();!function(s){s[s.Column=0]="Column",s[s.Bar=1]="Bar",s[s.Scatter=2]="Scatter",s[s.Line=3]="Line",s[s.LineSymbols=4]="LineSymbols",s[s.Area=5]="Area",s[s.Bubble=6]="Bubble",s[s.Candlestick=7]="Candlestick",s[s.HighLowOpenClose=8]="HighLowOpenClose",s[s.Spline=9]="Spline",s[s.SplineSymbols=10]="SplineSymbols",s[s.SplineArea=11]="SplineArea",s[s.Funnel=12]="Funnel",s[s.Step=13]="Step",s[s.StepSymbols=14]="StepSymbols",s[s.StepArea=15]="StepArea"}(xi||(xi={})),function(s){s[s.None=0]="None",s[s.Stacked=1]="Stacked",s[s.Stacked100pc=2]="Stacked100pc"}(Wr||(Wr={}));var Se,Ct,kt,Ai=function(s){function t(e,n){var i=s.call(this,e,null,!0)||this;i._series=new u.ObservableArray,i._axes=new Vs,i._pareas=new gs,i._interpolateNulls=!1,i._legendToggle=!1,i._symbolSize=10,i._dataInfo=new $i,i.__barPlotter=null,i.__linePlotter=null,i.__areaPlotter=null,i.__bubblePlotter=null,i.__financePlotter=null,i.__funnelPlotter=null,i._plotters=[],i._rotated=!1,i._stacking=Wr.None,i._xlabels=[],i._xvals=[],i._lblAreas=[],i._colRowLens=[],i._selectedEls=[],i._markers=[],i._bindingSeparator=",",i.seriesVisibilityChanged=new u.Event,i.applyTemplate("wj-control wj-flexchart",null,null);var r=i;return r._series.collectionChanged.addHandler(function(){for(var o=r._series,a=0;a<o.length;a++){var d=(0,u.tryCast)(o[a],Lo);if(!d)throw"chartSeries array must contain SeriesBase objects.";d._chart=r,d.axisX&&null==d.axisX._chart&&(d.axisX._chart=r,r.axes.push(d.axisX)),d.axisY&&null==d.axisY._chart&&(d.axisY._chart=r,r.axes.push(d.axisY))}r.invalidate()}),i._currentRenderEngine=new Co(i.hostElement),i._hitTester=new Uo(i),i._legend=new ms(i),i._tooltip=new vs,i._tooltip.showDelay=0,i._lbl=new Fs,i._lbl._chart=i,i._initAxes(),r._axes.collectionChanged.addHandler(function(){for(var o=r._axes,a=0;a<o.length;a++){var d=(0,u.tryCast)(o[a],ys);if(!d)throw"axes array must contain Axis objects.";d._chart=r}r.invalidate()}),r._pareas.collectionChanged.addHandler(function(){for(var o=r._pareas,a=0;a<o.length;a++){var d=(0,u.tryCast)(o[a],wo);if(!d)throw"plotAreas array must contain PlotArea objects.";d._chart=r}r.invalidate()}),i._keywords=new sa,i.hostElement.addEventListener("click",function(o){var a=r._tooltip;a.content&&r.isTouching&&r._updateTooltip(a,o)}),i.hostElement.addEventListener("mousemove",function(o){var a=r._tooltip;a.content&&!r.isTouching&&r._updateTooltip(a,o)}),i.hostElement.addEventListener("mouseleave",function(o){r._hideToolTip()}),i.hostElement.addEventListener("click",function(o){if(r.selectionMode!=hr.None){var a=r._hitTestData(o),d=t._SELECTION_THRESHOLD;r.tooltip&&r.tooltip.threshold&&(d=r.tooltip.threshold),a.distance<=d&&a.series?r._select(a.series,a.pointIndex):r.selectionMode==hr.Series&&(a=r.hitTest(o)).chartElement==Vr.Legend&&a.series?r._select(a.series,null):r._select(null,null)}!0===r.legendToggle&&(a=r.hitTest(o)).chartElement==Vr.Legend&&a.series&&(a.series.visibility==zr.Legend?a.series.visibility=zr.Visible:a.series.visibility==zr.Visible&&(a.series.visibility=zr.Legend),r.focus())}),i.deferUpdate(function(){return i.initialize(n)}),i}return ur(t,s),t.prototype.initialize=function(e){if(e&&e.renderEngine){var n=(0,u.asType)(this._currentRenderEngine,Co,!0);n&&n.detach(),this._currentRenderEngine=null}s.prototype.initialize.call(this,e)},t.prototype._initAxes=function(){this._axisX=new ys(Nn.Bottom),this._axisY=new ys(Nn.Left),this._axisX.majorGrid=!1,this._axisX.name="axisX",this._axisY.majorGrid=!0,this._axisY.majorTickMarks=Ar.None,this._axisY.name="axisY",this._axisX._chart=this,this._axisY._chart=this,this._axes.push(this._axisX),this._axes.push(this._axisY)},Object.defineProperty(t.prototype,"series",{get:function(){return this._series},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"axes",{get:function(){return this._axes},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"axisX",{get:function(){return this._axisX},set:function(e){if(e!=this._axisX){var n=this._axisX=(0,u.asType)(e,ys);this.beginUpdate(),n&&(void 0===n.majorGrid&&(n.majorGrid=!1),void 0===n.name&&(n.name="axisX"),null==n.position&&(n.position=Nn.Bottom),n._axisType=Di.X,n._chart=this),this.endUpdate()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"axisY",{get:function(){return this._axisY},set:function(e){if(e!=this._axisY){var n=this._axisY=(0,u.asType)(e,ys);this.beginUpdate(),n&&(void 0===n.majorGrid&&(n.majorGrid=!0),void 0===n.name&&(n.name="axisY"),void 0===n.majorTickMarks&&(n.majorTickMarks=Ar.None),null==n.position&&(n.position=Nn.Left),n._axisType=Di.Y,n._chart=this),this.endUpdate()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"plotAreas",{get:function(){return this._pareas},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"binding",{get:function(){return this._binding},set:function(e){e!=this._binding&&(this._binding=(0,u.asString)(e,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bindingX",{get:function(){return this._bindingX},set:function(e){e!=this._bindingX&&(this._bindingX=(0,u.asString)(e,!0),this._bindChart())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"symbolSize",{get:function(){return this._symbolSize},set:function(e){e!=this._symbolSize&&(this._symbolSize=(0,u.asNumber)(e,!1,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"interpolateNulls",{get:function(){return this._interpolateNulls},set:function(e){e!=this._interpolateNulls&&(this._interpolateNulls=(0,u.asBoolean)(e),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"legendToggle",{get:function(){return this._legendToggle},set:function(e){e!=this._legendToggle&&(this._legendToggle=(0,u.asBoolean)(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltip",{get:function(){return this._tooltip},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataLabel",{get:function(){return this._lbl},set:function(e){e!=this._lbl&&(this._lbl=(0,u.asType)(e,Fs),this._lbl&&(this._lbl._chart=this))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selection",{get:function(){return this._selection},set:function(e){e!=this._selection&&(this._selection=(0,u.asType)(e,Lo,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderEngine",{get:function(){return this._currentRenderEngine},set:function(e){if(e!=this._currentRenderEngine){var n=(0,u.asType)(this._currentRenderEngine,Co,!0);n&&n.detach(),this._currentRenderEngine=e;var i=(0,u.asType)(this._currentRenderEngine,Co,!0);i&&i.attach(this.hostElement),this.refresh()}},enumerable:!0,configurable:!0}),t.prototype.onSeriesVisibilityChanged=function(e){this.seriesVisibilityChanged.raise(this,e)},t.prototype.hitTest=function(e,n){var i=this._toControl(e,n),r=new Kr(this,i),o=null;if(t._contains(this._rectHeader,i))r._chartElement=Vr.Header;else if(t._contains(this._rectFooter,i))r._chartElement=Vr.Footer;else if(t._contains(this._rectLegend,i))r._chartElement=Vr.Legend,null!==(o=this.legend._hitTest(i))&&o>=0&&o<this.series.length&&(this._getChartType()===xi.Bar?r._setData(this.series[this.series.length-1-o]):r._setData(this.series[o]));else if(t._contains(this._rectChart,i)){var a=this._hitTestLabels(i);if(a)r._chartElement=Vr.DataLabel,r._dist=0,r._setDataPoint(a.tag);else{for(var d=this._hitTester.hitTest(i),p=null,v=null,M=this.series.length-1;M>=0;M--)if(this.series[M].hitTest!==Xo.prototype.hitTest){var T=this.series[M].hitTest(e);if(T&&((!p||T.distance<p.distance)&&(p=T,v=M),0===T.distance))break}d&&d.area?p&&p.distance<d.distance||p&&p.distance==d.distance&&v>d.area.tag.seriesIndex?r=p:(r._setDataPoint(d.area.tag),r._dist=d.distance):p&&(r=p);var k=!1;this.axes.some(function(L){if(t._contains(L._axrect,i))return r._chartElement=L.axisType===Di.X?Vr.AxisX:Vr.AxisY,k=!0,!0}),k||(t._contains(this._plotRect,i)?r._chartElement=Vr.PlotArea:t._contains(this._rectChart,i)&&(r._chartElement=Vr.ChartArea))}}else r._chartElement=Vr.None;return r},t.prototype.pointToData=function(e,n){return(0,u.isNumber)(e)&&(0,u.isNumber)(n)&&(e=new u.Point(e,n)),e instanceof MouseEvent?(e=new u.Point(e.pageX,e.pageY),e=this._toControl(e)):e=e.clone(),e.x=this.axisX.convertBack(e.x),e.y=this.axisY.convertBack(e.y),e},t.prototype.dataToPoint=function(e,n){(0,u.isNumber)(e)&&(0,u.isNumber)(n)&&(e=new u.Point(e,n)),(0,u.asType)(e,u.Point);var i=e.clone();return i.x=this.axisX.convert(i.x),i.y=this.axisY.convert(i.y),i},t.prototype.dispose=function(){this._markers.forEach(function(e){return e.remove()}),this._markers=[],s.prototype.dispose.call(this)},t.prototype._copy=function(e,n){if("series"==e){this.series.clear();for(var i=(0,u.asArray)(n),r=0;r<i.length;r++){var o=this._createSeries();(0,u.copy)(o,i[r]),this.series.push(o)}return!0}return!1},t.prototype._createSeries=function(){return new Xo},t.prototype._clearCachedValues=function(){for(var e=0;e<this._series.length;e++){var n=this._series[e];null==n.itemsSource&&n._clearValues()}},t.prototype._performBind=function(){if(this._xDataType=null,this._xlabels.splice(0),this._xvals.splice(0),this._cv){var e=this._cv.items;if(e){for(var n=e.length,i=this.bindingX?new u.Binding(this.bindingX):null,r=0;r<n;r++)if(i){var a=i.getValue(e[r]);(0,u.isNumber)(a)?(this._xvals.push((0,u.asNumber)(a)),this._xDataType=u.DataType.Number):(0,u.isDate)(a)&&(this._xvals.push((0,u.asDate)(a).valueOf()),this._xDataType=u.DataType.Date),this._xlabels.push(a)}this._xvals.length==n?this._xlabels.splice(0):this._xvals.splice(0)}}},t.prototype._hitTestSeries=function(e,n){var i=this._toControl(e),r=new Kr(this,i),o=this._hitTester.hitTestSeries(i,n);return o&&o.area&&(r._setDataPoint(o.area.tag),r._chartElement=Vr.PlotArea,r._dist=o.distance),r},t.prototype._hitTestData=function(e){var n=this._toControl(e),i=new Kr(this,n),r=this._hitTester.hitTest(n,!0);return r&&r.area&&(i._setDataPoint(r.area.tag),i._dist=r.distance),i},t.prototype._hitTestLabels=function(e){for(var n=null,i=this._lblAreas.length,r=0;r<i;r++)if(this._lblAreas[r].contains(e)){n=this._lblAreas[r];break}return n},t._dist2=function(e,n){var i=e.x-n.x,r=e.y-n.y;return i*i+r*r},t._dist=function(e,n,i){return Math.sqrt(t._distToSegmentSquared(e,n,i))},t._distToSegmentSquared=function(e,n,i){var r=t._dist2(n,i);if(0==r)return t._dist2(e,n);var o=((e.x-n.x)*(i.x-n.x)+(e.y-n.y)*(i.y-n.y))/r;return t._dist2(e,o<0?n:o>1?i:new u.Point(n.x+o*(i.x-n.x),n.y+o*(i.y-n.y)))},t.prototype._isRotated=function(){return this._getChartType()==xi.Bar?!this._rotated:this._rotated},t.prototype._getChartType=function(){return null},t.prototype._prepareRender=function(){this._hitTester.clear()},t.prototype._renderChart=function(e,n,i){var r=this._rectChart.clone(),o=new u.Size(r.width,r.height);this._selectedEls.length=0,(Ee=this._getPlotter(null)).stacking=this._stacking,this._curPlotter!=Ee&&(this._curPlotter&&this._curPlotter.unload(),this._curPlotter=Ee),Ee.load();var a=this._isRotated();this._dataInfo.analyse(this._series,a,Ee.stacking,this._xvals.length>0?this._xvals:null,this.axisX._getLogBase()>0,this.axisY._getLogBase()>0);var d=Ee.adjustLimits(this._dataInfo,n.clone());if(a){var p=this._dataInfo.getDataTypeX();p||(p=this._xDataType),this.axisX._updateActualLimits(this._dataInfo.getDataTypeY(),d.left,d.right),this.axisY._updateActualLimits(p,d.top,d.bottom,this._xlabels,this._xvals)}else{var v=this._dataInfo.getDataTypeX();v||(v=this._xDataType),this.axisX._updateActualLimits(v,d.left,d.right,this._xlabels,this._xvals),this.axisY._updateActualLimits(this._dataInfo.getDataTypeY(),d.top,d.bottom)}var M=this._getAxes();if(this._updateAuxAxes(M,a),this._layout(n,o,e),e.startGroup(t._CSS_PLOT_AREA),e.fill="transparent",e.stroke=null,this.plotAreas.length>0)for(var T=0;T<this.plotAreas.length;T++)this.plotAreas[T]._render(e);else{var k=this._plotRect;e.drawRect(k.left,k.top,k.width,k.height)}e.endGroup();var L=this._series.length;this._clearPlotters();var Y={};for(T=0;T<L;T++){var ce=this._series[T];if(((yt=ce.visibility)==zr.Visible||yt==zr.Plot)&&ce.getValues(0)){var ae=ce._getAxisY(),Ee=this._getPlotter(ce);if(!ae||ae==this.axisY||Ee instanceof Ss)Ee.seriesCount++;else{var Me=ae._uniqueId;Y[Me]?Y[Me].count+=1:Y[Me]={count:1,index:0}}}}if(this.onRendering(new Oo(e)),this._getChartType()!==xi.Funnel)for(T=0;T<M.length;T++){var ze=M[T];xt=e.startGroup(ze.axisType==Di.X?t._CSS_AXIS_X:t._CSS_AXIS_Y,this._chartRectId),ze._hostElement=i?xt:ze._hostElement,ze._render(e),e.endGroup()}for(e.startGroup("wj-series-group"),this._plotrectId="plotRect"+(1e6*Math.random()).toFixed(),e.addClipRect(this._plotRect,this._plotrectId),T=0;T<L;T++){var st=this._series[T];st._pointIndexes=[],Ee=this._getPlotter(st),st._plotter=Ee;var xt=e.startGroup(st.cssClass,Ee.clipping?this._plotrectId:null);st._hostElement=i?xt:st._hostElement;var yt=st.visibility,St=st.axisX,Dt=st.axisY;if(St||(St=this.axisX),Dt||(Dt=this.axisY),yt==zr.Visible||yt==zr.Plot){var Nt,en,Rt=Y[Dt._uniqueId];!Rt||Ee instanceof Ss?(Nt=Ee.seriesIndex,en=Ee.seriesCount,Ee.seriesIndex++,st.onRendering(e,Nt,en)||Ee.plotSeries(e,St,Dt,st,this,Nt,en)):(Nt=Rt.index,en=Rt.count,Rt.index++,st.onRendering(e,Nt,en)||Ee.plotSeries(e,St,Dt,st,this,Nt,en)),st.onRendered(e)}e.endGroup()}e.endGroup(),this._lblAreas=[],this.dataLabel.content&&this.dataLabel.position!=sr.None&&this._renderLabels(e),this._highlightCurrent(),this.onRendered(new Oo(e))},t.prototype._getDesiredLegendSize=function(e,n,i,r){var o=new u.Size,a=this.series,d=a.length,p=this.legend.scrollbar?18:0,v=0,M=0;this._colRowLens=[];for(var T=0;T<d;T++){var k=(0,u.tryCast)(a[T],Lo),L=k.visibility;if(k.name&&L!=zr.Hidden&&L!=zr.Plot)for(var Y=k.legendItemLength(),ce=0;ce<Y;ce++){var ae=k.measureLegendItem(e,ce);n?(v+ae.height>r&&!this.legend.scrollbar&&(o.height=r,this._colRowLens.push(M),M=0,v=0),M<ae.width&&(M=ae.width),v+=ae.height):(M+ae.width>i-p&&(o.width=i,this._colRowLens.push(v),v=0,M=0),v<ae.height&&(v=ae.height),M+=ae.width)}}return n?(o.height<v&&(o.height=v),this._colRowLens.push(M),o.width=this._colRowLens.reduce(function(Ee,Me){return Ee+Me},0)):(o.width<M&&(o.width=M),this._colRowLens.push(v),o.height=this._colRowLens.reduce(function(Ee,Me){return Ee+Me},0)),o},t.prototype._renderLegend=function(e,n,i,r,o,a){var d,p=this.series,v=p.length,M=n.clone(),T=0;if(this._legendReversed())for(var k=v-1;k>=0;k--)d=(0,u.tryCast)(p[k],Lo),T=this._renderLegendElements(e,d,n,M,i,r,o,a,T);else for(k=0;k<v;k++)d=(0,u.tryCast)(p[k],Lo),T=this._renderLegendElements(e,d,n,M,i,r,o,a,T)},t.prototype._legendReversed=function(){var e=!1,n=this._getChartType();return(n===xi.Bar||n===xi.Column&&this._rotated)&&(this._stacking!==Wr.None||this.axisY.reversed||(e=!0)),e},t.prototype._renderLegendElements=function(e,n,i,r,o,a,d,p,v){var M=new u.Rect(i.x,i.y,d,p),T=v;if(!n)return T;var k=n.visibility;if(!n.name||k==zr.Hidden||k==zr.Plot)return n._legendElement=null,o.push(null),T;var L=n.legendItemLength(),Y=e.startGroup(n.cssClass);k==zr.Legend?(Y.setAttribute("opacity","0.5"),n._legendElement=Y):n._legendElement=k==zr.Visible?Y:null;for(var ce=0;ce<L;ce++){var ae=n.measureLegendItem(e,ce);a?r.y+ae.height>M.bottom+1&&!this.legend.scrollbar&&(r.x+=this._colRowLens[T],T++,r.y=i.y):r.x+ae.width>M.right+1&&(r.y+=this._colRowLens[T],T++,r.x=i.x);var Ee=new u.Rect(r.x,r.y,ae.width,ae.height);k!=zr.Legend&&k!=zr.Visible||n.drawLegendItem(e,Ee,ce),o.push(Ee),a?r.y+=ae.height:r.x+=ae.width}return e.endGroup(),T},t.prototype._renderLabels=function(e){var n=this.series,i=n.length;e.stroke="null",e.fill="transparent",e.strokeWidth=1,e.startGroup(t._CSS_DATA_LABELS);for(var o=0;o<i;o++){var d=this._hitTester._map[o];d&&n[o]._renderLabels(e,d,this,this._lblAreas)}e.endGroup()},t.prototype._getAxes=function(){for(var e=[this.axisX,this.axisY],n=this.series.length,i=0;i<n;i++){var r=this.series[i],o=r.axisX;o&&-1===e.indexOf(o)&&e.push(o);var a=r.axisY;a&&-1===e.indexOf(a)&&e.push(a)}return e},t.prototype._clearPlotters=function(){for(var e=this._plotters.length,n=0;n<e;n++)this._plotters[n].clear()},t.prototype._initPlotter=function(e){e.chart=this,e.dataInfo=this._dataInfo,e.hitTester=this._hitTester,this._plotters.push(e)},Object.defineProperty(t.prototype,"_barPlotter",{get:function(){return null===this.__barPlotter&&(this.__barPlotter=new Ss,this._initPlotter(this.__barPlotter)),this.__barPlotter},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_linePlotter",{get:function(){return null===this.__linePlotter&&(this.__linePlotter=new Hn,this._initPlotter(this.__linePlotter)),this.__linePlotter},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_areaPlotter",{get:function(){return null===this.__areaPlotter&&(this.__areaPlotter=new To,this._initPlotter(this.__areaPlotter)),this.__areaPlotter},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_bubblePlotter",{get:function(){return null===this.__bubblePlotter&&(this.__bubblePlotter=new Rr,this._initPlotter(this.__bubblePlotter)),this.__bubblePlotter},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_financePlotter",{get:function(){return null===this.__financePlotter&&(this.__financePlotter=new xr,this._initPlotter(this.__financePlotter)),this.__financePlotter},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_funnelPlotter",{get:function(){return null===this.__funnelPlotter&&(this.__funnelPlotter=new Qs,this._initPlotter(this.__funnelPlotter)),this.__funnelPlotter},enumerable:!0,configurable:!0}),t.prototype._getPlotter=function(e){var n,i=this._getChartType(),r=!1;if(e){var o=e._getChartType();null!=o&&o!=i&&(i=o,r=!0)}switch(i){case xi.Column:this._barPlotter.isVolume=!1,this._barPlotter.width=.7,n=this._barPlotter;break;case xi.Bar:this._barPlotter.rotated=!this._rotated,this._barPlotter.isVolume=!1,this._barPlotter.width=.7,n=this._barPlotter;break;case xi.Line:this._linePlotter.hasSymbols=!1,this._linePlotter.hasLines=!0,this._linePlotter.isSpline=!1,this._linePlotter.isStep=!1,n=this._linePlotter;break;case xi.Scatter:this._linePlotter.hasSymbols=!0,this._linePlotter.hasLines=!1,this._linePlotter.isSpline=!1,this._linePlotter.isStep=!1,n=this._linePlotter;break;case xi.LineSymbols:this._linePlotter.hasSymbols=!0,this._linePlotter.hasLines=!0,this._linePlotter.isSpline=!1,this._linePlotter.isStep=!1,n=this._linePlotter;break;case xi.Area:this._areaPlotter.isSpline=!1,this._areaPlotter.isStep=!1,n=this._areaPlotter;break;case xi.Bubble:n=this._bubblePlotter;break;case xi.Candlestick:(a=this._financePlotter).isCandle=!0,a.isEqui=!1,a.isArms=!1,a.isVolume=!1,n=a;break;case xi.HighLowOpenClose:var a;(a=this._financePlotter).isCandle=!1,a.isEqui=!1,a.isArms=!1,a.isVolume=!1,n=a;break;case xi.Spline:this._linePlotter.hasSymbols=!1,this._linePlotter.hasLines=!0,this._linePlotter.isSpline=!0,this._linePlotter.isStep=!1,n=this._linePlotter;break;case xi.SplineSymbols:this._linePlotter.hasSymbols=!0,this._linePlotter.hasLines=!0,this._linePlotter.isSpline=!0,this._linePlotter.isStep=!1,n=this._linePlotter;break;case xi.SplineArea:this._areaPlotter.isSpline=!0,this._areaPlotter.isStep=!1,n=this._areaPlotter;break;case xi.Funnel:n=this._funnelPlotter;break;case xi.Step:this._linePlotter.hasSymbols=!1,this._linePlotter.hasLines=!0,this._linePlotter.isSpline=!1,this._linePlotter.isStep=!0,n=this._linePlotter;break;case xi.StepSymbols:this._linePlotter.hasSymbols=!0,this._linePlotter.hasLines=!0,this._linePlotter.isSpline=!1,this._linePlotter.isStep=!0,n=this._linePlotter;break;case xi.StepArea:this._areaPlotter.isSpline=!1,this._areaPlotter.isStep=!0,n=this._areaPlotter;break;default:throw"Invalid chart type."}return n.rotated=this._rotated,i==xi.Bar&&(n.rotated=!n.rotated),r&&(n.rotated=this._isRotated()),n},t.prototype._layout=function(e,n,i){this.plotAreas.length>0?this._layoutMultiple(e,n,i):this._layoutSingle(e,n,i)},t.prototype._layoutSingle=function(e,n,i){var r=e.width,o=e.height,a=new u.Size(r,.75*o),d=new u.Size(o,.75*r),p=0,v=0,M=r,T=o,k=0,L=0,Y=r,ce=o;this.dataLabel.position===sr.Top&&this.dataLabel.content&&(v=i.measureString(this.dataLabel.content,"wj-data-label").height);for(var ae=this._getAxes(),Ee=this.axisY._getHeight(i,o),Me=0;Me<ae.length;Me++){var ze=(Rt=ae[Me]).origin,st=Rt._getPosition();if(Rt.axisType==Di.X){(Dt=Rt._getHeight(i,Math.max(10,r-Ee)))>a.height&&(Dt=a.height),Rt._desiredSize=new u.Size(a.width,Dt);var xt=Rt._hasOrigin=(0,u.isNumber)(ze)&&ze>this.axisY._getMinNum()&&ze<this.axisY._getMaxNum(),yt=Math.min(.25*r,Rt._annoSize.width);if(st==Nn.Bottom)if(p=Math.max(p,.5*yt),M=Math.min(M,r-.5*yt),xt){var St=this._convertY(ze,L,ce);ce-=Math.max(0,St+Dt-ce)}else ce-=Dt;else st==Nn.Top&&(p=Math.max(p,.5*yt),M=Math.min(M,r-.5*yt),xt?(St=this._convertY(ze,L,ce),L+=Math.max(0,L-(St-Dt))):L+=Dt)}else if(Rt.axisType==Di.Y){var Dt;if((Dt=Rt===this.axisX?Ee:Rt._getHeight(i,o))>d.height&&(Dt=d.height),Rt._desiredSize=new u.Size(d.width,Dt),xt=Rt._hasOrigin=(0,u.isNumber)(ze)&&ze>this.axisX._getMinNum()&&ze<this.axisX._getMaxNum(),st==Nn.Left)if(Rt._actualAngle<0?T=Math.min(T,o-Rt._annoSize.height):Rt._actualAngle>0?v=Math.max(v,Rt._annoSize.height):(v=Math.max(v,Rt._annoSize.height),T=Math.min(T,o-Rt._annoSize.height)),xt){var Nt=this._convertX(ze,k,Y);k+=Math.max(0,k-(Nt-Dt))}else k+=Dt;else st==Nn.Right&&(Rt._actualAngle>0?T=Math.min(T,o-Rt._annoSize.height):Rt._actualAngle<0?v=Math.max(v,Rt._annoSize.height):(v=Math.max(v,Rt._annoSize.height),T=Math.min(T,o-Rt._annoSize.height)),xt?(Nt=this._convertX(ze,k,Y),Y-=Math.max(0,Nt+Dt-Y)):Y-=Dt)}}var en=this._parseMargin(this.plotMargin);for(p=k=isNaN(en.left)?Math.max(p,k)+e.left:en.left,M=Y=isNaN(en.right)?Math.min(M,Y)+e.left:n.width-en.right,v=L=isNaN(en.top)?Math.max(v,L)+e.top:en.top,T=ce=isNaN(en.bottom)?Math.min(T,ce)+e.top:n.height-en.bottom,r=Math.max(1,M-p),o=Math.max(1,T-v),this._plotRect=new u.Rect(p,v,r,o),T<=v&&(ce=L+1),i.stroke=null,Me=0;Me<ae.length;Me++){var Rt,Kt;if(ze=(Rt=ae[Me]).origin,st=Rt._getPosition(),Rt.axisType==Di.X)Rt._hasOrigin?(St=this._convertY(ze,this._plotRect.top,this._plotRect.bottom),st==Nn.Bottom?(Kt=new u.Rect(p,St,r,Rt._desiredSize.height),ce+=Math.max(0,Kt.bottom-this._plotRect.bottom)):st==Nn.Top?(Kt=new u.Rect(p,St-Rt._desiredSize.height,r,Rt._desiredSize.height),L-=Math.max(0,this._plotRect.top-Kt.top)):Kt=new u.Rect(p,St,r,1)):st==Nn.Bottom?(Kt=new u.Rect(p,ce,r,Rt._desiredSize.height),ce+=Rt._desiredSize.height):st==Nn.Top?(Kt=new u.Rect(p,L-Rt._desiredSize.height,r,Rt._desiredSize.height),L-=Rt._desiredSize.height):Kt=new u.Rect(p,L,r,1),Rt._layout(Kt,this._plotRect);else if(Rt.axisType==Di.Y){var Vt;Rt._hasOrigin?(Nt=this._convertX(ze,this._plotRect.left,this._plotRect.right),st==Nn.Left?(Vt=new u.Rect(Nt-Rt._desiredSize.height,v,o,Rt._desiredSize.height),k-=Rt._desiredSize.height):st==Nn.Right?(Vt=new u.Rect(Nt,v,o,Rt._desiredSize.height),Y+=Rt._desiredSize.height):Vt=new u.Rect(Nt,v,o,1)):st==Nn.Left?(Vt=new u.Rect(k-Rt._desiredSize.height,v,o,Rt._desiredSize.height),k-=Rt._desiredSize.height):st==Nn.Right?(Vt=new u.Rect(Y,v,o,Rt._desiredSize.height),Y+=Rt._desiredSize.height):Vt=new u.Rect(k,v,o,1),Rt._layout(Vt,this._plotRect)}}},t.prototype._layoutMultiple=function(e,n,i){for(var r=e.width,o=e.height,a=[],d=[],p=this._getAxes(),v=p.length,M=0;M<v;M++)if((Nt=p[M])._plotrect=null,Nt.axisType==Di.X){for(var T=Nt.plotArea?Nt.plotArea.column:0;a.length<=T;)a.push(new nl);a[T].axes.push(Nt)}else if(Nt.axisType==Di.Y){for(var k=Nt.plotArea?Nt.plotArea.row:0;d.length<=k;)d.push(new nl);d[k].axes.push(Nt)}for(var L=a.length,Y=d.length,ce=new u.Size(r,.3*o),ae=new u.Size(o,.3*r),Ee=0,Me=0,ze=r,st=o,xt=0;xt<L;xt++)for((_n=a[xt]).right=r,_n.bottom=o,M=0;M<_n.axes.length;M++){var yt=(Nt=_n.axes[M])._getHeight(i,Nt.axisType==Di.X?r:o);yt>ce.height&&(yt=ce.height);var St=new u.Size(ce.width,yt);Nt._desiredSize=St,0==xt&&(_n.left=Math.max(_n.left,.5*Nt._annoSize.width)),xt==L-1&&(_n.right=Math.min(_n.right,r-.5*Nt._annoSize.width)),(Rn=Nt._getPosition())==Nn.Bottom?_n.bottom-=St.height:Rn==Nn.Top&&(_n.top+=St.height)}for(var Dt=0;Dt<Y;Dt++)for((_n=d[Dt]).right=r,_n.bottom=o,M=0;M<_n.axes.length;M++){var Nt=_n.axes[M],en=new u.Size(ae.width,Nt._getHeight(i,Nt.axisType==Di.X?r:o));en.height>ae.height&&(en.height=ae.height),Nt._desiredSize=en,0==Dt&&(_n.top=Math.max(_n.top,.5*Nt._annoSize.width)),Dt==Y-1&&(_n.bottom=Math.min(_n.bottom,o-.5*Nt._annoSize.width)),(Rn=Nt._getPosition())==Nn.Left?_n.left+=en.height:Rn==Nn.Right&&(_n.right-=en.height)}var Rt=0,Kt=0,Vt=r,jn=o;for(xt=0;xt<L;xt++){var _n=a[xt];Rt=Math.max(Rt,_n.left),Kt=Math.max(Kt,_n.top),Vt=Math.min(Vt,_n.right),jn=Math.min(jn,_n.bottom)}for(Dt=0;Dt<Y;Dt++)_n=d[Dt],Rt=Math.max(Rt,_n.left),Kt=Math.max(Kt,_n.top),Vt=Math.min(Vt,_n.right),jn=Math.min(jn,_n.bottom);Rt=Ee=Math.max(Ee,Rt),Vt=ze=Math.min(ze,Vt),Kt=Me=Math.max(Me,Kt),jn=st=Math.min(st,jn),this._plotRect=new u.Rect(Ee,Me,ze-Ee,st-Me);var Wn=this._plotRect.clone(),wn=Ee,oi=this.plotAreas._calculateWidths(this._plotRect.width,L);for(xt=0;xt<L;xt++){jn=st,Kt=Me,_n=a[xt];var di=oi[xt];for(M=0;M<_n.axes.length;M++){var ui,Rn=(Nt=_n.axes[M])._getPosition(),gi=new u.Rect(wn,Wn.top,di,Wn.height);Rn==Nn.Bottom?(ui=new u.Rect(wn,jn,di,Nt._desiredSize.height),jn+=Nt._desiredSize.height):Rn==Nn.Top&&(ui=new u.Rect(wn,Kt-Nt._desiredSize.height,di,Nt._desiredSize.height),Kt-=Nt._desiredSize.height),Nt._layout(ui,gi)}for(M=0;M<this.plotAreas.length;M++)(tr=this.plotAreas[M]).column==xt&&tr._setPlotX(wn,di);wn+=di}var Mi=Me,li=this.plotAreas._calculateHeights(this._plotRect.height,Y);for(Dt=0;Dt<Y;Dt++){Rt=Ee,Vt=ze,_n=d[Dt];var $n=li[Dt];for(M=0;M<_n.axes.length;M++){var Ki;Rn=(Nt=_n.axes[M])._getPosition(),gi=new u.Rect(Wn.left,Mi,Wn.width,$n),Nt._plotrect?(gi.left=Nt._plotrect.left,gi.width=Nt._plotrect.width):oi&&oi.length>0&&(gi.width=oi[0]),Rn==Nn.Left?(Ki=new u.Rect(Rt-Nt._desiredSize.height,Mi,$n,Nt._desiredSize.height),Rt-=Nt._desiredSize.height):Rn==Nn.Right&&(Ki=new u.Rect(Vt,Mi,$n,Nt._desiredSize.height),Vt+=Nt._desiredSize.height),Nt._layout(Ki,gi)}for(M=0;M<this.plotAreas.length;M++){var tr;(tr=this.plotAreas[M]).row==Dt&&tr._setPlotY(Mi,$n)}Mi+=$n}},t.prototype._convertX=function(e,n,i){var r=this.axisX;return r.reversed?i-(i-n)*(e-r._getMinNum())/(r._getMaxNum()-r._getMinNum()):n+(i-n)*(e-r._getMinNum())/(r._getMaxNum()-r._getMinNum())},t.prototype._convertY=function(e,n,i){var r=this.axisY;return r.reversed?n+(i-n)*(e-r._getMinNum())/(r._getMaxNum()-r._getMinNum()):i-(i-n)*(e-r._getMinNum())/(r._getMaxNum()-r._getMinNum())},t.prototype._getLabelContent=function(e,n){return(0,u.isString)(n)?this._keywords.replace(n,e):(0,u.isFunction)(n)?n(e):null},t.prototype._select=function(e,n){var i=!1;if(e==this._selection&&n==this._selectionIndex||(i=!0),this._selection&&this._highlight(this._selection,!1,this._selectionIndex),this._selection=e,this._selectionIndex=n,this._selection&&this._highlight(this._selection,!0,this._selectionIndex),this.selectionMode==hr.Point){var r=e?e.collectionView:this._cv;r&&(this._notifyCurrentChanged=!1,r.moveCurrentToPosition(e?n:-1),this._notifyCurrentChanged=!0)}i&&this.onSelectionChanged()},t.prototype._highlightCurrent=function(){if(this.selectionMode!=hr.None){var e=this._selection,n=-1;if(e){var i=e.collectionView;i||(i=this._cv),i&&(n=i.currentPosition),this._highlight(e,!0,n)}}},t.prototype._highlight=function(e,n,i){if(e=(0,u.asType)(e,Lo,!0),this.selectionMode==hr.Series){var r=this.series.indexOf(e),o=e.hostElement;n?o.parentNode.appendChild(o):o.parentNode.insertBefore(o,o.parentNode.childNodes.item(r));var a=this._find(o,["rect","ellipse","polyline","polygon","line","path"]);this._highlightItems(a,t._CSS_SELECTION,n),e.legendElement&&this._highlightItems(this._find(e.legendElement,["rect","ellipse","line"]),t._CSS_SELECTION,n)}else if(this.selectionMode==hr.Point)if(r=this.series.indexOf(e),o=e.hostElement,n){o.parentNode.appendChild(o);var d=e.getPlotElement(i);if(d)if(d instanceof SVGElement){if("g"!=d.nodeName&&(this._highlightItems([d],t._CSS_SELECTION,n),this._selectedEls.push(d)),(a=this._find(d,["line","rect","ellipse","path","polygon"])).length>0){this._highlightItems(a,t._CSS_SELECTION,n);for(var p=0;p<a.length;p++)this._selectedEls.push(a[p])}}else if(Array.isArray(d))for(this._highlightItems(d,t._CSS_SELECTION,n),p=0;p<d.length;p++)this._selectedEls.push(d[p])}else o.parentNode.insertBefore(o,o.parentNode.childNodes.item(r)),this._selectedEls.length>0&&(this._highlightItems(this._selectedEls,t._CSS_SELECTION,n),this._selectedEls.length=0)},t.prototype._updateTooltip=function(e,n){var i,r=this.hitTest(n);if(r.distance<=e.threshold){var o=e.content;if(r.series){var a=r.series.tooltipContent;(a||""===a)&&(o=a)}i=this._getLabelContent(r,o)}i?this._showToolTip(i,new u.Rect(n.clientX,n.clientY,5,5)):this._hideToolTip()},t.prototype._updateAuxAxes=function(e,n){for(var i=2;i<e.length;i++){var r=e[i];r._chart=this;for(var o,a,d=[],p=0;p<this.series.length;p++){var v=this.series[p];v.axisX!=r&&v.axisY!=r||d.push(v)}for(p=0;p<d.length;p++){var M=d[p].getDataRect()||d[p]._getDataRect();M&&(r.axisType==Di.X&&!n||r.axisType==Di.Y&&n?((void 0===o||M.left<o)&&(o=M.left),(void 0===a||M.right>a)&&(a=M.right)):((void 0===o||M.top<o)&&(o=M.top),(void 0===a||M.bottom>a)&&(a=M.bottom)))}var T=d[0].getDataType(0);null==T&&(T=u.DataType.Number),e[i]._updateActualLimits(T,o,a)}},t._CSS_AXIS_X="wj-axis-x",t._CSS_AXIS_Y="wj-axis-y",t._CSS_LINE="wj-line",t._CSS_GRIDLINE="wj-gridline",t._CSS_TICK="wj-tick",t._CSS_GRIDLINE_MINOR="wj-gridline-minor",t._CSS_TICK_MINOR="wj-tick-minor",t._CSS_DATA_LABELS="wj-data-labels",t}(Nr),nl=function(){function s(){this._axes=new Array,this.left=0,this.right=0,this.top=0,this.bottom=0}return Object.defineProperty(s.prototype,"axes",{get:function(){return this._axes},enumerable:!0,configurable:!0}),s}(),$i=function(){function s(){this.stackAbs={},this._xvals=null}return s.prototype.analyse=function(t,e,n,i,r,o){var a=this;this.minY=NaN,this.maxY=NaN,this.minX=NaN,this.maxX=NaN,this.minXp=NaN,this.minYp=NaN,this.dx=0;var d={},p={},v={};if(this.dataTypeX=null,this.dataTypeY=null,this._xvals=i,null!=i)for(var M=i.length,T=0;T<M;T++){var k=i[T];if((isNaN(this.minX)||this.minX>k)&&(this.minX=k),(isNaN(this.maxX)||this.maxX<k)&&(this.maxX=k),k>0&&(isNaN(this.minXp)||this.minXp>k)&&(this.minXp=k),T>0){var L=Math.abs(k-i[T-1]);!isNaN(L)&&(L<this.dx||0==this.dx)&&(this.dx=L)}}var Y,ce,ae,Ee,Me,ze,st,xt,yt,St,Dt,Nt=function(){if(ce=(Y=t[T])._getChartType(),ae=void 0!==Y.chartType,(Ee=Y.visibility)==zr.Hidden||Ee==zr.Legend)return"continue";if((Me=Y.getDataRect())&&(!isNaN(en.minX)&&en.minX<Me.left&&(ze=Me.right,Me.left=en.minX,Me.width=ze-en.minX),!isNaN(en.maxX)&&en.maxX>Me.right&&(Me.width=en.maxX-Me.left),Y._isCustomAxisY()||(!isNaN(en.minY)&&en.minY<Me.top&&(ze=Me.bottom,Me.top=en.minY,Me.height=ze-en.minY),!isNaN(en.maxY)&&en.maxY>Me.bottom&&(Me.height=en.maxY-Me.top))),st=null,e?Y._isCustomAxisY()||(st=Y.getValues(1)):Y._isCustomAxisX()||(st=Y.getValues(1)),st){en.dataTypeX||(en.dataTypeX=Y.getDataType(1));for(var _n=0;_n<st.length;_n++)xt=st[_n],isFinite(xt)&&((isNaN(en.minX)||en.minX>xt)&&(en.minX=xt),(isNaN(en.maxX)||en.maxX<xt)&&(en.maxX=xt),_n>0&&(!ce||ce==xi.Column||ce==xi.Bar)&&(L=Math.abs(xt-st[_n-1]),!isNaN(L)&&L>0&&(L<en.dx||0==en.dx)&&(en.dx=L)))}if(yt=null,St=!1,e?(St=Y._isCustomAxisX(),yt=Y.getValues(0)):(St=Y._isCustomAxisY(),yt=Y.getValues(0)),yt&&(en.dataTypeY||St||(en.dataTypeY=Y.getDataType(0)),isNaN(en.minX)?en.minX=0:st||i||(en.minX=Math.min(en.minX,0)),isNaN(en.maxX)?en.maxX=yt.length-1:st||i||(en.maxX=Math.max(en.maxX,yt.length-1)),!St))for(var Wn=n==Wr.None||ae,wn=function(di){var ui=yt[di],Rn=st?(0,u.asNumber)(st[di],!0):i?(0,u.asNumber)(i[di],!0):di;(0,u.isArray)(ui)?ui.forEach(function(gi){a._parseYVal(gi,Rn,Wn,v,d,p)}):en._parseYVal(ui,Rn,Wn,v,d,p)},oi=0;oi<yt.length;oi++)wn(oi);(Dt=Y.getDataRect(new u.Rect(en.minX,en.minY,en.maxX-en.minX,en.maxY-en.minY),Me))&&(en.minX=Dt.left,en.maxX=Dt.right,St||(en.minY=Dt.top,en.maxY=Dt.bottom))},en=this;for(T=0;T<t.length;T++)Nt();if(n==Wr.Stacked){for(var Rt in d)d[Rt]>this.maxY&&(this.maxY=d[Rt]);for(var Rt in p)p[Rt]<this.minY&&(this.minY=p[Rt])}else if(n==Wr.Stacked100pc){for(var Rt in this.minY=0,this.maxY=0,v){var Kt=v[Rt];if(isFinite(Kt)&&0!=Kt){var Vt=d[Rt],jn=p[Rt];isFinite(Vt)&&(Vt=Math.max(Vt/Kt,this.maxY))>this.maxY&&(this.maxY=Vt),isFinite(jn)&&(jn=Math.min(jn/Kt,this.minY))<this.minY&&(this.minY=jn)}}this.minY==this.maxY&&(this.minY=0,this.maxY=1)}this.stackAbs=v,r&&(e?this.minY=isNaN(this.minYp)?1:this.minYp:this.minX=isNaN(this.minXp)?1:this.minXp),o&&(e?this.minX=isNaN(this.minXp)?1:this.minXp:this.minY=isNaN(this.minYp)?1:this.minYp)},s.prototype._parseYVal=function(t,e,n,i,r,o){isFinite(t)&&(null!=t&&(isNaN(this.minY)||this.minY>t)&&(this.minY=t),null!=t&&(isNaN(this.maxY)||this.maxY<t)&&(this.maxY=t),t>0&&(isNaN(this.minYp)||this.minYp>t)&&(this.minYp=t),n||(t>0?isNaN(r[e])?r[e]=t:r[e]+=t:isNaN(o[e])?o[e]=t:o[e]+=t,isNaN(i[e])?i[e]=Math.abs(t):i[e]+=Math.abs(t)))},s.prototype.getMinY=function(){return this.minY},s.prototype.getMaxY=function(){return this.maxY},s.prototype.getMinX=function(){return this.minX},s.prototype.getMaxX=function(){return this.maxX},s.prototype.getMinXp=function(){return this.minXp},s.prototype.getMinYp=function(){return this.minYp},s.prototype.getDeltaX=function(){return this.dx},s.prototype.getDataTypeX=function(){return this.dataTypeX},s.prototype.getDataTypeY=function(){return this.dataTypeY},s.prototype.getStackedAbsSum=function(t){var e=this.stackAbs[t];return isFinite(e)?e:0},s.prototype.getXVals=function(){return this._xvals},s.isValid=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=t.length,i=0;i<n;i++)if(!isFinite(t[i]))return!1;return!0},s}(),Oa=function(s){function t(e,n){var i=s.call(this,e,null)||this;return i._chartType=xi.Column,i.initialize(n),i}return ur(t,s),t.prototype._getChartType=function(){return this._chartType},Object.defineProperty(t.prototype,"chartType",{get:function(){return this._chartType},set:function(e){(e=(0,u.asEnum)(e,xi))!=this._chartType&&(this._chartType=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rotated",{get:function(){return this._rotated},set:function(e){e!=this._rotated&&(this._rotated=(0,u.asBoolean)(e),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stacking",{get:function(){return this._stacking},set:function(e){(e=(0,u.asEnum)(e,Wr))!=this._stacking&&(this._stacking=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this._options},set:function(e){e!=this._options&&(this._options=e,this.invalidate())},enumerable:!0,configurable:!0}),t}(Ai),To=function(s){function t(){var e=s.call(this)||this;return e.stacking=Wr.None,e.isSpline=!1,e.isStep=!1,e.stackPos={},e.stackNeg={},e}return ur(t,s),t.prototype.adjustLimits=function(e,n){this.dataInfo=e;for(var i=e.getMinX(),r=e.getMinY(),o=e.getMaxX(),a=e.getMaxY(),d=0;d<this.chart.series.length;d++){var p=this.chart.series[d];if(this._isRange(p)){var v=p._getChartType();if(!v||v==xi.Area)for(var M=p._getBindingValues(1),T=0;T<M.length;T++)M[T]>a?a=M[T]:M[T]<r&&(r=M[T])}}if(this.isSpline){var k=.1*(a-r);this.chart.axisY._getLogBase()||(r-=k),a+=k}return this.rotated?new u.Rect(r,i,a-r,o-i):new u.Rect(i,r,o-i,a-r)},t.prototype.clear=function(){s.prototype.clear.call(this),this.stackNeg={},this.stackPos={}},t.prototype.plotSeries=function(e,n,i,r,o,a,d,p){var v=r;if(this._isRange(v))this.plotSeriesRanged(e,n,i,r,o,a,d,p);else{var M=[],T=this.chart.series.indexOf(r),k=r.getValues(0),L=r.getValues(1);if(k){var Y=k.length;if(Y){L||(L=this.dataInfo.getXVals());var ce=!0;L?L.length<Y&&(Y=L.length):(ce=!1,L=new Array(Y));var ae=new Array,Ee=new Array,Me=new Array,ze=new Array,st=this.stacking!=Wr.None&&!v._isCustomAxisY(),xt=this.stacking==Wr.Stacked100pc&&!v._isCustomAxisY();void 0!==v._getChartType()&&(st=xt=!1);for(var yt=this.rotated,St=!1,Dt=v.interpolateNulls,Nt=null,en=null,Rt=this.chart._plotRect,Kt=0;Kt<Y;Kt++){var Vt=ce?L[Kt]:Kt,jn=k[Kt];if((null===Nt||Vt>Nt)&&(Nt=Vt),(null===en||Vt<en)&&(en=Vt),$i.isValid(Vt,jn)){var _n=yt?i.convert(Vt):n.convert(Vt);if(st){xt&&(jn/=this.dataInfo.getStackedAbsSum(Vt));var Wn=0;jn>=0?(Wn=isNaN(this.stackPos[Vt])?0:this.stackPos[Vt],jn=this.stackPos[Vt]=Wn+jn):(Wn=isNaN(this.stackNeg[Vt])?0:this.stackNeg[Vt],jn=this.stackNeg[Vt]=Wn+jn),yt?(Wn<n.actualMin&&(Wn=n.actualMin),Me.push(n.convert(Wn)),ze.push(_n)):(Me.push(_n),Wn<i.actualMin&&(Wn=i.actualMin),ze.push(i.convert(Wn)))}if(yt){var wn=n.convert(jn);isNaN(_n)||isNaN(wn)?(St=!0,!st&&!0!==Dt&&(ae.push(void 0),Ee.push(void 0))):(ae.push(wn),Ee.push(_n),Ai._contains(Rt,new u.Point(wn,_n))&&((oi=new rn(new u.Point(wn,_n),this._DEFAULT_SYM_SIZE)).tag=new q(T,Kt,jn,Vt),this.hitTester.add(oi,T)))}else if(wn=i.convert(jn),isNaN(_n)||isNaN(wn))St=!0,!st&&!0!==Dt&&(ae.push(void 0),Ee.push(void 0));else if(ae.push(_n),Ee.push(wn),Ai._contains(Rt,new u.Point(_n,wn))){var oi;(oi=new rn(new u.Point(_n,wn),this._DEFAULT_SYM_SIZE)).tag=new q(T,Kt,Vt,jn),this.hitTester.add(oi,T)}}else St=!0,!st&&!0!==Dt&&(ae.push(void 0),Ee.push(void 0))}p&&ae.forEach(function(Tr,Io){null!=Tr&&M.push(new u.Point(Tr,Ee[Io]))});var di=this._DEFAULT_WIDTH,ui=o._getColorLight(T),Rn=o._getColor(T),gi=xs.cloneStyle(r.style,["fill"]),Mi=xs.cloneStyle(r.style,["stroke"]);if(!st&&!0!==Dt&&St){var li=[],$n=[];for(Kt=0;Kt<Y;Kt++)void 0===ae[Kt]?(li.length>1&&(li=(Ki=this._modifyPoints(li,$n)).x,$n=Ki.y,e.stroke=Rn,e.strokeWidth=di,e.fill="none",e.drawLines(li,$n,null,gi),this.hitTester.add(new wi(li,$n),T),yt?(li.push(n.convert(n.actualMin),n.convert(n.actualMin)),$n.push(i.convert(i.actualMax),i.convert(i.actualMin))):(li.push(li[li.length-1],li[0]),$n.push(i.convert(i.actualMin),i.convert(i.actualMin))),e.fill=ui,e.stroke="none",e.drawPolygon(li,$n,null,Mi,this.chart._plotrectId)),li=[],$n=[]):(li.push(ae[Kt]),$n.push(Ee[Kt]));li.length>1&&(li=(Ki=this._modifyPoints(li,$n)).x,$n=Ki.y,e.stroke=Rn,e.strokeWidth=di,e.fill="none",e.drawLines(li,$n,null,gi),this.hitTester.add(new wi(li,$n),T),yt?(li.push(n.convert(n.actualMin),n.convert(n.actualMin)),$n.push(i.convert(i.actualMax),i.convert(i.actualMin))):(li.push(li[li.length-1],li[0]),$n.push(i.convert(i.actualMin),i.convert(i.actualMin))),e.fill=ui,e.stroke="none",e.drawPolygon(li,$n,null,Mi,this.chart._plotrectId))}else{var Ki;if(ae=(Ki=this._modifyPoints(ae,Ee)).x,Ee=Ki.y,st){var tr=this._modifyPoints(Me,ze);ze=tr.y,ae=ae.concat((Me=tr.x).reverse()),Ee=Ee.concat(ze.reverse())}else yt?(ae.push(n.convert(n.actualMin),n.convert(n.actualMin)),Ee.push(Ee[Ee.length-1],Ee[0])):(ae.push(ae[ae.length-1],ae[0]),Ee.push(i.convert(i.actualMin),i.convert(i.actualMin)));e.fill=ui,e.stroke="none",e.drawPolygon(ae,Ee,null,Mi,this.chart._plotrectId),st?(ae=ae.slice(0,ae.length-Me.length),Ee=Ee.slice(0,Ee.length-ze.length)):(ae=ae.slice(0,ae.length-2),Ee=Ee.slice(0,Ee.length-2)),e.stroke=Rn,e.strokeWidth=di,e.fill="none",e.drawLines(ae,Ee,null,gi,this.chart._plotrectId),this.hitTester.add(new wi(ae,Ee),T)}this._drawSymbols(e,r,T),p&&M&&M.length&&p(M)}}}},t.prototype._isRange=function(e){var i=null==e.binding?null:e.binding.split(this.chart?this.chart._bindingSeparator:",");return null!=i&&2==i.length},t.prototype._modifyPoints=function(e,n){var i={x:e,y:n};if(this.isSpline){var r=this._convertToSpline(e,n);i.x=r.xs,i.y=r.ys}else if(this.isStep){var o=this._createSteps(e,n);i.x=o.x,i.y=o.y}return i},t.prototype.plotSeriesRanged=function(e,n,i,r,o,a,d,p){var v=[],M=this.chart.series.indexOf(r),T=r,k=r.getValues(0),L=r.getValues(1),Y=T._getBindingValues(1);if(k){var ce=k.length;if(ce){L||(L=this.dataInfo.getXVals());var ae=!0;L?L.length<ce&&(ce=L.length):(ae=!1,L=new Array(ce));for(var Ee=new Array,Me=new Array,ze=new Array,st=this.rotated,xt=!1,yt=T.interpolateNulls,St=this.chart._plotRect,Dt=0;Dt<ce;Dt++){var Nt=ae?L[Dt]:Dt,en=k[Dt],Rt=Y[Dt];if($i.isValid(Nt,en,Rt)){var Kt=st?i.convert(Nt):n.convert(Nt);if(st){var Vt=n.convert(en),jn=n.convert(Rt);isNaN(Kt)||isNaN(Vt)?(xt=!0,!0!==yt&&(Ee.push(void 0),Me.push(void 0),ze.push(void 0))):(Ee.push(Vt),Me.push(Kt),ze.push(jn),Ai._contains(St,new u.Point(Vt,Kt))&&((_n=new rn(new u.Point(Vt,Kt),this._DEFAULT_SYM_SIZE)).tag=new q(M,Dt,en,Nt),this.hitTester.add(_n,M)),Ai._contains(St,new u.Point(jn,Kt))&&((_n=new rn(new u.Point(jn,Kt),this._DEFAULT_SYM_SIZE)).tag=new q(M,Dt,Rt,Nt),this.hitTester.add(_n,M)))}else if(Vt=i.convert(en),jn=i.convert(Rt),isNaN(Kt)||isNaN(Vt))xt=!0,!0!==yt&&(Ee.push(void 0),Me.push(void 0),ze.push(void 0));else if(Ee.push(Kt),Me.push(Vt),ze.push(jn),Ai._contains(St,new u.Point(Kt,Vt))&&((_n=new rn(new u.Point(Kt,Vt),this._DEFAULT_SYM_SIZE)).tag=new q(M,Dt,Nt,en),this.hitTester.add(_n,M)),Ai._contains(St,new u.Point(Kt,jn))){var _n;(_n=new rn(new u.Point(Kt,jn),this._DEFAULT_SYM_SIZE)).tag=new q(M,Dt,Nt,Rt),this.hitTester.add(_n,M)}}else xt=!0,!0!==yt&&(Ee.push(void 0),Me.push(void 0),ze.push(void 0))}p&&Ee.forEach(function(Tr,Io){null!=Tr&&v.push(new u.Point(Tr,Me[Io]))});var Wn=this._DEFAULT_WIDTH,wn=o._getColorLight(M),oi=o._getColor(M),di=xs.cloneStyle(r.style,["fill"]),ui=xs.cloneStyle(r.style,["stroke"]);if(!0!==yt&&xt){var Rn=[],gi=[],Mi=[];for(Dt=0;Dt<ce;Dt++)if(void 0===Ee[Dt]){if(Rn.length>1){var li=st?Mi.slice(0).reverse():Rn.slice(0).reverse(),$n=st?gi.slice(0).reverse():Mi.slice(0).reverse();this._drawRangedArea(e,Rn,gi,li,$n,wn,oi,Wn,ui,di),this.hitTester.add(new wi(Rn,gi),M),this.hitTester.add(new wi(li,$n),M)}Rn=[],gi=[],Mi=[]}else Rn.push(Ee[Dt]),gi.push(Me[Dt]),Mi.push(ze[Dt]);Rn.length>1&&(li=st?Mi.slice(0).reverse():Rn.slice(0).reverse(),$n=st?gi.slice(0).reverse():Mi.slice(0).reverse(),this._drawRangedArea(e,Rn,gi,li,$n,wn,oi,Wn,ui,di),this.hitTester.add(new wi(Rn,gi),M),this.hitTester.add(new wi(li,$n),M))}else{var Ki=st?ze.slice(0).reverse():Ee.slice(0).reverse(),tr=st?Me.slice(0).reverse():ze.slice(0).reverse();this._drawRangedArea(e,Ee,Me,Ki,tr,wn,oi,Wn,ui,di),this.hitTester.add(new wi(Ee,Me),M),this.hitTester.add(new wi(Ki,tr),M)}this._drawSymbols(e,r,M),p&&v&&v.length&&p(v)}}},t.prototype._drawRangedArea=function(e,n,i,r,o,a,d,p,v,M){if(this.isSpline){var T=this._convertToSpline(n,i),k=this._convertToSpline(r,o);n=T.xs,i=T.ys,r=k.xs,o=k.ys}n=n.concat(r),i=i.concat(o),e.fill=a,e.stroke="none",e.drawPolygon(n,i,null,v),n=n.slice(0,n.length-r.length),i=i.slice(0,i.length-o.length),e.stroke=d,e.strokeWidth=p,e.fill="none",e.drawLines(n,i,null,M),e.drawLines(r,o,null,M)},t.prototype._convertToSpline=function(e,n){if(e&&n){var i=new pr(e,n).calculate();return{xs:i.xs,ys:i.ys}}return{xs:e,ys:n}},t.prototype._drawSymbols=function(e,n,i){var r=this.getItemFormatter(n);if(null!=r){for(var o=this.hitTester._map[i],a=0;a<o.length;a++){var d=(0,u.tryCast)(o[a],rn);if(d){var p=d.tag;e.startGroup();var v=new Kr(this.chart,d.center,Vr.SeriesSymbol);v._setDataPoint(p),r(e,v,function(){}),e.endGroup()}}e.cssPriority=!0}},t}(xs),Ss=function(s){function t(){var e=null!==s&&s.apply(this,arguments)||this;return e.origin=0,e.width=.7,e.isVolume=!1,e._volHelper=null,e.stackPosMap={},e.stackNegMap={},e.stacking=Wr.None,e}return ur(t,s),t.prototype.clear=function(){s.prototype.clear.call(this),this.stackNegMap[this.chart.axisY._uniqueId]={},this.stackPosMap[this.chart.axisY._uniqueId]={},this._volHelper=null},t.prototype.load=function(){if(s.prototype.load.call(this),this.isVolume){var e,n,i,r,o,a,d,p,v=null,M=null;for(a=0;a<this.chart.series.length;a++){if(o=(e=this.chart.series[a]).getDataType(1)||e.chart._xDataType,n=e._getAxisX(),(i=null===(i=e._getChartType())||(0,u.isUndefined)(i)?this.chart._getChartType():i)===xi.Column){var k=e.binding.split(this.chart?this.chart._bindingSeparator:",").length-1;r=e._getBindingValues(k)}else r=i===xi.Candlestick?e._getBindingValues(4):null;var L;if(o===u.DataType.Date)for(d=[],p=[],a=0;a<e._getLength();a++)L=e._getItem(a)[e.bindingX].valueOf(),d.push(L),p.push({value:L,text:u.Globalize.format(new Date(L),n.format||"d")});else d=this.dataInfo.getXVals();if(v=this.dataInfo.getMinX(),M=this.dataInfo.getMaxX(),r&&r.length>0){this._volHelper=new No(r,d,v,M,o),n._customConvert=this._volHelper.convert.bind(this._volHelper),n._customConvertBack=this._volHelper.convertBack.bind(this._volHelper),p&&p.length>0&&(this._itemsSource=n.itemsSource=p);break}}}},t.prototype.unload=function(){s.prototype.unload.call(this);for(var e,n=0;n<this.chart.series.length;n++)(e=this.chart.series[n]._getAxisX())&&(e._customConvert=null,e._customConvertBack=null,e.itemsSource&&e.itemsSource==this._itemsSource&&(this._itemsSource=e.itemsSource=null))},t.prototype.adjustLimits=function(e,n){this.dataInfo=e;var i=e.getMinX(),r=e.getMaxX(),o=e.getMinY(),a=e.getMaxY(),d=e.getDeltaX();d<=0&&(d=1);var p=!1;!this.isVolume||this.chart._getChartType()!==xi.Column&&this.chart._getChartType()!==xi.Candlestick?this.unload():this.load();for(var v=0;v<this.chart.series.length;v++){var M=this.chart.series[v],T=M._getChartType();((T=null===T||(0,u.isUndefined)(T)?this.chart._getChartType():T)===xi.Column||T===xi.Bar)&&this._isRange(M)&&M._getBindingValues(1).forEach(function(k){k<o?o=k:k>a&&(a=k)}),p||"BoxWhisker"==M.constructor.name||(p=!0)}return this.rotated?(!this.chart.axisY._getLogBase()&&e.getDataTypeY()!==u.DataType.Date&&p&&(this.origin>a?a=this.origin:this.origin<o&&(o=this.origin)),new u.Rect(o,i-.5*d,a-o,r-i+d)):(!this.chart.axisY._getLogBase()&&e.getDataTypeY()!==u.DataType.Date&&p&&(this.origin>a?a=this.origin:this.origin<o&&(o=this.origin)),new u.Rect(i-.5*d,o,r-i+d,a-o))},t.prototype._isRange=function(e){var i=(null==e.binding?"":e.binding.split(this.chart?this.chart._bindingSeparator:",")).length-1;return this.isVolume?2===i:1===i},t.prototype.plotSeries=function(e,n,i,r,o,a,d,p){var v=[],M=this.chart.series.indexOf(r),T=(0,u.asType)(r,Lo),k=this.chart._options,L=this.width,Y=0;if(a=a||0,d=d||1,k&&k.groupWidth){var ce=k.groupWidth;if((0,u.isNumber)(ce)){var ae=(0,u.asNumber)(ce);isFinite(ae)&&ae>0&&(Y=ae,L=1)}else if((0,u.isString)(ce)){var Ee=(0,u.asString)(ce);Ee&&Ee.indexOf("%")>=0?(Ee=Ee.replace("%",""),ae=parseFloat(Ee),isFinite(ae)&&(ae<0?ae=0:ae>100&&(ae=100),Y=0,L=ae/100)):(ae=parseFloat(Ee),isFinite(ae)&&ae>0&&(Y=ae,L=1))}}var Me=L/d,ze=T._getAxisY()._uniqueId,st=this.stackNegMap[ze],xt=this.stackPosMap[ze],yt=r.getValues(0),St=r.getValues(1),Dt=this._isRange(T),Nt=T._bindValues(null==T._cv?null==this.chart.collectionView?null:this.chart.collectionView.items:T._cv.items,T._getBinding(1)).values;if(yt){if(St||(St=this.dataInfo.getXVals()),St){var en=this.dataInfo.getDeltaX();en>0&&(L*=en,Me*=en)}var Rt=T._getSymbolFill(M),Kt=T._getAltSymbolFill(M)||Rt,Vt=T._getSymbolStroke(M),jn=T._getAltSymbolStroke(M)||Vt,_n=yt.length;null!=St&&(_n=Math.min(_n,St.length));var wn,oi=this.origin,di=0,ui=this.stacking!=Wr.None,Rn=this.stacking==Wr.Stacked100pc;void 0!==T._getChartType()&&(ui=Rn=!1);var gi=this.getItemFormatter(r),Mi=n._actualMin,li=n._actualMax,$n=i._actualMin,Ki=i._actualMax;if(this.rotated)for(oi<Mi?oi=Mi:oi>li&&(oi=li),T._isCustomAxisY()&&(ui=Rn=!1),cs=n.convert(oi),Li=0;Li<_n;Li++)if(mr=St?St[Li]:Li,Zo=yt[Li],us=cs,this._getSymbolOrigin&&(us=i.convert(this._getSymbolOrigin(oi,Li))),Dt&&Nt&&Nt.length&&$i.isValid(Ll=Nt[Li])&&(us=n.convert(Ll)),this._getSymbolStyles&&(Rt=(fs=this._getSymbolStyles(Li))&&fs.fill?fs.fill:Rt,Kt=fs&&fs.fill?fs.fill:Kt,Vt=fs&&fs.stroke?fs.fill:Vt,jn=fs&&fs.stroke?fs.fill:jn),wn=Zo>0?Vt:jn,e.fill=Zo>0?Rt:Kt,e.stroke=wn,$i.isValid(mr,Zo))if(ui){if(Ds=mr+.5*L,(Ro=mr-.5*L)<$n&&Ds<$n||Ro>Ki&&Ds>Ki||(Ro=i.convert(Math.max(Ro,$n)),Ds=i.convert(Math.min(Ds,Ki)),Rn&&(Zo/=this.dataInfo.getStackedAbsSum(mr)),Bs=0,Zo>=0?(Bs=isNaN(xt[mr])?0:xt[mr],ps=n.convert(Bs),Cs=n.convert(Bs+Zo),xt[mr]=Bs+Zo):(Bs=isNaN(st[mr])?0:st[mr],ps=n.convert(Bs),Cs=n.convert(Bs+Zo),st[mr]=Bs+Zo),p&&v.push(new u.Point(Cs,i.convert(mr))),!$i.isValid(ps,Cs)))continue;if(Os=new u.Rect(Math.min(ps,Cs),Math.min(Ro,Ds),Math.abs(Cs-ps),Math.abs(Ds-Ro)),Y>0){(gl=1-Y/Os.height)<0&&(gl=0);var tr=Os.top+.5*Os.height;Os.top+=(tr-Os.top)*gl,Os.height=Math.min(Y,Os.height)}tl=new gt(Os),this.drawSymbol(e,Os,r,Li,new u.Point(Cs,Os.top+.5*Os.height),gi),r._setPointIndex(Li,di),di++,td=Rn?Math.min(Bs+Zo,1):Bs+Zo,tl.tag=new q(M,Li,td,mr),this.hitTester.add(tl,M)}else{if(Ds=mr-.5*L+(a+1)*Me,(Ro=mr-.5*L+a*Me)<$n&&Ds<$n||Ro>Ki&&Ds>Ki)continue;Ro=i.convert(Math.max(Ro,$n)),Ds=i.convert(Math.min(Ds,Ki));var Tr=n.convert(Zo);if(!$i.isValid(Tr,Ro,Ds))continue;var Io=new u.Rect(Math.min(Tr,us),Math.min(Ro,Ds),Math.abs(us-Tr),Math.abs(Ds-Ro));p&&v.push(new u.Point(Tr,(Ro+Ds)/2)),Y>0&&((gl=1-(Vd=Y/d)/Io.height)<0&&(gl=0),tr=i.convert(mr),Io.top+=(tr-Io.top)*gl,Io.height=Math.min(Vd,Io.height)),tl=new gt(Io),this.drawSymbol(e,Io,r,Li,new u.Point(Tr,Io.top+.5*Io.height),gi),r._setPointIndex(Li,di),di++,tl.tag=new q(M,Li,Zo,mr),this.hitTester.add(tl,M)}else p&&v.push(null);else{oi<$n?oi=$n:oi>Ki&&(oi=Ki);var cs=i.convert(oi);T._isCustomAxisY()&&(ui=Rn=!1);for(var Li=0;Li<_n;Li++){var fs,us=cs,mr=St?St[Li]:Li,Zo=yt[Li];if(this._getSymbolOrigin&&(us=i.convert(this._getSymbolOrigin(oi,Li,_n))),Dt&&Nt&&Nt.length){var Ll=Nt[Li];$i.isValid(Ll)&&(us=i.convert(Ll))}if(this._getSymbolStyles&&(Rt=(fs=this._getSymbolStyles(Li,_n))&&fs.fill?fs.fill:Rt,Kt=fs&&fs.fill?fs.fill:Kt,Vt=fs&&fs.stroke?fs.stroke:Vt,jn=fs&&fs.stroke?fs.stroke:jn),wn=Zo>0?Vt:jn,e.fill=Zo>0?Rt:Kt,e.stroke=wn,e.strokeWidth=null,$i.isValid(mr,Zo))if(ui){var Ro,Ds,Cs=mr+.5*L;if((ps=mr-.5*L)<Mi&&Cs<Mi||ps>li&&Cs>li||(ps=n.convert(ps),Cs=n.convert(Cs),!$i.isValid(ps,Cs)))continue;Rn&&(Zo/=this.dataInfo.getStackedAbsSum(mr));var Bs=0;if(Zo>=0?(Bs=isNaN(xt[mr])?0:xt[mr],Ro=i.convert(Math.max(Bs,$n)),Ds=i.convert(Math.max(Bs+Zo,$n)),xt[mr]=Bs+Zo):(Bs=isNaN(st[mr])?0:st[mr],Ro=i.convert(Bs),Ds=i.convert(Bs+Zo),st[mr]=Bs+Zo),p&&v.push(new u.Point(n.convert(mr),Ds)),!$i.isValid(Ro,Ds))continue;var Os=new u.Rect(Math.min(ps,Cs),Math.min(Ro,Ds),Math.abs(Cs-ps),Math.abs(Ds-Ro));if(Y>0){(gl=1-Y/Os.width)<0&&(gl=0);var ed=Os.left+.5*Os.width;Os.left+=(ed-Os.left)*gl,Os.width=Math.min(Y,Os.width)}var tl=new gt(Os);this.drawSymbol(e,Os,r,Li,new u.Point(Os.left+.5*Os.width,Ds),gi),r._setPointIndex(Li,di),di++;var td=Rn?Math.min(Bs+Zo,1):Bs+Zo;tl.tag=new q(M,Li,mr,td),this.hitTester.add(tl,M)}else{var ps;if(Cs=mr-.5*L+(a+1)*Me,(ps=mr-.5*L+a*Me)<Mi&&Cs<Mi||ps>li&&Cs>li)continue;ps=n.convert(ps),Cs=n.convert(Cs);var qc=i.convert(Zo);if(!$i.isValid(qc,ps,Cs))continue;var Vd,gl,pc=new u.Rect(Math.min(ps,Cs),Math.min(qc,us),Math.abs(Cs-ps),Math.abs(us-qc));p&&v.push(new u.Point((ps+Cs)/2,qc)),Y>0&&((gl=1-(Vd=Y/d)/pc.width)<0&&(gl=0),ed=n.convert(mr),pc.left+=(ed-pc.left)*gl,pc.width=Math.min(Vd,pc.width)),tl=new gt(pc),this.drawSymbol(e,pc,r,Li,new u.Point(pc.left+.5*pc.width,qc),gi),r._setPointIndex(Li,di),di++,tl.tag=new q(M,Li,mr,Zo),this.hitTester.add(tl,M)}else p&&v.push(null)}}p&&v&&v.length&&p(v)}},t.prototype.drawSymbol=function(e,n,i,r,o,a){var d=this;if(a){e.startGroup();var p=new Kr(this.chart,o,Vr.SeriesSymbol);p._setData(i,r),a(e,p,function(){d.drawDefaultSymbol(e,n,i)}),e.cssPriority=!0,e.endGroup()}else this.drawDefaultSymbol(e,n,i)},t.prototype.drawDefaultSymbol=function(e,n,i){e.drawRect(n.left,n.top,n.width,n.height,null,i.symbolStyle)},t}(xs),Qs=function(s){function t(){var e=null!==s&&s.apply(this,arguments)||this;return e.stacking=Wr.None,e}return ur(t,s),t.prototype.adjustLimits=function(e,n){this.dataInfo=e;var i=e.getMinX(),r=e.getMinY(),o=e.getMaxX(),a=e.getMaxY();return new u.Rect(i,r,o-i,a-r)},t.prototype.plotSeries=function(e,n,i,r,o,a,d,p){var v=this.chart.series.indexOf(r);if(!(v>0)){var M,T,k,L,Y,ce=(0,u.asType)(r,Lo),ae=this.chart._options,Ee=r.getValues(0),Me=r.getValues(1),ze=this.chart._plotRect,st=ae&&ae.funnel&&null!=ae.funnel.neckWidth?ae.funnel.neckWidth:.2,xt=ae&&ae.funnel&&null!=ae.funnel.neckHeight?ae.funnel.neckHeight:0,yt=st*ze.width,St=0,Dt=0,Nt=0,en=0,Rt=ze.left,Kt=ze.top,Vt=ze.width,jn=ze.height;if(Ee){this.rotated&&(Kt+=ze.height),yt=yt||1,Me||(Me=this.dataInfo.getXVals());var _n=Ee.length;null!=Me&&(_n=Math.min(_n,Me.length));var Wn=0;for(St=0;St<_n;St++)$i.isValid(Ee[St])&&(Dt+=Ee[St],Ee[St]>Wn&&(Wn=Ee[St]));var oi,di=0;if(ae&&ae.funnel&&"rectangle"===ae.funnel.type&&Wn>0){xt=jn/_n,st=Vt;var ui=Vt/Wn;for(St=0;St<_n;St++){var Rn=Me?Me[St]:St,gi=Ee[St],Mi=ce._getSymbolFill(St),li=ce._getAltSymbolFill(St)||Mi,$n=ce._getSymbolStroke(St),Ki=ce._getAltSymbolStroke(St)||$n;if(this._getSymbolStyles&&(Mi=(Li=this._getSymbolStyles(St,_n))&&Li.fill?Li.fill:Mi,li=Li&&Li.fill?Li.fill:li,$n=Li&&Li.stroke?Li.stroke:$n,Ki=Li&&Li.stroke?Li.stroke:Ki),oi=gi>0?$n:Ki,e.fill=gi>0?Mi:li,e.stroke=oi,$i.isValid(Rn)&&$i.isValid(gi)){ui||(ui=Vt/gi);var tr=ui*gi;this.rotated&&(Kt-=xt),e.drawRect(Rt+=(st-tr)/2,Kt,tr,xt),Tr=new Pr(new u.Point(Rt,Kt),tr,xt,tr,xt),this.rotated||(Kt+=xt),st=tr,Tr.tag=new q(v,St,Rn,gi),this.hitTester.add(Tr,v),r._setPointIndex(St,di),di++}}}else for(Nt=ze.left+ze.width*(1-st)/2,en=ze.top+ze.height*(this.rotated?xt:1-xt),T=(1-st)*ze.width/2/(ze.height*(1-xt)),(isNaN(T)||!isFinite(T))&&(Vt=yt,Rt=Nt,Kt=en),M=ze.width*st*ze.height+ze.width*(1-st)/2*ze.height*(1-xt),St=0;St<_n;St++){Rn=Me?Me[St]:St,gi=Ee[St];var Tr,Li,Io=[],cs=[];if(Mi=ce._getSymbolFill(St),li=ce._getAltSymbolFill(St)||Mi,$n=ce._getSymbolStroke(St),Ki=ce._getAltSymbolStroke(St)||$n,this._getSymbolStyles&&(Mi=(Li=this._getSymbolStyles(St,_n))&&Li.fill?Li.fill:Mi,li=Li&&Li.fill?Li.fill:li,$n=Li&&Li.stroke?Li.stroke:$n,Ki=Li&&Li.stroke?Li.stroke:Ki),oi=gi>0?$n:Ki,e.fill=gi>0?Mi:li,e.stroke=oi,$i.isValid(Rn)&&$i.isValid(gi)){var us=M*gi/Dt;Vt>yt?(L=this._getTrapezoidOffsetY(Vt,us,T),this.rotated?Kt-L>en?(Io=[Rt,Rt+(k=T*L),Rt+Vt-k,Rt+Vt],cs=[Kt,Kt-L,Kt-L,Kt],Tr=new Pr(new u.Point(Rt,Kt-L),Vt,L,Vt-2*k,0,!0),Vt-=2*k,Rt+=k,Kt-=L):(k=T*(L=Kt-en),Y=(us-=this._getTrapezoidArea(Vt,T,L))/yt,Io.push(Rt,Rt+k,Rt+k,Rt+k+yt,Rt+k+yt,Rt+Vt),cs.push(Kt,Kt-L,Kt-L-Y,Kt-L-Y,Kt-L,Kt),Tr=new Pr(new u.Point(Rt,Kt-L-Y),Vt,L+Y,yt,Y,!0),Vt=yt,Rt+=k,Kt=Kt-L-Y):Kt+L<en?(Io=[Rt,Rt+(k=T*L),Rt+Vt-k,Rt+Vt],cs=[Kt,Kt+L,Kt+L,Kt],Tr=new Pr(new u.Point(Rt,Kt),Vt,L,Vt-2*k,0),Vt-=2*k,Rt+=k,Kt+=L):(k=T*(L=en-Kt),Y=(us-=this._getTrapezoidArea(Vt,T,L))/yt,Io.push(Rt,Rt+k,Rt+k,Rt+k+yt,Rt+k+yt,Rt+Vt),cs.push(Kt,Kt+L,Kt+L+Y,Kt+L+Y,Kt+L,Kt),Tr=new Pr(new u.Point(Rt,Kt),Vt,L+Y,yt,Y),Vt=yt,Rt+=k,Kt=Kt+L+Y),e.drawPolygon(Io,cs)):(Y=us/yt,this.rotated&&(Kt-=Y),e.drawRect(Rt,Kt,Vt,Y),Tr=new Pr(new u.Point(Rt,Kt),yt,Y,yt,Y),this.rotated||(Kt+=Y)),Tr.tag=new q(v,St,Rn,gi),this.hitTester.add(Tr,v),r._setPointIndex(St,di),di++}}}}},t.prototype._getTrapezoidArea=function(e,n,i){var r=i*n;return r*i+(e-2*r)*i},t.prototype._getTrapezoidOffsetY=function(e,n,i){var r=Math.pow(e/2/i,2)-n/i;return e/2/i-Math.sqrt(r>=0?r:0)},t.prototype.drawDefaultSymbol=function(e,n,i){e.drawRect(n.left,n.top,n.width,n.height,null,i.symbolStyle)},t.prototype._getPointAndPosition=function(e,n,i,r){var o=i;e.x=o.center.x,e.y=o.center.y,n=n??sr.Center},t}(xs),Pr=function(){function s(t,e,n,i,r,o){void 0===o&&(o=!1),this._startPoint=t,this._width=e,this._height=n,this._neckWidth=i,this._neckHeight=r,this._center=new u.Point(this._startPoint.x+e/2,this._startPoint.y+n/2),this._offsetX=(e-i)/2,this._offsetY=n-r,this._rotated=o}return s.prototype.contains=function(t){var e=this._startPoint,n=this._offsetX,i=this._offsetY;if(this._rotated){if(t.x>=e.x&&t.x<=e.x+this._width&&t.y>=e.y&&t.y<=e.y+this._height){if(t.x>=e.x+n&&t.x<=e.x+this._width-n)return!0;if(t.y<e.y+this._neckHeight)return!1;if(t.x<this._center.x)return(e.y+this._height-t.y)/(t.x-e.x)<i/n;if(t.x>this._center.x)return(e.y+this._height-t.y)/(e.x+this._width-t.x)<i/n}}else if(t.x>=e.x&&t.x<=e.x+this._width&&t.y>=e.y&&t.y<=e.y+this._height){if(t.x>=e.x+n&&t.x<=e.x+this._width-n)return!0;if(t.y>e.y+i)return!1;if(t.x<this._center.x)return(t.y-e.y)/(t.x-e.x)<i/n;if(t.x>this._center.x)return(t.y-e.y)/(e.x+this._width-t.x)<i/n}return!1},s.prototype.distance=function(t){if(this.contains(t))return 0;var e=this._startPoint,n=this._width,i=this._height,r=this._offsetX,o=this._offsetY;if(this._rotated){if(t.y>e.y+i)return t.x<e.x?Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y+i-t.y,2)):t.x>e.x+n?Math.sqrt(Math.pow(t.x-e.x-n,2)+Math.pow(e.y+i-t.y,2)):t.y-e.y-i;if(t.y<e.y)return t.x<e.x+r?Math.sqrt(Math.pow(e.x+r-t.x,2)+Math.pow(t.y-e.y-i,2)):t.x>e.x+n-r?Math.sqrt(Math.pow(t.x-e.x-n+r,2)+Math.pow(t.y-e.y-i,2)):e.y-t.y;if(!(t.y<e.y+i-o))return t.x<e.x+r?Math.min(Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(t.y-e.y-i,2)),Math.sqrt(Math.pow(t.x-r/2-e.x,2)+Math.pow(t.y-i+o/2-e.y,2)),Math.sqrt(Math.pow(t.x-r-e.x,2)+Math.pow(t.y-i+o-e.y,2))):Math.min(Math.sqrt(Math.pow(t.x-n-e.x,2)+Math.pow(t.y-i-e.y,2)),Math.sqrt(Math.pow(t.x-n+r/2-e.x,2)+Math.pow(t.y-i+o/2-e.y,2)),Math.sqrt(Math.pow(t.x-n+r-e.x,2)+Math.pow(t.y-i+o-e.y,2)));if(t.x<e.x+r)return e.x+r-t.x;if(t.x>e.x+n-r)return t.x-e.x-n+r}else{if(t.y<e.y)return t.x<e.x?Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)):t.x>e.x+n?Math.sqrt(Math.pow(t.x-e.x-n,2)+Math.pow(e.y-t.y,2)):e.y-t.y;if(t.y>e.y+i)return t.x<e.x+r?Math.sqrt(Math.pow(e.x+r-t.x,2)+Math.pow(t.y-e.y-i,2)):t.x>e.x+n-r?Math.sqrt(Math.pow(t.x-e.x-n+r,2)+Math.pow(t.y-e.y-i,2)):t.y-e.y-i;if(!(t.y>e.y+o))return t.x<e.x+r?Math.min(Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(t.y-e.y,2)),Math.sqrt(Math.pow(t.x-r/2-e.x,2)+Math.pow(t.y-o/2-e.y,2)),Math.sqrt(Math.pow(t.x-r-e.x,2)+Math.pow(t.y-o-e.y,2))):Math.min(Math.sqrt(Math.pow(t.x-n-e.x,2)+Math.pow(t.y-e.y,2)),Math.sqrt(Math.pow(t.x-n+r/2-e.x,2)+Math.pow(t.y-o/2-e.y,2)),Math.sqrt(Math.pow(t.x-n+r-e.x,2)+Math.pow(t.y-o-e.y,2)));if(t.x<e.x+r)return e.x+r-t.x;if(t.x>e.x+n-r)return t.x-e.x-n+r}},Object.defineProperty(s.prototype,"center",{get:function(){return this._center},enumerable:!0,configurable:!0}),s}(),xr=function(s){function t(){var e=null!==s&&s.apply(this,arguments)||this;return e.isCandle=!0,e.isArms=!1,e.isEqui=!1,e.isVolume=!1,e._volHelper=null,e._symWidth=.7,e}return ur(t,s),t.prototype.clear=function(){s.prototype.clear.call(this),this._volHelper=null},t.prototype.load=function(){if(s.prototype.load.call(this),this.isVolume){var e,n,i,r,o,a,d,p,v=null,M=null;for(a=0;a<this.chart.series.length;a++){var T;if(o=(e=this.chart.series[a]).getDataType(1)||e.chart._xDataType,n=e._getAxisX(),r=(i=null===(i=e._getChartType())||(0,u.isUndefined)(i)?this.chart._getChartType():i)===xi.Column?e._getBindingValues(1):i===xi.Candlestick?e._getBindingValues(4):null,o===u.DataType.Date)for(d=[],p=[],a=0;a<e._getLength();a++)T=e._getItem(a)[e.bindingX].valueOf(),d.push(T),p.push({value:T,text:u.Globalize.format(new Date(T),n.format||"d")});else d=this.dataInfo.getXVals();if(v=this.dataInfo.getMinX(),M=this.dataInfo.getMaxX(),r&&r.length>0){this._volHelper=new No(r,d,v,M,o),n._customConvert=this._volHelper.convert.bind(this._volHelper),n._customConvertBack=this._volHelper.convertBack.bind(this._volHelper),p&&p.length>0&&(this._itemsSource=n.itemsSource=p);break}}}},t.prototype.unload=function(){s.prototype.unload.call(this);for(var e,n=0;n<this.chart.series.length;n++)(e=this.chart.series[n]._getAxisX())&&(e._customConvert=null,e._customConvertBack=null,e.itemsSource&&e.itemsSource==this._itemsSource&&(this._itemsSource=e.itemsSource=null))},t.prototype.parseSymbolWidth=function(e){if(this._isPixel=void 0,e)if((0,u.isNumber)(e)){var n=(0,u.asNumber)(e);isFinite(n)&&n>0&&(this._symWidth=n,this._isPixel=!0)}else if((0,u.isString)(e)){var i=(0,u.asString)(e);if(i&&i.indexOf("%")>=0){i=i.replace("%","");var r=parseFloat(i);isFinite(r)&&(r<0?r=0:r>100&&(r=100),this._symWidth=r/100,this._isPixel=!1)}else r=parseFloat(e),isFinite(r)&&r>0&&(this._symWidth=r,this._isPixel=!0)}},t.prototype.adjustLimits=function(e,n){this.dataInfo=e;var i=e.getMinX(),r=e.getMinY(),o=e.getMaxX(),a=e.getMaxY(),d=e.getDeltaX(),p=this.chart._xDataType;d<=0&&(d=1);var v=this.chart.series,M=v.length,T=0;this.parseSymbolWidth(this.symbolWidth),!this.isVolume||this.chart._getChartType()!==xi.Column&&this.chart._getChartType()!==xi.Candlestick?this.unload():this.load();for(var k=0;k<M;k++){var L=v[k];if(!L._isCustomAxisY()){var Y=L._getBinding(1),ce=L._getBinding(2),ae=L._getBinding(3),Ee=L._getLength();if(Ee){var Me=L._getSymbolSize();Me>T&&(T=Me);for(var ze=0;ze<Ee;ze++){var st=L._getItem(ze);st&&[Y?st[Y]:null,ce?st[ce]:null,ae?st[ae]:null].forEach(function(Dt){$i.isValid(Dt)&&null!==Dt&&((isNaN(r)||Dt<r)&&(r=Dt),(isNaN(a)||Dt>a)&&(a=Dt))})}}}}var xt=o-i,yt=this.chart._plotRect;if(yt&&yt.width&&!this.isVolume){isNaN(Me)&&(Me=L._getSymbolSize());var St=yt.width/(yt.width-(Me+=2))*xt;i-=.5*(St-xt),xt=St}return!(p===u.DataType.Date&&this.isVolume||p===u.DataType.Number)||this.chart._getChartType()!==xi.Column&&this.chart._getChartType()!==xi.Candlestick?this.chart._isRotated()?new u.Rect(r,i,a-r,xt):new u.Rect(i,r,xt,a-r):new u.Rect(i-.5*d,r,o-i+d,a-r)},t.prototype.plotSeries=function(e,n,i,r,o,a,d,p){var v=this,M=(0,u.asType)(r,Lo),T=this.chart.series.indexOf(r),k=r.getValues(0),L=r.getValues(1),Y=this._symWidth,ce=this.chart._isRotated();if(k){if(L||(L=this.dataInfo.getXVals()),L){var ae=this.dataInfo.getDeltaX();ae>0&&!1===this._isPixel&&(Y*=ae)}var Ee=k.length,Me=!0;L?Ee=Math.min(Ee,L.length):(Me=!1,L=new Array(Ee));var ze=this._DEFAULT_WIDTH,st=M._getSymbolFill(T),xt=M._getAltSymbolFill(T)||"transparent",yt=M._getSymbolStroke(T),St=M._getAltSymbolStroke(T)||yt,Dt=void 0===this._isPixel?M._getSymbolSize():Y;e.stroke=yt,e.strokeWidth=ze,e.fill=st;for(var Nt,en,Rt=M._getBinding(1),Kt=M._getBinding(2),Vt=M._getBinding(3),jn=ce?i.actualMin:n.actualMin,_n=ce?i.actualMax:n.actualMax,Wn=0,wn=null,oi=null,di=this.getItemFormatter(r),ui=0;ui<Ee;ui++)if(wn=M._getItem(ui)){var Rn=Me?L[ui]:ui;if($i.isValid(Rn)&&jn<=Rn&&Rn<=_n){var gi=k[ui],Mi=Rt?wn[Rt]:null,li=Kt?wn[Kt]:null,$n=Vt?wn[Vt]:null;if(e.startGroup(),this.isEqui&&null!==oi?oi[Vt]!==wn[Vt]&&(Nt=oi[Vt]<wn[Vt]?xt:st,en=oi[Vt]<wn[Vt]?St:yt):(Nt=li<$n?xt:st,en=li<$n?St:yt),e.fill=Nt,e.stroke=en,e.strokeWidth=ze,di){var Ki=new Kr(this.chart,new u.Point(n.convert(Rn),i.convert(gi)),Vr.SeriesSymbol);Ki._setData(M,ui),di(e,Ki,function(){v._drawSymbol(e,n,i,T,ui,Nt,Dt,Rn,gi,Mi,li,$n)}),e.cssPriority=!0}else this._drawSymbol(e,n,i,T,ui,Nt,Dt,Rn,gi,Mi,li,$n);e.endGroup(),r._setPointIndex(ui,Wn),Wn++}oi=wn}}},t.prototype._drawSymbol=function(e,n,i,r,o,a,d,p,v,M,T,k){var L,Y=null,ce=null,ae=null,Ee=null,Me=this.chart._isRotated(),ze=Me?new q(r,o,v,p):new q(r,o,p,v);if(Me){var st=i;i=n,n=st}if(!1===this._isPixel&&(ae=n.convert(p-.5*d))>(Ee=n.convert(p+.5*d))){var xt=ae;ae=Ee,Ee=xt}p=n.convert(p),!1!==this._isPixel&&(ae=p-.5*d,Ee=p+.5*d),this.isCandle?($i.isValid(T)&&$i.isValid(k)&&(T=i.convert(T),k=i.convert(k),ce=(Y=Math.min(T,k))+Math.abs(T-k),Me?(e.drawRect(Y,ae,ce-Y||1,Ee-ae||1),L=new gt(new u.Rect(Y,ae,ce-Y||1,Ee-ae||1))):(e.drawRect(ae,Y,Ee-ae||1,ce-Y||1),L=new gt(new u.Rect(ae,Y,Ee-ae||1,ce-Y||1))),L.tag=ze,this.hitTester.add(L,r)),$i.isValid(v)&&(v=i.convert(v),null!==Y&&(Me?(e.drawLine(ce,p,v,p),L.rect.width=L.rect.width+v):(e.drawLine(p,Y,p,v),L.rect.top=v,L.rect.height=L.rect.height+v))),$i.isValid(M)&&(M=i.convert(M),null!==ce&&(Me?(e.drawLine(Y,p,M,p),L.rect.left=M,L.rect.width=L.rect.width+M):(e.drawLine(p,ce,p,M),L.rect.height=L.rect.height+M)))):this.isEqui?$i.isValid(v)&&$i.isValid(M)&&(v=i.convert(v),M=i.convert(M),ce=(Y=Math.min(v,M))+Math.abs(v-M),e.drawRect(ae,Y,Ee-ae||1,ce-Y||1),(L=new gt(new u.Rect(ae,Y,Ee-ae||1,ce-Y||1))).tag=ze,this.hitTester.add(L,r)):this.isArms?($i.isValid(T)&&$i.isValid(k)&&(T=i.convert(T),k=i.convert(k),ce=(Y=Math.min(T,k))+Math.abs(T-k),e.drawRect(ae,Y,Ee-ae||1,ce-Y||1)),$i.isValid(v)&&null!==Y&&(v=i.convert(v),e.drawLine(p,Y,p,v)),$i.isValid(M)&&null!==ce&&(M=i.convert(M),e.drawLine(p,ce,p,M)),$i.isValid(v)&&$i.isValid(M)&&(e.fill="transparent",ce=(Y=Math.min(v,M))+Math.abs(v-M),e.drawRect(ae,Y,Ee-ae||1,ce-Y||1),(L=new gt(new u.Rect(ae,Y,Ee-ae||1,ce-Y||1))).tag=ze,this.hitTester.add(L,r))):($i.isValid(v)&&$i.isValid(M)&&(v=i.convert(v),M=i.convert(M),ce=(Y=Math.min(v,M))+Math.abs(v-M),Me?(e.drawLine(M,p,v,p),L=new gt(new u.Rect(Y,ae,ce-Y||1,Ee-ae||1))):(e.drawLine(p,M,p,v),L=new gt(new u.Rect(ae,Y,Ee-ae||1,ce-Y||1))),L.tag=ze,this.hitTester.add(L,r)),$i.isValid(T)&&(T=i.convert(T),Me?e.drawLine(T,ae,T,p):e.drawLine(ae,T,p,T)),$i.isValid(k)&&(k=i.convert(k),Me?e.drawLine(k,p,k,Ee):e.drawLine(p,k,Ee,k)))},t}(xs),Fe=function(){function s(){this._moveMarker=function(t){var n=this._markers,i=t.currentTarget.getAttribute("data-markerIndex");null!=i&&n[i].forEach(function(r){r._moveMarker(t)})},this._markers=[],this._bindMoveMarker=this._moveMarker.bind(this)}return s.prototype.attach=function(t){var e,n,i=t.chart.hostElement,r=this._markers,o=i.getAttribute("data-markerIndex");null!=o?(n=r[o])&&(0,u.isArray)(n)?n.push(t):(r[o]=[t],this._bindMoveEvent(i)):(e=r.length,r.push(n=[t]),i.setAttribute("data-markerIndex",e),this._bindMoveEvent(i))},s.prototype.detach=function(t){var e,n,i=t.chart.hostElement,r=this._markers,o=i.getAttribute("data-markerIndex");null!=o&&((e=(n=r[o]).indexOf(t))>-1&&n.splice(e,1),0===n.length&&((e=r.indexOf(n))>-1&&(r[e]=void 0),this._unbindMoveEvent(i)))},s.prototype._unbindMoveEvent=function(t){var e=this._bindMoveMarker;t.removeEventListener("mousemove",e),"ontouchstart"in window&&t.removeEventListener("touchmove",e)},s.prototype._bindMoveEvent=function(t){var e=this._bindMoveMarker;t.addEventListener("mousemove",e),"ontouchstart"in window&&t.addEventListener("touchmove",e)},s}(),bt=new Fe;!function(s){s[s.None=0]="None",s[s.Vertical=1]="Vertical",s[s.Horizontal=2]="Horizontal",s[s.Both=3]="Both"}(Se||(Se={})),function(s){s[s.None=0]="None",s[s.Move=1]="Move",s[s.Drag=2]="Drag"}(Ct||(Ct={})),function(s){s[s.Auto=2]="Auto",s[s.Right=0]="Right",s[s.Left=1]="Left",s[s.Bottom=4]="Bottom",s[s.Top=6]="Top"}(kt||(kt={}));var mn=function(){function s(t,e){this._wrapperMousedown=null,this._wrapperMouseup=null,this.positionChanged=new u.Event,this._chart=t,t._markers.push(this),t.rendered.addHandler(this._initialize,this),this._resetDefaultValue(),(0,u.copy)(this,e),this._initialize()}return Object.defineProperty(s.prototype,"chart",{get:function(){return this._chart},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"isVisible",{get:function(){return this._isVisible},set:function(t){t!==this._isVisible&&(this._isVisible=(0,u.asBoolean)(t),this._marker&&this._toggleVisibility())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"seriesIndex",{get:function(){return this._seriesIndex},set:function(t){t!==this._seriesIndex&&(this._seriesIndex=(0,u.asNumber)(t,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"horizontalPosition",{get:function(){return this._horizontalPosition},set:function(t){if(t!==this._horizontalPosition){if(this._horizontalPosition=(0,u.asNumber)(t,!0),this._horizontalPosition<0||this._horizontalPosition>1)throw"horizontalPosition's value should be in (0, 1).";this._marker&&this._updateMarkerPosition()}},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"x",{get:function(){var t=this._chart.axisX,e=this.chart.pageToControl(this._targetPoint);return t.convertBack(e.x)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"y",{get:function(){var t=this._chart.axisY,e=this.chart.pageToControl(this._targetPoint);return t.convertBack(e.y)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"content",{get:function(){return this._content},set:function(t){t!==this._content&&(this._content=(0,u.asFunction)(t),this._updateMarkerPosition())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"verticalPosition",{get:function(){return this._verticalPosition},set:function(t){if(t!==this._verticalPosition){if(this._verticalPosition=(0,u.asNumber)(t,!0),this._verticalPosition<0||this._verticalPosition>1)throw"verticalPosition's value should be in (0, 1).";this._marker&&this._updateMarkerPosition()}},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"alignment",{get:function(){return this._alignment},set:function(t){t!==this._alignment&&(this._alignment=t,this._marker&&this._updatePositionByAlignment())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"lines",{get:function(){return this._lines},set:function(t){(t=(0,u.asEnum)(t,Se))!=this._lines&&(this._lines=t,this._marker&&this._resetLinesVisibility())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"interaction",{get:function(){return this._interaction},set:function(t){(t=(0,u.asEnum)(t,Ct))!=this._interaction&&(this._marker&&this._detach(),this._interaction=t,this._marker&&this._attach(),this._toggleElesDraggableClass(this._interaction==Ct.Drag))},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"dragThreshold",{get:function(){return this._dragThreshold},set:function(t){t!=this._dragThreshold&&(this._dragThreshold=(0,u.asNumber)(t))},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"dragContent",{get:function(){return this._dragContent},set:function(t){t!==this._dragContent&&(this._dragContent=(0,u.asBoolean)(t)),(0,u.toggleClass)(this._dragEle,s._CSS_LINE_DRAGGABLE,this._interaction===Ct.Drag&&this._dragContent&&this._lines!==Se.None)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"dragLines",{get:function(){return this._dragLines},set:function(t){t!=this._dragLines&&(this._dragLines=(0,u.asBoolean)(t))},enumerable:!0,configurable:!0}),s.prototype.onPositionChanged=function(t){this.positionChanged.raise(this,t)},s.prototype.remove=function(){this._marker&&(this._chart.rendered.removeHandler(this._initialize,this),this._detach(),this._removeMarker(),this._wrapperMoveMarker=null,this._wrapperMousedown=null,this._wrapperMouseup=null)},s.prototype._attach=function(){var t=this._chart.hostElement;this._interaction!==Ct.None?(0,u.addClass)(t,s._CSS_TOUCH_DISABLED):(0,u.removeClass)(t,s._CSS_TOUCH_DISABLED),bt.attach(this),this._attachDrag()},s.prototype._attachDrag=function(){this._interaction===Ct.Drag&&(this._wrapperMousedown||(this._wrapperMousedown=this._onMousedown.bind(this)),this._wrapperMouseup||(this._wrapperMouseup=this._onMouseup.bind(this)),this._toggleDragEventAttach(!0))},s.prototype._detach=function(){(0,u.removeClass)(this._chart.hostElement,s._CSS_TOUCH_DISABLED),bt.detach(this),this._detachDrag()},s.prototype._detachDrag=function(){this._interaction===Ct.Drag&&this._toggleDragEventAttach(!1)},s.prototype._toggleDragEventAttach=function(t){var e=this._chart.hostElement,n=t?"addEventListener":"removeEventListener";e[n]("mousedown",this._wrapperMousedown),document[n]("mouseup",this._wrapperMouseup),"ontouchstart"in window&&e[n]("touchstart",this._wrapperMousedown),"ontouchend"in window&&document[n]("touchend",this._wrapperMouseup)},s.prototype._onMousedown=function(t){var e,n,i,r,o,a=this._getEventPoint(t);this._interaction===Ct.Drag&&(r=!(0===(e=(0,u.getElementRect)(this._hLine)).width||0===e.height),o=!(0===(n=(0,u.getElementRect)(this._vLine)).width||0===n.height),i=(0,u.getElementRect)(this._markerContent),this._dragContent&&this._pointInRect(a,i)?(this._capturedEle=this._markerContent,this._contentDragStartPoint=new u.Point(a.x,a.y),this._mouseDownCrossPoint=new u.Point(this._targetPoint.x,this._targetPoint.y)):r&&(Math.abs(e.top-a.y)<=this._dragThreshold||Math.abs(a.y-e.top-e.height)<=this._dragThreshold||a.y>=e.top&&a.y<=e.top+e.height)?(this._capturedEle=this._hLine,this._contentDragStartPoint=void 0,(0,u.addClass)(this._chart.hostElement,s._CSS_LINE_DRAGGABLE)):o&&(Math.abs(n.left-a.x)<=this._dragThreshold||Math.abs(a.x-n.left-n.width)<=this._dragThreshold||a.x>=n.left&&a.x<=n.left+n.width)&&(this._capturedEle=this._vLine,this._contentDragStartPoint=void 0,(0,u.addClass)(this._chart.hostElement,s._CSS_LINE_DRAGGABLE)),t.preventDefault())},s.prototype._onMouseup=function(t){var e=this._alignment===kt.Auto&&this._capturedEle===this._markerContent&&this._lines!==Se.None;this._capturedEle=void 0,this._contentDragStartPoint=void 0,this._mouseDownCrossPoint=void 0,e&&(this._updatePositionByAlignment(),this._updatePositionByAlignment()),(0,u.removeClass)(this._chart.hostElement,s._CSS_LINE_DRAGGABLE)},s.prototype._moveMarker=function(t){var e,n,i,r,o,a,d=this._chart,p=this._getEventPoint(t),v=this._plotRect,M=this._interaction===Ct.Drag,T=this._lines===Se.Horizontal,k=this._lines===Se.Vertical,L=this._seriesIndex,Y=(0,u.getElementRect)(d.hostElement);if(v&&this._isVisible&&this._interaction!==Ct.None&&(this._interaction!==Ct.Drag||this._capturedEle&&this._lines!==Se.None)){if(M&&(this._contentDragStartPoint?(p.x=T?this._targetPoint.x:this._mouseDownCrossPoint.x+p.x-this._contentDragStartPoint.x,p.y=k?this._targetPoint.y:this._mouseDownCrossPoint.y+p.y-this._contentDragStartPoint.y):T||!this._dragLines&&this._capturedEle===this._hLine?p.x=this._targetPoint.x:(k||!this._dragLines&&this._capturedEle===this._vLine)&&(p.y=this._targetPoint.y)),M&&this._lines===Se.Horizontal||!this._dragLines&&this._capturedEle===this._hLine){if(p.y<=v.top||p.y>=v.top+v.height)return}else if(M&&this._lines===Se.Vertical||!this._dragLines&&this._capturedEle===this._vLine){if(p.x<=v.left||p.x>=v.left+v.width)return}else if(p.x<=v.left||p.y<=v.top||p.x>=v.left+v.width||p.y>=v.top+v.height)return;if(null!=L&&L>=0&&L<d.series.length){if(null==(n=(e=d.series[L]).hitTest(new u.Point(p.x,NaN)))||null==n.x||null==n.y)return;i=e.axisX||d.axisX,r=e._getAxisY(),o=(0,u.isDate)(n.x)?Ai._toOADate(n.x):n.x,o=(0,u.isString)(o)?n.pointIndex:o,a=(0,u.isDate)(n.y)?Ai._toOADate(n.y):n.y;var ce=this._getElementPaddingValuee(d.hostElement,"padding-left"),ae=this._getElementPaddingValuee(d.hostElement,"padding-top");p.x=i.convert(o)+ce+Y.left,this.chart._stacking!=Wr.None&&(a=this._calcStackedValue(L,o,a)),p.y=r.convert(a)+ae+Y.top}this._updateMarkerPosition(p),t.preventDefault()}},s.prototype._calcStackedValue=function(t,e,n){for(var i=n,r=this.chart._stacking==Wr.Stacked100pc,o=0;o<t;o++){var a=this.chart.series[o],d=a.getValues(1),p=a.getValues(0);if(p)for(var v=0;v<p.length;v++)if(e===(d?d[v]:v)){isFinite(p[v])&&(r||this._sign(n)==this._sign(p[v]))&&(i+=p[v]);break}}return r&&i&&(i/=this.chart._dataInfo.getStackedAbsSum(e))>1&&(i=1),i},s.prototype._sign=function(t){return t>0?1:t<0?-1:0},s.prototype._getElementPaddingValuee=function(t,e){return+window.getComputedStyle(t,null).getPropertyValue(e).replace("px","")},s.prototype._show=function(t){(t||this._marker).style.display="block"},s.prototype._hide=function(t){(t||this._marker).style.display="none"},s.prototype._toggleVisibility=function(){this._isVisible?this._show():this._hide()},s.prototype._resetDefaultValue=function(){this._isVisible=!0,this._alignment=kt.Auto,this._lines=Se.None,this._interaction=Ct.None,this._horizontalPosition=null,this._verticalPosition=null,this._content=null,this._seriesIndex=null,this._dragThreshold=15,this._dragContent=!1,this._dragLines=!1,this._targetPoint=new u.Point},s.prototype._initialize=function(){var t,e=this._chart.hostElement.querySelector("."+Ai._CSS_PLOT_AREA);this._plot=e,this._marker||this._createMarker(),e&&(this._plotRect=(0,u.getElementRect)(e),t=e.getBBox(),this._plotRect.width=t.width,this._plotRect.height=t.height,this._updateMarkerSize(),this._updateLinesSize()),this._updateMarkerPosition(),this._wrapperMoveMarker=this._moveMarker.bind(this),this._attach()},s.prototype._createMarker=function(){var t,e;t=document.createElement("div"),(0,u.addClass)(t,s._CSS_MARKER),(e=this._getContainer()).appendChild(t),this._markerContainer=e,this._marker=t,this._createChildren()},s.prototype._removeMarker=function(){var t=this._markerContainer;t.removeChild(this._marker),this._content=null,this._hLine=null,this._vLine=null,t.hasChildNodes()||(this._chart.hostElement.removeChild(this._markerContainer),this._markerContainer=null),this._marker=null},s.prototype._getContainer=function(){var t=this._chart.hostElement.querySelector(s._CSS_MARKER_CONTAINER);return t||(t=this._createContainer()),t},s.prototype._createContainer=function(){var t=document.createElement("div"),e=this._chart.hostElement;return(0,u.addClass)(t,s._CSS_MARKER_CONTAINER),e.insertBefore(t,e.firstChild),t},s.prototype._createChildren=function(){var t,e,n,i,r=this._marker;(i=document.createElement("div")).style.position="absolute",i.style.height="100%",i.style.width="100%",r.appendChild(i),this._dragEle=i,t=document.createElement("div"),(0,u.addClass)(t,s._CSS_MARKER_CONTENT),r.appendChild(t),this._markerContent=t,e=document.createElement("div"),(0,u.addClass)(e,s._CSS_MARKER_HLINE),r.appendChild(e),this._hLine=e,n=document.createElement("div"),(0,u.addClass)(n,s._CSS_MARKER_VLINE),r.appendChild(n),this._vLine=n,this._toggleElesDraggableClass(this._interaction===Ct.Drag),this._resetLinesVisibility()},s.prototype._toggleElesDraggableClass=function(t){(0,u.toggleClass)(this._hLine,s._CSS_LINE_DRAGGABLE,t),(0,u.toggleClass)(this._vLine,s._CSS_LINE_DRAGGABLE,t),(0,u.toggleClass)(this._dragEle,s._CSS_LINE_DRAGGABLE,t&&this._dragContent&&this._lines!==Se.None)},s.prototype._updateMarkerSize=function(){var t=this._plotRect,e=this._chart.hostElement,n=window.getComputedStyle(e,null),i=(0,u.getElementRect)(e);this._marker&&(this._marker.style.marginTop=t.top-i.top-(parseFloat(n.getPropertyValue("padding-top"))||0)+"px",this._marker.style.marginLeft=t.left-i.left-(parseFloat(n.getPropertyValue("padding-left"))||0)+"px")},s.prototype._updateLinesSize=function(){var t=this._plotRect;this._hLine&&this._vLine&&(this._hLine.style.width=t.width+"px",this._vLine.style.height=t.height+"px")},s.prototype._resetLinesVisibility=function(){this._hLine&&this._vLine&&(this._hide(this._hLine),this._hide(this._vLine),this._lines!==Se.Horizontal&&this._lines!==Se.Both||this._show(this._hLine),this._lines!==Se.Vertical&&this._lines!==Se.Both||this._show(this._vLine))},s.prototype._updateMarkerPosition=function(t){var e,n,i=this._plotRect,r=this._targetPoint,o=!1;this._plot&&(e=i.left+i.width*(this._horizontalPosition||0),n=i.top+i.height*(this._verticalPosition||0),null==this._horizontalPosition&&t&&(e=t.x),null==this._verticalPosition&&t&&(n=t.y),e===r.x&&n===r.y||(o=!0),r.x=e,r.y=n,this._toggleVisibility(),this._content&&this._updateContent(),o&&this._raisePositionChanged(e,n),this._updatePositionByAlignment(!!t))},s.prototype._updateContent=function(){var t,n=this._targetPoint,i=this._chart.hitTest(n);t=this._content.call(null,i,n),this._markerContent.innerHTML=t||""},s.prototype._raisePositionChanged=function(t,e){this.onPositionChanged(new u.Point(t,e))},s.prototype._updatePositionByAlignment=function(t){var e=this._alignment,n=this._targetPoint,i=this._marker,r=0,o=0,a=i.clientWidth,d=i.clientHeight,p=this._plotRect;this._plot&&(!this._capturedEle||this._capturedEle&&this._capturedEle!==this._markerContent?(e===kt.Auto?(n.x+a+12>p.left+p.width&&n.x-a>=0&&(o=a),r=d,n.y-d<p.top&&(r=0)):(1==(1&e)&&(o=a),2==(2&e)&&(r=d)),this._interaction===Ct.Move&&0===r&&0===o&&null==this.verticalPosition&&(o=-12)):(parseInt(this._hLine.style.top)>0&&(r=d),parseInt(this._vLine.style.left)>0&&(o=a)),i.style.left=n.x-o-p.left+"px",i.style.top=n.y-r-p.top+"px",this._hLine.style.top=r+"px",this._hLine.style.left=p.left-n.x+o+"px",this._vLine.style.top=p.top-n.y+r+"px",this._vLine.style.left=o+"px")},s.prototype._getEventPoint=function(t){return t instanceof MouseEvent?new u.Point(t.pageX,t.pageY):new u.Point(t.changedTouches[0].pageX,t.changedTouches[0].pageY)},s.prototype._pointInRect=function(t,e){return!(!t||!e)&&t.x>=e.left&&t.x<=e.left+e.width&&t.y>=e.top&&t.y<=e.top+e.height},s._CSS_MARKER="wj-chart-linemarker",s._CSS_MARKER_HLINE="wj-chart-linemarker-hline",s._CSS_MARKER_VLINE="wj-chart-linemarker-vline",s._CSS_MARKER_CONTENT="wj-chart-linemarker-content",s._CSS_MARKER_CONTAINER="wj-chart-linemarker-container",s._CSS_LINE_DRAGGABLE="wj-chart-linemarker-draggable",s._CSS_TOUCH_DISABLED="wj-flexchart-touch-disabled",s}(),Hn=function(s){function t(){var e=s.call(this)||this;return e.hasSymbols=!1,e.hasLines=!0,e.isSpline=!1,e.isStep=!1,e.stacking=Wr.None,e.stackPos={},e.stackNeg={},e.clipping=!1,e}return ur(t,s),t.prototype.clear=function(){s.prototype.clear.call(this),this.stackNeg={},this.stackPos={}},t.prototype.adjustLimits=function(e,n){this.dataInfo=e;var i=e.getMinX(),r=e.getMinY(),o=e.getMaxX(),a=e.getMaxY();if(this.isSpline&&!this.chart.axisY._getLogBase()){var d=.1*(a-r);r-=d,a+=d}return this.rotated?new u.Rect(r,i,a-r,o-i):new u.Rect(i,r,o-i,a-r)},t.prototype.plotSeries=function(e,n,i,r,o,a,d,p){var v=[],M=(0,u.asType)(r,Lo),T=this.chart.series.indexOf(r),k=r.getValues(0),L=r.getValues(1);if(k){L||(L=this.dataInfo.getXVals());var Y=xs.cloneStyle(r.style,["fill"]),ce=k.length,ae=!0;L?ce=Math.min(ce,L.length):(ae=!1,L=new Array(ce));var Ee=this._DEFAULT_WIDTH,Me=M._getSymbolFill(T),ze=M._getAltSymbolFill(T)||Me,st=M._getSymbolStroke(T),xt=M._getAltSymbolStroke(T)||st,yt=M._getSymbolSize();e.stroke=st,e.strokeWidth=Ee,e.fill=Me;var St=new Float64Array(ce),Dt=new Float64Array(ce),Nt=0,en=new Int8Array(ce),Rt=0,Kt=this.rotated,Vt=this.stacking!=Wr.None&&!M._isCustomAxisY(),jn=this.stacking==Wr.Stacked100pc&&!M._isCustomAxisY();void 0!==M._getChartType()&&(Vt=jn=!1);for(var _n=M.interpolateNulls,Wn=!1,wn=this.getItemFormatter(r),oi=0;oi<ce;oi++){var di=ae?L[oi]:oi,ui=k[oi];if(isFinite(di)&&isFinite(ui)){if(Vt)if(jn&&(ui/=this.dataInfo.getStackedAbsSum(di)),ui>=0){var Rn=isNaN(this.stackPos[di])?0:this.stackPos[di];ui=this.stackPos[di]=Rn+ui}else Rn=isNaN(this.stackNeg[di])?0:this.stackNeg[di],ui=this.stackNeg[di]=Rn+ui;var gi;if(Kt){gi=new q(T,oi,ui,di);var Mi=n.convert(ui);ui=i.convert(di),di=Mi}else gi=new q(T,oi,di,ui),di=n.convert(di),ui=i.convert(ui);if(isNaN(di)||isNaN(ui))Wn=!0,!0!==_n&&(St[Nt]=NaN,Dt[Nt++]=NaN),en[Rt++]=1,p&&v.push(null);else{St[Nt]=di,Dt[Nt++]=ui,Rt++,p&&v.push(new u.Point(di,ui));var li=new rn(new u.Point(di,ui),.5*yt);li.tag=gi,this.hitTester.add(li,T)}}else Wn=!0,!0!==_n&&(St[Nt]=NaN,Dt[Nt++]=NaN),en[Rt++]=1,p&&v.push(null)}var $n=0;if(this.hasLines)if(e.fill=null,Wn&&!0!==_n){var Ki=[],tr=[];for(oi=0;oi<ce;oi++)isNaN(St[oi])?(Ki.length>1&&(this._drawLines(e,Ki,tr,null,Y,this.chart._plotrectId),this.hitTester.add(new wi(Ki,tr),T),$n++),Ki=[],tr=[]):(Ki.push(St[oi]),tr.push(Dt[oi]));Ki.length>1&&(this._drawLines(e,Ki,tr,null,Y,this.chart._plotrectId),this.hitTester.add(new wi(Ki,tr),T),$n++)}else this._drawLines(e,St,Dt,null,Y,this.chart._plotrectId,Nt),this.hitTester.add(new wi(St,Dt),T),$n++;if(this.hasSymbols&&yt>0||wn){e.fill=Me;var Tr=0;for(oi=0;oi<ce;oi++)(!_n||!en[oi])&&(di=St[Tr],ui=Dt[Tr],(!1===this.hasLines||wn)&&(e.fill=k[oi]>0?Me:ze,e.stroke=k[oi]>0?st:xt,e.strokeWidth=Ee),this.isValid(di,ui,n,i)&&(this._drawSymbol(e,di,ui,yt,M,oi,wn),r._setPointIndex(oi,$n),$n++),Tr++)}p&&v&&v.length&&p(v)}},t.prototype._drawLines=function(e,n,i,r,o,a,d){if(this.isSpline&&d>3)e.drawSplines(n,i,r,o,a,d);else if(this.isStep){var p=this._createSteps(n,i,d);e.drawLines(n=p.x,i=p.y,r,o,a)}else e.drawLines(n,i,r,o,a,d)},t.prototype._drawSymbol=function(e,n,i,r,o,a,d){var p=this;if(d){e.startGroup();var v=new Kr(this.chart,new u.Point(n,i),Vr.SeriesSymbol);v._setData(o,a),d(e,v,function(){p.hasSymbols&&r>0&&p._drawDefaultSymbol(e,n,i,r,o.symbolMarker,o.symbolStyle)}),e.cssPriority=!0,e.endGroup()}else this._drawDefaultSymbol(e,n,i,r,o.symbolMarker,o.symbolStyle)},t.prototype._drawDefaultSymbol=function(e,n,i,r,o,a){o==Lr.Dot?e.drawEllipse(n,i,.5*r,.5*r,null,a):o==Lr.Box&&e.drawRect(n-.5*r,i-.5*r,r,r,null,a)},t}(xs),Rr=function(s){function t(){var e=s.call(this)||this;return e._MIN_SIZE=5,e._MAX_SIZE=30,e.hasLines=!1,e.hasSymbols=!0,e.clipping=!0,e}return ur(t,s),t.prototype.adjustLimits=function(e,n){var i=this.getNumOption("minSize","bubble");this._minSize=i||this._MIN_SIZE;var r=this.getNumOption("maxSize","bubble");this._maxSize=r||this._MAX_SIZE;for(var o=this.chart.series,a=o.length,d=NaN,p=NaN,v=0;v<a;v++)if(((Ee=o[v])._getChartType()==xi.Bubble||null==Ee._getChartType()&&Ee._chart._getChartType()==xi.Bubble)&&(Me=Ee._getBindingValues(1)))for(var M=Me.length,T=0;T<M;T++)isFinite(Me[T])&&((isNaN(d)||Me[T]<d)&&(d=Me[T]),(isNaN(p)||Me[T]>p)&&(p=Me[T]));this._minValue=d,this._maxValue=p;var k=s.prototype.adjustLimits.call(this,e,n),L=n.left,Y=n.right,ce=n.top,ae=n.bottom;for(v=0;v<a;v++){var Ee;if((Ee=o[v])._getChartType()==xi.Bubble||null==Ee._getChartType()&&Ee._chart._getChartType()==xi.Bubble){var Me=Ee._getBindingValues(1),ze=Ee.getValues(1),st=Ee.getValues(0);if(Me&&ze&&st){var xt=Me.length;for(T=0;T<xt;T++){var yt=ze?ze[T]:T,St=st[T],Dt=Me[T];$i.isValid(yt,St,Dt)&&((yt=n.left+n.width*(yt-k.left)/k.width)-(Dt=this._minSize+(this._maxSize-this._minSize)*(Dt-d)/(p-d))<L&&(L=yt-Dt),yt+Dt>Y&&(Y=yt+Dt),(St=n.top+n.height*(St-k.top)/k.height)-Dt<ce&&(ce=St-Dt),St+Dt>ae&&(ae=St+Dt))}}}}L=n.left-L+5,Y=Y-n.right+5,ce=n.top-ce+5,ae=ae-n.bottom+5;var en=this.chart.axisY;if(!this.chart.axisX._isLogAxis())if(this.stacking==Wr.Stacked100pc&&this.rotated){var Rt=(n.width-this._maxSize)/k.width;k.left-=.5*this._maxSize/Rt,k.width+=this._maxSize/Rt}else k.left-=L/(Rt=(n.width-(L+Y))/k.width),k.width+=(L+Y)/Rt;if(!en._isLogAxis())if(this.stacking!=Wr.Stacked100pc||this.rotated)k.top-=ce/(Kt=(n.height-(ce+ae))/k.height),k.height+=(ce+ae)/Kt;else{var Kt=(n.height-this._maxSize)/k.height;k.top-=.5*this._maxSize/Kt,k.height+=this._maxSize/Kt}return k},t.prototype._drawSymbol=function(e,n,i,r,o,a,d){var p=this;if(null==this._minSize){var v=this.getNumOption("minSize","bubble");this._minSize=v||this._MIN_SIZE}if(null==this._maxSize){var M=this.getNumOption("maxSize","bubble");this._maxSize=M||this._MAX_SIZE}var T=o._getItem(a);if(T){var k=o._getBinding(1);if(k&&(r=T[k],isFinite(r))){null==r&&(r=this._minValue);var L=this._minValue==this._maxValue?1:Math.sqrt((r-this._minValue)/(this._maxValue-this._minValue));if(r=this._minSize+(this._maxSize-this._minSize)*L,d){var Y=new Kr(this.chart,new u.Point(n,i),Vr.SeriesSymbol);Y._setData(o,a),e.startGroup(),d(e,Y,function(){p._drawDefaultSymbol(e,n,i,r,o.symbolMarker,o.symbolStyle)}),e.endGroup()}else this._drawDefaultSymbol(e,n,i,r,o.symbolMarker,o.symbolStyle);var ce=this.hitTester._map[this.chart.series.indexOf(o)];if(null!=ce)for(var ae=ce.length-1;ae>=0;ae--){var Ee=ce[ae];if(Ee.tag&&Ee.tag.pointIndex==a){var Me=(0,u.tryCast)(Ee,rn);Me&&Me.setRadius(.5*r)}}}}},t}(Hn);(0,u._registerModule)("wijmo.chart",ee);var an,zs=["*"],Qr=function(){var s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Jo=function(s,t,e,n){var i,r=arguments.length,o=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(s,t,e,n);else for(var a=s.length-1;a>=0;a--)(i=s[a])&&(o=(r<3?i(o):r>3?i(t,e,o):i(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},nr=function(s,t){return function(e,n){t(e,n,s)}},ar={selector:"wj-flex-chart",template:"<div><ng-content></ng-content></div>",inputs:["asyncBindings","wjModelProperty","renderEngine","isDisabled","tabOrder","binding","footer","header","selectionMode","palette","plotMargin","footerStyle","headerStyle","tooltipContent","itemsSource","bindingX","interpolateNulls","legendToggle","symbolSize","options","selection","itemFormatter","labelContent","chartType","rotated","stacking"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","refreshingNg: refreshing","refreshedNg: refreshed","invalidInputNg: invalidInput","renderingNg: rendering","renderedNg: rendered","selectionChangedNg: selectionChanged","selectionChangePC: selectionChange","itemsSourceChangingNg: itemsSourceChanging","itemsSourceChangedNg: itemsSourceChanged","seriesVisibilityChangedNg: seriesVisibilityChanged"],providers:[{provide:O.JU,useFactory:tt.Ko,multi:!0,deps:["WjComponent"]}]},Pe=(function(s){function t(n,i,r){var o=s.call(this,tt.D6.getHostElement(n,i))||this;return o.isInitialized=!1,o._wjBehaviour=tt.D6.attach(o,n,i,r),o.created(),o}var e;Qr(t,s),e=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.prototype.addEventListener=function(n,i,r,o){var a=this;void 0===o&&(o=!1);var d=tt.D6,p=d.getZone(this);p&&d.outsideZoneEvents[i]?p.runOutsideAngular(function(){s.prototype.addEventListener.call(a,n,i,r,o)}):s.prototype.addEventListener.call(this,n,i,r,o)},Object.defineProperty(t.prototype,"tooltipContent",{get:function(){return this.tooltip.content},set:function(n){this.tooltip.content=n},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"labelContent",{get:function(){return this.dataLabel.content},set:function(n){this.dataLabel.content=n},enumerable:!0,configurable:!0}),t.meta={outputs:ar.outputs,changeEvents:{selectionChanged:["selection"]}},t.\u0275fac=function(i){return new(i||t)(y.Y36(y.SBq),y.Y36(y.zs3),y.Y36("WjComponent",12))},t.\u0275cmp=y.Xpm({type:t,selectors:[["wj-flex-chart"]],inputs:{asyncBindings:"asyncBindings",wjModelProperty:"wjModelProperty",renderEngine:"renderEngine",isDisabled:"isDisabled",tabOrder:"tabOrder",binding:"binding",footer:"footer",header:"header",selectionMode:"selectionMode",palette:"palette",plotMargin:"plotMargin",footerStyle:"footerStyle",headerStyle:"headerStyle",tooltipContent:"tooltipContent",itemsSource:"itemsSource",bindingX:"bindingX",interpolateNulls:"interpolateNulls",legendToggle:"legendToggle",symbolSize:"symbolSize",options:"options",selection:"selection",itemFormatter:"itemFormatter",labelContent:"labelContent",chartType:"chartType",rotated:"rotated",stacking:"stacking"},outputs:{initialized:"initialized",gotFocusNg:"gotFocus",lostFocusNg:"lostFocus",refreshingNg:"refreshing",refreshedNg:"refreshed",invalidInputNg:"invalidInput",renderingNg:"rendering",renderedNg:"rendered",selectionChangedNg:"selectionChanged",selectionChangePC:"selectionChange",itemsSourceChangingNg:"itemsSourceChanging",itemsSourceChangedNg:"itemsSourceChanged",seriesVisibilityChangedNg:"seriesVisibilityChanged"},features:[y._Bn([{provide:"WjComponent",useExisting:(0,y.Gpc)(function(){return e})}].concat(ar.providers))],ngContentSelectors:zs,decls:2,vars:0,template:function(i,r){1&i&&(y.F$t(),y.TgZ(0,"div"),y.Hsn(1),y.qZA())},encapsulation:2}),t=e=Jo([,nr(0,(0,y.tBr)(y.SBq)),nr(1,(0,y.tBr)(y.zs3)),nr(2,(0,y.tBr)("WjComponent")),nr(2,(0,y.tp0)()),nr(2,(0,y.FiY)())],t)}(Oa),{selector:"wj-flex-pie",template:"<div><ng-content></ng-content></div>",inputs:["wjModelProperty","isDisabled","tabOrder","binding","footer","header","selectionMode","palette","plotMargin","footerStyle","headerStyle","tooltipContent","itemsSource","bindingName","innerRadius","isAnimated","offset","reversed","startAngle","selectedIndex","selectedItemPosition","selectedItemOffset","itemFormatter","labelContent","titles","chartsPerLine","innerText","innerTextStyle"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","refreshingNg: refreshing","refreshedNg: refreshed","invalidInputNg: invalidInput","renderingNg: rendering","renderedNg: rendered","selectionChangedNg: selectionChanged","itemsSourceChangingNg: itemsSourceChanging","itemsSourceChangedNg: itemsSourceChanged"],providers:[{provide:O.JU,useFactory:tt.Ko,multi:!0,deps:["WjComponent"]}]}),fe=(function(s){function t(n,i,r){var o=s.call(this,tt.D6.getHostElement(n,i))||this;return o.isInitialized=!1,o._wjBehaviour=tt.D6.attach(o,n,i,r),o.created(),o}var e;Qr(t,s),e=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.prototype.addEventListener=function(n,i,r,o){var a=this;void 0===o&&(o=!1);var d=tt.D6,p=d.getZone(this);p&&d.outsideZoneEvents[i]?p.runOutsideAngular(function(){s.prototype.addEventListener.call(a,n,i,r,o)}):s.prototype.addEventListener.call(this,n,i,r,o)},Object.defineProperty(t.prototype,"tooltipContent",{get:function(){return this.tooltip.content},set:function(n){this.tooltip.content=n},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"labelContent",{get:function(){return this.dataLabel.content},set:function(n){this.dataLabel.content=n},enumerable:!0,configurable:!0}),t.meta={outputs:Pe.outputs},t.\u0275fac=function(i){return new(i||t)(y.Y36(y.SBq),y.Y36(y.zs3),y.Y36("WjComponent",12))},t.\u0275cmp=y.Xpm({type:t,selectors:[["wj-flex-pie"]],inputs:{wjModelProperty:"wjModelProperty",isDisabled:"isDisabled",tabOrder:"tabOrder",binding:"binding",footer:"footer",header:"header",selectionMode:"selectionMode",palette:"palette",plotMargin:"plotMargin",footerStyle:"footerStyle",headerStyle:"headerStyle",tooltipContent:"tooltipContent",itemsSource:"itemsSource",bindingName:"bindingName",innerRadius:"innerRadius",isAnimated:"isAnimated",offset:"offset",reversed:"reversed",startAngle:"startAngle",selectedIndex:"selectedIndex",selectedItemPosition:"selectedItemPosition",selectedItemOffset:"selectedItemOffset",itemFormatter:"itemFormatter",labelContent:"labelContent",titles:"titles",chartsPerLine:"chartsPerLine",innerText:"innerText",innerTextStyle:"innerTextStyle"},outputs:{initialized:"initialized",gotFocusNg:"gotFocus",lostFocusNg:"lostFocus",refreshingNg:"refreshing",refreshedNg:"refreshed",invalidInputNg:"invalidInput",renderingNg:"rendering",renderedNg:"rendered",selectionChangedNg:"selectionChanged",itemsSourceChangingNg:"itemsSourceChanging",itemsSourceChangedNg:"itemsSourceChanged"},features:[y._Bn([{provide:"WjComponent",useExisting:(0,y.Gpc)(function(){return e})}].concat(Pe.providers))],ngContentSelectors:zs,decls:2,vars:0,template:function(i,r){1&i&&(y.F$t(),y.TgZ(0,"div"),y.Hsn(1),y.qZA())},encapsulation:2}),t=e=Jo([,nr(0,(0,y.tBr)(y.SBq)),nr(1,(0,y.tBr)(y.zs3)),nr(2,(0,y.tBr)("WjComponent")),nr(2,(0,y.tp0)()),nr(2,(0,y.FiY)())],t)}(Hr),{selector:"wj-flex-chart-axis",template:"",inputs:["wjProperty","axisLine","format","labels","majorGrid","majorTickMarks","majorUnit","max","min","position","reversed","title","labelAngle","minorGrid","minorTickMarks","minorUnit","origin","logBase","plotArea","labelAlign","name","overlappingLabels","labelPadding","itemFormatter","itemsSource","binding"],outputs:["initialized","rangeChangedNg: rangeChanged"],providers:[]}),Tn=(function(s){function t(n,i,r){var o=s.call(this)||this;return o.isInitialized=!1,o.wjProperty="axes",o._wjBehaviour=tt.D6.attach(o,n,i,r),o.created(),o}var e;Qr(t,s),e=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.meta={outputs:fe.outputs},t.\u0275fac=function(i){return new(i||t)(y.Y36(y.SBq),y.Y36(y.zs3),y.Y36("WjComponent",12))},t.\u0275cmp=y.Xpm({type:t,selectors:[["wj-flex-chart-axis"]],inputs:{wjProperty:"wjProperty",axisLine:"axisLine",format:"format",labels:"labels",majorGrid:"majorGrid",majorTickMarks:"majorTickMarks",majorUnit:"majorUnit",max:"max",min:"min",position:"position",reversed:"reversed",title:"title",labelAngle:"labelAngle",minorGrid:"minorGrid",minorTickMarks:"minorTickMarks",minorUnit:"minorUnit",origin:"origin",logBase:"logBase",plotArea:"plotArea",labelAlign:"labelAlign",name:"name",overlappingLabels:"overlappingLabels",labelPadding:"labelPadding",itemFormatter:"itemFormatter",itemsSource:"itemsSource",binding:"binding"},outputs:{initialized:"initialized",rangeChangedNg:"rangeChanged"},features:[y._Bn([{provide:"WjComponent",useExisting:(0,y.Gpc)(function(){return e})}].concat(fe.providers))],decls:0,vars:0,template:function(i,r){},encapsulation:2}),t=e=Jo([,nr(0,(0,y.tBr)(y.SBq)),nr(1,(0,y.tBr)(y.zs3)),nr(2,(0,y.tBr)("WjComponent")),nr(2,(0,y.tp0)()),nr(2,(0,y.FiY)())],t)}(ys),{selector:"wj-flex-chart-legend",template:"",inputs:["wjProperty","orientation","position","title","titleAlign","maxSize"],outputs:["initialized"],providers:[]}),Go=(function(s){function t(n,i,r){var o=s.call(this,r)||this;return o.isInitialized=!1,o.wjProperty="legend",o._wjBehaviour=tt.D6.attach(o,n,i,r),o.created(),o}var e;Qr(t,s),e=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.meta={outputs:Tn.outputs},t.\u0275fac=function(i){return new(i||t)(y.Y36(y.SBq),y.Y36(y.zs3),y.Y36("WjComponent",12))},t.\u0275cmp=y.Xpm({type:t,selectors:[["wj-flex-chart-legend"]],inputs:{wjProperty:"wjProperty",orientation:"orientation",position:"position",title:"title",titleAlign:"titleAlign",maxSize:"maxSize"},outputs:{initialized:"initialized"},features:[y._Bn([{provide:"WjComponent",useExisting:(0,y.Gpc)(function(){return e})}].concat(Tn.providers))],decls:0,vars:0,template:function(i,r){},encapsulation:2}),t=e=Jo([,nr(0,(0,y.tBr)(y.SBq)),nr(1,(0,y.tBr)(y.zs3)),nr(2,(0,y.tBr)("WjComponent")),nr(2,(0,y.tp0)()),nr(2,(0,y.FiY)())],t)}(ms),{selector:"wj-flex-chart-data-label",template:"",inputs:["wjProperty","content","border","offset","connectingLine","position"],outputs:["initialized","renderingNg: rendering"],providers:[]}),Sr=(function(s){function t(n,i,r){var o=s.call(this)||this;return o.isInitialized=!1,o.wjProperty="dataLabel",o._wjBehaviour=tt.D6.attach(o,n,i,r),o.created(),o}var e;Qr(t,s),e=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.meta={outputs:Go.outputs},t.\u0275fac=function(i){return new(i||t)(y.Y36(y.SBq),y.Y36(y.zs3),y.Y36("WjComponent",12))},t.\u0275cmp=y.Xpm({type:t,selectors:[["wj-flex-chart-data-label"]],inputs:{wjProperty:"wjProperty",content:"content",border:"border",offset:"offset",connectingLine:"connectingLine",position:"position"},outputs:{initialized:"initialized",renderingNg:"rendering"},features:[y._Bn([{provide:"WjComponent",useExisting:(0,y.Gpc)(function(){return e})}].concat(Go.providers))],decls:0,vars:0,template:function(i,r){},encapsulation:2}),t=e=Jo([,nr(0,(0,y.tBr)(y.SBq)),nr(1,(0,y.tBr)(y.zs3)),nr(2,(0,y.tBr)("WjComponent")),nr(2,(0,y.tp0)()),nr(2,(0,y.FiY)())],t)}(Fs),{selector:"wj-flex-pie-data-label",template:"",inputs:["wjProperty","content","border","offset","connectingLine","position"],outputs:["initialized","renderingNg: rendering"],providers:[]}),$a=(function(s){function t(n,i,r){var o=s.call(this)||this;return o.isInitialized=!1,o.wjProperty="dataLabel",o._wjBehaviour=tt.D6.attach(o,n,i,r),o.created(),o}var e;Qr(t,s),e=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.meta={outputs:Sr.outputs},t.\u0275fac=function(i){return new(i||t)(y.Y36(y.SBq),y.Y36(y.zs3),y.Y36("WjComponent",12))},t.\u0275cmp=y.Xpm({type:t,selectors:[["wj-flex-pie-data-label"]],inputs:{wjProperty:"wjProperty",content:"content",border:"border",offset:"offset",connectingLine:"connectingLine",position:"position"},outputs:{initialized:"initialized",renderingNg:"rendering"},features:[y._Bn([{provide:"WjComponent",useExisting:(0,y.Gpc)(function(){return e})}].concat(Sr.providers))],decls:0,vars:0,template:function(i,r){},encapsulation:2}),t=e=Jo([,nr(0,(0,y.tBr)(y.SBq)),nr(1,(0,y.tBr)(y.zs3)),nr(2,(0,y.tBr)("WjComponent")),nr(2,(0,y.tp0)()),nr(2,(0,y.FiY)())],t)}(uo),{selector:"wj-flex-chart-series",template:"<div><ng-content></ng-content></div>",inputs:["asyncBindings","wjProperty","axisX","axisY","binding","bindingX","cssClass","name","style","altStyle","symbolMarker","symbolSize","symbolStyle","visibility","itemsSource","interpolateNulls","tooltipContent","itemFormatter","chartType"],outputs:["initialized","renderingNg: rendering","renderedNg: rendered","visibilityChangePC: visibilityChange"],providers:[]}),Bl=(function(s){function t(n,i,r){var o=s.call(this)||this;return o.isInitialized=!1,o.wjProperty="series",o._wjBehaviour=tt.D6.attach(o,n,i,r),o.created(),o}var e;Qr(t,s),e=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.meta={outputs:$a.outputs,changeEvents:{"chart.seriesVisibilityChanged":["visibility"]},siblingId:"series"},t.\u0275fac=function(i){return new(i||t)(y.Y36(y.SBq),y.Y36(y.zs3),y.Y36("WjComponent",12))},t.\u0275cmp=y.Xpm({type:t,selectors:[["wj-flex-chart-series"]],inputs:{asyncBindings:"asyncBindings",wjProperty:"wjProperty",axisX:"axisX",axisY:"axisY",binding:"binding",bindingX:"bindingX",cssClass:"cssClass",name:"name",style:"style",altStyle:"altStyle",symbolMarker:"symbolMarker",symbolSize:"symbolSize",symbolStyle:"symbolStyle",visibility:"visibility",itemsSource:"itemsSource",interpolateNulls:"interpolateNulls",tooltipContent:"tooltipContent",itemFormatter:"itemFormatter",chartType:"chartType"},outputs:{initialized:"initialized",renderingNg:"rendering",renderedNg:"rendered",visibilityChangePC:"visibilityChange"},features:[y._Bn([{provide:"WjComponent",useExisting:(0,y.Gpc)(function(){return e})}].concat($a.providers))],ngContentSelectors:zs,decls:2,vars:0,template:function(i,r){1&i&&(y.F$t(),y.TgZ(0,"div"),y.Hsn(1),y.qZA())},encapsulation:2}),t=e=Jo([,nr(0,(0,y.tBr)(y.SBq)),nr(1,(0,y.tBr)(y.zs3)),nr(2,(0,y.tBr)("WjComponent")),nr(2,(0,y.tp0)()),nr(2,(0,y.FiY)())],t)}(Xo),{selector:"wj-flex-line-marker",template:"",inputs:["wjProperty","isVisible","seriesIndex","horizontalPosition","content","verticalPosition","alignment","lines","interaction","dragLines","dragThreshold","dragContent"],outputs:["initialized","positionChangedNg: positionChanged"],providers:[]}),I=(function(s){function t(n,i,r){var o=s.call(this,r)||this;return o.isInitialized=!1,o._wjBehaviour=tt.D6.attach(o,n,i,r),o.created(),o}var e;Qr(t,s),e=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.meta={outputs:Bl.outputs},t.\u0275fac=function(i){return new(i||t)(y.Y36(y.SBq),y.Y36(y.zs3),y.Y36("WjComponent",12))},t.\u0275cmp=y.Xpm({type:t,selectors:[["wj-flex-line-marker"]],inputs:{wjProperty:"wjProperty",isVisible:"isVisible",seriesIndex:"seriesIndex",horizontalPosition:"horizontalPosition",content:"content",verticalPosition:"verticalPosition",alignment:"alignment",lines:"lines",interaction:"interaction",dragLines:"dragLines",dragThreshold:"dragThreshold",dragContent:"dragContent"},outputs:{initialized:"initialized",positionChangedNg:"positionChanged"},features:[y._Bn([{provide:"WjComponent",useExisting:(0,y.Gpc)(function(){return e})}].concat(Bl.providers))],decls:0,vars:0,template:function(i,r){},encapsulation:2}),t=e=Jo([,nr(0,(0,y.tBr)(y.SBq)),nr(1,(0,y.tBr)(y.zs3)),nr(2,(0,y.tBr)("WjComponent")),nr(2,(0,y.tp0)()),nr(2,(0,y.FiY)())],t)}(mn),{selector:"wj-flex-chart-data-point",template:"",inputs:["wjProperty","x","y"],outputs:["initialized"],providers:[]}),A=(function(s){function t(n,i,r){var o=s.call(this)||this;return o.isInitialized=!1,o.wjProperty="",o._wjBehaviour=tt.D6.attach(o,n,i,r),o.created(),o}var e;Qr(t,s),e=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.meta={outputs:I.outputs},t.\u0275fac=function(i){return new(i||t)(y.Y36(y.SBq),y.Y36(y.zs3),y.Y36("WjComponent",12))},t.\u0275cmp=y.Xpm({type:t,selectors:[["wj-flex-chart-data-point"]],inputs:{wjProperty:"wjProperty",x:"x",y:"y"},outputs:{initialized:"initialized"},features:[y._Bn([{provide:"WjComponent",useExisting:(0,y.Gpc)(function(){return e})}].concat(I.providers))],decls:0,vars:0,template:function(i,r){},encapsulation:2}),t=e=Jo([,nr(0,(0,y.tBr)(y.SBq)),nr(1,(0,y.tBr)(y.zs3)),nr(2,(0,y.tBr)("WjComponent")),nr(2,(0,y.tp0)()),nr(2,(0,y.FiY)())],t)}(_s),{selector:"wj-flex-chart-plot-area",template:"",inputs:["wjProperty","column","height","name","row","style","width"],outputs:["initialized"],providers:[]}),vt=(function(s){function t(n,i,r){var o=s.call(this)||this;return o.isInitialized=!1,o.wjProperty="plotAreas",o._wjBehaviour=tt.D6.attach(o,n,i,r),o.created(),o}var e;Qr(t,s),e=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.meta={outputs:A.outputs},t.\u0275fac=function(i){return new(i||t)(y.Y36(y.SBq),y.Y36(y.zs3),y.Y36("WjComponent",12))},t.\u0275cmp=y.Xpm({type:t,selectors:[["wj-flex-chart-plot-area"]],inputs:{wjProperty:"wjProperty",column:"column",height:"height",name:"name",row:"row",style:"style",width:"width"},outputs:{initialized:"initialized"},features:[y._Bn([{provide:"WjComponent",useExisting:(0,y.Gpc)(function(){return e})}].concat(A.providers))],decls:0,vars:0,template:function(i,r){},encapsulation:2}),t=e=Jo([,nr(0,(0,y.tBr)(y.SBq)),nr(1,(0,y.tBr)(y.zs3)),nr(2,(0,y.tBr)("WjComponent")),nr(2,(0,y.tp0)()),nr(2,(0,y.FiY)())],t)}(wo),function(){function s(){}s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=y.oAB({type:s}),s.\u0275inj=y.cJS({imports:[Q.ez]})}(),G(6317),function(){var s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}()),zt=function(){function s(t){this._min=0,this._max=100,this._thickness=1,this.propertyChanged=new u.Event,(0,u.isString)(t)?this._name=t:(0,u.copy)(this,t)}return Object.defineProperty(s.prototype,"min",{get:function(){return this._min},set:function(t){this._setProp("_min",(0,u.asNumber)(t,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"max",{get:function(){return this._max},set:function(t){this._setProp("_max",(0,u.asNumber)(t,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"color",{get:function(){return this._color},set:function(t){this._setProp("_color",(0,u.asString)(t))},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"thickness",{get:function(){return this._thickness},set:function(t){this._setProp("_thickness",(0,u.clamp)((0,u.asNumber)(t),0,1))},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"name",{get:function(){return this._name},set:function(t){this._setProp("_name",(0,u.asString)(t))},enumerable:!0,configurable:!0}),s.prototype.onPropertyChanged=function(t){this.propertyChanged.raise(this,t)},s.prototype._setProp=function(t,e){var n=this[t];if(e!=n){this[t]=e;var i=new u.PropertyChangedEventArgs(t.substr(1),n,e);this.onPropertyChanged(i)}},s._ctr=0,s}();!function(s){s[s.None=0]="None",s[s.Value=1]="Value",s[s.MinMax=2]="MinMax",s[s.All=3]="All"}(an||(an={}));var qn,Xn,Mn=function(s){function t(e,n){var i=s.call(this,e,null,!0)||this;i._ranges=new u.ObservableArray,i._rngElements=[],i._format="n0",i._showRanges=!0,i._stackRanges=!1,i._shadow=!0,i._animated=!0,i._readOnly=!0,i._handleWheel=!0,i._step=1,i._showText=an.None,i._showTicks=!1,i._showTickText=!1,i._thickness=.8,i._initialized=!1,i.valueChanged=new u.Event,i._getPercent=function(a){return Math.max(0,Math.min(1,this.max>this.min?(a-this.min)/(this.max-this.min):0))},t._ctr++;var r=i.hostElement;(0,u.setAttribute)(r,"role","slider",!0);var o=i.getTemplate();return i.applyTemplate("wj-control wj-gauge",o,{_dSvg:"dsvg",_svg:"svg",_filter:"filter",_gFace:"gface",_gRanges:"granges",_gPointer:"gpointer",_gCover:"gcover",_pFace:"pface",_pPointer:"ppointer",_cValue:"cvalue",_tValue:"value",_tMin:"min",_tMax:"max",_pTicks:"pticks",_gTicks:"gticks",_gNeedle:"gneedle"}),(0,u.setCss)(i._dSvg,{width:"100%",height:"100%"}),i._filterID="wj-gauge-filter-"+t._ctr.toString(36),i._filter.setAttribute("id",i._filterID),i.face=new zt,i.pointer=new zt,i._ranges.collectionChanged.addHandler(function(){i._ranges.forEach(function(a){(0,u.assert)(a instanceof zt,"ranges array must contain Range objects.")}),i._rangesDirty=!0,i.invalidate()}),i.addEventListener(r,"keydown",i._keydown.bind(i)),i.addEventListener(r,"click",function(a){0==a.button&&(i.focus(),i._applyMouseValue(a))}),i.addEventListener(r,"mousedown",function(a){0==a.button&&(i.focus(),i._dragging=!0,setTimeout(function(){i._applyMouseValue(a)}))}),i.addEventListener(r,"mousemove",function(a){i._dragging&&i.containsFocus()&&i._applyMouseValue(a,!0)}),i.addEventListener(r,"mouseup",function(a){i._dragging=!1}),i.addEventListener(r,"mouseleave",function(a){a.target==r&&(i._dragging=!1)}),"ontouchstart"in window&&(i.addEventListener(r,"touchstart",function(a){i.focus(),!a.defaultPrevented&&i._applyMouseValue(a,!1)&&a.preventDefault()}),i.addEventListener(r,"touchmove",function(a){!a.defaultPrevented&&i._applyMouseValue(a,!0)&&a.preventDefault()})),i.addEventListener(r,"wheel",function(a){if(i._handleWheel&&!i.isReadOnly&&!a.defaultPrevented&&i.containsFocus()&&null!=i.value&&i.hitTest(a)){var d=(0,u.clamp)(-a.deltaY,-1,1);i.value=(0,u.clamp)(i.value+(i.step||1)*d,i.min,i.max),a.preventDefault()}}),i.isReadOnly=!0,i.initialize(n),i.invalidate(),i}return vt(t,s),Object.defineProperty(t.prototype,"value",{get:function(){return this._pointer.max},set:function(e){e!=this.value&&(this._pointer.max=(0,u.asNumber)(e,!0),this._updateAria())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this._face.min},set:function(e){e!=this.min&&(this._face.min=(0,u.asNumber)(e),this._updateAria())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this._face.max},set:function(e){e!=this.max&&(this._face.max=(0,u.asNumber)(e),this._updateAria())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"origin",{get:function(){return this._origin},set:function(e){e!=this._origin&&(this._origin=(0,u.asNumber)(e,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isReadOnly",{get:function(){return this._readOnly},set:function(e){this._readOnly=(0,u.asBoolean)(e),(0,u.setAttribute)(this._svg,"cursor",this._readOnly?null:"pointer"),(0,u.toggleClass)(this.hostElement,"wj-state-readonly",this.isReadOnly)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"handleWheel",{get:function(){return this._handleWheel},set:function(e){this._handleWheel=(0,u.asBoolean)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"step",{get:function(){return this._step},set:function(e){e!=this._step&&(this._step=(0,u.asNumber)(e,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"format",{get:function(){return this._format},set:function(e){e!=this._format&&(this._format=(0,u.asString)(e),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"getText",{get:function(){return this._getText},set:function(e){e!=this._getText&&(this._getText=(0,u.asFunction)(e),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"thickness",{get:function(){return this._thickness},set:function(e){e!=this._thickness&&(this._thickness=(0,u.clamp)((0,u.asNumber)(e,!1),0,1),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"face",{get:function(){return this._face},set:function(e){e!=this._face&&(this._face&&this._face.propertyChanged.removeHandler(this._rangeChanged),this._face=(0,u.asType)(e,zt),this._face&&this._face.propertyChanged.addHandler(this._rangeChanged,this),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pointer",{get:function(){return this._pointer},set:function(e){if(e!=this._pointer){var n=null;this._pointer&&(n=this.value,this._pointer.propertyChanged.removeHandler(this._rangeChanged)),this._pointer=(0,u.asType)(e,zt),this._pointer&&(n&&(this.value=n),this._pointer.propertyChanged.addHandler(this._rangeChanged,this)),this.invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showText",{get:function(){return this._showText},set:function(e){(e=(0,u.asEnum)(e,an))!=this._showText&&(this._showText=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showTicks",{get:function(){return this._showTicks},set:function(e){e!=this._showTicks&&(this._showTicks=(0,u.asBoolean)(e),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showTickText",{get:function(){return this._showTickText},set:function(e){e!=this._showTickText&&(this._showTickText=(0,u.asBoolean)(e),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tickSpacing",{get:function(){return this._tickSpacing},set:function(e){e!=this._tickSpacing&&(this._tickSpacing=(0,u.asNumber)(e,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"thumbSize",{get:function(){return this._thumbSize},set:function(e){e!=this._thumbSize&&(this._thumbSize=(0,u.asNumber)(e,!0,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showRanges",{get:function(){return this._showRanges},set:function(e){e!=this._showRanges&&(this._showRanges=(0,u.asBoolean)(e),this._animColor=null,this._rangesDirty=!0,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stackRanges",{get:function(){return this._stackRanges},set:function(e){e!=this._stackRanges&&(this._stackRanges=(0,u.asBoolean)(e),this._animColor=null,this._rangesDirty=!0,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasShadow",{get:function(){return this._shadow},set:function(e){e!=this._shadow&&(this._shadow=(0,u.asBoolean)(e),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isAnimated",{get:function(){return this._animated},set:function(e){this._animated=(0,u.asBoolean)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ranges",{get:function(){return this._ranges},enumerable:!0,configurable:!0}),t.prototype.onValueChanged=function(e){this.valueChanged.raise(this,e)},t.prototype.refresh=function(e){var n=this;if(void 0===e&&(e=!0),s.prototype.refresh.call(this,e),this._rangesDirty){this._rangesDirty=!1;var i=this._gRanges;for(this._rngElements.forEach(function(o){o.rng.propertyChanged.removeHandler(n._rangeChanged)});i.lastChild;)i.removeChild(i.lastChild);this._rngElements=[],this._showRanges&&this._ranges.forEach(function(o){o.propertyChanged.addHandler(n._rangeChanged,n),n._rngElements.push({rng:o,el:n._createElement("path",i)})})}this._showElement(this._tValue,0!=(this.showText&an.Value)),this._showElement(this._tMin,0!=(this.showText&an.MinMax)),this._showElement(this._tMax,0!=(this.showText&an.MinMax)),this._showElement(this._cValue,0!=(this.showText&an.Value)||this._thumbSize>0),this._updateText();var r=this._getFilterUrl();(0,u.setAttribute)(this._pFace,"filter",r),(0,u.setAttribute)(this._pPointer,"filter",r),this._updateRange(this._face),this._updateRange(this._pointer),this._updateTicks(),this._ranges.forEach(function(o){n._updateRange(o)}),this._initialized=!0},t.prototype.hitTest=function(e,n){(0,u.isNumber)(e)&&(0,u.isNumber)(n)?e=new u.Point(e,n):e instanceof u.Point||(e=(0,u.mouseToPage)(e)),e=(0,u.asType)(e,u.Point);var i=u.Rect.fromBoundingRect(this._dSvg.getBoundingClientRect());return e.x-=i.left+pageXOffset,e.y-=i.top+pageYOffset,this._getValueFromPoint(e)},t._getBBox=function(e){try{return e.getBBox()}catch{return{x:0,y:0,width:0,height:0}}},t.prototype._getFilterUrl=function(){return this.hasShadow&&!(0,u.isiOS)()?"url(#"+this._filterID+")":null},t.prototype._getRangeElement=function(e){if(e==this._face)return this._pFace;if(e==this._pointer)return this._pPointer;for(var n=0;n<this._rngElements.length;n++){var i=this._rngElements[n];if(i.rng==e)return i.el}return null},t.prototype._rangeChanged=function(e,n){var i=this;if(e==this._pointer&&"max"==n.propertyName&&(this.onValueChanged(),this._updateText()),e!=this._face){if(e==this._pointer&&"max"==n.propertyName&&(this._animInterval&&(clearInterval(this._animInterval),this._updateRange(e,n.oldValue)),this.isAnimated&&!this.isUpdating&&this._initialized)){var r=this._getPointerColor(n.oldValue),o=this._getPointerColor(n.newValue),a=r?new u.Color(r):null,d=o?new u.Color(o):null,p=(0,u.clamp)(Math.abs(n.newValue-n.oldValue)/(this.max-this.min),0,1);return void(this._animInterval=(0,u.animate)(function(v){i._animColor=a&&d?u.Color.interpolate(a,d,v).toString():null,i._updateRange(e,n.oldValue+v*(n.newValue-n.oldValue)),v>=1&&(i._animColor=null,i._animInterval=null,i._updateRange(e),i._updateText())},p*u.Control._ANIM_DEF_DURATION))}this._updateRange(e)}else this.invalidate()},t.prototype._createElement=function(e,n,i){var r=document.createElementNS(t._SVGNS,e);return i&&r.setAttribute("class",i),n.appendChild(r),r},t.prototype._centerText=function(e,n,i){if("none"!=e.getAttribute("display")){var r=u.Globalize.format(n,this.format);if((0,u.isFunction)(this.getText)){var o="";e==this._tValue?o="value":e==this._tMin?o="min":e==this._tMax&&(o="max"),o&&(r=this.getText(this,o,n,r))}e.textContent=r;var a=u.Rect.fromBoundingRect(t._getBBox(e)),p=i.y+a.height/4;e.setAttribute("x",this._fix(i.x-a.width/2)),e.setAttribute("y",this._fix(p))}},t.prototype._copy=function(e,n){var i=this;return"ranges"==e?((0,u.asArray)(n).forEach(function(r){var o=new zt(r);i.ranges.push(o)}),!0):"pointer"==e&&((0,u.copy)(this.pointer,n),!0)},t.prototype._showElement=function(e,n){(0,u.setAttribute)(e,"display",n?null:"none")},t.prototype._updateRange=function(e,n){void 0===n&&(n=e.max),e==this._pointer&&(e.min=null!=this.origin?this.origin:this.min<0&&this.max>0?0:this.min);var i=this._getRangeElement(e);if(i){this._updateRangeElement(i,e,n);var r=e.color;e==this._pointer&&(r=this._animColor?this._animColor:this._getPointerColor(e.max)),(0,u.setAttribute)(i,"style",r?"fill:"+r:null)}},t.prototype._getPointerColor=function(e){if(!this._showRanges){for(var n,i=0;i<this._ranges.length;i++){var r=this._ranges[i];if(e>=r.min&&e<=r.max){n=r;break}}if(n)return n.color}return this._pointer.color},t.prototype._keydown=function(e){if(!this._readOnly&&this._step){var n=!0;switch(this._getKey(e.keyCode)){case u.Key.Left:case u.Key.Down:this.value=(0,u.clamp)(this.value-this._step,this.min,this.max);break;case u.Key.Right:case u.Key.Up:this.value=(0,u.clamp)(this.value+this._step,this.min,this.max);break;case u.Key.Home:this.value=this.min;break;case u.Key.End:this.value=this.max;break;default:n=!1}n&&e.preventDefault()}},t.prototype._getKey=function(e){return e},t.prototype._applyMouseValue=function(e,n){if(!this.isReadOnly&&this.containsFocus()){var i=this.hitTest(e);if(null!=i){var r=this._animated,o=this._step;return n&&(this._animated=!1),o&&(i=Math.round(i/o)*o),this.value=(0,u.clamp)(i,this.min,this.max),this._animated=r,!0}}return!1},t.prototype._updateRangeElement=function(e,n,i){(0,u.assert)(!1,"Gauge is an abstract class.")},t.prototype._updateText=function(){(0,u.assert)(!1,"Gauge is an abstract class.")},t.prototype._updateTicks=function(){(0,u.assert)(!1,"Gauge is an abstract class.")},t.prototype._getValueFromPoint=function(e){return null},t.prototype._fix=function(e){return(0,u.isNumber)(e)?parseFloat(e.toFixed(4)).toString():this._fix(e.x)+" "+this._fix(e.y)},t.prototype._updateAria=function(){var e=this.hostElement;e&&((0,u.setAttribute)(e,"aria-valuemin",this.min),(0,u.setAttribute)(e,"aria-valuemax",this.max),(0,u.setAttribute)(e,"aria-valuenow",this.value))},t._SVGNS="http://www.w3.org/2000/svg",t._ctr=0,t.controlTemplate='<div wj-part="dsvg" dir="ltr"><svg wj-part="svg" width="100%" height="100%"><defs><filter wj-part="filter"><feOffset dx="3" dy="3"></feOffset><feGaussianBlur result="offset-blur" stdDeviation="5"></feGaussianBlur><feComposite operator="out" in="SourceGraphic" in2="offset-blur" result="inverse"></feComposite><feFlood flood-color="black" flood-opacity="0.2" result="color"></feFlood><feComposite operator="in" in="color" in2="inverse" result="shadow"></feComposite><feComposite operator="over" in="shadow" in2="SourceGraphic"></feComposite></filter></defs><g wj-part="gface" class="wj-face"><path wj-part="pface"/></g><g wj-part="granges" class="wj-ranges"/><g wj-part="gpointer" class="wj-pointer"><path wj-part="ppointer"/></g><g wj-part="gcover" class="wj-cover"><path wj-part="pticks" class="wj-ticks"/><g wj-part="gticks" aria-hidden="true" class="wj-tick-text"/><circle wj-part="cvalue" class="wj-pointer wj-thumb"/><g wj-part="gneedle" class="wj-needle"/><text wj-part="value" class="wj-value"/><text wj-part="min" class="wj-min" aria-hidden="true"/><text wj-part="max" class="wj-max" aria-hidden="true"/></g></svg></div>',t}(u.Control);!function(s){s[s.None=0]="None",s[s.Triangle=1]="Triangle",s[s.Diamond=2]="Diamond",s[s.Hexagon=3]="Hexagon",s[s.Rectangle=4]="Rectangle",s[s.Arrow=5]="Arrow",s[s.WideArrow=6]="WideArrow",s[s.Pointer=7]="Pointer",s[s.WidePointer=8]="WidePointer",s[s.Outer=9]="Outer"}(qn||(qn={})),function(s){s[s.Outer=0]="Outer",s[s.Middle=1]="Middle",s[s.Inner=2]="Inner"}(Xn||(Xn={}));var Un,hi=function(s){function t(e,n){var i=s.call(this,e,null)||this;return i._startAngle=0,i._sweepAngle=180,i._autoScale=!0,i._ndlShape=qn.None,i._ndlLength=Xn.Middle,(0,u.addClass)(i.hostElement,"wj-radialgauge"),i._thickness=.4,i.showText=an.All,i.initialize(n),i}return vt(t,s),Object.defineProperty(t.prototype,"startAngle",{get:function(){return this._startAngle},set:function(e){e!=this._startAngle&&(this._startAngle=(0,u.clamp)((0,u.asNumber)(e,!1),-360,360),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sweepAngle",{get:function(){return this._sweepAngle},set:function(e){e!=this._sweepAngle&&(this._sweepAngle=(0,u.clamp)((0,u.asNumber)(e,!1),-360,360),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoScale",{get:function(){return this._autoScale},set:function(e){e!=this._autoScale&&(this._autoScale=(0,u.asBoolean)(e),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"faceBounds",{get:function(){return this._rcSvg?this._rcSvg.clone():null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"clientSize",{get:function(){(0,u._deprecated)("clientSize","faceBounds");var e=this._rcSvg;return e?new u.Size(e.width,e.height):null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"needleElement",{get:function(){return this._ndlElement},set:function(e){if(e!=this._ndlElement){this._ndlShape=0,this._ndlElement=(0,u.asType)(e,SVGElement,!0);for(var n=this._gNeedle;n.firstChild;)(0,u.removeChild)(n.firstChild);this._ndlElement&&((0,u.setAttribute)(n,"transform","scale(0)"),n.appendChild(this._ndlElement)),this.invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"needleShape",{get:function(){return this._ndlShape},set:function(e){if(e!=this._ndlShape){var n=null;switch(e=(0,u.asEnum)(e,qn)){case qn.Triangle:n=t.createNeedleElement([{x:-10,y:10},{x:100,y:0}]);break;case qn.Diamond:n=t.createNeedleElement([{x:-20,y:0},{x:0,y:10},{x:100,y:0}]);break;case qn.Hexagon:n=t.createNeedleElement([{x:-15,y:0},{x:-10,y:5},{x:10,y:5},{x:100,y:0}]);break;case qn.Rectangle:n=t.createNeedleElement([{x:-20,y:3},{x:100,y:3}],10);break;case qn.Arrow:n=t.createNeedleElement([{x:-20,y:3},{x:70,y:3},{x:70,y:15},{x:100,y:0}],10);break;case qn.WideArrow:n=t.createNeedleElement([{x:-30,y:5},{x:-40,y:15},{x:-20,y:15},{x:-10,y:5},{x:80,y:5},{x:70,y:15},{x:100,y:0}]);break;case qn.Pointer:n=t.createNeedleElement([{x:0,y:10},{x:100,y:0}],20,10);break;case qn.WidePointer:n=t.createNeedleElement([{x:0,y:20},{x:100,y:0}],20,10);break;case qn.Outer:n=t.createNeedleElement([{x:60,y:20},{x:100,y:0}])}this.needleElement=n,this._ndlShape=e,this.invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"needleLength",{get:function(){return this._ndlLength},set:function(e){e!=this._ndlLength&&(this._ndlLength=(0,u.asEnum)(e,Xn),this.invalidate())},enumerable:!0,configurable:!0}),t.createNeedleElement=function(e,n,i){for(var r="",o=0;o<e.length;o++){var a=e[o];if(o==e.length-1&&0==a.y)break;r+=(o>0?" L ":"M ")+a.x+" "+a.y}for(o=e.length-1;o>=0;o--)r+=" L "+(a=e[o]).x+" "+-a.y;r+=" Z";var d="http://www.w3.org/2000/svg",p=document.createElementNS(d,"g"),v=document.createElementNS(d,"path");if((0,u.setAttribute)(v,"d",r),p.appendChild(v),n){var M=document.createElementNS(d,"circle");(0,u.addClass)(M,"wj-needle-cap"),(0,u.setAttribute)(M,"r",n),p.appendChild(M),i&&(M=document.createElementNS(d,"circle"),(0,u.addClass)(M,"wj-inner-needle-cap"),(0,u.setAttribute)(M,"r",i),p.appendChild(M))}return p},t.prototype.refresh=function(e){if(void 0===e&&(e=!0),(0,u.setAttribute)(this._svg,"viewBox",null),this._rcSvg=u.Rect.fromBoundingRect(this._dSvg.getBoundingClientRect()),s.prototype.refresh.call(this,e),this._ctmInv=null,this._ptSvg=null,this._autoScale){(0,u.setAttribute)(this._svg,"viewBox",null);var n=u.Rect.fromBoundingRect(Mn._getBBox(this._pFace));this.showText&an.Value&&(n=u.Rect.union(n,u.Rect.fromBoundingRect(Mn._getBBox(this._tValue)))),this.showText&an.MinMax&&(n=u.Rect.union(n,u.Rect.fromBoundingRect(Mn._getBBox(this._tMin))),n=u.Rect.union(n,u.Rect.fromBoundingRect(Mn._getBBox(this._tMax))));var i=[this._fix(n.left),this._fix(n.top),this._fix(n.width),this._fix(n.height)].join(" ");(0,u.setAttribute)(this._svg,"viewBox",i);var r=this._pFace.getCTM();this._ctmInv=r?r.inverse():null,this._ptSvg=this._svg.createSVGPoint()}},t.prototype._updateRangeElement=function(e,n,i){if(this._rcSvg){var r=this._rcSvg,o=new u.Point(r.width/2,r.height/2),a=Math.min(r.width,r.height)/2,d=a*this.thickness,p=d*n.thickness,v=a-(d-p)/2,M=v-p,T=this._getStartAngle(),k=this._getSweepAngle(),L=n==this._face,Y=L?0:this._getPercent(n.min),ce=T+k*Y,ae=k*((L?1:this._getPercent(i))-Y);if(this.stackRanges&&n!=this.face&&n!=this.pointer){var Ee=this.ranges.indexOf(n);if(Ee>-1){var Me=this.ranges.length,ze=(v-M)/Me;v=(M+=(Me-1-Ee)*ze)+ze}}if(this._updateSegment(e,o,v,M,ce,ae),n==this._pointer){var st=this._fix;if(this.thumbSize>0){var xt=this._animColor?this._animColor:this._getPointerColor(n.max),yt=this._getPoint(o,T+k*this._getPercent(i),(v+M)/2),St=this._cValue;(0,u.setAttribute)(St,"cx",st(yt.x)),(0,u.setAttribute)(St,"cy",st(yt.y)),(0,u.setAttribute)(St,"style",xt?"fill:"+xt:null),(0,u.setAttribute)(St,"r",st(this.thumbSize/2))}if(this.needleElement){var Dt=v;this._ndlLength==Xn.Inner?Dt=M:this._ndlLength==Xn.Middle&&(Dt=(M+v)/2);var Nt="translate({cx}, {cy}) scale({scale}) rotate({angle})".replace("{cx}",st(o.x)).replace("{cy}",st(o.y)).replace("{scale}",st(Dt/100)).replace("{angle}",st(ce+ae));this._gNeedle.setAttribute("transform",Nt)}}}},t.prototype._getStartAngle=function(){var e=this.startAngle+180;return this.rightToLeft&&(e=180-e),e},t.prototype._getSweepAngle=function(){var e=this.sweepAngle;return this.rightToLeft&&(e=-e),e},t.prototype._updateText=function(){if(this._rcSvg){var e=this._rcSvg,n=new u.Point(e.width/2,e.height/2),i=Math.min(e.width,e.height)/2,r=Math.max(0,i*(1-this.thickness)),o=this._getStartAngle(),a=this._getSweepAngle();this._showElement(this._cValue,this.thumbSize>0);var d=0!=(this.showText&an.MinMax)&&Math.abs(a)<=300;this._showElement(this._tMin,d),this._showElement(this._tMax,d),this._centerText(this._tValue,this.value,n);var p=10*(this._getSweepAngle()<0?-1:1);this._centerText(this._tMin,this.min,this._getPoint(n,o-p,(i+r)/2)),this._centerText(this._tMax,this.max,this._getPoint(n,o+a+p,(i+r)/2))}},t.prototype._updateTicks=function(){for(var e=this.tickSpacing&&this.tickSpacing>0?this.tickSpacing:this.step,n="",i=this._gTicks;i.firstChild;)(0,u.removeChild)(i.firstChild);if(this.showTicks&&e>0)for(var r=this._rcSvg,o=new u.Point(r.width/2,r.height/2),a=Math.min(r.width,r.height)/2,d=a*this.thickness,p=d*this._face.thickness,v=a-(d-p)/2,M=v-p,T=1.15*v,k=this._getStartAngle(),L=this._getSweepAngle(),Y=this.min;Y<=this.max;Y+=e){var ce=k+L*this._getPercent(Y),ae=this._fix(this._getPoint(o,ce,M)),Ee=this._fix(this._getPoint(o,ce,v));if(Y>this.min&&Y<this.max&&(n+="M "+ae+" L "+Ee+" "),this.showTickText){var Me=this._createElement("text",i),ze=this._getPoint(o,ce,T);this._centerText(Me,Y,ze)}}this._pTicks.setAttribute("d",n)},t.prototype._updateSegment=function(e,n,i,r,o,a){a=Math.min(Math.max(a,-359.99),359.99);var d=this._getPoint(n,o,r),p=this._getPoint(n,o,i),v=this._getPoint(n,o+a,i),M=this._getPoint(n,o+a,r),T={large:Math.abs(a)>180?1:0,cw:a>0?1:0,ccw:a>0?0:1,or:this._fix(i),ir:this._fix(r),p1:this._fix(d),p2:this._fix(p),p3:this._fix(v),p4:this._fix(M)},k=(0,u.format)("M {p1} L {p2} A {or} {or} 0 {large} {cw} {p3} L {p4} A {ir} {ir} 0 {large} {ccw} {p1} Z",T);e.setAttribute("d",k)},t.prototype._getPoint=function(e,n,i){return n=n*Math.PI/180,new u.Point(e.x+i*Math.cos(n),e.y+i*Math.sin(n))},t.prototype._getValueFromPoint=function(e){if(this.autoScale&&this._ctmInv&&(this._ptSvg.x=e.x,this._ptSvg.y=e.y,this._ptSvg=this._ptSvg.matrixTransform(this._ctmInv),e.x=this._ptSvg.x,e.y=this._ptSvg.y),!this._rcSvg||!this.sweepAngle)return null;var n=this._rcSvg,i=new u.Point(n.width/2,n.height/2),r=Math.min(n.width,n.height)/2,o=e.x-i.x,a=e.y-i.y,d=a*a+o*o;if(d<100||d>(r+10)*(r+10))return null;var p=180*(Math.PI-Math.atan2(-a,o))/Math.PI,v=this.startAngle,M=this.sweepAngle,T=v+M;if(this.rightToLeft&&(p=180-p),M>0){for(;p<v;)p+=360;for(;p>T;)p-=360}else{for(;p<T;)p+=360;for(;p>v;)p-=360}if((p-v)*(p-T)>0){var k=this._getPoint(i,p,r),L=this._getPoint(i,v,r),Y=this._getPoint(i,T,r);p=this._getDist2(k,L)<this._getDist2(k,Y)?v:T}var ce=M?(0,u.clamp)(Math.abs(p-v)/Math.abs(M),0,1):0;return this.min+ce*(this.max-this.min)},t.prototype._getDist2=function(e,n){var i=e.x-n.x,r=e.y-n.y;return i*i+r*r},t}(Mn);!function(s){s[s.Right=0]="Right",s[s.Left=1]="Left",s[s.Up=2]="Up",s[s.Down=3]="Down"}(Un||(Un={}));var br=function(s){function t(e,n){var i=s.call(this,e,null)||this;return i._direction=Un.Right,(0,u.addClass)(i.hostElement,"wj-lineargauge"),i.initialize(n),i}return vt(t,s),Object.defineProperty(t.prototype,"direction",{get:function(){return this._direction},set:function(e){(e=(0,u.asEnum)(e,Un))!=this._direction&&(this._direction=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"faceBounds",{get:function(){return this._getRangeRect(this._face)},enumerable:!0,configurable:!0}),t.prototype._updateRangeElement=function(e,n,i){var r=this._getRangeRect(n,i);this._updateSegment(e,r);var o=n==this._pointer&&0!=(this.showText&an.Value),a=o||n==this._pointer&&this.thumbSize>0,d=r.left+r.width/2,p=r.top+r.height/2;switch(this._getDirection()){case Un.Right:d=r.right;break;case Un.Left:d=r.left;break;case Un.Up:p=r.top;break;case Un.Down:p=r.bottom}if(o&&this._centerText(this._tValue,i,new u.Point(d,p)),o||a){r=u.Rect.fromBoundingRect(Mn._getBBox(this._tValue));var v=this._animColor?this._animColor:this._getPointerColor(n.max),M=null!=this.thumbSize?this.thumbSize/2:.8*Math.max(r.width,r.height),T=this._cValue;(0,u.setAttribute)(T,"cx",this._fix(d)),(0,u.setAttribute)(T,"cy",this._fix(p)),(0,u.setAttribute)(T,"style",v?"fill:"+v:null),(0,u.setAttribute)(T,"r",this._fix(M))}},t.prototype._updateText=function(){var e=this._getRangeRect(this._face);switch(this._getDirection()){case Un.Right:this._setText(this._tMin,this.min,e,"left"),this._setText(this._tMax,this.max,e,"right");break;case Un.Left:this._setText(this._tMin,this.min,e,"right"),this._setText(this._tMax,this.max,e,"left");break;case Un.Up:this._setText(this._tMin,this.min,e,"bottom"),this._setText(this._tMax,this.max,e,"top");break;case Un.Down:this._setText(this._tMin,this.min,e,"top"),this._setText(this._tMax,this.max,e,"bottom")}},t.prototype._updateTicks=function(){for(var e=this.tickSpacing&&this.tickSpacing>0?this.tickSpacing:this.step,n="",i=this._gTicks;i.firstChild;)(0,u.removeChild)(i.firstChild);if(this.showTicks&&e>0)for(var r=this._getRangeRect(this._face),o=new u.Point(r.left-.75*r.width,r.top-.75*r.height),a=void 0,d=this._fix,p=this.min;p<=this.max;p+=e){var v=null;switch(this._getDirection()){case Un.Right:o.x=r.left+r.width*this._getPercent(p),v="M "+(a=d(o.x))+" "+d(r.top)+" L "+a+" "+d(r.bottom)+" ";break;case Un.Left:o.x=r.right-r.width*this._getPercent(p),v="M "+(a=d(o.x))+" "+d(r.top)+" L "+a+" "+d(r.bottom)+" ";break;case Un.Up:o.y=r.bottom-r.height*this._getPercent(p),a=d(o.y),v="M "+d(r.left)+" "+a+" L "+d(r.right)+" "+a+" ";break;case Un.Down:o.y=r.top+r.height*this._getPercent(p),a=d(o.y),v="M "+d(r.left)+" "+a+" L "+d(r.right)+" "+a+" "}if(p>this.min&&p<this.max&&(n+=v),this.showTickText){var M=this._createElement("text",i);this._centerText(M,p,o)}}this._pTicks.setAttribute("d",n)},t.prototype._updateSegment=function(e,n){var i={p1:this._fix(new u.Point(n.left,n.top)),p2:this._fix(new u.Point(n.right,n.top)),p3:this._fix(new u.Point(n.right,n.bottom)),p4:this._fix(new u.Point(n.left,n.bottom))},r=(0,u.format)("M {p1} L {p2} L {p3} L {p4} Z",i);e.setAttribute("d",r)},t.prototype._setText=function(e,n,i,r){if("none"!=e.getAttribute("display")){var o=u.Globalize.format(n,this.format);if((0,u.isFunction)(this.getText)){var a=e==this._tValue?"value":e==this._tMin?"min":e==this._tMax?"max":null;(0,u.assert)(null!=a,"unknown element"),o=this.getText(this,a,n,o)}e.textContent=o;var d=u.Rect.fromBoundingRect(Mn._getBBox(e)),p=new u.Point(i.left+i.width/2-d.width/2,i.top+i.height/2+d.height/2);switch(r){case"top":p.y=i.top-4;break;case"left":p.x=i.left-4-d.width;break;case"right":p.x=i.right+4;break;case"bottom":p.y=i.bottom+4+d.height}e.setAttribute("x",this._fix(p.x)),e.setAttribute("y",this._fix(p.y))}},t.prototype._getRangeRect=function(e,n){void 0===n&&(n=e.max);var i=this.hostElement,r=new u.Rect(0,0,i.clientWidth,i.clientHeight),o=this._getDirection(),a=this.thumbSize?Math.ceil(this.thumbSize/2):0;if(this.showText!=an.None){var d=parseInt(getComputedStyle(i).fontSize);isNaN(d)||(a=Math.max(a,3*d))}switch(o){case Un.Right:case Un.Left:r=r.inflate(-a,-r.height*(1-this.thickness*e.thickness)/2);break;case Un.Up:case Un.Down:r=r.inflate(-r.width*(1-this.thickness*e.thickness)/2,-a)}if(this.stackRanges&&e!=this.face&&e!=this.pointer){var p=this.ranges.indexOf(e);if(p>-1){var v=this.ranges.length;switch(o){case Un.Right:case Un.Left:r.height/=v,r.top+=p*r.height;break;case Un.Up:case Un.Down:r.width/=v,r.left+=p*r.width}}}var M=e==this._face,T=M?0:this._getPercent(e.min),k=M?1:this._getPercent(n);switch(o){case Un.Right:r.left+=r.width*T,r.width*=k-T;break;case Un.Left:r.left=r.right-r.width*k,r.width=r.width*(k-T);break;case Un.Down:r.top+=r.height*T,r.height*=k-T;break;case Un.Up:r.top=r.bottom-r.height*k,r.height=r.height*(k-T)}return r},t.prototype._getValueFromPoint=function(e){var n=this._getRangeRect(this._face),i=0;switch(this._getDirection()){case Un.Right:i=n.width>0?(e.x-n.left)/n.width:0;break;case Un.Left:i=n.width>0?(n.right-e.x)/n.width:0;break;case Un.Up:i=n.height>0?(n.bottom-e.y)/n.height:0;break;case Un.Down:i=n.height>0?(e.y-n.top)/n.height:0}return this.min+i*(this.max-this.min)},t.prototype._getDirection=function(){var e=this._direction;if(this.rightToLeft)switch(e){case Un.Left:e=Un.Right;break;case Un.Right:e=Un.Left}return e},t.prototype._getKey=function(e){switch(this._getDirection()){case Un.Left:switch(e){case u.Key.Left:e=u.Key.Right;break;case u.Key.Right:e=u.Key.Left}break;case Un.Down:switch(e){case u.Key.Up:e=u.Key.Down;break;case u.Key.Down:e=u.Key.Up}}return e},t}(Mn),jo=function(s){function t(e,n){var i=s.call(this,e,null)||this;return(0,u.addClass)(i.hostElement,"wj-bulletgraph"),i._pointer.thickness=.35,i._rngTarget=new zt("target"),i._rngTarget.thickness=.8,i._rngTarget.color="black",i._rngGood=new zt("good"),i._rngGood.color="rgba(0,0,0,.15)",i._rngBad=new zt("bad"),i._rngBad.color="rgba(0,0,0,.3)",i.ranges.push(i._rngBad),i.ranges.push(i._rngGood),i.ranges.push(i._rngTarget),i.initialize(n),i}return vt(t,s),Object.defineProperty(t.prototype,"target",{get:function(){return this._rngTarget.max},set:function(e){this._rngTarget.max=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"good",{get:function(){return this._rngGood.max},set:function(e){this._rngGood.max=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bad",{get:function(){return this._rngBad.max},set:function(e){this._rngBad.max=e},enumerable:!0,configurable:!0}),t.prototype._getRangeRect=function(e,n){void 0===n&&(n=e.max);var i=s.prototype._getRangeRect.call(this,e,n);if(e==this._rngTarget)switch(this._getDirection()){case Un.Right:i.left=i.right-1,i.width=3;break;case Un.Left:i.width=3;break;case Un.Up:i.height=3;break;case Un.Down:i.top=i.bottom-1,i.height=3}return i},t}(br);(0,u._registerModule)("wijmo.gauge",pe);var Or,$r=["*"],Bo=function(){var s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),ns=function(s,t,e,n){var i,r=arguments.length,o=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(s,t,e,n);else for(var a=s.length-1;a>=0;a--)(i=s[a])&&(o=(r<3?i(o):r>3?i(t,e,o):i(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},vr=function(s,t){return function(e,n){t(e,n,s)}},Vo={selector:"wj-linear-gauge",template:"<div><ng-content></ng-content></div>",inputs:["asyncBindings","wjModelProperty","isDisabled","tabOrder","value","min","max","origin","isReadOnly","handleWheel","step","format","thickness","hasShadow","isAnimated","showText","showTicks","showTickText","showRanges","stackRanges","thumbSize","tickSpacing","getText","direction"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","refreshingNg: refreshing","refreshedNg: refreshed","invalidInputNg: invalidInput","valueChangedNg: valueChanged","valueChangePC: valueChange"],providers:[{provide:O.JU,useFactory:tt.Ko,multi:!0,deps:["WjComponent"]}]},An=(function(s){function t(n,i,r){var o=s.call(this,tt.D6.getHostElement(n,i))||this;return o.isInitialized=!1,o.wjModelProperty="value",o._wjBehaviour=tt.D6.attach(o,n,i,r),o.created(),o}var e;Bo(t,s),e=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.prototype.addEventListener=function(n,i,r,o){var a=this;void 0===o&&(o=!1);var d=tt.D6,p=d.getZone(this);p&&d.outsideZoneEvents[i]?p.runOutsideAngular(function(){s.prototype.addEventListener.call(a,n,i,r,o)}):s.prototype.addEventListener.call(this,n,i,r,o)},t.meta={outputs:Vo.outputs,changeEvents:{valueChanged:["value"]}},t.\u0275fac=function(i){return new(i||t)(y.Y36(y.SBq),y.Y36(y.zs3),y.Y36("WjComponent",12))},t.\u0275cmp=y.Xpm({type:t,selectors:[["wj-linear-gauge"]],inputs:{asyncBindings:"asyncBindings",wjModelProperty:"wjModelProperty",isDisabled:"isDisabled",tabOrder:"tabOrder",value:"value",min:"min",max:"max",origin:"origin",isReadOnly:"isReadOnly",handleWheel:"handleWheel",step:"step",format:"format",thickness:"thickness",hasShadow:"hasShadow",isAnimated:"isAnimated",showText:"showText",showTicks:"showTicks",showTickText:"showTickText",showRanges:"showRanges",stackRanges:"stackRanges",thumbSize:"thumbSize",tickSpacing:"tickSpacing",getText:"getText",direction:"direction"},outputs:{initialized:"initialized",gotFocusNg:"gotFocus",lostFocusNg:"lostFocus",refreshingNg:"refreshing",refreshedNg:"refreshed",invalidInputNg:"invalidInput",valueChangedNg:"valueChanged",valueChangePC:"valueChange"},features:[y._Bn([{provide:"WjComponent",useExisting:(0,y.Gpc)(function(){return e})}].concat(Vo.providers))],ngContentSelectors:$r,decls:2,vars:0,template:function(i,r){1&i&&(y.F$t(),y.TgZ(0,"div"),y.Hsn(1),y.qZA())},encapsulation:2}),t=e=ns([,vr(0,(0,y.tBr)(y.SBq)),vr(1,(0,y.tBr)(y.zs3)),vr(2,(0,y.tBr)("WjComponent")),vr(2,(0,y.tp0)()),vr(2,(0,y.FiY)())],t)}(br),{selector:"wj-bullet-graph",template:"<div><ng-content></ng-content></div>",inputs:["asyncBindings","wjModelProperty","isDisabled","tabOrder","value","min","max","origin","isReadOnly","handleWheel","step","format","thickness","hasShadow","isAnimated","showText","showTicks","showTickText","showRanges","stackRanges","thumbSize","tickSpacing","getText","direction","target","good","bad"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","refreshingNg: refreshing","refreshedNg: refreshed","invalidInputNg: invalidInput","valueChangedNg: valueChanged","valueChangePC: valueChange"],providers:[{provide:O.JU,useFactory:tt.Ko,multi:!0,deps:["WjComponent"]}]}),vi=(function(s){function t(n,i,r){var o=s.call(this,tt.D6.getHostElement(n,i))||this;return o.isInitialized=!1,o.wjModelProperty="value",o._wjBehaviour=tt.D6.attach(o,n,i,r),o.created(),o}var e;Bo(t,s),e=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.prototype.addEventListener=function(n,i,r,o){var a=this;void 0===o&&(o=!1);var d=tt.D6,p=d.getZone(this);p&&d.outsideZoneEvents[i]?p.runOutsideAngular(function(){s.prototype.addEventListener.call(a,n,i,r,o)}):s.prototype.addEventListener.call(this,n,i,r,o)},t.meta={outputs:An.outputs,changeEvents:{valueChanged:["value"]}},t.\u0275fac=function(i){return new(i||t)(y.Y36(y.SBq),y.Y36(y.zs3),y.Y36("WjComponent",12))},t.\u0275cmp=y.Xpm({type:t,selectors:[["wj-bullet-graph"]],inputs:{asyncBindings:"asyncBindings",wjModelProperty:"wjModelProperty",isDisabled:"isDisabled",tabOrder:"tabOrder",value:"value",min:"min",max:"max",origin:"origin",isReadOnly:"isReadOnly",handleWheel:"handleWheel",step:"step",format:"format",thickness:"thickness",hasShadow:"hasShadow",isAnimated:"isAnimated",showText:"showText",showTicks:"showTicks",showTickText:"showTickText",showRanges:"showRanges",stackRanges:"stackRanges",thumbSize:"thumbSize",tickSpacing:"tickSpacing",getText:"getText",direction:"direction",target:"target",good:"good",bad:"bad"},outputs:{initialized:"initialized",gotFocusNg:"gotFocus",lostFocusNg:"lostFocus",refreshingNg:"refreshing",refreshedNg:"refreshed",invalidInputNg:"invalidInput",valueChangedNg:"valueChanged",valueChangePC:"valueChange"},features:[y._Bn([{provide:"WjComponent",useExisting:(0,y.Gpc)(function(){return e})}].concat(An.providers))],ngContentSelectors:$r,decls:2,vars:0,template:function(i,r){1&i&&(y.F$t(),y.TgZ(0,"div"),y.Hsn(1),y.qZA())},encapsulation:2}),t=e=ns([,vr(0,(0,y.tBr)(y.SBq)),vr(1,(0,y.tBr)(y.zs3)),vr(2,(0,y.tBr)("WjComponent")),vr(2,(0,y.tp0)()),vr(2,(0,y.FiY)())],t)}(jo),{selector:"wj-radial-gauge",template:"<div><ng-content></ng-content></div>",inputs:["asyncBindings","wjModelProperty","isDisabled","tabOrder","value","min","max","origin","isReadOnly","handleWheel","step","format","thickness","hasShadow","isAnimated","showText","showTicks","showTickText","showRanges","stackRanges","thumbSize","tickSpacing","getText","autoScale","startAngle","sweepAngle","needleShape","needleLength","needleElement"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","refreshingNg: refreshing","refreshedNg: refreshed","invalidInputNg: invalidInput","valueChangedNg: valueChanged","valueChangePC: valueChange"],providers:[{provide:O.JU,useFactory:tt.Ko,multi:!0,deps:["WjComponent"]}]}),gr=(function(s){function t(n,i,r){var o=s.call(this,tt.D6.getHostElement(n,i))||this;return o.isInitialized=!1,o.wjModelProperty="value",o._wjBehaviour=tt.D6.attach(o,n,i,r),o.created(),o}var e;Bo(t,s),e=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.prototype.addEventListener=function(n,i,r,o){var a=this;void 0===o&&(o=!1);var d=tt.D6,p=d.getZone(this);p&&d.outsideZoneEvents[i]?p.runOutsideAngular(function(){s.prototype.addEventListener.call(a,n,i,r,o)}):s.prototype.addEventListener.call(this,n,i,r,o)},t.meta={outputs:vi.outputs,changeEvents:{valueChanged:["value"]}},t.\u0275fac=function(i){return new(i||t)(y.Y36(y.SBq),y.Y36(y.zs3),y.Y36("WjComponent",12))},t.\u0275cmp=y.Xpm({type:t,selectors:[["wj-radial-gauge"]],inputs:{asyncBindings:"asyncBindings",wjModelProperty:"wjModelProperty",isDisabled:"isDisabled",tabOrder:"tabOrder",value:"value",min:"min",max:"max",origin:"origin",isReadOnly:"isReadOnly",handleWheel:"handleWheel",step:"step",format:"format",thickness:"thickness",hasShadow:"hasShadow",isAnimated:"isAnimated",showText:"showText",showTicks:"showTicks",showTickText:"showTickText",showRanges:"showRanges",stackRanges:"stackRanges",thumbSize:"thumbSize",tickSpacing:"tickSpacing",getText:"getText",autoScale:"autoScale",startAngle:"startAngle",sweepAngle:"sweepAngle",needleShape:"needleShape",needleLength:"needleLength",needleElement:"needleElement"},outputs:{initialized:"initialized",gotFocusNg:"gotFocus",lostFocusNg:"lostFocus",refreshingNg:"refreshing",refreshedNg:"refreshed",invalidInputNg:"invalidInput",valueChangedNg:"valueChanged",valueChangePC:"valueChange"},features:[y._Bn([{provide:"WjComponent",useExisting:(0,y.Gpc)(function(){return e})}].concat(vi.providers))],ngContentSelectors:$r,decls:2,vars:0,template:function(i,r){1&i&&(y.F$t(),y.TgZ(0,"div"),y.Hsn(1),y.qZA())},encapsulation:2}),t=e=ns([,vr(0,(0,y.tBr)(y.SBq)),vr(1,(0,y.tBr)(y.zs3)),vr(2,(0,y.tBr)("WjComponent")),vr(2,(0,y.tp0)()),vr(2,(0,y.FiY)())],t)}(hi),{selector:"wj-range",template:"",inputs:["wjProperty","color","min","max","name","thickness"],outputs:["initialized"],providers:[]}),xo=(function(s){function t(n,i,r){var o=s.call(this)||this;return o.isInitialized=!1,o.wjProperty="ranges",o._wjBehaviour=tt.D6.attach(o,n,i,r),o.created(),o}var e;Bo(t,s),e=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.meta={outputs:gr.outputs},t.\u0275fac=function(i){return new(i||t)(y.Y36(y.SBq),y.Y36(y.zs3),y.Y36("WjComponent",12))},t.\u0275cmp=y.Xpm({type:t,selectors:[["wj-range"]],inputs:{wjProperty:"wjProperty",color:"color",min:"min",max:"max",name:"name",thickness:"thickness"},outputs:{initialized:"initialized"},features:[y._Bn([{provide:"WjComponent",useExisting:(0,y.Gpc)(function(){return e})}].concat(gr.providers))],decls:0,vars:0,template:function(i,r){},encapsulation:2}),t=e=ns([,vr(0,(0,y.tBr)(y.SBq)),vr(1,(0,y.tBr)(y.zs3)),vr(2,(0,y.tBr)("WjComponent")),vr(2,(0,y.tp0)()),vr(2,(0,y.FiY)())],t)}(zt),function(){function s(){}s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=y.oAB({type:s}),s.\u0275inj=y.cJS({imports:[Q.ez]})}(),function(){var s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}());!function(s){s[s.None=0]="None",s[s.Condition=1]="Condition",s[s.Value=2]="Value",s[s.Both=3]="Both"}(Or||(Or={}));var Ho,ka=function(){function s(t,e){this._showIcons=!0,this._showSort=!0,this._defFilterType=Or.Both,this._xValueSearch=!0,this.filterApplied=new u.Event,this.editingFilter=new u.Event,this.filterChanging=new u.Event,this.filterChanged=new u.Event,this._filters=[],this._g=(0,u.asType)(t,It,!1),this._g.formatItem.addHandler(this._formatItem.bind(this)),this._g.itemsSourceChanged.addHandler(this.clear.bind(this));var n=this._g.hostElement;t.addEventListener(n,"mousedown",this._mousedown.bind(this),!0),t.addEventListener(n,"click",this._click.bind(this),!0),t.addEventListener(n,"keydown",this._keydown.bind(this),!0),this._g.invalidate(),(0,u.copy)(this,e)}return Object.defineProperty(s.prototype,"grid",{get:function(){return this._g},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"filterColumns",{get:function(){return this._filterColumns},set:function(t){this._filterColumns=(0,u.asArray)(t),this.clear()},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"showFilterIcons",{get:function(){return this._showIcons},set:function(t){t!=this.showFilterIcons&&(this._showIcons=(0,u.asBoolean)(t),this._g&&this._g.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"showSortButtons",{get:function(){return this._showSort},set:function(t){this._showSort=(0,u.asBoolean)(t)},enumerable:!0,configurable:!0}),s.prototype.getColumnFilter=function(t,e){if(void 0===e&&(e=!0),t=this._asColumn(t)){for(var n=0;n<this._filters.length;n++)if(this._filters[n].column==t)return this._filters[n];if(e&&t.binding){var i=new qa(this,t);return this._filters.push(i),i}}return null},Object.defineProperty(s.prototype,"defaultFilterType",{get:function(){return this._defFilterType},set:function(t){(t=(0,u.asEnum)(t,Or,!1))!=this.defaultFilterType&&(this._defFilterType=t,this._g.invalidate(),this.clear())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"exclusiveValueSearch",{get:function(){return this._xValueSearch},set:function(t){this._xValueSearch=(0,u.asBoolean)(t)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"filterDefinition",{get:function(){var t=this,e={defaultFilterType:this.defaultFilterType,filters:[]};return this._filters.forEach(function(n){var i=n.conditionFilter,r=n.valueFilter,o=r.uniqueValues&&r.uniqueValues.length;if(n&&n.column&&n.column.binding&&(n.isActive||o||n.filterType!=t.defaultFilterType)){var a={binding:n.column.binding};if(i.isActive){var d=i.condition1,p=i.condition2;a={binding:n.column.binding,type:"condition",condition1:{operator:d.operator,value:d.value},and:i.and,condition2:{operator:p.operator,value:p.value}}}else(r.isActive||o)&&(a={binding:n.column.binding,type:"value",uniqueValues:r.uniqueValues,sortValues:r.sortValues,maxValues:r.maxValues,exclusiveValueSearch:r.exclusiveValueSearch,showValues:r.showValues});n.filterType!=t.defaultFilterType&&(a.filterType=n.filterType),e.filters.push(a)}}),JSON.stringify(e)},set:function(t){if(t=(0,u.asString)(t),this.clear(),t){var e=JSON.parse(t);this.defaultFilterType=e.defaultFilterType;for(var n=function(o){var a=e.filters[o],d=i._asColumn(a.binding);d||(d=new $t({binding:a.binding}));var p=i.getColumnFilter(d,!0);if(p)switch(null!=a.filterType&&(p.filterType=(0,u.asEnum)(a.filterType,Or)),a.type){case"condition":var v=p.conditionFilter;v.condition1.value=d.dataType==u.DataType.Date?(0,u.changeType)(a.condition1.value,d.dataType,null):a.condition1.value,v.condition1.operator=a.condition1.operator,v.and=a.and,v.condition2.value=d.dataType==u.DataType.Date?(0,u.changeType)(a.condition2.value,d.dataType,null):a.condition2.value,v.condition2.operator=a.condition2.operator;break;case"value":var M=p.valueFilter;M.uniqueValues=a.uniqueValues,["sortValues","maxValues","exclusiveValueSearch"].forEach(function(T){null!=a[T]&&(M[T]=a[T])}),M.showValues=a.showValues}},i=this,r=0;r<e.filters.length;r++)n(r)}this.apply()},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"activeEditor",{get:function(){return u.Control.getControl(this._divEdt)},enumerable:!0,configurable:!0}),s.prototype.editColumnFilter=function(t,e,n){var i=this,r=this._g;this.closeEditor(),t=this._asColumn(t);var o=new me(r.cells,new W(-1,t.index));if(this.onEditingFilter(o)){var a=(0,u.createElement)('<div class="wj-dropdown-panel"></div>'),d=this.getColumnFilter(t),p=new R(a,d,this.showSortButtons);if(this._divEdt=a,this._edtCol=t,r.rightToLeft&&(a.dir="rtl"),this.onFilterChanging(o)){o.cancel=!0,p.filterChanged.addHandler(function(){o.cancel=!1,setTimeout(function(){o.cancel||i.apply()})}),p.buttonClicked.addHandler(function(){i.closeEditor(),r.focus(),i.onFilterChanged(o)}),p.lostFocus.addHandler(function(){setTimeout(function(){var ze=u.Control.getControl(i._divEdt);ze&&!ze.containsFocus()&&i.closeEditor()},10)});var v=e?e.col:t.index,M=r.columns[v];e||M&&M.binding==t.binding||(v=r.selection.leftCol),r._edtHdl._commitRowEdits(),r.scrollIntoView(-1,v,!0);var T=r.columnHeaders,k=e&&e.panel==T?e.row:T.rows.length-1,L=v,Y=n||T.getCellElement(k,L),ce=Y?null:T.getCellBoundingRect(k,L);Y?(0,u.showPopup)(a,Y,!1,!1,!1):(0,u.showPopup)(a,ce),this._setAriaExpanded(Y,!0),this._setAriaExpanded(r.cells.getCellElement(-1,L),!0);for(var ae=p.hostElement.querySelectorAll("input"),Ee=0;Ee<ae.length;Ee++){var Me=ae[Ee];if(Me.offsetHeight>0&&Me.tabIndex>-1&&!Me.disabled){Me.focus();break}}p.containsFocus()||p.focus()}else this._divEdt=this._edtCol=null}},s.prototype._setAriaExpanded=function(t,e){if(t){var n=t.querySelector("."+s._WJC_FILTER);(0,u.setAttribute)(n,"aria-expanded",e)}},s.prototype.closeEditor=function(){var t=this._g,e=u.Control.getControl(this._divEdt),n=this._edtCol;if(e&&(0,u.hidePopup)(e.hostElement,function(){e.dispose()}),n){var i=t.columnHeaders,r=i.rows.length?i.getCellElement(i.rows.length-1,n.index):null;this._setAriaExpanded(r,!1),r=t.cells.getCellElement(-1,n.index),this._setAriaExpanded(r,!1)}this._divEdt=null,this._edtCol=null},s.prototype.apply=function(){var t=this._g.collectionView;if(t){var e=this._g.editableCollectionView;e&&(e.commitEdit(),e.commitNew()),t.filter=this._filter.bind(this)}var n=t?t.updateFilterDefinition:null;(0,u.isFunction)(n)&&n.call(t,this),this.onFilterApplied()},s.prototype.clear=function(){this._filters.length&&(this._filters=[],this.apply())},s.prototype.onFilterApplied=function(t){this.filterApplied.raise(this,t)},s.prototype.onEditingFilter=function(t){return this.editingFilter.raise(this,t),!t.cancel},s.prototype.onFilterChanging=function(t){return this.filterChanging.raise(this,t),!t.cancel},s.prototype.onFilterChanged=function(t){this.filterChanged.raise(this,t)},s.prototype._asColumn=function(t){return(0,u.isString)(t)?this._g.getColumn(t,!0):(0,u.isNumber)(t)?this._g.columns[t]:(0,u.asType)(t,$t,!1)},s.prototype._filter=function(t){for(var e=this._filters,n=0;n<e.length;n++){var i=e[n];if(i.column!=s._skipColumn&&!i.apply(t))return!1}return!0},s.prototype._formatItem=function(t,e){if(e.panel==t.columnHeaders){var n=this._g,i=n.getMergedRange(e.panel,e.row,e.col)||new W(e.row,e.col),r=n.columns[i.col],o=n._getBindingColumn(e.panel,e.row,r),a=e.cell;if(i.row2==e.panel.rows.length-1||r!=o){var d=this.getColumnFilter(o,this.defaultFilterType!=Or.None),p=this._filterColumns;p&&p.length&&p.indexOf(o.binding)<0&&p.indexOf(o.name)<0&&(d=null),d?((0,u.toggleClass)(a,"wj-filter-on",d.isActive),(0,u.toggleClass)(a,"wj-filter-off",!d.isActive)):((0,u.removeClass)(a,"wj-filter-on"),(0,u.removeClass)(a,"wj-filter-off")),d&&d.filterType!=Or.None&&(this._showIcons&&this._addFilterButton(o,d,a),0==e.row&&(a=n.cells.getCellElement(-1,e.col))&&this._addFilterButton(r,d,a))}}},s.prototype._addFilterButton=function(t,e,n){var i=s._WJC_FILTER,r=(0,u.createElement)('<button class="wj-btn wj-btn-glyph wj-right '+i+'" type="button" tabindex="-1"><span class="wj-glyph-filter"></span></button>');(0,u.setAriaLabel)(r,u.culture.FlexGridFilter.ariaLabels.edit+" "+t.header),(0,u.setAttribute)(r,"aria-haspopup","dialog"),(0,u.setAttribute)(r,"aria-expanded",!1),(0,u.setAttribute)(r,"aria-describedby",t.describedById),(0,u.setAttribute)(r,"aria-pressed",e.isActive),n.querySelector("."+i)||(1==n.children.length&&(n=n.querySelector("div")||n),n.insertBefore(r,n.firstChild))},s.prototype._mousedown=function(t){this._edtColPrev=this._edtCol},s.prototype._click=function(t){this._toggleEditor(t)&&(t.stopPropagation(),t.preventDefault())},s.prototype._toggleEditor=function(t){var e=this;if(!t.defaultPrevented&&0==t.button)if((0,u.closestClass)(t.target,s._WJC_FILTER)){var n=this._g,i=n.hitTest(t.target);if(i.panel||(i=n.hitTest(t)),i.panel==n.columnHeaders||i.panel==n.cells&&-1==i.row){var r=n.getMergedRange(i.panel,i.row,i.col)||new W(i.row,i.col),a=n._getBindingColumn(i.panel,i.row,n.columns[r.col]);return this._divEdt&&this._edtCol==a?(this.closeEditor(),n.focus()):a!=this._edtColPrev&&setTimeout(function(){e.editColumnFilter(a,i)},this._divEdt?100:0),!0}}else this.closeEditor();return!1},s.prototype._keydown=function(t){if(!t.defaultPrevented&&!t.ctrlKey&&t.altKey&&(t.keyCode==u.Key.Down||t.keyCode==u.Key.Up)){var e=this.grid,n=e.selection,i=n.col>-1?e.columns[n.col]:null,r=i?e._getBindingColumn(e.cells,n.row,i):null,o=r&&r.dataMap&&r.dataMapEditor==b.DropDownList;if(r&&r.editor instanceof dt.DropDown&&(o=!0),r&&!o){var a=this.getColumnFilter(r,!1);a&&a.filterType!=Or.None&&(this.editColumnFilter(r),t.preventDefault(),t.stopPropagation())}}},s._WJC_FILTER="wj-elem-filter",s}(),ml=function(){function s(t){this._c1=new Wa(this),this._c2=new Wa(this),this._and=!0,this._col=t}return Object.defineProperty(s.prototype,"condition1",{get:function(){return this._c1},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"condition2",{get:function(){return this._c2},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"and",{get:function(){return this._and},set:function(t){this._and=(0,u.asBoolean)(t)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"dataMap",{get:function(){return this._map},set:function(t){this._map=(0,u.asType)(t,Z,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"column",{get:function(){return this._col},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"isActive",{get:function(){return this._c1.isActive||this._c2.isActive},enumerable:!0,configurable:!0}),s.prototype.apply=function(t){var e=this._col,n=this._c1,i=this._c2,r=!1,o=!1;if(!e||!e._binding||!this.isActive)return!0;t=e._binding.getValue(t);var a=this.dataMap||e.dataMap;if(a)t=a.getDisplayValue(t);else if((0,u.isDate)(t)){r=!this._hasTimePart(),o=!this._hasDatePart();var d=Wa._refDateTime;r?t=u.DateTime.fromDateTime(t,d):o&&(t=u.DateTime.fromDateTime(d,t))}else if((0,u.isNumber)(t)){var p=u.Globalize,v=e.format,M=p.formatNumber(t,v);t=p.parseFloat(M,v)}var T=n.apply(t,r,o),k=i.apply(t,r,o);return n.isActive&&i.isActive?this._and?T&&k:T||k:n.isActive?T:!i.isActive||k},s.prototype.clear=function(){this._c1.clear(),this._c2.clear(),this.and=!0},s.prototype._hasDatePart=function(){var t=this._col.format;return!t||/[yMd]+/.test(t=u.culture.Globalize.calendar.patterns[t]||t)},s.prototype._hasTimePart=function(){var t=this._col.format;return!!t&&/[Hmst]+/.test(t=u.culture.Globalize.calendar.patterns[t]||t)},s.prototype.implementsInterface=function(t){return"IColumnFilter"==t},s}(),za=function(s){function t(e,n){var i=s.call(this,e)||this;i._canApply=!1,i.canApplyChanged=new u.Event,i._filter=(0,u.asType)(n,ml,!1);var r=i.getTemplate();i.applyTemplate("wj-control wj-conditionfilter-editor",r,{_divHdr:"div-hdr",_divCmb1:"div-cmb1",_divVal1:"div-val1",_btnAnd:"btn-and",_btnOr:"btn-or",_spAnd:"sp-and",_spOr:"sp-or",_divCmb2:"div-cmb2",_divVal2:"div-val2"});var o=u.culture.FlexGridFilter,a=o.ariaLabels;(0,u.setAriaLabel)(i._btnAnd,a.and),(0,u.setAriaLabel)(i._btnOr,a.or),(0,u.setText)(i._divHdr,o.header),(0,u.setText)(i._spAnd,o.and),(0,u.setText)(i._spOr,o.or),i._cmb1=i._createOperatorCombo(i._divCmb1,a.op1),i._cmb2=i._createOperatorCombo(i._divCmb2,a.op2),i._val1=i._createValueInput(i._divVal1,a.val1),i._val2=i._createValueInput(i._divVal2,a.val2),i._val1.isDisabled=!0,i._cmb1.selectedIndexChanged.addHandler(function(p,v){i._val1.isDisabled=null==p.selectedValue,i.canApply=!i._val1.isDisabled||!i._val2.isDisabled}),i._val2.isDisabled=!0,i._cmb2.selectedIndexChanged.addHandler(function(p,v){i._val2.isDisabled=null==p.selectedValue,i.canApply=!i._val1.isDisabled||!i._val2.isDisabled});var d=i.hostElement;return i.addEventListener(d,"change",i._btnAndOrChanged.bind(i)),i.addEventListener(d,"keydown",i._keydown.bind(i)),setTimeout(function(){i.updateEditor()}),i}return xo(t,s),Object.defineProperty(t.prototype,"filter",{get:function(){return this._filter},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"canApply",{get:function(){return this._canApply},set:function(e){e!=this._canApply&&(this._canApply=e,this.onCanApplyChanged())},enumerable:!0,configurable:!0}),t.prototype.updateEditor=function(){var e=this._filter.condition1,n=this._filter.condition2;this._cmb1.selectedValue=e.operator,this._cmb2.selectedValue=n.operator,this._val1 instanceof dt.ComboBox&&!(this._val1 instanceof dt.InputTime)?(this._val1.text=(0,u.changeType)(e.value,u.DataType.String),this._val2.text=(0,u.changeType)(n.value,u.DataType.String)):(this._val1.value=e.value,this._val2.value=n.value);var i=this._filter.and;this._checkRadio(this._btnAnd,i),this._checkRadio(this._btnOr,!i)},t.prototype.clearEditor=function(){this._cmb1.selectedValue=this._cmb2.selectedValue=null,this._val1.text=this._val2.text=null,this._checkRadio(this._btnAnd,!0),this._checkRadio(this._btnOr,!1)},Object.defineProperty(t.prototype,"isEditorClear",{get:function(){return null==this._cmb1.selectedValue&&!this._val1.text&&null==this._cmb2.selectedValue&&!this._val2.text},enumerable:!0,configurable:!0}),t.prototype.updateFilter=function(){var e=this._filter.condition1,n=this._filter.condition2;e.operator=this._cmb1.selectedValue,n.operator=this._cmb2.selectedValue,"value"in this._val1?(e.value=this._val1.value,n.value=this._val2.value):(e.value=this._getComboValue(this._val1),n.value=this._getComboValue(this._val2)),this._filter.and=this._btnAnd.checked},t.prototype.onCanApplyChanged=function(e){this.canApplyChanged.raise(this,e)},t.prototype._getComboValue=function(e){return e.selectedIndex>-1?e.selectedValue:e.text},t.prototype._createOperatorCombo=function(e,n){var i=this._filter.column,r=u.culture.FlexGridFilter,o=r.stringOperators,a=u.DataType;this._filter.dataMap||i.dataMap||(i.dataType==a.Date?o=r.dateOperators:i.dataType==a.Number?o=r.numberOperators:i.dataType==a.Boolean&&(o=r.booleanOperators));var d=new dt.ComboBox(e,{itemsSource:o,displayMemberPath:"name",selectedValuePath:"op"});return(0,u.setAriaLabel)(d.inputElement,n),d},t.prototype._createValueInput=function(e,n){var i=this._filter,r=i.column,o=i.dataMap||r.dataMap,a=null,d=u.DataType;return r.dataType==d.Date?(a=i._hasDatePart()?i._hasTimePart()?new dt.InputDateTime(e):new dt.InputDate(e):new dt.InputTime(e)).format=r.format:r.dataType!=d.Number||o?(a=new dt.ComboBox(e),o?(a.itemsSource=o.getDisplayValues(),a.isEditable=!0,a.caseSensitiveSearch=!!r.grid&&r.grid.caseSensitiveSearch):r.dataType==d.Boolean&&(a.itemsSource=[!0,!1])):(a=new dt.InputNumber(e)).format=r.format,a.isRequired=!1,(0,u.setAriaLabel)(a.inputElement,n),a},t.prototype._btnAndOrChanged=function(e){var n=e.target==this._btnAnd,i=e.target==this._btnOr;(n||i)&&(this._checkRadio(this._btnAnd,n),this._checkRadio(this._btnOr,i))},t.prototype._checkRadio=function(e,n){e.checked=n,(0,u.setAttribute)(e,"aria-checked",n.toString()),(0,u.setAttribute)(e,"tabindex",n?null:"-1")},t.prototype._keydown=function(e){var n=e.target==this._btnAnd;if(n||e.target==this._btnOr)switch(e.keyCode){case u.Key.Left:case u.Key.Right:case u.Key.Up:case u.Key.Down:var r=n?this._btnOr:this._btnAnd;r.click(),r.focus(),e.preventDefault()}},t.controlTemplate='<div><div wj-part="div-hdr"></div><div wj-part="div-cmb1"></div><br/><div wj-part="div-val1"></div><br/><div role="radiogroup" style="text-align:center"><label><input wj-part="btn-and" type="radio" role="radio"> <span wj-part="sp-and"></span> </label>&nbsp;&nbsp;&nbsp;<label><input wj-part="btn-or" type="radio" role="radio"> <span wj-part="sp-or"></span> </label></div><div wj-part="div-cmb2"></div><br/><div wj-part="div-val2"></div><br/></div>',t}(u.Control),Wa=function(){function s(t){this._op=null,this._filter=t}return Object.defineProperty(s.prototype,"operator",{get:function(){return this._op},set:function(t){this._op=(0,u.asEnum)(t,Ho,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"value",{get:function(){return this._val},set:function(t){this._val=t,this._strVal=(0,u.isString)(t)?this._getCaseString(t):null},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"isActive",{get:function(){switch(this._op){case null:return!1;case Ho.EQ:case Ho.NE:return!0;default:return null!=this._val||null!=this._strVal}},enumerable:!0,configurable:!0}),s.prototype.clear=function(){this.operator=null,this.value=null},s.prototype.apply=function(t,e,n){var i=this._strVal||this._val;switch((0,u.isString)(t)&&(t=this._getCaseString(t)),(0,u.isString)(i)&&null==t&&(t=""),(0,u.isDate)(i)&&(e?i=u.DateTime.fromDateTime(i,s._refDateTime):n&&(i=u.DateTime.fromDateTime(s._refDateTime,i))),this._op){case null:return!0;case Ho.EQ:return null!=t&&null!=i?t.valueOf()==i.valueOf():t==i;case Ho.NE:return null!=t&&null!=i?t.valueOf()!=i.valueOf():t!=i;case Ho.GT:return t>i;case Ho.GE:return t>=i;case Ho.LT:return t<i;case Ho.LE:return t<=i;case Ho.BW:return!(null==this._strVal||!(0,u.isString)(t))&&0==t.indexOf(this._strVal);case Ho.EW:return!!(null!=this._strVal&&(0,u.isString)(t)&&t.length>=this._strVal.length)&&t.substr(t.length-this._strVal.length)==i;case Ho.CT:return!(null==this._strVal||!(0,u.isString)(t))&&t.indexOf(this._strVal)>-1;case Ho.NC:return!(null==this._strVal||!(0,u.isString)(t))&&t.indexOf(this._strVal)<0}throw"Unknown operator"},s.prototype._getCaseString=function(t){var e=this._filter.column,n=e?e.grid:null;return n&&n.caseSensitiveSearch?t:t.toLowerCase()},s._refDateTime=new Date(2e3,0,1,0,0,0),s}();!function(s){s[s.EQ=0]="EQ",s[s.NE=1]="NE",s[s.GT=2]="GT",s[s.GE=3]="GE",s[s.LT=4]="LT",s[s.LE=5]="LE",s[s.BW=6]="BW",s[s.EW=7]="EW",s[s.CT=8]="CT",s[s.NC=9]="NC"}(Ho||(Ho={}));var eo=function(){function s(t){this._values=null,this._filterText=null,this._xValueSearch=!0,this._maxValues=250,this._uniqueValues=null,this._sortValues=!0,this._col=t}return Object.defineProperty(s.prototype,"showValues",{get:function(){return this._values},set:function(t){this._values=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"filterText",{get:function(){return this._filterText},set:function(t){this._filterText=(0,u.asString)(t)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"exclusiveValueSearch",{get:function(){return this._xValueSearch},set:function(t){this._xValueSearch=(0,u.asBoolean)(t)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"maxValues",{get:function(){return this._maxValues},set:function(t){this._maxValues=(0,u.asNumber)(t,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"uniqueValues",{get:function(){return this._uniqueValues},set:function(t){this._uniqueValues=(0,u.asArray)(t)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"sortValues",{get:function(){return this._sortValues},set:function(t){this._sortValues=(0,u.asBoolean)(t)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"dataMap",{get:function(){return this._map},set:function(t){this._map=(0,u.asType)(t,Z,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"column",{get:function(){return this._col},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"isActive",{get:function(){return null!=this._values&&Object.keys(this._values).length>0},enumerable:!0,configurable:!0}),s.prototype.apply=function(t){var e=this.column;return!(e&&e._binding&&this._values&&Object.keys(this._values).length)||(t=e._binding.getValue(t),t=this.dataMap?this.dataMap.getDisplayValue(t)||"":e.dataMap?e.dataMap.getDisplayValue(t)||"":u.Globalize.format(t,e.format),null!=this._values[t])},s.prototype.clear=function(){this.showValues=null,this.filterText=null},s.prototype.getUniqueValues=function(t){void 0===t&&(t=!0);var e=[],n=this.column,i=u.Globalize.format;if(this.uniqueValues)return this.uniqueValues.forEach(function(T){e.push({value:T,text:i(T,n.format)})}),e;var r={},o=n.collectionView,a=o?o.sourceCollection:[];if(t&&o&&o.sourceCollection&&o.filter)try{ka._skipColumn=this._col;for(var d=[],p=0;p<a.length;p++)o.filter(a[p])&&d.push(a[p]);a=d}finally{ka._skipColumn=null}for(p=0;p<a.length;p++){var v=n._binding.getValue(a[p]),M=this.dataMap?this.dataMap.getDisplayValue(v)||"":n.dataMap?n.dataMap.getDisplayValue(v)||"":i(v,n.format);r[M]||(r[M]=!0,e.push({value:v,text:M}))}return e},s.prototype.implementsInterface=function(t){return"IColumnFilter"==t},s}(),Dl=function(s){function t(e,n){var i=s.call(this,e)||this;i._canApply=!1,i.canApplyChanged=new u.Event,i._filter=(0,u.asType)(n,eo,!1);var r=i.getTemplate();i.applyTemplate("wj-control wj-valuefilter-editor",r,{_divFilter:"div-filter",_cbSelectAll:"cb-select-all",_spSelectAll:"sp-select-all",_divValues:"div-values"}),i._cbSelectAll.tabIndex=0;var o=u.culture.FlexGridFilter;(0,u.setText)(i._spSelectAll,o.selectAll);var a=i._view=new u.CollectionView(null,{sortNulls:u.SortNulls.First,filter:i._filterValues.bind(i)});return n.sortValues&&a.sortDescriptions.push(new u.SortDescription(n.column.dataMap||n.dataMap?"text":"value",n.column.dataType!=u.DataType.Boolean)),a.collectionChanged.addHandler(i._updateSelectAllCheck,i),i._filterText="",i._rxFilter=null,i._cmbFilter=new dt.ComboBox(i._divFilter,{isRequired:!1,placeholder:o.search}),i._lbValues=new dt.ListBox(i._divValues,{displayMemberPath:"text",checkedMemberPath:"show",itemsSource:i._view,itemFormatter:function(v,M){return M||o.null},checkedItemsChanged:function(v){return i._updateSelectAllCheck()}}),(0,u.setAriaLabel)(i._cmbFilter.inputElement,o.ariaLabels.search),i._cmbFilter.inputElement.addEventListener("input",i._filterTextChanged.bind(i)),i._cbSelectAll.addEventListener("click",i._cbSelectAllClicked.bind(i)),i.updateEditor(),i._initialItems=i._lbValues.checkedItems,i}return xo(t,s),Object.defineProperty(t.prototype,"filter",{get:function(){return this._filter},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"canApply",{get:function(){return this._canApply},set:function(e){e!=this._canApply&&(this._canApply=e,this.onCanApplyChanged())},enumerable:!0,configurable:!0}),t.prototype.updateEditor=function(){var e=this,n=this._filter.column,i=this._filter.getUniqueValues(!0);this._lbValues.isContentHtml=n.isContentHtml;var r=this._filter.showValues;if(r&&0!=Object.keys(r).length){for(var o in r)for(var a=0;a<i.length;a++)if(i[a].text==o){i[a].show=!0;break}}else i.forEach(function(M){return M.show=!0});var d=this._filter.filterText||"",p=this._getCaseSensitive();this._cmbFilter.text=d,this._filterText=p?d:d.toLowerCase(),this._rxFilter=d?new RegExp((0,u.escapeRegExp)(d),p?"":"i"):null;var v=this._view;v.pageSize=this._filter.maxValues,v.sourceCollection=i,setTimeout(function(){e._adjustWidths()},0)},t.prototype.clearEditor=function(e){void 0===e&&(e=!0),this._cmbFilter.text="",this._filterText="",this._rxFilter=null;var n=this._view;n.pageSize=0,n.items.forEach(function(i){i.show=e}),n.moveCurrentTo(-1),n.refresh(),n.pageSize=this._filter.maxValues},Object.defineProperty(t.prototype,"isEditorClear",{get:function(){return!this._filterText&&!this._cbSelectAll.indeterminate},enumerable:!0,configurable:!0}),t.prototype.updateFilter=function(){var e=null,n=this._getItems();if(this._filterText||this._cbSelectAll.indeterminate){e={};for(var i=0;i<n.length;i++){var r=n[i];r.show&&(e[r.text]=!0)}}var o=this._filter;o.showValues=e,o.filterText=this._filterText},t.prototype.onCanApplyChanged=function(e){this.canApplyChanged.raise(this,e)},t.prototype._getCaseSensitive=function(){var e=this._filter.column,n=e?e.grid:null;return n&&n.caseSensitiveSearch},t.prototype._getItems=function(){return this._filter.exclusiveValueSearch?this._view.items:this._view.sourceCollection},t.prototype._filterTextChanged=function(){var e=this;this._toFilter&&clearTimeout(this._toFilter),this._toFilter=setTimeout(function(){var n=e._cmbFilter.text,i=e._getCaseSensitive();if(i||(n=n.toLowerCase()),n!=e._filterText){if(e._filterText=n,e._rxFilter=n?new RegExp((0,u.escapeRegExp)(n),i?"":"i"):null,e._view.refresh(),!n){var r=e._initialItems;if(r.length&&e._view.sourceCollection.indexOf(r[0])>-1)return e._lbValues.checkedItems=e._initialItems,void e._updateSelectAllCheck()}e._filter.exclusiveValueSearch?(e._cbSelectAll.checked=!0,e._cbSelectAllClicked()):e._updateSelectAllCheck()}},u.Control._SEARCH_DELAY)},t.prototype._filterValues=function(e){var n=this._rxFilter;return null==n||null==e||n.test(e.text)},t.prototype._cbSelectAllClicked=function(){for(var e=this,n=this._cbSelectAll.checked,i=this._divValues.scrollTop,r=this._getItems(),o=0;o<r.length;o++)r[o].show=n;this._view.refresh(),this._divValues.scrollTop=i,setTimeout(function(){e._adjustWidths()},0)},t.prototype._updateSelectAllCheck=function(){for(var e=this._getItems(),n=0,i=0,r=0;r<e.length&&(e[r].show?n++:i++,!n||!i);r++);(0,u.setChecked)(this._cbSelectAll,n&&i?null:n>0),this.canApply=n>0},t.prototype._adjustWidths=function(){var e=this._lbValues.hostElement;if(e.offsetHeight>0){var n=0,i=e.querySelectorAll(".wj-listbox-item label");if(i.length){for(var r=0;r<i.length;r++)n=Math.max(n,i[r].scrollWidth);if(n){var o=e.querySelectorAll(".wj-listbox-item");if(o.length){var d=getComputedStyle(o[0]),p=parseFloat(d.paddingLeft)+parseFloat(d.paddingRight);for(r=0;r<o.length;r++)o[r].style.width=n+p+"px"}}}}},t.controlTemplate='<div><div wj-part="div-filter"></div><div class="wj-listbox-item"><label><input wj-part="cb-select-all" type="checkbox"> <span wj-part="sp-select-all"></span></label></div><div wj-part="div-values"></div></div>',t}(u.Control),qa=function(){function s(t,e){this._owner=t,this._col=e,this._valueFilter=new eo(e),this._valueFilter.exclusiveValueSearch=t.exclusiveValueSearch,this._conditionFilter=new ml(e)}return Object.defineProperty(s.prototype,"filterType",{get:function(){return null!=this._filterType?this._filterType:this._owner.defaultFilterType},set:function(t){if((t=(0,u.asEnum)(t,Or,!0))!=this._filterType){var e=this.isActive;this.clear(),this._filterType=t,e?this._owner.apply():this._col.grid&&this._col.grid.invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"dataMap",{get:function(){return this.conditionFilter.dataMap||this.valueFilter.dataMap},set:function(t){this.conditionFilter.dataMap=t,this.valueFilter.dataMap=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"valueFilter",{get:function(){return this._valueFilter},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"conditionFilter",{get:function(){return this._conditionFilter},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"column",{get:function(){return this._col},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"isActive",{get:function(){return this._conditionFilter.isActive||this._valueFilter.isActive},enumerable:!0,configurable:!0}),s.prototype.apply=function(t){return this._conditionFilter.apply(t)&&this._valueFilter.apply(t)},s.prototype.clear=function(){this._valueFilter.clear(),this._conditionFilter.clear()},s.prototype.implementsInterface=function(t){return"IColumnFilter"==t},s}();(0,u._addCultureInfo)("FlexGridFilter",{ariaLabels:{edit:"Edit Filter for Column",dialog:"Filter Editor for Column",asc:"Sort Column in Ascending Order",dsc:"Sort Column in Descending Order",search:"Search Item List",op1:"First Condition Operator",val1:"First Condition Value",and:"Require both Conditions",or:"Require either Condition",op2:"Second Condition Operator",val2:"Second Condition Value"},ascending:"\u2191 Ascending",descending:"\u2193 Descending",apply:"Apply",cancel:"Cancel",clear:"Clear",conditions:"Filter by Condition",values:"Filter by Value",search:"Search",selectAll:"Select All",null:"(nothing)",header:"Show items where the value",and:"And",or:"Or",stringOperators:[{name:"(not set)",op:null},{name:"Equals",op:Ho.EQ},{name:"Does not equal",op:Ho.NE},{name:"Begins with",op:Ho.BW},{name:"Ends with",op:Ho.EW},{name:"Contains",op:Ho.CT},{name:"Does not contain",op:Ho.NC}],numberOperators:[{name:"(not set)",op:null},{name:"Equals",op:Ho.EQ},{name:"Does not equal",op:Ho.NE},{name:"Is Greater than",op:Ho.GT},{name:"Is Greater than or equal to",op:Ho.GE},{name:"Is Less than",op:Ho.LT},{name:"Is Less than or equal to",op:Ho.LE}],dateOperators:[{name:"(not set)",op:null},{name:"Equals",op:Ho.EQ},{name:"Is Before",op:Ho.LT},{name:"Is After",op:Ho.GT}],booleanOperators:[{name:"(not set)",op:null},{name:"Equals",op:Ho.EQ},{name:"Does not equal",op:Ho.NE}]});var R=function(s){function t(e,n,i){void 0===i&&(i=!0);var r=s.call(this,e,null,!0)||this;r.filterChanged=new u.Event,r.buttonClicked=new u.Event,r._filter=(0,u.asType)(n,qa);var o=r.getTemplate();r.applyTemplate("wj-control wj-content wj-columnfiltereditor",o,{_divSort:"div-sort",_btnAsc:"btn-asc",_btnDsc:"btn-dsc",_divType:"div-type",_aVal:"a-val",_aCnd:"a-cnd",_divEdtVal:"div-edt-val",_divEdtCnd:"div-edt-cnd",_btnApply:"btn-apply",_btnCancel:"btn-cancel",_btnClear:"btn-clear"});var a=u.culture.FlexGridFilter,d=a.ariaLabels,p=r.hostElement,v=r.filter.column,M=v.grid.collectionView;(0,u.setAttribute)(p,"role","dialog"),(0,u.setAriaLabel)(p,d.dialog+" "+v.header),(0,u.setAriaLabel)(r._btnAsc,d.asc),(0,u.setAriaLabel)(r._btnDsc,d.dsc),(0,u.setText)(r._btnAsc,a.ascending),(0,u.setText)(r._btnDsc,a.descending),(0,u.setText)(r._aVal,a.values),(0,u.setText)(r._aCnd,a.conditions),(0,u.setText)(r._btnApply,a.apply),(0,u.setText)(r._btnCancel,a.cancel),(0,u.setText)(r._btnClear,a.clear),r._showFilter(!r.filter.conditionFilter.isActive&&n.filterType&Or.Value?Or.Value:Or.Condition),i&&M&&M.canSort||(r._divSort.style.display="none"),r._updateSortButtonState();var k=r._btnClicked.bind(r);return r._btnApply.addEventListener("click",k),r._btnCancel.addEventListener("click",k),r._btnClear.addEventListener("click",k),r._btnAsc.addEventListener("click",k),r._btnDsc.addEventListener("click",k),r._aVal.addEventListener("click",k),r._aCnd.addEventListener("click",k),r.addEventListener(p,"keydown",function(L){if(!L.defaultPrevented){var Y=L.target.tagName.match(/^(a|button)$/i);switch(L.keyCode){case u.Key.Space:Y&&(r._btnClicked(L),L.preventDefault());break;case u.Key.Enter:Y?r._btnClicked(L):(r.updateFilter(),r.onFilterChanged(),r.onButtonClicked()),L.preventDefault();break;case u.Key.Escape:r.onButtonClicked(),L.preventDefault();break;case u.Key.Tab:(0,u.moveFocus)(r.hostElement,L.shiftKey?-1:1),L.preventDefault()}}}),r.addEventListener(window,"resize",function(){r.isTouching||r._wasTouching||r.onButtonClicked()}),r}return xo(t,s),Object.defineProperty(t.prototype,"filter",{get:function(){return this._filter},enumerable:!0,configurable:!0}),t.prototype.updateEditor=function(){this._edtVal&&this._edtVal.updateEditor(),this._edtCnd&&this._edtCnd.updateEditor()},t.prototype.updateFilter=function(){switch(this._getFilterType()){case Or.Value:this._edtVal.updateFilter(),this.filter.conditionFilter.clear();break;case Or.Condition:this._edtCnd.updateFilter(),this.filter.valueFilter.clear()}},t.prototype.onFilterChanged=function(e){this.filterChanged.raise(this,e)},t.prototype.onButtonClicked=function(e){this.buttonClicked.raise(this,e)},t.prototype._showFilter=function(e){var n=this;this._wasTouching=this.isTouching,e==Or.Value&&null==this._edtVal&&(this._edtVal=new Dl(this._divEdtVal,this.filter.valueFilter),this._edtVal.canApplyChanged.addHandler(function(r){(0,u.enable)(n._btnApply,n._edtVal.canApply)})),e==Or.Condition&&null==this._edtCnd&&(this._edtCnd=new za(this._divEdtCnd,this.filter.conditionFilter),this._edtCnd.canApplyChanged.addHandler(function(r){(0,u.enable)(n._btnApply,n._edtCnd.canApply)})),e&this.filter.filterType&&(e==Or.Value?(this._divEdtVal.style.display="",this._divEdtCnd.style.display="none",this._enableLink(this._aVal,!1),this._enableLink(this._aCnd,!0),this._edtVal.focus(),(0,u.enable)(this._btnApply,this._edtVal.canApply)):(this._divEdtVal.style.display="none",this._divEdtCnd.style.display="",this._enableLink(this._aVal,!0),this._enableLink(this._aCnd,!1),this._edtCnd.focus(),(0,u.enable)(this._btnApply,this._edtCnd.canApply)));var i=this._divType.style;switch(this.filter.filterType){case Or.None:case Or.Condition:case Or.Value:i.display="none";break;default:i.display=""}},t.prototype._enableLink=function(e,n){(0,u.toggleClass)(e,"wj-state-disabled",!n),(0,u.setAttribute)(e,"href",n?"":null),(0,u.setAttribute)(e,"disabled",n?null:"disabled")},t.prototype._updateSortButtonState=function(){var e=this.filter.column,n=e?e.currentSort:"",i="wj-state-active";(0,u.toggleClass)(this._btnAsc,i,"+"==n),(0,u.toggleClass)(this._btnDsc,i,"-"==n)},t.prototype._getFilterType=function(){return"none"!=this._divEdtVal.style.display?Or.Value:Or.Condition},t.prototype._btnClicked=function(e){var n=this,i=e.target;if(e.preventDefault(),e.stopPropagation(),!(0,u.hasClass)(i,"wj-state-disabled"))if(i!=this._aVal)if(i!=this._aCnd){if(i==this._btnAsc||i==this._btnDsc){var r=this.filter.column,o=r.sortMemberPath||r.binding,a=r.grid.collectionView.sortDescriptions;a.deferUpdate(function(){a.clear(),a.push(new u.SortDescription(o,e.target==n._btnAsc))}),this._updateSortButtonState()}i==this._btnApply?(this.updateFilter(),this.onFilterChanged()):i==this._btnClear?this.filter.isActive&&(this.filter.clear(),this.onFilterChanged()):this.updateEditor(),this.onButtonClicked()}else this._showFilter(Or.Condition),(0,u.moveFocus)(this._edtCnd.hostElement,0);else this._showFilter(Or.Value),(0,u.moveFocus)(this._edtVal.hostElement,0)},t.controlTemplate='<div><div wj-part="div-sort" class="wj-sort-buttons"><button wj-part="btn-asc" class="wj-btn"></button>&nbsp;&nbsp;&nbsp;<button wj-part="btn-dsc" class="wj-btn"></button></div><div wj-part="div-type" class="wj-filtertype"><a wj-part="a-cnd" href="" draggable="false"></a>&nbsp;|&nbsp;<a wj-part="a-val" href="" draggable="false"></a></div><div wj-part="div-edt-val" tabindex="-1"></div><div wj-part="div-edt-cnd" tabindex="-1"></div><div style="text-align:right;margin-top:10px"><button wj-part="btn-apply" class="wj-btn"></button>&nbsp;&nbsp;<button wj-part="btn-cancel" class="wj-btn"></button>&nbsp;&nbsp;<button wj-part="btn-clear" class="wj-btn"></button></div></div>',t}(u.Control);(0,u._registerModule)("wijmo.grid.filter",ue);var ci,fr,zo,ea,ji,D=function(){var s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),N=function(s,t){return function(e,n){t(e,n,s)}},ie={selector:"wj-flex-grid-filter",template:"",inputs:["wjProperty","showFilterIcons","showSortButtons","defaultFilterType","filterColumns"],outputs:["initialized","editingFilterNg: editingFilter","filterChangingNg: filterChanging","filterChangedNg: filterChanged","filterAppliedNg: filterApplied"],providers:[]},nn=(function(s){function t(n,i,r){var o=s.call(this,r)||this;return o.isInitialized=!1,o._wjBehaviour=tt.D6.attach(o,n,i,r),o.created(),o}var e;D(t,s),e=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.meta={outputs:ie.outputs},t.\u0275fac=function(i){return new(i||t)(y.Y36(y.SBq),y.Y36(y.zs3),y.Y36("WjComponent",12))},t.\u0275cmp=y.Xpm({type:t,selectors:[["wj-flex-grid-filter"]],inputs:{wjProperty:"wjProperty",showFilterIcons:"showFilterIcons",showSortButtons:"showSortButtons",defaultFilterType:"defaultFilterType",filterColumns:"filterColumns"},outputs:{initialized:"initialized",editingFilterNg:"editingFilter",filterChangingNg:"filterChanging",filterChangedNg:"filterChanged",filterAppliedNg:"filterApplied"},features:[y._Bn([{provide:"WjComponent",useExisting:(0,y.Gpc)(function(){return e})}].concat(ie.providers))],decls:0,vars:0,template:function(i,r){},encapsulation:2}),t=e=function(s,t,e,n){var i,r=arguments.length,o=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(s,t,e,n);else for(var a=s.length-1;a>=0;a--)(i=s[a])&&(o=(r<3?i(o):r>3?i(t,e,o):i(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o}([,N(0,(0,y.tBr)(y.SBq)),N(1,(0,y.tBr)(y.zs3)),N(2,(0,y.tBr)("WjComponent")),N(2,(0,y.tp0)()),N(2,(0,y.FiY)())],t)}(ka),function(){function s(){}s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=y.oAB({type:s}),s.\u0275inj=y.cJS({imports:[Q.ez]})}(),G(5650)),Cn=G.n(nn),Gn=function(){var s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),hn=function(){function s(){this._externalCancellation=null}return Object.defineProperty(s.prototype,"sheets",{get:function(){return null==this._sheets&&(this._sheets=[]),this._sheets},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"styles",{get:function(){return null==this._styles&&(this._styles=[]),this._styles},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"definedNames",{get:function(){return null==this._definedNames&&(this._definedNames=[]),this._definedNames},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"colorThemes",{get:function(){return null==this._colorThemes&&(this._colorThemes=[]),this._colorThemes},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"reservedContent",{get:function(){return null==this._reservedContent&&(this._reservedContent={}),this._reservedContent},set:function(t){this._reservedContent=t},enumerable:!0,configurable:!0}),s.prototype.save=function(t){var e=il.save(this);return t&&s._saveToFile(e.base64,t,!(!this._reservedContent||!this._reservedContent.macros)),e.base64},s.prototype.saveAsync=function(t,e,n,i){var r=this;this.cancelAsync(function(){r._cs=(0,u.isFunction)(r._externalCancellation)?r._externalCancellation():new ta,il.saveAsync(r,r._cs,n,i).then(function(o){t&&s._saveToFile(o,t,!(!r._reservedContent||!r._reservedContent.macros)),r._cs=null,(0,u.isFunction)(i)&&i(100),e&&e(o)},function(){return r._cs=null})})},s.prototype.cancelAsync=function(t){var e=this;this._cs?(this._cs.cancel(),setTimeout(function(){e._cs=null,(0,u.isFunction)(t)&&t()},100)):(0,u.isFunction)(t)&&t()},s.prototype.load=function(t,e){void 0===e&&(e=!0),(0,u.isString)(t)&&(t=this._getBase64String(t));var n=il.load(t,e);this._deserialize(n),t=null,n=null},s.prototype.loadAsync=function(t,e,n,i){var r=this;void 0===i&&(i=!0),(0,u.isString)(t)&&(t=this._getBase64String(t)),il.loadAsync(t,i).then(function(o){r._deserialize(o),t=null,o=null,e(r)}).catch(n)},s.prototype._serialize=function(){var t={sheets:[]};return t.sheets=this._serializeWorkSheets(),this._styles&&this._styles.length>0&&(t.styles=this._serializeWorkbookStyles()),this._reservedContent&&(t.reservedContent=this._reservedContent),null!=this.activeWorksheet&&!isNaN(this.activeWorksheet)&&this.activeWorksheet>=0&&(t.activeWorksheet=this.activeWorksheet),this.application&&(t.application=this.application),this.company&&(t.company=this.company),null!=this.created&&(t.created=this.created),this.creator&&(t.creator=this.creator),this.lastModifiedBy&&(t.lastModifiedBy=this.lastModifiedBy),null!=this.modified&&(t.modified=this.modified),this._definedNames&&this._definedNames.length>0&&(t.definedNames=this._serializeDefinedNames()),this._colorThemes&&this._colorThemes.length>0&&(t.colorThemes=this._colorThemes.slice()),t},s.prototype._deserialize=function(t){this._deserializeWorkSheets(t.sheets),t.styles&&t.styles.length>0&&this._deserializeWorkbookStyles(t.styles),this.activeWorksheet=t.activeWorksheet,this.application=t.application,this.company=t.company,this.created=t.created,this.creator=t.creator,this.lastModifiedBy=t.lastModifiedBy,this.modified=t.modified,this.reservedContent=t.reservedContent,t.definedNames&&t.definedNames.length>0&&this._deserializeDefinedNames(t.definedNames),t.colorThemes&&t.colorThemes.length>0&&(this._colorThemes=t.colorThemes.slice())},s.prototype._addWorkSheet=function(t,e){null==this._sheets&&(this._sheets=[]),null==e||isNaN(e)?this._sheets.push(t):this._sheets[e]=t},s._saveToFile=function(t,e,n){var i,r,o=n?"xlsm":"xlsx",a="xlsm"===o?"application/vnd.ms-excel.sheet.macroEnabled.12":"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";if((r=e.lastIndexOf("."))<0)e+="."+o;else{if(0===r)throw"Invalid file name.";(""===(i=e.substring(r+1))||i!==o)&&(e+="."+o)}(0,u.saveFile)(new Blob([Yi.toArray(t)],{type:a}),e)},s.prototype._getBase64String=function(t){if(null==t||0===t.length)throw"Invalid xlsx file content.";var e=t.search(/base64,/i);return-1!==e?t.substring(e+7):t},s.toXlsxDateFormat=function(t){var e;if(1===t.length)switch(t){case"r":case"R":return"ddd, dd MMM yyyy HH:mm:ss &quot;GMT&quot;";case"u":return"yyyy-MM-dd&quot;T&quot;HH:mm:ss&quot;Z&quot;";case"o":case"O":e=(e=u.culture.Globalize.calendar.patterns[t]).replace(/f+k/gi,"000");break;default:e=u.culture.Globalize.calendar.patterns[t]}return e||(e=t),e=e.replace(/"/g,"").replace(/tt/,"AM/PM").replace(/t/,"A/P").replace(/M+/gi,function(n){return n.toLowerCase()}).replace(/g+y+/gi,function(n){return n.substring(0,n.indexOf("y"))+"e"}),/FY|Q/i.test(e)?"General":e},s.toXlsxNumberFormat=function(t){var e,n,i,r=t?t.toLowerCase():"";if(/^[ncpfdgex]\d*.*,*$/.test(r)&&(n=this._formatMap[e=r[0]]),"x"===e)return"";if(n){var o=r.split(",");if("c"===e){var a=u.culture.Globalize.numberFormat.currency,d=t?t.match(/([a-z])(\d*)(,*)(.*)/i):null,p=d&&d[4]?d[4]:a.symbol;"\u200b"===p&&(p="");var v=this._formatMap.n,M=a.pattern,T=M[0].replace("n",v).replace("$","{1}"),k=M[1].replace("n",v).replace("$","{1}");")"===T[T.length-1]&&(k+="_)"),n=(n=k+";"+T).replace(/\{1\}/g,p)}var L=-1;r.length>1?L=parseInt(o[0].substr(1)):"d"!==e&&(L="e"===e?6:2);var Y="";if(!isNaN(L))for(var ce=0;ce<L;ce++)Y+="0";for(ce=0;ce<o.length-1;ce++)Y+=",";i=n.replace(/\{0\}/g,Y.length>0?"d"===e?Y:(!isNaN(L)&&L>0?".":"")+Y:"d"===e?"0":"")}else i=r;return i},s.fromXlsxFormat=function(t){var e,n,i,r,o,a,d,p,v,M=[],T=u.culture.Globalize.numberFormat.currency.symbol;if(!t||"General"===t)return[""];for(n=(t=t.replace(/;@/g,"").replace(/&quot;?/g,"")).split(";"),r=0;r<n.length;r++){if(/[hsmy\:]/i.test(i=n[r]))e=this._fromXlsxDateFormat(i);else if(a=i.lastIndexOf("."),d=i.lastIndexOf("0"),p=i.lastIndexOf(","),i.search(/\[\$([^\-\]]+)[^\]]*\]/)>-1||i.indexOf(T)>-1&&-1===i.search(/\[\$([\-\]]+)[^\]]*\]/)?e="c":"%"===i[t.length-1]?e="p":i.search("E+")>0?(e="e",d=i.lastIndexOf("E")-1):e="n",e+=a>-1&&a<d?i.substring(a,d).length:"0",/^0+,*$/.test(i)&&(e="d"+((d=i.lastIndexOf("0"))+1)),p>-1&&d>-1&&d<p)for(v=i.substring(d+1,p+1).split(""),o=0;o<v.length;o++)e+=",";M.push(e)}return M},s._fromXlsxDateFormat=function(t){return t.replace(/\[\$\-.+\]/g,"").replace(/(\\)(.)/g,"$2").replace(/H+/g,function(e){return e.toLowerCase()}).replace(/m+/g,function(e){return e.toUpperCase()}).replace(/S+/g,function(e){return e.toLowerCase()}).replace(/AM\/PM/gi,"tt").replace(/A\/P/gi,"t").replace(/\.000/g,".fff").replace(/\.00/g,".ff").replace(/\.0/g,".f").replace(/\\[\-\s,]/g,function(e){return e.substring(1)}).replace(/Y+/g,function(e){return e.toLowerCase()}).replace(/D+/g,function(e){return e.toLowerCase()}).replace(/M+:?|:?M+/gi,function(e){return e.indexOf(":")>-1?e.toLowerCase():e}).replace(/g+e/gi,function(e){return e.substring(0,e.length-1)+"yy"})},s._parseCellFormat=function(t,e){return e?this.toXlsxDateFormat(t):this.toXlsxNumberFormat(t)},s._parseExcelFormat=function(t){if(null!=t){var e=t&&t.style&&t.style.format;if((null!=t.value||e)&&!isNaN(t.value)){var n=(0,u.isNumber)(t.value);return!n||e&&"General"!==e?t.isDate||(0,u.isDate)(t.value)||n||""===t.value||t.isNumber?this.fromXlsxFormat(e)[0]:e:(0,u.isInt)(t.value)?"d":"f2"}}},s.xlsxAddress=function(t,e,n,i,r){var o=n?"$":"",a=null==i?o:i?"$":"";return!0===r?"":(isNaN(e)?"":a+this._numAlpha(e))+(!1===r||isNaN(t)?"":o+(t+1).toString())},s.tableAddress=function(t){var e=t&&/^((\$?)([A-Za-z]+))?((\$?)(\d+))?$/.exec(t),n={};return e?(e[3]&&(n.col=this._alphaNum(e[3]),n.absCol=!!e[2]),e[6]&&(n.row=+e[6]-1,n.absRow=!!e[5]),n):null},s._parseHAlignToString=function(t){switch(t){case ci.Left:return"left";case ci.Center:return"center";case ci.Right:return"right";case ci.Justify:return"justify";default:return"general"}},s._parseStringToHAlign=function(t){var e=t?t.toLowerCase():"";return"left"===e?ci.Left:"center"===e?ci.Center:"right"===e?ci.Right:"justify"===e?ci.Justify:ci.General},s._parseVAlignToString=function(t){switch(t){case fr.Bottom:return"bottom";case fr.Center:return"center";case fr.Top:return"top";default:return null}},s._parseStringToVAlign=function(t){var e=t?t.toLowerCase():"";return"top"===e?fr.Top:"center"===e?fr.Center:"bottom"===e?fr.Bottom:null},s._parseBorderTypeToString=function(t){switch(t){case ji.Dashed:return"dashed";case ji.Dotted:return"dotted";case ji.Double:return"double";case ji.Hair:return"hair";case ji.Medium:return"medium";case ji.MediumDashDotDotted:return"mediumDashDotDot";case ji.MediumDashDotted:return"mediumDashDot";case ji.MediumDashed:return"mediumDashed";case ji.SlantedMediumDashDotted:return"slantDashDot";case ji.Thick:return"thick";case ji.Thin:return"thin";case ji.ThinDashDotDotted:return"dashDotDot";case ji.ThinDashDotted:return"dashDot";default:return"none"}},s._parseStringToBorderType=function(t){return"dashed"===t?ji.Dashed:"dotted"===t?ji.Dotted:"double"===t?ji.Double:"hair"===t?ji.Hair:"medium"===t?ji.Medium:"mediumDashDotDot"===t?ji.MediumDashDotDotted:"mediumDashDot"===t?ji.MediumDashDotted:"mediumDashed"===t?ji.MediumDashed:"slantDashDot"===t?ji.SlantedMediumDashDotted:"thick"===t?ji.Thick:"thin"===t?ji.Thin:"dashDotDot"===t?ji.ThinDashDotDotted:"dashDot"===t?ji.ThinDashDotted:null},s._escapeXML=function(t){return"string"==typeof t?t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):""},s._unescapeXML=function(t){return"string"==typeof t?t.indexOf("&")>=0?t.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#x27;/g,"'").replace(/&#x2F;/g,"/").replace(/&amp;/g,"&"):t:""},s._numAlpha=function(t){var e=Math.floor(t/26)-1;return(e>-1?this._numAlpha(e):"")+this._alphabet.charAt(t%26)},s._alphaNum=function(t){var e=0;return t&&(t=t.toUpperCase()),2===t.length&&(e=this._alphaNum(t.charAt(0))+1),26*e+this._alphabet.indexOf(t.substr(-1))},s.prototype._serializeWorkSheets=function(){var t,e,n=[];for(e=0;e<this._sheets.length;e++)(t=this._sheets[e])&&(n[e]=t._serialize());return n},s.prototype._serializeWorkbookStyles=function(){var t,e,n=[];for(e=0;e<this._styles.length;e++)(t=this._styles[e])&&(n[e]=t._serialize());return n},s.prototype._serializeDefinedNames=function(){var t,e,n=[];for(e=0;e<this._definedNames.length;e++)(t=this._definedNames[e])&&(n[e]=t._serialize());return n},s.prototype._serializeTableStyles=function(){var t,e,n=[];for(e=0;e<this._tableStyles.length;e++)(t=this._tableStyles[e])&&(n[e]=t._serialize());return n},s.prototype._deserializeWorkSheets=function(t){var e,n,i;for(this._sheets=[],(0,u.assert)(null!=t,"workSheets should not be null."),i=0;i<t.length;i++)(n=t[i])&&((e=new Xi)._deserialize(n),this._sheets[i]=e)},s.prototype._deserializeWorkbookStyles=function(t){var e,n,i;for(this._styles=[],i=0;i<t.length;i++)(n=t[i])&&((e=new so)._deserialize(n),this._styles[i]=e)},s.prototype._deserializeDefinedNames=function(t){var e,n,i;for(this._definedNames=[],i=0;i<t.length;i++)(n=t[i])&&((e=new Xa)._deserialize(n),this._definedNames[i]=e)},s.prototype._deserializeTableStyles=function(t){var e,n,i;for(this._tableStyles=[],i=0;i<t.length;i++)(n=t[i])&&((e=new Ms)._deserialize(n),this._tableStyles[i]=e)},s._alphabet="ABCDEFGHIJKLMNOPQRSTUVWXYZ",s._formatMap={n:"#,##0{0}",c:"{1}#,##0{0}_);({1}#,##0{0})",e:"0{0}E+0",p:"#,##0{0}%",f:"0{0}",d:"{0}",g:"0{0}"},s}(),Xi=function(){function s(){}return Object.defineProperty(s.prototype,"columns",{get:function(){return null==this._columns&&(this._columns=[]),this._columns},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"rows",{get:function(){return null==this._rows&&(this._rows=[]),this._rows},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"tables",{get:function(){return null==this._tables&&(this._tables=[]),this._tables},enumerable:!0,configurable:!0}),s.prototype._serialize=function(){if(this._checkEmptyWorkSheet())return null;var t={};return this.style&&(t.style=this.style._serialize()),this._columns&&this._columns.length>0&&(t.columns=this._serializeWorkbookColumns()),this._rows&&this._rows.length>0&&(t.rows=this._serializeWorkbookRows()),this.frozenPane&&(t.frozenPane=this.frozenPane._serialize()),this.name&&(t.name=this.name),null!=this.summaryBelow&&(t.summaryBelow=this.summaryBelow),null!=this.visible&&(t.visible=this.visible),this._tables&&this._tables.length>0&&(t.tables=this._serializeTables()),this._extraColumn&&(t._extraColumn=this._extraColumn._serialize()),t.rightToLeft=this.rightToLeft,t},s.prototype._deserialize=function(t){var e,n;t.style&&((n=new so)._deserialize(t.style),this.style=n),t.columns&&t.columns.length>0&&this._deserializeWorkbookColumns(t.columns),t.rows&&t.rows.length>0&&this._deserializeWorkbookRows(t.rows),t.frozenPane&&((e=new oo)._deserialize(t.frozenPane),this.frozenPane=e),this.name=t.name,this.summaryBelow=t.summaryBelow,this.visible=t.visible,t.tables&&t.tables.length>0&&this._deserializeTables(t.tables),t._extraColumn&&(this._extraColumn=new Si,this._extraColumn._deserialize(t._extraColumn)),this.rightToLeft=t.rightToLeft},s.prototype._addWorkbookColumn=function(t,e){null==this._columns&&(this._columns=[]),null==e||isNaN(e)?this._columns.push(t):this._columns[e]=t},s.prototype._addWorkbookRow=function(t,e){null==this._rows&&(this._rows=[]),null==e||isNaN(e)?this._rows.push(t):this._rows[e]=t},s.prototype._serializeWorkbookColumns=function(){var t,e,n=[];for(e=0;e<this._columns.length;e++)(t=this._columns[e])&&(n[e]=t._serialize());return n},s.prototype._serializeWorkbookRows=function(){var t,e,n=[];for(e=0;e<this._rows.length;e++)(t=this._rows[e])&&(n[e]=t._serialize());return n},s.prototype._serializeTables=function(){var t,e,n=[];for(e=0;e<this._tables.length;e++)(t=this._tables[e])&&(n[e]=t._serialize());return n},s.prototype._deserializeWorkbookColumns=function(t){var e,n,i;for(this._columns=[],i=0;i<t.length;i++)(e=t[i])&&((n=new yi)._deserialize(e),this._columns[i]=n)},s.prototype._deserializeWorkbookRows=function(t){var e,n,i;for(this._rows=[],i=0;i<t.length;i++)(e=t[i])&&((n=new er)._deserialize(e),this._rows[i]=n)},s.prototype._deserializeTables=function(t){var e,n,i;for(this._tables=[],i=0;i<t.length;i++)(n=t[i])&&((e=new Fa)._deserialize(n),this._tables[i]=e)},s.prototype._checkEmptyWorkSheet=function(){return!(null!=this._rows||null!=this._columns||null!=this.visible||null!=this.summaryBelow||null!=this.frozenPane||null!=this.style||null!=this.name&&""!==this.name||null!=this._tables&&0!=this._tables.length)},s}(),yi=function(){function s(){}return s.prototype._serialize=function(){var t;return this._checkEmptyWorkbookColumn()?null:(t={},this.style&&(t.style=this.style._serialize()),null!=this.autoWidth&&(t.autoWidth=this.autoWidth),null!=this.width&&(t.width=this.width),null!=this.visible&&(t.visible=this.visible),t)},s.prototype._deserialize=function(t){var e;t.style&&((e=new so)._deserialize(t.style),this.style=e),this.autoWidth=t.autoWidth,this.visible=t.visible,this.width=t.width},s.prototype._checkEmptyWorkbookColumn=function(){return null==this.style&&null==this.width&&null==this.autoWidth&&null==this.visible},s}(),Si=function(s){function t(){return s.call(this)||this}return Gn(t,s),t.prototype._serialize=function(){var e=s.prototype._serialize.call(this);return e.min=this.min,e.max=this.max,e},t.prototype._deserialize=function(e){s.prototype._deserialize.call(this,e),this.min=e.min,this.max=e.max},t}(yi),er=function(){function s(){}return Object.defineProperty(s.prototype,"cells",{get:function(){return null==this._cells&&(this._cells=[]),this._cells},enumerable:!0,configurable:!0}),s.prototype._serialize=function(){var t;return this._checkEmptyWorkbookRow()?null:(t={},this._cells&&this._cells.length>0&&(t.cells=this._serializeWorkbookCells()),this.style&&(t.style=this.style._serialize()),null!=this.collapsed&&(t.collapsed=this.collapsed),null==this.groupLevel||isNaN(this.groupLevel)||(t.groupLevel=this.groupLevel),null==this.height||isNaN(this.height)||(t.height=this.height),null!=this.visible&&(t.visible=this.visible),t)},s.prototype._deserialize=function(t){var e;t.cells&&t.cells.length>0&&this._deserializeWorkbookCells(t.cells),t.style&&((e=new so)._deserialize(t.style),this.style=e),this.collapsed=t.collapsed,this.groupLevel=t.groupLevel,this.height=t.height,this.visible=t.visible},s.prototype._addWorkbookCell=function(t,e){null==this._cells&&(this._cells=[]),null==e||isNaN(e)?this._cells.push(t):this._cells[e]=t},s.prototype._serializeWorkbookCells=function(){var t,e,n=[];for(e=0;e<this._cells.length;e++)(t=this._cells[e])&&(n[e]=t._serialize());return n},s.prototype._deserializeWorkbookCells=function(t){var e,n,i;for(this._cells=[],i=0;i<t.length;i++)(e=t[i])&&((n=new Dr)._deserialize(e),this._cells[i]=n)},s.prototype._checkEmptyWorkbookRow=function(){return null==this._cells&&null==this.style&&null==this.collapsed&&null==this.visible&&(null==this.height||isNaN(this.height))&&(null==this.groupLevel||isNaN(this.groupLevel))},s}(),Dr=function(){function s(){}return s.prototype._serialize=function(){var t;return this._checkEmptyWorkbookCell()?null:(t={},this.style&&(t.style=this.style._serialize()),null!=this.value&&(t.value=this.value),this.formula&&(t.formula=this.formula),null!=this.isDate&&(t.isDate=this.isDate),null!=this.isNumber&&(t.isNumber=this.isNumber),null!=this.colSpan&&!isNaN(this.colSpan)&&this.colSpan>1&&(t.colSpan=this.colSpan),null!=this.rowSpan&&!isNaN(this.rowSpan)&&this.rowSpan>1&&(t.rowSpan=this.rowSpan),this.link&&(t.link=this.link),t.textRuns=Ji.serialize(this.textRuns),this.note&&(t.note=this.note._serialize()),t)},s.prototype._deserialize=function(t){var e;t.style&&((e=new so)._deserialize(t.style),this.style=e),this.value=t.value,this.formula=t.formula,this.isDate=t.isDate,this.isNumber=t.isNumber,this.colSpan=t.colSpan,this.rowSpan=t.rowSpan,this.link=t.link,this.textRuns=Ji.deserialize(t.textRuns),t.note&&(this.note=new Zr,this.note._deserialize(t.note))},s.prototype._checkEmptyWorkbookCell=function(){return null==this.style&&null==this.value&&null==this.isDate&&null==this.isNumber&&(null==this.formula||""===this.formula)&&(null==this.colSpan||isNaN(this.colSpan)||this.colSpan<=1)&&(null==this.rowSpan||isNaN(this.rowSpan)||this.rowSpan<=1)&&(null==this.link||""===this.link)},s}(),Zr=function(){function s(){}return s.prototype._serialize=function(){if(!(null!=this.text||this.textRuns&&this.textRuns.length))return null;var t={};return null!=this.author&&(t.author=this.author),null!=this.text&&(t.text=this.text),t.textRuns=Ji.serialize(this.textRuns),null!=this.visible&&(t.visible=this.visible),null!=this.offsetX&&(t.offsetX=this.offsetX),null!=this.offsetY&&(t.offsetY=this.offsetY),null!=this.width&&(t.width=this.width),null!=this.height&&(t.height=this.height),t},s.prototype._deserialize=function(t){this.author=t.author,this.text=t.text,this.textRuns=Ji.deserialize(t.textRuns),this.visible=t.visible,this.offsetX=t.offsetX,this.offsetY=t.offsetY,this.width=t.width,this.height=t.height},s}(),oo=function(){function s(){}return s.prototype._serialize=function(){return null!=this.columns&&!isNaN(this.columns)&&0!==this.columns||null!=this.rows&&!isNaN(this.rows)&&0!==this.rows?{columns:this.columns,rows:this.rows}:null},s.prototype._deserialize=function(t){this.columns=t.columns,this.rows=t.rows},s}(),so=function(){function s(){}return s.prototype._serialize=function(){var t;return this._checkEmptyWorkbookStyle()?null:(t={},this.basedOn&&(t.basedOn=this.basedOn._serialize()),this.fill&&(t.fill=this.fill._serialize()),this.font&&(t.font=this.font._serialize()),this.borders&&(t.borders=this.borders._serialize()),this.format&&(t.format=this.format),null!=this.hAlign&&(t.hAlign=(0,u.asEnum)(this.hAlign,ci,!1)),null!=this.vAlign&&(t.vAlign=(0,u.asEnum)(this.vAlign,fr,!1)),null==this.indent||isNaN(this.indent)||(t.indent=this.indent),this.wordWrap&&(t.wordWrap=this.wordWrap),t)},s.prototype._deserialize=function(t){var e,n,i,r;t.basedOn&&((e=new s)._deserialize(t.basedOn),this.basedOn=e),t.fill&&((n=new Ns)._deserialize(t.fill),this.fill=n),t.font&&((i=new Po)._deserialize(t.font),this.font=i),t.borders&&((r=new ba)._deserialize(t.borders),this.borders=r),this.format=t.format,null!=t.hAlign&&(this.hAlign=(0,u.asEnum)(t.hAlign,ci,!1)),null!=t.vAlign&&(this.vAlign=(0,u.asEnum)(t.vAlign,fr,!1)),null==t.indent||isNaN(t.indent)||(this.indent=t.indent),t.wordWrap&&(this.wordWrap=t.wordWrap)},s.prototype._checkEmptyWorkbookStyle=function(){return null==this.basedOn&&null==this.fill&&null==this.font&&null==this.borders&&(null==this.format||""===this.format)&&null==this.hAlign&&null==this.vAlign&&null==this.wordWrap},s}(),Po=function(){function s(){}return s.prototype._serialize=function(){var t;return this._checkEmptyWorkbookFont()?null:(t={},null!=this.bold&&(t.bold=this.bold),null!=this.italic&&(t.italic=this.italic),null!=this.underline&&(t.underline=this.underline),this.color&&(t.color=this.color),this.family&&(t.family=this.family),null==this.size||isNaN(this.size)||(t.size=this.size),t)},s.prototype._deserialize=function(t){this.bold=t.bold,null!=t.color&&(this.color=t.color),this.family=t.family,this.italic=t.italic,this.size=t.size,this.underline=t.underline},s.prototype._checkEmptyWorkbookFont=function(){return null==this.bold&&null==this.italic&&null==this.underline&&(null==this.color||""===this.color)&&(null==this.family||""===this.family)&&(null==this.size||isNaN(this.size))},s}(),Ns=function(){function s(){}return s.prototype._serialize=function(){return this.color?{color:this.color}:null},s.prototype._deserialize=function(t){null!=t.color&&(this.color=t.color)},s}(),ba=function(){function s(){}return s.prototype._serialize=function(){var t;return this._checkEmptyWorkbookBorder()?null:(t={},this.top&&(t.top=this.top._serialize()),this.bottom&&(t.bottom=this.bottom._serialize()),this.left&&(t.left=this.left._serialize()),this.right&&(t.right=this.right._serialize()),this.diagonal&&(t.diagonal=this.diagonal._serialize()),t)},s.prototype._deserialize=function(t){var e,n,i,r,o;t.top&&((e=new Qo)._deserialize(t.top),this.top=e),t.bottom&&((n=new Qo)._deserialize(t.bottom),this.bottom=n),t.left&&((i=new Qo)._deserialize(t.left),this.left=i),t.right&&((r=new Qo)._deserialize(t.right),this.right=r),t.diagonal&&((o=new Qo)._deserialize(t.diagonal),this.diagonal=o)},s.prototype._checkEmptyWorkbookBorder=function(){return null==this.top&&null==this.bottom&&null==this.left&&null==this.right&&null==this.diagonal},s}(),Qo=function(){function s(){}return s.prototype._serialize=function(){var t;return null!=this.color&&""!==this.color||null!=this.style?(t={},this.color&&(t.color=this.color),null!=this.style&&(t.style=(0,u.asEnum)(this.style,ji,!1)),t):null},s.prototype._deserialize=function(t){(null!=t.color||null!=t.style)&&(this.color=t.color,null!=t.style&&(this.style=(0,u.asEnum)(t.style,ji,!1)))},s}(),Xa=function(){function s(){}return s.prototype._serialize=function(){var t;return null==this.name?null:(t={name:this.name,value:this.value},null!=this.sheetName&&(t.sheetName=this.sheetName),t)},s.prototype._deserialize=function(t){this.name=t.name,this.value=t.value,this.sheetName=t.sheetName},s}(),Fa=function(){function s(){}return Object.defineProperty(s.prototype,"columns",{get:function(){return null==this._columns&&(this._columns=[]),this._columns},enumerable:!0,configurable:!0}),s.prototype._serialize=function(){var t,e;return null==this.name||null==this.range||null==this._columns?null:(null!=this.style&&(e=this.style._serialize()),(t={name:this.name,range:this.range,showHeaderRow:this.showHeaderRow,showTotalRow:this.showTotalRow,style:e,showBandedColumns:this.showBandedColumns,showBandedRows:this.showBandedRows,alterFirstColumn:this.alterFirstColumn,alterLastColumn:this.alterLastColumn,columns:[]}).columns=this._serializeTableColumns(),t)},s.prototype._deserialize=function(t){var e;this.name=t.name,this.range=t.range,this.showHeaderRow=t.showHeaderRow,this.showTotalRow=t.showTotalRow,null!=t.style&&((e=new Ms)._deserialize(t.style),this.style=e),this.showBandedColumns=t.showBandedColumns,this.showBandedRows=t.showBandedRows,this.alterFirstColumn=t.alterFirstColumn,this.alterLastColumn=t.alterLastColumn,this._deserializeTableColumns(t.columns)},s.prototype._serializeTableColumns=function(){var t,e,n=[];for(e=0;e<this._columns.length;e++)(t=this._columns[e])&&(n[e]=t._serialize());return n},s.prototype._deserializeTableColumns=function(t){var e,n,i;for((0,u.assert)(null!=t,"table Columns should not be null."),this._columns=[],i=0;i<t.length;i++)(n=t[i])&&((e=new vo)._deserialize(n),this._columns[i]=e)},s}(),vo=function(){function s(){}return s.prototype._serialize=function(){return null==this.name?null:{name:this.name,totalRowLabel:this.totalRowLabel,totalRowFunction:this.totalRowFunction,showFilterButton:this.showFilterButton}},s.prototype._deserialize=function(t){this.name=t.name,this.totalRowLabel=t.totalRowLabel,this.totalRowFunction=t.totalRowFunction,this.showFilterButton=t.showFilterButton},s}(),Ms=function(){function s(){}return s.prototype._serialize=function(){var t;return this._checkEmptyWorkbookTableStyle()?null:(t={name:this.name},this.wholeTableStyle&&(t.wholeTableStyle=this.wholeTableStyle._serialize()),this.firstBandedColumnStyle&&(t.firstBandedColumnStyle=this.firstBandedColumnStyle._serialize()),this.firstBandedRowStyle&&(t.firstBandedRowStyle=this.firstBandedRowStyle._serialize()),this.secondBandedColumnStyle&&(t.secondBandedColumnStyle=this.secondBandedColumnStyle._serialize()),this.secondBandedRowStyle&&(t.secondBandedRowStyle=this.secondBandedRowStyle._serialize()),this.headerRowStyle&&(t.headerRowStyle=this.headerRowStyle._serialize()),this.totalRowStyle&&(t.totalRowStyle=this.totalRowStyle._serialize()),this.firstColumnStyle&&(t.firstColumnStyle=this.firstColumnStyle._serialize()),this.lastColumnStyle&&(t.lastColumnStyle=this.lastColumnStyle._serialize()),this.firstHeaderCellStyle&&(t.firstHeaderCellStyle=this.firstHeaderCellStyle._serialize()),this.lastHeaderCellStyle&&(t.lastHeaderCellStyle=this.lastHeaderCellStyle._serialize()),this.firstTotalCellStyle&&(t.firstTotalCellStyle=this.firstTotalCellStyle._serialize()),this.lastTotalCellStyle&&(t.lastTotalCellStyle=this.lastTotalCellStyle._serialize()),t)},s.prototype._deserialize=function(t){this.name=t.name,t.wholeTableStyle&&(this.wholeTableStyle=new is,this.wholeTableStyle._deserialize(t.wholeTableStyle)),t.firstBandedColumnStyle&&(this.firstBandedColumnStyle=new wa,this.firstBandedColumnStyle._deserialize(t.firstBandedColumnStyle)),t.firstBandedRowStyle&&(this.firstBandedRowStyle=new wa,this.firstBandedRowStyle._deserialize(t.firstBandedRowStyle)),t.secondBandedColumnStyle&&(this.secondBandedColumnStyle=new wa,this.secondBandedColumnStyle._deserialize(t.secondBandedColumnStyle)),t.secondBandedRowStyle&&(this.secondBandedRowStyle=new wa,this.secondBandedRowStyle._deserialize(t.secondBandedRowStyle)),t.headerRowStyle&&(this.headerRowStyle=new is,this.headerRowStyle._deserialize(t.headerRowStyle)),t.totalRowStyle&&(this.totalRowStyle=new is,this.totalRowStyle._deserialize(t.totalRowStyle)),t.firstColumnStyle&&(this.firstColumnStyle=new is,this.firstColumnStyle._deserialize(t.firstColumnStyle)),t.lastColumnStyle&&(this.lastColumnStyle=new is,this.lastColumnStyle._deserialize(t.lastColumnStyle)),t.firstHeaderCellStyle&&(this.firstHeaderCellStyle=new is,this.firstHeaderCellStyle._deserialize(t.firstHeaderCellStyle)),t.lastHeaderCellStyle&&(this.lastHeaderCellStyle=new is,this.lastHeaderCellStyle._deserialize(t.lastHeaderCellStyle)),t.firstTotalCellStyle&&(this.firstTotalCellStyle=new is,this.firstTotalCellStyle._deserialize(t.firstTotalCellStyle)),t.lastTotalCellStyle&&(this.lastTotalCellStyle=new is,this.lastTotalCellStyle._deserialize(t.lastTotalCellStyle))},s.prototype._checkEmptyWorkbookTableStyle=function(){return null==this.name||null==this.wholeTableStyle&&null==this.firstBandedColumnStyle&&null==this.firstBandedRowStyle&&null==this.secondBandedColumnStyle&&null==this.secondBandedRowStyle&&null==this.headerRowStyle&&null==this.totalRowStyle&&null==this.firstColumnStyle&&null==this.lastColumnStyle&&null==this.firstHeaderCellStyle&&null==this.lastHeaderCellStyle&&null==this.firstTotalCellStyle&&null==this.lastTotalCellStyle},s}(),is=function(s){function t(){return s.call(this)||this}return Gn(t,s),t.prototype._deserialize=function(e){var n;s.prototype._deserialize.call(this,e),e.borders&&((n=new Tl)._deserialize(e.borders),this.borders=n)},t}(so),wa=function(s){function t(){return s.call(this)||this}return Gn(t,s),t.prototype._serialize=function(){var e;return(e=s.prototype._serialize.call(this)).size=this.size,e},t.prototype._deserialize=function(e){s.prototype._deserialize.call(this,e),null!=e.size&&(this.size=e.size)},t}(is),Tl=function(s){function t(){return s.call(this)||this}return Gn(t,s),t.prototype._serialize=function(){var e;return null!=(e=s.prototype._serialize.call(this))||this.vertical&&this.horizontal||(e={}),this.vertical&&(e.vertical=this.vertical._serialize()),this.horizontal&&(e.horizontal=this.horizontal._serialize()),e},t.prototype._deserialize=function(e){var n,i;s.prototype._deserialize.call(this,e),e.vertical&&((n=new Qo)._deserialize(e.vertical),this.vertical=n),e.horizontal&&((i=new Qo)._deserialize(e.horizontal),this.horizontal=i)},t}(ba),tc=function(){function s(){}return s.prototype._serialize=function(){var t={text:this.text};return this.font&&(t.font=this.font._serialize()),t},s.prototype._deserialize=function(t){t.font&&(this.font=new Po,this.font._deserialize(t.font)),this.text=t.text},s}(),Yi=function(){function s(){}return s.toArray=function(t){for(var e=atob(t),n=e.length,i=new Uint8Array(n),r=0;r<n;r++)i[r]=e.charCodeAt(r);return i},s}(),Ji=function(){function s(){}return s.deserialize=function(t){return t&&t.length?t.map(function(e){var n=new tc;return n._deserialize(e),n}):null},s.serialize=function(t){return t&&t.length?t.map(function(e){return e._serialize()}):null},s}();!function(s){s[s.General=0]="General",s[s.Left=1]="Left",s[s.Center=2]="Center",s[s.Right=3]="Right",s[s.Fill=4]="Fill",s[s.Justify=5]="Justify"}(ci||(ci={})),function(s){s[s.Top=0]="Top",s[s.Center=1]="Center",s[s.Bottom=2]="Bottom",s[s.Justify=3]="Justify"}(fr||(fr={})),function(s){s[s.Context=0]="Context",s[s.LeftToRight=1]="LeftToRight",s[s.RightToLeft=2]="RightToLeft"}(zo||(zo={})),function(s){s[s.Horizontal=0]="Horizontal",s[s.Vertical=1]="Vertical",s[s.RotateUp=2]="RotateUp",s[s.RotateDown=3]="RotateDown"}(ea||(ea={})),function(s){s[s.None=0]="None",s[s.Thin=1]="Thin",s[s.Medium=2]="Medium",s[s.Dashed=3]="Dashed",s[s.Dotted=4]="Dotted",s[s.Thick=5]="Thick",s[s.Double=6]="Double",s[s.Hair=7]="Hair",s[s.MediumDashed=8]="MediumDashed",s[s.ThinDashDotted=9]="ThinDashDotted",s[s.MediumDashDotted=10]="MediumDashDotted",s[s.ThinDashDotDotted=11]="ThinDashDotDotted",s[s.MediumDashDotDotted=12]="MediumDashDotDotted",s[s.SlantedMediumDashDotted=13]="SlantedMediumDashDotted"}(ji||(ji={}));var Ws=Cn();function bs(s){Ws=s}var il=function(){function s(){}return s.load=function(t,e){void 0===e&&(e=!0);var n=new Ws;(0,u.assert)(null==n.loadAsync,"Please use JSZip 2.5 to load excel files synchronously.");var i,r=new Us(n);return this._loadImpl(r,t,e).then(function(o){return i=o}),i},s.loadAsync=function(t,e){void 0===e&&(e=!0);var n=new Ws;return(0,u.assert)(null!=n.loadAsync,"Please use JSZip 3.0 to load excel files asynchrounously."),this._loadImpl(n,t,e)},s.save=function(t){var e,i,n=Date.now();this._saveWorkbookToZip(t,null,!1).then(function(a){return e=a}),n=Date.now()-n,i=this._macroEnabled?"application/vnd.ms-excel.sheet.macroEnabled.12;":"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;";var r=Date.now(),o=e.generate({compression:"DEFLATE"});return{base64:o,zipTime:Date.now()-r,processTime:n,href:function(){return"data:"+i+"base64,"+o}}},s.saveAsync=function(t,e,n,i){var r=new ta(e);return(0,u.isFunction)(i)&&i(0),this._saveWorkbookToZip(t,e,!0,function(o){(0,u.isFunction)(i)&&i(Math.round(aa(o,0,100,0,90)))}).then(function(o){(0,u.isFunction)(i)&&i(91);var a=o.generateAsync({type:"base64",compression:"DEFLATE"});a.catch(function(d){n&&n(d),r.reject(d)}),a.then(function(d){e&&e.cancelled?r.cancel():((0,u.isFunction)(i)&&i(100),r.resolve(d))})},function(o){r.reject(o)}),r},s._loadImpl=function(t,e,n){var i,r=this,o=this,a=Date.now(),d={sheets:[]},p=t.loadAsync(e,{base64:(0,u.isString)(e)}).then(function(M){return i=M});e=null;var v=p.constructor;return(p=(p=(p=(p=(p=(p=(p=(p=p.then(function(){var M=i.file("xl/theme/theme1.xml");if(M)return M.async("string").then(function(T){o._getTheme(T),d.colorThemes=o._colorThemes})})).then(function(){var M=i.file("xl/styles.xml");if(M)return M.async("string").then(function(T){o._getStyle(T,n),n&&(d.styles=o._styles,null!=o._tableStyles&&(d.tableStyles=o._tableStyles))})})).then(function(){var M=i.file("xl/sharedStrings.xml");if(M)return M.async("string").then(function(T){o._getSharedString(T)})})).then(function(){var M=i.file("xl/workbook.xml");if(M)return M.async("string").then(function(T){o._getWorkbook(T,d)})})).then(function(){o._tables=null;var M=v.resolve();return i.folder("xl/tables").forEach(function(T,k){null==o._tables&&(o._tables=[]),M=M.then(function(){return k.async("string").then(function(L){var Y=o._getTable(L);Y.fileName=k.name.substring(k.name.lastIndexOf("/")+1),o._tables.push(Y)})})}),M})).then(function(){var M=i.file("docProps/core.xml");if(M)return M.async("string").then(function(T){o._getCoreSetting(T,d)})})).then(function(){var M=i.file("xl/vbaProject.bin");if(M)return M.async("uint8array").then(function(T){null==d.reservedContent&&(d.reservedContent={}),d.reservedContent.macros=T})})).then(function(){var M=v.resolve();return i.folder("xl/worksheets").forEach(function(T,k){if(T&&-1===T.indexOf("/")){var L=o._getSheetIndex(k.name);isNaN(L)||(M=M.then(function(){return k.async("string").then(function(Y){o._getSheet(Y,L-1,d,n);var ce=i.file("xl/worksheets/_rels/sheet"+L+".xml.rels");if(ce)return ce.async("string").then(function(ae){for(var Ee,Me,ze=ae.split("<Relationship "),st=ze.length;--st;){var xt=ze[st],yt=o._getAttr(xt,"Id");if(d.sheets[L-1].tableRIds&&-1!==d.sheets[L-1].tableRIds.indexOf(yt))null==d.sheets[L-1].tables&&(d.sheets[L-1].tables=[]),d.sheets[L-1].tables.push(o._getSheetRelatedTable(xt));else if(d.sheets[L-1].hyperlinkRIds)o._getSheetRelatedHyperlink(xt,yt,d.sheets[L-1]);else{var St=o._getAttr(xt,"Type");/\/comments$/.test(St)?Ee={id:o._getAttr(xt,"Id"),target:o._getAttr(xt,"Target")}:/\/vmlDrawing$/.test(St)&&(Me={id:o._getAttr(xt,"Id"),target:o._getAttr(xt,"Target")})}}if(Ee&&Me)return Dt=d.sheets[L-1],Nt=v.resolve(),o._readNotes(Dt,Ee,Me,i,Nt).then(function(){});var Dt,Nt})})}))}}),M})).then(function(){return d.processTime=Date.now()-a,i=null,r._sharedStrings=null,r._colorThemes=null,r._styles=null,r._sharedFormulas=null,r._borders=null,r._fonts=null,r._fills=null,r._contentTypes=null,r._props=null,r._xlRels=null,r._worksheets=null,r._tableStyles=null,r._dxfs=null,r._tables=null,r._notes=null,d})},s._readNotes=function(t,e,n,i,r){var o=this,a=function(p){return p&&p.replace(/^..\//,"xl/")},d=i.file(a(e.target));return d&&(r=r.then(function(){return d.async("string").then(function(p){for(var v=p.substring(p.indexOf("<authors>"),p.indexOf("</authors>")).split("<author>"),M=[],T=1;T<v.length;T++)M.push(v[T].substring(0,v[T].indexOf("</author>")));for(v=p.substring(p.indexOf("<commentList>"),p.indexOf("</commentList>")).split("<comment "),T=1;T<v.length;T++){var k=s._getAttr(v[T],"ref"),L=o._alphaNum(k.match(/[a-zA-Z]*/g)[0]),Y=+k.match(/\d*/g).join("")-1,ce=v[T],ae=ce.substring(ce.indexOf("<text>")+6,ce.lastIndexOf("</text>")),Ee=o._extractTextRuns(ae),Me=t.rows[Y].cells[L];null==Me&&(t.rows[Y].cells[L]=Me={}),Me.note={author:M[s._getAttr(ce,"authorId")],textRuns:Ee,text:o._getTextOfTextRuns(Ee)}}var ze=i.file(a(n.target));if(ze)return ze.async("string").then(function(st){var xt={};st.substring(0,st.indexOf(">")).split("xmlns:").forEach(function(wn){wn.indexOf("vml")>=0?xt.vml=wn.substring(0,wn.indexOf("=")):wn.indexOf("office:office")>=0?xt.office=wn.substring(0,wn.indexOf("=")):wn.indexOf("office:excel")>=0&&(xt.excel=wn.substring(0,wn.indexOf("=")))});for(var yt=st.split("<"+xt.vml+":shape "),St=new ko(t),Dt=1;Dt<yt.length;Dt++){var Nt=yt[Dt],en=xt.excel+":ClientData",Rt=Nt.indexOf(en);if(Rt>0){var Kt=Nt.substring(Rt+=en.length+1,Nt.indexOf("</"+en,Rt));if("Note"===o._getAttr(Kt,"ObjectType")){var Vt=+o._getElementValue(Kt,xt.excel+":Row",null,null),jn=+o._getElementValue(Kt,xt.excel+":Column",null,null),_n=t.rows[Vt].cells[jn].note;(0,u.assert)(null!=_n,"No related note was found, row=${row}, col=${col}."),_n.visible=o._getElementValue(Kt,xt.excel+":Visible",!1,!0);var Wn=o._getElementValue(Kt,xt.excel+":Anchor",null,null).split(",").map(function(wn){return parseFloat(wn)});St.fromAnchor(Wn,_n,Vt,jn)}}}xt=null})})})),r},s._saveWorkbookToZip=function(t,e,n,i){var r=this,o=new Ws;n?(0,u.assert)(null!=o.generateAsync,"Please use JSZip 3.0 to save excel files asynchrounously."):(0,u.assert)(null==o.generateAsync,"Please use JSZip 2.5 to save excel files synchronously."),(0,u.isFunction)(i)&&i(0),o.folder("_rels").file(".rels",this._xmlDescription+this._generateRelsDoc());var a=o.folder("docProps"),d=o.folder("xl");this._colorThemes=t.colorThemes,d.folder("theme").file("theme1.xml",this._xmlDescription+this._generateThemeDoc()),this._macroEnabled=!(!t.reservedContent||!t.reservedContent.macros),this._macroEnabled&&d.file("vbaProject.bin",t.reservedContent.macros),a.file("core.xml",this._xmlDescription+this._generateCoreDoc(t)),this._sharedStrings=[[],0],this._styles=new Array(1),this._borders=new Array(1),this._fonts=new Array(1),this._fills=new Array(2),this._tableStyles=new Array,this._dxfs=new Array,this._contentTypes=[],this._props=[],this._xlRels=[],this._worksheets=[],this._tables=[],this._tableStyles=[],this._notes={};var p=new ta(e);return this._generateWorksheets(t,d,e,n,i).then(function(){r._writeNotes(t.sheets,d),d.file("styles.xml",r._xmlDescription+r._generateStyleDoc()),o.file("[Content_Types].xml",r._xmlDescription+r._generateContentTypesDoc(t)),a.file("app.xml",r._xmlDescription+r._generateAppDoc(t)),d.folder("_rels").file("workbook.xml.rels",r._xmlDescription+r._generateWorkbookRels());var v=r._xmlDescription+r._generateSharedStringsDoc();r._sharedStrings=[[],0],d.file("sharedStrings.xml",v),v=null,d.file("workbook.xml",r._xmlDescription+r._generateWorkbook(t)),(0,u.isFunction)(i)&&i(100),p.resolve(o)}),p},s._writeNotes=function(t,e){var n=this;t.forEach(function(i,r){var o=n._notes[r];o&&(e.folder("drawings").file("vmlDrawing"+(r+1)+".vml",function(a){var d='<xml xmlns:v="urn:schemas-microsoft-com:vml" xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel">\r\n';d+='<o:shapelayout v:ext="edit">\r\n',d+='<o:idmap v:ext="edit" data="1"/>\r\n',d+="</o:shapelayout>\r\n",d+='<v:shapetype id="_x0000_t202" coordsize="21600,21600" o:spt="202" path="m,l,21600r21600,l21600,xe">\r\n',d+='<v:stroke joinstyle="miter"/>\r\n',d+='<v:path gradientshapeok="t" o:connecttype="rect"/>\r\n',d+="</v:shapetype>\r\n";var p=1e3*(r+1)+50,v=new ko(a);return o.forEach(function(M,T){(0,u.assert)(M._row>=0&&M._col>=0,"Invalid cell's indicies.");var k=null==M.visible||!0===M.visible;d+='<v:shape id="_x0000_s'+p+++'" type="#_x0000_t202" style=\'position:absolute; visibility:'+(k?"visible":"hidden")+"; z-index:"+(T+1)+';\' fillcolor="infoBackground [80]" o:insetmode="auto">\r\n',d+='<v:fill color2="infoBackground [80]"/>\r\n',d+='<v:shadow color="none [81]" obscured="t"/>\r\n',d+='<v:path o:connecttype="none"/>\r\n',d+='<v:textbox style="mso-direction-alt:auto;" ',d+=">\r\n",d+='<div style="text-align:left;"></div>\r\n',d+="</v:textbox>\r\n",d+='<x:ClientData ObjectType="Note">\r\n',d+="<x:MoveWithCells/>\r\n",d+="<x:SizeWithCells/>\r\n",null==M.width&&(M.width=144),null==M.height&&(M.height=79),null==M.offsetX&&(M.offsetX=15),null==M.offsetY&&(M.offsetY=0==M._row?2:15);var L=v.toAnchor(M,M._row,M._col);d+="<x:Anchor>"+L.toString()+"</x:Anchor>\r\n",d+="<x:AutoFill>False</x:AutoFill>\r\n",d+="<x:Row>"+M._row+"</x:Row>\r\n",d+="<x:Column>"+M._col+"</x:Column>\r\n",k&&(d+="<x:Visible/>\r\n"),d+="</x:ClientData>\r\n",d+="</v:shape>\r\n"}),d+"</xml>"}(i)),e.file("comments"+(r+1)+".xml",function(a){var d='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n';d+='<comments xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="xr" xmlns:xr="http://schemas.microsoft.com/office/spreadsheetml/2014/revision">\r\n';var p={},v=[],M={family:"Tahoma",size:12};return o.forEach(function(T){var k=T.author||"";null==p[k]&&(p[k]=v.length,v.push(k))}),d+="<authors>\r\n",v.forEach(function(T){return d+="<author>"+T+"</author>\r\n"}),d+="</authors>\r\n",d+="<commentList>\r\n",o.forEach(function(T){var k=n._numAlpha(T._col)+(T._row+1);d+='<comment ref="'+k+'" authorId="'+p[T.author||""]+'" shapeId="0" xr:uid="'+function Pl(){lt>4294967295&&(lt=0);var s=(65535&lt|65536).toString(16).substr(1),t=(lt>>16&65535|65536).toString(16).substr(1);return lt++,"{00000000-0000-0000-0000"+t+s+"}"}()+'">\r\n',d+="<text>\r\n";var L=T.textRuns&&T.textRuns.length?T.textRuns:[{text:T.text}];L=L.map(function(Y){return Y.font=Y.font||M,Y}),d+=n._generateTextRuns(L,n._defaultFontName.toLowerCase()),d+="</text>",d+="</comment>\r\n"}),(d+="</commentList>\r\n")+"</comments>"}()))})},s._generateWorksheets=function(t,e,n,i,r){for(var o,a=this,d=e.folder("worksheets"),p=t.sheets.length,v=[],M=t.sheets.map(function(ae){return ae.rows.length}).reduce(function(ae,Ee){return ae+Ee}),T=t.sheets.map(function(ae){return ae.rows.length/M}),k=p-1,L=0,Y=0,ce=function(){var ae=p;v.push(function(){var Ee=new ta(n);return a._generateWorkSheet(ae,t,d,n,i,function(Me){(0,u.isFunction)(r)&&(Me=Math.round(Me*T[ae]),k!==ae&&(k=ae,Y+=L),L=Me,r(Y+Me))}).then(function(){var Me=t.sheets[ae],ze=Me&&Me.externalLinks,st=a._sheetHasNotes(ae);if(Me&&(Me.tables&&Me.tables.length>0||ze&&ze.length>0||st)){var xt=1,yt='<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">';if(st&&(yt+='<Relationship Id="rId'+xt+++'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing" Target="../drawings/vmlDrawing'+(ae+1)+'.vml" />',yt+='<Relationship Id="rId'+xt+++'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments" Target="../comments'+(ae+1)+'.xml" />'),ze&&ze.length>0&&(yt+=a._generateHyperlinkRel(ze,xt),xt+=ze.length),Me.tables&&Me.tables.length>0){null==o&&(o=e.folder("tables"));for(var St=0;St<Me.tables.length;St++){var Dt=Me.tables[St];a._generateTable(Dt,o),yt+='<Relationship Target="../tables/'+Dt.fileName+'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/table" Id="rId'+(St+xt)+'"/>'}}yt+="</Relationships>",d.folder("_rels").file("sheet"+(ae+1)+".xml.rels",a._xmlDescription+yt)}Ee.resolve()}),Ee})};p--;)ce();return ta.serial(n,v).then(function(){(0,u.isFunction)(r)&&r(100)})},s._getSharedString=function(t){var e=t.split(/<si.*?>/g),n=e.length;for(this._sharedStrings=[];--n;)if(e[n].search(/<r>/gi)>-1)this._sharedStrings[n-1]=this._extractTextRuns(e[n]);else{var i=this._getElementValue(e[n],"t","","");this._sharedStrings[n-1]=this._unescape(i)}},s._extractTextRuns=function(t){for(var e=[],n=t.split(/<r>/g),i=1;i<n.length;i++){var r=void 0;-1!==n[i].indexOf("<rPr>")&&(r=this._getTextRunFont(n[i]));var o=this._getElementValue(n[i],"t","","");e.push({font:r,text:this._unescape(o)})}return e},s._getInlineString=function(t){for(var e=t.split("<t"),n=e.length,i="";--n;){var r=e[n];if(" "===r[0]||">"===r[0]){var o=r.indexOf("</t>");o>0&&(i=r.substring(r.indexOf(">")+1,o)+i)}}return i},s._escape=function(t){var e=this;return"string"==typeof t?(t=t.replace(/[\u0000-\u001F]/g,function(n){return e._asciiCtrlReplacements[n.charCodeAt(0)]})).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):""},s._unescape=function(t){return t&&(-1!==t.indexOf("&#")&&(t=this._unescapeNumericEntities(t)),-1!==t.indexOf("&")&&(t=t.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&amp;/g,"&")),-1!==t.indexOf("_x")&&(t=t.replace(/_x([0-9A-F]{4})_/gi,function(e,n){return Ua(parseInt(n,16))})),t)},s._unescapeNumericEntities=function(t){if((0,u.isIE)())return t.replace(/&#(x?)([0-9A-F]{1,6});/gi,function(T,k,L){return L=k?parseInt(L,16):+L,Ua(L)});for(var e,n=0,i="";(e=t.indexOf("&#",n))>=0;){var r="x"===t[e+2],o=r?3:2,a=t.indexOf(";",e+o);if(-1===a)break;var d=a-e-o,p=void 0,v=d>0&&d<8;if(v){var M=t.substr(e+o,d);v=r?(p=parseInt(M,16))==p:(p=+M)==M}v?(i+=t.substring(n,e),i+=Ua(p),n=a+1):(i+=t.substr(n,o),n+=o)}return n!==t.length&&(i+=t.substr(n)),i||t},s._getCoreSetting=function(t,e){var n,i;(i=t.indexOf("<dc:creator>"))>=0&&(n=t.substr(i+12),e.creator=n.substring(0,n.indexOf("</dc:creator>"))),(i=t.indexOf("<cp:lastModifiedBy>"))>=0&&(n=t.substr(i+19),e.lastModifiedBy=n.substring(0,n.indexOf("</cp:lastModifiedBy>"))),(i=t.indexOf('<dcterms:created xsi:type="dcterms:W3CDTF">'))>=0&&(n=t.substr(i+43),e.created=new Date(n.substring(0,n.indexOf("</dcterms:created>")))),(i=t.indexOf('<dcterms:modified xsi:type="dcterms:W3CDTF">'))>=0&&(n=t.substr(i+44),e.modified=new Date(n.substring(0,n.indexOf("</dcterms:modified>"))))},s._getWorkbook=function(t,e){var n,i,r,o,a,d,p,v,M=t.substring(t.indexOf("<bookViews>"),t.indexOf("</bookViews>")),T="",k=t.indexOf("<definedNames>");for(M&&(T=this._getAttr(M,"activeTab")),e.activeWorksheet=+T,d=(a=t.split("<sheet ")).length;--d;)p=this._getAttr(a[d],"name"),v="hidden"!==this._getAttr(a[d],"state"),e.sheets.unshift({name:p,visible:v,columns:[],rows:[]});if(k>-1)for(e.definedNames=[],d=(a=t.substring(k,t.indexOf("</definedNames>")).split("<definedName ")).length;--d;)p=this._getAttr(a[d],"name"),(i=a[d].match(/.*>.+(?=<\/definedName>)/))&&(i=i[0].replace(/(.*>)(.+)/,"$2"),i=isNaN(+i)?i:+i),n={name:p,value:i},""!==(r=this._getAttr(a[d],"localSheetId"))&&(o=e.sheets[+r])&&(n.sheetName=o.name),e.definedNames.unshift(n)},s._getTheme=function(t){t=t.substring(t.indexOf("<a:clrScheme"),t.indexOf("</a:clrScheme>")),this._colorThemes=this._defaultColorThemes.slice(),this._colorThemes[0]=this._getAttr(t.substring(t.indexOf("a:lt1"),t.indexOf("</a:lt1>")),"lastClr")||this._getAttr(t.substring(t.indexOf("a:lt1"),t.indexOf("</a:lt1>")),"val"),this._colorThemes[1]=this._getAttr(t.substring(t.indexOf("a:dk1"),t.indexOf("</a:dk1>")),"lastClr")||this._getAttr(t.substring(t.indexOf("a:dk1"),t.indexOf("</a:dk1>")),"val"),this._colorThemes[2]=this._getAttr(t.substring(t.indexOf("a:lt2"),t.indexOf("</a:lt2>")),"val"),this._colorThemes[3]=this._getAttr(t.substring(t.indexOf("a:dk2"),t.indexOf("</a:dk2>")),"val");for(var e=t.substring(t.indexOf("<a:accent1"),t.indexOf("</a:accent6>")).split("<a:accent"),n=e.length;--n;)this._colorThemes[n+3]=this._getAttr(e[n],"val")},s._getStyle=function(t,e){var n=[],i=[],r=[],o=this._numFmts.slice();this._styles=[];var a=t.indexOf("<numFmts");if(a>=0)for(var d=t.substring(a+8,t.indexOf("</numFmts>")).split("<numFmt"),p=d.length;--p;){var v=d[p];o[+this._getAttr(v,"numFmtId")]=this._getAttr(v,"formatCode")}if(e){if((a=t.indexOf("<fonts"))>=0){var M=t.substring(a,t.indexOf("</fonts>")).split("<font>");for(p=M.length;--p;){var T=this._getChildNodeValue(v=M[p],"sz"),k=void 0;n[p-1]={bold:/<b\s*\/>/.test(v)||"true"===this._getChildNodeValue(v,"b"),italic:/<i\s*\/>/.test(v)||"true"===this._getChildNodeValue(v,"i"),underline:/<u\s*\/>/.test(v)||!!(k=this._getChildNodeValue(v,"u"))&&"none"!==k,size:Math.round(T?96*+T/72:14),family:this._getChildNodeValue(v,"name"),color:this._getColor(v,!1)},T=null}}if((a=t.indexOf("<fills"))>=0){var L=t.substring(a,t.indexOf("</fills>")).split("<fill>");for(p=L.length;--p;)i[p-1]=this._getColor(L[p],!0)}if((a=t.indexOf("<borders"))>=0){var Y=t.substring(a+8,t.indexOf("</borders>")).split("<border");for(p=Y.length;--p;)r[p-1]={left:this._getEdgeBorder(v=Y[p],"left"),right:this._getEdgeBorder(v,"right"),top:this._getEdgeBorder(v,"top"),bottom:this._getEdgeBorder(v,"bottom")}}}if((a=t.indexOf("<cellXfs"))>=0){var ce=t.substring(a,t.indexOf("</cellXfs>")).split("<xf");for(p=ce.length;--p;){var ae=+this._getAttr(v=ce[p],"numFmtId"),Ee=o[ae],Me="unknown";Ee&&(/[hsmy\:]/i.test(Ee)?Me="date":Ee.indexOf("0")>-1?Me="number":"@"===Ee&&(Me="string"));var ze={formatCode:Ee,type:Me,quotePrefix:1==+this._getAttr(v,"quotePrefix")};if(e){var st=(ae=+this._getAttr(v,"fontId"))>0?n[ae]:null,xt=(ae=+this._getAttr(v,"fillId"))>1?i[ae]:null,yt=(ae=+this._getAttr(v,"borderId"))>0?r[ae]:null;a=v.indexOf("<alignment"),ze.font=st,ze.fillColor=xt,ze.borders=yt,ze.hAlign=a>=0?hn._parseStringToHAlign(this._getAttr(v,"horizontal")):null,ze.vAlign=a>=0?hn._parseStringToVAlign(this._getAttr(v,"vertical")):null,ze.wordWrap=a>=0?"1"===this._getAttr(v,"wrapText"):null}this._styles.unshift(ze)}}if(e&&t.indexOf("<tableStyle ")>-1){this._tableStyles=[];var St=t.substring(t.indexOf("<tableStyles "),t.indexOf("</tableStyles>")),Dt=t.substring(t.indexOf("<dxfs "),t.indexOf("</dxfs>"));this._getTableStyles(St,Dt.split("<dxf>"))}},s._getEdgeBorder=function(t,e){var n,i,r,o,a=t.indexOf("<"+e),d=t.indexOf("</"+e+">");if(a>=0){i=(i=t.substring(a)).substring(0,d>=0?d:i.indexOf("/>"));var p=this._getAttr(i,"style");p&&(r=hn._parseStringToBorderType(p),o=this._getColor(i,!1),(r!==ji.Thin||!o||"#c6c6c6"!==o.toLowerCase())&&((n={}).style=r,n.color=o))}return n},s._getSheet=function(t,e,n,i){var r,o=[];if(t.indexOf("<mergeCells")>-1)for(var a=t.substring(t.indexOf("<mergeCells"),t.indexOf("</mergeCells>")).split("<mergeCell "),d=a.length;--d;)2===(r=this._getAttr(a[d],"ref").split(":")).length&&o.unshift({topRow:+r[0].match(/\d*/g).join("")-1,leftCol:this._alphaNum(r[0].match(/[a-zA-Z]*/g)[0]),bottomRow:+r[1].match(/\d*/g).join("")-1,rightCol:this._alphaNum(r[1].match(/[a-zA-Z]*/g)[0])});this._getsBaseSharedFormulas(t);var p=t.split("<row "),v=n.sheets[e];if(p[0].indexOf("<dimension")>=0){var M=this._getAttr(p[0].substr(p[0].indexOf("<dimension")),"ref");M&&(M=M.substr(M.indexOf(":")+1),v.maxCol=this._alphaNum(M.match(/[a-zA-Z]*/g)[0])+1,v.maxRow=+M.match(/\d*/g).join(""))}var T=this._getElementValue(t,"sheetView",null,null);v.rightToLeft=T&&"1"===this._getAttr(T,"rightToLeft");var k,L=t.indexOf("<tableParts");if(L>-1){var Y=t.substring(L,t.indexOf("</tableParts>")).split("<tablePart "),ce=Y.length;for(v.tableRIds=[];--ce;)v.tableRIds.unshift(this._getAttr(Y[ce],"r:id"))}if(p.length>0&&p[0].indexOf("<pane")>-1&&"frozen"===this._getAttr(p[0].substr(p[0].indexOf("<pane")),"state")){var ae=this._getAttr(p[0].substr(p[0].indexOf("<pane")),"ySplit"),Ee=this._getAttr(p[0].substr(p[0].indexOf("<pane")),"xSplit");v.frozenPane={rows:ae?+ae:NaN,columns:Ee?+Ee:NaN}}for(v.summaryBelow="0"!==this._getAttr(p[0],"summaryBelow"),d=p.length,p.length<=1?(v.maxCol=20,v.maxRow=200):(null==v.maxRow||v.maxRow<d-1)&&(v.maxRow=d-1);--d;){var Me=v.rows[+this._getAttr(p[d],"r")-1]={visible:!0,groupLevel:NaN,cells:[]};if(p[d].substring(0,p[d].indexOf(">")).indexOf("hidden")>-1&&"1"===this._getAttr(p[d],"hidden")&&(Me.visible=!1),"1"===this._getAttr(p[d],"customHeight")){var ze=+this._getAttr(p[d].substring(0,p[d].indexOf(">")).replace("customHeight",""),"ht");Me.height=96*ze/72}var st=null;"1"===this._getAttr(p[d],"customFormat")&&((Rn=this._styles[+this._getAttr(p[d].substring(p[d].indexOf(" s=")),"s")]||{type:"General",formatCode:null}).formatCode&&"General"!==Rn.formatCode&&(st={format:Rn.formatCode&&"General"!==Rn.formatCode?Rn.formatCode:null}),i&&(Rn.font||Rn.fillColor||Rn.hAlign||Rn.vAlign||Rn.wordWrap||Rn.borders)&&((st=st||{}).font=Rn.font,st.fill={color:Rn.fillColor},st.borders=Rn.borders,st.hAlign=Rn.hAlign,st.vAlign=Rn.vAlign,st.wordWrap=Rn.wordWrap)),Me.style=st;var xt=this._getAttr(p[d],"outlineLevel");Me.groupLevel=xt&&""!==xt?+xt:NaN,Me.collapsed="1"===this._getAttr(p[d],"collapsed");var yt=p[d].split("<c "),St=yt.length;for((null==v.maxCol||v.maxCol<St-1)&&(v.maxCol=St-1);--St;){var Dt=yt[St],Nt=null;(Rn=this._styles[+this._getAttr(Dt,"s")]||{type:"General",formatCode:null}).formatCode&&"General"!==Rn.formatCode&&(Nt={format:Rn.formatCode&&"General"!==Rn.formatCode?Rn.formatCode:null}),i&&(Rn.font||Rn.fillColor||Rn.hAlign||Rn.vAlign||Rn.wordWrap||Rn.borders)&&((Nt=Nt||{}).font=Rn.font,Nt.fill={color:Rn.fillColor},Nt.borders=Rn.borders,Nt.hAlign=Rn.hAlign,Nt.vAlign=Rn.vAlign,Nt.wordWrap=Rn.wordWrap);var en=this._getAttr(Dt.substring(0,Dt.indexOf(">")),"t")||Rn.type,Rt=null,Kt="inlineStr"===en||Dt.indexOf("<is>")>=0;Rt=Kt?this._getInlineString(Dt):this._getElementValue(Dt,"v",null,null),Rt=this._unescape(Rt);var Vt=null,jn=null,_n=null;Dt.indexOf("<f")>-1&&(Dt.indexOf("</f>")>-1?(Vt=Dt.match(/<f.*>.+(?=<\/f>)/))&&(Vt=Vt[0].replace(/(\<f.*>)(.+)/,"$2")):(jn=this._getAttr(Dt,"si"))&&(_n=this._getAttr(Dt,"r"),Vt=this._getSharedFormula(jn,_n))),null!=Vt&&(Vt=Vt.replace(/\[\#This Row\]\s*,\s*/gi,"@")),"str"===en||"e"===en||Kt||(Rt=Rt&&+Rt),k=this._alphaNum(this._getAttr(Dt,"r").match(/[a-zA-Z]*/g)[0]);var Wn=null;switch(en){case"s":null!=(Rt=this._sharedStrings[Rt])&&((0,u.isString)(Rt)?Rn&&Rn.quotePrefix&&(Rt="'"+Rt):(Wn=Rt.slice(),Rt=this._getTextOfTextRuns(Wn)));break;case"b":Rt=1===Rt;break;case"date":Rt=null!=Rt?this._convertDate(Rt):null}(0,u.isNumber)(Rt)&&(null==Nt&&(Nt={format:""}),Nt.format=(0,u.isInt)(Rt)?Nt.format||"#,##0":Nt.format||"#,##0.00"),Me.cells[k]={value:Rt,textRuns:Wn,isDate:"date"===en,isNumber:"number"===en,formula:hn._unescapeXML(Vt),style:Nt}}}var wn=[],oi=[];if(p.length>0&&p[0].indexOf("<cols>")>-1)for(var di=(wn=p[0].substring(p[0].indexOf("<cols>")+6,p[0].indexOf("</cols>")).split("<col ")).length-1;di>0;di--){var ui=this._parseCharWidthToPixel(+this._getAttr(wn[di],"width")),Rn=null,gi=null;wn[di].indexOf("style")>-1&&(Rn=this._styles[+this._getAttr(wn[di],"style")]||{type:"General",formatCode:null}),Rn&&Rn.formatCode&&"General"!==Rn.formatCode&&(gi={format:Rn.formatCode&&"General"!==Rn.formatCode?Rn.formatCode:null}),i&&Rn&&(Rn.font||Rn.fillColor||Rn.hAlign||Rn.vAlign||Rn.wordWrap||Rn.borders)&&((gi=gi||{}).font=Rn.font,gi.fill={color:Rn.fillColor},gi.borders=Rn.borders,gi.hAlign=Rn.hAlign,gi.vAlign=Rn.vAlign,gi.wordWrap=Rn.wordWrap);var Mi=+this._getAttr(wn[di],"min"),li=+this._getAttr(wn[di],"max");if(li>v.maxCol)v._extraColumn={min:Mi,max:li,width:ui,style:gi};else for(k=Mi-1;k<li&&k<v.maxCol;k++)oi[k]={visible:"1"!==this._getAttr(wn[di],"hidden"),autoWidth:"1"===this._getAttr(wn[di],"bestFit"),width:ui,style:gi}}v.columns=oi;var $n,Ki=t.indexOf("<hyperlinks");if(Ki>-1)for(var tr=t.substring(Ki,t.indexOf("</hyperlinks>")).split("<hyperlink "),Tr=tr.length;--Tr;)this._getHyperlink(v,tr[Tr]);if(v.frozenPane){if(!isNaN(v.frozenPane.rows))for(d=0;d<v.rows.length&&d<v.frozenPane.rows;d++)v.rows[d]&&!v.rows[d].visible&&v.frozenPane.rows++;if(!isNaN(v.frozenPane.columns))for(d=0;d<oi.length&&d<v.frozenPane.columns;d++)oi[d]&&!oi[d].visible&&v.frozenPane.columns++}for(St=0;St<o.length;St++)v.rows[($n=o[St]).topRow]||(v.rows[$n.topRow]={cells:[]}),v.rows[$n.topRow].cells||(v.rows[$n.topRow].cells=[]),v.rows[$n.topRow].cells[$n.leftCol]||(v.rows[$n.topRow].cells[$n.leftCol]={}),v.rows[$n.topRow].cells[$n.leftCol].rowSpan=$n.bottomRow<v.maxRow?$n.bottomRow-$n.topRow+1:200,v.rows[$n.topRow].cells[$n.leftCol].colSpan=$n.rightCol<v.maxCol?$n.rightCol-$n.leftCol+1:20},s._getTable=function(t){var e={};e.name=this._getAttr(t,"name"),e.range=this._getAttr(t,"ref");var n=this._getAttr(t,"headerRowCount");e.showHeaderRow=""==n||"1"===n;var i=this._getAttr(t,"totalsRowCount");e.showTotalRow="1"===i;var r=t.substring(t.indexOf("<tableStyleInfo")),o=this._getAttr(r,"name");e.style=this._isBuiltInStyleName(o)?{name:o}:this._getTableStyleByName(o),e.showBandedColumns="1"===this._getAttr(r,"showColumnStripes"),e.showBandedRows="1"===this._getAttr(r,"showRowStripes"),e.alterFirstColumn="1"===this._getAttr(r,"showFirstColumn"),e.alterLastColumn="1"===this._getAttr(r,"showLastColumn");var a=t.split("<tableColumn ");e.columns=[];for(var d=1;d<a.length;d++)e.columns.push(this._getTableColumn(a[d]));if(t.indexOf("filterColumn")>-1)for(var v=t.substring(t.indexOf("<autoFilter"),t.indexOf("</autoFilter>")).split("<filterColumn"),M=1;M<v.length;M++){var T=v[M],k=+this._getAttr(T,"colId");e.columns[k].showFilterButton="1"!==this._getAttr(T,"hiddenButton")}return e},s._getTableColumn=function(t){var e={};e.name=this._getAttr(t,"name");var n=this._getAttr(t,"totalsRowLabel");if(n)e.totalRowLabel=n;else{var i=this._getAttr(t,"totalsRowFunction");"custom"===i&&(i=t.substring(t.indexOf("<totalsRowFormula>")+2+16,t.indexOf("</totalsRowFormula>"))),e.totalRowFunction=i}return e},s._getSheetRelatedTable=function(t){var e=this._getAttr(t,"Target");e=e.substring(e.lastIndexOf("/")+1);for(var n=0;n<this._tables.length;n++){var i=this._tables[n];if(e===i.fileName)return i}return null},s._getSheetRelatedHyperlink=function(t,e,n){for(var i=0;i<n.hyperlinkRIds.length;i++){var r=n.hyperlinkRIds[i];if(r.rId===e){var o=this._getAttr(t,"Target");n.rows[r.ref.row]&&n.rows[r.ref.row].cells[r.ref.col]&&(n.rows[r.ref.row].cells[r.ref.col].link=o)}}},s._getTableStyles=function(t,e){for(var n=t.split("<tableStyle "),i=n.length;--i;){var r={},o=n[i];r.name=this._getAttr(o,"name");for(var a=o.split("<tableStyleElement "),d=a.length;--d;){var p=a[d],v=this._getAttr(p,"type");switch(v){case"firstRowStripe":v="firstBandedRowStyle";break;case"secondRowStripe":v="secondBandedRowStyle";break;case"firstColumnStripe":v="firstBandedColumnStyle";break;case"secondColumnStripe":v="secondBandedColumnStyle";break;default:v+="Style"}var M=this._getAttr(p,"dxfId");""!==M&&(r[v]=this._getTableStyleElement(e[+M+1]));var T=this._getAttr(p,"size");T&&(null==r[v]&&(r[v]={}),r[v].size=+T)}this._tableStyles.push(r)}},s._getTableStyleElement=function(t){var e=null,n=null,i=null,r=null,o=t.indexOf("<font>");if(o>=0){e=t.substring(o,t.indexOf("</font>"));var a=this._getChildNodeValue(e,"sz");n={bold:"1"===this._getChildNodeValue(e,"b"),italic:"1"===this._getChildNodeValue(e,"i"),underline:"1"===this._getChildNodeValue(e,"u"),size:Math.round(a?96*+a/72:14),family:this._getChildNodeValue(e,"name"),color:this._getColor(e,!1)}}return e=null,(o=t.indexOf("<fill>"))>=0&&(e=t.substring(o,t.indexOf("</fill>")),i={color:this._getColor(e,!0)}),e=null,(o=t.indexOf("<border>"))>=0&&(e=t.substring(o,t.indexOf("</border>")),r={left:this._getEdgeBorder(e,"left"),right:this._getEdgeBorder(e,"right"),top:this._getEdgeBorder(e,"top"),bottom:this._getEdgeBorder(e,"bottom"),vertical:this._getEdgeBorder(e,"vertical"),horizontal:this._getEdgeBorder(e,"horizontal")}),{font:n,fill:i,borders:r}},s._getTableStyleByName=function(t){var e,n;if(null==this._tableStyles||0===this._tableStyles.length)return null;for(e=0;e<this._tableStyles.length;e++)if((n=this._tableStyles[e])&&n.name.toLowerCase()===t.toLowerCase())return n;return null},s._getHyperlink=function(t,e){var n,r,o,a,d;if(null!=(n=this._getAttr(e,"ref"))){r=n.split(":"),null==(a=this._getAttr(e,"r:id"))&&(d=this._getAttr(e,"location"));for(var p=0;p<r.length;p++)o=hn.tableAddress(r[p]),a?(null==t.hyperlinkRIds&&(t.hyperlinkRIds=[]),t.hyperlinkRIds.push({ref:o,rId:a})):d&&t.rows[o.row]&&t.rows[o.row].cells[o.col]&&(t.rows[o.row].cells[o.col].link=d)}},s._getTextRunFont=function(t){var e,n=this._getChildNodeValue(t,"sz");return{bold:t.indexOf("<b/>")>=0||"true"===this._getChildNodeValue(t,"b"),italic:t.indexOf("<i/>")>=0||"true"===this._getChildNodeValue(t,"i"),underline:t.indexOf("<u/>")>=0||(e=this._getChildNodeValue(t,"u"))&&"none"!==e,size:Math.round(n?96*+n/72:14),family:this._getChildNodeValue(t,"rFont"),color:this._getColor(t,!1)}},s._getTextOfTextRuns=function(t){var e,n,i="";for(e=0;e<t.length;e++)(n=t[e])&&(i+=n.text);return i},s._isBuiltInStyleName=function(t){var e;if(0===t.search(/TableStyleLight/i)){if(e=+t.substring(15),!isNaN(e)&&e>=1&&e<=21)return!0}else if(0===t.search(/TableStyleMedium/i)){if(e=+t.substring(16),!isNaN(e)&&e>=1&&e<=28)return!0}else if(0===t.search(/TableStyleDark/i)&&(e=+t.substring(14),!isNaN(e)&&e>=1&&e<=11))return!0;return!1},s._generateRelsDoc=function(){return'<Relationships xmlns="'+this._relationshipsNS+'"><Relationship Target="docProps/app.xml" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties" Id="rId3"/><Relationship Target="docProps/core.xml" Type="http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties" Id="rId2"/><Relationship Target="xl/workbook.xml" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Id="rId1"/></Relationships>'},s._generateThemeDoc=function(){return'<a:theme name="Office Theme" xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main"><a:themeElements>'+this._generateClrScheme()+this._generateFontScheme()+this._generateFmtScheme()+"</a:themeElements><a:objectDefaults/><a:extraClrSchemeLst/></a:theme>"},s._generateClrScheme=function(){return null===this._colorThemes&&(this._colorThemes=[]),'<a:clrScheme name="Office"><a:dk1><a:sysClr lastClr="'+(this._colorThemes[1]||"000000")+'" val="windowText"/></a:dk1><a:lt1><a:sysClr lastClr="'+(this._colorThemes[0]||"FFFFFF")+'" val="window"/></a:lt1><a:dk2><a:srgbClr val="'+(this._colorThemes[3]||"1F497D")+'"/></a:dk2><a:lt2><a:srgbClr val="'+(this._colorThemes[2]||"EEECE1")+'"/></a:lt2><a:accent1><a:srgbClr val="'+(this._colorThemes[4]||"4F81BD")+'"/></a:accent1><a:accent2><a:srgbClr val="'+(this._colorThemes[5]||"C0504D")+'"/></a:accent2><a:accent3><a:srgbClr val="'+(this._colorThemes[6]||"9BBB59")+'"/></a:accent3><a:accent4><a:srgbClr val="'+(this._colorThemes[7]||"8064A2")+'"/></a:accent4><a:accent5><a:srgbClr val="'+(this._colorThemes[8]||"4BACC6")+'"/></a:accent5><a:accent6><a:srgbClr val="'+(this._colorThemes[9]||"F79646")+'"/></a:accent6><a:hlink><a:srgbClr val="0000FF"/></a:hlink><a:folHlink><a:srgbClr val="800080"/></a:folHlink></a:clrScheme>'},s._generateFontScheme=function(){return'<a:fontScheme name="Office"><a:majorFont><a:latin typeface="Cambria"/><a:ea typeface=""/><a:cs typeface=""/><a:font typeface="\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af" script="Jpan"/><a:font typeface="\ub9d1\uc740 \uace0\ub515" script="Hang"/><a:font typeface="\u5b8b\u4f53" script="Hans"/><a:font typeface="\u65b0\u7d30\u660e\u9ad4" script="Hant"/><a:font typeface="Times New Roman" script="Arab"/><a:font typeface="Times New Roman" script="Hebr"/><a:font typeface="Tahoma" script="Thai"/><a:font typeface="Nyala" script="Ethi"/><a:font typeface="Vrinda" script="Beng"/><a:font typeface="Shruti" script="Gujr"/><a:font typeface="MoolBoran" script="Khmr"/><a:font typeface="Tunga" script="Knda"/><a:font typeface="Raavi" script="Guru"/><a:font typeface="Euphemia" script="Cans"/><a:font typeface="Plantagenet Cherokee" script="Cher"/><a:font typeface="Microsoft Yi Baiti" script="Yiii"/><a:font typeface="Microsoft Himalaya" script="Tibt"/><a:font typeface="MV Boli" script="Thaa"/><a:font typeface="Mangal" script="Deva"/><a:font typeface="Gautami" script="Telu"/><a:font typeface="Latha" script="Taml"/><a:font typeface="Estrangelo Edessa" script="Syrc"/><a:font typeface="Kalinga" script="Orya"/><a:font typeface="Kartika" script="Mlym"/><a:font typeface="DokChampa" script="Laoo"/><a:font typeface="Iskoola Pota" script="Sinh"/><a:font typeface="Mongolian Baiti" script="Mong"/><a:font typeface="Times New Roman" script="Viet"/><a:font typeface="Microsoft Uighur" script="Uigh"/><a:font typeface="Sylfaen" script="Geor"/></a:majorFont><a:minorFont><a:latin typeface="Calibri"/><a:ea typeface=""/><a:cs typeface=""/><a:font typeface="\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af" script="Jpan"/><a:font typeface="\ub9d1\uc740 \uace0\ub515" script="Hang"/><a:font typeface="\u5b8b\u4f53" script="Hans"/><a:font typeface="\u65b0\u7d30\u660e\u9ad4" script="Hant"/><a:font typeface="Arial" script="Arab"/><a:font typeface="Arial" script="Hebr"/><a:font typeface="Tahoma" script="Thai"/><a:font typeface="Nyala" script="Ethi"/><a:font typeface="Vrinda" script="Beng"/><a:font typeface="Shruti" script="Gujr"/><a:font typeface="DaunPenh" script="Khmr"/><a:font typeface="Tunga" script="Knda"/><a:font typeface="Raavi" script="Guru"/><a:font typeface="Euphemia" script="Cans"/><a:font typeface="Plantagenet Cherokee" script="Cher"/><a:font typeface="Microsoft Yi Baiti" script="Yiii"/><a:font typeface="Microsoft Himalaya" script="Tibt"/><a:font typeface="MV Boli" script="Thaa"/><a:font typeface="Mangal" script="Deva"/><a:font typeface="Gautami" script="Telu"/><a:font typeface="Latha" script="Taml"/><a:font typeface="Estrangelo Edessa" script="Syrc"/><a:font typeface="Kalinga" script="Orya"/><a:font typeface="Kartika" script="Mlym"/><a:font typeface="DokChampa" script="Laoo"/><a:font typeface="Iskoola Pota" script="Sinh"/><a:font typeface="Mongolian Baiti" script="Mong"/><a:font typeface="Arial" script="Viet"/><a:font typeface="Microsoft Uighur" script="Uigh"/><a:font typeface="Sylfaen" script="Geor"/></a:minorFont></a:fontScheme>'},s._generateFmtScheme=function(){return'<a:fmtScheme name="Office">'+this._generateFillScheme()+this._generateLineStyles()+this._generateEffectScheme()+this._generateBgFillScheme()+"</a:fmtScheme>"},s._generateFillScheme=function(){return'<a:fillStyleLst><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs><a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:satMod val="350000"/></a:schemeClr></a:gs></a:gsLst><a:lin scaled="1" ang="16200000"/></a:gradFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="51000"/><a:satMod val="130000"/></a:schemeClr></a:gs><a:gs pos="80000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="130000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="94000"/><a:satMod val="135000"/></a:schemeClr></a:gs></a:gsLst><a:lin scaled="1" ang="16200000"/></a:gradFill></a:fillStyleLst>'},s._generateLineStyles=function(){return'<a:lnStyleLst><a:ln algn="ctr" cmpd="sng" cap="flat" w="9525"><a:solidFill><a:schemeClr val="phClr"><a:shade val="9500"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln><a:ln algn="ctr" cmpd="sng" cap="flat" w="25400"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln><a:ln algn="ctr" cmpd="sng" cap="flat" w="38100"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln></a:lnStyleLst>'},s._generateEffectScheme=function(){return'<a:effectStyleLst><a:effectStyle><a:effectLst><a:outerShdw dir="5400000" rotWithShape="0" dist="23000" blurRad="40000"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw></a:effectLst></a:effectStyle><a:effectStyle><a:effectLst><a:outerShdw dir="5400000" rotWithShape="0" dist="23000" blurRad="40000"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw></a:effectLst></a:effectStyle><a:effectStyle><a:effectLst><a:outerShdw dir="5400000" rotWithShape="0" dist="23000" blurRad="40000"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw></a:effectLst><a:scene3d><a:camera prst="orthographicFront"><a:rot rev="0" lon="0" lat="0"/></a:camera><a:lightRig dir="t" rig="threePt"><a:rot rev="1200000" lon="0" lat="0"/></a:lightRig></a:scene3d><a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d></a:effectStyle></a:effectStyleLst>'},s._generateBgFillScheme=function(){return'<a:bgFillStyleLst><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs><a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs></a:gsLst><a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path></a:gradFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:satMod val="300000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="200000"/></a:schemeClr></a:gs></a:gsLst><a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path></a:gradFill></a:bgFillStyleLst>'},s._generateCoreDoc=function(t){var e='<cp:coreProperties xmlns:cp="http://schemas.openxmlformats.org/package/2006/metadata/core-properties" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" xmlns:dcmitype="http://purl.org/dc/dcmitype/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">';return e+=t.creator?"<dc:creator>"+t.creator+"</dc:creator>":"<dc:creator/>",(e+=t.lastModifiedBy?"<cp:lastModifiedBy>"+t.lastModifiedBy+"</cp:lastModifiedBy>":"<cp:lastModifiedBy/>")+'<dcterms:created xsi:type="dcterms:W3CDTF">'+(t.created||new Date).toISOString()+'</dcterms:created><dcterms:modified xsi:type="dcterms:W3CDTF">'+(t.modified||new Date).toISOString()+"</dcterms:modified></cp:coreProperties>"},s._generateSheetGlobalSetting=function(t,e,n){var i=e.rows&&e.rows[0]&&e.rows[0].cells?e.rows[0].cells.length:0,r=' xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships"';this._sheetHasNotes(t)&&(r+=' xmlns:xdr="http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing" xmlns:x14="http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"'),r+=' xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac">',r+='<sheetPr><outlinePr summaryBelow="0"/></sheetPr>',r+='<dimension ref="A1'+(i>0?":"+this._numAlpha(i-1)+e.rows.length:"")+'"/>',r+='<sheetViews><sheetView workbookViewId="0"',t===n.activeWorksheet&&(r+=' tabSelected="1"'),e.rightToLeft&&(r+=' rightToLeft="1"');var o=0,a=0;return e.frozenPane&&(o=e.frozenPane.rows,a=e.frozenPane.columns),o||a?(r+=">",r+='<pane state="frozen" activePane="'+(0!==o&&0!==a?"bottomRight":0!==o?"bottomLeft":"topRight")+'" topLeftCell="'+(this._numAlpha(a)+(o+1))+'" ySplit="'+o.toString()+'" xSplit="'+a.toString()+'"/>',r+="</sheetView>"):r+="/>",(r+="</sheetViews>")+'<sheetFormatPr defaultRowHeight="15" x14ac:dyDescent="0.25"/>'},s._generateCell=function(t,e,n,i,r,o){var a='<c r="'+this._numAlpha(e)+(t+1)+'" s="'+n.toString()+'"';i&&(a+=' t="'+i+'"');var d="";return o&&("="===o[0]&&(o=o.substring(1)),o=o.replace(/\@\s*/gi,"[#This Row], "),d+="<f>"+hn._escapeXML(o)+"</f>"),null!=r&&""!==r&&(d+="<v>"+r+"</v>"),a+(d?">"+d+"</c>":"/>")},s._generateMergeSetting=function(t){for(var e='<mergeCells count="'+t.length.toString()+'">',n=0;n<t.length;n++)e+='<mergeCell ref="'+t[n].join(":")+'"/>';return e+"</mergeCells>"},s._generateStyleDoc=function(){var t='<styleSheet xmlns="'+this._workbookNS+'" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac">',e="",n="",i=[],r=0,o=0,a="",d="";d=this._generateFontStyle({},!0);var p="",v="";v+=this._generateFillStyle("none",null),v+=this._generateFillStyle("gray125",null);var M="",T="";T+=this._generateBorderStyle({});var k="",L="";for(L+=this._generateCellXfs(0,0,0,0,{});r<this._styles.length;){var Y=this._styles[r];if(Y){var ce=0;if((Y=JSON.parse(Y)).format&&"General"!==Y.format&&(ce=this._numFmts.indexOf(Y.format))<0){var ae=i.indexOf(Y.format);-1===ae?(i.push(Y.format),n+='<numFmt numFmtId="'+(ce=164+o).toString()+'" formatCode="'+hn._escapeXML(Y.format)+'"/>',o++):ce=164+ae}var Ee=0;if(Y.borders){var Me=JSON.stringify(Y.borders);(Ee=this._borders.indexOf(Me))<0&&(Ee=this._borders.push(Me)-1,T+=this._generateBorderStyle(Y.borders))}var ze=0;if(Y.font){var st=JSON.stringify(Y.font);(ze=this._fonts.indexOf(st))<0&&(ze=this._fonts.push(st)-1,d+=this._generateFontStyle(Y.font))}var xt=0;if(Y.fill&&Y.fill.color){var yt=JSON.stringify(Y.fill);(xt=this._fills.indexOf(yt))<0&&(xt=this._fills.push(yt)-1,v+=this._generateFillStyle("solid",Y.fill.color))}L+=this._generateCellXfs(ce,Ee,ze,xt,Y)}r++}i=null,o>0?(e='<numFmts count="'+o+'">',e+=n,e+="</numFmts>"):e='<numFmts count="0"/>',t+=e,a='<fonts count="'+this._fonts.length+'" x14ac:knownFonts="1">',a+=d,t+=a+="</fonts>",p='<fills count="'+this._fills.length+'">',p+=v,t+=p+="</fills>",M='<borders count="'+this._borders.length+'">',M+=T,t+=M+="</borders>",t+='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',k='<cellXfs count="'+this._styles.length+'">',k+=L,k+="</cellXfs>";var St="",Dt="";return this._tableStyles.length>0&&(this._getDxfs(),this._dxfs.length>0&&(St=this._generateDxfs()),Dt=this._generateTableStyles()),t+(k+'<cellStyles count="1"><cellStyle xfId="0" builtinId="0" name="Normal"/></cellStyles>')+(""===St?'<dxfs count="0"/>':St)+(""===Dt?'<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleLight16"/>':Dt)+'<extLst><ext uri="{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}"><x14ac:slicerStyles defaultSlicerStyle="SlicerStyleLight1" xmlns:x14="http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"/></ext></extLst></styleSheet>'},s._generateBorderStyle=function(t,e){void 0===e&&(e=!1);var n,i,r="<border>";for(var o in{left:0,right:0,top:0,bottom:0,diagonal:0,vertical:0,horizontal:0})(e||"vertical"!==o&&"horizontal"!==o)&&(t[o]?(n="<"+o+' style="'+t[o].style+'">',6===(i=(i=t[o].color)?"#"===i[0]?i.substring(1):i:"").length&&(i="FF"+i),i||(i="FF000000"),n+='<color rgb="'+i+'"/>',n+="</"+o+">"):n="<"+o+"/>",r+=n);return r+"</border>"},s._generateFontStyle=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=!1);var i=n?"<rPr>":"<font>";return t.bold&&(i+="<b/>"),t.italic&&(i+="<i/>"),t.underline&&(i+="<u/>"),i+='<sz val="'+(t.size?Math.round(72*t.size/96):this._defaultFontSize)+'"/>',i+=t.color?'<color rgb="FF'+this._parseColor(t.color).substring(1)+'"/>':'<color theme="1"/>',i+="<"+(n?"rFont":"name")+' val="'+(t.family||this._defaultFontName)+'" />',i+='<family val="2"/>',e&&(i+='<scheme val="minor"/>'),i+(n?"</rPr>":"</font>")},s._generateFillStyle=function(t,e,n){void 0===n&&(n=!1);var i,r='<fill><patternFill patternType="'+t+'">';return e&&(i=n?"<bgColor ":"<fgColor ",r+=i+='rgb="FF'+("#"===e[0]?e.substring(1):e)+'"/>'),r+"</patternFill></fill>"},s._generateCellXfs=function(t,e,n,i,r){var o='<xf xfId="0" ';if(o+='numFmtId="'+t.toString()+'" ',t>0&&(o+='applyNumberFormat="1" '),o+='borderId="'+e.toString()+'" ',e>0&&(o+='applyBorder="1" '),o+='fontId="'+n.toString()+'" ',n>0&&(o+='applyFont="1" '),o+='fillId="'+i.toString()+'" ',i>0&&(o+='applyFill="1" '),r.quotePrefix&&(o+='quotePrefix="1" '),r.hAlign||r.vAlign||r.indent||r.wordWrap){o+='applyAlignment="1">';var a="<alignment ";r.hAlign&&(a+='horizontal="'+r.hAlign+'" '),r.vAlign&&(a+='vertical="'+r.vAlign+'" '),r.indent&&(a+='indent="'+r.indent+'" '),r.wordWrap&&(a+='wrapText="1"'),o+=a+="/>",o+="</xf>"}else o+="/>";return o},s._generateContentTypesDoc=function(t){var e=this,n='<Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types">',i=t.sheets,r=i.reduce(function(a,d,p){return a||e._sheetHasNotes(p)},this._sheetHasNotes(0));this._macroEnabled&&(n+='<Default ContentType="application/vnd.ms-office.vbaProject" Extension="bin"/>'),r&&(n+='<Default Extension="vml" ContentType = "application/vnd.openxmlformats-officedocument.vmlDrawing" />'),n+='<Default ContentType="application/vnd.openxmlformats-package.relationships+xml" Extension="rels"/><Default ContentType="application/xml" Extension="xml"/><Override ContentType="'+(this._macroEnabled?"application/vnd.ms-excel.sheet.macroEnabled.main+xml":"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml")+'" PartName="/xl/workbook.xml"/>';for(var o=0;o<this._contentTypes.length;o++)n+=this._contentTypes[o];if(n+='<Override ContentType="application/vnd.openxmlformats-officedocument.theme+xml" PartName="/xl/theme/theme1.xml"/><Override ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml" PartName="/xl/styles.xml"/><Override ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml" PartName="/xl/sharedStrings.xml"/><Override ContentType="application/vnd.openxmlformats-package.core-properties+xml" PartName="/docProps/core.xml"/><Override ContentType="application/vnd.openxmlformats-officedocument.extended-properties+xml" PartName="/docProps/app.xml"/>',r)for(o=0;o<i.length;o++)this._sheetHasNotes(o)&&(n+='<Override PartName="/xl/comments'+(o+1)+'.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml"/>');for(o=0;o<this._tables.length;o++)n+='<Override ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml" PartName="/xl/tables/'+this._tables[o]+'"/>';return n+"</Types>"},s._generateAppDoc=function(t){for(var e='<Properties xmlns:vt="http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes" xmlns="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties"><Application>'+(t.application||"wijmo.xlsx")+'</Application><DocSecurity>0</DocSecurity><ScaleCrop>false</ScaleCrop><HeadingPairs><vt:vector baseType="variant" size="2"><vt:variant><vt:lpstr>Worksheets</vt:lpstr></vt:variant><vt:variant><vt:i4>'+this._props.length+'</vt:i4></vt:variant></vt:vector></HeadingPairs><TitlesOfParts><vt:vector baseType="lpstr" size="'+this._props.length+'">',n=0;n<this._props.length;n++)e+="<vt:lpstr>"+this._props[n]+"</vt:lpstr>";return e+"</vt:vector></TitlesOfParts><Manager/><Company>"+(t.company||"GrapeCity, Inc.")+"</Company><LinksUpToDate>false</LinksUpToDate><SharedDoc>false</SharedDoc><HyperlinksChanged>false</HyperlinksChanged><AppVersion>1.0</AppVersion></Properties>"},s._generateWorkbookRels=function(){for(var t='<Relationships xmlns="'+this._relationshipsNS+'">',e=0;e<this._xlRels.length;e++)t+=this._xlRels[e];return t+='<Relationship Target="sharedStrings.xml" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings" Id="rId'+(this._xlRels.length+1)+'"/><Relationship Target="styles.xml" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles" Id="rId'+(this._xlRels.length+2)+'"/><Relationship Target="theme/theme1.xml" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme" Id="rId'+(this._xlRels.length+3)+'"/>',this._macroEnabled&&(t+='<Relationship Target="vbaProject.bin" Type="http://schemas.microsoft.com/office/2006/relationships/vbaProject" Id="rId'+(this._xlRels.length+4)+'"/>'),t+"</Relationships>"},s._generateWorkbook=function(t){for(var e='<workbook xmlns="'+this._workbookNS+'" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships"><fileVersion rupBuild="9303" lowestEdited="5" lastEdited="5" appName="xl"/><workbookPr/><bookViews><workbookView xWindow="480" yWindow="60" windowWidth="18195" windowHeight="8505"'+(null!=t.activeWorksheet?' activeTab="'+t.activeWorksheet.toString()+'"':"")+"/></bookViews><sheets>",n=0;n<this._worksheets.length;n++)e+=this._worksheets[n];if(e+="</sheets>",t.definedNames&&t.definedNames.length>0){for(e+="<definedNames>",n=0;n<t.definedNames.length;n++){var i=-1;t.definedNames[n].sheetName&&(i=this._getSheetIndexBySheetName(t,t.definedNames[n].sheetName)),e+='<definedName name="'+t.definedNames[n].name+'" '+(i>-1?'localSheetId="'+i+'"':"")+">"+t.definedNames[n].value+"</definedName>"}e+="</definedNames>"}return e+'<calcPr fullCalcOnLoad="1"/></workbook>'},s._generateWorksheetRows=function(t,e,n,i,r,o,a,d,p,v){for(var M,T=this,k=n.rows,L=function(Me,ze){if(a&&a.cancelled)return{value:void 0};if(d&&Me-e>100&&Date.now()-t>100)return setTimeout(function(){(!a||!a.cancelled)&&(p(Math.round((Me+1)/k.length*100)),T._generateWorksheetRows(Date.now(),Me,n,i,r,o,a,d,p,v))},0),{value:void 0};var st=-1,xt=k[Me]&&k[Me].cells?k[Me].cells.length:0,yt=null;if(o.sheetData+='<row x14ac:dyDescent="0.25" r="'+(Me+1).toString()+'"',k[Me]&&(k[Me].height&&(o.sheetData+=' customHeight="1" ht="'+(72*+k[Me].height/96).toString()+'"'),k[Me].groupLevel&&(o.sheetData+=' outlineLevel="'+k[Me].groupLevel.toString()+'"'),yt=k[Me].style?Y._cloneStyle(k[Me].style):null)){(yt=Y._resolveStyleInheritance(yt)).font&&yt.font.color&&(yt.font.color=Y._parseColor(yt.font.color)),yt.fill&&yt.fill.color&&(yt.fill.color=Y._parseColor(yt.fill.color)),null==yt.hAlign||(0,u.isString)(yt.hAlign)||(yt.hAlign=hn._parseHAlignToString((0,u.asEnum)(yt.hAlign,ci))),null==yt.vAlign||(0,u.isString)(yt.vAlign)||(yt.vAlign=hn._parseVAlignToString((0,u.asEnum)(yt.vAlign,fr)));var St=JSON.stringify(yt);(_n=Y._styles.indexOf(St))<0&&(_n=Y._styles.push(St)-1),o.sheetData+=' customFormat="1" s="'+_n.toString()+'"'}for(k[Me]&&!1===k[Me].visible&&(o.sheetData+=' hidden="1"'),k[Me]&&!0===k[Me].collapsed&&(o.sheetData+=' collapsed="1"'),o.sheetData+=">";++st<xt;){var Dt=k[Me].cells[st];if(null!=Dt){var Nt="",en=-1,Rt=Dt?Dt.textRuns:null,Kt=Dt&&Dt.hasOwnProperty("value")?Dt.value:Dt,Vt=Dt&&Dt.style?Y._cloneStyle(Dt.style):{};Vt=Y._resolveStyleInheritance(Vt);var _n,jn=r[st];jn&&(jn=Y._resolveStyleInheritance(jn),Vt=Y._extend(Vt,jn)),yt&&(Vt=Y._extend(Vt,yt)),i&&(i=Y._resolveStyleInheritance(i),Vt=Y._extend(Vt,i)),null==Vt.hAlign||(0,u.isString)(Vt.hAlign)||(Vt.hAlign=hn._parseHAlignToString((0,u.asEnum)(Vt.hAlign,ci))),null==Vt.vAlign||(0,u.isString)(Vt.vAlign)||(Vt.vAlign=hn._parseVAlignToString((0,u.asEnum)(Vt.vAlign,fr))),Vt.font&&Vt.font.color&&(Vt.font.color=Y._parseColor(Vt.font.color)),Vt.fill&&Vt.fill.color&&(Vt.fill.color=Y._parseColor(Vt.fill.color)),Y._applyDefaultBorder(Vt),Vt.borders&&(Vt.borders=Y._extend({},Vt.borders),Y._parseBorder(Vt.borders,!!Vt.fill&&!!Vt.fill.color)),Dt&&Dt.isDate&&!(0,u.isDate)(Kt)&&(M=new Date(Kt),(0,u.isDate)(M)&&(Kt=M)),!(0,u.isNumber)(Kt)||!isNaN(Kt)&&isFinite(Kt)||(Kt=Kt.toString()),Rt||Kt&&(0,u.isString)(Kt)&&("@"===Vt.format||"General"===Vt.format||(+Kt).toString()!==Kt||!isFinite(+Kt))?(Y._sharedStrings[1]++,"'"===(Kt=Rt?"{RichTextMark}"+JSON.stringify(Rt):Kt)[0]&&(Vt.quotePrefix=!0,Kt=Kt.substring(1)),(en=Y._sharedStrings[0].indexOf(Kt))<0&&(en=Y._sharedStrings[0].push(Kt)-1),Kt=en,Nt="s"):(0,u.isBoolean)(Kt)?(Kt=Kt?1:0,Nt="b"):(0,u.isDate)(Kt)?(Kt=Y._convertDate(Kt),Vt.format=Vt.format||"mm-dd-yy"):(0,u.isObject)(Kt)&&(Kt=null),St=JSON.stringify(Vt),(_n=Y._styles.indexOf(St))<0&&(_n=Y._styles.push(St)-1),Dt&&(Dt.colSpan>1||Dt.rowSpan>1)&&(Dt.colSpan=Dt.colSpan||1,Dt.rowSpan=Dt.rowSpan||1,Y._checkRangeForIntersections(o.merges,Me,Dt.rowSpan,st,Dt.colSpan)&&o.merges.push([Me,Dt.rowSpan,st,Dt.colSpan])),Dt&&Dt.link&&(null==o.hyperlinks&&(o.hyperlinks=[]),o.hyperlinks.push({ref:hn.xlsxAddress(Me,st),value:Kt,href:Dt.link})),Vt=null,o.sheetData+=Y._generateCell(Me,st,_n,Nt,Kt,Dt&&Dt.formula?Dt.formula:null)}}o.sheetData+="</row>"},Y=this,ce=e,ae=k.length;ce<ae;ce++){var Ee=L(ce);if("object"==typeof Ee)return Ee.value}o.merges&&(o.merges=o.merges.map(function(Me){var ze=Me[0],st=Me[1],xt=Me[2],yt=Me[3];return[T._numAlpha(xt)+(ze+1),T._numAlpha(xt+yt-1)+(ze+st)]})),(0,u.isFunction)(v)&&v()},s._generateWorkSheet=function(t,e,n,i,r,o){var a=this,d=e.sheets[t];if(!d)throw"Worksheet should not be empty!";o(0),this._collectNotes(d,t);var p=new ta(i),v=d.columns,M=this._cloneColumnsStyle(v),T=d.style?this._cloneStyle(d.style):null,k='<worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main"'+this._generateSheetGlobalSetting(t,d,e),L={hyperlinks:[],merges:[],sheetData:"<sheetData>"};return this._generateWorksheetRows(Date.now(),0,d,T,M,L,i,r,o,function(){var Y=t+1;if(L.sheetData+="</sheetData>",v&&v.length>0){k+="<cols>";for(var ce=0;ce<v.length;ce++)k+=a._generateWorksheetColumn(M[ce],v[ce],ce);var ae=d._extraColumn;ae&&(ae.min=Math.max(v.length,ae.min),ae.min<=ae.max&&(k+=a._generateWorksheetColumn(ae.style,ae,-1))),k+="</cols>"}L.sheetData=k+L.sheetData,k=L.sheetData,L.sheetData=null,L.merges.length>0&&(k+=a._generateMergeSetting(L.merges));var Ee=1,Me=0;a._sheetHasNotes(t)&&(Me=Ee++);var ze=L.hyperlinks;if(ze&&ze.length>0){for(k+="<hyperlinks>",ce=0;ce<ze.length;ce++)/\'?(\w+)\'?\!\$?[A-Za-z]{1,2}\$?\d+(:\$?[A-Za-z]{1,2}\$?\d+)?/.test(ze[ce].href)||/^\$?[A-Za-z]{1,2}\$?\d+(:\$?[A-Za-z]{1,2}\$?\d+)?$/.test(ze[ce].href)?k+='<hyperlink ref="'+ze[ce].ref+'" display="'+ze[ce].value+'" location="'+ze[ce].href+'"/>':(null==d.externalLinks&&(d.externalLinks=[]),d.externalLinks.push(ze[ce].href),k+='<hyperlink ref="'+ze[ce].ref+'" r:id="rId'+Ee+'"/>',Ee++);k+="</hyperlinks>"}if(k+='<pageMargins left="0.7" right="0.7" top="0.75" bottom="0.75" header="0.3" footer="0.3"/>',d.tables&&d.tables.length>0){for(k+='<tableParts count="'+d.tables.length+'">',ce=0;ce<d.tables.length;ce++)k+='<tablePart r:id="rId'+Ee+'"/>',Ee++;k+="</tableParts>"}Me>0&&(k+='<legacyDrawing r:id="rId'+Me+'"/>'),n.file("sheet"+Y+".xml",a._xmlDescription+(k+="</worksheet>")),k=null,a._contentTypes.unshift('<Override ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml" PartName="/xl/worksheets/sheet'+Y+'.xml"/>'),a._props.unshift(a._escape(d.name)||"Sheet"+Y),a._xlRels.unshift('<Relationship Target="worksheets/sheet'+Y+'.xml" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Id="rId'+Y+'"/>');var yt='<sheet r:id="rId'+Y+'" sheetId="'+Y+'" name="'+(a._escape(d.name)||"Sheet"+Y)+'"'+(!1===d.visible?' state="hidden"':"")+"/>";a._worksheets.unshift(yt),o(100),p.resolve()}),p},s._generateWorksheetColumn=function(t,e,n){var i=-1,r="";if(!this._isEmpty(t)){(t=this._resolveStyleInheritance(t)).font&&t.font.color&&(t.font.color=this._parseColor(t.font.color)),t.fill&&t.fill.color&&(t.fill.color=this._parseColor(t.fill.color)),null==t.hAlign||(0,u.isString)(t.hAlign)||(t.hAlign=hn._parseHAlignToString((0,u.asEnum)(t.hAlign,ci))),null==t.vAlign||(0,u.isString)(t.vAlign)||(t.vAlign=hn._parseVAlignToString((0,u.asEnum)(t.vAlign,fr)));var o=JSON.stringify(t);(i=this._styles.indexOf(o))<0&&(i=this._styles.push(o)-1)}if(!this._isEmpty(e)){var a=e.width;if(a=null!=a?"string"==typeof a&&a.indexOf("ch")>-1?this._parseCharCountToCharWidth(a.substring(0,a.indexOf("ch"))):this._parsePixelToCharWidth(a):8.43,-1==n)r+='<col min="'+e.min+'" max="'+e.max+'"';else{var d=(n+1).toString();r+='<col min="'+d+'" max="'+d+'"'}i>=0&&(r+=' style="'+i.toString()+'"'),a&&(r+=' width="'+a+'" customWidth="1"'),!1!==e.autoWidth&&(r+=' bestFit="1"'),!1===e.visible&&(r+=' hidden="1"'),r+="/>"}return r},s._generateSharedStringsDoc=function(){for(var t='<sst xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" count="'+this._sharedStrings[1]+'" uniqueCount="'+this._sharedStrings[0].length+'">',e=0;e<this._sharedStrings[0].length;e++){t+="<si>";var n=this._sharedStrings[0][e];if(n&&0===n.indexOf("{RichTextMark}"))try{var i=JSON.parse(n.substring(14));t+=this._generateTextRuns(i,this._defaultFontName.toLowerCase())+"</si>"}catch{t+=this._generatePlainText(n)+"</si>"}else t+=this._generatePlainText(n)+"</si>"}return t+"</sst>"},s._generateTextRuns=function(t,e){var n="";if(t&&t.length>0)for(var i=0;i<t.length;i++){n+="<r>";var r=t[i];if(r.font){var o=!r.font.family||r.font.family.toLowerCase()===e;n+=this._generateFontStyle(r.font,o,!0)}n+=this._generatePlainText(r.text),n+="</r>"}return n},s._generatePlainText=function(t){if(""===t)return"<t/>";var e="<t";return((0,u.isNullOrWhiteSpace)(t)||/^\s+\w*|\w*\s+$/.test(t))&&(e+=' xml:space="preserve"'),e+">"+this._escape(t)+"</t>"},s._generateTable=function(t,e){var n=this._tables.length+1,i="table"+n+".xml";t.fileName=i,this._tables.push(i);var r='<table ref="'+t.range+'" displayName="'+t.name+'" name="'+t.name+'" id="'+n+'" '+(!1===t.showHeaderRow?'headerRowCount="0" ':"")+(!0===t.showTotalRow?'totalsRowCount="1" ':'totalsRowShown="0" ')+' xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main">';!1!==t.showHeaderRow&&(r+=this._generateTableFilterSetting(t.range,t.showTotalRow,t.columns)),r+='<tableColumns count="'+t.columns.length+'">';for(var o="",a=0;a<t.columns.length;a++){var d=t.columns[a];o+='<tableColumn name="'+d.name+'" id="'+(a+1)+'" ',d.totalRowFunction?this._tableColumnFunctions.indexOf(d.totalRowFunction)>-1?o+='totalsRowFunction="'+d.totalRowFunction+'"/>':o+='totalsRowFunction="custom"><totalsRowFormula>'+d.totalRowFunction+"</totalsRowFormula></tableColumn>":o+=(d.totalRowLabel?'totalsRowLabel="'+d.totalRowLabel+'"':"")+"/>"}if(r+=o+"</tableColumns>",r+='<tableStyleInfo name="'+t.style.name+'" showColumnStripes="'+(t.showBandedColumns?"1":"0")+'" showRowStripes="'+(t.showBandedRows?"1":"0")+'" showLastColumn="'+(t.alterLastColumn?"1":"0")+'" showFirstColumn="'+(t.alterFirstColumn?"1":"0")+'"/></table>',!this._isBuiltInStyleName(t.style.name)){var p=JSON.stringify(t.style);-1===this._tableStyles.indexOf(p)&&this._tableStyles.push(p)}e.file(i,this._xmlDescription+r),r=null},s._generateTableFilterSetting=function(t,e,n){var i=t;if(e){var r=i.indexOf(":")+1,o=hn.tableAddress(i.substring(i.indexOf(":")+1));o.row-=1,i=i.substring(0,r)+hn.xlsxAddress(o.row,o.col)}for(var a='<autoFilter ref="'+i+'"',d="",p=0;p<n.length;p++)!1===n[p].showFilterButton&&(d+='<filterColumn hiddenButton="1" colId="'+p+'"/>');return a+(""===d?"/>":">"+d+"</autoFilter>")},s._generateHyperlinkRel=function(t,e){for(var n="",i=0;i<t.length;i++)n+='<Relationship TargetMode="External" Target="'+t[i]+'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink" Id="rId'+(e+i)+'"/>';return n},s._getDxfs=function(){for(var t,e=this,n=0;n<this._tableStyles.length;n++)t=JSON.parse(this._tableStyles[n]),Object.keys(t).forEach(function(i){var r,o,a=t[i];a&&!(0,u.isString)(a)&&!e._isEmptyStyleEle(a)&&(r=JSON.stringify(a),-1===(o=e._dxfs.indexOf(r))&&(o=e._dxfs.push(r)-1,a.styleIndex=o))}),this._tableStyles[n]=t},s._generateDxfs=function(){for(var t,e='<dxfs count="'+this._dxfs.length+'">',n=0;n<this._dxfs.length;n++)e+="<dxf>",(t=JSON.parse(this._dxfs[n])).font&&(e+=this._generateFontStyle(t.font)),t.fill&&t.fill.color&&(e+=this._generateFillStyle("solid",t.fill.color,!0)),t.borders&&!this._isEmpty(t.borders)&&(t.borders=this._extend({},t.borders),this._parseBorder(t.borders,!1),e+=this._generateBorderStyle(t.borders,!0)),e+="</dxf>";return e+"</dxfs>"},s._generateTableStyles=function(){for(var t,e,n,i,r,o,a='<tableStyles count="'+this._tableStyles.length+'" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleLight16">',d=0;d<this._tableStyles.length;d++){t=this._tableStyles[d],e=Object.keys(t),r="",o=0;for(var p=0;p<e.length;p++)if(i=t[n=e[p]],!(0,u.isString)(i)){switch(o++,r+="<tableStyleElement",null!=i.styleIndex&&(r+=' dxfId="'+i.styleIndex+'"'),n){case"firstBandedColumnStyle":r+=' type="firstColumnStripe"',null!=i.size&&(r+=' size="'+i.size+'"');break;case"secondBandedColumnStyle":r+=' type="secondColumnStripe"',null!=i.size&&(r+=' size="'+i.size+'"');break;case"firstBandedRowStyle":r+=' type="firstRowStripe"',null!=i.size&&(r+=' size="'+i.size+'"');break;case"secondBandedRowStyle":r+=' type="secondRowStripe"',null!=i.size&&(r+=' size="'+i.size+'"');break;default:r+=' type="'+n.substring(0,n.length-5)+'"'}r+="/>"}o>0&&(a+='<tableStyle count="'+o+'" name="'+t.name+'" pivot="0">',a+=r+"</tableStyle>")}return a+"</tableStyles>"},s._isEmptyStyleEle=function(t){return this._isEmpty(t.borders)&&(this._isEmpty(t.fill)||(0,u.isNullOrWhiteSpace)(t.fill.color))&&(this._isEmpty(t.font)||!0!==t.font.bold&&(0,u.isNullOrWhiteSpace)(t.font.color)&&(0,u.isNullOrWhiteSpace)(t.font.family)&&!0!==t.font.italic&&null==t.font.size&&!0!==t.font.underline)},s._getTableFileName=function(t,e){for(var n="",i=0;i<t.length;i++){var r=t[i];if(r.name===e){n=r.fileName;break}}return n},s._getColor=function(t,e){var n,i=-1,r=-1,o=-1;if(e&&-1===(i=t.search(/<fgcolor/i))&&-1===(r=t.search(/<bgcolor/i))||!e&&-1===(o=t.search(/<color/i)))return null;if(e){var a=i>=0?i:r,d=a>=0?t.search(/<\/fgc/i):t.indexOf(/<\/bgc/i);d=d>0?d:t.indexOf("/>"),t=t.substring(a,d)}else t=t.substring(o);if(-1!==t.indexOf("rgb="))(n=this._getAttr(t,"rgb"))&&8===n.length&&(n=n.substring(2));else if(-1!==t.indexOf("indexed")){var p=+this._getAttr(t,"indexed");n=this._indexedColors[p]||""}else if(-1!==t.indexOf("auto")&&"1"===this._getAttr(t,"auto"))n="#000000";else{var v,M=+this._getAttr(t,"theme");-1!==t.indexOf("tint")&&(v=+this._getAttr(t,"tint")),n=this._getThemeColor(M,v)}return n&&"#"===n[0]?n:"#"+n},s._getThemeColor=function(t,e){if(!this._colorThemes)return"#000000";var n=this._colorThemes[t];if(null!=e){var i=new u.Color("#"+n),r=i.getHsl();return r[2]=e<0?r[2]*(1+e):r[2]*(1-e)+(1-1*(1-e)),(i=u.Color.fromHsl(r[0],r[1],r[2])).toString().substring(1)}return n},s._parseColor=function(t){var e=this._parsedColors[t];if(!e){var n=new u.Color(t);n.a<1&&(n=u.Color.toOpaque(n)),this._parsedColors[t]=e=n.toString()}return e},s._getsBaseSharedFormulas=function(t){var e,n,i,r=t.match(/\<f[^<]*ref[^<]*>[^<]+(?=\<\/f>)/g);if(this._sharedFormulas=[],r&&r.length>0)for(var o=0;o<r.length;o++)n=this._getAttr(e=r[o],"si"),i=(i=this._getAttr(e,"ref"))?i.substring(0,i.indexOf(":")):"",e=e.replace(/(\<f.*>)(.+)/,"$2"),this._sharedFormulas[+n]=this._parseSharedFormulaInfo(i,e)},s._parseSharedFormulaInfo=function(t,e){var n,i,r,o,a,d=e.match(/(\'?\w+\'?\!)?(\$?[A-Za-z]+)(\$?\d+)/g);if(o=hn.tableAddress(t),d&&d.length>0){a=[];for(var p=0;p<d.length;p++)e=e.replace(n=d[p],"{"+p+"}"),(i=n.indexOf("!"))>0&&(r=n.substring(0,i),n=n.substring(i+1)),a[p]={cellAddress:hn.tableAddress(n),sheetRef:r}}return{cellRef:o,formula:e,formulaRefs:a}},s._getSharedFormula=function(t,e){var n,i,r,o,a,M,T,k,L;if(this._sharedFormulas&&this._sharedFormulas.length>0&&(n=this._sharedFormulas[+t])){if(M=n.formula,(T=n.formulaRefs)&&T.length>0){r=(i=hn.tableAddress(e)).row-(n.cellRef?n.cellRef.row:0),o=i.col-(n.cellRef?n.cellRef.col:0);for(var Y=0;Y<T.length;Y++)a=(k=T[Y]).cellAddress.row+(k.cellAddress.absRow?0:r),L=hn.xlsxAddress(a,k.cellAddress.col+(k.cellAddress.absCol?0:o),k.cellAddress.absRow,k.cellAddress.absCol),null!=k.sheetRef&&""!==k.sheetRef&&(L=k.sheetRef+"!"+L),M=M.replace("{"+Y+"}",L)}return M}return""},s._convertDate=function(t){var e,n,i=new Date(1900,0,0),r=Date.UTC(1900,0,0),o="[object Date]"===Object.prototype.toString.call(t),a=6e4*((o?t.getTimezoneOffset():(new Date).getTimezoneOffset())-i.getTimezoneOffset()),d=i.getTime()-r-6e4*i.getTimezoneOffset();return o?(t.getTime()-i.getTime()-a+d)/864e5+1:(0,u.isNumber)(t)?(e=t>59?1:0,0!=(a=6e4*((n=new Date(1e3*Math.round((+i+864e5*(t-e))/1e3))).getTimezoneOffset()-i.getTimezoneOffset()))?new Date(1e3*Math.round((+i+a-d+864e5*(t-e))/1e3)):n):null},s._parseBorder=function(t,e){for(var n in{left:0,right:0,top:0,bottom:0,diagonal:0}){var i=t[n];i&&((0,u.isString)(i.color)&&(i.color=this._parseColor(i.color)),null==i.style||(0,u.isString)(i.style)||(i.style=hn._parseBorderTypeToString((0,u.asEnum)(i.style,ji,!1))),!e&&i.color&&"#c6c6c6"===i.color.toLowerCase()&&"thin"===i.style&&(t[n]=null))}},s._applyDefaultBorder=function(t){if(t.fill&&t.fill.color)for(var e in null==t.borders&&(t.borders={}),{left:0,right:0,top:0,bottom:0})null==t.borders[e]&&(t.borders[e]={style:ji.Thin,color:"#C6C6C6"})},s._resolveStyleInheritance=function(t){var e;if(!t.basedOn)return t;for(var n in t.basedOn)if("basedOn"===n)for(n in e=this._resolveStyleInheritance(t.basedOn)){var i=e[n];t[n]=null==t[n]?i:this._extend(t[n],i)}else i=t.basedOn[n],t[n]=null==t[n]?i:this._extend(t[n],i);return delete t.basedOn,t},s._parsePixelToCharWidth=function(t){return null==t||isNaN(+t)?null:t<5?0:((+t-5)/7*100+.5)/100},s._parseCharWidthToPixel=function(t){return null==t||isNaN(+t)?null:Math.floor((256*+t+128/7)/256*7)+5},s._parseCharCountToCharWidth=function(t){return null==t||isNaN(+t)?null:(7*+t+5)/7*256/256},s._numAlpha=function(t){for(var e="",n=this._alphabet;t>=0;)e=n[t%26]+e,t=Math.floor(t/26)-1;return e},s._alphaNum=function(t){for(var e=0,n=t.length,i=this._alphabetMap,r=0;r<n-1;r++)e+=(i[t[r]]+1)*Math.pow(26,n-(r+1));return e+i[t[n-1]]},s._typeOf=function(t){return{}.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase()},s._extend=function(t,e){if((0,u.isObject)(t)&&(0,u.isObject)(e)){for(var n in e){var i=e[n];(0,u.isObject)(i)&&null!=t[n]?this._extend(t[n],i):null!=i&&null==t[n]&&(t[n]=i)}return t}return e},s._isEmpty=function(t){var e=Object.prototype.hasOwnProperty;if(null==t)return!0;if(t.length>0)return!1;if(0===t.length)return!0;for(var n in t)if(e.call(t,n))return!1;return!0},s._cloneStyle=function(t){var e;if(null==t||"object"!=typeof t)return t;for(var n in e={},t)t.hasOwnProperty(n)&&(e[n]=this._cloneStyle(t[n]));return e},s._cloneColumnsStyle=function(t){for(var e,n=[],i=0;i<t.length;i++)(e=t[i])&&e.style&&(n[i]=this._cloneStyle(e.style));return n},s._getSheetIndex=function(t){return+(t=t.substring(0,t.lastIndexOf(".xml"))).substring(t.lastIndexOf("sheet")+5)},s._checkRangeForIntersections=function(t,e,n,i,r){for(var o=0;o<t.length;o++){var a=t[o],d=a[0],v=a[2];if(!(e>d+a[1]-1||e+n-1<d||i>v+a[3]-1||i+r-1<v))return!1}return!0},s._getAttr=function(t,e){var n=t.indexOf(e+'="');return n>=0?t.substring(n+=e.length+2,t.indexOf('"',n)):""},s._getChildNodeValue=function(t,e){var n=t.indexOf(e+' val="');return n>=0?t.substring(n+=e.length+6,t.indexOf('"',n)):""},s._getElementValue=function(t,e,n,i){var r=t.indexOf("<"+e);if(r>=0){var o=void 0;return(r=t.indexOf(">",r+1+e.length))>0&&"/"!==t[r-1]&&(o=t.substring(r+1,t.indexOf("</",r+1))),o||i}return n},s._getSubElement=function(t,e){if(t){var n=t.indexOf("<"+e);if(n>=0){var i=n+1+e.length,r=t.indexOf("</"+e,i);return r<0&&(r=t.indexOf("/>",i)),t.substring(i,r)}}},s._getSheetIndexBySheetName=function(t,e){for(var n=0;n<t.sheets.length;n++)if(t.sheets[n].name===e)return n;return-1},s._sheetHasNotes=function(t){return!!this._notes[t]},s._collectNotes=function(t,e){for(var n,i=t.rows,r=0,o=i.length;r<o;r++){var a=i[r];if(a)for(var d=0,p=a.cells.length;d<p;d++){var v=a.cells[d];if(v){var M=v.note;M&&(null!=M.text||M.textRuns&&M.textRuns.length>0)&&(n||(n=this._notes[e])||(this._notes[e]=n=[]),M._row=r,M._col=d,n.push(M))}}}},s._alphabet="ABCDEFGHIJKLMNOPQRSTUVWXYZ",s._alphabetMap="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("").reduce(function(t,e,n){return t[e]=n,t},{}),s._indexedColors=["000000","FFFFFF","FF0000","00FF00","0000FF","FFFF00","FF00FF","00FFFF","000000","FFFFFF","FF0000","00FF00","0000FF","FFFF00","FF00FF","00FFFF","800000","008000","000080","808000","800080","008080","C0C0C0","808080","9999FF","993366","FFFFCC","CCFFFF","660066","FF8080","0066CC","CCCCFF","000080","FF00FF","FFFF00","00FFFF","800080","800000","008080","0000FF","00CCFF","CCFFFF","CCFFCC","FFFF99","99CCFF","FF99CC","CC99FF","FFCC99","3366FF","33CCCC","99CC00","FFCC00","FF9900","FF6600","666699","969696","003366","339966","003300","333300","993300","993366","333399","333333","000000","FFFFFF"],s._numFmts=["General","0","0.00","#,##0","#,##0.00",,,"$#,##0.00_);($#,##0.00)",,"0%","0.00%","0.00E+00","# ?/?","# ??/??","m/d/yyyy","d-mmm-yy","d-mmm","mmm-yy","h:mm AM/PM","h:mm:ss AM/PM","h:mm","h:mm:ss","m/d/yy h:mm",,,,,,,,,,,,,,,"#,##0 ;(#,##0)","#,##0 ;[Red](#,##0)","#,##0.00;(#,##0.00)","#,##0.00;[Red](#,##0.00)",,,,,"mm:ss","[h]:mm:ss","mmss.0","##0.0E+0","@"],s._tableColumnFunctions="average, count, countNums, max, min, stdDev, sum, var",s._xmlDescription='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>',s._workbookNS="http://schemas.openxmlformats.org/spreadsheetml/2006/main",s._relationshipsNS="http://schemas.openxmlformats.org/package/2006/relationships",s._defaultFontName="Calibri",s._defaultFontSize=11,s._macroEnabled=!1,s._defaultColorThemes=["FFFFFF","000000","EEECE1","1F497D","4F818D","C0504D","9BBB59","8064A2","4BACC6","F79646"],s._asciiCtrlReplacements=["_x0000_","_x0001_","_x0002_","_x0003_","_x0004_","_x0005_","_x0006_","_x0007_","_x0008_","\t","\n","_x000B_","_x000C_","\r","_x000E_","_x000F_","_x0010_","_x0011_","_x0012_","_x0013_","_x0014_","_x0015_","_x0016_","_x0017_","_x0018_","_x0019_","_x001A_","_x001B_","_x001C_","_x001D_","_x001E_","_x001F_"],s._parsedColors={},s}(),_l=function(){function s(t){this.value=t}return s.prototype.then=function(t,e){return new s(t?t(this.value):null)},s.prototype.catch=function(t){return this.then(null,t)},s.resolve=function(){return new s},s}(),Us=function(){function s(t){this._obj=t}return s.prototype.loadAsync=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=(t=this._obj).load.apply(t,e);return new _l(this._wrapOrNull(i))},s.prototype.file=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=(t=this._obj).file.apply(t,e);return this._wrapOrNull(i)},Object.defineProperty(s.prototype,"name",{get:function(){return this._obj.name},enumerable:!0,configurable:!0}),s.prototype.async=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t=e&&e.length>0&&"uint8array"===e[0].toLowerCase()?this._obj.asUint8Array():this._obj.asText(),new _l(t)},s.prototype.folder=function(t){var e=this._obj.folder(t);return this._wrapOrNull(e)},s.prototype.forEach=function(t){var e=this._obj.root,n=e.length,i=this._obj.files;for(var r in i)r.length>n&&r.substr(0,n).toLowerCase()===e&&t(r.substr(n),new s(i[r]))},s.prototype._wrapOrNull=function(t){return null!=t?new s(t):null},s}(),ta=function(){function s(t,e){this._callbacks=[],this._cs=t,this._onCancel=e}return s.serial=function(t,e){e=e.slice();var n=new s(t),i=[],r=function(){n.cancelled?e=[]:e.length?e.shift()().then(function(o){i.push(o),r()},function(o){e=[],n.reject(o)}):n.resolve(i)};return r(),n},s.prototype.cancel=function(t){void 0===t&&(t=!0),this._cancelled=!0,t&&this._onCancel&&this._onCancel()},Object.defineProperty(s.prototype,"cancelled",{get:function(){return this._cancelled||this._cs&&this._cs.cancelled},enumerable:!0,configurable:!0}),s.prototype.then=function(t,e){return this._callbacks.push({onFulfilled:t,onRejected:e}),this._resolved&&this.resolve(this._resolved.value),this},s.prototype.catch=function(t){return this.then(null,t)},s.prototype.resolve=function(t){if(this.cancelled)return this;this._resolved={value:t};try{this.onFulfilled(t)}catch(e){this.onRejected(e)}return this},s.prototype.reject=function(t){return this.cancelled||this.onRejected(t),this},s.prototype.onFulfilled=function(t){for(;this._callbacks.length;){var e=this._callbacks[0];e.onFulfilled&&e.onFulfilled(t),this._callbacks.shift()}},s.prototype.onRejected=function(t){for(var e;e=this._callbacks.shift();)e.onRejected&&e.onRejected(t)},s}(),ko=function(){function s(t){this._colsWidthCnt=0,this._colsWidth=[],this._rowsHeightCnt=0,this._rowsHeight=[],this._cols=t.columns,this._rows=t.rows}return s.prototype.toAnchor=function(t,e,n){var i,r,o,a,d,p,v,M,T=t.offsetX,k=t.offsetY;if(T<0){var L=void 0;for(i=n,r=-T;i>=0&&!(r<=(L=this._getColWidth(i)));i--)r-=L;r=L-r}else for(i=n+1,r=T;r>=0&&!(r<=(L=this._getColWidth(i)));i++)r-=L;if(k<0)for(o=e-1,a=-k;o>=0&&!(a<=(Y=this._getRowHeight(o)));o--)a-=Y;else for(o=e,a=k;a>=0;o++){var Y;if(a<=(Y=this._getRowHeight(o)))break;a-=Y}for(d=i,p=r+t.width;p>=0&&!(p<=(L=this._getColWidth(d)));d++)p-=L;for(v=o,M=a+t.height;M>=0;v++){var ce=this._getRowHeight(v);if(M<=ce)break;M-=ce}return[i,r,o,a,d,p,v,M]},s.prototype.fromAnchor=function(t,e,n,i){var r=t[0],o=t[1],a=t[2],d=t[3],p=t[4],v=t[5],M=t[6],T=t[7],k=0;if(i===r)k=-(this._getColWidth(i)-o);else if(r>i){k+=o;for(var L=i+1,Y=r-1;L<=Y;L++)k+=this._getColWidth(L)}else{for(L=r+1,Y=i;L<=Y;L++)k-=this._getColWidth(L);k-=this._getColWidth(r)-o}var ce=0;if(n===a)ce=d;else if(a>n){for(var ae=n,Ee=a-1;ae<=Ee;ae++)ce+=this._getRowHeight(ae);ce+=d}else{var Me=a+1;for(Ee=n;Me<Ee;Me++)ce-=this._getRowHeight(Me);ce-=this._getRowHeight(a)-d}var ze=0;if(r===p)ze=v-o;else{for(L=r+1,Y=p-1;L<=Y;L++)ze+=this._getColWidth(L);ze+=this._getColWidth(r)-o,ze+=v}var st=0;if(a===M)st=T-d;else{var xt=a+1;for(Ee=M-1;xt<=Ee;xt++)st+=this._getRowHeight(xt);st+=this._getRowHeight(a)-d,st+=T}e.offsetX=k,e.offsetY=ce,e.width=ze,e.height=st},s.prototype._getColWidth=function(t){var e=this._colsWidth[t];if(null==e){this._colsWidthCnt>1e3&&(this._colsWidth=[],this._colsWidthCnt=0);var n=this._cols[t];e=!n||null==n.visible||n.visible?n&&null!=n.width?Math.max(n.width-5,0):64:0,this._colsWidth[t]=e,this._colsWidthCnt++}return e},s.prototype._getRowHeight=function(t){var e=this._rowsHeight[t];if(null==e){this._rowsHeightCnt>1e3&&(this._rowsHeight=[],this._rowsHeightCnt=0);var n=this._rows[t];this._rowsHeight[t]=e=!n||null==n.visible||n.visible?n&&null!=n.height?n.height:20:0,this._rowsHeightCnt++}return e},s}();function aa(s,t,e,n,i){var r=e-t;return 0==r&&(r=1),(i-n)/r*(s-t)+n}var Ua=String.fromCodePoint||function(s){return s<=65535?String.fromCharCode(s):(s-=65536,String.fromCharCode(55296+(s>>10),s%1024+56320))},lt=0;(0,u._registerModule)("wijmo.xlsx",ve);var rl=function(){var s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();function na(){return(0,u._getModule)("wijmo.grid.detail")}function Ur(){return(0,u._getModule)("wijmo.grid.multirow")}function nc(){return(0,u._getModule)("wijmo.grid.transposed")}function Il(){return(0,u._getModule)("wijmo.grid.transposedmultirow")}var ca,la=function(){function s(){}return s.save=function(t,e,n,i){var r=new hn;return this._saveFlexGridToWorkbook(r,t,e,!1,null,void 0,i),n&&r.save(n),r},s.saveAsync=function(t,e,n,i,r,o,a,d){var p=this,v=new hn;if(!a)return this._saveFlexGridToWorkbook(v,t,e,!1,null,void 0,d),n?v.saveAsync(n,function(T){(0,u.isFunction)(i)&&i(T,v)},r,null):(0,u.isFunction)(i)&&i(null,v),v;var M=null!=n;return this.cancelAsync(function(){var T,k=[t.collectionView&&t.collectionView.collectionChanged,t.columns&&t.columns.collectionChanged,t.rows&&t.rows.collectionChanged,t.resizedColumn,t.resizedRow],L=function(){return k.forEach(function(ae){ae&&ae.removeHandler(Y)})},Y=function(){p._cs&&p._cs.cancel(!1),clearTimeout(T),T=setTimeout(function(){L(),v=null,p.saveAsync(t,e,n,i,r,o,void 0,d)},100)},ce=function(){clearTimeout(T),p._cs=null,L()};p._cs=new ta(null,ce),k.forEach(function(ae){ae&&ae.addHandler(Y)}),p._saveFlexGridToWorkbook(v,t,e,!0,p._cs,function(ae){(0,u.isFunction)(o)&&o(M?Math.round(aa(ae,0,100,0,50)):ae)},d).then(function(){n?(v._externalCancellation=function(){return p._cs},v.saveAsync(n,function(ae){ce(),(0,u.isFunction)(i)&&i(ae,v)},function(ae){ce(),(0,u.isFunction)(r)&&r(ae)},function(ae){(0,u.isFunction)(o)&&o(Math.round(aa(ae,0,100,51,100)))})):(ce(),(0,u.isFunction)(o)&&o(100),(0,u.isFunction)(i)&&i(null,v))},function(ae){throw ce(),ae})}),null},s.cancelAsync=function(t){var e=this;this._cs?(this._cs.cancel(),setTimeout(function(){e._cs=null,(0,u.isFunction)(t)&&t()},100)):(0,u.isFunction)(t)&&t()},s.load=function(t,e,n){var i=this;if(e instanceof Blob)mc(e,function(o){e=null;var a=new hn;a.load(o,n?n.includeStyles:void 0),o=null,t.deferUpdate(function(){i._loadToFlexGrid(t,a,n),a=null})});else if(e instanceof hn)t.deferUpdate(function(){i._loadToFlexGrid(t,e,n),e=null});else{if(!(e instanceof ArrayBuffer||(0,u.isString)(e)))throw"Invalid workbook.";var r=new hn;r.load(e,n?n.includeStyles:void 0),e=null,t.deferUpdate(function(){i._loadToFlexGrid(t,r,n),r=null})}},s.loadAsync=function(t,e,n,i,r){var o=this;if(e instanceof Blob)mc(e,function(d){e=null;var p=new hn;p.loadAsync(d,function(){d=null,t.deferUpdate(function(){o._loadToFlexGrid(t,p,n),i&&i(p),p=null})},r,n?n.includeStyles:void 0)});else if(e instanceof hn)t.deferUpdate(function(){o._loadToFlexGrid(t,e,n),i&&i(e),e=null});else{if(!(e instanceof ArrayBuffer||(0,u.isString)(e)))throw"Invalid workbook.";var a=new hn;a.loadAsync(e,function(){e=null,t.deferUpdate(function(){o._loadToFlexGrid(t,a,n),i&&i(a),a=null})},r,n?n.includeStyles:void 0)}},s._saveFlexGridToWorkbook=function(t,e,n,i,r,o,a){var d=new ta(r),p=new Xi,v=!n||null==n.includeColumnHeaders||n.includeColumnHeaders,M=!(!n||null==n.includeRowHeaders)&&n.includeRowHeaders,T=ca.Cache,k=n?n.includeColumns:null,L=n?n.formatItem:null,Y=[],ce=n&&null!=n.convertHtmlEntities?(0,u.asEnum)(n.convertHtmlEntities,rc):rc.Auto;n&&(null!=n.includeCellStyles&&(0,u._deprecated)("includeCellStyles","includeStyles"),T=!1===(0,u.asBoolean)(null!=n.includeStyles?n.includeStyles:n.includeCellStyles,!0)?ca.None:!1===(0,u.asBoolean)(n.quickCellStyles,!0)?ca.Regular:ca.Cache);var ae=T===ca.Cache?new ic(500):null;null==this.hasCssText&&(this.hasCssText="cssText"in document.body.style),p.name=n?n.sheetName:"",p.visible=!n||!1!==n.sheetVisible,p.rightToLeft=e.rightToLeft;var Ee,Me=e.wj_sheetInfo;if(Me&&Me.tables&&Me.tables.length>0)for(var ze=0;ze<Me.tables.length;ze++)p.tables.push(Me.tables[ze]);!Me&&(T!==ca.None||L)&&((Ee=document.createElement("div")).style.visibility="hidden",Ee.setAttribute(It._WJS_MEASURE,"true"),e.hostElement.appendChild(Ee));var st=M?e.rowHeaders.columns.length:0,xt=this._getPerRowColumnsSettings(e,M?[e.topLeftCells,e.columnHeaders]:[e.columnHeaders]),yt=xt.cols,St=Ur()&&e instanceof Ur().MultiRow?this._getPerRowColumnsSettings(e,M?[e.rowHeaders,e.cells]:[e.cells],e.rowsPerItem).cols:null,Dt=yt.length,Nt=[[e.topLeftCells,e.columnHeaders],[e.rowHeaders,e.cells],[e.bottomLeftCells,e.columnFooters]];v||Nt.shift();var en=Nt.map(function(Rt){return Rt[1].rows.length}).reduce(function(Rt,Kt){return Rt+Kt});return yt.length&&yt[0].forEach(function(Rt,Kt){if(!(Kt>=st&&k)||k(xt.bndCols[0][Kt])){var jn=new yi;jn._deserialize(Rt),p._addWorkbookColumn(jn)}}),this._saveContentToWorksheet(r,i,Date.now(),0,{panels:Nt,panelIdx:0,globRowIdx:0,rowsOffset:0,totalRows:en},e,p,M,function(Rt){return Rt==X.Cell&&St?St:yt},T,Ee,Y,ae,k,ce,L,function(Rt){o(Math.round(Rt/en*100))},function(){var Rt=new oo;Rt.rows=v?e.frozenRows+Dt:e.frozenRows,Rt.columns=M?e.frozenColumns+st:e.frozenColumns;var Kt=Math.min(e.columns.length,e.frozenColumns);if(k)for(var Vt=0;Vt<Kt;Vt++)k(e.columns[Vt])||Rt.columns--;p.frozenPane=Rt,t._addWorkSheet(p),!Me&&(T!==ca.None||L)&&(e.hostElement.removeChild(Ee),Y.forEach(function(jn){return jn.forEach(function(_n){_n&&_n.parentElement&&_n.parentElement.removeChild(_n)})})),ae&&ae.clear(),t.activeWorksheet=n?n.activeWorksheet:null,d.resolve()},a),d},s._saveContentToWorksheet=function(t,e,n,i,r,o,a,d,p,v,M,T,k,L,Y,ce,ae,Ee,Me){for(var ze=this,st=Me||(v?20:200),xt=function(Nt){if(t&&t.cancelled)return{value:void 0};if(e&&Nt-i>st&&Date.now()-n>100)return setTimeout(function(){(!t||!t.cancelled)&&(ae(Nt),ze._saveContentToWorksheet(t,e,Date.now(),Nt,r,o,a,d,p,v,M,T,k,L,Y,ce,ae,Ee,Me))},0),{value:void 0};for(;Nt-r.rowsOffset>=r.panels[r.panelIdx][1].rows.length;)r.rowsOffset+=r.panels[r.panelIdx][1].rows.length,r.panelIdx++;var en=r.panels[r.panelIdx],Rt=en[0],Kt=en[1],Vt=Nt-r.rowsOffset,jn=Kt.rows[Vt];if(Kt.cellType!==X.Cell&&jn.renderSize<=0||jn instanceof Ge)return"continue";var _n=0,Wn={},wn=new er,oi=jn instanceof rt,di=0;Kt.cellType===X.Cell&&(oi?di=jn.level:o.rows.maxGroupLevel>-1&&(di=o.rows.maxGroupLevel+1));var ui=p(Kt.cellType);d&&(_n=yt._parseFlexGridRowToSheetRow(a,Rt,Wn,Vt,0,ui,v,M,T,k,oi,di,L,Y,ce)),yt._parseFlexGridRowToSheetRow(a,Kt,Wn,Vt,_n,ui,v,M,T,k,oi,di,L,Y,ce),Wn.cells.length>0&&(wn._deserialize(Wn),a._addWorkbookRow(wn,r.globRowIdx)),r.globRowIdx++},yt=this,St=i;St<r.totalRows;St++){var Dt=xt(St);if("object"==typeof Dt)return Dt.value}(0,u.isFunction)(Ee)&&Ee()},s._loadToFlexGrid=function(t,e,n){if(Il()&&t instanceof Il().TransposedMultiRow)throw"Not supported.";n=n||{};var i,r=null!=t.wj_sheetInfo,o={},a=[],d=[],p={};t.itemsSource=null,t.columns.clear(),t.columnHeaders.rows.clear(),t.rows.clear(),t.frozenColumns=0,t.frozenRows=0;var v=null==n.sheetIndex||isNaN(n.sheetIndex)?0:n.sheetIndex;if(v<0||v>=e.sheets.length)throw"The sheet index option is out of the sheet range of current workbook.";if(null!=n.sheetName)for(var M=0;M<e.sheets.length;M++)if(n.sheetName===e.sheets[M].name){i=e.sheets[M];break}if(null!=(i=i||e.sheets[v]).rows){for(var T=this._getColumnCount(i.rows),k=this._getRowCount(i.rows,T),L=i.columns,Y=0;Y<T;Y++)t.columns.push(new $t),L[Y]&&(isNaN(+L[Y].width)||(t.columns[Y].width=+L[Y].width),L[Y].visible||null==L[Y].visible||(t.columns[Y].visible=!!L[Y].visible),L[Y].style&&L[Y].style.wordWrap&&(t.columns[Y].wordWrap=L[Y].style.wordWrap));var ce,ae=(null==n.includeColumnHeaders||n.includeColumnHeaders)&&i.rows.length>0,Ee=ae?this._getColumnHeadersHeight(i):0,Me=!1,ze=[],st=i.frozenPane&&i.frozenPane.rows,xt=i.frozenPane&&i.frozenPane.columns;st=(0,u.isNumber)(st)&&!isNaN(st)?st:null,xt=(0,u.isNumber)(xt)&&!isNaN(xt)?xt:null;for(var yt=Ee;yt<k;yt++){var St=!1,Dt=null,Nt=i.rows[yt];if(Nt)for(var en=yt+1;en<i.rows.length;){var Rt=i.rows[en];if(Rt){(isNaN(Nt.groupLevel)&&!isNaN(Rt.groupLevel)||!isNaN(Nt.groupLevel)&&Nt.groupLevel<Rt.groupLevel)&&(St=!0);break}en++}if(St&&!i.summaryBelow)ce&&(ce.isCollapsed=Me),(ce=new rt).isReadOnly=!1,Me=null!=Nt.collapsed&&Nt.collapsed,ce.level=isNaN(Nt.groupLevel)?0:Nt.groupLevel,p[ce.level]=Me,this._checkParentCollapsed(p,ce.level)&&ce._setFlag(In.ParentCollapsed,!0),t.rows.push(ce);else{var Kt=new Lt;Nt&&this._checkParentCollapsed(p,Nt.groupLevel)&&Kt._setFlag(In.ParentCollapsed,!0),t.rows.push(Kt)}for(Nt&&Nt.height&&!isNaN(Nt.height)&&(t.rows[yt-Ee].height=Nt.height),Y=0;Y<T;Y++)if(Nt){var Vt=Nt.cells[Y],jn=Vt?Vt.formula:null;if(jn&&"="!==jn[0]&&(jn="="+jn),Vt&&Vt.textRuns&&Vt.textRuns.length>0)t.rows[yt-Ee].isContentHtml=!0,t.setCellData(yt-Ee,Y,this._parseTextRunsToHTML(Vt.textRuns));else{var _n=jn&&r?jn:this._getItemValue(Vt);t.setCellData(yt-Ee,Y,_n,""!=_n)}St||this._setColumn(ze,Y,Vt);var Wn=yt*T+Y,wn=Vt?Vt.style:null;if(wn&&(Dt=(null==Dt||Dt)&&!!wn.wordWrap,r)){var oi=hn._parseExcelFormat(Vt),di=void 0;if(wn.hAlign)di=hn._parseHAlignToString((0,u.asEnum)(wn.hAlign,ci));else switch(this._getItemType(Vt)){case u.DataType.Number:di="right";break;case u.DataType.Boolean:di="center";break;default:di=oi&&0===oi.search(/[n,c,p]/i)?"right":"left"}if(o[Wn]={fontWeight:wn.font&&wn.font.bold?"bold":"none",fontStyle:wn.font&&wn.font.italic?"italic":"none",textDecoration:wn.font&&wn.font.underline?"underline":"none",textAlign:di,fontFamily:wn.font&&wn.font.family?wn.font.family:"",fontSize:wn.font&&wn.font.size?wn.font.size+"px":"",color:wn.font&&wn.font.color?wn.font.color:"",backgroundColor:wn.fill&&wn.fill.color?wn.fill.color:"",whiteSpace:wn.wordWrap?"pre-wrap":"normal",format:oi},wn.borders&&(wn.borders.left&&(this._parseBorderStyle(wn.borders.left.style,"Left",o[Wn]),o[Wn].borderLeftColor=wn.borders.left.color),wn.borders.right&&(this._parseBorderStyle(wn.borders.right.style,"Right",o[Wn]),o[Wn].borderRightColor=wn.borders.right.color),wn.borders.top&&(this._parseBorderStyle(wn.borders.top.style,"Top",o[Wn]),o[Wn].borderTopColor=wn.borders.top.color),wn.borders.bottom&&(this._parseBorderStyle(wn.borders.bottom.style,"Bottom",o[Wn]),o[Wn].borderBottomColor=wn.borders.bottom.color)),wn.fill&&wn.fill.color){var ui=o[Wn],Rn=wn.borders,gi=wn.fill.color;Rn?(Rn.left&&Rn.left.color||(ui.borderLeftColor=gi),Rn.right&&Rn.right.color||Y===xt-1||(ui.borderRightColor=gi),Rn.top&&Rn.top.color||(ui.borderTopColor=gi),Rn.bottom&&Rn.bottom.color||yt===st-1||(ui.borderBottomColor=gi)):(ui.borderLeftColor=gi,Y!==xt-1&&(ui.borderRightColor=gi),ui.borderTopColor=gi,yt!==st-1&&(ui.borderBottomColor=gi))}wn.font&&-1===d.indexOf(wn.font.family)&&d.push(wn.font.family)}r&&Vt&&(0,u.isNumber)(Vt.rowSpan)&&Vt.rowSpan>0&&(0,u.isNumber)(Vt.colSpan)&&Vt.colSpan>0&&(Vt.rowSpan>1||Vt.colSpan>1)&&a.push(new W(yt,Y,yt+Vt.rowSpan-1,Y+Vt.colSpan-1))}Nt&&(this._checkParentCollapsed(p,Nt.groupLevel)||Nt.visible||null==Nt.visible||(t.rows[yt-Ee].visible=Nt.visible),t.rows[yt-Ee].wordWrap=!!Nt.style&&!!Nt.style.wordWrap||!!Dt)}for(ce&&(ce.isCollapsed=Me),null!=xt&&(t.frozenColumns=xt),null!=st&&(t.frozenRows=ae&&st>0?st-1:st),Y=0;Y<t.columnHeaders.columns.length;Y++){var Mi=ze[Y],li=t.columns[Y];li.isRequired=!1,Mi&&(Mi.dataType===u.DataType.Boolean&&(li.dataType=Mi.dataType),li.format=Mi.format,li.align=Mi.hAlign,li.wordWrap=li.wordWrap||!!Mi.wordWrap)}for(M=0;M<Math.max(Ee,1);M++)t.columnHeaders.rows.push(new Lt);for(M=0;M<Ee;M++)for(var $n=0;$n<t.columnHeaders.columns.length;$n++){var Ki=i.rows[M]?i.rows[M].cells[$n]:null,tr=Ki&&null!=Ki.value?Ki.value:"",Tr=t.columnHeaders.columns[$n];if(tr){var Io=hn._parseExcelFormat(Ki);tr=u.Globalize.format(tr,Io)}Tr.header=Tr.header||tr,t.columnHeaders.setCellData(M,$n,tr)}if(r){var cs=null!=n.sheetVisible?n.sheetVisible:!1!==i.visible;t.wj_sheetInfo.name=i.name,t.wj_sheetInfo.visible=cs,t.wj_sheetInfo.styledCells=o,t.wj_sheetInfo.mergedRanges=a,t.wj_sheetInfo.fonts=d,t.wj_sheetInfo.tables=i.tables}}},s._getColumnHeadersHeight=function(t){var e;if(!t||!(e=t.rows).length)return 0;if(!e[0])return 1;for(var n=0,i=1;n<e.length&&i>0;n++,i--){var r=e[n].cells.reduce(function(o,a){return Math.max(o,a.rowSpan||0)},1);r>i&&(i=r)}return n},s._escapePlainText=function(t){return null==t?"":""===t?"'":"'"===t[0]||t.length>1&&"="===t[0]&&"="===t[1]?"'"+t:t},s._parseFlexGridRowToSheetRow=function(t,e,n,i,r,o,a,d,p,v,M,T,k,L,Y){var ce=e.grid,ae=ce.wj_sheetInfo,Ee=e.rows[i],Me=0,ze=ae&&ae.evaluateFormula;null==Ee.recordIndex?e.cellType===X.ColumnHeader&&e.rows.length>1&&(Me=Math.min(i,o.length-1)):Me=Ee.recordIndex,n.cells||(n.cells=[]),n.visible=Ee.isVisible,n.height=Ee.renderHeight||e.rows.defaultSize,n.groupLevel=T,M&&(n.collapsed=Ee.isCollapsed),Ee.wordWrap&&(n.style={wordWrap:Ee.wordWrap});for(var st,xt=Ee.constructor===Lt||Ee.constructor===Ge||nc()&&ce instanceof nc().TransposedGrid&&Ee instanceof Lt||na()&&Ee.constructor===na().DetailRow||Ur()&&Ee.constructor===Ur()._MultiRow||Il()&&Ee instanceof Il()._MultiRow,yt=na()&&Ee.constructor===na().DetailRow,St=0,Dt=Math.round(il._parsePixelToCharWidth(ce.treeIndent)||0),Nt=function(Ll){return Ll*Dt},en=!1;St<e.columns.length;St++){var Rt=void 0,Kt=void 0,Vt=void 0,jn=1,_n=1,Wn=!1,wn=ce._getBindingColumn(e,i,e.columns[St]),oi=0;if(ae&&e===ce.cells){var di=i*e.columns.length+St;ae.mergedRanges&&(Rt=this._getMergedRange(i,St,ae.mergedRanges)),ae.styledCells&&(Kt=ae.styledCells[di])}else a!==ca.None&&(Vt=this._getMeasureCell(e,St,d,p),Kt=(Rt=ce.getMergedRange(e,i,St,!1))?this._getCellStyle(e,Vt,Rt.bottomRow,Rt.rightCol,v,!!Y)||{}:this._getCellStyle(e,Vt,i,St,v,!!Y)||{});if(Rt||(Rt=ce.getMergedRange(e,i,St,!1)),Rt?(i===Rt.topRow&&St===Rt.leftCol&&(_n=Rt.bottomRow-Rt.topRow+1,jn=this._getColSpan(e,Rt,k),Wn=!0),St>Rt.leftCol&&St<=Rt.rightCol&&en&&(Wn=!0,en=!1,jn=Rt.rightCol-St+1)):Wn=!0,!k||k(wn)){var ui=o[Me]?o[Me][St+r]:null,Rn=void 0,gi=void 0,Mi=void 0,li=void 0,$n=void 0,Ki=void 0,tr=void 0;if(xt||M){if(Mi=Wn?e.getCellData(i,St,!0):null,li=Wn?e.getCellData(i,St,!1):null,gi=this._isFormula(Mi),Rn=null,$n=(0,u.isDate)(li),e.cellType===X.ColumnHeader&&(0,u.isString)(Mi)?tr="General":Kt&&Kt.format?(/[hsmyt\:]/i.test(Ki=Kt.format)&&($n=!0),tr=hn._parseCellFormat(Kt.format,$n)):ui&&ui.style&&ui.style.format?(Ki=wn.format,tr=ui.style.format):tr=null,gi&&null!=ze&&(0,u.isFunction)(ze)&&(Rn=ze(Mi)),!tr)if($n)tr="m/d/yyyy";else if((0,u.isNumber)(li)&&!wn.dataMap)tr=(0,u.isInt)(li)?"#,##0":"#,##0.00";else if(gi){var Tr=Mi.toLowerCase();Tr.indexOf("now()")>-1?(tr="m/d/yyyy h:mm",$n=!0):Tr.indexOf("today()")>-1||Tr.indexOf("date(")>-1?(tr="m/d/yyyy",$n=!0):Tr.indexOf("time(")>-1&&(tr="h:mm AM/PM",$n=!0)}else tr="General"}else Mi=Wn?ce.columnHeaders.getCellData(0,St,!0):null,tr="General";var Io=void 0;(0,u.isString)(Mi)&&"{"!==Mi[0]&&-1!==Mi.indexOf("<span")&&(Io=this._parseToTextRuns(Mi),Mi=null);var cs=this._parseCellStyle(Kt)||{};if(e===ce.cells&&M&&Ee.hasChildren&&St===ce.columns.firstVisibleIndex){var Li=void 0;if(gi&&null!=Rn?Li=Rn:(Mi?Li=Mi:Wn&&(Li=Ee.getGroupHeader()),Li&&(Li=Li.replace(/<\/?\w+>/g,"").replace(/&#39;/g,"'"))),null==Li&&!Kt)continue;!($n=(0,u.isDate)(Li))&&Ki&&"d"===Ki.toLowerCase()&&(0,u.isInt)(Li)&&(tr="0"),Li=(0,u.isString)(Li)?hn._unescapeXML(Li):Li,St===ce.columns.firstVisibleIndex&&ce.treeIndent&&(oi=Nt(T)),st={value:Li,isDate:$n,formula:gi?this._parseToExcelFormula(Mi,$n):null,colSpan:jn,rowSpan:_n,style:this._extend(cs,{format:tr,font:ce.childItemsPath?{}:{bold:!0},hAlign:t.rightToLeft?ci.Right:ci.Left,indent:oi}),textRuns:Io}}else{var us;(M||L===rc.Auto&&wn.isContentHtml||L===rc.Yes)&&(Mi=(0,u.isString)(Mi)?hn._unescapeXML(Mi):Mi,li=(0,u.isString)(li)?hn._unescapeXML(li):li),!$n&&Ki&&"d"===Ki.toLowerCase()&&(0,u.isInt)(li)&&(tr="0"),us=cs&&cs.hAlign?cs.hAlign:ui&&ui.style&&null!=ui.style.hAlign?(0,u.asEnum)(ui.style.hAlign,ci,!0):(0,u.isDate)(li)?ci.Left:ci.General,e===ce.cells&&St===ce.columns.firstVisibleIndex&&ce.treeIndent&&(t.rightToLeft&&us===ci.Right||!t.rightToLeft&&us===ci.Left||us===ci.General)&&(oi=Nt(T)),st={value:gi?Rn:this._escapePlainText("General"!==tr||""===Mi&&null==li||!0===li||!1===li?li:Mi),isDate:$n,formula:gi?this._parseToExcelFormula(Mi,$n):null,colSpan:St<ce.columns.firstVisibleIndex?1:jn,rowSpan:_n,style:this._extend(cs,{format:tr,hAlign:us,vAlign:_n>1?e===ce.cells||!1===ce.centerHeadersVertically?fr.Top:fr.Center:null,indent:oi}),textRuns:Io}}if(Y&&Y(new gc(e,new W(i,St),Vt,d,p,v,st)),yt){var mr=e.getCellElement(i,St);if(mr){var Zo=Ee.detail;mr.appendChild(Zo),u.Control.refreshAll(Zo)}}n.cells.push(st)}else en=Wn}return r+St},s._parseCellStyle=function(t,e){if(void 0===e&&(e=!1),null==t)return null;var n=t.fontSize;n=n?+n.substring(0,n.indexOf("px")):null,isNaN(n)&&(n=null);var i=t.whiteSpace;i=!!i&&i.indexOf("pre")>-1;var r=t.textAlign;return"start"===r&&(r="rtl"===t.direction?"right":"left"),"end"===r&&(r="rtl"===t.direction?"left":"right"),{font:{bold:"bold"===t.fontWeight||+t.fontWeight>=700,italic:"italic"===t.fontStyle,underline:"underline"===(t.textDecorationStyle||t.textDecoration),family:this._parseToExcelFontFamily(t.fontFamily),size:n,color:t.color},fill:{color:t.backgroundColor},borders:this._parseBorder(t,e),hAlign:hn._parseStringToHAlign(r),wordWrap:i}},s._parseBorder=function(t,e){var n={left:this._parseEgdeBorder(t,"Left"),right:this._parseEgdeBorder(t,"Right"),top:this._parseEgdeBorder(t,"Top"),bottom:this._parseEgdeBorder(t,"Bottom")};return e&&(n.vertical=this._parseEgdeBorder(t,"Vertical"),n.horizontal=this._parseEgdeBorder(t,"Horizontal")),n},s._parseEgdeBorder=function(t,e){var n,i=t["border"+e+"Style"],r=t["border"+e+"Width"];if(r&&(r=parseFloat(r)),i&&"none"!==i&&"hidden"!==i&&0!==r){switch(n={},i=i.toLowerCase()){case"dotted":n.style=r>1?ji.MediumDashDotted:ji.Dotted;break;case"dashed":n.style=r>1?ji.MediumDashed:ji.Dashed;break;case"double":n.style=ji.Double;break;default:n.style=r>2?ji.Thick:r>1?ji.Medium:ji.Thin}n.color=t["border"+e+"Color"]}return n},s._parseBorderStyle=function(t,e,n){var i="border"+e+"Style",r="border"+e+"Width";switch(t){case ji.Dotted:case ji.Hair:n[i]="dotted",n[r]="1px";break;case ji.Dashed:case ji.ThinDashDotDotted:case ji.ThinDashDotted:n[i]="dashed",n[r]="1px";break;case ji.MediumDashed:case ji.MediumDashDotDotted:case ji.MediumDashDotted:case ji.SlantedMediumDashDotted:n[i]="dashed",n[r]="2px";break;case ji.Double:n[i]="double",n[r]="3px";break;case ji.Medium:n[i]="solid",n[r]="2px";break;case ji.Thick:n[i]="solid",n[r]="3px";break;default:n[i]="solid",n[r]="1px"}},s._parseToExcelFontFamily=function(t){var e;return t&&(e=t.split(","))&&e.length>0&&(t=e[0].replace(/\"|\'/g,"")),t},s._parseToExcelFormula=function(t,e){var n=t.match(/(floor|ceiling)\([+-]?\d+\.?\d*\)/gi);if(n)for(var i=0;i<n.length;i++){var r=(a=n[i]).substring(0,a.lastIndexOf(")"))+", 1)";t=t.replace(a,r)}if(n=null,n=t.match(/text\(\"?\w+\"?\s*\,\s*\"\w+\"\)/gi)){var o=/\"?\w+\"?\s*\,\s*\"(\w+)\"/i;for(i=0;i<n.length;i++){var a,d=(a=n[i]).match(o);if(d&&2===d.length){var p=d[1];if(!/^d{1,4}?$/.test(p)){var v=hn._parseCellFormat(p,e);r=a.replace(p,v),t=t.replace(a,r)}}}}return t},s._parseToTextRuns=function(t){for(var e=t.split("<span "),n=[],i=0;i<e.length;i++){var o,r=e[i];o=-1!==r.indexOf("</span>")?{text:r.substring(r.indexOf(">")+1,r.indexOf("</span>")),font:this._parseToTextRunFont(r.substring(r.indexOf('style="')+7,r.indexOf(';"')))}:{text:r},n.push(o)}return n},s._parseToTextRunFont=function(t){var e,n=t.split(";");if(n.length>0){for(var i=void 0,r=void 0,o=void 0,a=void 0,d=void 0,p=void 0,v=0;v<n.length;v++){var M=n[v].split(":");if(2===M.length)switch(M[1]=M[1].trim(),M[0]){case"font-size":a=+M[1].substring(0,M[1].indexOf("px")),isNaN(a)&&(a=null);break;case"font-weight":i="bold"===M[1]||+M[1]>=700;break;case"font-style":r="italic"===M[1];break;case"text-decoration-style":case"text-decoration":o="underline"===M[1];break;case"font-family":d=this._parseToExcelFontFamily(M[1]);break;case"color":p=M[1]}}e={bold:i,italic:r,underline:o,family:d,size:a,color:p}}return e},s._getMeasureCell=function(t,e,n,i){var r=i[t.cellType],o=r&&r[e],a=null==o;return o?this.hasCssText&&(o.style.cssText="",o.style.visibility="hidden"):(r||(i[t.cellType]=r=[]),r[e]=o=n.cloneNode()),!a&&o.parentElement||(t.hostElement.children.length>0?t.hostElement.children[0].appendChild(o):t.hostElement.appendChild(o)),o},s._getColumnSetting=function(t,e,n){var i=t;return null!=t.colspan&&(i=this._getRenderColumn(e,n)),i?{autoWidth:!0,width:i.renderWidth||n.defaultSize,visible:i.visible&&0!==i.width&&!i._getFlag(In.ParentCollapsed),style:{format:t.format?hn._parseCellFormat(t.format,t.dataType===u.DataType.Date):"",hAlign:hn._parseStringToHAlign(this._toExcelHAlign(i.getAlignment())),wordWrap:i.wordWrap}}:null},s._getPerRowColumnsSettings=function(t,e,n){var i=this,r=[],o=[];return e.forEach(function(a,d){for(var p=0,v=d>0?e[0].columns.length:0,M=function(k){return null!=n&&k>=n?"break":a.rows[k].renderSize<=0?"continue":(r[p]=r[p]||[],o[p]=o[p]||[],a.columns.forEach(function(L,Y){var ce=t._getBindingColumn(a,k,L),ae=i._getColumnSetting(ce,Y,a.columns);ae&&(r[p][v+Y]=ae,o[p][v+Y]=ce)}),void p++)},T=0;T<a.rows.length&&"break"!==M(T);T++);}),{cols:r,bndCols:o}},s._toExcelHAlign=function(t){return(t=t&&t.trim().toLowerCase())?t.indexOf("center")>-1?"center":t.indexOf("right")>-1||t.indexOf("end")>-1?"right":t.indexOf("justify")>-1?"justify":"left":t},s._getColumnCount=function(t){for(var e=0,n=0;n<t.length;n++){var i=t[n]&&t[n].cells?t[n].cells:[];if(i&&i.length>0){var r=i.length;(0,u.isInt)(i[r-1].colSpan)&&i[r-1].colSpan>1&&(r=r+i[r-1].colSpan-1),r>e&&(e=r)}}return e},s._getRowCount=function(t,e){for(var n=t.length,i=n-1,r=0;r<e;r++)e:for(;i>=0;i--){var o=t[i],a=(o&&o.cells?o.cells:[])[r];if(a&&(null!=a.value&&""!==a.value||(0,u.isInt)(a.rowSpan)&&a.rowSpan>1)){(0,u.isInt)(a.rowSpan)&&a.rowSpan>1&&i+a.rowSpan>n&&(n=i+a.rowSpan);break e}}return n},s._numAlpha=function(t){var e=Math.floor(t/26)-1;return(e>-1?this._numAlpha(e):"")+String.fromCharCode(65+t%26)},s._getItemType=function(t){return null==t||null==t.value||isNaN(t.value)?null:(0,u.getType)(t.value)},s._setColumn=function(t,e,n){var i=t[e],r=this._getItemType(n);if(r===u.DataType.Boolean&&n.formula&&(r=null),i){if(i.dataType!==r&&i.dataType===u.DataType.Boolean&&r!==u.DataType.Boolean&&(i.dataType=r),n&&null!=n.value&&(!(0,u.isString)(n.value)||!(0,u.isNullOrWhiteSpace)(n.value))){var o=hn._parseExcelFormat(n);o&&i.format!==o&&"General"!==o&&(i.format=o)}var a=void 0;n&&n.style&&(n.style.hAlign&&(a=hn._parseHAlignToString((0,u.asEnum)(n.style.hAlign,ci))),i.wordWrap=(null==i.wordWrap||i.wordWrap)&&!!n.style.wordWrap),a||r!==u.DataType.Number||(a="right"),i.hAlign=a}else t[e]={dataType:r,format:hn._parseExcelFormat(n),hAlign:"",wordWrap:null}},s._getItemValue=function(t){if(null==t||null==t.value)return null;var e=t.value;return(0,u.isString)(e)&&"'"===e[0]&&(e=e.substr(1)),(0,u.isNumber)(e)&&isNaN(e)||e instanceof Date&&isNaN(e.getTime())?"":e},s._getCellStyle=function(t,e,n,i,r,o){var a,d=t.grid;try{d.cellFactory.updateCell(t,n,i,e,null,!(r&&!d.formatItem.hasHandlers&&!d.itemFormatter&&!o)),e.className=e.className.replace("wj-state-selected",""),e.className=e.className.replace("wj-state-multi-selected","")}catch{return null}if(r){var v=t.hostElement,M=e,T=M.style.cssText.split(/;\s+/).filter(function(k){var L=k.substring(0,k.indexOf(":"));return/^(color|background|border|font|text|whitespace)/i.test(L)}).join(";");do{T=M.className+T}while(M!==v&&(M=M.parentElement));(a=r.getValue(T))||(a=window.getComputedStyle(e),r.add(T,a))}else a=window.getComputedStyle(e);return a},s._parseTextRunsToHTML=function(t){for(var e="",n=0;n<t.length;n++){var i=t[n],r=i.font;e+=r?'<span style="'+(r.bold?"font-weight: bold;":"")+(r.italic?"font-style: italic;":"")+(r.underline?"text-decoration: underline;":"")+(r.family?"font-family: "+r.family+";":"")+(null!=r.size?"font-size: "+r.size+"px;":"")+(r.color?"color: "+r.color+";":"")+'">'+i.text+"</span>":i.text}return e},s._extend=function(t,e){for(var n in e){var i=e[n];(0,u.isObject)(i)&&t[n]?(0,u.copy)(t[n],i):t[n]=i}return t},s._checkParentCollapsed=function(t,e){var n=!1;return Object.keys(t).forEach(function(i){!0===t[i]&&!1===n&&!isNaN(e)&&+i<e&&(n=!0)}),n},s._getColSpan=function(t,e,n){for(var i=0,r=e.leftCol;r<=e.rightCol;r++)n&&!n(t.columns[r])||i++;return i},s._getRenderColumn=function(t,e){return t>=e.length?null:e[t]},s._getMergedRange=function(t,e,n){for(var i=0;i<n.length;i++){var r=n[i];if(t>=r.topRow&&t<=r.bottomRow&&e>=r.leftCol&&e<=r.rightCol)return r}return null},s._isFormula=function(t){return t&&"string"==typeof t&&t.length>1&&"="===t[0]&&"="!==t[1]},s}(),gc=function(s){function t(e,n,i,r,o,a,d){var p=s.call(this,e,n)||this;return p._cell=i,p._patternCell=r,p._xlsxCell=d,p._cellsCache=o,p._styleCache=a,p}return rl(t,s),Object.defineProperty(t.prototype,"cell",{get:function(){return this._cell},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"xlsxCell",{get:function(){return this._xlsxCell},set:function(e){this._xlsxCell=e},enumerable:!0,configurable:!0}),t.prototype.getFormattedCell=function(){return this._cell||(this._cell=la._getMeasureCell(this.panel,this.col,this._patternCell,this._cellsCache),la._getCellStyle(this.panel,this._cell,this.row,this.col,this._styleCache,!0)),this._cell},t}(me);!function(s){s[s.None=0]="None",s[s.Regular=1]="Regular",s[s.Cache=2]="Cache"}(ca||(ca={}));var rc,ic=function(){function s(t){this._cache={},this._size=0,this._max=t}return s.prototype.add=function(t,e){this._size>=this._max&&this.clear(),this._cache[t]=this._cloneStyle(e),this._size++},s.prototype.clear=function(){this._cache={},this._size=0},s.prototype.getValue=function(t){return this._cache[t]||null},s.prototype.hasKey=function(t){return!!this._cache[t]},s.prototype._cloneStyle=function(t){if(!t)return null;for(var e={},i=0,r=t.length;i<r;i++){var o=t[i];e[(a=o,a.replace(/\-([a-z])/g,function(d,p,v){return v>0?p.toUpperCase():p}))]=t.getPropertyValue(o)}var a;return e},s}();function mc(s,t){if(s&&t)if(s.arrayBuffer)s.arrayBuffer().then(function(n){return t(n)});else{var e=new FileReader;e.onload=function(){t(e.result),e=null},e.readAsArrayBuffer(s)}}(function(s){s[s.Auto=0]="Auto",s[s.No=1]="No",s[s.Yes=2]="Yes"})(rc||(rc={})),(0,u._registerModule)("wijmo.grid.xlsx",re);var Gr,ds,yr=function(){var s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();function Jh(){return(0,u._getModule)("wijmo.input")}function zp(){return(0,u._getModule)("wijmo.xlsx")}var ai={InvalidCellRef:"Invalid cell reference.",InvalidSheetRef:"Invalid sheet reference.",InvalidTableRef:"Invalid table reference.",InvalidTableColRef:"Invalid table column reference.",InvalidParameters:"Invalid parameters.",BadExpression:"Bad expression.",CircRef:"Circular reference.",InvalidParameter:function(s){return'Invalid parameter: "'+s+'".'},ParameterIsOutOfRange:function(s){return'Parameter is out of range: "'+s+'".'},RowIsOutOfTableRange:function(s){return"The row is out of the table ("+s+") range."},UnkFuncName:function(s){return'The function "'+s+'" has not supported in FlexSheet yet.'},DefNameInvalidSheet:function(s){return'The defined name item works in "'+s+'". It does not work in current sheet.'},InvalidTable:function(s){return"The Table("+s+") is not located in any sheet."},InvalidExpression:function(s){return"Invalid Expression: "+s},Atan2ArgsLessThanZero:"The x number and y number can't both be zero for the atan2 function.",RateCriteriaFails:"It is not able to calculate the rate with current parameters.",RangesMustBeTheSame:"The row span and column span of each cell range has to be same with each other.",TooFewParameters:"Too few parameters.",TooManyParameters:"Too many parameters.",ExpressionExpected:"Expression expected.",UnbalancedParenthesis:"Unbalanced parenthesis.",UnbalancedSquareBrackets:"Unbalanced square brackets.",TableReferencesExpected:"Table references expected.",IdentifierExpected:"Identifier expected.",CantFindFinalQuote:"Can't find final quote.",IllegalCrossSheetReference:"Illegal cross sheet reference.",CantFindFinalDateDelimiter:'Can\'t find final date delimiter ("#").',CellRefMustBeInSameSheet:"The cell reference must be in the same sheet.",SyntaxError:"Syntax error."};!function(s){s.Div="#DIV/0!",s.Name="#NAME?",s.Ref="#REF!",s.Num="#NUM!",s.Val="#VALUE!",s.Null="#NULL!",s.NA="#N/A"}(ds||(ds={}));var J,Ko=function(){function s(t,e){this._error=t,this._data=e}return Object.defineProperty(s.prototype,"error",{get:function(){return this._error},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),s.prototype.toString=function(){return this._error||(this._data||"").toString()},s}(),Ca=function(s){function t(e){return s.call(this,ds.Div,e)||this}return yr(t,s),t}(Ko),vl=function(s){function t(e){return s.call(this,ds.Name,e)||this}return yr(t,s),t}(Ko),Vl=function(s){function t(e){return s.call(this,ds.Ref,e)||this}return yr(t,s),t}(Ko),Ic=function(s){function t(e){return s.call(this,ds.Num,e)||this}return yr(t,s),t}(Ko),Zi=function(s){function t(e){return s.call(this,ds.Val,e)||this}return yr(t,s),t}(Ko),Al=function(s){function t(e){return s.call(this,ds.NA,e)||this}return yr(t,s),t}(Ko),Ja=function(s){function t(e){return s.call(this,ds.Null,e)||this}return yr(t,s),t}(Ko),rd=function(s){function t(e){return s.call(this,"",e)||this}return yr(t,s),t}(Ko),jr=function(s){function t(e){return s.call(this,"#SYNTAX",e)||this}return yr(t,s),t}(Ko),Gs=function(){function s(){}return s.asError=function(t){return t instanceof Ko?t:"string"==typeof t?this.fromString(t):null},s.fromString=function(t){if(t=t.toUpperCase(),this._errTypeMap[t])switch(t){case ds.Div:return new Ca;case ds.Name:return new vl;case ds.NA:return new Al;case ds.Null:return new Ja;case ds.Num:return new Ic;case ds.Ref:return new Vl;case ds.Val:return new Zi}return null},s._errTypeMap=(t={},Object.keys(ds).forEach(function(e){return t[ds[e]]=1}),t),s;var t}(),Ac=function(){function s(t,e,n,i,r){if(this._showHeaderRow=!0,this._showTotalRow=!1,this._showBandedColumns=!1,this._showBandedRows=!0,this._alterFirstColumn=!1,this._alterLastColumn=!1,this._orgHeaderCellsContent=[],!e.isValid)throw"The range of this table is invalid.";this._name=t,this._range=e.clone(),this._style=n,null!=i&&i.length>0&&this._pushTableColumns(i),null!=r&&(null!=r.showHeaderRow&&(this._showHeaderRow=r.showHeaderRow),null!=r.showTotalRow&&(this._showTotalRow=r.showTotalRow),null!=r.showBandedColumns&&(this._showBandedColumns=r.showBandedColumns),null!=r.showBandedRows&&(this._showBandedRows=r.showBandedRows),null!=r.alterFirstColumn&&(this._alterFirstColumn=r.alterFirstColumn),null!=r.alterLastColumn&&(this._alterLastColumn=r.alterLastColumn))}return Object.defineProperty(s.prototype,"name",{get:function(){return this._name},set:function(t){if(null==t||""===t)throw"The name of the Table should not be empty.";if(this._name.toLowerCase()!==t.toLowerCase()){var e=this._name;if(this._name=t,this._owner){var n=void 0;!this._owner._isUndoing&&this._owner.undoStack.stackSize>0&&(n=new ws(this._owner,this)),this._owner._updateFormulasWithNameUpdating(e,t,!0),n&&(n.saveNewState(),this._owner.undoStack._addAction(n),n=null)}}},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"sheet",{get:function(){return this._sheet},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"style",{get:function(){return this._style},set:function(t){if(t.name!==this._style.name){var e=void 0;this._owner&&!this._owner._isUndoing&&this._owner.undoStack.stackSize>0&&(e=new ws(this._owner,this)),this._style=t,this._owner&&(e&&(e.saveNewState(),this._owner.undoStack._addAction(e),e=null),this._owner.refresh())}},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"showHeaderRow",{get:function(){return this._showHeaderRow},set:function(t){if(t!==this._showHeaderRow){var e=void 0,n=this._showHeaderRow;if(this._owner&&!this._owner._isUndoing&&this._owner.undoStack.stackSize>0&&(e=new ws(this._owner,this)),this._showHeaderRow=t,this._owner)try{this._owner.beginUpdate(),this._adjustTableRangeWithHeaderRow(),e&&(e.saveNewState(),this._owner.undoStack._addAction(e))}catch(i){throw this._showHeaderRow=n,i}finally{e=null,this._owner.endUpdate()}}},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"showTotalRow",{get:function(){return this._showTotalRow},set:function(t){if(t!==this._showTotalRow){var e=void 0,n=this._showTotalRow;if(this._owner&&!this._owner._isUndoing&&this._owner.undoStack.stackSize>0&&(e=new ws(this._owner,this)),this._showTotalRow=t,this._owner)try{this._owner.beginUpdate(),this._adjustTableRangeWithTotalRow(),e&&(e.saveNewState(),this._owner.undoStack._addAction(e))}catch(i){throw this._showTotalRow=n,i}finally{e=null,this._owner.endUpdate()}}},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"showBandedColumns",{get:function(){return this._showBandedColumns},set:function(t){if(t!==this._showBandedColumns){var e=void 0;this._owner&&!this._owner._isUndoing&&this._owner.undoStack.stackSize>0&&(e=new ws(this._owner,this)),this._showBandedColumns=t,this._owner&&(e&&(e.saveNewState(),this._owner.undoStack._addAction(e),e=null),this._owner.refresh())}},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"showBandedRows",{get:function(){return this._showBandedRows},set:function(t){if(t!==this._showBandedRows){var e=void 0;this._owner&&!this._owner._isUndoing&&this._owner.undoStack.stackSize>0&&(e=new ws(this._owner,this)),this._showBandedRows=t,this._owner&&(e&&(e.saveNewState(),this._owner.undoStack._addAction(e),e=null),this._owner.refresh())}},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"alterFirstColumn",{get:function(){return this._alterFirstColumn},set:function(t){if(t!==this._alterFirstColumn){var e=void 0;this._owner&&!this._owner._isUndoing&&this._owner.undoStack.stackSize>0&&(e=new ws(this._owner,this)),this._alterFirstColumn=t,this._owner&&(e&&(e.saveNewState(),this._owner.undoStack._addAction(e),e=null),this._owner.refresh())}},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"alterLastColumn",{get:function(){return this._alterLastColumn},set:function(t){if(t!==this._alterLastColumn){var e=void 0;this._owner&&!this._owner._isUndoing&&this._owner.undoStack.stackSize>0&&(e=new ws(this._owner,this)),this._alterLastColumn=t,this._owner&&(e&&(e.saveNewState(),this._owner.undoStack._addAction(e),e=null),this._owner.refresh())}},enumerable:!0,configurable:!0}),s.prototype._isHeaderRow=function(t){return this._showHeaderRow&&t===this._range.topRow},s.prototype._getTableRange=function(){return this._range},s.prototype._getColumns=function(){return this._columns||[]},s.prototype.getRange=function(t,e){var n;switch(void 0===t&&(t=J.All),t){case J.Data:n=this._getDataRange();break;case J.Header:n=this._getHeaderRange();break;case J.Footer:n=this._getFooterRange();break;default:n=this._range.clone()}if(null!=e&&n){var i=this._getColumnIndex(e);if(null==i)return null;n.col=n.col2=n.leftCol+i}return n},s.prototype.getColumns=function(){return this._columns?this._columns.slice():[]},s.prototype.insertRows=function(t,e,n){void 0===n&&(n=!0);var i=!1;if(null==e&&(e=1),!(0,u.isInt)(e)||e<1||0===t&&this._showHeaderRow||t===this._range.rowSpan-1&&this._showTotalRow||t<0||t>=this._range.rowSpan)return!1;if(this._owner){var r=this.getRange(),o=this._flex;if(this._owner.beginUpdate(),n){var a=new W(r.bottomRow+1,r.col,r.bottomRow+1,r.col2);if(this._sheet._canShiftCells(a)){var d=this._sheet._needAddRowCountForInsertTableRows(e,r);if(o.collectionView){var p=o.itemsSource instanceof u.CollectionView;o.collectionView.beginUpdate();for(var v=0;v<d;v++)p?o.itemsSource.sourceCollection.push({}):o.itemsSource.push({});o.collectionView.endUpdate(!0)}else for(v=0;v<d;v++)o.rows.push(new Lt);this._sheet._moveDownCells(e,a),i=!0}}else this._canInsertRowsWithoutShift(e)&&(i=!0);i&&(this._sheet._moveDownCellsWithinTable(t,e,r),this._updateTableRange(0,e,0,0)),this._owner.endUpdate()}else this._updateTableRange(0,e,0,0),i=!0;return i},s.prototype.deleteRows=function(t,e,n){if(void 0===n&&(n=!0),null==e&&(e=1),(0,u.isInt)(e)&&!(e<1)&&!(0===t&&this._showHeaderRow||t===this._range.rowSpan-1&&this._showTotalRow||t<0||t>=this._range.rowSpan||t+e>this._range.rowSpan-(this._showTotalRow?1:0)))if(this._owner){var i=!1,r=this.getRange(),o=void 0;this._owner.beginUpdate(),n?(o=new W(r.bottomRow+1,r.col,r.bottomRow+1,r.col2),this._sheet._canShiftCells(o)&&(i=!0)):i=!0,i&&(this._sheet._moveUpCellsWithinTable(t,e,r),n&&this._sheet._moveUpCells(e,o),this._updateTableRange(0,-e,0,0)),this._owner.endUpdate()}else this._updateTableRange(0,-e,0,0)},s.prototype._addColumn=function(t,e){if(t<=0||t>this._columns.length)throw"The column index is out of range.";e=this._getUniqueColumnName(t,e);var n=new Hl(e);if(n._attach(this),this._columns.splice(t,0,n),this.showHeaderRow&&this._owner&&this._sheet){var i=this.getRange();this._flex.setCellData(i.topRow,i.leftCol+t,e)}},s.prototype._updateCell=function(t,e,n){if(null!=this._style){var o=this._getTableCellAppliedStyles(t-this._range.topRow,e-this._range.leftCol);this._applyStylesForCell(o,n)}},s.prototype._updateTableRange=function(t,e,n,i){this._range.row<=this._range.row2?(this._range.row+=t,this._range.row2+=e):(this._range.row2+=t,this._range.row+=e),this._range.col<=this._range.col2?(this._range.col+=n,this._range.col2+=i):(this._range.col2+=n,this._range.col+=i)},s.prototype._setTableRange=function(t,e){if(this._range=t,null!=e){this._columns.splice(0,this._columns.length);for(var n=0;n<e.length;n++)this._columns.push(e[n])}},s.prototype._updateColumnName=function(t,e,n){void 0===n&&(n=!0);var i=this._columns[t];(!i||!i.name||i.name!==e)&&(e=this._getUniqueColumnName(null,e),i.name=e,this._showHeaderRow&&this._owner&&this._sheet&&n&&this._flex.setCellData(this._range.topRow,this._range.leftCol+t,e))},s.prototype._updateColumnTotalRowContent=function(t,e){if(null==e&&(e=this._columns.indexOf(t)),!(e<0)){var n;if(t.totalRowFunction){var i=this._getSubtotalFunction(t.totalRowFunction.toLowerCase());n=null!=i?"=subtotal("+i+",["+t.name+"])":"="===t.totalRowFunction[0]?t.totalRowFunction:"="+t.totalRowFunction}else 0===e&&(t.totalRowLabel||(t.totalRowLabel="Total")),n=t.totalRowLabel;this._owner&&this._sheet&&this._flex.setCellData(this._range.bottomRow,this._range.leftCol+e,n,!1)}},s.prototype._attachSheet=function(t){if(!(this._sheet&&this._owner||(this._sheet=t,this._owner=t._owner,null==this._owner))){if(this._owner._containsMergedCells(this._range,t))throw"Table does not allow the merged cell within the table.";var e=this.getRange();null==this._style&&(this._style=this._owner.getBuiltInTableStyle("TableStyleMedium9")),null!=this._columns&&0!==this._columns.length||this._generateColumns(this._showHeaderRow);try{this._owner.beginUpdate(),this._showHeaderRow&&1===e.rowSpan&&this._adjustTableRangeWithHeaderRow(),this._showTotalRow&&this._updateTotalRow()}finally{this._attached=!0,this._owner.endUpdate()}}},s.prototype._detachSheet=function(){this._attached=!1,this._sheet=null,this._owner=null},Object.defineProperty(s.prototype,"_flex",{get:function(){return this._sheet===this._owner.selectedSheet?this._owner:this._sheet.grid},enumerable:!0,configurable:!0}),s.prototype._pushTableColumns=function(t){this._columns=[];for(var e=0;e<t.length;e++){var n=t[e];n._attach(this),this._columns.push(n)}},s.prototype._generateColumns=function(t){if(!this._range.isValid)throw"The range of the table is invalid.";this._columns=[];for(var e=0;e<this._range.columnSpan;e++){var n=null,i=this._sheet.grid.columns[this._range.leftCol+e],r=this._range.topRow*this._sheet.grid.columns.length+this._range.leftCol+e,o=void 0,a=void 0,d=this._flex;if(1===this._range.rowSpan)o=this._getUniqueColumnName(e+1);else{null==(o=n=this._sheet.grid.getCellData(this._range.topRow,this._range.leftCol+e,!1))&&(o=""),Fo(o)&&(o=this._owner.evaluate(o,"",this._sheet,!1));var p=this._owner._formatEvaluatedResult(o,i,(a=this._sheet._styledCells[r])?a.format:"");null!=o&&""==p||(o=p),o=this._getUniqueColumnName(e+1,o.toString())}t&&this._range.rowSpan>1&&(this._orgHeaderCellsContent[e]=this._sheet.grid.getCellData(this._range.topRow,this._range.leftCol+e,!1),isNaN(+o)||i.format||a&&a.format||(a?a.format="@":this._sheet._styledCells[r]={format:"@"}),d.setCellData(this._range.topRow,this._range.leftCol+e,i.dataType===u.DataType.Boolean&&(0,u.isBoolean)(n)?n:o,!1));var v=new Hl(o);v._attach(this),0===e?v._totalRowLabel="Total":e===this._range.columnSpan-1&&(v._totalRowFunction="Sum"),this._columns.push(v)}},s.prototype._getTableCellAppliedStyles=function(t,e){var n={},i=0,r=!1,o=!1;if(this._showHeaderRow&&(i=1),this._showHeaderRow&&0===t?r=!0:this._showTotalRow&&t===this._range.rowSpan-1&&(o=!0),this._extendStyle(n,this._style.wholeTableStyle,t,e,r,o),!r&&!o){if(this._showBandedColumns&&(null!=this._style.firstBandedColumnStyle||null!=this._style.secondBandedColumnStyle)){var a=void 0;e%((a=this._style.firstBandedColumnStyle?null==this._style.firstBandedColumnStyle.size?1:this._style.firstBandedColumnStyle.size:1)+(this._style.secondBandedColumnStyle?null==this._style.secondBandedColumnStyle.size?1:this._style.secondBandedColumnStyle.size:1))>=a?this._style.secondBandedColumnStyle&&this._extendStyle(n,this._style.secondBandedRowStyle,t,e,r,o):this._style.firstBandedColumnStyle&&this._extendStyle(n,this._style.firstBandedColumnStyle,t,e,r,o)}this._showBandedRows&&(null!=this._style.firstBandedRowStyle||null!=this._style.secondBandedRowStyle)&&(a=void 0,(t-i)%((a=this._style.firstBandedRowStyle?null==this._style.firstBandedRowStyle.size?1:this._style.firstBandedRowStyle.size:1)+(this._style.secondBandedRowStyle?null==this._style.secondBandedRowStyle.size?1:this._style.secondBandedRowStyle.size:1))>=a?this._style.secondBandedRowStyle&&this._extendStyle(n,this._style.secondBandedRowStyle,t,e,r,o):this._style.firstBandedRowStyle&&this._extendStyle(n,this._style.firstBandedRowStyle,t,e,r,o))}return this._alterLastColumn&&e===this._range.columnSpan-1&&this._style.lastColumnStyle&&this._extendStyle(n,this._style.lastColumnStyle,t,e,r,o),this._alterFirstColumn&&0===e&&this._style.firstColumnStyle&&this._extendStyle(n,this._style.firstColumnStyle,t,e,r,o),r?(this._style.headerRowStyle&&this._extendStyle(n,this._style.headerRowStyle,t,e,r,o),e===this._range.columnSpan-1&&this._style.lastHeaderCellStyle&&this._extendStyle(n,this._style.lastHeaderCellStyle,t,e,r,o),0===e&&this._style.firstHeaderCellStyle&&this._extendStyle(n,this._style.firstHeaderCellStyle,t,e,r,o)):o&&(this._style.totalRowStyle&&this._extendStyle(n,this._style.totalRowStyle,t,e,r,o),e===this._range.columnSpan-1&&this._style.lastTotalCellStyle&&this._extendStyle(n,this._style.lastTotalCellStyle,t,e,r,o),0===e&&this._style.firstTotalCellStyle&&this._extendStyle(n,this._style.firstTotalCellStyle,t,e,r,o)),n},s.prototype._applyStylesForCell=function(t,e){var n=e.style;for(var i in t){var r=t[i];r&&(n[i]=r)}},s.prototype._extendStyle=function(t,e,n,i,r,o){for(var a in e){var d=e[a];null!==d&&(a.indexOf("borderTop")>-1?(0===n||o)&&(t[a]=d):a.indexOf("borderBottom")>-1?(n===this._range.rowSpan-1||r)&&(t[a]=d):a.indexOf("borderLeft")>-1?0===i&&(t[a]=d):a.indexOf("borderRight")>-1?i===this._range.columnSpan-1&&(t[a]=d):a.indexOf("borderHorizontal")>-1?n<this._range.rowSpan-1&&("borderHorizontalStyle"===a?t.borderBottomStyle=d:"borderHorizontalWidth"===a?t.borderBottomWidth=d:t.borderBottomColor=d):a.indexOf("borderVertical")>-1?i<this._range.columnSpan-1&&("borderVerticalStyle"===a?t.borderRightStyle=d:"borderVerticalWidth"===a?t.borderRightWidth=d:t.borderRightColor=d):t[a]=d)}},s.prototype._getSubtotalFunction=function(t){switch(t){case"average":return"101";case"countnums":return"102";case"count":return"103";case"max":return"104";case"min":return"105";case"stddev":return"107";case"sum":return"109";case"var":return"110"}return null},s.prototype._checkColumnNameExist=function(t){for(var e=this.getColumns(),n=0;n<e.length;n++)if(e[n].name.toLowerCase()===t.toLowerCase())return!0;return!1},s.prototype._adjustTableRangeWithHeaderRow=function(){var t=this._flex;if(this._showHeaderRow){if(this._sheet._needMoveDownTable(this)){var e=this.getRange(),n=new W(e.bottomRow+1,e.col,e.bottomRow+1,e.col2);if(!this._sheet._canShiftCells(n))throw"The operation is not allowed.  The operation is attempting to shift the cells in a table or a merged cell on the current sheet.";1===this._sheet._needAddRowCountForInsertTableRows(1,e)&&(t.collectionView?(t.collectionView.beginUpdate(),t.itemsSource instanceof u.CollectionView?t.itemsSource.sourceCollection.push({}):t.itemsSource.push({}),t.collectionView.endUpdate(!0)):t.rows.push(new Lt)),this._sheet._moveDownCells(1,n),this._sheet._moveDownTable(this)}this._range.row<=this._range.row2?this._range.row-=1:this._range.row2-=1;for(var i=0;i<this._columns.length;i++){var r=this._columns[i];this._orgHeaderCellsContent[i]=t.getCellData(this._range.topRow,this._range.leftCol+i,!1),t.setCellData(this._range.topRow,this._range.leftCol+i,r.name)}}else{for(i=this._range.leftCol;i<=this._range.rightCol;i++)t.setCellData(this._range.topRow,i,"");this._range.row<=this._range.row2?this._range.row+=1:this._range.row2+=1}},s.prototype._adjustTableRangeWithTotalRow=function(){var t=this._sheet===this._owner.selectedSheet?this._owner:this._sheet.grid,e=this.getRange(),n=new W(e.bottomRow+1,e.col,e.bottomRow+1,e.col2);if(this._showTotalRow){if(this._sheet._canShiftCells(n))1===this._sheet._needAddRowCountForInsertTableRows(1,e)&&(t.collectionView?(t.collectionView.beginUpdate(),t.itemsSource instanceof u.CollectionView?t.itemsSource.sourceCollection.push({}):t.itemsSource.push({}),t.collectionView.endUpdate(!0)):t.rows.push(new Lt)),this._sheet._moveDownCells(1,n),this._owner._updateAffectedFormula(this._range.bottomRow+1,1,!0,!0,this.getRange());else if(!this._beneathRowIsEmpty())throw"The operation is not allowed.  The operation is attempting to shift the cells in a table or a merged cell on the current sheet.";this._range.row<=this._range.row2?this._range.row2+=1:this._range.row+=1,this._updateTotalRow()}else{for(var i=this._range.leftCol;i<=this._range.rightCol;i++)t.setCellData(this._range.bottomRow,i,"");this._sheet._canShiftCells(n)&&(this._owner._updateAffectedFormula(this._range.bottomRow,1,!1,!0,this.getRange()),this._sheet._moveUpCells(1,n)),this._range.row<=this._range.row2?this._range.row2-=1:this._range.row-=1}},s.prototype._updateTotalRow=function(){if(this.showTotalRow)for(var t=0;t<this._columns.length;t++)this._updateColumnTotalRowContent(this._columns[t],t)},s.prototype._getUniqueColumnName=function(t,e){if(null!=e&&""!==e||(e="Column"+t),this._checkColumnNameExist(e)){for(var n=1,i=e+n;this._checkColumnNameExist(i);)i=e+ ++n;e=i}return e},s.prototype._moveColumns=function(t,e){if(this._columns){var n=this._columns[t];this._columns.splice(t,1),e<0&&(e=this._columns.length),this._columns.splice(e,0,n)}},s.prototype._canInsertRowsWithoutShift=function(t){var e=this._flex;if(this._range.bottomRow+t>=e.rows.length)return!1;for(var n=1;n<=t;n++)for(var i=this._range.bottomRow+n,r=this._range.leftCol;r<=this._range.rightCol;r++){var o=e.getCellData(i,r,!1),a=this._sheet.getCellStyle(i,r);if(null!=o&&""!==o||null!=a)return!1}return!0},s.prototype._beneathRowIsEmpty=function(){var t=this._range.bottomRow+1,e=this._flex;if(t>=e.rows.length)return!1;for(var n=this._range.leftCol;n<=this._range.rightCol;n++){var i=e.getCellData(this._range.bottomRow+1,n,!1);if(null!=i&&""!==i||null!=this._sheet.getCellStyle(this._range.bottomRow+1,n))return!1;if(this._sheet.findTable(t,n))return null;if(null!=this._sheet._mergedRanges[t*e.columns.length+n])return!1}return!0},s.prototype._getDataRange=function(){var t=this._range.topRow,e=this._range.bottomRow;return this._showHeaderRow&&(t+=1),this._showTotalRow&&(e-=1),new W(t,this._range.leftCol,e,this._range.rightCol)},s.prototype._getHeaderRange=function(){return this._showHeaderRow?new W(this._range.topRow,this._range.leftCol,this._range.topRow,this._range.rightCol):null},s.prototype._getFooterRange=function(){return this._showTotalRow?new W(this._range.bottomRow,this._range.leftCol,this._range.bottomRow,this._range.rightCol):null},s.prototype._getColumnIndex=function(t){var e;if((0,u.isInt)(t)&&t>=0&&t<this._columns.length)e=t;else{var n=void 0;t instanceof Hl?n=t.name.toLowerCase():(0,u.isString)(t)&&""!==t&&(n=t.toLowerCase());for(var i=this.getColumns(),r=0;r<i.length;r++)if(i[r].name.toLowerCase()===n){e=r;break}}return e},s}(),Hl=function(){function s(t,e,n,i){void 0===i&&(i=!0),this._name=t,this._totalRowLabel=e,this._totalRowFunction=n,null!=i&&(this._showFilterButton=i)}return Object.defineProperty(s.prototype,"table",{get:function(){return this._table},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"name",{get:function(){return this._name},set:function(t){t!==this._name&&(this._name=t)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"totalRowLabel",{get:function(){return this._totalRowLabel},set:function(t){t!==this._totalRowLabel&&(this._totalRowLabel=t,this._updateTableTotalInfo())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"totalRowFunction",{get:function(){return this._totalRowFunction},set:function(t){t!==this._totalRowFunction&&(this._totalRowFunction=t,this._updateTableTotalInfo())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"showFilterButton",{get:function(){return this._showFilterButton},set:function(t){this._showFilterButton!==t&&(this._showFilterButton=t)},enumerable:!0,configurable:!0}),s.prototype._attach=function(t){this._table=t},s.prototype._updateTableTotalInfo=function(){this._table&&this._table.showTotalRow&&(this._table._updateColumnTotalRowContent(this),this._table._owner&&this._table._owner.refresh())},s}(),K=function(){function s(t,e){void 0===e&&(e=!1),this._name=t,this._isBuiltIn=e}return Object.defineProperty(s.prototype,"name",{get:function(){return this._name},set:function(t){t!==this._name&&(this._name=t)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"wholeTableStyle",{get:function(){return this._wholeTableStyle},set:function(t){this._wholeTableStyle=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"firstBandedColumnStyle",{get:function(){return this._firstBandedColumnStyle},set:function(t){this._firstBandedColumnStyle=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"secondBandedColumnStyle",{get:function(){return this._secondBandedColumnStyle},set:function(t){this._secondBandedColumnStyle=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"firstBandedRowStyle",{get:function(){return this._firstBandedRowStyle},set:function(t){this._firstBandedRowStyle=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"secondBandedRowStyle",{get:function(){return this._secondBandedRowStyle},set:function(t){this._secondBandedRowStyle=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"firstColumnStyle",{get:function(){return this._firstColumnStyle},set:function(t){this._firstColumnStyle=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"lastColumnStyle",{get:function(){return this._lastColumnStyle},set:function(t){this._lastColumnStyle=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"headerRowStyle",{get:function(){return this._headerRowStyle},set:function(t){this._headerRowStyle=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"totalRowStyle",{get:function(){return this._totalRowStyle},set:function(t){this._totalRowStyle=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"firstHeaderCellStyle",{get:function(){return this._firstHeaderCellStyle},set:function(t){this._firstHeaderCellStyle=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"lastHeaderCellStyle",{get:function(){return this._lastHeaderCellStyle},set:function(t){this._lastHeaderCellStyle=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"firstTotalCellStyle",{get:function(){return this._firstTotalCellStyle},set:function(t){this._firstTotalCellStyle=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"lastTotalCellStyle",{get:function(){return this._lastTotalCellStyle},set:function(t){this._lastTotalCellStyle=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"isBuiltIn",{get:function(){return this._isBuiltIn},enumerable:!0,configurable:!0}),s}();!function(s){s[s.All=0]="All",s[s.Data=1]="Data",s[s.Header=2]="Header",s[s.Footer=3]="Footer"}(J||(J={}));var j=function(){function s(t){this._owner=t,this._sheetUuid=t.selectedSheet?t.selectedSheet._uid:-1}return Object.defineProperty(s.prototype,"sheetUid",{get:function(){return this._sheetUuid},enumerable:!0,configurable:!0}),s.prototype.undo=function(){throw"This abstract method must be overridden."},s.prototype.redo=function(){throw"This abstract method must be overridden."},s.prototype.saveNewState=function(){throw"This abstract method must be overridden."},s}(),se=function(s){function t(e,n){var i=s.call(this,e)||this;return i._isPaste=!1,i._selections=n?[n]:e.selectedSheet.selectionRanges.length>0?e.selectedSheet.selectionRanges.slice():[e.selection.clone()],i._mergeAction=new Ci(e),i._cellStyleAction=new kn(e),i._saveValues(!0),i}return yr(t,s),Object.defineProperty(t.prototype,"isPaste",{get:function(){return this._isPaste},enumerable:!0,configurable:!0}),t.prototype.undo=function(){this._handleUndoRedo(!0)},t.prototype.redo=function(){this._handleUndoRedo(!1)},t.prototype.saveNewState=function(){return!!this._saveValues(!1)&&(this._mergeAction.saveNewState(),this._cellStyleAction.saveNewState(),this._checkActionState())},t.prototype.markIsPaste=function(){this._isPaste=!0},t.prototype.updateForPasting=function(e){var n=this._selections[this._selections.length-1],i=this._owner.getCellData(e.row,e.col,!!this._owner.columns[e.col].dataMap);n||(this._selections=[n=this._owner.selection]),this._oldValues["r"+e.row+"_c"+e.col]={row:e.row,col:e.col,value:i=i??""},n.row=Math.min(n.topRow,e.topRow),n.row2=Math.max(n.bottomRow,e.bottomRow),n.col=Math.min(n.leftCol,e.leftCol),n.col2=Math.max(n.rightCol,e.rightCol)},t.prototype._storeDeletedTables=function(e){null==this._deletedTables&&(this._deletedTables=[]),this._deletedTables.push(e)},t.prototype._checkActionState=function(){var e=this,n=!1;return Object.keys(e._oldValues).forEach(function(i){var r,o;n||(o=e._newValues[i],(r=e._oldValues[i])&&o&&r.value!==o.value&&(n=!0))}),n||e._mergeAction._checkActionState()||e._cellStyleAction._checkActionState()},t.prototype._saveValues=function(e){for(var n={},i=0;i<this._selections.length;i++)for(var r=this._selections[i],o=r.topRow;o<=r.bottomRow;o++)if(!(o<0))for(var a=r.leftCol;a<=r.rightCol;a++){var d=this._owner.columns[a];if(!d)return!1;var p=this._owner.getCellData(o,a,!!d.dataMap);n["r"+o+"_c"+a]={row:o,col:a,value:p=p??""}}return e?this._oldValues=n:this._newValues=n,!0},t.prototype._handleUndoRedo=function(e){var n=this;n._owner._clearCalcEngine(),n._owner.selectedSheet.selectionRanges.clear(),n._owner.deferUpdate(function(){var i,r=e?n._oldValues:n._newValues;if(n._deletedTables&&n._deletedTables.length>0)for(var o=0;o<n._deletedTables.length;o++){var a=n._deletedTables[o];e?n._owner.selectedSheet.tables.push(a):n._owner.selectedSheet.tables.remove(a)}for(o=0;o<n._selections.length;o++)n._owner.selectedSheet.selectionRanges.push(n._selections[o]);if(Object.keys(r).forEach(function(v){var M=r[v];n._owner.setCellData(M.row,M.col,M.value)}),n._affectedFormulas&&(i=e?n._affectedFormulas.oldFormulas:n._affectedFormulas.newFormulas),i&&i.length>0)for(o=0;o<i.length;o++){var p=i[o];n._owner.setCellData(p.point.x,p.point.y,p.formula)}e?(n._mergeAction.undo(),n._cellStyleAction.undo()):(n._mergeAction.redo(),n._cellStyleAction.redo()),n._owner.refresh(!1)})},t}(j),Ie=function(s){function t(e,n,i){var r=s.call(this,e)||this;return r._panel=n,r._colIndex=i,r._oldColWidth=n.columns[i].width,r}return yr(t,s),t.prototype.undo=function(){this._handleUndoRedo(!0)},t.prototype.redo=function(){this._handleUndoRedo(!1)},t.prototype.saveNewState=function(){return this._newColWidth=this._panel.columns[this._colIndex].width,this._oldColWidth!==this._newColWidth},t.prototype._handleUndoRedo=function(e){var n=this._panel.columns[this._colIndex];n&&(n.width=e?this._oldColWidth:this._newColWidth)},t}(j),$e=function(s){function t(e,n,i){var r=s.call(this,e)||this;return r._panel=n,r._rowIndex=i,r._oldRowHeight=n.rows[i].height,r}return yr(t,s),t.prototype.undo=function(){this._handleUndoRedo(!0)},t.prototype.redo=function(){this._handleUndoRedo(!1)},t.prototype.saveNewState=function(){return this._newRowHeight=this._panel.rows[this._rowIndex].height,this._oldRowHeight!==this._newRowHeight},t.prototype._handleUndoRedo=function(e){var n=this._panel.rows[this._rowIndex];n&&(n.height=e?this._oldRowHeight:this._newRowHeight)},t}(j),ct=function(s){function t(e,n,i,r){var o=s.call(this,e)||this;return o._delSubActions=[],o._columnIndex=n,o._count=i,o._isAdding=r,o._saveValues(!0),o}return yr(t,s),t.prototype.undo=function(){this._handleUndoRedo(!0)},t.prototype.redo=function(){this._handleUndoRedo(!1)},t.prototype.saveNewState=function(){return this._saveValues(!1),!0},t.prototype._saveValues=function(e){var n=[],i=[];if(null==this._isAdding)for(var r=0;r<this._owner.columns.length;r++)n.push(this._owner.columns[r]);else if(e&&!this._isAdding||!e&&this._isAdding)for(r=this._columnIndex;r<this._columnIndex+this._count&&r<this._owner.columns.length;r++)n.push(this._owner.columns[r]);if(this._owner.selectedSheet.tables&&this._owner.selectedSheet.tables.length>0)for(r=0;r<this._owner.selectedSheet.tables.length;r++){var o=this._owner.selectedSheet.tables[r];o&&o.sheet.name===this._owner.selectedSheet.name&&i.push({name:o.name,range:o.getRange(),columns:o.getColumns()})}var a={columns:n,sortList:this._owner.sortManager._cloneSortList(this._owner.sortManager._committedList),styledCells:this._owner.selectedSheet?this._owner._cloneObject(this._owner.selectedSheet._styledCells):null,mergedCells:this._owner.selectedSheet?this._owner.selectedSheet._cloneMergedCells():null,tableRanges:i,selection:this._owner.selection,filterDef:this._owner.selectedSheet._filterDefinition};e?this._oldValue=a:this._newValue=a},t.prototype._handleUndoRedo=function(e,n){var i=this;void 0===n&&(n=!0);var r=e?this._oldValue:this._newValue;if(this._owner.selectedSheet)if(this._delSubActions.length)this._owner.deferUpdate(function(){if(e)for(var ae=i._delSubActions.length-1;ae>=0;ae--)i._delSubActions[ae]._handleUndoRedo(e,!1);else for(ae=0;ae<i._delSubActions.length;ae++)i._delSubActions[ae]._handleUndoRedo(e,!1)});else{try{n&&this._owner.beginUpdate();var o=void 0;if(this._owner._isUndoing=!0,this._owner._clearCalcEngine(),this._owner.finishEditing(),null==this._isAdding&&(this._owner.columns.clear(),this._columnIndex=0),this._owner.selectedSheet._styledCells=null,this._owner.selectedSheet._mergedRanges.length=0,this._owner.columns.beginUpdate(),r.columns&&r.columns.length>0)for(var a=0;a<r.columns.length;a++)(d=r.columns[a])&&d.isVisible&&(this._owner.columns.insert(this._columnIndex+a,d),this._owner.itemsSource&&(o=this._owner.rows[this._owner._getDataRowsOffset()-1])&&(o._ubv||(o._ubv={}),o._ubv[d._hash]=d.header));else for(a=this._columnIndex+this._count-1;a>=this._columnIndex;a--){var d;(d=this._owner.columns[a])&&d.isVisible&&this._owner.columns.removeAt(a)}this._owner.columns.endUpdate(),this._owner.selectedSheet._styledCells=this._owner._cloneObject(r.styledCells);for(var p=0;p<r.mergedCells.length;p++)this._owner.selectedSheet._mergedRanges[p]=r.mergedCells[p];for(p=0;p<r.tableRanges.length;p++){var v=r.tableRanges[p];(k=this._owner._getTable(v.name))&&k._setTableRange(v.range,v.columns)}var M=void 0;if(this._affectedFormulas&&(M=e?this._affectedFormulas.oldFormulas:this._affectedFormulas.newFormulas),M&&M.length>0)for(p=0;p<M.length;p++){var T=M[p];null!=T.point?T.sheet.name===this._owner.selectedSheet.name?this._owner.setCellData(T.point.x,T.point.y,T.formula):T.sheet.grid.setCellData(T.point.x,T.point.y,T.formula):T.row._ubv[T.column._hash]=T.formula}if(this._deletedTables&&this._deletedTables.length>0)for(p=0;p<this._deletedTables.length;p++){var k=this._deletedTables[p];e?this._owner.selectedSheet.tables.push(k):this._owner.selectedSheet.tables.remove(k)}var L=void 0;if(this._affectedDefinedNameVals&&(L=e?this._affectedDefinedNameVals.oldDefinedNameVals:this._affectedDefinedNameVals.newDefinedNameVals),L&&L.length>0)for(p=0;p<L.length;p++){var Y=L[p],ce=this._owner.definedNames._getIndexByName(Y.name);ce>-1&&(this._owner.definedNames[ce].value=Y.value)}this._owner.selectedSheet.grid.wj_sheetInfo.styledCells=this._owner.selectedSheet._styledCells,this._owner.selectedSheet.grid.wj_sheetInfo.mergedRanges=this._owner.selectedSheet._mergedRanges}finally{n&&this._owner.endUpdate()}this._owner._copyColumnsToSelectedSheet(),this._owner.sortManager.sortDescriptions.sourceCollection=r.sortList.slice(),this._owner.selectedSheet._filterDefinition!==r.filterDef&&(this._owner._isUndoing=!0,this._owner.selectedSheet._filterDefinition=r.filterDef,this._owner.selectedSheet._applyFilterSetting(),this._owner._isUndoing=!1,this._owner.filter.apply()),this._owner.sortManager.commitSort(!1),this._owner.selection=r.selection,this._owner._isUndoing=!1}},t}(j),Qt=function(s){function t(e,n,i,r){var o=s.call(this,e)||this;if(o._delSubActions=[],o._headerRowIndex=-1,e.itemsSource&&(o._headerRowAtTop=e._headerRowAtTop(),!o._headerRowAtTop))for(var a=0;a<e.rows.length;a++)if(e.rows[a]instanceof as){o._headerRowIndex=a;break}return o._rowIndex=n,o._count=i,o._isAdding=r,o._saveValues(!0),o}return yr(t,s),t.prototype.undo=function(){this._handleUndoRedo(!0)},t.prototype.redo=function(){this._handleUndoRedo(!1)},t.prototype.saveNewState=function(){return this._saveValues(!1),!0},t.prototype.addDeleteSubAction=function(e){this._delSubActions.push(e)},t.prototype._saveValues=function(e){var n,i,r=[],o=[],a=[];if(null==this._isAdding)if(this._owner.itemsSource){n=this._owner.itemsSource instanceof u.CollectionView?this._owner.itemsSource.sourceCollection.slice():this._owner.itemsSource.slice();for(var d=0;d<this._owner.columns.length;d++)o.push(this._owner.columns[d])}else for(d=0;d<this._owner.rows.length;d++)r.push(this._owner.rows[d]);else{if(e&&!this._isAdding||!e&&this._isAdding)for(d=this._rowIndex;d<this._rowIndex+this._count&&d<this._owner.rows.length;d++){var p=this._owner.rows[d];r.push(p.isVisible||this._isAdding?p:null)}this._owner.collectionView&&this._owner.collectionView.sortDescriptions.length>0&&(i=this._owner.collectionView._view.slice())}if(this._owner.selectedSheet.tables&&this._owner.selectedSheet.tables.length>0)for(d=0;d<this._owner.selectedSheet.tables.length;d++){var v=this._owner.selectedSheet.tables[d];v&&v.sheet.name===this._owner.selectedSheet.name&&a.push({name:v.name,range:v.getRange(),setting:{showHeaderRow:v.showHeaderRow,showTotalRow:v.showTotalRow}})}var M={rows:r,columns:o,itemsSource:n,styledCells:this._owner.selectedSheet?this._owner._cloneObject(this._owner.selectedSheet._styledCells):null,mergedCells:this._owner.selectedSheet?this._owner.selectedSheet._cloneMergedCells():null,tableSettings:a,selection:this._owner.selection,dataView:i,scrollPosition:this._owner.scrollPosition};e?this._oldValue=M:this._newValue=M},t.prototype._handleUndoRedo=function(e,n){var i=this;void 0===n&&(n=!0);var r,o=this,a=!!o._owner.itemsSource,d=e?o._oldValue:o._newValue;if(o._owner.selectedSheet)if(this._delSubActions.length)o._owner.deferUpdate(function(){if(e)for(var Rt=i._delSubActions.length-1;Rt>=0;Rt--)i._delSubActions[Rt]._handleUndoRedo(e,!1);else{for(Rt=0;Rt<i._delSubActions.length;Rt++)i._delSubActions[Rt]._handleUndoRedo(e,!1);o._owner.selection=i._newValue.selection}});else{try{if(n&&o._owner.beginUpdate(),o._owner._isUndoing=!0,o._owner._clearCalcEngine(),o._owner.finishEditing(),null==o._isAdding&&(o._owner.itemsSource&&o._owner.columns.clear(),o._owner.rows.clear(),o._rowIndex=0),o._owner.selectedSheet._styledCells=null,o._owner.selectedSheet._mergedRanges.length=0,null==this._isAdding&&a){if(r=o._owner.autoGenerateColumns,o._owner.autoGenerateColumns=!1,o._owner.collectionView.beginUpdate(),o._owner.itemsSource instanceof u.CollectionView){var p=[0,o._owner.itemsSource.sourceCollection.length].concat(d.itemsSource);Array.prototype.splice.apply(o._owner.itemsSource.sourceCollection,p)}else o._owner.itemsSource=d.itemsSource.slice();o._owner.columns.beginUpdate();for(var v=0;v<d.columns.length;v++)o._owner.columns.push(d.columns[v]);o._owner.columns.endUpdate(),o._owner.collectionView.endUpdate(!0),o._owner.autoGenerateColumns=r}else{o._owner.rows.beginUpdate(),a&&(r=o._owner.autoGenerateColumns,o._owner.autoGenerateColumns=!1,o._owner.collectionView.beginUpdate());var M=o._owner.collectionView,T=M instanceof u.CollectionView?M:null;if(d.rows&&d.rows.length>0){var k=void 0;if(a){var L=o._owner._getDataRowsOffset();k=Math.max(o._rowIndex-L,0),!o._isAdding&&!o._headerRowAtTop&&o._owner._headerRowAtTop()&&o._rowIndex>=L&&k<o._headerRowIndex&&k++}for(v=0;v<d.rows.length;v++)if(Me=d.rows[v])if(a&&Me.dataItem){var Y=null!=Me.dataItem._itemIdx?Me.dataItem._itemIdx:k+v;if(o._owner._updateItemIndexForInsertingRow(M.sourceCollection,Y,1),M.sourceCollection.splice(Y,0,Me.dataItem),T&&T.trackChanges){var ce=T.itemsRemoved.indexOf(Me.dataItem)>=0;ce&&T.itemsRemoved.remove(Me.dataItem),!ce&&T.itemsAdded.indexOf(Me.dataItem)<=0&&T.itemsAdded.push(Me.dataItem)}}else o._owner.rows.insert(o._rowIndex+v,Me)}else{var ae=o._rowIndex;!o._isAdding&&!o._headerRowAtTop&&o._owner._headerRowAtTop()&&ae<o._headerRowIndex&&ae++;for(var Ee=ae+o._count-1;Ee>=ae;Ee--){var Me;if(Me=o._owner.rows[Ee])if(a&&Me.dataItem){if(Y=null!=Me.dataItem._itemIdx?Me.dataItem._itemIdx:Ee-o._owner._getDataRowsOffset(),M.sourceCollection.splice(Y,1),o._owner._updateItemIndexForRemovingRow(M.sourceCollection,Y),T&&T.trackChanges){var ze=T.itemsAdded.indexOf(Me.dataItem)>=0;ze&&T.itemsAdded.remove(Me.dataItem),!ze&&T.itemsRemoved.indexOf(Me.dataItem)<0&&T.itemsRemoved.push(Me.dataItem)}}else o._owner.rows.removeAt(Ee)}}a&&(o._owner._lastCount=o._owner.collectionView.itemCount,o._owner.collectionView.endUpdate(!0),o._owner.selectedSheet._dataView=o._owner.collectionView._view.slice(),d.dataView&&d.dataView.length>0&&(o._owner.collectionView._view=d.dataView,o._owner.collectionView._pgView=o._owner.collectionView._getPageView(),o._owner.itemsSource instanceof u.CollectionView||(o._owner.selectedSheet.grid.collectionView._view=d.dataView,o._owner.selectedSheet.grid.collectionView._pgView=o._owner.selectedSheet.grid.collectionView._getPageView()),o._owner._bindGrid(!1),o._owner.selectedSheet.grid._bindGrid(!1)),o._owner.autoGenerateColumns=r),o._owner.rows.endUpdate()}for(o._owner.selectedSheet._styledCells=o._owner._cloneObject(d.styledCells),v=0;v<d.mergedCells.length;v++)o._owner.selectedSheet._mergedRanges[v]=d.mergedCells[v];for(v=0;v<d.tableSettings.length;v++){var st=d.tableSettings[v];(St=o._owner._getTable(st.name))&&(St._showHeaderRow=st.setting.showHeaderRow,St._showTotalRow=st.setting.showTotalRow,St._setTableRange(st.range))}var xt=void 0;if(o._affectedFormulas&&(xt=e?o._affectedFormulas.oldFormulas:o._affectedFormulas.newFormulas),xt&&xt.length>0)for(v=0;v<xt.length;v++){var yt=xt[v];null!=yt.point?yt.sheet.name===o._owner.selectedSheet.name?o._owner.setCellData(yt.point.x,yt.point.y,yt.formula):yt.sheet.grid.setCellData(yt.point.x,yt.point.y,yt.formula):yt.row._ubv[yt.column._hash]=yt.formula}if(o._deletedTables&&o._deletedTables.length>0)for(v=0;v<o._deletedTables.length;v++){var St=o._deletedTables[v];e?o._owner.selectedSheet.tables.push(St):o._owner.selectedSheet.tables.remove(St)}var Dt=void 0;if(o._affectedDefinedNameVals&&(Dt=e?o._affectedDefinedNameVals.oldDefinedNameVals:o._affectedDefinedNameVals.newDefinedNameVals),Dt&&Dt.length>0)for(v=0;v<Dt.length;v++){var Nt=Dt[v],en=o._owner.definedNames._getIndexByName(Nt.name);en>-1&&(o._owner.definedNames[en].value=Nt.value)}o._owner.selectedSheet.grid.wj_sheetInfo.styledCells=o._owner.selectedSheet._styledCells,o._owner.selectedSheet.grid.wj_sheetInfo.mergedRanges=o._owner.selectedSheet._mergedRanges,o._owner.selection=d.selection,o._owner.scrollPosition=d.scrollPosition,o._owner._isUndoing=!1}finally{n&&o._owner.endUpdate()}o._owner._copyRowsToSelectedSheet()}},t}(j),kn=function(s){function t(e,n){var i=s.call(this,e)||this;return i._oldStyledCells=n?e._cloneObject(n):e.selectedSheet?e._cloneObject(e.selectedSheet._styledCells):null,i}return yr(t,s),t.prototype.undo=function(){this._handleUndoRedo(!0)},t.prototype.redo=function(){this._handleUndoRedo(!1)},t.prototype.saveNewState=function(){return this._newStyledCells=this._owner.selectedSheet?this._owner._cloneObject(this._owner.selectedSheet._styledCells):null,!0},t.prototype._checkActionState=function(){return null!=this._oldStyledCells&&null==this._newStyledCells||null==this._oldStyledCells&&null!=this._newStyledCells||null!=this._oldStyledCells&&null!=this._newStyledCells&&this._oldStyledCells.length!==this._newStyledCells.length},t.prototype._handleUndoRedo=function(e){this._owner.selectedSheet&&(this._owner.selectedSheet._styledCells=this._owner._cloneObject(e?this._oldStyledCells:this._newStyledCells),this._owner.selectedSheet.grid.wj_sheetInfo.styledCells=this._owner.selectedSheet._styledCells,this._owner.refresh(!1))},t}(j),Ci=function(s){function t(e){var n=s.call(this,e)||this;return n._oldMergedCells=e.selectedSheet?e.selectedSheet._cloneMergedCells():null,n}return yr(t,s),t.prototype.undo=function(){this._handleUndoRedo(!0)},t.prototype.redo=function(){this._handleUndoRedo(!1)},t.prototype.saveNewState=function(){return this._newMergedCells=this._owner.selectedSheet?this._owner.selectedSheet._cloneMergedCells():null,!0},t.prototype._handleUndoRedo=function(e){var n,i;if(this._owner.selectedSheet){if(n=e?this._oldMergedCells:this._newMergedCells,this._owner._clearCalcEngine(),n)for(this._owner.selectedSheet._mergedRanges.length=0,i=0;i<n.length;i++)this._owner.selectedSheet._mergedRanges[i]=n[i];this._owner.selectedSheet.grid.wj_sheetInfo.mergedRanges=this._owner.selectedSheet._mergedRanges,this._owner.refresh(!0)}},t.prototype._checkActionState=function(){var e;if(null!=this._oldMergedCells&&null==this._newMergedCells||null==this._oldMergedCells&&null!=this._newMergedCells||null!=this._oldMergedCells&&null!=this._newMergedCells&&this._oldMergedCells.length!==this._newMergedCells.length)return!0;if(null!=this._oldMergedCells&&null!=this._newMergedCells&&this._oldMergedCells.length===this._newMergedCells.length)for(e=0;e<this._oldMergedCells.length;e++)if(!this._oldMergedCells[e].equals(this._oldMergedCells[e]))return!0;return!1},t}(j),Bi=function(s){function t(e){var n=s.call(this,e)||this;return n._saveValues(!0),n}return yr(t,s),t.prototype.undo=function(){this._handleUndoRedo(!0)},t.prototype.redo=function(){this._handleUndoRedo(!1)},t.prototype.saveNewState=function(){return this._saveValues(!1),!0},t.prototype._saveValues=function(e){for(var n,i,r,o=[],a=0;a<this._owner.columns.length;a++)o.push(this._owner.columns[a]);if(this._owner.itemsSource){var d=this._owner._getDataRowsOffset();i=[];for(var p=0;p<this._owner.rows.length-d;p++){var v=this._owner.rows[p+d],M=v.dataItem;M&&(i[null!=M._itemIdx?M._itemIdx:p]=v.visible)}e&&(r=this._owner.collectionView._view.slice())}else for(n=[],p=0;p<this._owner.rows.length;p++)n.push(this._owner.rows[p]);var T={sortList:this._owner.sortManager._committedList.slice(),rows:n,columns:o,selection:this._owner.selection.clone(),formulas:this._owner._scanFormulas(),styledCells:this._owner.selectedSheet?this._owner._cloneObject(this._owner.selectedSheet._styledCells):null,rowsVisible:i,dataView:r};e?this._oldValue=T:this._newValue=T},t.prototype._handleUndoRedo=function(e){var n=this,i=e?n._oldValue:n._newValue,r=!!n._owner.itemsSource,o=this._owner.itemsSource instanceof u.CollectionView;n._owner.selectedSheet&&(n._owner._isUndoing=!0,n._owner.deferUpdate(function(){if(n._owner._clearCalcEngine(),n._owner.sortManager.sortDescriptions.sourceCollection=i.sortList.slice(),n._owner.sortManager.commitSort(!1),n._owner.selectedSheet._styledCells=n._owner._cloneObject(i.styledCells),r)i.dataView&&i.dataView.length>0&&(n._owner.collectionView._view=i.dataView,n._owner.collectionView._pgView=n._owner.collectionView._getPageView(),o||(n._owner.selectedSheet.grid.collectionView._view=i.dataView,n._owner.selectedSheet.grid.collectionView._pgView=n._owner.selectedSheet.grid.collectionView._getPageView()),n._owner._bindGrid(!1),n._owner.selectedSheet.grid._bindGrid(!1));else{n._owner.rows.clear(),n._owner.selectedSheet.grid.rows.clear();for(var a=0;a<i.rows.length;a++){var d=i.rows[a];n._owner.selectedSheet.grid.rows.push(d),n._owner.rows.push(d)}for(n._owner.columns.clear(),a=0;a<i.columns.length;a++)n._owner.columns.push(i.columns[a]);n._owner._resetFormulas(i.formulas)}n._owner._isUndoing=!1}))},t}(j),ho=function(s){function t(e,n,i,r){var o=s.call(this,e)||this;return e.selectedSheet&&(o._isDraggingColumns=0===n.topRow&&n.bottomRow===e.rows.length-1,o._isCopyCells=r,o._dragRange=n,o._dropRange=i,o._saveValues(!0)),o}return yr(t,s),t.prototype.undo=function(){this._handleUndoRedo(!0)},t.prototype.redo=function(){this._handleUndoRedo(!1)},t.prototype.saveNewState=function(){return!(!this._owner.selectedSheet||!this._dropRange||(this._saveValues(!1),0))},t.prototype._saveValues=function(e){for(var n=[],i={},r=this._dropRange.topRow;r<=this._dropRange.bottomRow;r++)for(var o=this._dropRange.leftCol;o<=this._dropRange.rightCol;o++){this._isDraggingColumns&&(i[o]||(i[o]={dataType:this._owner.columns[o].dataType,align:this._owner.columns[o].align,format:this._owner.columns[o].format}));var a=r*this._owner.columns.length+o,d=this._owner.selectedSheet._styledCells[a]?this._owner._cloneObject(this._owner.selectedSheet._styledCells[a]):null,p=this._owner.getCellData(r,o,!1);n.push({rowIndex:r,columnIndex:o,cellContent:p,cellStyle:d})}if(e?(this._oldDroppingCells=n,this._oldDroppingColumnSetting=i):(this._newDroppingCells=n,this._newDroppingColumnSetting=i),this._isCopyCells){if(this._isDraggingColumns)if(e){for(r=this._dragRange.topRow;r<=this._dragRange.bottomRow;r++)for(o=this._dragRange.leftCol;o<=this._dragRange.rightCol;o++)if((L=this._owner.selectedSheet.findTable(r,o))&&L._isHeaderRow(r)){var v=L._getTableRange(),M=L._getColumns();this._draggingTableColumns||(this._draggingTableColumns=[]),this._draggingTableColumns.push({rowIndex:r,columnIndex:o,cellContent:M[o-v.leftCol].name})}}else if(this._draggingTableColumns&&this._draggingTableColumns.length>0&&this._draggingTableColumns&&this._draggingTableColumns.length>0)for(var T=0;T<this._draggingTableColumns.length;T++){var k=this._draggingTableColumns[T];(L=this._owner.selectedSheet.findTable(k.rowIndex,k.columnIndex))&&L._isHeaderRow(k.rowIndex)&&(v=L._getTableRange(),M=L._getColumns(),k.updatedCellContent=M[k.columnIndex-v.leftCol].name)}}else if(e)for(this._draggingCells=[],this._draggingColumnSetting={},r=this._dragRange.topRow;r<=this._dragRange.bottomRow;r++)for(o=this._dragRange.leftCol;o<=this._dragRange.rightCol;o++)this._isDraggingColumns&&(this._draggingColumnSetting[o]||(this._draggingColumnSetting[o]={dataType:this._owner.columns[o].dataType,align:this._owner.columns[o].align,format:this._owner.columns[o].format})),d=this._owner.selectedSheet._styledCells[a=r*this._owner.columns.length+o]?this._owner._cloneObject(this._owner.selectedSheet._styledCells[a]):null,p=this._owner.getCellData(r,o,!1),this._draggingCells.push({rowIndex:r,columnIndex:o,cellContent:p,cellStyle:d});else if(this._isDraggingColumns&&this._draggingCells&&this._draggingCells.length>0)for(T=0;T<this._draggingCells.length;T++){var L;(L=this._owner.selectedSheet.findTable((k=this._draggingCells[T]).rowIndex,k.columnIndex))&&L._isHeaderRow(k.rowIndex)&&(v=L._getTableRange(),M=L._getColumns(),k.updatedCellContent=M[k.columnIndex-v.leftCol].name)}},t.prototype._handleUndoRedo=function(e){var n=this,i=e?n._oldDroppingCells:n._newDroppingCells,r=e?n._oldDroppingColumnSetting:n._newDroppingColumnSetting;n._owner.selectedSheet&&(n._owner._clearCalcEngine(),n._owner.deferUpdate(function(){var o,a;if(n._affectedFormulas&&(o=e?n._affectedFormulas.oldFormulas:n._affectedFormulas.newFormulas),o&&o.length>0)for(var d=0;d<o.length;d++){var p=o[d];p.sheet.name===n._owner.selectedSheet.name?n._owner.setCellData(p.point.x,p.point.y,p.formula):p.sheet.grid.setCellData(p.point.x,p.point.y,p.formula)}if(n._affectedDefinedNameVals&&(a=e?n._affectedDefinedNameVals.oldDefinedNameVals:n._affectedDefinedNameVals.newDefinedNameVals),a&&a.length>0)for(d=0;d<a.length;d++){var v=a[d],M=n._owner.definedNames._getIndexByName(v.name);M>-1&&(n._owner.definedNames[M].value=v.value)}for(d=0;d<i.length;d++){var T=i[d];if(n._owner.setCellData(T.rowIndex,T.columnIndex,T.cellContent),(ce=n._owner.selectedSheet.findTable(T.rowIndex,T.columnIndex))&&ce._isHeaderRow(T.rowIndex)){var k=ce._getTableRange();(Y=ce._getColumns())[T.columnIndex-k.leftCol].name=T.cellContent}var L=T.rowIndex*n._owner.columns.length+T.columnIndex;T.cellStyle?n._owner.selectedSheet._styledCells[L]=T.cellStyle:delete n._owner.selectedSheet._styledCells[L]}if(n._isDraggingColumns&&r&&Object.keys(r).forEach(function(Me){n._owner.columns[+Me].dataType=r[+Me].dataType?r[+Me].dataType:u.DataType.Object,n._owner.columns[+Me].align=r[+Me].align,n._owner.columns[+Me].format=r[+Me].format}),n._isCopyCells){if(n._draggingTableColumns&&n._draggingTableColumns.length>0)for(d=0;d<n._draggingTableColumns.length;d++)if((ce=n._owner.selectedSheet.findTable((T=n._draggingTableColumns[d]).rowIndex,T.columnIndex))&&ce._isHeaderRow(T.rowIndex)){k=ce._getTableRange();var Y=ce._getColumns();n._owner.setCellData(T.rowIndex,T.columnIndex,e?T.cellContent:T.updatedCellContent),Y[T.columnIndex-k.leftCol].name=e?T.cellContent:T.updatedCellContent}}else{for(d=0;d<n._draggingCells.length;d++){var ce;(ce=n._owner.selectedSheet.findTable((T=n._draggingCells[d]).rowIndex,T.columnIndex))?(k=ce._getTableRange(),Y=ce._getColumns(),ce._isHeaderRow(T.rowIndex)?(n._owner.setCellData(T.rowIndex,T.columnIndex,e?T.cellContent:T.updatedCellContent),Y[T.columnIndex-k.leftCol].name=e?T.cellContent:T.updatedCellContent):n._owner.setCellData(T.rowIndex,T.columnIndex,e?T.cellContent:null)):n._owner.setCellData(T.rowIndex,T.columnIndex,e?T.cellContent:null),L=T.rowIndex*n._owner.columns.length+T.columnIndex,e?T.cellStyle&&(n._owner.selectedSheet._styledCells[L]=T.cellStyle):n._owner.selectedSheet._styledCells[L]&&delete n._owner.selectedSheet._styledCells[L]}if(n._isDraggingColumns&&n._draggingColumnSetting&&Object.keys(n._draggingColumnSetting).forEach(function(Me){n._owner.columns[+Me].dataType=e&&n._draggingColumnSetting[+Me].dataType?n._draggingColumnSetting[+Me].dataType:u.DataType.Object,n._owner.columns[+Me].align=e?n._draggingColumnSetting[+Me].align:null,n._owner.columns[+Me].format=e?n._draggingColumnSetting[+Me].format:null}),e){if(n._isDraggingColumns)if(n._dragRange.leftCol<n._dropRange.leftCol)for(var ae=n._dragRange.leftCol,Ee=n._dropRange.leftCol;Ee<=n._dropRange.rightCol;Ee++)n._owner._updateColumnFiler(Ee,ae),ae++;else for(ae=n._dragRange.rightCol,Ee=n._dropRange.rightCol;Ee>=n._dropRange.leftCol;Ee--)n._owner._updateColumnFiler(Ee,ae),ae--}else if(n._isDraggingColumns)if(n._dragRange.leftCol>n._dropRange.leftCol)for(ae=n._dropRange.leftCol,Ee=n._dragRange.leftCol;Ee<=n._dragRange.rightCol;Ee++)n._owner._updateColumnFiler(Ee,ae),ae++;else for(ae=n._dropRange.rightCol,Ee=n._dragRange.rightCol;Ee>=n._dragRange.leftCol;Ee--)n._owner._updateColumnFiler(Ee,ae),ae--}}))},t}(j),Ls=function(s){function t(e){var n=s.call(this,e)||this;return n._oldValues=[],n._mergeAction=new Ci(e),n._celltyleAction=new kn(e),n._cutSheet=e._copiedSheet,n._selection=e.selection,n._cutSelection=e.selectionMode===Et.ListBox?e._getSelectionForListBoxMode(n._cutSheet.grid):e._copiedRanges[0],n._saveCutValues(!0),n}return yr(t,s),t.prototype.undo=function(){this._handleUndoRedo(!0)},t.prototype.redo=function(){this._handleUndoRedo(!1)},t.prototype.saveNewState=function(){this._saveCutValues(!1),this._newValues=[];for(var e=this._selection.topRow;e<=this._selection.bottomRow;e++)for(var n=this._selection.leftCol;n<=this._selection.rightCol;n++){if(!this._owner.columns[n])return!1;var i=this._owner.getCellData(e,n,!!this._owner.columns[n].dataMap);this._newValues.push({row:e,col:n,value:i=i??""})}return this._mergeAction.saveNewState(),this._celltyleAction.saveNewState(),!0},t.prototype.updateForPasting=function(e){var n=this._owner.getCellData(e.row,e.col,!!this._owner.columns[e.col].dataMap);this._oldValues.push({row:e.row,col:e.col,value:n=n??""}),this._selection.row=Math.min(this._selection.topRow,e.topRow),this._selection.row2=Math.max(this._selection.bottomRow,e.bottomRow),this._selection.col=Math.min(this._selection.leftCol,e.leftCol),this._selection.col2=Math.max(this._selection.rightCol,e.rightCol)},t.prototype._saveCutValues=function(e){for(var n=this._cutSheet===this._owner.selectedSheet?this._owner:this._cutSheet.grid,i=[],r=this._cutSelection.topRow;r<=this._cutSelection.bottomRow;r++)if(null!=n.rows[r])for(var o=this._cutSelection.leftCol;o<=this._cutSelection.rightCol;o++){var a=n.getCellData(r,o,!!n.columns[o].dataMap);i.push({row:r,col:o,value:a=a??""})}e?this._oldCutValues=i:this._newCutValues=i},t.prototype._handleUndoRedo=function(e){var n=this,i=e?n._oldCutValues:n._newCutValues,r=e?n._oldValues:n._newValues;n._owner._clearCalcEngine(),n._owner.selectedSheet.selectionRanges.clear(),n._owner.deferUpdate(function(){var o,a,d=n._cutSheet===n._owner.selectedSheet?n._owner:n._cutSheet.grid;for(n._owner.selectedSheet.selectionRanges.push(n._selection),o=0;o<i.length;o++)d.setCellData((a=i[o]).row,a.col,a.value);for(o=0;o<r.length;o++)n._owner.setCellData((a=r[o]).row,a.col,a.value);e?(n._mergeAction.undo(),n._celltyleAction.undo()):(n._mergeAction.redo(),n._celltyleAction.redo()),n._owner.refresh(!1)})},t}(j),ws=function(s){function t(e,n){var i=s.call(this,e)||this;return i._table=n,i._saveValues(!0),i}return yr(t,s),t.prototype.undo=function(){this._handleUndoRedo(!0)},t.prototype.redo=function(){this._handleUndoRedo(!1)},t.prototype.saveNewState=function(){return this._saveValues(!1),!0},t.prototype._saveValues=function(e){var n={name:this._table.name,style:this._table.style,showHeaderRow:this._table.showHeaderRow,showTotalRow:this._table.showTotalRow,showbandedRows:this._table.showBandedRows,showBandedColumns:this._table.showBandedColumns,alterFirstColumn:this._table.alterFirstColumn,alterLastColumn:this._table.alterLastColumn};e?this._oldTableSetting=n:this._newTableSetting=n},t.prototype._handleUndoRedo=function(e){var n=e?this._oldTableSetting:this._newTableSetting;this._owner.beginUpdate(),this._owner._isUndoing=!0,this._table.name=n.name,this._table.style=n.style,this._table.showHeaderRow=n.showHeaderRow,this._table.showTotalRow=n.showTotalRow,this._table.showBandedRows=n.showbandedRows,this._table.showBandedColumns=n.showBandedColumns,this._table.alterFirstColumn=n.alterFirstColumn,this._table.alterLastColumn=n.alterLastColumn,this._owner._isUndoing=!1,this._owner.endUpdate()},t}(j),Qa=function(s){function t(e,n){var i=s.call(this,e)||this;return i._addedTable=n,n.showHeaderRow&&(i._orgHeaderCellsContent=n._orgHeaderCellsContent.slice()),i}return yr(t,s),t.prototype.undo=function(){this._handleUndoRedo(!0)},t.prototype.redo=function(){this._handleUndoRedo(!1)},t.prototype._handleUndoRedo=function(e){if(e?this._owner.selectedSheet.tables.remove(this._addedTable):this._owner.selectedSheet.tables.push(this._addedTable),this._addedTable.showHeaderRow)for(var n=this._addedTable.getRange(),i=this._addedTable.getColumns(),r=0;r<n.columnSpan;r++)this._owner.setCellData(n.topRow,n.leftCol+r,e?this._orgHeaderCellsContent[r]:i[r].name);this._owner.refresh()},t}(j),Na=function(s){function t(e){var n=s.call(this,e)||this;return n._oldFilterDefinition=e.filter.filterDefinition,n._oldRowsVisible=n._getRowsVisible(),n}return yr(t,s),t.prototype.undo=function(){this._handleUndoRedo(!0)},t.prototype.redo=function(){this._handleUndoRedo(!1)},t.prototype.saveNewState=function(){return this._newFilterDefinition=this._owner.filter.filterDefinition,this._newRowsVisible=this._getRowsVisible(),!0},t.prototype._handleUndoRedo=function(e){var n=e?this._oldFilterDefinition:this._newFilterDefinition;this._owner.filter.filterDefinition!==n?(this._owner._isUndoing=!0,this._owner.selectedSheet._filterDefinition=n,this._owner.selectedSheet._applyFilterSetting(),this._owner._isUndoing=!1,this._owner.filter.apply()):this._setRowVisible(e)},t.prototype._getRowsVisible=function(){for(var e,n=[],i=0;i<this._owner.rows.length;i++)(e=this._owner.rows[i])&&n.push(e.visible);return n},t.prototype._setRowVisible=function(e){for(var n,i=e?this._oldRowsVisible:this._newRowsVisible,r=0;r<i.length;r++)(n=this._owner.rows[r])&&(n.visible=i[r])},t}(j),hs=function(s){function t(e,n){var i=s.call(this,e)||this;return i._fillSource=n.clone(),i._oldCellSettings=e._orgCellSettings,i}return yr(t,s),t.prototype.undo=function(){this._handleUndoRedo(!0)},t.prototype.redo=function(){this._handleUndoRedo(!1)},t.prototype.saveNewState=function(){return this._fillRange=this._owner.selection.clone(),this._newCellSettings=this._owner._getCellSettingsForFill(this._fillSource,this._fillRange),!0},t.prototype._handleUndoRedo=function(e){var n,i,r,o,d,p=e?this._oldCellSettings:this._newCellSettings,v=e?this._fillSource:this._fillRange;if(this._owner.beginUpdate(),d=this._fillRange.topRow<this._fillSource.topRow?new W(this._fillRange.topRow,this._fillRange.col,this._fillSource.topRow-1,this._fillRange.col2):this._fillRange.leftCol===this._fillSource.leftCol&&this._fillRange.rightCol===this._fillSource.rightCol?new W(this._fillSource.bottomRow+1,this._fillRange.col,this._fillRange.bottomRow,this._fillRange.col2):this._fillRange.leftCol<this._fillSource.leftCol?new W(this._fillRange.row,this._fillRange.leftCol,this._fillRange.row2,this._fillSource.leftCol-1):new W(this._fillRange.row,this._fillSource.rightCol+1,this._fillRange.row2,this._fillRange.rightCol),this._owner._resetMergedRange(d),p&&p.length>0)for(n=0;n<p.length;n++)r=(i=p[n]).row,this._owner.selectedSheet._styledCells[r*this._owner.columns.length+(o=i.col)]=i.style,this._owner.setCellData(r,o,i.value),i.mergedCell&&this._owner.mergeRange(i.mergedCell);this._owner.selection=v,this._owner.endUpdate()},t}(j),Jc=function(){function s(t){this._owner=t,this._sortDescriptions=new u.CollectionView,this._committedList=[new ol(-1,!0)],this._sortDescriptions.newItemCreator=function(){return new ol(-1,!0)}}return Object.defineProperty(s.prototype,"sortDescriptions",{get:function(){return this._sortDescriptions},set:function(t){this._sortDescriptions=t,this.commitSort()},enumerable:!0,configurable:!0}),s.prototype.addSortLevel=function(t,e){void 0===e&&(e=!0);var n=this._sortDescriptions.addNew();null!=t&&!isNaN(t)&&(0,u.isInt)(t)&&(n.columnIndex=t),n.ascending=e,this._sortDescriptions.commitNew()},s.prototype.deleteSortLevel=function(t){var e;(e=null!=t?this._getSortItem(t):this._sortDescriptions.currentItem)&&this._sortDescriptions.remove(e)},s.prototype.copySortLevel=function(){var t=this._sortDescriptions.currentItem;if(t){var e=this._sortDescriptions.addNew();e.columnIndex=parseInt(t.columnIndex),e.ascending=t.ascending,this._sortDescriptions.commitNew()}},s.prototype.editSortLevel=function(t,e){null!=t&&(this._sortDescriptions.currentItem.columnIndex=t),null!=e&&(this._sortDescriptions.currentItem.ascending=e)},s.prototype.moveSortLevel=function(t){var e=this._sortDescriptions.currentItem;if(e){var n=this._sortDescriptions.sourceCollection,i=n.indexOf(e),r=i+t;i>-1&&r>-1&&(n.splice(i,1),n.splice(r,0,e),this._sortDescriptions.refresh(),this._sortDescriptions.moveCurrentTo(e))}},s.prototype.checkSortItemExists=function(t){for(var e=0,n=this._sortDescriptions.itemCount;e<n;e++)if(+this._sortDescriptions.items[e].columnIndex===t)return e;return-1},s.prototype.commitSort=function(t){void 0===t&&(t=!0);var e,n,i,r,o,a,d,p,v,M,T,L,Y,ce,ae=this._owner,Ee=this._owner.itemsSource instanceof u.CollectionView,Me={};if(this._owner.selectedSheet&&0!==this._owner.columns.length){var ze=null==this._owner.selectedSheet.grid.collectionView;if(ae._needCopyToSheet=!1,a=ae.selectedSheet._unboundSortDesc,t&&ae.undoStack.stackSize>0&&(d=new Bi(ae)),this._committedList=this._sortDescriptions.itemCount>0?this._cloneSortList(this._sortDescriptions.items):[new ol(-1,!0)],ae.collectionView){ae._isSorting=!0,ae.beginUpdate(),(p=ae.editableCollectionView)&&p.currentEditItem&&-1!==p.items.indexOf(p.currentEditItem)&&!this._isEmpty(p.currentEditItem)&&p.commitEdit(),ae.collectionView.beginUpdate(),ze||ae.selectedSheet.grid.collectionView.beginUpdate(),(i=ae.collectionView.sortDescriptions).clear(),v=ae.selection.clone(),M=ae.scrollPosition,ce=ae._getDataRowsOffset();var st=[];if(!ae._isUndoing&&!ae._isDeletingColumns&&ae.filter&&ae.filter._isActive())for(o=0;o<ae.rows.length-ce;o++)(Y=(L=ae.rows[o+ce]).dataItem)&&(st[null!=Y._itemIdx?Y._itemIdx:o]=L.visible);for(Ee||(r=ze?ae.collectionView.sortDescriptions:ae.selectedSheet.grid.collectionView.sortDescriptions).clear(),ae.collectionView.sourceCollection.map(function(xt,yt){null==xt._itemIdx&&(xt._itemIdx=yt)}),ae.select(v,!1),ae.scrollPosition=M,navigator.userAgent.toLowerCase().indexOf("chrome")>-1&&(ae.collectionView.useStableSort=!0,Ee||ze||(ae.selectedSheet.grid.collectionView.useStableSort=!0)),o=0;o<this._sortDescriptions.itemCount;o++)(e=this._sortDescriptions.items[o]).columnIndex>-1&&e.columnIndex<ae.columns.length&&(n=new u.SortDescription(ae.columns[e.columnIndex].binding,e.ascending),i.push(n),Ee||r.push(n));for(ae.selectedSheet.selectionRanges.clear(),ae.collectionView.endUpdate(!1),ze||ae.selectedSheet.grid.collectionView.endUpdate(!1),v=ae.selection.clone(),M=ae.scrollPosition,T=ae.collectionView._view.slice(),o=0;o<T.length;o++)o!==(Y=T[o])._itemIdx&&ae._updateFormulaForReorderingRows(Y._itemIdx+ce,o+ce),ae._updateCellStyleForReorderingRows(Y._itemIdx+ce,o+ce,Me);if(st.length)for(o=0;o<ae.rows.length-ce;o++)(Y=(L=ae.rows[o+ce]).dataItem)&&(L.visible=st[null!=Y._itemIdx?Y._itemIdx:o]);T.map(function(xt,yt){xt._itemIdx=yt}),ae.selectedSheet._styledCells=Me,ae.select(v,!1),ae.scrollPosition=M,ae.endUpdate(),ae._copyColumnsToSelectedSheet(),ae._isSorting=!1}else{for(a.clear(),o=0;o<this._sortDescriptions.itemCount;o++)(e=this._sortDescriptions.items[o]).columnIndex>-1&&a.push(new af(ae.columns[e.columnIndex],e.ascending));!ae.filter||!ae._isUndoing&&ae.filter._isActive()||setTimeout(function(){ae._checkCollectionOwner(ae.columns,!1),ae.filter.apply()},10)}d&&(d.saveNewState(),ae.undoStack._addAction(d)),ae._copiedRanges=null,ae._needCopyToSheet=!0}},s.prototype.cancelSort=function(){this._sortDescriptions.sourceCollection=this._committedList.slice()},s.prototype.clearSort=function(){this._sortDescriptions.sourceCollection=[],this.commitSort()},s.prototype._getSortItem=function(t){var e=this.checkSortItemExists(t);if(e>-1)return this._sortDescriptions.items[e]},s.prototype._cloneSortList=function(t){for(var e=[],n=0;n<t.length;n++)e[n]=t[n].clone();return e},s.prototype._updateSortDescriptions=function(t,e,n){var i,r;for(void 0===n&&(n=!0),i=this._sortDescriptions.items.length-1;i>=0;i--)r=this._sortDescriptions.items[i],n?r.columnIndex>t&&(r.columnIndex+=e):r.columnIndex>=t+e?r.columnIndex-=e:r.columnIndex>=t&&this._sortDescriptions.remove(r)},s.prototype._handleColumnMoving=function(t,e){this._sortDescriptions.items.forEach(function(n){n.columnIndex<0||(n.columnIndex===t?n.columnIndex=e:(n.columnIndex>t&&n.columnIndex--,n.columnIndex>=e&&n.columnIndex++))})},s.prototype._isEmpty=function(t){var e=Object.prototype.hasOwnProperty;if(null==t)return!0;if(t.length>0)return!1;if(0===t.length)return!0;for(var n in t)if(e.call(t,n))return!1;return!0},s}(),ol=function(){function s(t,e){this._columnIndex=t,this._ascending=e}return Object.defineProperty(s.prototype,"columnIndex",{get:function(){return this._columnIndex},set:function(t){this._columnIndex=+t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"ascending",{get:function(){return this._ascending},set:function(t){this._ascending=t},enumerable:!0,configurable:!0}),s.prototype.clone=function(){return new s(this._columnIndex,this._ascending)},s}();(0,u._addCultureInfo)("FlexSheet",{insertRow:"Insert Row",deleteRow:"Delete Rows",insertCol:"Insert Column",deleteCol:"Delete Columns",convertTable:"Convert To Table",insertSheet:"Insert",deleteSheet:"Delete",renameSheet:"Rename",copyCells:"Copy Cells",fillSeries:"Fill Series",fillFormat:"Fill Formatting Only",fillWithoutFormat:"Fill Without Formatting"});var js,oc=[{name:"abs",description:"Returns the absolute value of a number."},{name:"acos",description:"Returns the arccosine of a number."},{name:"address",description:"Obtains the address of a cell in a worksheet by given specified row and column numbers."},{name:"and",description:"Returns TRUE if all of its arguments are TRUE."},{name:"asin",description:"Returns the arcsine of a number."},{name:"atan",description:"Returns the arctangent of a number."},{name:"atan2",description:"Returns the arctangent from x- and y-coordinates."},{name:"average",description:"Returns the average of its arguments."},{name:"ceiling",description:"Rounds a number to the nearest integer or to the nearest multiple of significance."},{name:"char",description:"Returns the character specified by the code number."},{name:"choose",description:"Chooses a value from a list of values."},{name:"code",description:"Returns a numeric code for the first character in a text string."},{name:"column",description:"Returns the column number of a reference."},{name:"columns",description:"Returns the number of columns in a reference."},{name:"concat",description:"Joins several text items into one text item."},{name:"concatenate",description:"Joins several text items into one text item."},{name:"cos",description:"Returns the cosine of a number."},{name:"count",description:"Counts how many numbers are in the list of arguments."},{name:"counta",description:"Counts how many values are in the list of arguments."},{name:"countblank",description:"Counts the number of blank cells within a range."},{name:"countif",description:"Counts the number of cells within a range that meet the given criteria."},{name:"countifs",description:"Counts the number of cells within a range that meet multiple criteria."},{name:"date",description:"Returns the serial number of a particular date."},{name:"datedif",description:"Calculates the number of days, months, or years between two dates."},{name:"day",description:"Converts a serial number to a day of the month."},{name:"dcount",description:"Counts the cells that contain numbers in a database."},{name:"exp",description:"Returns e raised to the power of a given number."},{name:"exact",description:"Compares two text strings and returns TRUE if they are exactly the same, FALSE otherwise."},{name:"false",description:"Returns the logical value FALSE."},{name:"find",description:"Finds one text value within another (case-sensitive)."},{name:"floor",description:"Rounds a number down, toward zero."},{name:"hlookup",description:"Looks in the top row of an array and returns the value of the indicated cell."},{name:"hour",description:"Converts a serial number to an hour."},{name:"if",description:"Specifies a logical test to perform."},{name:"iferror",description:"Returns a value you specify if a formula evaluates to an error; otherwise, it returns the result of the formula."},{name:"index",description:"Uses an index to choose a value from a reference."},{name:"indirect",description:"Returns the reference specified by a text string. References are immediately evaluated to display their contents."},{name:"isblank",description:"Checks if value refers to an empty cell."},{name:"iserr",description:"Checks if value is an error (#VALUE!, #REF!, #DIV/0!, #NUM!, #NAME?, or #NULL!) excluding #N/A, and returns TRUE or FALSE."},{name:"iserror",description:"Checks if value is an error (#N/A, #VALUE!, #REF!, #DIV/0!, #NUM!, #NAME?, or #NULL!), and returns TRUE or FALSE."},{name:"left",description:"Returns the leftmost characters from a text value."},{name:"len",description:"Returns the number of characters in a text string."},{name:"ln",description:"Returns the natural logarithm of a number."},{name:"lower",description:"Converts text to lowercase."},{name:"max",description:"Returns the maximum value in a list of arguments."},{name:"mid",description:"Returns a specific number of characters from a text string starting at the position you specify."},{name:"min",description:"Returns the minimum value in a list of arguments."},{name:"mod",description:"Returns the remainder from division."},{name:"month",description:"Converts a serial number to a month."},{name:"not",description:"Reverses the logic of its argument."},{name:"now",description:"Returns the current date and time formatted as a date and time."},{name:"or",description:"Returns TRUE if any argument is TRUE."},{name:"pi",description:"Returns the value of pi."},{name:"power",description:"Returns the result of a number raised to a power."},{name:"product",description:"Multiplies its arguments."},{name:"proper",description:"Capitalizes the first letter in each word of a text value."},{name:"rand",description:"Returns a random number between 0 and 1."},{name:"rank",description:"Returns the rank of a number in a list of numbers."},{name:"rate",description:"Returns the interest rate per period of an annuity."},{name:"replace",description:"Replaces characters within text."},{name:"rept",description:"Repeats text a given number of times."},{name:"right",description:"Returns the rightmost characters from a text value."},{name:"round",description:"Rounds a number to a specified number of digits."},{name:"rounddown",description:"Rounds a number down, toward zero."},{name:"roundup",description:"Rounds a number up, away from zero."},{name:"row",description:"Returns the row number of a reference."},{name:"rows",description:"Returns the number of rows in a reference."},{name:"search",description:"Finds one text value within another (not case-sensitive)."},{name:"sin",description:"Returns the sine of the given angle."},{name:"sqrt",description:"Returns a positive square root."},{name:"stdev",description:"Estimates standard deviation based on a sample."},{name:"stdevp",description:"Calculates standard deviation based on the entire population."},{name:"substitute",description:"Substitutes new text for old text in a text string."},{name:"subtotal",description:"Returns a subtotal in a list or database."},{name:"sum",description:"Adds its arguments."},{name:"sumif",description:"Adds the cells specified by a given criteria."},{name:"sumifs",description:"Adds the cells in a range that meet multiple criteria."},{name:"sumproduct",description:"Multiplies corresponding components in the given arrays, and returns the sum of those products."},{name:"tan",description:"Returns the tangent of a number."},{name:"text",description:"Formats a number and converts it to text."},{name:"time",description:"Returns the serial number of a particular time."},{name:"today",description:"Returns the current date formatted as a date."},{name:"trim",description:"Removes spaces from text."},{name:"true",description:"Returns the logical value TRUE."},{name:"trunc",description:"Truncates a number to an integer."},{name:"upper",description:"Converts text to uppercase."},{name:"value",description:"Converts a text argument to a number."},{name:"var",description:"Estimates variance based on a sample."},{name:"varp",description:"Calculates variance based on the entire population."},{name:"vlookup",description:"Looks in the first column of an array and returns the value of the indicated cell."},{name:"year",description:"Converts a serial number to a year."}],ia=function(s){function t(e,n){var i=s.call(this,e,n)||this;return i._selectedSheetIndex=-1,i._columnHeaderClicked=!1,i._addingSheet=!1,i._mouseMoveHdl=i._mouseMove.bind(i),i._clickHdl=i._click.bind(i),i._touchStartHdl=i._touchStart.bind(i),i._touchEndHdl=i._touchEnd.bind(i),i._keydownHdl=i._keydown.bind(i),i._isContextMenuKeyDown=!1,i._isClicking=!1,i._builtInTableStylesCache=null,i._needCopyToSheet=!0,i._isSorting=!1,i._fillingData=!1,i._enableDragDrop=!0,i._enableFormulas=!0,i._headerRowRemoved=!1,i._clearCalcCacheOnRefresh=!0,i._copyingTo=!1,i._ignoreBindGrid=!1,i._loadingFromWorkbook=!1,i.selectedSheetChanged=new u.Event,i.draggingRowColumn=new u.Event,i.droppingRowColumn=new u.Event,i.beginDroppingRowColumn=new u.Event,i.endDroppingRowColumn=new u.Event,i.loaded=new u.Event,i.unknownFunction=new u.Event,i.sheetCleared=new u.Event,i.prepareChangingRow=new u.Event,i.prepareChangingColumn=new u.Event,i.rowChanged=new u.Event,i.columnChanged=new u.Event,i.autoFilling=new u.Event,i.autoFilled=new u.Event,i._updateScrollPos=!1,n&&null!=n.allowAutoFill||(i._allowAutoFill=!0),i._needCopyToSheet=!1,i._colorThemes=["FFFFFF","000000","EEECE1","1F497D","4F818D","C0504D","9BBB59","8064A2","4BACC6","F79646"],i._eCt.style.backgroundColor="white",(0,u.addClass)(i.hostElement,"wj-flexsheet"),(0,u.setCss)(i.hostElement,{fontFamily:"Arial"}),i._cf=new Qc,i._bndSortConverter=i._sheetSortConverter.bind(i),i._selHdl=new nf(i),i.quickAutoSize=!1,i._init(),i.showSort=!1,i.allowSorting=yn.None,i.showGroups=!1,i.showMarquee=!0,i.showSelectedHeaders=On.All,i.allowResizing=si.Both,i.allowDragging=Je.None,i.keyActionTab=Ln.CycleOut,i._needCopyToSheet=!0,i}return yr(t,s),t.prototype._getProductInfo=function(){return"R20I,FlexSheet"},Object.defineProperty(t.prototype,"sheets",{get:function(){return this._sheets||(this._sheets=new sf),this._sheets},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedSheetIndex",{get:function(){return this._selectedSheetIndex},set:function(e){e!==this._selectedSheetIndex&&(this._showSheet(e),this._sheets.selectedIndex=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedSheet",{get:function(){return this._selectedSheetIndex>=0?this._sheets[this._selectedSheetIndex]:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isFunctionListOpen",{get:function(){return this._functionListHost&&"none"!==this._functionListHost.style.display},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isTabHolderVisible",{get:function(){return this._tabHolder.visible},set:function(e){e!==this._tabHolder.visible&&(this._updateDivContainerHeight(e),e?this._eFocus.removeAttribute("tabindex"):this._eFocus.tabIndex=this._orgTabIndex,this._tabHolder.visible=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"undoStack",{get:function(){return this._undoStack},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sortManager",{get:function(){return this._sortManager},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filter",{get:function(){return this._filter},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showFilterIcons",{get:function(){return!!this._filter&&this._filter.showFilterIcons},set:function(e){this._filter&&this._filter.showFilterIcons!==e&&(this._filter.showFilterIcons=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"calculationPrecision",{get:function(){return this._precision??14},set:function(e){e!==this._precision&&(this._precision=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"definedNames",{get:function(){return this._defNames||(this._defNames=new Wp(this)),this._defNames},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enableDragDrop",{get:function(){return this._enableDragDrop},set:function(e){this._enableDragDrop=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enableFormulas",{get:function(){return this._enableFormulas},set:function(e){this._enableFormulas!==e&&(this._enableFormulas=e,this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowAutoFill",{get:function(){return this._allowAutoFill},set:function(e){this._allowAutoFill=(0,u.asBoolean)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_lastSelMovePos",{get:function(){return this._lsmPos},set:function(e){this._lsmPos=e?e.clone():null},enumerable:!0,configurable:!0}),t.prototype.onSelectedSheetChanged=function(e){this.selectedSheetChanged.raise(this,e)},t.prototype.onDraggingRowColumn=function(e){this.draggingRowColumn.raise(this,e)},t.prototype.onDroppingRowColumn=function(e){(0,u._deprecated)("droppingRowColumn","beginDroppingRowColumn and endDroppingRowColumn"),this.droppingRowColumn.raise(this,new u.EventArgs)},t.prototype.onBeginDroppingRowColumn=function(e){this.beginDroppingRowColumn.raise(this,e)},t.prototype.onEndDroppingRowColumn=function(e){this.endDroppingRowColumn.raise(this,e)},t.prototype.onLoaded=function(e){var n=this;this._toRefresh&&(clearTimeout(this._toRefresh),this._toRefresh=null),this._toRefresh=setTimeout(function(){n._setFlexSheetToDirty(),n.invalidate()},10),this.loaded.raise(this,new u.EventArgs)},t.prototype.onUnknownFunction=function(e){this.unknownFunction.raise(this,e)},t.prototype.onSheetCleared=function(e){this.sheetCleared.raise(this,e)},t.prototype.onPrepareChangingRow=function(e){this.prepareChangingRow.raise(this,e)},t.prototype.onPrepareChangingColumn=function(e){this.prepareChangingColumn.raise(this,e)},t.prototype.onRowChanged=function(e){this.rowChanged.raise(this,e)},t.prototype.onColumnChanged=function(e){this.columnChanged.raise(this,e)},t.prototype.onAutoFilling=function(e){this.autoFilling.raise(this,e)},t.prototype.onAutoFilled=function(e){this.autoFilled.raise(this,e)},t.prototype.refresh=function(e){if(void 0===e&&(e=!0),this.hostElement&&!this.isUpdating&&this._updateDivContainerHeight(this.isTabHolderVisible),!this.preserveSelectedState&&this.selectedSheet&&(this.selectedSheet.selectionRanges.clear(),this.selectedSheet.selectionRanges.push(this.selection)),e&&(this._clearCalcCacheOnRefresh&&this._clearCalcEngine(),this._clearCalcCacheOnRefresh=!0),this._lastVisibleFrozenRow=-1,this.frozenRows>0)for(var n=this.frozenRows-1;n>=0;n--)if(this.rows[n]&&this.rows[n].isVisible){this._lastVisibleFrozenRow=n;break}if(this._lastVisibleFrozenColumn=-1,this.frozenColumns>0)for(n=this.frozenColumns-1;n>=0;n--)if(this.columns[n]&&this.columns[n].isVisible){this._lastVisibleFrozenColumn=n;break}if(this.selectedSheet){if(this.selectedSheet._freezeHiddenRows&&this.selectedSheet._freezeHiddenRows.length>0)for(n=0;n<this.selectedSheet._freezeHiddenRows.length;n++){var i=this.rows[n];i instanceof as||!this.selectedSheet._freezeHiddenRows[n]||(i.visible=!1)}if(this.selectedSheet._freezeHiddenCols&&this.selectedSheet._freezeHiddenCols.length>0)for(n=0;n<this.selectedSheet._freezeHiddenCols.length;n++)this.selectedSheet._freezeHiddenCols[n]&&(this.columns[n].visible=!1)}s.prototype.refresh.call(this,e),this.hostElement&&!this.isUpdating&&(this._tabHolder.adjustSize(),this._tabHolder.isDisabled=this.isDisabled,this._tabHolder.sheetControl.isDisabled=this.isDisabled)},t.prototype.setCellData=function(e,n,i,r,o){void 0===r&&(r=!1),void 0===o&&(o=!0);var a=Fo(i);return this._clearCalcEngine(),this.cells.setCellData(e,n,i,r&&!a,o)||this._getHasValidation()},t.prototype.containsFocus=function(){return this.isFunctionListOpen||s.prototype.containsFocus.call(this)},t.prototype.addUnboundSheet=function(e,n,i,r,o){var a=this._addSheet(e,n,i,r,o);return 0===a.selectionRanges.length&&a.selectionRanges.push(this.selection),a},t.prototype.addBoundSheet=function(e,n,i,r){var o=this._addSheet(e,0,0,i,r);return n&&(o.itemsSource=n,this.childItemsPath&&(o.grid.childItemsPath=this.childItemsPath)),0===o.selectionRanges.length&&o.selectionRanges.push(this.selection),o},t.prototype.applyCellsStyle=function(e,n,i){void 0===i&&(i=!1);var r,o,a,d,p,v=null!=n&&n.length>0,M=n||[this.selection];if(this.selectedSheet)if(e||!this._cloneStyle){if(M){for(n||i?i&&!this._cloneStyle&&(this._cloneStyle=this._cloneObject(this.selectedSheet._styledCells)):(this.undoStack.stackSize>0&&(p=new kn(this,this._cloneStyle)),this._cloneStyle=null),d=0;d<M.length;d++)for(r=(a=M[d]).topRow;r<=a.bottomRow;r++)for(o=a.leftCol;o<=a.rightCol;o++)this._applyStyleForCell(r,o,e,v);p&&(p.saveNewState(),this._undoStack._addAction(p))}n||this.refresh(!1)}else this.selectedSheet._styledCells=this._cloneObject(this._cloneStyle),this._cloneStyle=null,this.refresh(!1)},t.prototype.freezeAtCursor=function(){var e,n,i=this;if(this.selectedSheet){if(this.selectedSheet._freezeHiddenRows=null,this.selectedSheet._freezeHiddenCols=null,this.selection&&0===this.frozenRows&&0===this.frozenColumns){if(this._ptScrl.y<0){this.selectedSheet._freezeHiddenRows=[];for(var r=0;r<this.selection.topRow-1;r++){var o=this.rows[r];if(!(o instanceof as)){if(!(o._pos+this._ptScrl.y<0&&o.visible))break;o.visible=!1,this.selectedSheet._freezeHiddenRows[r]=!0}}}if(this._ptScrl.x<0)for(this.selectedSheet._freezeHiddenCols=[],r=0;r<this.selection.leftCol-1;r++){var a=this.columns[r];if(!(a._pos+this._ptScrl.x<0&&a.visible))break;a.visible=!1,this.selectedSheet._freezeHiddenCols[r]=!0}e=this.selection.leftCol>0?this.selection.leftCol:0,n=this.selection.topRow>0?this.selection.topRow:0}else{for(r=0;r<this.frozenRows-1&&r<this.rows.length;r++)this.rows[r].visible=!0;for(r=0;r<this.frozenColumns-1&&r<this.columns.length;r++)this.columns[r].visible=!0;this._filter.apply(),e=0,n=0}this.frozenRows=this.selectedSheet.grid.frozenRows=n,this.frozenColumns=this.selectedSheet.grid.frozenColumns=e,setTimeout(function(){i._setFlexSheetToDirty(),i.invalidate(),i.scrollIntoView(i.selection.topRow,i.selection.leftCol)},10)}},t.prototype.showColumnFilter=function(){this.columns.length>0&&this._filter.editColumnFilter(this.columns[this.selection.col>0?this.selection.col:0])},t.prototype.clear=function(){this.beginUpdate(),this.selection=new W,this.sheets.clear(),this._selectedSheetIndex=-1,this.columns.clear(),this.rows.clear(),this.columnHeaders.columns.clear(),this.rowHeaders.rows.clear(),this._undoStack.clear(),this._ptScrl=new u.Point,this._clearCalcEngine(),this._defNames&&this._defNames.clear(),this._builtInTableStylesCache=null,this._copiedRanges=null,this._copiedSheet=null,this._isCutting=!1,this._cutValue=null,this._reservedContent=null,this._lastVisibleFrozenRow=-1,this._lastVisibleFrozenColumn=-1,this._loadingFromWorkbook||this.addUnboundSheet(),this.endUpdate()},t.prototype.getSelectionFormatState=function(){var e,n,i=this.rows.length,r=this.columns.length,o={isBold:!1,isItalic:!1,isUnderline:!1,textAlign:"left",isMergedCell:!1};if(0===i||0===r)return o;if(this.selection){if(this.selection.row>=i||this.selection.row2>=i||this.selection.col>=r||this.selection.col2>=r)return o;for(e=this.selection.topRow;e<=this.selection.bottomRow;e++)for(n=this.selection.leftCol;n<=this.selection.rightCol;n++)this._checkCellFormat(e,n,o)}return o},t.prototype.insertRows=function(e,n){var i,r,o,a=this,d=(0,u.isNumber)(e)&&e>=0?e:this.selection&&this.selection.topRow>-1?this.selection.topRow:0,p=(0,u.isNumber)(n)?n:1,v=this.rows[d];if(this.selectedSheet){this.rows.length>0?d>=this.rows.length&&(d=this.rows.length-1):d=0;var M=this.collectionView,T=this.editableCollectionView,k=M instanceof u.CollectionView?M:null;this._clearCalcEngine(),this.finishEditing(),T&&T.currentEditItem&&T.commitEdit(),0===d&&v&&v.constructor===as&&(d=1),this.onPrepareChangingRow(new La(d,p,!0,!1)),this.undoStack.stackSize>0&&(i=new Qt(this,d,p,!0)),this._updateCellsForUpdatingRow(this.rows.length,d,p),(!this.collectionView||0===this.collectionView.sortDescriptions.length)&&(r=this._updateAffectedFormula(d,p,!0,!0),o=this._updateAffectedNamedRanges(d,p,!0,!0)),i&&(i._affectedFormulas=r,i._affectedDefinedNameVals=o);var L=null==this.selectedSheet.grid.collectionView;if(this.beginUpdate(),M){var Y=this.itemsSource instanceof u.CollectionView,ce=this.autoGenerateColumns,ae=void 0;this.selectedSheet._dataView=this.collectionView._view.slice(),this.autoGenerateColumns=!1,this.collectionView.beginUpdate(),Y||(ae=this.selectedSheet.grid.autoGenerateColumns,this.selectedSheet.grid.autoGenerateColumns=!1,L||this.selectedSheet.grid.collectionView.beginUpdate());var Ee=Math.max(d-this._getDataRowsOffset(),0);this.collectionView.moveCurrentToPosition(Ee);for(var Me=0;Me<p;Me++){var ze=k&&k.newItemCreator?k.newItemCreator():{};if(M.sourceCollection.splice(Ee,0,ze),k&&k.trackChanges&&k.itemsAdded.push(ze),!Y){var st=this.selectedSheet.grid.itemsSource;st&&this.itemsSource!==st&&st.splice(Ee,0,ze)}this.selectedSheet._dataView.splice(Ee,0,ze)}this._updateItemIndexForInsertingRow(this.collectionView.sourceCollection,Ee,p),Y||(L||this.selectedSheet.grid.collectionView.endUpdate(!0),this.selectedSheet.grid.autoGenerateColumns=ae);var xt=this.collectionView._idx;this.collectionView.endUpdate(!0),this.collectionView.sortDescriptions.length>0&&(this.collectionView._view=this.selectedSheet._dataView,this.collectionView._pgView=this.collectionView._getPageView(),this.collectionView._idx=xt,!Y&&!L&&(this.selectedSheet.grid.collectionView._view=this.selectedSheet._dataView,this.selectedSheet.grid.collectionView._pgView=this.selectedSheet.grid.collectionView._getPageView(),this.collectionView._idx=xt),this._bindGrid(!1),this.selectedSheet.grid._bindGrid(!1)),setTimeout(function(){a._filter.apply()}),this.autoGenerateColumns=ce}else{for(this.rows.beginUpdate(),Me=0;Me<p;Me++)this.rows.insert(d,new Lt);var yt=this.selectedSheet._freezeHiddenRows;if(yt&&yt.length)for(Me=d+p;Me<this.rows.length;Me++)yt[Me]||(this.rows[Me].visible=!0);this.rows.endUpdate()}this._updateTablesForUpdatingRow(d,p),this.selection&&-1!==this.selection.row&&-1!==this.selection.col||this.select(new W(0,0),!1),i&&(i.saveNewState(),this._undoStack._addAction(i)),this.onRowChanged(new La(d,p,!0,!1)),this.endUpdate()}},t.prototype.deleteRows=function(e,n){var i=this;if(this.selectedSheet&&!(this.rows.length<1)){var r=e,o=(0,u.isArray)(e);if(!o)if((0,u.isNumber)(e)){if((n=(0,u.isNumber)(n)?n:1)<1)return;r=[new W(e,-1,e+n-1,-1)]}else o=(r=this._selections()).length>1;var a=!!this.collectionView;if(a){var d=[];r.forEach(function(en){if(en.row>=0&&en.row2>=0)for(var Rt=en.topRow,Kt=en.bottomRow;Rt<=Kt;Rt++)(i.rows[Rt]instanceof as||i.rows[Rt]instanceof Ge)&&d.push(Rt)}),d.forEach(function(en){return zl.excludeRow(r,en)})}if((r=zl.validateRowRanges(r,this.rows.length)).length){r.forEach(function(en){en.col=en.col2=-1}),this._clearCalcEngine(),this.finishEditing();var p,v=this.selection.topRow,M=o?new La(r,!1,!1):new La(r[0].topRow,r[0].rowSpan,!1,!1);this.onPrepareChangingRow(M),this.undoStack.stackSize>0&&(p=new Qt(this,null,null,!1));var T,k,L=a&&this.itemsSource instanceof u.CollectionView,Y=null==this.selectedSheet.grid.collectionView,ce=0;this.beginUpdate(),this._isDeletingRows=!0,a?(this.selectedSheet._dataView=this.collectionView._view.slice(),T=this.autoGenerateColumns,this.autoGenerateColumns=!1,this.collectionView.beginUpdate(),L||(k=this.selectedSheet.grid.autoGenerateColumns,this.selectedSheet.grid.autoGenerateColumns=!1,Y||this.selectedSheet.grid.collectionView.beginUpdate())):this.rows.beginUpdate();for(var ae=r.length-1;ae>=0;ae--){var Ee=r[ae],Me=void 0,ze=new me(this.cells,Ee);if(this.onDeletingRow(ze)){p&&((Me=new Qt(this,Ee.topRow,Ee.rowSpan,!1))._affectedFormulas=this._updateAffectedFormula(Ee.bottomRow,Ee.rowSpan,!1,!0),Me._affectedDefinedNameVals=this._updateAffectedNamedRanges(Ee.bottomRow,Ee.rowSpan,!1,!0),Me._deletedTables=this._updateTablesForUpdatingRow(Ee.topRow,Ee.rowSpan,!0),p.addDeleteSubAction(Me)),this._updateCellsForUpdatingRow(this.rows.length,Ee.topRow,Ee.rowSpan,!0);for(var st=Ee.bottomRow;st>=Ee.topRow;st--){var xt=this.rows[st];if(!xt||xt.isVisible)if(ce++,xt.dataItem&&this.editableCollectionView){var yt=void 0;this.editableCollectionView.remove(xt.dataItem),this.selectedSheet._dataView.splice(this.selectedSheet._dataView.indexOf(xt.dataItem),1),L||(yt=this.itemsSource.indexOf(xt.dataItem)),this._updateItemIndexForRemovingRow(this.collectionView.sourceCollection,yt)}else this.rows.removeAt(st)}Me&&Me.saveNewState(),this.onDeletedRow(ze)}}a?(L||(Y||this.selectedSheet.grid.collectionView.endUpdate(ce>0),this.selectedSheet.grid.autoGenerateColumns=k),this.collectionView.endUpdate(ce>0),this.collectionView.sortDescriptions.length>0&&(this.collectionView._view=this.selectedSheet._dataView,this.collectionView._pgView=this.collectionView._getPageView(),!L&&!Y&&(this.selectedSheet.grid.collectionView._view=this.selectedSheet._dataView,this.selectedSheet.grid.collectionView._pgView=this.selectedSheet.grid.collectionView._getPageView()),this._bindGrid(!1),this.selectedSheet.grid._bindGrid(!1)),this.autoGenerateColumns=T):this.rows.endUpdate(),this.selectedSheet.selectionRanges.clear();var St,Dt=this.rows.length;if(0===Dt)St=new W;else if(this.selection.topRow>=Dt)St=new W(Dt-1,0,Dt-1,this.columns.length-1);else{var Nt=v;this.selection.topRow>=0&&(Nt=Math.min(Nt,this.selection.topRow)),St=new W(Nt,0,Nt,this.columns.length-1)}this.select(St,!1),0===Dt&&"move"===this.hostElement.style.cursor&&(this.hostElement.style.cursor="default"),p&&(p.saveNewState(),this._undoStack._addAction(p)),this.onRowChanged(M),this._isDeletingRows=!1,this.endUpdate()}}},t.prototype.insertColumns=function(e,n){var i,r,o,a=this,d=(0,u.isNumber)(e)&&e>=0?e:this.selection&&this.selection.leftCol>-1?this.selection.leftCol:0,p=(0,u.isNumber)(n)?n:1;this.selectedSheet&&(this.columns.length>0?d>=this.columns.length&&(d=this.columns.length-1):d=0,this._clearCalcEngine(),this.finishEditing(),this.onPrepareChangingColumn(new La(d,p,!0,!0)),this.undoStack.stackSize>0&&(i=new ct(this,d,p,!0)),this._updateCellsForUpdatingColumn(this.columns.length,d,p),r=this._updateAffectedFormula(d,p,!0,!1),o=this._updateAffectedNamedRanges(d,p,!0,!1),i&&(i._affectedFormulas=r,i._affectedDefinedNameVals=o),this.deferUpdate(function(){a.columns.beginUpdate();for(var v=0;v<p;v++){var M=new $t;if(M.isRequired=!1,a.itemsSource){M.binding=a._getUniqueColumnName();var T=a.rows[a._getDataRowsOffset()-1];T&&(T._ubv||(T._ubv={}),T._ubv[M._hash]=t._getHeaderRowText(M))}a.columns.insert(d,M)}a.columns.endUpdate(),a.selectedSheet._filterDefinition=a._filter.filterDefinition,a.selectedSheet.grid.columns._dirty=!1,a._sortManager._updateSortDescriptions(d,p),a._sortManager.commitSort(!1),a._updateTablesForUpdatingColumn(d,p),a.selection&&-1!==a.selection.row&&-1!==a.selection.col||a.select(new W(0,0),!1),i&&(i.saveNewState(),a._undoStack._addAction(i)),a.onColumnChanged(new La(d,p,!0,!0))}))},t.prototype.deleteColumns=function(e,n){if(this.selectedSheet){var i=e,r=(0,u.isArray)(e);if(!r)if((0,u.isNumber)(e)){if((n=(0,u.isNumber)(n)?n:1)<1)return;i=[new W(-1,e,-1,e+n-1)]}else r=(i=this._selections()).length>1;if((i=zl.validateColumnRanges(i,this.columns.length)).length){var o=this.selection.leftCol,a=0;i.forEach(function(st){a+=st.columnSpan,st.row=st.row2=-1}),this._clearCalcEngine(),this.finishEditing();var d,p=r?new La(i,!1,!0):new La(i[0].leftCol,i[0].columnSpan,!1,!0);this.onPrepareChangingColumn(p),this.undoStack.stackSize>0&&(d=new ct(this,null,null,!1)),this.beginUpdate(),this._isDeletingColumns=!0;var v=this.filter?this.filter._filters:null,M=!1;this.columns.beginUpdate();for(var T=i.length-1;T>=0;T--){var k=i[T],L=void 0;d&&((L=new ct(this,k.leftCol,k.columnSpan,!1))._affectedFormulas=this._updateAffectedFormula(k.rightCol,k.columnSpan,!1,!1),L._affectedDefinedNameVals=this._updateAffectedNamedRanges(k.rightCol,k.columnSpan,!1,!1),L._deletedTables=this._updateTablesForUpdatingColumn(k.leftCol,k.columnSpan,!0),d._delSubActions.push(L)),this._updateCellsForUpdatingColumn(this.columns.length,k.leftCol,k.columnSpan,!0);for(var Y=k.rightCol;Y>=k.leftCol;Y--)if(this.columns[Y].isVisible){if(v)for(var ce=this.columns[Y],ae=0;ae<v.length;ae++)if(v[ae].column===ce){v.splice(ae,1),M=!0;break}this.columns.removeAt(Y),this._sortManager.deleteSortLevel(Y)}this._sortManager._updateSortDescriptions(k.leftCol,k.columnSpan,!1)}if(this.columns.endUpdate(),M){for(Y=0;Y<this.columns.length;Y++)this.columns[Y].isVisible&&this.filter._updateColumnFilter(this.columns[Y]);this.filter.apply()}this.selectedSheet._filterDefinition=this._filter.filterDefinition,this.selectedSheet.grid.columns._dirty=!1,this._sortManager.commitSort(!1),this.selectedSheet.selectionRanges.clear();var Ee,Me=this.columns.length;if(0===Me)Ee=new W,"move"===this.hostElement.style.cursor&&(this.hostElement.style.cursor="default");else if(this.selection.leftCol>=Me)Ee=new W(0,Me-1,this.rows.length-1,Me-1);else{var ze=o-a+1;ze=Math.max(ze,i[0].leftCol),ze=Math.min(ze,this.selection.leftCol),Ee=new W(this.selection.row,ze,this.selection.row2,ze)}this.select(Ee,!1),d&&(this._undoStack._addAction(d),d._delSubActions.forEach(function(st){return st.saveNewState()})),this.onColumnChanged(p),this._isDeletingColumns=!1,this.endUpdate()}}},t.prototype.mergeRange=function(e,n){void 0===n&&(n=!1);var i,r,o,a,d,p=e||this.selection,v=-1,M=-1;if(this.selectedSheet){if(p){if(1===p.rowSpan&&1===p.columnSpan)return;for(i=p.topRow;i<=p.bottomRow;i++)for(r=p.leftCol;r<=p.rightCol;r++)if(this.selectedSheet.findTable(i,r))return;if(!e&&!n&&(this.undoStack.stackSize>0&&(d=new Ci(this)),this.hostElement.focus()),!this._resetMergedRange(p)){for(i=p.topRow;i<=p.bottomRow;i++)if((o=this.rows[i])&&o.isVisible){v=i;break}for(r=p.leftCol;r<=p.rightCol;r++)if((a=this.columns[r])&&a.isVisible){M=r;break}v>-1&&M>-1&&this.selectedSheet._mergedRanges.push(new W(v,M,p.bottomRow,p.rightCol))}d&&(d.saveNewState(),this._undoStack._addAction(d))}e||this.refresh()}},t.prototype.getMergedRange=function(e,n,i,r){void 0===r&&(r=!0);var o,a,d,p,v=this.selectedSheet?this.selectedSheet._getMergedRange(n,i):null;return e===this.cells&&v?!v.isSingleCell&&(this.frozenRows>0||this.frozenColumns>0)&&(v.topRow<this.frozenRows&&v.bottomRow>=this.frozenRows||v.leftCol<this.frozenColumns&&v.rightCol>=this.frozenColumns)?(o=v.topRow,a=v.bottomRow,d=v.leftCol,p=v.rightCol,n>=this.frozenRows&&v.topRow<this.frozenRows&&(o=this.frozenRows),n<this.frozenRows&&v.bottomRow>=this.frozenRows&&(a=this.frozenRows-1),a>=this.rows.length&&(a=this.rows.length-1),i>=this.frozenColumns&&v.leftCol<this.frozenColumns&&(d=this.frozenColumns),i<this.frozenColumns&&v.rightCol>=this.frozenColumns&&(p=this.frozenColumns-1),p>=this.columns.length&&(p=this.columns.length-1),new W(o,d,a,p)):v.bottomRow>=this.rows.length?new W(v.topRow,v.leftCol,this.rows.length-1,v.rightCol):v.rightCol>=this.columns.length?new W(v.topRow,v.leftCol,v.bottomRow,this.columns.length-1):v.clone():s.prototype.getMergedRange.call(this,e,n,i,r)},t.prototype.evaluate=function(e,n,i,r){void 0===r&&(r=!0);var o=this._evaluate(e,n,i);return r&&null!=o&&!(0,u.isPrimitive)(o)?o instanceof Ko?o.error:o.value:o},t.prototype.getCellValue=function(e,n,i,r){void 0===i&&(i=!1);var o=r&&r!==this.selectedSheet?r.grid.columns[n]:this.columns[n],a=this._getCellStyle(e,n,r),d=a&&a.format||null,p=r&&r!==this.selectedSheet?r.grid.getCellData(e,n,!1):this.getCellData(e,n,!1);if((0,u.isString)(p)){var v=r||this.selectedSheet;if(v){var M=v.findTable(e,n);if(M&&M._isHeaderRow(e))return p}var T=Gs.asError(p);if(T)return T;if(Fo(p)&&(p=this._evaluate(p,null,r,e,n))instanceof Ko)return p}return i?(d||null==p||(0,u.isPrimitive)(p)||(d=p.format),p=this._formatEvaluatedResult(p,o,d)):null==p||(0,u.isPrimitive)(p)||(p=p.value),0===i?p:p??""},t.prototype.showFunctionList=function(e){var n=this;if(this._enableFormulas)if(this._functionTarget=(0,u.tryCast)(e,HTMLInputElement),this._functionTarget&&this._functionTarget.value&&"="===this._functionTarget.value[0]){this._functionList._cv.filter=function(d){var p,v=d.actualvalue.toLowerCase(),M=n._getCurrentFormulaIndex(n._functionTarget.value);return-1===M&&(M=0),(p=n._functionTarget.value.substr(M+1).trim().toLowerCase()).length>0&&0===v.indexOf(p)||"="===n._functionTarget.value},this._functionList.selectedIndex=0;var i=this._cumulativeOffset(e),r=this._cumulativeOffset(this._root),o=i.y+e.clientHeight+2+((0,u.hasClass)(e,"wj-grid-editor")?this._ptScrl.y:0),a=i.x+((0,u.hasClass)(e,"wj-grid-editor")?this._ptScrl.x:0);(0,u.setCss)(this._functionListHost,{height:this._functionList._cv.items.length>5?"218px":"auto",display:this._functionList._cv.items.length>0?"block":"none",top:"",left:""}),this._functionListHost.scrollTop=0,this._functionListHost.offsetHeight+o>r.y+this._root.offsetHeight?o=o-e.clientHeight-this._functionListHost.offsetHeight-5:o+=5,this._functionListHost.offsetWidth+a>r.x+this._root.offsetWidth&&(a=r.x+this._root.offsetWidth-this._functionListHost.offsetWidth),(0,u.setCss)(this._functionListHost,{top:o,left:a})}else this.hideFunctionList()},t.prototype.hideFunctionList=function(){this._functionListHost.style.display="none"},t.prototype.selectPreviousFunction=function(){this._functionList.selectedIndex>0&&this._functionList.selectedIndex--},t.prototype.selectNextFunction=function(){this._functionList.selectedIndex<this._functionList.itemsSource.length&&this._functionList.selectedIndex++},t.prototype.applyFunctionToCell=function(){if(this._functionTarget){var e=this._getCurrentFormulaIndex(this._functionTarget.value);-1===e?e=this._functionTarget.value.indexOf("="):e+=1,this._functionTarget.value=this._functionTarget.value.substring(0,e)+this._functionList.selectedValue+"(","="!==this._functionTarget.value[0]&&(this._functionTarget.value="="+this._functionTarget.value),this._functionTarget.focus(),this.hideFunctionList()}},t.prototype.save=function(e,n){var i=this._saveToWorkbook(n);return e&&i.save(e),i},t.prototype.saveAsync=function(e,n,i,r){var o=this._saveToWorkbook(r);return o.saveAsync(e,n,i),o},t.prototype.saveToWorkbookOM=function(e){return this._saveToWorkbook(e)._serialize()},t.prototype.load=function(e){var n=this;if(e instanceof Blob)mc(e,function(r){e=null;var o=new hn;o.load(r),r=null,n._loadFromWorkbook(o),o=null});else if(e instanceof hn)this._loadFromWorkbook(e),e=null;else{if(!(e instanceof ArrayBuffer||(0,u.isString)(e)))throw"Invalid workbook.";var i=new hn;i.load(e),e=null,this._loadFromWorkbook(i),i=null}},t.prototype.loadAsync=function(e,n,i){var r=this;if(e instanceof Blob)mc(e,function(a){e=null;var d=new hn;d.loadAsync(a,function(){r._loadFromWorkbook(d),n&&n(d),a=null,d=null},i)});else if(e instanceof hn)this._loadFromWorkbook(e),n&&n(e),e=null;else{if(!(e instanceof ArrayBuffer||(0,u.isString)(e)))throw"Invalid workbook.";var o=new hn;o.loadAsync(e,function(){e=null,r._loadFromWorkbook(o),n&&n(o),o=null},i)}},t.prototype.loadFromWorkbookOM=function(e){var n;e instanceof hn?n=e:(n=new hn)._deserialize(e),this._loadFromWorkbook(n)},t.prototype.undo=function(){var e=this;setTimeout(function(){e._undoStack.undo()},100)},t.prototype.redo=function(){var e=this;setTimeout(function(){e._undoStack.redo()},100)},t.prototype.select=function(e,n){var i,r,o;if(void 0===n&&(n=!0),(0,u.isNumber)(e)&&(0,u.isNumber)(n)?(e=new W(e,n),this._lastSelMovePos=e,n=!0):this._lastSelMovePos=null,e.rowSpan!==this.rows.length&&e.columnSpan!==this.columns.length)for(r=e.topRow;r<=e.bottomRow;r++)for(o=e.leftCol;o<=e.rightCol;o++)(i=this.getMergedRange(this.cells,r,o))&&!e.equals(i)&&(e.row<=e.row2?(e.row=Math.min(e.topRow,i.topRow),e.row2=Math.max(e.bottomRow,i.bottomRow)):(e.row=Math.max(e.bottomRow,i.bottomRow),e.row2=Math.min(e.topRow,i.topRow)),e.col<=e.col2?(e.col=Math.min(e.leftCol,i.leftCol),e.col2=Math.max(e.rightCol,i.rightCol)):(e.col=Math.max(e.rightCol,i.rightCol),e.col2=Math.min(e.leftCol,i.leftCol)));return this._isPasting&&this.collectionView&&(this.collectionView._pendingRefresh=!1),!this._enableMulSel&&this.selectedSheet&&this.selectedSheet.selectionRanges.clear(),s.prototype.select.call(this,e,n)},t.prototype.addCustomFunction=function(e,n,i,r,o){(0,u._deprecated)("addCustomFunction","addFunction"),this._calcEngine.addCustomFunction(e,n,r,o),this._addCustomFunctionDescription(e,i)},t.prototype.addFunction=function(e,n,i,r,o){this._calcEngine.addFunction(e,n,r,o),this._addCustomFunctionDescription(e,i)},t.prototype.dispose=function(){var e=window.navigator.userAgent;if(this._needCopyToSheet=!1,this.removeEventListener(document.body,"mousemove",this._mouseMoveHdl),this.removeEventListener(document.body,"keydown",this._keydownHdl),this.removeEventListener(document.body,"click",this._clickHdl),(e.match(/iPad/i)||e.match(/iPhone/i))&&(this.removeEventListener(document.body,"touchstart",this._touchStartHdl),this.removeEventListener(document.body,"touchend",this._touchEndHdl)),this._filter&&this._filter.filterApplied.removeAllHandlers(),this.hideFunctionList(),!this.itemsSource){var n=this._selHdl.selection;n.row=n.row2=-1}s.prototype.dispose.call(this)},t.prototype.getClipString=function(e){var n,i,r,o,a,d,p="",v=!0;if(!this.selectedSheet)return s.prototype.getClipString.call(this,e);if(this._isCutting=!1,!e)if(this.selectedSheet.selectionRanges.length>1){if(this._isMultipleRowsSelected()){for(p="",(n=this._selections()).sort(this._sortByRow),r=0;r<n.length;r++)p&&(p+="\n"),p+=this.getClipString(n[r]);return p}if(this._isMultipleColumnsSelected()){for(p="",(n=this._selections()).sort(this._sortByColumn),i=(o=n[0]).topRow,v=!0;i<=o.bottomRow;i++)for(v||(p+="\n"),v=!1,r=0,ae=!0;r<n.length;r++)ae||(p+="\t"),ae=!1,p+=this.getClipString(new W(i,(a=n[r]).col,i,a.col2));return p}(0,u.assert)(!1,"Copy or Cut operation cannot be used on multiple selections.")}else{var M=this.selectionMode;if(M!=Et.ListBox)for(var T=this.rows,k=0;k<T.length;k++)if(T[k].isSelected){M=Et.ListBox;break}switch(e=this.selection,M){case Et.Row:case Et.RowRange:e.col=0,e.col2=this.columns.length-1;break;case Et.ListBox:e.col=0,e.col2=this.columns.length-1;for(var L=0;L<this.rows.length;L++)this.rows[L].isSelected&&this.rows[L].isVisible&&(e.row=e.row2=L,p&&(p+="\n"),p+=this.getClipString(e));return p}}if(!(e=(0,u.asType)(e,W)).isValid)return"";var Y=e.topRow;for(v=!0;Y<=e.bottomRow;Y++)if(this.rows[Y].isVisible){v||(p+="\n"),v=!1;for(var ce=e.leftCol,ae=!0;ce<=e.rightCol;ce++)this.columns[ce].isVisible&&(ae||(p+="\t"),ae=!1,(d=(d=this.getCellValue(Y,ce,!0).toString()).replace(/\t/g," ")).indexOf("\n")>-1&&(d='"'+d.replace(/"/g,'""')+'"'),p+=d)}return p},t.prototype.setClipString=function(e,n){var i=null==n,r=!1;if(this.selectedSheet){n=n?(0,u.asType)(n,W):this.selection;var o=e=(0,u.asString)(e).replace(/\r\n/g,"\n").replace(/\r/g,"\n"),a=this._edtHdl._parseClipString((0,u.asString)(e));i&&!n.isSingleCell&&a.length&&this._edtHdl._expandClipRows(a,n);var d=this._containsMultiLineText(a);if(this._copiedRanges&&0!==this._copiedRanges.length&&(o.trim()===this._getRangeString(this._copiedRanges,this._copiedSheet).trim()||this._containsRandFormula(this._copiedRanges,this._copiedSheet))&&!this._cutValue||d){if(this._copiedRanges){var p=this._getRangeString(this._copiedRanges,this._copiedSheet,!1)+"\r\n";p=(0,u.asString)(p).replace(/\r\n/g,"\n").replace(/\r/g,"\n"),a=this._edtHdl._parseClipString((0,u.asString)(p)),i&&!n.isSingleCell&&a.length&&this._edtHdl._expandClipRows(a,n)}var v=n.topRow+a.length-1;v>=this.rows.length&&(v=this.rows.length-1);var M=n.leftCol;if(a.length)for(var T=M,k=0;T<this.columns.length&&k<a[0].length;T++)this.columns[T].visible&&k++,M=T;var L=new W(n.topRow,n.leftCol,v,M);if(this.onPasting(new me(this.cells,L,e))){this.beginUpdate();var Y=a.length>1,ce=this.editableCollectionView;if(ce&&Y&&ce.beginUpdate(),d||!this._copiedRanges||this._copiedRanges.length>1||0===this._copiedRanges.length)for(var ae=0,Ee=(jn=this._copiedRanges&&this._copiedRanges.length>1?this._copiedRanges[0]:new W).topRow,Me=(T=0,n.topRow);T<a.length&&Me<this.rows.length;T++,Me++)if((_n=this.rows[Me]).isVisible){if(!_n.isReadOnly){var ze=a[T],st=jn.leftCol,xt=_n.dataItem;if(_n instanceof Ge){Y&&(_n.dataItem=ce.addNew());var yt=this.newRowAtTop?Y?0:T:Me,St=new me(this.cells,new W(yt,-1));if(!this.onRowEditStarting(St)){Me--,Y&&ce.cancelNew();continue}this.onRowEditStarted(St)}for(var Dt=0,Nt=n.leftCol;Dt<ze.length&&Nt<this.columns.length;Dt++,Nt++)if(this.columns[Nt].isVisible){if(!this.columns[Nt].isReadOnly){var en=ze[Dt];if(!this.columns[Nt].isReadOnly&&!_n.isReadOnly){var Rt=en.length;Rt>1&&'"'==en[0]&&'"'==en[Rt-1]&&en.indexOf("\n")>-1&&(en=en.substr(1,Rt-2)),r=this._postSetClipStringProcess(xt,en,Me,Nt,ae,Ee,st,ce)||r,L.row2=Math.max(L.row2,Me+ae),L.col2=Math.max(L.col2,Nt)}st>=0&&st++}}else Dt--;Ee>=0&&Ee++,Y&&_n instanceof Ge&&(_n.dataItem=null,Me--,ae++,St=new me(this.cells,new W(this.newRowAtTop?0:Me,-1)),this.onRowEditEnding(St),this.onRowEditEnded(St),ce.commitNew())}}else T--;else if(this._copiedRanges&&1===this._copiedRanges.length){var Kt=this.selectedSheet===this._copiedSheet?this:this._copiedSheet.grid,Vt=(ae=0,0),jn=this.selectionMode===Et.ListBox?this._getSelectionForListBoxMode(Kt):this._copiedRanges[0];for(T=0,Me=n.topRow;T<a.length&&Me<this.rows.length;T++,Me++){var _n,Wn=0;if((_n=this.rows[Me]).isVisible){if(!_n.isReadOnly){for(;Kt.rows[jn.topRow+Vt]&&!Kt.rows[jn.topRow+Vt].isVisible;)Vt++;if(Vt>=jn.rowSpan&&(Vt%=jn.rowSpan),!Kt.rows[jn.topRow+Vt])break;var wn=Me-jn.topRow-Vt;if(ze=a[T],xt=_n.dataItem,_n instanceof Ge){if(Y&&(_n.dataItem=ce.addNew()),St=new me(this.cells,new W(yt=this.newRowAtTop?Y?0:T:Me,-1)),!this.onRowEditStarting(St)){Me--,Y&&ce.cancelNew();continue}this.onRowEditStarted(St)}for(Dt=0,Nt=n.leftCol;Dt<ze.length&&Nt<this.columns.length;Dt++,Nt++)if(this.columns[Nt]&&this.columns[Nt].isVisible){if(!this.columns[Nt].isReadOnly){if(Wn>=jn.columnSpan&&(Wn%=jn.columnSpan),!Kt.columns[jn.leftCol+Wn])break;var oi=Nt-jn.leftCol-Wn;if(!this.columns[Nt].isReadOnly&&!_n.isReadOnly){en=ze[Dt];var di=this._getCellStyle(jn.topRow+Vt,jn.leftCol+Wn,this._copiedSheet);if(Fo(en)&&(0!==wn||0!==oi))try{var ui=this._calcEngine.parse(en),Rn=new W(jn.topRow+Vt,jn.leftCol+Wn),gi=new W(jn.topRow+Vt+wn,jn.leftCol+Wn+oi),Mi=!(this._isCutting&&!ui._refersTo(jn));ui._moveCellRangeExp(this.selectedSheetIndex,Rn,gi,!1,Mi)&&(en="="+ui._getStringExpression())}catch{}Kt.columns[jn.leftCol+Wn].format&&!this.columns[Nt].format&&(di?di.format||(di.format=Kt.columns[jn.leftCol+Wn].format):di={format:Kt.columns[jn.leftCol+Wn].format}),r=this._postSetClipStringProcess(xt,en,Me,Nt,ae,jn.topRow+Vt,jn.leftCol+Wn,ce,di)||r,L.row2=Math.max(L.row2,Me+ae),L.col2=Math.max(L.col2,Nt)}Wn++}}else Dt--;Vt++,Y&&_n instanceof Ge&&(_n.dataItem=null,Me--,ae++,St=new me(this.cells,new W(this.newRowAtTop?0:Me,-1)),this.onRowEditEnding(St),this.onRowEditEnded(St),ce.commitNew())}}else T--}}if(this._isCutting&&(this._delCutData(a.length,a[0].length),this._isCutting=!1,this._cutValue=o,this._copiedRanges=null,this._copiedSheet=null),ce&&Y)ce.currentEditItem&&ce.commitEdit(),ce.endUpdate(!0);else if(ce&&r){var li=ce.currentAddItem;!li&&0===n.row&&this.newRowAtTop&&this.rows[0]instanceof Ge&&(li=this.rows[0].dataItem),li&&(ce.editItem(li),this._edtHdl._edItem=li),ce.refresh()}this.endUpdate(),this.select(L),this.onPasted(new me(this.cells,L))}else this._cutValue=null,this._copiedRanges=null,this._copiedSheet=null}else o!==this._cutValue&&(this._cutValue=null,s.prototype.setClipString.call(this,e)),this._copiedRanges=null,this._copiedSheet=null}else s.prototype.setClipString.call(this,e,n)},t.prototype.getBuiltInTableStyle=function(e){var n;return null==this._builtInTableStylesCache&&(this._builtInTableStylesCache={}),null==(n=this._builtInTableStylesCache[e.toLowerCase()])&&(n=this._createBuiltInTableStyle(e),Object.freeze(n),this._builtInTableStylesCache[e.toLowerCase()]=n),n},t.prototype.onSortingColumn=function(e){return!1},t.prototype._getCvIndex=function(e){return e>-1&&this.collectionView?this.rows[e]instanceof as?e:s.prototype._getCvIndex.call(this,e):-1},t.prototype._headerRowAtTop=function(){var e=this._getDataRowsOffset();return e>0&&this.rows[e-1]instanceof as},t.prototype._getDataRowsOffset=function(){var e=0;return this.allowAddNew&&this.newRowAtTop&&e++,this.rows[e]instanceof as&&e++,e},t.prototype._bindGrid=function(e){if(!this._ignoreBindGrid)if(this.itemsSource)s.prototype._bindGrid.call(this,e);else if(!this.rows.length){var n=this._selHdl.selection;n.row=n.row2=-1}},t.prototype._init=function(){var e=this,n=window.navigator.userAgent,i=function(r){document.removeEventListener("mouseup",i),e._mouseUp(r)};this.hostElement.setAttribute("tabindex","-1"),this._divContainer=this.hostElement.querySelector('[wj-part="container"]'),this._tabHolder=new Up(this.hostElement.querySelector('[wj-part="tab-holder"]'),this),this._sheets.selectedSheetChanged.addHandler(this._selectedSheetChange,this),this._sheets.collectionChanged.addHandler(this._sourceChange,this),this._sheets.sheetVisibleChanged.addHandler(this._sheetVisibleChange,this),this._sheets.sheetCleared.addHandler(this.onSheetCleared,this),this._contextMenu=new rf(this.hostElement.querySelector('[wj-part="context-menu"]'),this),this._tabHolder.addEventListener(this._tabHolder.hostElement,"mousedown",function(){n.match(/iPad/i)||n.match(/iPhone/i)||e._hideContextMenu()}),this._gpCells=new ra(this,X.Cell,this.rows,this.columns,this._eCt),this._gpCHdr=new ra(this,X.ColumnHeader,this._hdrRows,this.columns,this._eCHdrCt),this._gpRHdr=new ra(this,X.RowHeader,this.rows,this._hdrCols,this._eRHdrCt),this._gpTL=new ra(this,X.TopLeft,this._hdrRows,this._hdrCols,this._eTLCt),this._syncSelection=this._flexSheetSyncSelection.bind(this),this._sortManager=new Jc(this),this._filter=new tf(this),this._filter.filterApplied.addHandler(function(){e.selectedSheet&&(e.selectedSheet._filterDefinition=e._filter.filterDefinition,e.selectedSheet.itemsSource&&(e.selectedSheet._storeRowSettings(),e.selectedSheet._setRowSettings()))}),this._calcEngine=new Eu(this),this._calcEngine.unknownFunction.addHandler(function(r,o){e.onUnknownFunction(o)},this),this._initFuncsList(),this._undoStack=new Ga(this),this.loadedRows.addHandler(function(){if(e.collectionView&&!(e.rows[0]instanceof as)&&!e._headerRowRemoved){var r=new as;r.isReadOnly=!0;for(var o=0;o<e.columns.length;o++){var a=e.columns[o];r._ubv||(r._ubv={}),r._ubv[a._hash]=t._getHeaderRowText(a)}e.rows.insert(e.rows[0]instanceof Ge&&e.newRowAtTop?1:0,r)}e._filter&&e._filter.apply()}),this.itemsSourceChanged.addHandler(function(){var r;for(r=0;r<e.columns.length;r++)e.columns[r].isRequired=!1;e.collectionView&&e.collectionView.currentChanged.removeHandler(null,e)}),this.copied.addHandler(function(r,o){var a;e.selectedSheet&&(e._copiedSheet=e.selectedSheet,e._needCopyToSheet=!0,e.selectedSheet.selectionRanges.length>1?e._isMultipleRowsSelected()?((a=e.selectedSheet.selectionRanges.slice(0)).sort(e._sortByRow),e._copiedRanges=a):e._isMultipleColumnsSelected()?((a=e.selectedSheet.selectionRanges.slice(0)).sort(e._sortByColumn),e._copiedRanges=a):(0,u.assert)(!1,"Copy operation cannot be used on multiple selections."):e._copiedRanges=[o.range])}),this.rows.collectionChanged.addHandler(function(r,o){e._clearForEmptySheet("rows"),e.itemsSource||!e.selectedSheet||!e._needCopyToSheet||e._isCopying||e._isUndoing||o.item instanceof Ge||e._copyRowsToSelectedSheet(),e.itemsSource&&e.selectedSheet&&o.action===u.NotifyCollectionChangedAction.Remove&&o.item instanceof as&&!e._draggingSingleRow&&(e._headerRowRemoved=!0)},this),this.columns.collectionChanged.addHandler(function(r,o){e._clearForEmptySheet("columns"),e.selectedSheet&&e._needCopyToSheet&&!e._isCopying&&!e._isUndoing&&e._copyColumnsToSelectedSheet()},this),this.addEventListener(this.hostElement,"mousedown",function(r){document.addEventListener("mouseup",i),e._isDescendant(e._divContainer,r.target)&&e._mouseDown(r)},!0),this.addEventListener(this.hostElement,"dragend",function(){e._columnHeaderClicked=!1,e._htDown=null,e._enableMulSel=!1,e.selectedSheet._addSelection(e.selection)}),this.addEventListener(this.hostElement,"contextmenu",function(r){if(!r.defaultPrevented&&e.selectedSheet){if(!e.activeEditor){var o=void 0,a=void 0,d=e.selection;if(e._isContextMenuKeyDown&&d.row>-1&&d.col>-1&&e.rows.length>0&&e.columns.length>0){var p=e.columns[d.col],v=e.rows[d.row],M=e._cumulativeOffset(e.hostElement),T=e._cumulativeScrollOffset(e.hostElement),k=p.pos+e._eCt.offsetLeft+M.x+p.renderSize/2+e._ptScrl.x,L=v.pos+e._eCt.offsetTop+M.y+v.renderSize/2+e._ptScrl.y;a=new u.Point(k-T.x,L-T.y),o=e.hitTest(k,L)}else o=e.hitTest(r);if(r.preventDefault(),o&&o.cellType!==X.None){var Y=e.columns.length-1,ce=e.rows.length-1,ae=void 0;switch(o.cellType){case X.TopLeft:ae=new W(Math.min(0,ce),Math.min(0,Y),ce,Y);break;case X.RowHeader:ae=new W(o.row,Math.min(0,Y),o.row,Y);break;case X.ColumnHeader:ae=new W(e.itemsSource&&e.rows[0]&&!e.rows[0].isVisible?1:Math.min(0,ce),o.col,ce,o.col);break;case X.Cell:ae=new W(o.row,o.col)}(ae&&e.selection.contains(ae)||o.cellType===X.RowHeader&&e._isRowSelected(o.row)||o.cellType===X.ColumnHeader&&e._isColumnSelected(o.col)||o.cellType===X.Cell&&e._isCellSelected(o.row,o.col))&&(ae=null),ae&&(e.selectedSheet&&(e.selectedSheet.selectionRanges.clear(),e.selectedSheet.selectionRanges.push(ae)),e.selection=ae),e._contextMenu.show(r,a)}}e._isContextMenuKeyDown=!1}}),this.prepareCellForEdit.addHandler(this._prepareCellForEditHandler,this),this.cellEditEnded.addHandler(function(r,o){(!o.data||46!==o.data.keyCode&&8!==o.data.keyCode)&&setTimeout(function(){e.hideFunctionList()},200)}),this.cellEditEnding.addHandler(function(r,o){if(!o.cancel&&(!o.data||46!==o.data.keyCode&&8!==o.data.keyCode)){var a=e.getCellData(o.row,o.col,!1),d=e.cellFactory.getEditorValue(e);if((null==a||""===a)&&null!=d&&""!==d&&!isNaN(+d)){var p=e._updateFormulaBoundaryForEditingCell(o.row,o.col);e._undoStack._pendingAction&&e._undoStack._pendingAction instanceof se&&(e._undoStack._pendingAction._affectedFormulas=p)}e._clearCalcEngine(),e._clearCalcCacheOnRefresh=!1}}),this.rowEditEnding.addHandler(function(r,o){var a=e.collectionView;if(a&&e.selectedSheet){var d=a.sortDescriptions.length>0,p=e._filter&&e._filter._isActive();(d||e.selectedSheet._dataView||p)&&(e.selectedSheet._dataView=a._view.slice()),d&&(e.selectedSheet._scrollPosition=e.scrollPosition)}}),this.rowEditEnded.addHandler(function(r,o){var a=e.collectionView;if(a&&e.selectedSheet){e.selectedSheet._dataView&&(e.selectedSheet._dataView=a._view.slice());var d=a.sortDescriptions.length>0,p=e._filter&&e._filter._isActive();(d||p)&&(a._view=e.selectedSheet._dataView,a._pgView=a._getPageView(),e.itemsSource instanceof u.CollectionView||(e.selectedSheet.grid.collectionView._view=e.selectedSheet._dataView,e.selectedSheet.grid.collectionView._pgView=e.selectedSheet.grid.collectionView._getPageView()),e.refreshOnEdit&&(e._isPasting||e._bindGrid(!1),e.selectedSheet.grid._bindGrid(!1))),d&&(e.scrollPosition=e.selectedSheet._scrollPosition)}}),this.pasting.addHandler(function(){e._needCopyToSheet=!1,e._isPasting=!0}),this.pasted.addHandler(function(){var r=e.collectionView,o=e.selectedSheet;r&&o&&o._dataView&&o._dataView.length!==r._view.length&&(o._dataView=r._view.slice()),e._needCopyToSheet=!0,e._isPasting=!1,e._clearCalcEngine()}),this.resizingColumn.addHandler(function(){e._resizing=!0}),this.resizingRow.addHandler(function(){e._resizing=!0}),this.resizedColumn.addHandler(function(){e._resizing=!1}),this.resizedRow.addHandler(function(){e._resizing=!1}),this.selectionChanged.addHandler(function(){var r=e.selection;r.rightCol>=e.columns.length&&(e.selection=new W(r.row,Math.min(r.col,e.columns.length-1),r.row2,Math.min(e.selection.col2,e.columns.length-1))),e._enableMulSel||e._isCopying||!e.selectedSheet||e.selectedSheet.selectionRanges.clear()}),this.draggingRow.addHandler(function(){return e._draggingSingleRow=!0}),this.draggedRow.addHandler(function(){return e._draggingSingleRow=!1}),this.addEventListener(this.hostElement,"keydown",function(r){var o,a,d=!1,p=!1;if(r.ctrlKey){if(89===r.keyCode&&(e.finishEditing(),e.redo(),r.preventDefault()),90===r.keyCode&&(e.finishEditing(),e.undo(),r.preventDefault()),e.selectedSheet&&65===r.keyCode&&(e._isClicking=!0,e.selectedSheet.selectionRanges.clear(),e.selectedSheet.selectionRanges.push(e.selection),e._isClicking=!1),(67===r.keyCode||45==r.keyCode)&&(e.activeEditor&&(e._copiedRanges=null,e._copiedSheet=null),e._cutValue=null),88===r.keyCode&&!e.activeEditor){if(r.stopPropagation(),e.selectionMode===Et.ListBox)for(var v=0;v<e.rows.length;v++)if(e.rows[v].isSelected)if(d){if(p)continue;(0,u.assert)(!1,"Cut operation cannot be used on multiple selections.")}else d=!0,p=!0;else p&&(p=!1);e.selectedSheet.selectionRanges.length>1?(0,u.assert)(!1,"Cut operation cannot be used on multiple selections."):(e.finishEditing(),o=new me(e.cells,e.selection),e.onCopying(o)&&(e._cutValue=null,a=e.getClipString(),e._isCutting=!0,u.Clipboard.copy(a),e.onCopied(o)))}r.keyCode!==u.Key.Space||!e.selection.isValid||e.selectionMode!==Et.CellRange&&e.selectionMode!==Et.MultiRange||e.select(new W(0,e.selection.col,e.rows.length-1,e.selection.col))}r.keyCode===u.Key.Escape&&e._hideContextMenu(),(93===r.keyCode||r.shiftKey&&121===r.keyCode)&&(e._isContextMenuKeyDown=!(e._contextMenu.visible&&!(0,u.isFirefox)()))}),this.addEventListener(document.body,"keydown",this._keydownHdl,!0),this.addEventListener(document.body,"click",this._clickHdl),this.addEventListener(document.body,"mousemove",this._mouseMoveHdl),this.draggedColumn.addHandler(function(r,o){e.sortManager._handleColumnMoving(o.data.col,o.col)}),(n.match(/iPad/i)||n.match(/iPhone/i))&&(this.addEventListener(document.body,"touchstart",this._touchStartHdl),this.addEventListener(document.body,"touchend",this._touchEndHdl))},t.prototype._flexSheetSyncSelection=function(e){if(this.collectionView&&this.selectionMode!=Et.None){var n=this.selection,i=n.row>-1&&n.row<this.rows.length?this.rows[n.row]:null,r=i?i.dataItem:null;if(this.collectionView instanceof u.CollectionView&&this.collectionView.isUpdating)return;if((i instanceof as||this.newRowAtTop&&i instanceof Ge||r instanceof u.CollectionViewGroup)&&(r=null),(r!=this.collectionView.currentItem||e)&&(!this.editableCollectionView||!this.editableCollectionView.currentAddItem)){var o=this._getRowIndex(this.collectionView.currentPosition);o!=n.row&&(n.row=n.row2=o,this.select(n,!1),this.selectionMode&&!this._copyingTo&&this.scrollIntoView(n.row,-1))}}},t.prototype._initFuncsList=function(){var e=this;this._functionListHost=document.createElement("div"),(0,u.addClass)(this._functionListHost,"wj-flexsheet-formula-list"),document.querySelector("body").appendChild(this._functionListHost),this._functionListHost.style.display="none",this._functionListHost.style.position="absolute",this._functionList=new dt.ListBox(this._functionListHost),this._functionList.isContentHtml=!0,this._functionList.itemsSource=this._getFunctions(),this._functionList.displayMemberPath="displayValue",this._functionList.selectedValuePath="actualvalue",this.addEventListener(this._functionListHost,"click",this.applyFunctionToCell.bind(this)),this.addEventListener(this._functionListHost,"keydown",function(n){n.keyCode===u.Key.Escape&&(e.hideFunctionList(),e.hostElement.focus(),n.preventDefault()),n.keyCode===u.Key.Enter&&(e.applyFunctionToCell(),e.hostElement.focus(),n.preventDefault(),n.stopPropagation())})},t.prototype._getFunctions=function(){for(var e,n=[],i=0;i<oc.length;i++)n.push({displayValue:'<div class="wj-flexsheet-formula-name">'+(e=oc[i]).name+'</div><div class="wj-flexsheet-formula-description">'+e.description+"</div>",actualvalue:e.name});return n},t.prototype._addCustomFunctionDescription=function(e,n){for(var i={displayValue:'<div class="wj-flexsheet-formula-name">'+e+"</div>"+(n?'<div class="wj-flexsheet-formula-description">'+n+"</div>":""),actualvalue:e},r=this._functionList.itemsSource,o=-1,a=0;a<r.length;a++)if(r[a].actualvalue===e){o=a;break}o>-1?r.splice(o,1,i):r.push(i)},t.prototype._getCurrentFormulaIndex=function(e){var n=-1;return["+","-","*","/","^","(","&"].forEach(function(i){var r=e.lastIndexOf(i);"/"===i&&(r>=2&&"#N"===e.substr(r-2,2)||r>=4&&"#DIV"===e.substr(r-4,4))||r>n&&(n=r)}),n},t.prototype._prepareCellForEditHandler=function(){var e=this,n=this._edtHdl._edt;n&&(this.addEventListener(n,"keydown",function(i){if(e.isFunctionListOpen)switch(i.keyCode){case u.Key.Up:e.selectPreviousFunction(),i.preventDefault(),i.stopPropagation();break;case u.Key.Down:e.selectNextFunction(),i.preventDefault(),i.stopPropagation();break;case u.Key.Tab:case u.Key.Enter:e.applyFunctionToCell(),i.preventDefault(),i.stopPropagation();break;case u.Key.Escape:e.hideFunctionList(),i.preventDefault(),i.stopPropagation()}}),this.addEventListener(n,"keyup",function(i){(i.keyCode>40||i.keyCode<32)&&i.keyCode!==u.Key.Tab&&i.keyCode!==u.Key.Escape&&setTimeout(function(){e.showFunctionList(n)},0)}))},t.prototype._addSheet=function(e,n,i,r,o){var a=new cd(this,o,e,n,i);return this.sheets.isValidSheetName(a)||a._setValidName(this.sheets.getValidSheetName(a)),"number"==typeof r?(r<0&&(r=0),r>=this.sheets.length&&(r=this.sheets.length)):r=this.sheets.length,this.sheets.insert(r,a),a},t.prototype._showSheet=function(e){if(!(!this.sheets||!this.sheets.length||e>=this.sheets.length||e<0||e===this.selectedSheetIndex||this.sheets[e]&&!this.sheets[e].visible)){if(this.beginUpdate(),this.finishEditing(),this._clearCalcEngine(),this._isCopying=!0,this.selectedSheetIndex>-1&&this.selectedSheetIndex<this.sheets.length&&!this._sheets._exchangingPosition){this._copyingTo=!0;try{this._copyTo(this.sheets[this.selectedSheetIndex])}finally{this._copyingTo=!1}}this.sheets[e]&&(this._selectedSheetIndex=e,this._copyFrom(this.sheets[e])),this._isCopying=!1,this.endUpdate(),this._filter.closeEditor()}},t.prototype._selectedSheetChange=function(e,n){this.beginUpdate(),this._showSheet(n.newValue),this._clearCalcCacheOnRefresh=!1,this.endUpdate(),this.onSelectedSheetChanged(n)},t.prototype._sourceChange=function(e,n){if(!this.sheets._exchangingPosition){if(this.beginUpdate(),n.action===u.NotifyCollectionChangedAction.Add||n.action===u.NotifyCollectionChangedAction.Change)n.item._attachOwner(this),n.action===u.NotifyCollectionChangedAction.Add?(this._addingSheet=!0,n.index<=this.selectedSheetIndex&&(this._selectedSheetIndex+=1)):n.index===this.selectedSheetIndex&&this._copyFrom(n.item),this.selectedSheetIndex=n.index;else if(n.action===u.NotifyCollectionChangedAction.Reset){for(var i=0;i<this.sheets.length;i++)this.sheets[i]._attachOwner(this);this.sheets.length>0?(0===this.selectedSheetIndex&&this._copyFrom(this.selectedSheet),this.selectedSheetIndex=0):(this.rows.clear(),this.columns.clear(),this._selectedSheetIndex=-1)}else this.sheets.length>0?this.selectedSheetIndex===n.index?(this._selectedSheetIndex=-1,this.sheets._setCurrentIdx(-1),this.selectedSheetIndex=n.index>this.sheets.length-1?this.sheets.length-1:n.index):this.selectedSheetIndex>n.index&&(this._selectedSheetIndex--,this.sheets._setCurrentIdx(this._selectedSheetIndex)):(this.rows.clear(),this.columns.clear(),this._selectedSheetIndex=-1);this._updateDivContainerHeight(this.isTabHolderVisible),this.endUpdate()}},t.prototype._sheetVisibleChange=function(e,n){n.item.visible||this._loadingFromWorkbook||n.index===this.selectedSheetIndex&&(this.selectedSheetIndex=this.selectedSheetIndex===this.sheets.length-1?n.index-1:n.index+1)},t.prototype._applyStyleForCell=function(e,n,i,r){void 0===r&&(r=!1);var o=this.rows[e];if(!(null==o||o instanceof as||!o.isVisible&&!r)){var a=e*this.columns.length+n,d=this.selectedSheet._getMergedRange(e,n);d&&(a=d.topRow*this.columns.length+d.leftCol);var p=this.selectedSheet._styledCells[a];p||(p=this.selectedSheet._styledCells[a]={}),Object.keys(i).forEach(function(v){var M=i[v];("className"===v&&"normal"===M||("fontStyle"===v||"fontWeight"===v||"textDecoration"===v)&&"none"===M)&&(M=""),p[v]=null===M||""===M?void 0:M||p[v]})}},t.prototype._checkCellFormat=function(e,n,i){var r,o,a=e*this.columns.length+n;this.selectedSheet&&((r=this.selectedSheet._getMergedRange(e,n))&&(i.isMergedCell=!0,a=r.topRow*this.columns.length+r.leftCol),(o=this.selectedSheet._styledCells[a])&&(i.isBold=i.isBold||"bold"===o.fontWeight,i.isItalic=i.isItalic||"italic"===o.fontStyle,i.isUnderline=i.isUnderline||"underline"===o.textDecoration),e===this.selection.row&&n===this.selection.col&&(o&&o.textAlign?i.textAlign=o.textAlign:n>-1&&(i.textAlign=this.columns[n].getAlignment()||i.textAlign)))},t.prototype._resetMergedRange=function(e){var n,i,r,o,a=!1;for(n=e.topRow;n<=e.bottomRow;n++)for(i=e.leftCol;i<=e.rightCol;i++)(o=this.selectedSheet._getMergedRange(n,i))&&(a=!0,r=this.selectedSheet._mergedRanges.indexOf(o),this.selectedSheet._mergedRanges.splice(r,1));return a},t.prototype._updateCellsForUpdatingRow=function(e,n,i,r){var o,a,d,p,v,M,T,k=e*this.columns.length;if(r)for(a=o=n*this.columns.length;a<k;a++)d=a-i*this.columns.length,(p=this.selectedSheet._styledCells[a])&&(a>=(n+i)*this.columns.length&&(this.selectedSheet._styledCells[d]=p),delete this.selectedSheet._styledCells[a]);else for(o=n*this.columns.length-1,a=k-1;a>o;a--)d=a+this.columns.length*i,(p=this.selectedSheet._styledCells[a])&&(this.selectedSheet._styledCells[d]=p,delete this.selectedSheet._styledCells[a]);if(this.selectedSheet._mergedRanges.length>0)for(M=this.selectedSheet._mergedRanges.length-1;M>=0;M--)v=this.selectedSheet._mergedRanges[M],r?(T=n+i-1)<v.topRow?(v.row-=i,v.row2-=i):T>=v.topRow&&T<=v.bottomRow?n<=v.topRow&&T>=v.bottomRow?this.selectedSheet._mergedRanges.splice(M,1):n<v.topRow?v.row<=v.row2?(v.row+=n-v.topRow,v.row2-=i):(v.row2+=n-v.topRow,v.row-=i):n===v.topRow&&i===v.rowSpan?this.selectedSheet._mergedRanges.splice(M,1):v.row<=v.row2?v.row2-=i:v.row-=i:n<=v.topRow?this.selectedSheet._mergedRanges.splice(M,1):n<=v.bottomRow&&(v.row<=v.row2?v.row2+=n-v.bottomRow-1:v.row+=n-v.bottomRow-1):n<=v.topRow?(v.row+=i,v.row2+=i):n>v.topRow&&n<=v.bottomRow&&(v.row<=v.row2?v.row2+=i:v.row+=i)},t.prototype._updateCellsForUpdatingColumn=function(e,n,i,r){var o,a,d,p,v,M,T,k=this.rows.length*e;if(r)for(o=n;o<k;o++)a=o-i*(Math.floor(o/e)+((p=o%e)>=n?1:0)),(d=this.selectedSheet._styledCells[o])&&((p<n||p>=n+i)&&(this.selectedSheet._styledCells[a]=d),delete this.selectedSheet._styledCells[o]);else for(o=k-1;o>=n;o--)a=Math.floor(o/e)*i+o+((p=o%e)>=n?i:0),(d=this.selectedSheet._styledCells[o])&&(this.selectedSheet._styledCells[a]=d,delete this.selectedSheet._styledCells[o]);if(this.selectedSheet._mergedRanges.length>0)for(M=this.selectedSheet._mergedRanges.length-1;M>=0;M--)v=this.selectedSheet._mergedRanges[M],r?(T=n+i-1)<v.leftCol?(v.col-=i,v.col2-=i):T>=v.leftCol&&T<=v.rightCol?n<=v.leftCol&&T>=v.rightCol?this.selectedSheet._mergedRanges.splice(M,1):n<v.leftCol?v.col<=v.col2?(v.col+=n-v.leftCol,v.col2-=i):(v.col2+=n-v.leftCol,v.col-=i):n===v.leftCol&&i===v.columnSpan?this.selectedSheet._mergedRanges.splice(M,1):v.col<=v.col2?v.col2-=i:v.col-=i:n<=v.leftCol?this.selectedSheet._mergedRanges.splice(M,1):n<=v.rightCol&&(v.col<=v.col2?v.col2-=v.rightCol-n+1:v.col-=v.rightCol-n+1):n<=v.leftCol?(v.col+=i,v.col2+=i):n>v.leftCol&&n<=v.rightCol&&(v.col<=v.col2?v.col2+=i:v.col+=i)},t.prototype._cloneObject=function(e){var n;if(null==e||!(0,u.isObject)(e))return e;for(var i in n={},e)e.hasOwnProperty(i)&&null!=e[i]&&(n[i]=e[i].clone?e[i].clone():this._cloneObject(e[i]));return n},t.prototype._evaluate=function(e,n,i,r,o){if(e&&e.length>1&&this._enableFormulas){var a=this._calcEngine.evaluate(e="="===e[0]?e:"="+e,n,i,r,o);return(0,u.isPrimitive)(a)?(0,u.isNumber)(a)&&(a=this._calcEngine.round(a)):a&&(0,u.isNumber)(a.value)&&(a.value=this._calcEngine.round(a.value)),a}return e},t.prototype._clearAndCheckItemsOwner=function(e){if(e&&e.length){var n=e[0]._list;e.clear(),this._checkCollectionOwner(n)}},t.prototype._checkCollectionOwner=function(e,n){if(void 0===n&&(n=!0),e&&e.length&&(!e[0]._list||!n&&e[0]._list!=e))for(var i=0,r=e.length;i<r;i++)e[i]._setList(e)},t.prototype._checkCollectionsOwner=function(){this._checkCollectionOwner(this.columns,!1),this._checkCollectionOwner(this.rows,!1),this._checkCollectionOwner(this.columnFooters.columns,!1),this._checkCollectionOwner(this.columnFooters.rows,!1),this._checkCollectionOwner(this.columnHeaders.columns,!1),this._checkCollectionOwner(this.columnHeaders.rows,!1),this._checkCollectionOwner(this.rowHeaders.columns,!1),this._checkCollectionOwner(this.rowHeaders.rows,!1)},t.prototype._copyTo=function(e){var n,i=e.grid.autoGenerateColumns;if(this.beginUpdate(),e._storeRowSettings(),this._selHdl.extendedSelection.clear(),n=this.selection.clone(),e.grid.select(new W,!1),this._clearAndCheckItemsOwner(e.grid.rows),this._clearAndCheckItemsOwner(e.grid.columns),this._clearAndCheckItemsOwner(e.grid.columnHeaders.columns),this._clearAndCheckItemsOwner(e.grid.rowHeaders.rows),e._ownerHeaderRowRemoved=this._headerRowRemoved,this.itemsSource)e.grid.autoGenerateColumns=!1,e.itemsSource=this.itemsSource,this.collectionView.sortDescriptions.length>0&&(e._dataView=this.collectionView._view.slice()),e.grid.collectionView.beginUpdate();else{e.itemsSource=null;for(var r=0;r<this.rows.length;r++)e.grid.rows.push(this.rows[r])}e._sortList=this.sortManager._committedList.slice(),e._getFilterSetting();for(var o=0;o<this.columns.length;o++)e.grid.columns.push(this.columns[o]);e.grid.collectionView&&(this._resetMappedColumns(e.grid),e.grid.collectionView.endUpdate(!0)),e.grid.autoGenerateColumns=i,e.grid.frozenRows=this.frozenRows,e.grid.frozenColumns=this.frozenColumns,e.grid.allowAddNew=this.allowAddNew,null!=this.newRowAtTop&&(e.grid.newRowAtTop=this.newRowAtTop),e.grid.select(n,!1),e._scrollPosition=this.scrollPosition,this._setFlexSheetToDirty(),this.endUpdate()},t.prototype._copyFrom=function(e,n){var i=this;void 0===n&&(n=!0);var r,o=this.autoGenerateColumns;if(this._isCopying=!0,this._dragable=!1,n&&this.beginUpdate(),this.itemsSource=null,this._clearAndCheckItemsOwner(this.rows),this._clearAndCheckItemsOwner(this.columns),this._clearAndCheckItemsOwner(this.columnHeaders.columns),this._clearAndCheckItemsOwner(this.rowHeaders.rows),r=e.grid.selection.clone(),this._selHdl.select(new W,!1),e.selectionRanges.length>1&&(this.selectionMode===Et.CellRange||this.selectionMode===Et.MultiRange)&&(this._enableMulSel=!0),this._headerRowRemoved=e._ownerHeaderRowRemoved,e.itemsSource)this.autoGenerateColumns=!1,this._ignoreBindGrid=(0,u.isArray)(e.itemsSource)||e.itemsSource instanceof u.CollectionView,this.itemsSource=e.itemsSource,this._ignoreBindGrid=!1,this.collectionView.beginUpdate();else for(var a=0;a<e.grid.rows.length;a++)this.rows.push(e.grid.rows[a]);for(var d=0;d<e.grid.columns.length;d++){var p=e.grid.columns[d];p.isRequired=!1,this.columns.push(p)}if(this.sortManager.sortDescriptions.sourceCollection=e._sortList.slice(),this.sortManager._committedList=e._sortList.slice(),this.collectionView&&(e.grid.collectionView&&(this.collectionView.sortDescriptions.clear(),e.grid.collectionView.sortDescriptions.forEach(function(L){return i.collectionView.sortDescriptions.push(L)})),this.collectionView.moveCurrentToPosition(this._getCvIndex(r.row)),this._resetMappedColumns(this),this.collectionView.endUpdate(!0),e._dataView&&(this.collectionView._view=e._dataView,this.collectionView._pgView=this.collectionView._getPageView(),this.itemsSource instanceof u.CollectionView||(e.grid.collectionView._view=e._dataView,e.grid.collectionView._pgView=e.grid.collectionView._getPageView()),this._bindGrid(!1),e.grid._bindGrid(!1)),this.collectionView.collectionChanged.addHandler(function(L,Y){Y.action===u.NotifyCollectionChangedAction.Reset&&setTimeout(function(){i.invalidate()},10)},this)),this.rows.length&&this.columns.length&&(this._selHdl.select(r,!1),this.selectionMode===Et.MultiRange)){this._selHdl.extendedSelection.beginUpdate();for(var v=0;v<e.selectionRanges.length;v++)this.selection.equals(e.selectionRanges[v])||this._selHdl.extendedSelection.push(e.selectionRanges[v]);this._selHdl.extendedSelection.endUpdate()}for(e._applyFilterSetting(),a=0;a<this.rows.length;a++){var M=e._rowSettings[a];if(M){var T=this.rows[a],k=T instanceof as;T.height=M.height,T.allowMerging=M.allowMerging,T.visible=M.visible,T instanceof rt&&(T.isCollapsed=!!M.isCollapsed),T.isSelected=!!M.isSelected,T.isReadOnly=k||!!M.readOnly}}this.autoGenerateColumns=o,this.frozenRows=e.grid.frozenRows,this.frozenColumns=e.grid.frozenColumns,this._isCopying=!1,n&&(this.cells.hostElement.style.overflow="hidden",this._setFlexSheetToDirty(),this.endUpdate(),this._addingSheet&&(clearTimeout(this._toRefresh),this._toRefresh=setTimeout(function(){i._setFlexSheetToDirty(),i.invalidate()},u.Control._REFRESH_INTERVAL),this._addingSheet=!1)),this._updateScrollPos=!0},t.prototype.onUpdatedLayout=function(e){if(this._updateScrollPos){this.cells.hostElement.style.overflow="",this._updateScrollPos=!1;var n=this.selectedSheet;n&&(this.scrollPosition=n._scrollPosition,this._ptScrl=n._scrollPosition)}s.prototype.onUpdatedLayout.call(this,e)},t.prototype._resetMappedColumns=function(e){var n,i,r=0;if(e._mappedColumns=null,e.collectionView)for(i=e.collectionView.sortDescriptions;r<i.length;r++)(n=e.columns.getColumn(i[r].property))&&n.dataMap&&(e._mappedColumns||(e._mappedColumns={}),e._mappedColumns[n.binding]=n.dataMap)},t.prototype._loadFromWorkbook=function(e){var n=this;if(null!=e.sheets&&0!==e.sheets.length){if(this._loadingFromWorkbook=!0,this.beginUpdate(),this.clear(),this._reservedContent=e.reservedContent,e.colorThemes&&e.colorThemes.length>0)for(var i=0;i<this._colorThemes.length;i++)this._colorThemes[i]=e.colorThemes[i];i=0;for(var r=e.sheets.length;i<r;i++){this.addUnboundSheet("",0,0);var o=this.selectedSheet,a=o.grid,d=a.wj_sheetInfo={};if(la.load(a,e,{sheetIndex:i,includeColumnHeaders:!1}),o.name=d.name,o.visible=d.visible,o._styledCells=d.styledCells,d.mergedRanges){for(var p=0;p<d.mergedRanges.length;p++)o._mergedRanges[p]=d.mergedRanges[p];d.mergedRanges=o._mergedRanges}if(this._copyFrom(o),d.tables&&d.tables.length>0)for(var v=0;v<d.tables.length;v++)this._parseFromWorkbookTable(d.tables[v],o)}this.selectedSheetIndex=null!=e.activeWorksheet&&e.activeWorksheet>-1&&e.activeWorksheet<this.sheets.length?e.activeWorksheet:0,e.definedNames&&e.definedNames.forEach(function(M){n.definedNames.push(new ad(n,M.name,M.value,M.sheetName))}),this.endUpdate(),this._loadingFromWorkbook=!1,this.onLoaded()}},t.prototype._saveToWorkbook=function(e){var n=this;if(0===this.sheets.length)throw"The flexsheet is empty.";for(var i=!(!e||!e.includeFormulaValues),r=e&&e.convertHtmlEntities,o=this._saveSheetToWorkbook(0,i,r),a=1;a<this.sheets.length;a++){var d=this._saveSheetToWorkbook(a,i,r);o._addWorkSheet(d.sheets[0],a)}for(o.sheets.forEach(function(T){return T.rightToLeft=n.rightToLeft}),o.activeWorksheet=this.selectedSheetIndex,o.reservedContent=this._reservedContent,a=0;a<this.definedNames.length;a++){var p=this.definedNames[a],v=new Xa;v.name=p.name,v.value=p.value,v.sheetName=p.sheetName,o.definedNames.push(v)}var M=this._colorThemes;if(M&&M.length>0)for(a=0;a<M.length;a++)o.colorThemes[a]=M[a];return o},t.prototype._saveSheetToWorkbook=function(e,n,i){var r=this,o=this.sheets[e],a=o.grid.wj_sheetInfo;if(n&&(a.evaluateFormula=function(v){return r.evaluate(v,null,o)}),this.selectedSheetIndex===e&&(o._storeRowSettings(),this._copyRowsToSelectedSheet()),o._setRowSettings(),o.tables.length>0){a.tables=[];for(var d=0;d<o.tables.length;d++)a.tables.push(this._parseToWorkbookTable(o.tables[d]))}var p=la.save(o.grid,{sheetName:o.name,sheetVisible:o.visible,includeColumnHeaders:!1,convertHtmlEntities:i});return this._checkTableHeaderRow(o.tables,p),a.evaluateFormula=null,p},t.prototype._mouseDown=function(e){var n,i,r=window.navigator.userAgent,o=this.hitTest(e);if(this.selectedSheet&&(this.selectedSheet._scrollPosition=this.scrollPosition),o.cellType!==X.None&&(this._isClicking=!0),this._dragable)this._isDragging=!0,this._draggingMarker=document.createElement("div"),(0,u.setCss)(this._draggingMarker,{position:"absolute",display:"none",borderStyle:"dotted",cursor:"move"}),document.body.appendChild(this._draggingMarker),this._draggingTooltip=new u.Tooltip,this._draggingCells=this.selection,this.selectedSheet&&this.selectedSheet.selectionRanges.clear(),this.onDraggingRowColumn(new sl(this.selection.clone(),this._draggingRow,e.shiftKey)),e.preventDefault();else if("crosshair"!==this.hostElement.style.cursor||null!=this._fillingMarker){if(this.selectionMode===Et.CellRange||this.selectionMode===Et.MultiRange?e.ctrlKey?this._enableMulSel||(this._enableMulSel=!0,0===this.selectedSheet.selectionRanges.length&&this.selectedSheet.selectionRanges.push(this.selection)):o.cellType!==X.None&&(this.selectedSheet&&(o.cellType===X.TopLeft?(this.selectedSheet.selectionRanges.clear(),this.selectedSheet._addSelection(new W(0,0,this.rows.length-1,this.columns.length-1))):3===e.which&&this._isCellSelected(o.row,o.col)||this.selectedSheet.selectionRanges.clear()),this._enableMulSel&&this.refresh(!1),this._enableMulSel=!1):(this._enableMulSel=!1,this.selectedSheet&&this.selectedSheet.selectionRanges.clear()),this._htDown=o,0!==this.rows.length&&0!==this.columns.length&&(r.match(/iPad/i)||r.match(/iPhone/i)||this._hideContextMenu(),3!==e.which&&(this.selectionMode===Et.CellRange||this.selectionMode===Et.MultiRange)&&(o.cellType===X.ColumnHeader||o.cellType===X.None)&&!(o.col>-1&&this.columns[o.col].isSelected)&&(0,u.hasClass)(e.target,"wj-cell")&&!o.edgeRight)){if(this._columnHeaderClicked=!0,i=this.itemsSource&&this.rows[0]&&!this.rows[0].isVisible?1:0,e.target.focus(),e.shiftKey)this._multiSelectColumns(o);else{if(n=new W(i,o.col,this.rows.length-1,o.col),3===e.which&&this.selection.contains(n))return;this.select(n)}this._eCt.children[i]&&this._eCt.children[i].children[o.col]&&this._eCt.children[i].children[o.col].focus()}}else this.finishEditing(),this._fillingData=!0,this._fillingPoint=new u.Point(e.clientX-this.scrollPosition.x,e.clientY-this.scrollPosition.y),this._fillingSource=this.selection.clone(),this._fillingMarker=document.createElement("div"),(0,u.setCss)(this._fillingMarker,{position:"absolute",display:"none",border:"2px dashed"}),this._root.appendChild(this._fillingMarker),this._fillingTooltip=new u.Tooltip,e.preventDefault()},t.prototype._mouseMove=function(e){var n,i=this.hitTest(e),r=this.selection.clone(),o=this.rows.length,a=this.columns.length,d=this.hostElement.style.cursor;0!==this.rows.length&&0!==this.columns.length?this._isDragging?(this.hostElement.style.cursor="move",this._showDraggingMarker(e)):!this._isClicking&&i.edgeBottom&&i.edgeRight&&i.row===r.bottomRow&&i.col===r.rightCol&&this.allowAutoFill?this.hostElement.style.cursor="crosshair":this._fillingData?(this.hostElement.style.cursor="crosshair",this._showFillMarker(e)):(n=this.itemsSource?0===r.topRow||1===r.topRow:0===r.topRow,!this._isClicking&&r&&i.cellType!==X.None&&!this.itemsSource&&!this.isReadOnly&&this._enableDragDrop&&(!this._filter||!this._filter._isEditorOpened())&&(this._draggingColumn=n&&r.bottomRow===o-1,this._draggingRow=0===r.leftCol&&r.rightCol===a-1,i.cellType===X.Cell?(this._draggingColumn&&((i.col===r.leftCol-1||i.col===r.rightCol)&&i.edgeRight||i.row===o-1&&i.edgeBottom)&&(d="move"),this._draggingRow&&!this._containsGroupRows(r)&&((i.row===r.topRow-1||i.row===r.bottomRow)&&i.edgeBottom||i.col===a-1&&i.edgeRight)&&(d="move")):i.cellType===X.ColumnHeader?i.edgeBottom&&(this._draggingColumn&&i.col>=r.leftCol&&i.col<=r.rightCol||this._draggingRow&&0===r.topRow)&&(d="move"):i.cellType===X.RowHeader&&i.edgeRight&&(this._draggingColumn&&0===r.leftCol||this._draggingRow&&i.row>=r.topRow&&i.row<=r.bottomRow&&!this._containsGroupRows(r))&&(d="move"),this._dragable="move"===d,this.hostElement.style.cursor=d),this._htDown&&this._htDown.panel&&(i=new ut(this._htDown.panel,e),this._multiSelectColumns(i),i.cellType===X.Cell&&this.scrollIntoView(i.row,i.col))):(this._dragable=!1,i.cellType===X.Cell&&(this.hostElement.style.cursor="default"))},t.prototype._mouseUp=function(e){var n=this;try{if(this._isDragging){if(this._dropRange&&!this._draggingCells.equals(this._dropRange)){var i=new Wd(this._dropRange.clone(),this._draggingRow),r=new u.CancelEventArgs;this.onBeginDroppingRowColumn(i),r.cancel=i.cancel,i.cancel||this._handleDropping(e),this.onEndDroppingRowColumn(r)}}else if(this._fillingData){var o=js.CopyContent,a=this._fillingRange,d=this._fillingSource;if(this._orgCellSettings=null,this._fillingRange&&this._fillingRange.isValid){(0,u.assert)(this._canDoFillOperation(),"To do this, all the merged cells need be the same size."),d.leftCol===a.leftCol&&d.rightCol===a.rightCol?d.row!==d.row2&&(o=js.FillSeries):d.col!==d.col2&&(o=js.FillSeries),this._orgCellSettings=this._getCellSettingsForFill();var p=new hs(this,this._fillingSource);if(this._undoStack._addAction(p),this._fillData(o|=js.CopyFormat))var v=this._root.appendChild(document.createElement("div")),M=new Rc(v,this,o,{operationSelected:function(T){n._fillData(T.operation)},cancelled:function(){v.parentElement.removeChild(v),M.dispose(),M=null,p.saveNewState(),n.focus()}})}}}finally{this._draggingSingleRow=!1,this._isDragging&&(this._draggingCells=null,this._dropRange=null,document.body.removeChild(this._draggingMarker),this._draggingMarker=null,this._draggingTooltip.hide(),this._draggingTooltip=null,this._isDragging=!1,this._draggingColumn=!1,this._draggingRow=!1),this._htDown&&this._htDown.cellType!==X.None&&this.selectedSheet&&(this.selection.isValid&&this.selectedSheet._addSelection(this.selection),this._enableMulSel=!1),this._fillingData&&(this._fillingData=!1,this._fillingPoint=null,this._fillingRange=null,this._root.removeChild(this._fillingMarker),this._fillingMarker=null,this._fillingTooltip.hide(),this._fillingTooltip=null,this.hostElement.style.cursor="default"),this._isClicking=!1,this._columnHeaderClicked=!1,this._htDown=null}},t.prototype._click=function(){var e=this,n=window.navigator.userAgent;n.match(/iPad/i)||n.match(/iPhone/i)||this._hideContextMenu(),setTimeout(function(){e.hideFunctionList()},200)},t.prototype._touchStart=function(e){var n=this;(0,u.hasClass)(e.target,"wj-context-menu-item")||this._hideContextMenu(),this._longClickTimer=setTimeout(function(){var i;n._isDescendant(n._divContainer,e.target)&&(i=n.hitTest(e))&&i.cellType!==X.None&&!n._resizing&&(i.cellType===X.TopLeft&&(n.selection=new W(0,0,n.rows.length-1,n.columns.length-1),n.selectedSheet&&(n.selectedSheet.selectionRanges.clear(),n.selectedSheet.selectionRanges.push(n.selection))),n._contextMenu.show(null,new u.Point(e.pageX+10,e.pageY+10)))},500)},t.prototype._touchEnd=function(){clearTimeout(this._longClickTimer)},t.prototype._keydown=function(e){if(!e.defaultPrevented){(this._isDescendant(this.hostElement,e.target)||this.hostElement===e.target)&&!this._edtHdl.activeEditor&&!(e.target instanceof HTMLInputElement)&&this.selectedSheet&&(e.keyCode===u.Key.Delete||e.keyCode===u.Key.Back)&&(this._delSeletionContent(e),e.preventDefault());var n=this._contextMenu.visible?this._contextMenu:this._tabHolder.sheetControl._contextMenu.visible?this._tabHolder.sheetControl._contextMenu:null;n&&(e.keyCode===u.Key.Down&&n.moveToNext(),e.keyCode===u.Key.Up&&n.moveToPrev(),e.keyCode===u.Key.Home&&n.moveToFirst(),e.keyCode===u.Key.End&&n.moveToLast(),e.keyCode===u.Key.Enter&&n.handleContextMenu(),e.preventDefault())}},t.prototype._showDraggingMarker=function(e){var n,i,r,o,a,d,p,v,M,T=new ut(this.cells,e),k=this.selection,L=this.columns.length,Y=this.rows.length,ce=this._cumulativeScrollOffset(this.hostElement),ae=this._root.getBoundingClientRect(),Ee=ae.left+ce.x,Me=ae.top+ce.y;if(this.scrollIntoView(T.row,T.col),this._draggingColumn){for(i=k.rightCol-k.leftCol+1,a=0,((r=T.col)<0||r+i>L)&&(r=L-i),n=this.cells.getCellBoundingRect(0,r),o=(o=this.cells.height)>(d=this._root.offsetHeight-this._eCHdr.offsetHeight)?d:o,p=0;p<i;p++)a+=this.columns[r+p].renderSize;v=t.convertNumberToAlpha(r)+" : "+t.convertNumberToAlpha(r+i-1),this._dropRange?(this._dropRange.col=r,this._dropRange.col2=r+i-1):this._dropRange=new W(0,r,this.rows.length-1,r+i-1)}else if(this._draggingRow){for(i=k.bottomRow-k.topRow+1,o=0,((r=T.row)<0||r+i>Y)&&(r=Y-i),n=this.cells.getCellBoundingRect(r,0),d=this._root.offsetWidth-this._eRHdr.offsetWidth,p=0;p<i;p++)o+=this.rows[r+p].renderSize;a=(a=this.cells.width)>d?d:a,v=r+1+" : "+(r+i),this._dropRange?(this._dropRange.row=r,this._dropRange.row2=r+i-1):this._dropRange=new W(r,0,r+i-1,this.columns.length-1)}if(n){if(M={display:"inline",zIndex:"9999",opacity:.5,top:n.top-(this._draggingColumn?this._ptScrl.y:0)+ce.y,left:n.left-(this._draggingRow?this._ptScrl.x:0)+ce.x,height:o,width:a},n.top=n.top-(this._draggingColumn?this._ptScrl.y:0),n.left=n.left-(this._draggingRow?this._ptScrl.x:0),this.rightToLeft&&this._draggingRow&&(M.left=M.left-a+n.width+2*this._ptScrl.x,n.left=n.left+2*this._ptScrl.x),this._draggingRow){if(Ee+this._eRHdr.offsetWidth!==M.left||Me+this._root.offsetHeight+1<M.top+M.height)return}else if(Me+this._eCHdr.offsetHeight!==M.top||Ee+this._root.offsetWidth+1<M.left+M.width)return;(0,u.setCss)(this._draggingMarker,M),this._draggingTooltip.show(this.hostElement,v,n)}},t.prototype._showFillMarker=function(e){var n=new ut(this.cells,e);if(n.row>-1&&n.col>-1){var i=e.clientX-this.scrollPosition.x-this._fillingPoint.x,r=e.clientY-this.scrollPosition.y-this._fillingPoint.y,o=void 0,a=void 0,d=void 0,p=void 0;Math.abs(i)>=Math.abs(r)?(o=this._fillingSource.topRow,d=this._fillingSource.bottomRow,a=i>=0?this._fillingSource.leftCol:n.col,p=i>=0?n.col:this._fillingSource.rightCol):(o=r>=0?this._fillingSource.topRow:n.row,d=r>=0?n.row:this._fillingSource.bottomRow,a=this._fillingSource.leftCol,p=this._fillingSource.rightCol),this._fillingRange=new W(o,a,d,p),this._updateFillingMarquee(),this.scrollIntoView(n.row,n.col),this._showFillTooltip()}},t.prototype._updateMarquee=function(){s.prototype._updateMarquee.call(this),this._updateFillingMarquee()},t.prototype._updateFillingMarquee=function(){var e=this._fillingMarker,n=this._fillingRange;if(e&&n){var i=this.cells.getCellBoundingRect(n.row,n.col,!0),r=this.cells.getCellBoundingRect(n.row2,n.col2,!0);if(this.rows.frozen){var o=Math.min(this.rows.length,this.rows.frozen),a=this.cells.getCellBoundingRect(o-1,0,!0);n.topRow>=o&&i.top<a.bottom&&(i.top=a.bottom),n.bottomRow>=o&&r.bottom<a.bottom&&(r.height=a.bottom-r.top)}if(this.columns.frozen){var d=Math.min(this.columns.length,this.columns.frozen);a=this.cells.getCellBoundingRect(0,d-1,!0),this.rightToLeft?(n.leftCol>=d&&i.right>a.left&&(i.left=a.left-i.width),n.rightCol>=d&&r.left>a.left&&(r.left=a.left)):(n.leftCol>=d&&i.left<a.right&&(i.left=a.right),n.rightCol>=d&&r.right<a.right&&(r.width=a.right-r.left))}var p=this.cells.hostElement;(0,u.setCss)(e,{left:i.left+p.offsetLeft,top:i.top+p.offsetTop,width:r.right-i.left,height:r.bottom-i.top,display:"",zIndex:this.frozenRows||this.frozenColumns?"3":""})}},t.prototype._showFillTooltip=function(){var e,n,i,r,o,a,d,p,v,M,T,k,L=this._fillingSource,Y=this._fillingRange;this._fillingTooltip.hide(),!Y.equals(L)&&!L.contains(Y)&&((n=L.leftCol===Y.leftCol&&L.rightCol===Y.rightCol)?(Y.bottomRow>L.bottomRow?((e=this.cells.getCellBoundingRect(Y.bottomRow,Y.rightCol)).top=e.bottom+10,i=Y.bottomRow-L.topRow):((e=this.cells.getCellBoundingRect(Y.topRow,Y.rightCol)).top+=10,i=Y.topRow-L.topRow),e.left=e.right,(r=i%L.rowSpan)<0&&(r+=L.rowSpan),L.row===L.row2&&(o=!0),v=this.selectedSheet.getCellStyle(L.topRow+r,L.leftCol),M=this.getMergedRange(this.cells,L.topRow+r,L.leftCol),T=this.columns[L.leftCol],k=v&&v.format?v.format:T.format,o?p=Fo(p=this.getCellData(M?M.topRow:L.topRow+r,L.leftCol,!1))?"":u.Globalize.format(p,k):(a=this.getCellData(L.topRow+r,L.leftCol,!1),(0,u.isNumber)(a)||(0,u.isDate)(a)?(d=this._getFillSeries(n,0,r))?(p=this._getFillData(r,i,L,n,d,!0),p=u.Globalize.format(p,k)):p="":Fo(p=a)&&(p=""))):(Y.rightCol>L.rightCol?(e=this.cells.getCellBoundingRect(Y.bottomRow,Y.rightCol),i=Y.rightCol-L.leftCol):(e=this.cells.getCellBoundingRect(Y.bottomRow,Y.leftCol),i=Y.leftCol-L.leftCol),e.top=e.bottom+10,(r=i%L.columnSpan)<0&&(r+=L.columnSpan),L.col===L.col2&&(o=!0),v=this.selectedSheet.getCellStyle(L.topRow,L.leftCol+r),M=this.getMergedRange(this.cells,L.topRow,L.leftCol+r),T=this.columns[L.leftCol+r],k=v&&v.format?v.format:T.format,o?p=Fo(p=this.getCellData(L.topRow,M?M.leftCol:L.leftCol+r,!1))?"":u.Globalize.format(p,k):(a=this.getCellData(L.topRow,L.leftCol+r,!1),(0,u.isNumber)(a)||(0,u.isDate)(a)?(d=this._getFillSeries(n,0,r))?(p=this._getFillData(r,i,L,n,d,!0),p=u.Globalize.format(p,k)):p="":Fo(p=a)&&(p=""))),e.top+=this.cells.hostElement.offsetTop,this._fillingTooltip.show(this.hostElement,p,e))},t.prototype._selections=function(){var e=[];if(!this.selectedSheet)return e;if(this.selectionMode==Et.ListBox)for(var n=0,i=this.rows.length,r=this.columns.length-1;n<i;n++)this.rows[n].isSelected&&e.push(new W(n,0,n,r));else e=this.selectedSheet.selectionRanges.slice();return e.length?e:[this.selection]},t.prototype._isCellSelected=function(e,n){return this._selections().some(function(i){return i.contains(e,n)})},t.prototype._isColumnSelected=function(e){var n=this;return this._selections().some(function(i){return i.containsColumn(e)&&0===i.row&&i.row2===n.rows.length-1})},t.prototype._isRowSelected=function(e){var n=this;return this._selections().some(function(i){return i.containsRow(e)&&0===i.col&&i.col2===n.columns.length-1})},t.prototype._handleDropping=function(e){var n,i,r,o,a,d,p;if(this.selectedSheet&&this._draggingCells&&this._dropRange&&!this._containsMergedCells(this._draggingCells)&&!this._containsMergedCells(this._dropRange)){if(this._clearCalcEngine(),this._draggingColumn&&this._draggingCells.leftCol>this._dropRange.leftCol||this._draggingRow&&this._draggingCells.topRow>this._dropRange.topRow)if(e.shiftKey){if(!this._allowExchangeCells(this._draggingRow,!0))return void console.warn("Can not complete operation: You are attempting to change a position of table row or column in a way that is not allowed.");if(this._draggingColumn){for(o=this._dropRange.leftCol,i=this._draggingCells.leftCol;i<=this._draggingCells.rightCol;i++)this.columns.moveElement(i,o),o++;this._exchangeTableColumns(!0)}else if(this._draggingRow)for(r=this._dropRange.topRow,n=this._draggingCells.topRow;n<=this._draggingCells.bottomRow;n++)this.rows.moveElement(n,r),r++;this._exchangeCellStyle(!0)}else{for(this.undoStack.stackSize>0&&(a=new ho(this,this._draggingCells,this._dropRange,e.ctrlKey)),r=this._dropRange.topRow,n=this._draggingCells.topRow;n<=this._draggingCells.bottomRow;n++){for(o=this._dropRange.leftCol,i=this._draggingCells.leftCol;i<=this._draggingCells.rightCol;i++)this._moveCellContent(n,i,r,o,e.ctrlKey),this._draggingColumn&&r===this._dropRange.topRow&&(this.columns[o].dataType=this.columns[i].dataType?this.columns[i].dataType:u.DataType.Object,this.columns[o].align=this.columns[i].align,this.columns[o].format=this.columns[i].format,e.ctrlKey||(this.columns[i].dataType=u.DataType.Object,this.columns[i].align=null,this.columns[i].format=null)),o++;r++}if(this._draggingColumn&&!e.ctrlKey)for(o=this._dropRange.leftCol,i=this._draggingCells.leftCol;i<=this._draggingCells.rightCol;i++)this._updateColumnFiler(i,o),o++}else if(this._draggingColumn&&this._draggingCells.leftCol<this._dropRange.leftCol||this._draggingRow&&this._draggingCells.topRow<this._dropRange.topRow)if(e.shiftKey){if(!this._allowExchangeCells(this._draggingRow,!1))return void console.warn("Can not complete operation: You are attempting to change a position of table row or column in a way that is not allowed.");if(this._draggingColumn){for(o=this._dropRange.rightCol,i=this._draggingCells.rightCol;i>=this._draggingCells.leftCol;i--)this.columns.moveElement(i,o),o--;this._exchangeTableColumns(!1)}else if(this._draggingRow)for(r=this._dropRange.bottomRow,n=this._draggingCells.bottomRow;n>=this._draggingCells.topRow;n--)this.rows.moveElement(n,r),r--;this._exchangeCellStyle(!1)}else{for(this.undoStack.stackSize>0&&(a=new ho(this,this._draggingCells,this._dropRange,e.ctrlKey)),r=this._dropRange.bottomRow,n=this._draggingCells.bottomRow;n>=this._draggingCells.topRow;n--){for(o=this._dropRange.rightCol,i=this._draggingCells.rightCol;i>=this._draggingCells.leftCol;i--)this._moveCellContent(n,i,r,o,e.ctrlKey),this._draggingColumn&&r===this._dropRange.bottomRow&&(this.columns[o].dataType=this.columns[i].dataType?this.columns[i].dataType:u.DataType.Object,this.columns[o].align=this.columns[i].align,this.columns[o].format=this.columns[i].format,e.ctrlKey||(this.columns[i].dataType=u.DataType.Object,this.columns[i].align=null,this.columns[i].format=null)),o--;r--}if(this._draggingColumn&&!e.ctrlKey)for(o=this._dropRange.rightCol,i=this._draggingCells.rightCol;i>=this._draggingCells.leftCol;i--)this._updateColumnFiler(i,o),o--}e.ctrlKey||(d=this._updateFormulaForDropping(e.shiftKey),p=this._updateNamedRangesForDropping(e.shiftKey)),a&&a.saveNewState()&&(a._affectedFormulas=d,a._affectedDefinedNameVals=p,this._undoStack._addAction(a)),this._undoStack._pendingAction&&(this._undoStack._pendingAction._affectedFormulas=d,this._undoStack._pendingAction._affectedDefinedNameVals=p),this.select(this._dropRange),this.selectedSheet._addSelection(this.selection),this.hostElement.focus()}},t.prototype._moveCellContent=function(e,n,i,r,o){var a,d=this.getCellData(e,n,!1),p=e*this.columns.length+n,v=i*this.columns.length+r,M=this.selectedSheet._styledCells[p],T=!0,k=this.selectedSheet.findTable(i,r);if(k&&k._isHeaderRow(i)){var L=k.getRange(),Y=k.getColumns(),ce=r-L.leftCol;a=Y[ce].name,null==d||""===d?T=!1:Y[ce].name=d+""}if(T){if(o&&Fo(d)&&v-p!=0)try{var ae=this._calcEngine.parse(d);ae._moveCellRangeExp(this.selectedSheetIndex,new W(e,n),new W(i,r),!1,!0)&&(d="="+ae._getStringExpression())}catch{}this.setCellData(i,r,d)}else T=!0;if(M?this.selectedSheet._styledCells[v]=this._cloneObject(M):delete this.selectedSheet._styledCells[v],o)(Ee=this.selectedSheet.findTable(e,n))&&(Me=Ee._getTableRange(),Ee===k&&e===i&&Ee._isHeaderRow(e)&&Ee._updateColumnName(ze=n-Me.leftCol,d));else{var Ee;if(delete this.selectedSheet._styledCells[p],Ee=this.selectedSheet.findTable(e,n)){var Me=Ee._getTableRange();if(Ee===k&&e===i&&Ee._isHeaderRow(e)){var ze=n-Me.leftCol;return void Ee._updateColumnName(ze,a)}if(Ee.showHeaderRow&&e===Me.topRow)return}this.setCellData(e,n,null)}},t.prototype._allowExchangeCells=function(e,n){for(var i=this.selectedSheet.tables,r=0;r<i.length;r++){var o=i[r],a=void 0,d=void 0,p=void 0;if(e?(a=o.getRange(J.Data),d=new W(this._draggingCells.topRow,a.leftCol,this._draggingCells.bottomRow,a.rightCol),p=new W(this._dropRange.topRow,a.leftCol,this._dropRange.bottomRow,a.rightCol)):(a=o.getRange(),d=new W(a.topRow,this._draggingCells.leftCol,a.bottomRow,this._draggingCells.rightCol),p=new W(a.topRow,this._dropRange.leftCol,a.bottomRow,this._dropRange.rightCol)),a.intersects(d)&&!a.contains(d)||a.intersects(p)&&!a.contains(p)||a.contains(d)&&!a.contains(p)||!a.contains(d)&&a.contains(p))return!1}return!0},t.prototype._exchangeTableColumns=function(e){for(var n=this.selectedSheet.tables,i=0;i<n.length;i++){var r=n[i],o=r.getRange();if(o.leftCol<=this._draggingCells.leftCol&&o.rightCol>=this._draggingCells.rightCol)for(var a=(e?this._draggingCells.leftCol:this._draggingCells.rightCol)-o.leftCol,d=(e?this._dropRange.leftCol:this._dropRange.rightCol)-o.leftCol,p=0;p<this._draggingCells.columnSpan;p++)r._moveColumns(a,d),e?(a++,d++):(a--,d--)}},t.prototype._exchangeCellStyle=function(e){for(var n=[],i=this._draggingCells.topRow;i<=this._draggingCells.bottomRow;i++)for(var r=this._draggingCells.leftCol;r<=this._draggingCells.rightCol;r++){var o=i*this.columns.length+r;this.selectedSheet._styledCells[o]?(n.push(this._cloneObject(this.selectedSheet._styledCells[o])),delete this.selectedSheet._styledCells[o]):n.push(void 0)}if(e){if(this._draggingColumn){var a=this._draggingCells.rightCol-this._draggingCells.leftCol+1;for(r=this._draggingCells.leftCol-1;r>=this._dropRange.leftCol;r--)for(i=0;i<this.rows.length;i++){var d=i*this.columns.length+r+a;this.selectedSheet._styledCells[o=i*this.columns.length+r]?(this.selectedSheet._styledCells[d]=this._cloneObject(this.selectedSheet._styledCells[o]),delete this.selectedSheet._styledCells[o]):delete this.selectedSheet._styledCells[d]}}else if(this._draggingRow)for(a=this._draggingCells.bottomRow-this._draggingCells.topRow+1,i=this._draggingCells.topRow-1;i>=this._dropRange.topRow;i--)for(r=0;r<this.columns.length;r++)d=(i+a)*this.columns.length+r,this.selectedSheet._styledCells[o=i*this.columns.length+r]?(this.selectedSheet._styledCells[d]=this._cloneObject(this.selectedSheet._styledCells[o]),delete this.selectedSheet._styledCells[o]):delete this.selectedSheet._styledCells[d]}else if(this._draggingColumn)for(a=this._draggingCells.rightCol-this._draggingCells.leftCol+1,r=this._draggingCells.rightCol+1;r<=this._dropRange.rightCol;r++)for(i=0;i<this.rows.length;i++)d=i*this.columns.length+r-a,this.selectedSheet._styledCells[o=i*this.columns.length+r]?(this.selectedSheet._styledCells[d]=this._cloneObject(this.selectedSheet._styledCells[o]),delete this.selectedSheet._styledCells[o]):delete this.selectedSheet._styledCells[d];else if(this._draggingRow)for(a=this._draggingCells.bottomRow-this._draggingCells.topRow+1,i=this._draggingCells.bottomRow+1;i<=this._dropRange.bottomRow;i++)for(r=0;r<this.columns.length;r++)d=(i-a)*this.columns.length+r,this.selectedSheet._styledCells[o=i*this.columns.length+r]?(this.selectedSheet._styledCells[d]=this._cloneObject(this.selectedSheet._styledCells[o]),delete this.selectedSheet._styledCells[o]):delete this.selectedSheet._styledCells[d];i=this._dropRange.topRow;for(var p=0;i<=this._dropRange.bottomRow;i++)for(r=this._dropRange.leftCol;r<=this._dropRange.rightCol;r++)o=i*this.columns.length+r,n[p]?this.selectedSheet._styledCells[o]=n[p]:delete this.selectedSheet._styledCells[o],p++},t.prototype._containsMergedCells=function(e,n){if(!(n=n||this.selectedSheet))return!1;for(var i=0;i<n._mergedRanges.length;i++)if(e.intersects(n._mergedRanges[i]))return!0;return!1},t.prototype._multiSelectColumns=function(e){if(e&&this._columnHeaderClicked){var n=new W(e.row,e.col);n.row=this.itemsSource&&this.rows[0]&&!this.rows[0].isVisible?1:0,n.row2=this.rows.length-1,n.col2=this.selection.col2,this.select(n)}},t.prototype._cumulativeOffset=function(e){var n=0,i=0;do{n+=e.offsetTop||0,i+=e.offsetLeft||0,e=e.offsetParent}while(e);return new u.Point(i,n)},t.prototype._cumulativeScrollOffset=function(e){var n=0,i=0;do{n+=e.scrollTop||0,i+=e.scrollLeft||0,e=e.offsetParent}while(e&&!(e instanceof HTMLBodyElement));return n+=document.body.scrollTop||document.documentElement.scrollTop,i+=document.body.scrollLeft||document.documentElement.scrollLeft,new u.Point(i,n)},t.prototype._checkHitWithinSelection=function(e){if(null!=e&&e.cellType===X.Cell){var n=this.getMergedRange(this.cells,e.row,e.col);if(n&&n.contains(this.selection)||this.selection.row===e.row&&this.selection.col===e.col)return!0}return!1},t.prototype._clearForEmptySheet=function(e){this.selectedSheet&&0===this[e].length&&!0!==this._isCopying&&!0!==this._isUndoing&&!0!==this._isSorting&&(this.selectedSheet._mergedRanges.length=0,this.selectedSheet._styledCells=null,this._isDeletingRows||this.select(new W))},t.prototype._containsGroupRows=function(e){for(var n=e.topRow;n<=e.bottomRow;n++)if(this.rows[n]instanceof rt)return!0;return!1},t.prototype._delSeletionContent=function(e){if(!this.isReadOnly)if(this.allowDelete&&this.selection.isValid&&0===this.selection.leftCol&&this.selection.rightCol===this.columns.length-1)this.deleteRows(this._selections());else{var n,i=this.editableCollectionView,r=!1,o=!1,a=this.scrollPosition;this.beginUpdate();var d=new se(this);this.undoStack.stackSize>0&&(d=new se(this));for(var p=this._selections(),v=0;v<p.length;v++){n=p[v];var M=new W,T=new pt(this.cells,M,e),k=this.selectedSheet.tables.length;if(k>0)for(var L=k-1;L>=0;L--){var Y=this.selectedSheet.tables[L];n.contains(Y.getRange())&&(d&&d._storeDeletedTables(Y),this.selectedSheet.tables.remove(Y))}for(var ce=n.topRow;ce<=n.bottomRow;ce++){var ae=this.rows[ce];if(ae&&!ae.isReadOnly&&(ae.visible||this.selectedSheet._freezeHiddenRows&&this.selectedSheet._freezeHiddenRows[ce]))for(var Ee=n.leftCol;Ee<=n.rightCol;Ee++){var Me=this._getBindingColumn(this.cells,ce,this.columns[Ee]);Me&&!Me.isReadOnly&&(!1===Me.isRequired||null==Me.isRequired&&Me.dataType==u.DataType.String)&&(Me.visible||this.selectedSheet._freezeHiddenCols&&this.selectedSheet._freezeHiddenCols[Ee])&&null!=this.getCellData(ce,Ee,!1)&&(M.setRange(ce,Ee),T.cancel=!1,this.onBeginningEdit(T)&&(i&&(r||(r=!0,i.beginUpdate()),i.editItem(ae.dataItem),this._edtHdl._edItem=i.currentEditItem),this.setCellData(ce,Ee,void 0,!1),o=!0,this.onCellEditEnding(T),this.onCellEditEnded(T)))}}r&&(i.endUpdate(!0),i._pendingRefresh=!1,n.rowSpan>1&&i.commitEdit())}o&&d&&(d.saveNewState(),this._undoStack._addAction(d)),this.selection=n,this.scrollPosition=a,this.endUpdate()}},t.prototype._updateAffectedFormula=function(e,n,i,r,o){var a=[],d=[],p=this.selection.clone();this.selectedSheet._storeRowSettings(),this.beginUpdate();for(var v=0;v<this.sheets.length;v++)for(var M=this.sheets[v],T=M.grid,k=0;k<T.rows.length;k++)for(var L=0;L<T.columns.length;L++){var Y=T.getCellData(k,L,!1);if(Fo(Y)){var ce=this._updateCellRef(Y,v,e,n,i,r,o);if(ce){a.push({sheet:M,point:new u.Point(k,L),formula:Y});var ae=k,Ee=L;if(v===this.selectedSheetIndex&&(r?k>=e&&(i?ae+=n:ae-=n):L>=e&&(i?Ee+=n:Ee-=n),!i&&(r&&k<=e&&k>=e-n+1||!r&&L<=e&&L>=e-n+1)))continue;T.setCellData(k,L,ce,!1),d.push({sheet:M,point:new u.Point(ae,Ee),formula:ce})}}}return this.select(p,!1),this.endUpdate(),{oldFormulas:a,newFormulas:d}},t.prototype._updateAffectedNamedRanges=function(e,n,i,r){for(var o=[],a=[],d=0;d<this.definedNames.length;d++){var p=this.definedNames[d],v=p.value;if(v&&(0,u.isString)(v)){var M=this._updateCellRef(v,this.selectedSheetIndex,e,n,i,r);M&&(o.push({name:p.name,value:v}),p.value=M,a.push({name:p.name,value:M}))}}return{oldDefinedNameVals:o,newDefinedNameVals:a}},t.prototype._updateFormulaBoundaryForEditingCell=function(e,n){var i=[],r=[];this.beginUpdate();for(var o=e;o<this.rows.length;o++)Fo(d=this.getCellData(o,n,!1))&&(p=this._updateCellBoundary(d,e,n))&&(i.push({point:new u.Point(o,n),formula:d}),this.setCellData(o,n,p,!1),r.push({point:new u.Point(o,n),formula:p}));for(var a=n;a<this.columns.length;a++){var d,p;Fo(d=this.getCellData(e,a,!1))&&(p=this._updateCellBoundary(d,e,n))&&(i.push({point:new u.Point(e,a),formula:d}),this.setCellData(e,a,p,!1),r.push({point:new u.Point(e,a),formula:p}))}return this.endUpdate(),{oldFormulas:i,newFormulas:r}},t.prototype._updateColumnFiler=function(e,n){for(var i=JSON.parse(this._filter.filterDefinition),r=0;r<i.filters.length;r++){var o=i.filters[r];if(o.columnIndex===e){o.columnIndex=n;break}}this._filter.filterDefinition=JSON.stringify(i)},t.prototype._isDescendant=function(e,n){for(var i=n.parentNode;null!=i;){if(i===e)return!0;i=i.parentNode}return!1},t.prototype._clearCalcEngine=function(){this._calcEngine.clearExpressionCache()},t.prototype._getRangeString=function(e,n,i){void 0===i&&(i=!0);var r,o,a,d,p,v="",M=!0,T=n&&n!==this.selectedSheet?n.grid:this;if((0,u.isArray)(e))if(e.length>1){if(this._isMultipleRowsSelected(e,n)){for(v="",o=0;o<e.length;o++)v&&(v+="\n"),v+=this._getRangeString(e[o],n);return v}if(!this._isMultipleColumnsSelected(e,n))return"";for(v="",r=0,M=!0;r<T.rows.length;r++){for(M||(v+="\n"),M=!1,o=0,ce=!0;o<e.length;o++)(a=e[o].clone()).row=a.row2=r,ce||(v+="\t"),ce=!1,v+=this._getRangeString(e[o],n);return v}}else switch(p=e[0],this.selectionMode){case Et.Row:case Et.RowRange:p.col=0,p.col2=n.grid.columns.length-1;break;case Et.ListBox:p.col=0,p.col2=n.grid.columns.length-1;for(var k=0;k<n.grid.rows.length;k++)n.grid.rows[k].isSelected&&n.grid.rows[k].isVisible&&(p.row=p.row2=k,v&&(v+="\n"),v+=this._getRangeString(p,n));return v}for(var L=(p=(0,u.asType)((0,u.isArray)(e)?e[0]:e,W)).topRow;L<=p.bottomRow;L++)if(T.rows[L]&&T.rows[L].isVisible){M||(v+="\n"),M=!1;for(var Y=p.leftCol,ce=!0;Y<=p.rightCol;Y++)if(T.columns[Y]&&T.columns[Y].isVisible){ce||(v+="\t"),ce=!1;var ae=this._getCellStyle(L,Y,n),Ee=ae?ae.format:"",Me=T.columns[Y];i?(Fo(d=T.getCellData(L,Y,!1))&&(d=this._evaluate(d,null,n,L,Y)),d=this._formatEvaluatedResult(d,Me,Ee)):(d=T.getCellData(L,Y,!1),(0,u.isDate)(d)&&(d=u.Globalize.format(d,Ee||Me.format)),Me.dataMap&&(d=Me.dataMap.getDisplayValue(d))),(d=(d=null==d?"":d.toString()).replace(/\t/g," ")).indexOf("\n")>-1&&(d='"'+d.replace(/"/g,'""')+'"'),v+=d}}return v},t.prototype._getSelectionForListBoxMode=function(e){for(var n,i=0;i<e.rows.length;i++)e.rows[i].isSelected&&(n?n.row2=i:n=new W(i,0,i,e.columns.length-1));return n},t.prototype._containsRandFormula=function(e,n){for(var i=0;i<e.length;i++)for(var r=e[i],o=r.topRow;o<=r.bottomRow&&o<n.grid.rows.length;o++)for(var a=r.leftCol;a<=r.rightCol&&a<n.grid.columns.length;a++){var d=n.grid.getCellData(o,a,!1);if(Fo(d)&&-1!==d.search(/rand/i))return!0}return!1},t.prototype._isMultipleRowsSelected=function(e,n){var i,r,o;e&&e.length>1?o=e:this.selectedSheet.selectionRanges.length>1&&(o=this.selectedSheet.selectionRanges),i=o[0];for(var a=1;a<o.length;a++)if((r=o[a]).leftCol!==i.leftCol||r.rightCol!==i.rightCol)return!1;return!0},t.prototype._isMultipleColumnsSelected=function(e,n){var i,r,o;e&&e.length>1?o=e:this.selectedSheet.selectionRanges.length>1&&(o=this.selectedSheet.selectionRanges),i=o[0];for(var a=0;a<o.length;a++)if((r=o[a]).topRow!==i.topRow||r.bottomRow!==i.bottomRow)return!1;return!0},t.prototype._postSetClipStringProcess=function(e,n,i,r,o,a,d,p,v){var M,T=new me(this.cells,new W(i+o,r),n);if(this.onPastingCell(T)){if(a>=0&&d>=0&&this._copiedSheet&&(M=this._copiedSheet._getMergedRange(a,d))&&M.topRow===a&&M.leftCol===d){for(var k=i+M.rowSpan-1,L=r+M.columnSpan-1,Y=new W(i,r,k=k<this.rows.length?k:this.rows.length-1,L=L<this.columns.length?L:this.columns.length-1),ce=Y.topRow;ce<=Y.bottomRow;ce++)for(var ae=Y.leftCol;ae<=Y.rightCol;ae++){var Ee=this.getMergedRange(this.cells,ce,ae);if(null!=Ee&&!Ee.equals(Y))return console.error("We can't paste the merged cell to another merged cell."),!1}this.mergeRange(new W(i,r,k,L),!0)}p&&p.editItem(e);var Me=this.cells.setCellData(i,r,v&&v.format?new Yd(T.data,v.format):T.data);if(Me){if((0,u.isString)(T.data)&&"\n"!==T.data){var ze=T.data.match(/\n/g);ze&&ze.length>0&&(v?v.whiteSpace="pre":v={whiteSpace:"pre"},this.rows[i].height=this.rows.defaultSize*(ze.length+1))}this.selectedSheet._styledCells[i*this.columns.length+r]=v?this._cloneObject(v):void 0,this.onPastedCell(T)}}return Me},t.prototype._delCutData=function(e,n){for(var i,r=this._copiedSheet===this.selectedSheet?this:this._copiedSheet.grid,o=this.selection,a=(i=this.selectionMode===Et.ListBox?this._getSelectionForListBoxMode(r):this._copiedRanges[0]).topRow;a<=i.bottomRow;a++)if(null!=r.rows[a]&&!r.rows[a].isReadOnly)for(var d=i.leftCol;d<=i.rightCol;d++)if(this._copiedSheet!==this.selectedSheet||a<o.topRow||a>o.topRow+e-1||d<o.leftCol||d>o.leftCol+n-1||r.rows[o.topRow]instanceof Ge){var p=r._getBindingColumn(r.cells,a,r.columns[d]);p.isReadOnly||0!=p.isRequired&&(null!=p.isRequired||p.dataType!=u.DataType.String)||r.getCellData(a,d,!0)&&r.setCellData(a,d,"",!0)}},t.prototype._containsMultiLineText=function(e){for(var n=0;n<e.length;n++)for(var i=e[n],r=0;r<i.length;r++)if(i[r].indexOf("\n")>0)return!0;return!1},t.prototype._sortByRow=function(e,n){return e.topRow>n.topRow?1:e.topRow<n.topRow?-1:0},t.prototype._sortByColumn=function(e,n){return e.leftCol>n.leftCol?1:e.leftCol<n.leftCol?-1:0},t.prototype._setFlexSheetToDirty=function(){this.columns._dirty=!0,this.rows._dirty=!0,this.rowHeaders.columns._dirty=!0,this.rowHeaders.rows._dirty=!0,this.columnHeaders.columns._dirty=!0,this.columnHeaders.rows._dirty=!0},t.convertNumberToAlpha=function(e){var n,r="";if(e>=0)do{n=Math.floor(e/26),r=String.fromCharCode(e%26+65)+r,e=n-1}while(n);return r},t.prototype._updateFormulaForReorderingRows=function(e,n,i){void 0===i&&(i=!1);var r,o,a=i?e-n:n-e;this.beginUpdate();for(var d=0;d<this.columns.length;d++)if(Fo(r=this.getCellData(n,d,!1))&&0!==a){try{o=this._calcEngine.parse(r)}catch{continue}o._updateCellRangeExpForReorderingRows(a)&&this.setCellData(n,d,"="+o._getStringExpression())}this.endUpdate()},t.prototype._updateFormulaForDropping=function(e){var n,i,r,o,a,d,p,v,M,T=[],k=[];for(this.beginUpdate(),r=0;r<this.sheets.length;r++)for(i=(n=this.sheets[r]).grid,o=0;o<i.rows.length;o++)for(d=0;d<i.columns.length;d++)Fo(v=i.getCellData(o,d,!1))&&(M=this._updateCellRefForDropping(v,r,e))&&(i.setCellData(o,d,M,!1),e&&r===this.selectedSheetIndex?(T.push({sheet:n,row:a=i.rows[o],column:p=i.columns[d],formula:v}),k.push({sheet:n,row:a,column:p,formula:M})):(T.push({sheet:n,point:new u.Point(o,d),formula:v}),k.push({sheet:n,point:new u.Point(o,d),formula:M})));return this.endUpdate(),{oldFormulas:T,newFormulas:k}},t.prototype._updateNamedRangesForDropping=function(e){var n,i,r,o,a=[],d=[];for(n=0;n<this.definedNames.length;n++)(r=(i=this.definedNames[n]).value)&&(0,u.isString)(r)&&(o=this._updateCellRefForDropping(r,this.selectedSheetIndex,e))&&(a.push({name:i.name,value:r}),i.value=o,d.push({name:i.name,value:o}));return{oldDefinedNameVals:a,newDefinedNameVals:d}},t.prototype._updateCellRefForDropping=function(e,n,i){var r;void 0===i&&(i=!1);try{r=this._calcEngine.parse(e)}catch{return null}return r._moveCellRangeExp(n,this._draggingCells,this._dropRange,i)?"="+r._getStringExpression():null},t.prototype._updateCellStyleForReorderingRows=function(e,n,i){var r,o,a=this.columns.length;for(r=0;r<a;r++)(o=this._getCellStyle(e,r))&&(i[n*a+r]=o)},t.prototype._scanFormulas=function(){for(var e=[],n=0;n<this.rows.length;n++)for(var i=0;i<this.columns.length;i++){var r=this.getCellData(n,i,!1);Fo(r)&&e.push({row:n,column:i,formula:r})}return e},t.prototype._resetFormulas=function(e){var n=this;e&&this.deferUpdate(function(){for(var i=0;i<e.length;i++){var r=e[i];n.setCellData(r.row,r.column,r.formula)}})},t.prototype._getCellStyle=function(e,n,i){return(i=i||this.selectedSheet)?i.getCellStyle(e,n):null},t.prototype._getSheet=function(e){if(null==e)return null;e=e.toLowerCase();for(var n=0;n<this.sheets.length;n++){var i=this.sheets[n];if(i.name.toLowerCase()===e)return i}return null},t.prototype._validateSheetName=function(e){return!!this._getSheet(e)},t.prototype._sheetNameChanged=function(e,n){this._loadingFromWorkbook||(this.definedNames._updateSheetName(e,n),this._updateFormulasWithNameUpdating(e,n))},t.prototype._updateFormulasTableColumn=function(e,n,i,r){if(i!==r){this.beginUpdate();for(var o=new RegExp(e.name+"\\["+i+"\\]","g"),a=e.name+"["+r+"]",d=new RegExp("\\["+i+"\\]","g"),p="["+i+"]",v="["+r+"]",M=0;M<this.sheets.length;M++)for(var T=this.sheets[M],k=T.grid,L=0;L<k.rows.length;L++)for(var Y=0;Y<k.columns.length;Y++){var ce=k.getCellData(L,Y,!1);if(Fo(ce)&&ce.indexOf("[")>=0){if((ce=ce.replace(o,a)).indexOf(p)>=0){var ae=T.findTable(L,Y);ae&&ae.name===e.name&&(ce=ce.replace(d,v))}k.setCellData(L,Y,ce,!1)}}e._updateColumnName(n-e._getTableRange().leftCol,r,!1),this.endUpdate()}},t.prototype._updateFormulasWithNameUpdating=function(e,n,i){if(void 0===i&&(i=!1),this.sheets.length){var r=i?/\[/:/\w/,o=this.selection.clone();this.selectedSheet._storeRowSettings(),this.beginUpdate();for(var a=0;a<this.sheets.length;a++)for(var d=this.sheets[a].grid,p=0;p<d.rows.length;p++)for(var v=function(T){var k=d.getCellData(p,T,!1);if(Fo(k)){for(var L=!1,Y=k.indexOf(e),ce=new RegExp(e,"g");Y>-1;){var ae="",Ee="";Y>0&&(ae=k[Y-1]),Y+e.length<k.length&&(Ee=k[Y+e.length]),!/\w/.test(ae)&&(i&&r.test(Ee)||!i&&!r.test(Ee))&&(k=k.replace(ce,function(Me,ze){return ze===Y?n:e}),L=!0),Y=k.indexOf(e,Y+e.length)}L&&d.setCellData(p,T,k,!1)}},M=0;M<d.columns.length;M++)v(M);this.selection=o,this.endUpdate()}},t.prototype._updateTablesForUpdatingRow=function(e,n,i){var r,o,a,d,p;if(this.selectedSheet.tables.length>0)for(r=this.selectedSheet.tables.length-1;r>=0;r--)if(a=(o=this.selectedSheet.tables[r]).getRange(),i)if((d=e+n-1)<a.topRow)o._updateTableRange(-n,-n,0,0);else if(d>=a.topRow&&d<=a.bottomRow){if(e<=a.topRow&&d===a.bottomRow){null==p&&(p=[]),p.push(o),this.selectedSheet.tables.remove(o);continue}e<a.topRow?(o.showHeaderRow&&(o._showHeaderRow=!1),o._updateTableRange(e-a.topRow,-n,0,0)):(e===a.topRow&&o.showHeaderRow&&(o._showHeaderRow=!1),d===a.bottomRow&&o.showTotalRow&&(o._showTotalRow=!1),o._updateTableRange(0,-n,0,0))}else e<=a.topRow?(null==p&&(p=[]),p.push(o),this.selectedSheet.tables.remove(o)):e<=a.bottomRow&&(o.showTotalRow&&(o._showTotalRow=!1),o._updateTableRange(0,e-a.bottomRow-1,0,0));else e<=a.topRow?o._updateTableRange(n,n,0,0):e>a.topRow&&e<=a.bottomRow&&o._updateTableRange(0,n,0,0);return p},t.prototype._updateTablesForUpdatingColumn=function(e,n,i){var r,o,a,d,p,v,M,T;if(this.selectedSheet.tables.length>0)for(r=this.selectedSheet.tables.length-1;r>=0;r--)if(a=(o=this.selectedSheet.tables[r]).getRange(),i)if((d=e+n-1)<a.leftCol)o._updateTableRange(0,0,-n,-n);else if(d>=a.leftCol&&d<=a.rightCol){if(e<=a.leftCol&&d===a.rightCol){null==T&&(T=[]),T.push(o),this.selectedSheet.tables.remove(o);continue}e<a.leftCol?(p=n-a.leftCol+e,v=a.leftCol,o._updateTableRange(0,0,e-a.leftCol,-n)):(v=e,o._updateTableRange(0,0,0,-(p=n))),o._columns.splice(v-a.leftCol,p)}else e<=a.leftCol?(null==T&&(T=[]),T.push(o),this.selectedSheet.tables.remove(o)):e<=a.rightCol&&(o._updateTableRange(0,0,0,-(p=a.rightCol-e+1)),o._columns.splice(e,p));else if(e<=a.leftCol)o._updateTableRange(0,0,n,n);else if(e>a.leftCol&&e<=a.rightCol)for(o._updateTableRange(0,0,0,n),v=e-a.leftCol,M=0;M<n;M++)o._addColumn(v+M);return T},t.prototype._updateDivContainerHeight=function(e){var n=this._divContainer.parentElement.clientHeight;e&&(n-=this._tabHolder.getSheetBlanketSize()),this._divContainer.style.height=n+"px"},t.prototype._isDisableDeleteRow=function(e,n){var i,r,o;if(this.selectedSheet.tables.length>0)for(i=0;i<this.selectedSheet.tables.length;i++)if(o=(r=this.selectedSheet.tables[i]).getRange(),r.showHeaderRow&&o.topRow>=e&&o.topRow<=n)return!0;return!1},t.prototype._copy=function(e,n){var i,r;if("columns"==e){if(s.prototype._copy.call(this,e,n),this.itemsSource&&(i=this.rows[0])instanceof as){i._ubv=null,i._ubv={};for(var o=0;o<this.columns.length;o++)i._ubv[(r=this.columns[o])._hash]=t._getHeaderRowText(r)}return!0}return!1},t.prototype._getTableSheetIndex=function(e,n){for(var i=0;i<e.length;i++)if(e[i].indexOf(n)>-1)return i;return-1},t.prototype._sheetSortConverter=function(e,n,i,r){return Fo(i=s.prototype._sortConverter.call(this,e,n,i,r))&&(i=this.evaluate(i)),i},t.prototype._formatEvaluatedResult=function(e,n,i){if((0,u.isPrimitive)(e)){n.dataMap&&(e=n.dataMap.getDisplayValue(e));var r=i||n.format;!(0,u.isInt)(e)||r||n.dataMap?((0,u.isDate)(e)&&od(r)?e=t._toOADate(e):r&&"@"!==r&&(0,u.isString)(e)&&(+e).toString()===e&&(e=+e),e=null!=e?u.Globalize.format(e,r):""):e=e.toString()}else if(e){if(e instanceof Ko)return e.error;r=i||e.format||n.format,!(0,u.isInt)(e.value)||r||n.dataMap?((0,u.isDate)(e.value)&&od(r)?e.value=t._toOADate(e.value):(0,u.isString)(e.value)&&(+e.value).toString()===e.value&&(e.value=+e.value),e=null!=e.value?u.Globalize.format(e.value,r):""):e=e.value.toString()}return e},t.prototype._updateCellRef=function(e,n,i,r,o,a,d){var p;try{p=this._calcEngine.parse(e)}catch{return null}return p._updateCellRangeExp(n,i,r,o,a,d)?"="+p._getStringExpression():null},t.prototype._updateCellBoundary=function(e,n,i){var r;try{r=this._calcEngine.parse(e)}catch{return null}return r instanceof kc&&r._updateCellBoundary(n,i)?"="+r._getStringExpression():null},t.prototype._fillData=function(e){void 0===e&&(e=js.CopyFormat|js.FillSeries);var n=this._fillingRange||this.selection,i=this._fillingSource,r=0!=(e&js.CopyFormat),o=0!=(e&js.CopyContent),a=0!=(e&js.FillSeries),d=i.leftCol===n.leftCol&&i.rightCol===n.rightCol,p=[],v=new xu(n,e);if(this.onAutoFilling(v),v.cancel)return!1;this.beginUpdate(),this._resetCellsForFillRange(e);for(var M=0;M<n.rowSpan;M++){var T=n.topRow+M,k=T-i.topRow,L=k%i.rowSpan;L<0&&(L+=i.rowSpan);for(var Y=0;Y<n.columnSpan;Y++){var ce=n.leftCol+Y,ae=ce-i.leftCol;if(!(k>=0&&k<i.rowSpan&&ae>=0&&ae<i.columnSpan)){var Ee=ae%i.columnSpan;Ee<0&&(Ee+=i.columnSpan);var Me=!1,ze=this.getMergedRange(this.cells,i.topRow+L,i.leftCol+Ee);if(ze&&(Me=ze.topRow===i.topRow+L&&ze.leftCol===i.leftCol+Ee)&&(this.getMergedRange(this.cells,T,ce)||this.mergeRange(new W(T,ce,T+ze.rowSpan-1,ce+ze.columnSpan-1))),r){var st=this.selectedSheet.getCellStyle(i.topRow+L,i.leftCol+Ee),xt=st?this._cloneObject(st):null;this.selectedSheet._styledCells[T*this.columns.length+ce]=xt}if((!ze||Me)&&!this.isReadOnly&&!this.rows[T].isReadOnly&&!this.columns[ce].isReadOnly){var St=void 0;if(o)Fo(St=this.getCellData(i.topRow+L,i.leftCol+Ee,!1))?this._fillFormula(St,i.topRow+L,i.leftCol+Ee,T,ce):this.setCellData(T,ce,St);else if(a){var Dt=void 0,Nt=void 0;if(d?(Dt=Y,Nt=L):(Dt=M,Nt=Ee),null==(St=this.getCellData(i.topRow+L,i.leftCol+Ee,!1))||(0,u.isString)(St))Fo(St)?this._fillFormula(St,i.topRow+L,i.leftCol+Ee,T,ce):this.setCellData(T,ce,St),p[Dt]=null;else{p[Dt]||(p[Dt]=this._getFillSeries(d,Dt,Nt));var en=p[Dt];en&&(d?(St=this._getFillData(L,k,i,d,en,null!=e||0===Dt),en.endIndex===i.topRow+L&&(p[Dt]=null)):(St=this._getFillData(Ee,ae,i,d,en,null!=e||0===Dt),en.endIndex===i.leftCol+Ee&&(p[Dt]=null)),this.setCellData(T,ce,St))}}}}}}return this._fillingRange&&this.select(this._fillingRange,!1),this.endUpdate(),this.onAutoFilled(v),!0},t.prototype._getFillData=function(e,n,i,r,o,a){var d,p,v=o.items;return 1!==v.length||a?(d=r?Math.floor(n/i.rowSpan)*o.itemIndexes[o.itemIndexes.length-1]+i.topRow+e-o.startIndex+1:Math.floor(n/i.columnSpan)*o.itemIndexes[o.itemIndexes.length-1]+i.leftCol+e-o.startIndex+1,p=this._getLinearBestFitTrendData(v,o.itemIndexes,d),"date"===o.type&&(p=t._fromOADate(p)),p):v[0]},t.prototype._fillFormula=function(e,n,i,r,o){var a,d,p;try{a=this._calcEngine.parse(e),d=new W(n,i),p=new W(r,o),a._moveCellRangeExp(this.selectedSheetIndex,d,p,!1,!0)&&(e="="+a._getStringExpression())}catch{}finally{this.setCellData(r,o,e)}},t.prototype._getFillSeries=function(e,n,i){var r,o,a,d,p,v,M,T,k=this._fillingSource,L=[],Y=[];if(e)for(i=k.topRow+i,d=0,p=k.topRow;p<=k.bottomRow;p++){if(v=this.getMergedRange(this.cells,p,k.leftCol+n))if(M&&!v.equals(M)){if(d+=M.rowSpan,M=v,v.leftCol!==k.leftCol+n)continue}else{if(v.topRow!==p||v.leftCol!==k.leftCol+n)continue;d+=1,M=v}else M?(d+=M.rowSpan,M=null):d+=1;if(null!=(T=this.getCellData(p,k.leftCol+n,!1))&&""!==T)if((0,u.isNumber)(T)||(0,u.isDate)(T))if(r=(0,u.isNumber)(T)?"number":"date",(0,u.isDate)(T)&&(T=t._toOADate(T)),0===L.length)a=p,o=r,L.push(T),Y.push(d);else if(r===o)L.push(T),Y.push(d);else{if(i>=a&&i<=p)return{type:o,startIndex:a,endIndex:p-1,items:L,itemIndexes:Y};L.splice(0,L.length),Y.splice(0,Y.length)}else if(L.length>0){if(i>=a&&i<=p)return{type:o,startIndex:a,endIndex:p-1,items:L,itemIndexes:Y};L.splice(0,L.length),Y.splice(0,Y.length)}}else for(i=k.leftCol+i,d=0,p=k.leftCol;p<=k.rightCol;p++){if(v=this.getMergedRange(this.cells,k.topRow+n,p))if(M&&!v.equals(M)){if(d+=M.columnSpan,M=v,v.topRow!==k.topRow+n)continue}else{if(v.leftCol!==p||v.topRow!==k.topRow+n)continue;d+=1,M=v}else M?(d+=M.columnSpan,M=null):d+=1;if(null!=(T=this.getCellData(k.topRow+n,p,!1))&&""!==T)if((0,u.isNumber)(T)||(0,u.isDate)(T))if(r=(0,u.isNumber)(T)?"number":"date",(0,u.isDate)(T)&&(T=t._toOADate(T)),0===L.length)a=p,o=r,L.push(T),Y.push(d);else if(r===o)L.push(T),Y.push(d);else{if(i>=a&&i<=p)return{type:o,startIndex:a,endIndex:p-1,items:L,itemIndexes:Y};L.splice(0,L.length),Y.splice(0,Y.length)}else if(L.length>0){if(i>=a&&i<=p)return{type:o,startIndex:a,endIndex:p-1,items:L,itemIndexes:Y};L.splice(0,L.length),Y.splice(0,Y.length)}}return L.length>0?{type:o,startIndex:a,endIndex:p-1,items:L,itemIndexes:Y}:null},t.prototype._getLinearBestFitTrendData=function(e,n,i){var r,o,a,d,p=0,v=0,M=0,T=0;if(1===(d=e.length))return e[0]+i-1;for(r=0;r<n.length;r++)p+=o=n[r],M+=o*o,v+=a=e[r],T+=o*a;return i*((d*T-p*v)/(d*M-p*p))+(v*M-p*T)/(d*M-p*p)},t.prototype._getCellSettingsForFill=function(e,n){var i,r,o,a,d,p;for(e||(e=this._fillingSource),n||(n=this._fillingRange),d=[],i=n.topRow;i<=n.bottomRow;i++)for(r=n.leftCol;r<=n.rightCol;r++)i>=e.topRow&&i<=e.bottomRow&&r>=e.leftCol&&r<=e.rightCol||(o=this.getCellData(i,r,!1),a=this._cloneObject(this.selectedSheet.getCellStyle(i,r)),(p=this.getMergedRange(this.cells,i,r))&&p.topRow===i&&p.leftCol===r||(p=null),d.push({row:i,col:r,value:o,style:a,mergedCell:p?p.clone():null}));return d},t.prototype._resetCellsForFillRange=function(e){var n=0!=(e&js.CopyFormat),i=0!=(e&js.CopyContent),r=0!=(e&js.FillSeries);if(this._orgCellSettings&&this._orgCellSettings.length>0)for(var o=0;o<this._orgCellSettings.length;o++){var a=this._orgCellSettings[o],d=a.row,p=a.col;n||(this.selectedSheet._styledCells[d*this.columns.length+p]=a.style),i||r||this.setCellData(d,p,a.value)}},t.prototype._canDoFillOperation=function(){var e,n,i,r,o,a,d,p,v,M,T,ae=this._fillingSource,Ee=this._fillingRange,Me=!1;for(e=ae.topRow;e<=ae.bottomRow;e++)for(n=ae.leftCol;n<=ae.rightCol;n++)if(M=this.getMergedRange(this.cells,e,n),T){if(!M||!T.equals(M)){Me=!0;break}}else T=M;for(i=Ee.topRow;i<=Ee.bottomRow;i++)for((r=(o=i-ae.topRow)%ae.rowSpan)<0&&(r+=ae.rowSpan),r+=ae.topRow,a=Ee.leftCol;a<=Ee.rightCol;a++)if(p=a-ae.leftCol,!(o>=0&&o<ae.rowSpan&&p>=0&&p<ae.columnSpan)&&((d=p%ae.columnSpan)<0&&(d+=ae.columnSpan),M=this.getMergedRange(this.cells,r,d+=ae.leftCol),(v=this.getMergedRange(this.cells,i,a))&&(Me||!M||(v?i-v.topRow:NaN)!==(M?r-M.topRow:NaN)||(v?a-v.leftCol:NaN)!==(M?d-M.leftCol:NaN))))return!1;return!0},t.prototype._updateItemIndexForInsertingRow=function(e,n,i){for(var r=0;r<e.length;r++){var o=e[r];o&&null!=o._itemIdx&&o._itemIdx>=n&&(o._itemIdx+=i)}},t.prototype._updateItemIndexForRemovingRow=function(e,n){for(var i=0;i<e.length;i++){var r=e[i];r&&null!=r._itemIdx&&r._itemIdx>=n&&(r._itemIdx-=1)}},t.prototype._copyRowsToSelectedSheet=function(){var e=this;if(this.selectedSheet){this.selectedSheet.grid.rows.clear();for(var n=0;n<this.rows.length;n++){var i=this.rows[n];this.selectedSheet.grid.rows.push(i),i._list=this.rows}setTimeout(function(){e._setFlexSheetToDirty(),e.invalidate()},10)}},t.prototype._copyColumnsToSelectedSheet=function(){var e=this;if(this.selectedSheet){this.selectedSheet.grid.columns.clear();for(var n=0;n<this.columns.length;n++){var i=this.columns[n];this.selectedSheet.grid.columns.push(i),i._setList(this.columns)}setTimeout(function(){e._setFlexSheetToDirty(),e.invalidate()},10)}},t.prototype._getUniqueColumnName=function(){for(var e=1;null!=this.columns.getColumn("col"+e);)e++;return"col"+e},t.prototype._hideContextMenu=function(){this._contextMenu.hide(),this._tabHolder.sheetControl._contextMenu.hide()},t.prototype._parseFromWorkbookTable=function(e,n){var i,r,o,a,d,p,v,M,T,k,L,Y=n===this.selectedSheet?this:n.grid;if(o=(r=e.range.split(":"))[0],a=r[1],d=hn.tableAddress(o),i=new W(d.row,d.col),p=hn.tableAddress(a),i.row2=p.row,i.col2=p.col,i.bottomRow>=n.rowCount)for(L=i.bottomRow-n.rowCount+1,ce=0;ce<L;ce++)Y.rows.push(new Lt);if(i.rightCol>=n.columnCount)for(L=i.rightCol-n.columnCount+1,ce=0;ce<L;ce++)Y.columns.push(new $t);if(e.columns&&e.columns.length>0){v=[];for(var ce=0;ce<e.columns.length;ce++)v[ce]=new Hl((M=e.columns[ce]).name,M.totalRowLabel,M.totalRowFunction,M.showFilterButton)}return null!=e.style&&(T=this._isBuiltInStyleName(e.style.name)?this.getBuiltInTableStyle(e.style.name):this._parseFromWorkbookTableStyle(e.style)),k=new Ac(e.name,i,T,v,{showHeaderRow:e.showHeaderRow,showTotalRow:e.showTotalRow,showBandedColumns:e.showBandedColumns,showBandedRows:e.showBandedRows,alterFirstColumn:e.alterFirstColumn,alterLastColumn:e.alterLastColumn}),n.tables.push(k),k},t.prototype._parseFromWorkbookTableStyle=function(e){var n=new K(e.name);return null!=e.firstBandedColumnStyle&&(n.firstBandedColumnStyle=this._parseFromWorkbookTableStyleElement(e.firstBandedColumnStyle)),null!=e.firstBandedRowStyle&&(n.firstBandedRowStyle=this._parseFromWorkbookTableStyleElement(e.firstBandedRowStyle)),null!=e.firstColumnStyle&&(n.firstColumnStyle=this._parseFromWorkbookTableStyleElement(e.firstColumnStyle)),null!=e.firstHeaderCellStyle&&(n.firstHeaderCellStyle=this._parseFromWorkbookTableStyleElement(e.firstHeaderCellStyle)),null!=e.firstTotalCellStyle&&(n.firstTotalCellStyle=this._parseFromWorkbookTableStyleElement(e.firstTotalCellStyle)),null!=e.headerRowStyle&&(n.headerRowStyle=this._parseFromWorkbookTableStyleElement(e.headerRowStyle)),null!=e.lastColumnStyle&&(n.lastColumnStyle=this._parseFromWorkbookTableStyleElement(e.lastColumnStyle)),null!=e.lastHeaderCellStyle&&(n.lastHeaderCellStyle=this._parseFromWorkbookTableStyleElement(e.lastHeaderCellStyle)),null!=e.lastTotalCellStyle&&(n.lastTotalCellStyle=this._parseFromWorkbookTableStyleElement(e.lastTotalCellStyle)),null!=e.secondBandedColumnStyle&&(n.secondBandedColumnStyle=this._parseFromWorkbookTableStyleElement(e.secondBandedColumnStyle)),null!=e.secondBandedRowStyle&&(n.secondBandedRowStyle=this._parseFromWorkbookTableStyleElement(e.secondBandedRowStyle)),null!=e.totalRowStyle&&(n.totalRowStyle=this._parseFromWorkbookTableStyleElement(e.totalRowStyle)),null!=e.wholeTableStyle&&(n.wholeTableStyle=this._parseFromWorkbookTableStyleElement(e.wholeTableStyle)),n},t.prototype._parseFromWorkbookTableStyleElement=function(e){var n;return n={fontWeight:e.font&&e.font.bold?"bold":"none",fontStyle:e.font&&e.font.italic?"italic":"none",textDecoration:e.font&&e.font.underline?"underline":"none",fontFamily:e.font&&e.font.family?e.font.family:"",fontSize:e.font&&e.font.size?e.font.size+"px":"",color:e.font&&e.font.color?e.font.color:"",backgroundColor:e.fill&&e.fill.color?e.fill.color:""},e.borders&&(e.borders.left&&(la._parseBorderStyle(e.borders.left.style,"Left",n),n.borderLeftColor=e.borders.left.color),e.borders.right&&(la._parseBorderStyle(e.borders.right.style,"Right",n),n.borderRightColor=e.borders.right.color),e.borders.top&&(la._parseBorderStyle(e.borders.top.style,"Top",n),n.borderTopColor=e.borders.top.color),e.borders.bottom&&(la._parseBorderStyle(e.borders.bottom.style,"Bottom",n),n.borderBottomColor=e.borders.bottom.color),e.borders.vertical&&(la._parseBorderStyle(e.borders.vertical.style,"Vertical",n),n.borderVerticalColor=e.borders.vertical.color),e.borders.horizontal&&(la._parseBorderStyle(e.borders.horizontal.style,"Horizontal",n),n.borderHorizontalColor=e.borders.horizontal.color)),null!=e.size&&(n.size=e.size),n},t.prototype._parseToWorkbookTable=function(e){var n,i,r=new Fa,o=e.getRange(),a=e.getColumns();r.name=e.name,n=hn.xlsxAddress(o.topRow,o.leftCol),i=hn.xlsxAddress(o.bottomRow,o.rightCol),r.range=n+":"+i,null!=e.style&&(e.style.isBuiltIn?(r.style=new Ms,r.style.name=e.style.name):r.style=this._parseToWorkbookTableStyle(e.style)),r.showBandedColumns=e.showBandedColumns,r.showBandedRows=e.showBandedRows,r.showHeaderRow=e.showHeaderRow,r.showTotalRow=e.showTotalRow,r.alterFirstColumn=e.alterFirstColumn,r.alterLastColumn=e.alterLastColumn;for(var d=0;d<a.length;d++){var p=a[d],v=new vo;v.name=p.name,v.totalRowLabel=p.totalRowLabel,v.totalRowFunction=p.totalRowFunction,v.showFilterButton=p.showFilterButton,r.columns.push(v)}return r},t.prototype._parseToWorkbookTableStyle=function(e){var n=new Ms;return n.name=e.name,null!=e.firstBandedColumnStyle&&(n.firstBandedColumnStyle=this._parseToWorkbookTableStyleElement(e.firstBandedColumnStyle,!0)),null!=e.firstBandedRowStyle&&(n.firstBandedRowStyle=this._parseToWorkbookTableStyleElement(e.firstBandedRowStyle,!0)),null!=e.firstColumnStyle&&(n.firstColumnStyle=this._parseToWorkbookTableStyleElement(e.firstColumnStyle)),null!=e.firstHeaderCellStyle&&(n.firstHeaderCellStyle=this._parseToWorkbookTableStyleElement(e.firstHeaderCellStyle)),null!=e.firstTotalCellStyle&&(n.firstTotalCellStyle=this._parseToWorkbookTableStyleElement(e.firstTotalCellStyle)),null!=e.headerRowStyle&&(n.headerRowStyle=this._parseToWorkbookTableStyleElement(e.headerRowStyle)),null!=e.lastColumnStyle&&(n.lastColumnStyle=this._parseToWorkbookTableStyleElement(e.lastColumnStyle)),null!=e.lastHeaderCellStyle&&(n.lastHeaderCellStyle=this._parseToWorkbookTableStyleElement(e.lastHeaderCellStyle)),null!=e.lastTotalCellStyle&&(n.lastTotalCellStyle=this._parseToWorkbookTableStyleElement(e.lastTotalCellStyle)),null!=e.secondBandedColumnStyle&&(n.secondBandedColumnStyle=this._parseToWorkbookTableStyleElement(e.secondBandedColumnStyle,!0)),null!=e.secondBandedRowStyle&&(n.secondBandedRowStyle=this._parseToWorkbookTableStyleElement(e.secondBandedRowStyle,!0)),null!=e.totalRowStyle&&(n.totalRowStyle=this._parseToWorkbookTableStyleElement(e.totalRowStyle)),null!=e.wholeTableStyle&&(n.wholeTableStyle=this._parseToWorkbookTableStyleElement(e.wholeTableStyle)),n},t.prototype._parseToWorkbookTableStyleElement=function(e,n){void 0===n&&(n=!1);var i,r=la._parseCellStyle(e,!0);return n?(i=new wa).size=e.size:i=new is,i._deserialize(r),i},t.prototype._isBuiltInStyleName=function(e){var n;if(0===e.search(/TableStyleLight/i)){if(n=+e.substring(15),!isNaN(n)&&n>=1&&n<=21)return!0}else if(0===e.search(/TableStyleMedium/i)){if(n=+e.substring(16),!isNaN(n)&&n>=1&&n<=28)return!0}else if(0===e.search(/TableStyleDark/i)&&(n=+e.substring(14),!isNaN(n)&&n>=1&&n<=11))return!0;return!1},t.prototype._getTable=function(e){e=e.substr(e.lastIndexOf("!")+1);for(var n=0;n<this.sheets.length;n++)for(var i=this.sheets[n].tables,r=0;r<i.length;r++){var o=i[r];if(o.name.toLowerCase()===e.toLowerCase())return o}return null},t.prototype._checkTableHeaderRow=function(e,n){e.forEach(function(i){if(i.showHeaderRow)for(var r=i.getRange(J.Header),o=r.row,a=r.leftCol;a<=r.rightCol;a++){var d=n.sheets[0].rows[o].cells[a];if(d.isDate=!1,null==d.value||""===d.value){var p=a-r.leftCol;d.value=i._getColumns()[p].name}}})},t.prototype._getThemeColor=function(e,n){var i,r=this._colorThemes[e];return null!=n?((i=new u.Color("#"+r).getHsl())[2]=n<0?i[2]*(1+n):i[2]*(1-n)+(1-1*(1-n)),u.Color.fromHsl(i[0],i[1],i[2]).toString()):"#"+r},t.prototype._createBuiltInTableStyle=function(e){var n;if(0===e.search(/TableStyleLight/i)){if(n=+e.substring(15),!isNaN(n)&&n>=1&&n<=21)return n<=7?this._generateTableLightStyle1(n-1,e,!0):n<=14?this._generateTableLightStyle2(n-8,e):this._generateTableLightStyle1(n-15,e,!1)}else if(0===e.search(/TableStyleMedium/i)){if(n=+e.substring(16),!isNaN(n)&&n>=1&&n<=28)return n<=7?this._generateTableMediumStyle1(n-1,e):n<=14?this._generateTableMediumStyle2(n-8,e):n<=21?this._generateTableMediumStyle3(n-15,e):this._generateTableMediumStyle4(n-22,e)}else if(0===e.search(/TableStyleDark/i)&&(n=+e.substring(14),!isNaN(n)&&n>=1&&n<=11))return n<=7?this._generateTableDarkStyle1(n-1,e):this._generateTableDarkStyle2(n-8,e);return null},t.prototype._generateTableLightStyle1=function(e,n,i){var r=new K(n,!0),o=0===e?1:e+3,a=i?"1px":"2px",d=i?"solid":"double",p=i?"1px":"3px";return r.wholeTableStyle={borderTopColor:this._getThemeColor(o),borderTopStyle:"solid",borderTopWidth:"1px",borderBottomColor:this._getThemeColor(o),borderBottomStyle:"solid",borderBottomWidth:"1px"},r.firstColumnStyle={fontWeight:"bold"},r.lastColumnStyle={fontWeight:"bold"},r.headerRowStyle={borderBottomColor:this._getThemeColor(o),borderBottomStyle:"solid",borderBottomWidth:a,fontWeight:"bold"},r.totalRowStyle={borderTopColor:this._getThemeColor(o),borderTopStyle:d,borderTopWidth:p,fontWeight:"bold"},0===e?(r.wholeTableStyle.color=this._getThemeColor(o),r.firstColumnStyle.color=this._getThemeColor(o),r.lastColumnStyle.color=this._getThemeColor(o),r.headerRowStyle.color=this._getThemeColor(o),r.totalRowStyle.color=this._getThemeColor(o),r.firstBandedRowStyle={backgroundColor:this._getThemeColor(0,-.15)},r.firstBandedColumnStyle={backgroundColor:this._getThemeColor(0,-.15)}):(i?(r.wholeTableStyle.color=this._getThemeColor(o,-.25),r.firstColumnStyle.color=this._getThemeColor(o,-.25),r.lastColumnStyle.color=this._getThemeColor(o,-.25),r.headerRowStyle.color=this._getThemeColor(o,-.25),r.totalRowStyle.color=this._getThemeColor(o,-.25)):(r.wholeTableStyle.color=this._getThemeColor(1),r.firstColumnStyle.color=this._getThemeColor(1),r.lastColumnStyle.color=this._getThemeColor(1),r.headerRowStyle.color=this._getThemeColor(1),r.totalRowStyle.color=this._getThemeColor(1)),r.firstBandedRowStyle={backgroundColor:this._getThemeColor(o,.8)},r.firstBandedColumnStyle={backgroundColor:this._getThemeColor(o,.8)}),i||(r.wholeTableStyle.borderLeftColor=this._getThemeColor(o),r.wholeTableStyle.borderLeftStyle="solid",r.wholeTableStyle.borderLeftWidth="1px",r.wholeTableStyle.borderRightColor=this._getThemeColor(o),r.wholeTableStyle.borderRightStyle="solid",r.wholeTableStyle.borderRightWidth="1px",r.wholeTableStyle.borderHorizontalColor=this._getThemeColor(o),r.wholeTableStyle.borderHorizontalStyle="solid",r.wholeTableStyle.borderHorizontalWidth="1px",r.wholeTableStyle.borderVerticalColor=this._getThemeColor(o),r.wholeTableStyle.borderVerticalStyle="solid",r.wholeTableStyle.borderVerticalWidth="1px"),r},t.prototype._generateTableLightStyle2=function(e,n){var i=new K(n,!0),r=0===e?1:e+3;return i.wholeTableStyle={borderTopColor:this._getThemeColor(r),borderTopStyle:"solid",borderTopWidth:"1px",borderBottomColor:this._getThemeColor(r),borderBottomStyle:"solid",borderBottomWidth:"1px",borderLeftColor:this._getThemeColor(r),borderLeftStyle:"solid",borderLeftWidth:"1px",borderRightColor:this._getThemeColor(r),borderRightStyle:"solid",borderRightWidth:"1px",color:this._getThemeColor(1)},i.firstBandedRowStyle={borderTopColor:this._getThemeColor(r),borderTopStyle:"solid",borderTopWidth:"1px"},i.secondBandedRowStyle={borderTopColor:this._getThemeColor(r),borderTopStyle:"solid",borderTopWidth:"1px"},i.firstBandedColumnStyle={borderLeftColor:this._getThemeColor(r),borderLeftStyle:"solid",borderLeftWidth:"1px"},i.secondBandedColumnStyle={borderLeftColor:this._getThemeColor(r),borderLeftStyle:"solid",borderLeftWidth:"1px"},i.firstColumnStyle={fontWeight:"bold",color:this._getThemeColor(1)},i.lastColumnStyle={fontWeight:"bold",color:this._getThemeColor(1)},i.headerRowStyle={backgroundColor:this._getThemeColor(r),fontWeight:"bold",color:this._getThemeColor(0)},i.totalRowStyle={borderTopColor:this._getThemeColor(r),borderTopStyle:"double",borderTopWidth:"3px",fontWeight:"bold",color:this._getThemeColor(1)},i},t.prototype._generateTableMediumStyle1=function(e,n){var i=new K(n,!0),r=0===e?1:e+3;return i.wholeTableStyle={borderTopStyle:"solid",borderTopWidth:"1px",borderBottomStyle:"solid",borderBottomWidth:"1px",borderLeftStyle:"solid",borderLeftWidth:"1px",borderRightStyle:"solid",borderRightWidth:"1px",borderHorizontalStyle:"solid",borderHorizontalWidth:"1px",color:this._getThemeColor(1)},0===e?(i.wholeTableStyle.borderTopColor=this._getThemeColor(r),i.wholeTableStyle.borderBottomColor=this._getThemeColor(r),i.wholeTableStyle.borderLeftColor=this._getThemeColor(r),i.wholeTableStyle.borderRightColor=this._getThemeColor(r),i.wholeTableStyle.borderHorizontalColor=this._getThemeColor(r),i.firstBandedRowStyle={backgroundColor:this._getThemeColor(0,-.15)},i.firstBandedColumnStyle={backgroundColor:this._getThemeColor(0,-.15)}):(i.wholeTableStyle.borderTopColor=this._getThemeColor(r,.4),i.wholeTableStyle.borderBottomColor=this._getThemeColor(r,.4),i.wholeTableStyle.borderLeftColor=this._getThemeColor(r,.4),i.wholeTableStyle.borderRightColor=this._getThemeColor(r,.4),i.wholeTableStyle.borderHorizontalColor=this._getThemeColor(r,.4),i.firstBandedRowStyle={backgroundColor:this._getThemeColor(r,.8)},i.firstBandedColumnStyle={backgroundColor:this._getThemeColor(r,.8)}),i.firstColumnStyle={fontWeight:"bold",color:this._getThemeColor(1)},i.lastColumnStyle={fontWeight:"bold",color:this._getThemeColor(1)},i.headerRowStyle={backgroundColor:this._getThemeColor(r),fontWeight:"bold",color:this._getThemeColor(0)},i.totalRowStyle={borderTopColor:this._getThemeColor(r),borderTopStyle:"double",borderTopWidth:"3px",fontWeight:"bold",color:this._getThemeColor(1)},i},t.prototype._generateTableMediumStyle2=function(e,n){var i=new K(n,!0),r=0===e?1:e+3;return i.wholeTableStyle={borderVerticalStyle:"solid",borderVerticalWidth:"1px",borderVerticalColor:this._getThemeColor(0),borderHorizontalStyle:"solid",borderHorizontalWidth:"1px",borderHorizontalColor:this._getThemeColor(0),color:this._getThemeColor(1)},0===e?(i.wholeTableStyle.backgroundColor=this._getThemeColor(0,-.15),i.firstBandedRowStyle={backgroundColor:this._getThemeColor(0,-.35)},i.firstBandedColumnStyle={backgroundColor:this._getThemeColor(0,-.35)}):(i.wholeTableStyle.backgroundColor=this._getThemeColor(r,.8),i.firstBandedRowStyle={backgroundColor:this._getThemeColor(r,.6)},i.firstBandedColumnStyle={backgroundColor:this._getThemeColor(r,.6)}),i.firstColumnStyle={fontWeight:"bold",color:this._getThemeColor(0),backgroundColor:this._getThemeColor(r)},i.lastColumnStyle={fontWeight:"bold",color:this._getThemeColor(0),backgroundColor:this._getThemeColor(r)},i.headerRowStyle={borderBottomColor:this._getThemeColor(0),borderBottomStyle:"solid",borderBottomWidth:"3px",backgroundColor:this._getThemeColor(r),fontWeight:"bold",color:this._getThemeColor(0)},i.totalRowStyle={borderTopColor:this._getThemeColor(0),borderTopStyle:"solid",borderTopWidth:"3px",backgroundColor:this._getThemeColor(r),fontWeight:"bold",color:this._getThemeColor(0)},i},t.prototype._generateTableMediumStyle3=function(e,n){var i=new K(n,!0),r=0===e?1:e+3;return i.wholeTableStyle={borderTopStyle:"solid",borderTopWidth:"2px",borderTopColor:this._getThemeColor(1),borderBottomStyle:"solid",borderBottomWidth:"2px",borderBottomColor:this._getThemeColor(1),color:this._getThemeColor(1)},0===e&&(i.wholeTableStyle.borderLeftColor=this._getThemeColor(1),i.wholeTableStyle.borderLeftStyle="solid",i.wholeTableStyle.borderLeftWidth="1px",i.wholeTableStyle.borderRightColor=this._getThemeColor(1),i.wholeTableStyle.borderRightStyle="solid",i.wholeTableStyle.borderRightWidth="1px",i.wholeTableStyle.borderVerticalColor=this._getThemeColor(1),i.wholeTableStyle.borderVerticalStyle="solid",i.wholeTableStyle.borderVerticalWidth="1px",i.wholeTableStyle.borderHorizontalColor=this._getThemeColor(1),i.wholeTableStyle.borderHorizontalStyle="solid",i.wholeTableStyle.borderHorizontalWidth="1px"),i.firstBandedRowStyle={backgroundColor:this._getThemeColor(0,-.35)},i.firstBandedColumnStyle={backgroundColor:this._getThemeColor(0,-.35)},i.firstColumnStyle={fontWeight:"bold",color:this._getThemeColor(0),backgroundColor:this._getThemeColor(r)},i.lastColumnStyle={fontWeight:"bold",color:this._getThemeColor(0),backgroundColor:this._getThemeColor(r)},i.headerRowStyle={borderBottomColor:this._getThemeColor(1),borderBottomStyle:"solid",borderBottomWidth:"2px",backgroundColor:this._getThemeColor(r),fontWeight:"bold",color:this._getThemeColor(0)},i.totalRowStyle={borderTopColor:this._getThemeColor(1),borderTopStyle:"double",borderTopWidth:"3px"},i},t.prototype._generateTableMediumStyle4=function(e,n){var i=new K(n,!0),r=0===e?1:e+3;return i.wholeTableStyle={borderTopStyle:"solid",borderTopWidth:"1px",borderBottomStyle:"solid",borderBottomWidth:"1px",borderLeftStyle:"solid",borderLeftWidth:"1px",borderRightStyle:"solid",borderRightWidth:"1px",borderVerticalStyle:"solid",borderVerticalWidth:"1px",borderHorizontalStyle:"solid",borderHorizontalWidth:"1px",color:this._getThemeColor(1)},0===e?(i.wholeTableStyle.borderTopColor=this._getThemeColor(r),i.wholeTableStyle.borderBottomColor=this._getThemeColor(r),i.wholeTableStyle.borderLeftColor=this._getThemeColor(r),i.wholeTableStyle.borderRightColor=this._getThemeColor(r),i.wholeTableStyle.borderVerticalColor=this._getThemeColor(r),i.wholeTableStyle.borderHorizontalColor=this._getThemeColor(r),i.wholeTableStyle.backgroundColor=this._getThemeColor(0,-.15),i.firstBandedRowStyle={backgroundColor:this._getThemeColor(0,-.35)},i.firstBandedColumnStyle={backgroundColor:this._getThemeColor(0,-.35)}):(i.wholeTableStyle.borderTopColor=this._getThemeColor(r,.4),i.wholeTableStyle.borderBottomColor=this._getThemeColor(r,.4),i.wholeTableStyle.borderLeftColor=this._getThemeColor(r,.4),i.wholeTableStyle.borderRightColor=this._getThemeColor(r,.4),i.wholeTableStyle.borderVerticalColor=this._getThemeColor(r,.4),i.wholeTableStyle.borderHorizontalColor=this._getThemeColor(r,.4),i.wholeTableStyle.backgroundColor=this._getThemeColor(r,.8),i.firstBandedRowStyle={backgroundColor:this._getThemeColor(r,.6)},i.firstBandedColumnStyle={backgroundColor:this._getThemeColor(r,.6)}),i.firstColumnStyle={fontWeight:"bold",color:this._getThemeColor(1)},i.lastColumnStyle={fontWeight:"bold",color:this._getThemeColor(1)},i.headerRowStyle={fontWeight:"bold",color:this._getThemeColor(1)},i.totalRowStyle={borderTopColor:this._getThemeColor(r),borderTopStyle:"solid",borderTopWidth:"2px",fontWeight:"bold",color:this._getThemeColor(1)},i},t.prototype._generateTableDarkStyle1=function(e,n){var i=new K(n,!0),r=0===e?1:e+3,o=0===e?.25:-.25;return i.wholeTableStyle={color:this._getThemeColor(0)},i.firstBandedRowStyle={backgroundColor:this._getThemeColor(r,o)},i.firstBandedColumnStyle={backgroundColor:this._getThemeColor(r,o)},i.firstColumnStyle={borderRightColor:this._getThemeColor(0),borderRightStyle:"solid",borderRightWidth:"2px",fontWeight:"bold",color:this._getThemeColor(0),backgroundColor:this._getThemeColor(r,o)},i.lastColumnStyle={borderLeftColor:this._getThemeColor(0),borderLeftStyle:"solid",borderLeftWidth:"2px",fontWeight:"bold",color:this._getThemeColor(0),backgroundColor:this._getThemeColor(r,o)},i.headerRowStyle={borderBottomColor:this._getThemeColor(0),borderBottomStyle:"solid",borderBottomWidth:"2px",fontWeight:"bold",color:this._getThemeColor(0),backgroundColor:this._getThemeColor(1)},i.totalRowStyle={borderTopColor:this._getThemeColor(0),borderTopStyle:"solid",borderTopWidth:"2px",fontWeight:"bold",color:this._getThemeColor(0)},0===e?(i.wholeTableStyle.backgroundColor=this._getThemeColor(r,.5),i.totalRowStyle.backgroundColor=this._getThemeColor(r,.15)):(i.wholeTableStyle.backgroundColor=this._getThemeColor(r),i.totalRowStyle.backgroundColor=this._getThemeColor(r,-.5)),i},t.prototype._generateTableDarkStyle2=function(e,n){var i=new K(n,!0),r=0===e?0:2*e+2,o=0===e?1:2*e+3,a=0===e?-.15:.8;return i.wholeTableStyle={backgroundColor:this._getThemeColor(r,a)},i.firstBandedRowStyle={backgroundColor:this._getThemeColor(r,a-.2)},i.firstBandedColumnStyle={backgroundColor:this._getThemeColor(r,a-.2)},i.firstColumnStyle={fontWeight:"bold",color:this._getThemeColor(1)},i.lastColumnStyle={fontWeight:"bold",color:this._getThemeColor(1)},i.headerRowStyle={color:this._getThemeColor(0),backgroundColor:this._getThemeColor(o)},i.totalRowStyle={borderTopColor:this._getThemeColor(1),borderTopStyle:"double",borderTopWidth:"3px",fontWeight:"bold",color:this._getThemeColor(1)},i},t._getHeaderRowText=function(e){var n=e.binding,i=e._hdr;return null!=i&&""!=i.trim()||(i=(0,u.toHeaderCase)(n||"")),i},t._toOADate=function(e){var n,i=new Date(1900,0,0),r=Date.UTC(1900,0,0),o=i.getTime()-r-6e4*i.getTimezoneOffset(),a=6e4*(e.getTimezoneOffset()-i.getTimezoneOffset());return(n=(e.getTime()-i.getTime()-(0!==a?a-o:0))/864e5)+(n>59?1:0)},t._fromOADate=function(e){var n,i,r,o=new Date(1900,0,0),a=Date.UTC(1900,0,0),d=o.getTime()-a-6e4*o.getTimezoneOffset();return i=e>59?1:0,0!=(n=6e4*((r=new Date(o.getTime()+864e5*(e-i))).getTimezoneOffset()-o.getTimezoneOffset()))?new Date(o.getTime()+n-d+864e5*(e-i)):r},t.controlTemplate='<div style="width:100%;height:100%"><div wj-part="container" style="width:100%">'+It.controlTemplate+'</div><div wj-part="tab-holder" class="wj-tabholder" style="width:100%; min-width:100px"></div><div wj-part="context-menu" style="display:none;z-index:100"></div></div>',t}(It),sl=function(s){function t(e,n,i){var r=s.call(this)||this;return r._draggingRange=e,r._isDraggingRows=n,r._isShiftKey=i,r}return yr(t,s),Object.defineProperty(t.prototype,"draggingRange",{get:function(){return this._draggingRange},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDraggingRows",{get:function(){return this._isDraggingRows},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isShiftKey",{get:function(){return this._isShiftKey},enumerable:!0,configurable:!0}),t}(u.EventArgs),Wd=function(s){function t(e,n){var i=s.call(this)||this;return i._droppingRange=e,i._isDroppingRows=n,i}return yr(t,s),Object.defineProperty(t.prototype,"droppingRange",{get:function(){return this._droppingRange},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDroppingRows",{get:function(){return this._isDroppingRows},enumerable:!0,configurable:!0}),t}(u.CancelEventArgs),Ud=function(s){function t(e,n){var i=s.call(this)||this;return i._funcName=e,i._params=n,i}return yr(t,s),Object.defineProperty(t.prototype,"funcName",{get:function(){return this._funcName},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"params",{get:function(){return this._params},enumerable:!0,configurable:!0}),t}(u.EventArgs),La=function(s){function t(e,n,i,r){var o=s.call(this)||this;if((0,u.isArray)(e))if(o._ranges=e,o._added=n,1===e.length){var a=e[0];i?(o._index=a.leftCol,o._count=a.columnSpan):(o._index=a.topRow,o._count=a.rowSpan)}else o._index=-1,o._count=-1;else o._index=e,o._count=n,o._added=i,o._ranges=r?[new W(-1,o._index,-1,o._index+o._count-1)]:[new W(o._index,-1,o._index+o._count-1,-1)];return o}return yr(t,s),Object.defineProperty(t.prototype,"ranges",{get:function(){return this._ranges},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"index",{get:function(){return this._index},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"count",{get:function(){return this._count},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"added",{get:function(){return this._added},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isAdd",{get:function(){return(0,u._deprecated)("RowColumnChangedEventArgs.isAdd","RowColumnChangedEventArgs.added"),this._added},enumerable:!0,configurable:!0}),t}(u.EventArgs),xu=function(s){function t(e,n){var i=s.call(this)||this;return i._range=e,i._op=n,i}return yr(t,s),Object.defineProperty(t.prototype,"range",{get:function(){return this._range},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"operation",{get:function(){return this._op},enumerable:!0,configurable:!0}),t}(u.CancelEventArgs),Gd=function(s){function t(e,n){var i=s.call(this)||this;return i._range=e,i._op=n,i}return yr(t,s),Object.defineProperty(t.prototype,"range",{get:function(){return this._range},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"operation",{get:function(){return this._op},enumerable:!0,configurable:!0}),t}(u.EventArgs),ra=function(s){function t(e,n,i,r,o){var a=s.call(this,e,n,i,r,o)||this;return a._drkColors={},a}return yr(t,s),t.prototype.getSelectedState=function(e,n,i){if(this.grid){var r=this.grid.selectedSheet,o=r?r.selectionRanges:null,a=o?o.length:0,d=s.prototype.getSelectedState.call(this,e,n,i);if(d===jt.None&&a>0)for(var p=this.grid.getMergedRange(this,e,n),v=this.columns.length-1,M=this.rows.length-1,T=0;T<o.length;T++){var k=o[T];if(k&&k instanceof W){if(this.cellType===X.Cell){if(p){if(p.contains(k.row,k.col))return T!==a-1||this.grid._isClicking?jt.Selected:this.grid.showMarquee?jt.None:jt.Cursor;if(p.intersects(k))return jt.Selected}if(k.row===e&&k.col===n)return T!==a-1||this.grid._isClicking?jt.Selected:this.grid.showMarquee?jt.None:jt.Cursor;if(k.contains(e,n))return jt.Selected}if(this.cellType===X.RowHeader&&this.grid.showSelectedHeaders&On.Row&&n===v&&k.containsRow(e)||this.cellType===X.ColumnHeader&&this.grid.showSelectedHeaders&On.Column&&e===M&&k.containsColumn(n))return jt.Selected}}return d}},t.prototype.getCellData=function(e,n,i){if((0,u.isString)(n)&&(n=this.columns.indexOf(n))<0)throw"Invalid column name or binding.";if(e>=this.rows.length||(0,u.asNumber)(n,!1,!0)>=this.columns.length)return null;if(this.cellType===X.RowHeader)return e+1+"";var r=this.columns[(0,u.asNumber)(n,!1,!0)],o=this.grid?this.grid._getBindingColumn(this,e,r):r,a=this.grid;if(this.cellType===X.ColumnHeader){var d=this.rows[e];if(d&&d._ubv&&null!=d._ubv[r._hash])return s.prototype.getCellData.call(this,e,n,i);var p=o.header;return null==o._hdr||o._hdr==o._orgHdr||p===o.binding||p===(0,u.toHeaderCase)(o.binding)?ia.convertNumberToAlpha(n):p}if(i&&(!o||!o.dataMap)){if(Ta(this.grid,e,n)){var v=s.prototype.getCellData.call(this,e,n,!1);return u.Globalize.format(v,null)}var M=a&&a._getCellStyle(e,n);if(M&&M.format&&(v=s.prototype.getCellData.call(this,e,n,!1),(0,u.isDate)(v)||(0,u.isNumber)(v)))return u.Globalize.format(v,M.format)}return s.prototype.getCellData.call(this,e,n,i)},t.prototype.setCellData=function(e,n,i,r,o){if(void 0===r&&(r=!0),void 0===o&&(o=!0),e>=this.rows.length||n>=this.columns.length)return!1;var a,d=this.grid,p=d?d._getBindingColumn(this,e,this.columns[n]):this.columns[n],v=this.rows[e];i instanceof Yd&&(a=i.format,i=i.value),d&&d._isPasting&&(r=!0);var M=(0,u.isString)(i);if(d&&d.selectedSheet){var T=d.selectedSheet.findTable(e,n);if(T&&T._isHeaderRow(e)){if(null==i||M&&(0,u.isNullOrWhiteSpace)(i)&&!p.dataMap)return;if(!(v instanceof as))return i=p.dataType===u.DataType.Boolean&&(0,u.isBoolean)(i)?i:i.toString(),T._attached&&d._updateFormulasTableColumn(T,n,this.getCellData(e,n,!1)+"",i+""),s.prototype.setCellData.call(this,e,n,i,!1,o);v._ubv[p._hash]=i.toString()}}var k=M&&"'"===i[0],L=M&&Fo(i);if(r&&i&&p.dataType!==u.DataType.String&&M&&!k&&!L){var Y=u.culture.Globalize;if(this.getCellData(e,n,!0)===i)return!0;var ce=d?d._getCellStyle(e,n):null,ae=a||ce&&ce.format||p.format,Ee=null;if(ae&&/[yYMhsmt\:-]/.test(ae)&&!/[pc]/.test(ae)&&(Ee=u.Globalize.parseDate(i,ae)),null==Ee&&i.indexOf(Y.calendar["/"])>=0&&(Ee=u.Globalize.parseDate(i,null)),Ee)i=Ee;else{var Me=!1,ze=!1;if((0,u.isNullOrWhiteSpace)(i)||!(ze="%"===i[i.length-1])&&!(Me=i.indexOf(Y.numberFormat.currency.symbol)>=0)&&/[^-\d,\.]/.test(i))p.dataType===u.DataType.Boolean&&(i=(0,u.changeType)(i,u.DataType.Boolean,null));else{var st=(0,u.changeType)(i,u.DataType.Number,"");(0,u.isNumber)(st)?(i=st,ae||p.dataType&&p.dataType!==u.DataType.Number||(Me?d.applyCellsStyle({format:"C"+((0,u.isInt)(i)?"0":"")},[new W(e,n)]):ze&&d.applyCellsStyle({format:"P"+((0,u.isInt)(100*i)?"0":"")},[new W(e,n)]))):r=!1}}}if((L||k||!p.dataType&&i)&&(r=!1),""===i&&r&&p.dataType!==u.DataType.String&&!p.dataMap&&!v.dataMap&&(i=null,r=!1),!(v instanceof as))return s.prototype.setCellData.call(this,e,n,i,r,o);v._ubv[p._hash]=i},t.prototype._renderCell=function(e,n,i,r,o,a){var d=n*this.grid.columns.length+i,p=this.grid.getMergedRange(this,n,i),v=s.prototype._renderCell.call(this,e,n,i,r,o,a);if(this.cellType!==X.Cell||p&&d>p.topRow*this.grid.columns.length+p.leftCol||this.columns[i].renderSize<=0&&(!p||p.getRenderSize(this).width<=0))return v;var M=e.childNodes[a];if(M){var T=this.grid.selectedSheet;if(T&&!Ta(this.grid,n,i)){var k=T.findTable(n,i);k&&k._updateCell(n,i,M)}var L=T?T._styledCells[d]:null,Y=void 0;(0,u.hasClass)(M,"wj-state-selected")||(Y=(0,u.hasClass)(M,"wj-state-multi-selected"))?(L&&L.backgroundColor&&(M.style.backgroundColor=""),L&&L.color&&(M.style.color=""),Y&&L&&L.backgroundColor&&(M.style.backgroundColor=this._darker(L.backgroundColor))):L&&(""!==L.backgroundColor&&(M.style.backgroundColor=L.backgroundColor),""!==L.color&&(M.style.color=L.color))}return v},t.prototype._darker=function(e){var n=this._drkColors[e];if(!n){var i=new u.Color(e).getHsl();this._drkColors[e]=n=u.Color.fromHsl(i[0],i[1],.75*i[2]).toString()}return n},t}(de),as=function(s){function t(){var e=s.call(this)||this;return e.isReadOnly=!0,e}return yr(t,s),t}(Lt);function Fo(s){return s&&"string"==typeof s&&s.length>1&&"="===s[0]&&"="!==s[1]}function Ta(s,t,e){var n=s.editRange;return n&&n.contains(t,e)}function od(s){if(s){var t=s.match(/^[cdefgnprx](\d?)/i);if(t){var e=t[0][0].toLowerCase();return"d"!==e&&"e"!==e&&"f"!==e&&"g"!==e||!!t[1]}}return!1}!function(s){s[s.CopyFormat=1]="CopyFormat",s[s.CopyContent=2]="CopyContent",s[s.FillSeries=4]="FillSeries"}(js||(js={}));var Rs,ls,lr,_i,zl=function(){function s(){}return s.validateRowRanges=function(t,e){return this._validateCellRanges(t,e,"topRow","bottomRow","row2")},s.excludeRow=function(t,e){if(t&&t.length)for(var n=0;n<t.length;n++){var i=t[n];i.containsRow(e)&&(1===i.rowSpan?(t.splice(n),n--):i.topRow===e?i.setRange(i.topRow+1,i.col,i.bottomRow,i.col2):i.bottomRow===e?i.setRange(i.topRow,i.col,i.bottomRow-1,i.col2):(t.splice(n,1,new W(i.topRow,i.col,e-1,i.col2),new W(e+1,i.col,i.bottomRow,i.col2)),n++))}},s.validateColumnRanges=function(t,e){return this._validateCellRanges(t,e,"leftCol","rightCol","col2")},s._validateCellRanges=function(t,e,n,i,r){var o=(t=t.filter(function(M){return M&&M[n]>=0&&M[i]>=0&&M[n]<e&&M[i]<e})).length;if(o>1){for(var a=[],d=(t=t.sort(function(M,T){return T[n]>=M[n]&&T[i]<=M[i]?-1:M[n]-T[n]}))[0].clone(),p=1;p<o;p++){var v=t[p];v[n]>=d[n]&&v[i]<=d[i]||(v[n]<=d[i]+1?d[r]=v[i]:(a.push(d),d=v.clone())),p===o-1&&a.push(d)}t=a}return t},s}(),Yd=function(t,e){this.value=t,this.format=e},Ga=function(){function s(t){var e=this;this.MAX_STACK_SIZE=500,this._stack=[],this._pointer=-1,this._resizingTriggered=!1,this.undoStackChanged=new u.Event;var n=this;n._owner=t,n._owner.prepareCellForEdit.addHandler(n._initCellEditAction,n),n._owner.cellEditEnded.addHandler(function(i,r){n._pendingAction&&(!r.data||46!==r.data.keyCode&&8!==r.data.keyCode)&&n._pendingAction instanceof se&&!n._pendingAction.isPaste&&n._afterProcessCellEditAction(n)},n),n._owner.pasting.addHandler(n._initCellEditActionForPasting,n),n._owner.pastingCell.addHandler(function(i,r){n._pendingAction&&(n._pendingAction instanceof se||n._pendingAction instanceof Ls)&&n._pendingAction.updateForPasting(r.range)},n),n._owner.pasted.addHandler(function(){n._pendingAction&&(n._pendingAction instanceof se&&n._pendingAction.isPaste?n._afterProcessCellEditAction(n):n._pendingAction instanceof Ls&&(n._pendingAction.saveNewState(),n._addAction(n._pendingAction),n._pendingAction=null))},n),n._owner.resizingColumn.addHandler(function(i,r){0!==n.stackSize&&n._owner.selectedSheet&&!n._resizingTriggered&&(n._pendingAction=new Ie(n._owner,r.panel,r.col),n._resizingTriggered=!0)},n),n._owner.resizedColumn.addHandler(function(i,r){n._pendingAction instanceof Ie&&n._pendingAction.saveNewState()&&n._addAction(n._pendingAction),n._pendingAction=null,n._resizingTriggered=!1},n),n._owner.resizingRow.addHandler(function(i,r){0!==n.stackSize&&n._owner.selectedSheet&&!n._resizingTriggered&&(n._pendingAction=new $e(n._owner,r.panel,r.row),n._resizingTriggered=!0)},n),n._owner.resizedRow.addHandler(function(i,r){n._pendingAction instanceof $e&&n._pendingAction.saveNewState()&&n._addAction(n._pendingAction),n._pendingAction=null,n._resizingTriggered=!1},n),n._owner.draggingRowColumn.addHandler(function(i,r){0!==n.stackSize&&n._owner.selectedSheet&&r.isShiftKey&&(n._pendingAction=r.isDraggingRows?new Qt(n._owner):new ct(n._owner))},n),n._owner.endDroppingRowColumn.addHandler(function(i,r){!r.cancel&&n._pendingAction&&n._pendingAction.saveNewState()&&n._addAction(n._pendingAction),n._pendingAction=null},n),n._owner.sheets.collectionChanged.addHandler(function(i,r){if(r.action===u.NotifyCollectionChangedAction.Remove){for(var o=0;o<e._stack.length;o++)e._stack[o].sheetUid===r.item._uid&&(e._stack.splice(o,1),o--);e._pointer=Math.min(e._pointer,e._stack.length-1)}}),n._owner.sheets.sheetCleared.addHandler(function(){return e.clear()})}return Object.defineProperty(s.prototype,"stackSize",{get:function(){return null==this._stackSize?this.MAX_STACK_SIZE:this._stackSize},set:function(t){(0,u.isNumber)(t)&&(this._stackSize=t<0?0:t>this.MAX_STACK_SIZE?this.MAX_STACK_SIZE:Math.floor(t))},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"canUndo",{get:function(){return this._pointer>-1&&this._pointer<this._stack.length},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"canRedo",{get:function(){return this._pointer+1>-1&&this._pointer+1<this._stack.length},enumerable:!0,configurable:!0}),s.prototype.onUndoStackChanged=function(t){this.undoStackChanged.raise(this,t)},s.prototype.undo=function(){if(this.canUndo){var t=this._stack[this._pointer];this._beforeUndoRedo(t),t.undo(),this._pointer--,this.onUndoStackChanged()}},s.prototype.redo=function(){if(this.canRedo){this._pointer++;var t=this._stack[this._pointer];this._beforeUndoRedo(t),t.redo(),this.onUndoStackChanged()}},s.prototype.clear=function(){this._stack.length=0,this._pointer=-1},s.prototype._addAction=function(t){this._stack.length>0&&this._stack.length>this._pointer+1&&this._stack.splice(this._pointer+1,this._stack.length-this._pointer-1),this._stack.length>=this.stackSize&&this._stack.splice(0,this._stack.length-this.stackSize+1),this._pointer=this._stack.length,this._stack.push(t),this.onUndoStackChanged()},s.prototype._pop=function(){var t;return this._pointer<0?null:(t=this._stack[this._pointer],this._pointer--,t)},s.prototype._initCellEditAction=function(t,e){0!==this.stackSize&&this._owner.selectedSheet&&(this._pendingAction=new se(this._owner,e.range))},s.prototype._initCellEditActionForPasting=function(){0!==this.stackSize&&this._owner.selectedSheet&&(this._owner._isCutting?this._pendingAction=new Ls(this._owner):(this._pendingAction=new se(this._owner),this._pendingAction.markIsPaste()))},s.prototype._afterProcessCellEditAction=function(t){t._pendingAction&&(t._pendingAction instanceof se&&t._pendingAction.saveNewState()&&t._addAction(this._pendingAction),t._pendingAction=null)},s.prototype._beforeUndoRedo=function(t){for(var e=this._owner.sheets,n=0;n<e.length;n++)if(e[n]._uid===t.sheetUid){this._owner.selectedSheetIndex=n;break}},s}(),sd=function(s){function t(){return null!==s&&s.apply(this,arguments)||this}return yr(t,s),t.prototype.updateEditor=function(){var e=this,n=this.filter.column,i=n.grid;if(this.filter.uniqueValues||null!=i.itemsSource&&null!=i.childItemsPath)s.prototype.updateEditor.call(this);else{var r=i.filter._getValueFilters(n),o=this.filter.showValues;if(o&&0!=Object.keys(o).length){for(var a in o)for(d=0;d<r.length;d++)if(o[a]&&""!==r[d].cellRef&&r[d].cellRef===o[a].cellRef)o[r[d].text]={show:!0,cellRef:r[d].cellRef},r[d].show=!0,r[d].text!=a&&delete o[a];else if(r[d].text==a){r[d].show=!0;break}}else for(var d=0;d<r.length;d++)r[d].show=!0;this._lbValues.isContentHtml=n.isContentHtml,this._cmbFilter.text=this.filter.filterText,this._filterText=this._cmbFilter.text.toLowerCase(),this._view.pageSize=this.filter.maxValues,this._view.sourceCollection=r,setTimeout(function(){e._adjustWidths()},0)}},t.prototype.updateFilter=function(){var e=null,n=this._view.items;if(this._filterText||this._cbSelectAll.indeterminate){e={};for(var i=0;i<n.length;i++){var r=n[i];r.show&&(e[r.text]={show:!0,cellRef:r.cellRef})}}this._filter.showValues=e,this._filter.filterText=this._filterText},t}(Dl),Qh=function(s){function t(e){return s.call(this,e)||this}return yr(t,s),t.prototype.apply=function(e){var n,i,r,o,a=this.column,d=a.grid,p=this.condition1,v=this.condition2;if(!(d instanceof ia)||!this.isActive||d.rows[e]instanceof Ge)return!0;""===(n=d.getCellValue(e,a.index))&&a.dataType!==u.DataType.String&&(n=null),i=r=n,(o=this.dataMap||a.dataMap)?i=r=n=o.getDisplayValue(n):(0,u.isDate)(n)?((0,u.isString)(p.value)||(0,u.isString)(v.value))&&(i=r=n=d.getCellValue(e,a.index,!0)):(0,u.isNumber)(n)?(i=r=n=u.Globalize.parseFloat(d.getCellValue(e,a.index,!0)),0===n&&!a.dataType&&(p.isActive&&""===p.value&&(i=n.toString()),v.isActive&&""===v.value&&(r=r.toString()))):null==n&&(p.isActive&&(0,u.isNumber)(p.value)&&(i=NaN),v.isActive&&(0,u.isNumber)(v.value)&&(r=NaN));var M=p.apply(i),T=v.apply(r);return p.isActive&&v.isActive?this.and?M&&T:M||T:p.isActive?M:!v.isActive||T},t}(ml),ef=function(s){function t(e){return s.call(this,e)||this}return yr(t,s),t.prototype.apply=function(e){var n,i=this.column.grid;return!(i instanceof ia&&this.showValues&&Object.keys(this.showValues).length)||i.rows[e]instanceof Ge||(e=(n=this.dataMap||this.column.dataMap)?n.getDisplayValue(i.getCellValue(e,this.column.index)):i.getCellValue(e,this.column.index,!0),null!=this.showValues[e])},t}(eo),Su=function(s){function t(e,n){var i=s.call(this,e,n)||this;return i._valueFilter=new ef(n),i._valueFilter.exclusiveValueSearch=e.exclusiveValueSearch,i._conditionFilter=new Qh(n),i}return yr(t,s),t}(qa),Mu=function(s){function t(e,n,i){void 0===i&&(i=!0);var r=s.call(this,e,n,i)||this,o=r;return i&&(r._divSort.style.display=""),r._btnSortAsc=r.cloneElement(r._btnAsc),r._btnSortDsc=r.cloneElement(r._btnDsc),r._btnAsc.parentNode.replaceChild(r._btnSortAsc,r._btnAsc),r._btnDsc.parentNode.replaceChild(r._btnSortDsc,r._btnDsc),r._btnSortAsc.addEventListener("click",function(a){o._sortBtnClick(a,!0)}),r._btnSortDsc.addEventListener("click",function(a){o._sortBtnClick(a,!1)}),r._updateSortButtonStateUnbound(),r}return yr(t,s),t.prototype._showFilter=function(e){var n=this;e==Or.Value&&null==this._edtVal&&(this._edtVal=new sd(this._divEdtVal,this.filter.valueFilter),this._edtVal.canApplyChanged.addHandler(function(i){(0,u.enable)(n._btnApply,n._edtVal.canApply)})),s.prototype._showFilter.call(this,e)},t.prototype._sortBtnClick=function(e,n){var i,r,o=this.filter.column,a=o.grid.sortManager;e.preventDefault(),e.stopPropagation(),(i=a.checkSortItemExists(o.index))>-1?(a.sortDescriptions.moveCurrentToPosition(i),a.sortDescriptions.currentItem.ascending=n,r=-i):(a.addSortLevel(o.index,n),r=-(a.sortDescriptions.items.length-1)),a.moveSortLevel(r),a.commitSort(),this.onButtonClicked()},t.prototype.cloneElement=function(e){for(var n=e.cloneNode();e.firstChild;)n.appendChild(e.lastChild);return n},t.prototype._updateSortButtonStateUnbound=function(){var e=this.filter.column;if(e&&e.grid&&e.grid.selectedSheet)for(var n=e.grid.selectedSheet._unboundSortDesc,i=0;i<n.length;i++)if(n[i].column===e){(0,u.toggleClass)(this._btnSortAsc,"wj-state-active",!0===n[i].ascending),(0,u.toggleClass)(this._btnSortDsc,"wj-state-active",!1===n[i].ascending);break}},t}(R),tf=function(s){function t(){return null!==s&&s.apply(this,arguments)||this}return yr(t,s),Object.defineProperty(t.prototype,"filterDefinition",{get:function(){for(var e={filters:[]},n=0;n<this._filters.length;n++){var i=this._filters[n];if(i&&i.column&&this.grid.columns.indexOf(i.column)>-1)if(i.conditionFilter.isActive){var r=i.conditionFilter;e.filters.push({columnIndex:i.column.index,type:"condition",condition1:{operator:r.condition1.operator,value:r.condition1.value},and:r.and,condition2:{operator:r.condition2.operator,value:r.condition2.value}})}else if(i.valueFilter.isActive){var o=i.valueFilter;e.filters.push({columnIndex:i.column.index,type:"value",filterText:o.filterText,showValues:o.showValues})}}return JSON.stringify(e)},set:function(e){var n=JSON.parse((0,u.asString)(e));this.clear();for(var i=0;i<n.filters.length;i++){var r=n.filters[i],o=this.grid.columns[r.columnIndex],a=this.getColumnFilter(o,!0);if(a)switch(r.type){case"condition":var d=a.conditionFilter;d.condition1.value=o.dataType==u.DataType.Date?(0,u.changeType)(r.condition1.value,o.dataType,null):r.condition1.value,d.condition1.operator=r.condition1.operator,d.and=r.and,d.condition2.value=o.dataType==u.DataType.Date?(0,u.changeType)(r.condition2.value,o.dataType,null):r.condition2.value,d.condition2.operator=r.condition2.operator;break;case"value":var p=a.valueFilter;p.filterText=r.filterText,p.showValues=r.showValues}}this.apply()},enumerable:!0,configurable:!0}),t.prototype.apply=function(){var e=this;e.grid.deferUpdate(function(){for(var n,i,r,o=-1,a=0;a<e.grid.rows.length;a++)if(!((n=e.grid.rows[a])instanceof as||a<=o))if(o=-1,i=e._filter(a),n instanceof rt){if(r=n.getCellRange(),null==n.dataItem||n.dataItem instanceof u.CollectionViewGroup)n.visible=e._checkGroupVisible(r);else if(n.visible=i,o=r.bottomRow,r.isValid)for(var d=r.topRow;d<=r.bottomRow;d++)e.grid.rows[d].visible=i}else n.visible=i;e.grid._isCopying||e.grid._isUndoing||e.grid._isSorting||e.onFilterApplied()})},t.prototype.editColumnFilter=function(e,n){var i=this,r=i.grid;i.closeEditor(),e=i._asColumn(e);var o=document.createElement("div"),a=i.getColumnFilter(e),d=new Mu(o,a,i.showSortButtons);(0,u.addClass)(o,"wj-dropdown-panel"),i._divEdt=o,i._edtCol=e;var p=new me(r.cells,new W(-1,e.index));if(i.onFilterChanging(p),p.cancel)i._divEdt=null,i._edtCol=null;else{p.cancel=!0,r.undoStack.stackSize>0&&(i._undoAcion=new Na(r)),r.rightToLeft&&(o.dir="rtl"),d.filterChanged.addHandler(function(){p.cancel=!1,i._filterChanged=!0,setTimeout(function(){p.cancel||(i.apply(),i._undoAcion&&(i._undoAcion.saveNewState(),r.undoStack._addAction(i._undoAcion),i._undoAcion=null))})}),d.buttonClicked.addHandler(function(){i.closeEditor(),r.focus(),i.onFilterChanged(p)}),d.lostFocus.addHandler(function(){setTimeout(function(){var Ee=u.Control.getControl(i._divEdt);Ee&&!Ee.containsFocus()&&i.closeEditor()},10)}),r._edtHdl._commitRowEdits(),r.scrollIntoView(-1,e.index,!0);var v=i.grid.columnHeaders,T=n?n.col:e.index,k=v.getCellBoundingRect(n?n.row:v.rows.length-1,T),L=document.elementFromPoint(k.left+k.width/2,k.top+k.height/2);(L=(0,u.closest)(L,".wj-cell"))?(0,u.showPopup)(o,L,!1,!1,!1):(0,u.showPopup)(o,k),i._setAriaExpanded(L,!0),i._setAriaExpanded(r.cells.getCellElement(-1,T),!0);for(var Y=d.hostElement.querySelectorAll("input"),ce=0;ce<Y.length;ce++){var ae=Y[ce];if(ae.offsetHeight>0&&ae.tabIndex>-1&&!ae.disabled){ae.focus();break}}d.containsFocus()||d.focus()}},t.prototype._updateColumnFilter=function(e){e=this._asColumn(e);var v,M,n=this.getColumnFilter(e,!1),i=null!=n?n.valueFilter:null;if(i&&i.isActive){var r=this._getValueFilters(e),o=i.showValues;if(r&&r.length>0){for(var a in o)for(var d=0;d<r.length;d++){if(o[a]&&(M=o[a].cellRef,""!=(v=r[d].cellRef)&&""!=v&&v.split("_")[0]==M.split("_")[0])){o[r[d].text]={show:!0,cellRef:r[d].cellRef},r[d].text!=a&&delete o[a];break}if(r[d].text==a){o[a].show=!0;break}}i.showValues=o}}},t.prototype._getValueFilters=function(e){var n=this.getColumnFilter(e,!1),i=n.valueFilter,r=e.grid,o=e.index,a=[],d={},p=i.showValues,v=n.conditionFilter,M=v.condition1.operator,T=v.condition2.operator;if(i.uniqueValues||null!=r.itemsSource&&null!=r.childItemsPath)a=i.getUniqueValues(!0);else for(var k=0;k<r.rows.length;k++){var L=r.rows[k];if(!(L instanceof as||L instanceof rt||L instanceof Ge)){i.showValues=null,v.condition1.operator=null,v.condition2.operator=null;var Y=r.filter._filter(k);if(i.showValues=p,v.condition1.operator=M,v.condition2.operator=T,(L.visible||Y)&&(L.visible||!i.apply(k)||!v.apply(k))){var ce=k,ae=o,Ee=r.getMergedRange(r.cells,ce,ae);if(Ee){if(Ee.leftCol!==o)continue;ce=Ee.topRow,ae=Ee.leftCol}var ze,Me=r.getCellValue(ce,ae);ze=i.dataMap?i.dataMap.getDisplayValue(Me):r.getCellValue(ce,ae,!0),Me=""===Me?null:Me;var st=r.getCellData(ce,ae,!0);d[ze]||(d[ze]=!0,a.push({value:Me,text:ze,cellRef:st&&"="===st[0]?k+"_"+o:""}))}}}return a},t.prototype.closeEditor=function(){this._undoAcion&&!this._filterChanged&&(this._undoAcion=null),s.prototype.closeEditor.call(this)},t.prototype.getColumnFilter=function(e,n){if(void 0===n&&(n=!0),e=this._asColumn(e)){for(var i=0;i<this._filters.length;i++)if(this._filters[i].column==e)return this._filters[i];if(n){var r=new Su(this,e);return this._filters.push(r),r}}return null},t.prototype._isActive=function(){var e=this;return this._filters.some(function(n){return n.column&&(n.conditionFilter.isActive||n.valueFilter.isActive)&&e.grid.columns.indexOf(n.column)>=0})},t.prototype._isEditorOpened=function(){return!!this._divEdt},t.prototype._checkGroupVisible=function(e){for(var n,i=!0,r=e.topRow+1;r<=e.bottomRow;r++)if(n=this.grid.rows[r])if(n instanceof rt)i=this._checkGroupVisible(n.getCellRange());else if(i=this._filter(r))break;return i},t}(ka),Rc=function(s){function t(e,n,i,r){var o=s.call(this,e)||this;o.CopyCells=js.CopyFormat|js.CopyContent,o.FillSeries=js.CopyFormat|js.FillSeries,o.FillFormat=js.CopyFormat,o.FillWithoutFormat=js.FillSeries,o.FullWidth=32,o.CompactWidth=18,o._uiEventHdl=o._onUIEvent.bind(o),o.operationSelected=new u.Event,o.cancelled=new u.Event,o._owner=n,o._op=i;var a=o.getTemplate();o.applyTemplate("wj-flexsheet-smart-tag",a,{_icon:"icon",_btnMenu:"btn-menu"});var d=o._getPos();return(0,u.setCss)(o.hostElement,{left:d.x,top:d.y}),o.addEventListener(o.hostElement,"mouseover",function(){o.hostElement.style.width=o.FullWidth+"px",o._btnMenu.style.display=""}),o.addEventListener(o.hostElement,"mouseleave",function(){o._menu||(o.hostElement.style.width=o.CompactWidth+"px",o._btnMenu.style.display="none")}),o.addEventListener(o.hostElement,"mousedown",function(p){p.preventDefault(),o._showFillOpMenu()},!0),o.addEventListener(document.body,"mousedown",o._uiEventHdl,!0),o.addEventListener(document.body,"keydown",o._uiEventHdl,!0),o.initialize(r),o}return yr(t,s),t.prototype.dispose=function(){this.removeEventListener(document.body,"mousedown",this._uiEventHdl,!0),this.removeEventListener(document.body,"keydown",this._uiEventHdl,!0),s.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"operation",{get:function(){return this._op},enumerable:!0,configurable:!0}),t.prototype.onOperationSelected=function(e){this.operationSelected.raise(this,e)},t.prototype.onCancelled=function(e){this.cancelled.raise(this,e)},t.prototype._getPos=function(){var e=this._owner,n=e._root,i=e.selection,r=e.cells.getCellBoundingRect(i.bottomRow,i.rightCol,!0),o=e.cells.hostElement,a=r.right+o.offsetLeft,d=r.bottom+o.offsetTop;return a+e._ptScrl.x+32+(o.offsetHeight>n.offsetHeight?17:0)>n.offsetWidth&&(a-=32),d+e._ptScrl.y+18+(o.offsetWidth>n.offsetWidth?17:0)>n.offsetHeight&&(d-=18),new u.Point(a,d)},t.prototype._showFillOpMenu=function(){var e=this,n=u.culture.FlexSheet;this._menu=new dt.Menu(document.createElement("div"),{displayMemberPath:"item",selectedValuePath:"op",dropDownCssClass:"wj-flexsheet-fill-menu",openOnHover:!1,closeOnLeave:!1,itemsSource:[{item:n.copyCells,op:this.CopyCells,checked:this._op===this.CopyCells},{item:n.fillSeries,op:this.FillSeries,checked:this._op===this.FillSeries},{item:n.fillFormat,op:this.FillFormat,checked:this._op===this.FillFormat},{item:n.fillWithoutFormat,op:this.FillWithoutFormat,checked:this._op===this.FillWithoutFormat}],selectedValue:this._op,itemClicked:function(i){e._op=i.selectedValue,e.onOperationSelected()}}),this._menu.listBox.checkedMemberPath="checked",this._menu.show(this.hostElement),this._menu.selectedValue=this._op},t.prototype._onUIEvent=function(e){var n=e.target,i=(0,u.contains)(this.hostElement,n),r=this._menu&&(0,u.contains)(this._menu.listBox.hostElement,n),o=i||r;o&&e instanceof KeyboardEvent&&(o=r&&(e.keyCode==u.Key.Down||e.keyCode==u.Key.Up||e.keyCode==u.Key.Enter||e.keyCode==u.Key.Escape)),o||this.onCancelled()},t.controlTemplate='<img wj-part="icon" style="float:left; height: 18; margin: 0" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAAFJJREFUeNrclEEKACAIBOfp/Xy7i4WSRnRYBIVRVhFJVIhyEAxllQa5E/wBSnsU6Rza2nugqNmASi57C/KKNg/Iqn+iVWzx6M4bOdUEAAD//wMAAYRMfiNaiqEAAAAASUVORK5CYII=" /><img wj-part="btn-menu" style="float:left; height: 18; margin: 0; display: none" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAASCAYAAACXScT7AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAKTWlDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVN3WJP3Fj7f92UPVkLY8LGXbIEAIiOsCMgQWaIQkgBhhBASQMWFiApWFBURnEhVxILVCkidiOKgKLhnQYqIWotVXDjuH9yntX167+3t+9f7vOec5/zOec8PgBESJpHmomoAOVKFPDrYH49PSMTJvYACFUjgBCAQ5svCZwXFAADwA3l4fnSwP/wBr28AAgBw1S4kEsfh/4O6UCZXACCRAOAiEucLAZBSAMguVMgUAMgYALBTs2QKAJQAAGx5fEIiAKoNAOz0ST4FANipk9wXANiiHKkIAI0BAJkoRyQCQLsAYFWBUiwCwMIAoKxAIi4EwK4BgFm2MkcCgL0FAHaOWJAPQGAAgJlCLMwAIDgCAEMeE80DIEwDoDDSv+CpX3CFuEgBAMDLlc2XS9IzFLiV0Bp38vDg4iHiwmyxQmEXKRBmCeQinJebIxNI5wNMzgwAABr50cH+OD+Q5+bk4eZm52zv9MWi/mvwbyI+IfHf/ryMAgQAEE7P79pf5eXWA3DHAbB1v2upWwDaVgBo3/ldM9sJoFoK0Hr5i3k4/EAenqFQyDwdHAoLC+0lYqG9MOOLPv8z4W/gi372/EAe/tt68ABxmkCZrcCjg/1xYW52rlKO58sEQjFu9+cj/seFf/2OKdHiNLFcLBWK8ViJuFAiTcd5uVKRRCHJleIS6X8y8R+W/QmTdw0ArIZPwE62B7XLbMB+7gECiw5Y0nYAQH7zLYwaC5EAEGc0Mnn3AACTv/mPQCsBAM2XpOMAALzoGFyolBdMxggAAESggSqwQQcMwRSswA6cwR28wBcCYQZEQAwkwDwQQgbkgBwKoRiWQRlUwDrYBLWwAxqgEZrhELTBMTgN5+ASXIHrcBcGYBiewhi8hgkEQcgIE2EhOogRYo7YIs4IF5mOBCJhSDSSgKQg6YgUUSLFyHKkAqlCapFdSCPyLXIUOY1cQPqQ28ggMor8irxHMZSBslED1AJ1QLmoHxqKxqBz0XQ0D12AlqJr0Rq0Hj2AtqKn0UvodXQAfYqOY4DRMQ5mjNlhXIyHRWCJWBomxxZj5Vg1Vo81Yx1YN3YVG8CeYe8IJAKLgBPsCF6EEMJsgpCQR1hMWEOoJewjtBK6CFcJg4Qxwicik6hPtCV6EvnEeGI6sZBYRqwm7iEeIZ4lXicOE1+TSCQOyZLkTgohJZAySQtJa0jbSC2kU6Q+0hBpnEwm65Btyd7kCLKArCCXkbeQD5BPkvvJw+S3FDrFiOJMCaIkUqSUEko1ZT/lBKWfMkKZoKpRzame1AiqiDqfWkltoHZQL1OHqRM0dZolzZsWQ8ukLaPV0JppZ2n3aC/pdLoJ3YMeRZfQl9Jr6Afp5+mD9HcMDYYNg8dIYigZaxl7GacYtxkvmUymBdOXmchUMNcyG5lnmA+Yb1VYKvYqfBWRyhKVOpVWlX6V56pUVXNVP9V5qgtUq1UPq15WfaZGVbNQ46kJ1Bar1akdVbupNq7OUndSj1DPUV+jvl/9gvpjDbKGhUaghkijVGO3xhmNIRbGMmXxWELWclYD6yxrmE1iW7L57Ex2Bfsbdi97TFNDc6pmrGaRZp3mcc0BDsax4PA52ZxKziHODc57LQMtPy2x1mqtZq1+rTfaetq+2mLtcu0W7eva73VwnUCdLJ31Om0693UJuja6UbqFutt1z+o+02PreekJ9cr1Dund0Uf1bfSj9Rfq79bv0R83MDQINpAZbDE4Y/DMkGPoa5hpuNHwhOGoEctoupHEaKPRSaMnuCbuh2fjNXgXPmasbxxirDTeZdxrPGFiaTLbpMSkxeS+Kc2Ua5pmutG003TMzMgs3KzYrMnsjjnVnGueYb7ZvNv8jYWlRZzFSos2i8eW2pZ8ywWWTZb3rJhWPlZ5VvVW16xJ1lzrLOtt1ldsUBtXmwybOpvLtqitm63Edptt3xTiFI8p0in1U27aMez87ArsmuwG7Tn2YfYl9m32zx3MHBId1jt0O3xydHXMdmxwvOuk4TTDqcSpw+lXZxtnoXOd8zUXpkuQyxKXdpcXU22niqdun3rLleUa7rrStdP1o5u7m9yt2W3U3cw9xX2r+00umxvJXcM970H08PdY4nHM452nm6fC85DnL152Xlle+70eT7OcJp7WMG3I28Rb4L3Le2A6Pj1l+s7pAz7GPgKfep+Hvqa+It89viN+1n6Zfgf8nvs7+sv9j/i/4XnyFvFOBWABwQHlAb2BGoGzA2sDHwSZBKUHNQWNBbsGLww+FUIMCQ1ZH3KTb8AX8hv5YzPcZyya0RXKCJ0VWhv6MMwmTB7WEY6GzwjfEH5vpvlM6cy2CIjgR2yIuB9pGZkX+X0UKSoyqi7qUbRTdHF09yzWrORZ+2e9jvGPqYy5O9tqtnJ2Z6xqbFJsY+ybuIC4qriBeIf4RfGXEnQTJAntieTE2MQ9ieNzAudsmjOc5JpUlnRjruXcorkX5unOy553PFk1WZB8OIWYEpeyP+WDIEJQLxhP5aduTR0T8oSbhU9FvqKNolGxt7hKPJLmnVaV9jjdO31D+miGT0Z1xjMJT1IreZEZkrkj801WRNberM/ZcdktOZSclJyjUg1plrQr1zC3KLdPZisrkw3keeZtyhuTh8r35CP5c/PbFWyFTNGjtFKuUA4WTC+oK3hbGFt4uEi9SFrUM99m/ur5IwuCFny9kLBQuLCz2Lh4WfHgIr9FuxYji1MXdy4xXVK6ZHhp8NJ9y2jLspb9UOJYUlXyannc8o5Sg9KlpUMrglc0lamUycturvRauWMVYZVkVe9ql9VbVn8qF5VfrHCsqK74sEa45uJXTl/VfPV5bdra3kq3yu3rSOuk626s91m/r0q9akHV0IbwDa0b8Y3lG19tSt50oXpq9Y7NtM3KzQM1YTXtW8y2rNvyoTaj9nqdf13LVv2tq7e+2Sba1r/dd3vzDoMdFTve75TsvLUreFdrvUV99W7S7oLdjxpiG7q/5n7duEd3T8Wej3ulewf2Re/ranRvbNyvv7+yCW1SNo0eSDpw5ZuAb9qb7Zp3tXBaKg7CQeXBJ9+mfHvjUOihzsPcw83fmX+39QjrSHkr0jq/dawto22gPaG97+iMo50dXh1Hvrf/fu8x42N1xzWPV56gnSg98fnkgpPjp2Snnp1OPz3Umdx590z8mWtdUV29Z0PPnj8XdO5Mt1/3yfPe549d8Lxw9CL3Ytslt0utPa49R35w/eFIr1tv62X3y+1XPK509E3rO9Hv03/6asDVc9f41y5dn3m978bsG7duJt0cuCW69fh29u0XdwruTNxdeo94r/y+2v3qB/oP6n+0/rFlwG3g+GDAYM/DWQ/vDgmHnv6U/9OH4dJHzEfVI0YjjY+dHx8bDRq98mTOk+GnsqcTz8p+Vv9563Or59/94vtLz1j82PAL+YvPv655qfNy76uprzrHI8cfvM55PfGm/K3O233vuO+638e9H5ko/ED+UPPR+mPHp9BP9z7nfP78L/eE8/sl0p8zAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAGCSURBVHjafNFPKKRxHAbw5/v7GYdBYUQjLm5SkoNykCQHtcx431/KgdKumJvSrAO7Nwc3RQ5kd3OkHJC/hUJREluonVcToqRh3sRFPA6M1Mbhc3z6Pj1fkMRHQNJL0uPeul731lU37o1y49cqHr8GvvgWQRLBsmpM/P0j4XAXiooKcXl1CZDEzl4EJBEwAZBUwWAQsVgsFSRR11gmM8trimSa3WypzZ31l5v2/vfk/4oAcv9aSGyUSz4gg/AIAOET0YQswIQWaNrnH+2OeSaY0BJN2+wDTi/OpCrwkxX1vW8q63p5cnaaB+Z/09u7x0nFJTVMiEajPsNCQaC6Ryb8THKcw/Tikho6zj//0RGUNV6gMZ1H8fmpH5iTHDlwsiOhO7FrN5RdP6aBIUj/pvJ2bkFbkxAzBzELELNCQQqgrJ5ST1/jqmYOJcHa7dYYGV5TrQ3d+vfUU+b7IfrOIRCGBYD0o1VGmaHaB6DZkqvMD2hUfF1UAISkvE/+yqbCZ89+HgBtwgFOrBUzJgAAAABJRU5ErkJggg==" />',t}(u.Control),nf=function(s){function t(e){var n=this,i=e.selectionMode;return(n=s.call(this,e)||this)._mode=i,n._fs=e,n}return yr(t,s),t.prototype.moveSelection=function(e,n,i){var r=this._fs;!i&&r._lastSelMovePos&&this.selection.copy(r._lastSelMovePos),r._lastSelMovePos=null,s.prototype.moveSelection.call(this,e,n,i)},t}(En),ad=function(){function s(t,e,n,i){if(this._owner=t,this._name=e,this._value=n,null!=i){if(!t._validateSheetName(i))throw"The sheet name:("+i+") does not exist in FlexSheet.";this._sheetName=i}}return Object.defineProperty(s.prototype,"name",{get:function(){return this._name},set:function(t){if(this._name!==t){if(this._owner.definedNames._find(t,this._sheetName,-1,!0))throw"The "+t+" already existed in definedNames.";var e=this._name;this._name=t,this._owner._updateFormulasWithNameUpdating(e,this._name)}},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"value",{get:function(){return this._value},set:function(t){this._value!==t&&(this._value=t)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"sheetName",{get:function(){return this._sheetName},enumerable:!0,configurable:!0}),s}(),Wp=function(s){function t(e){var n=s.call(this)||this;return n._owner=e,n.collectionChanged.addHandler(function(i,r){if(r.action===u.NotifyCollectionChangedAction.Add||r.action===u.NotifyCollectionChangedAction.Change){var o=r.action===u.NotifyCollectionChangedAction.Add?"inserted":"updated";if(!(r.item instanceof ad))throw n.remove(r.item),"Invalid defined name item object was "+o+".  The DefinedName instance should be "+o+" in the definedNames array.";if(!r.item||!r.item.name||null==r.item.value)throw n.remove(r.item),"Invalid defined name was "+o+".";if(null!=r.item.sheetName&&!n._owner._validateSheetName(r.item.sheetName))throw n.remove(r.item),"The sheet name ("+r.item.sheetName+") does not exist in FlexSheet.";if(n._find(r.item.name,r.item.sheetName,r.index,!0))throw n.remove(r.item),"The "+r.item.name+" already existed in definedNames."}}),n}return yr(t,s),t.prototype._find=function(e,n,i,r){void 0===i&&(i=-1),void 0===r&&(r=!1);var o=null;n=n&&n.toLowerCase(),e=e&&e.toLowerCase();for(var a=0;a<this.length;a++){var d=this[a];if(d.name.toLowerCase()===e&&a!==i)if(d.sheetName){if(d.sheetName.toLowerCase()===n)return d}else{if(r&&n)continue;o=d}}return o},t.prototype._getIndexByName=function(e){for(var n=0;n<this.length;n++)if(this[n].name===e)return n;return-1},t.prototype._updateSheetName=function(e,n){for(var i=e.toLowerCase(),r=0;r<this.length;r++){var o=this[r];null!=o.sheetName&&o.sheetName.toLowerCase()===i&&(o._sheetName=n);var a=o.value.match(/(\w+)\!\$?[A-Za-z]+\$?\d+/g);if(a&&a.length>0)for(var d=0;d<a.length;d++){var p=a[d];p.substring(0,p.indexOf("!"))===e&&(o.value=o.value.replace(p,p.replace(e,n)))}}},t}(u.ObservableArray),Oc=function(s){function t(e,n){var i=s.call(this,e)||this;return i._idx=-1,i._owner=n,i}return yr(t,s),Object.defineProperty(t.prototype,"visible",{get:function(){return"none"!==this.hostElement.style.display},enumerable:!0,configurable:!0}),t.prototype.show=function(e,n){if(this._owner.selectedSheet){this._owner.finishEditing();var i=(n?n.x:e.clientX)+(e?window.pageXOffset:0),r=(n?n.y:e.clientY)+(e?window.pageYOffset:0);this.hostElement.style.position="absolute",this.hostElement.style.display="inline",r+this.hostElement.clientHeight>window.innerHeight+(e?window.pageYOffset:0)&&(r-=this.hostElement.clientHeight),i+this.hostElement.clientWidth>window.innerWidth+(e?window.pageXOffset:0)&&(i-=this.hostElement.clientWidth),this.hostElement.style.top=r+"px",this.hostElement.style.left=i+"px"}},t.prototype.hide=function(){this._idx=-1;var e=this.hostElement.querySelectorAll(".wj-context-menu-item");this._removeSelectedState(e),this.hostElement.style.display="none"},t.prototype.moveToNext=function(){var e=this.hostElement.querySelectorAll(".wj-context-menu-item");for(this._removeSelectedState(e),this._idx++;e[this._idx]&&("none"===e[this._idx].style.display||(0,u.hasClass)(e[this._idx],"wj-state-disabled"));)this._idx++;this._idx>=e.length&&(this._idx=0),(0,u.addClass)(e[this._idx],"wj-context-menu-item-selected")},t.prototype.moveToPrev=function(){var e=this.hostElement.querySelectorAll(".wj-context-menu-item");for(this._removeSelectedState(e),this._idx--,this._idx<0&&(this._idx=e.length-1);this._idx>0&&("none"===e[this._idx].style.display||(0,u.hasClass)(e[this._idx],"wj-state-disabled"));)this._idx--;(0,u.addClass)(e[this._idx],"wj-context-menu-item-selected")},t.prototype.moveToFirst=function(){var e=this.hostElement.querySelectorAll(".wj-context-menu-item");this._removeSelectedState(e),this._idx=0,(0,u.addClass)(e[this._idx],"wj-context-menu-item-selected")},t.prototype.moveToLast=function(){var e=this.hostElement.querySelectorAll(".wj-context-menu-item");this._removeSelectedState(e),this._idx=e.length-1,e[this._idx]&&"none"===e[this._idx].style.display&&this._idx--,(0,u.addClass)(e[this._idx],"wj-context-menu-item-selected")},t.prototype.handleContextMenu=function(){if(-1===this._idx)this.moveToNext();else{var e=this.hostElement.querySelectorAll(".wj-context-menu-item");this._handleMenuItemOperation(e),this.hide(),this._owner.hostElement.focus()}},t.prototype.refresh=function(e){void 0===e&&(e=!0),s.prototype.refresh.call(this,e),this._localize()},t.prototype._init=function(){var e=this,n=e.hostElement.querySelectorAll(".wj-context-menu-item");e.hostElement.style.zIndex="9999",document.body.appendChild(e.hostElement),e.addEventListener(document.body,"mousemove",function(){e._removeSelectedState(n)}),e.addEventListener(e.hostElement,"contextmenu",function(i){i.preventDefault()}),this._localize()},t.prototype._handleMenuItemOperation=function(e){},t.prototype._localize=function(){},t.prototype._removeSelectedState=function(e){for(var n=0;n<e.length;n++)(0,u.removeClass)(e[n],"wj-context-menu-item-selected")},t}(u.Control),rf=function(s){function t(e,n){var i=s.call(this,e,n)||this;return i._isDisableDelRow=!1,i._isDisableConvertTable=!1,i.applyTemplate("",i.getTemplate(),{_insRows:"insert-rows",_delRows:"delete-rows",_insCols:"insert-columns",_delCols:"delete-columns",_splitter:"splitter",_convertTable:"convert-table"}),i._init(),i}return yr(t,s),t.prototype.show=function(e,n){this._owner.selectedSheet&&(this._owner._isDisableDeleteRow(this._owner.selection.topRow,this._owner.selection.bottomRow)&&(this._isDisableDelRow=!0,(0,u.addClass)(this._delRows,"wj-state-disabled")),this._showTableOperation(),this._owner.selection.isValid||(this._isDisableConvertTable=!0,(0,u.addClass)(this._convertTable,"wj-state-disabled")),s.prototype.show.call(this,e,n))},t.prototype.hide=function(){s.prototype.hide.call(this),this._isDisableDelRow=!1,this._isDisableConvertTable=!1,(0,u.removeClass)(this._delRows,"wj-state-disabled"),(0,u.removeClass)(this._convertTable,"wj-state-disabled")},t.prototype._init=function(){s.prototype._init.call(this);var e=this;e.addEventListener(e._insRows,"click",function(n){e._owner.insertRows(),e.hide(),e._owner.hostElement.focus()}),e.addEventListener(e._delRows,"click",function(n){e._isDisableDelRow||e._owner.deleteRows(),e.hide(),e._owner.hostElement.focus()}),e.addEventListener(e._insCols,"click",function(n){e._owner.insertColumns(),e.hide(),e._owner.hostElement.focus()}),e.addEventListener(e._delCols,"click",function(n){e._owner.deleteColumns(),e.hide(),e._owner.hostElement.focus()}),e.addEventListener(e._convertTable,"click",function(n){e._isDisableConvertTable||e._addTable(),e.hide(),e._owner.hostElement.focus()})},t.prototype._handleMenuItemOperation=function(e){switch(e[this._idx]){case this._insCols:this._owner.insertColumns();break;case this._insRows:this._owner.insertRows();break;case this._delCols:this._owner.deleteColumns();break;case this._delRows:this._isDisableDelRow||this._owner.deleteRows();break;case this._convertTable:this._addTable()}},t.prototype._localize=function(){s.prototype._localize.call(this);var e=u.culture.FlexSheet;this._insRows.textContent=e.insertRow,this._delRows.textContent=e.deleteRow,this._insCols.textContent=e.insertCol,this._delCols.textContent=e.deleteCol,this._convertTable.textContent=e.convertTable},t.prototype._showTableOperation=function(){for(var e=this._owner.selection,n=e.topRow;n<=e.bottomRow;n++)for(var i=e.leftCol;i<=e.rightCol;i++)if(null!=this._owner.selectedSheet.findTable(n,i))return this._convertTable.style.display="none",void(this._splitter.style.display="none");e.isSingleCell||this._owner._containsMergedCells(e)?(this._convertTable.style.display="none",this._splitter.style.display="none"):(this._convertTable.style.display="",this._splitter.style.display="")},t.prototype._addTable=function(){var e=this._owner.selectedSheet._addTable(this._owner.selection);if(e){if(0===this._owner.undoStack.stackSize)return;var n=new Qa(this._owner,e);this._owner.undoStack._addAction(n)}},t.controlTemplate='<div class="wj-context-menu wj-control wj-flexsheet-context-menu" width="150px"><div class="wj-context-menu-item" wj-part="insert-rows"></div><div class="wj-context-menu-item" wj-part="delete-rows"></div><div class="wj-context-menu-item" wj-part="insert-columns"></div><div class="wj-context-menu-item" wj-part="delete-columns"></div><div class="wj-state-disabled" wj-part="splitter" style="width:100%;height:1px;background-color:lightgray;"></div><div class="wj-context-menu-item" wj-part="convert-table"></div></div>',t}(Oc),ld=function(s){function t(e,n){var i=s.call(this,e,n)||this;return i.applyTemplate("",i.getTemplate(),{_insSheet:"insert-sheet",_delSheet:"delete-sheet",_renameSheet:"rename-sheet"}),i._init(),i}return yr(t,s),t.prototype._init=function(){var e=u.culture.FlexSheet,n=this;n._insSheet.textContent=e.insertSheet,n._delSheet.textContent=e.deleteSheet,n._renameSheet.textContent=e.renameSheet,s.prototype._init.call(this),n.addEventListener(n._insSheet,"click",function(i){n._owner.addUnboundSheet(null,null,null,n._owner.selectedSheetIndex),n.hide(),n._owner.hostElement.focus()}),n.addEventListener(n._delSheet,"click",function(i){n._owner.sheets.removeAt(n._owner.selectedSheetIndex),n.hide(),n._owner.hostElement.focus()}),n.addEventListener(n._renameSheet,"click",function(i){n._owner._tabHolder.sheetControl._startEditingSheetName(n._owner.selectedSheetIndex),n.hide()})},t.prototype._handleMenuItemOperation=function(e){switch(e[this._idx]){case this._insSheet:this._owner.addUnboundSheet(null,null,null,this._owner.selectedSheetIndex);break;case this._delSheet:this._owner.sheets.removeAt(this._owner.selectedSheetIndex);break;case this._renameSheet:this._owner._tabHolder.sheetControl._startEditingSheetName(this._owner.selectedSheetIndex)}},t.prototype._localize=function(){s.prototype._localize.call(this);var e=u.culture.FlexSheet;this._insSheet.textContent=e.insertSheet,this._delSheet.textContent=e.deleteSheet,this._renameSheet.textContent=e.renameSheet},t.controlTemplate='<div class="wj-context-menu wj-control wj-flexsheet-context-menu" width="150px"><div class="wj-context-menu-item" wj-part="insert-sheet"></div><div class="wj-context-menu-item" wj-part="delete-sheet"></div><div class="wj-context-menu-item" wj-part="rename-sheet"></div><div>',t}(Oc),cd=function(){function s(t,e,n,i,r){this._visible=!0,this._unboundSortDesc=new u.ObservableArray,this._currentStyledCells={},this._currentMergedRanges=[],this._isEmptyGrid=!1,this._rowSettings=[],this._scrollPosition=new u.Point,this._ownerHeaderRowRemoved=!1,this.nameChanged=new u.Event,this.visibleChanged=new u.Event;var o=this;this._uuid=s.GenId++,o._owner=t,o._name=n,o._sortList=[new ol(-1,!0)],i=(0,u.isNumber)(i)&&!isNaN(i)&&i>=0?i:200,r=(0,u.isNumber)(r)&&!isNaN(r)&&r>=0?r:20,e?(e.columns.forEach(function(a){return a._orgHdr=a._hdr}),o._grid=e,o._addHeaderRow(!0)):o._grid=this._createGrid(i,r),o._grid.loadedRows.addHandler(function(){o._owner&&o._owner._checkCollectionsOwner(),o._addHeaderRow(),o._setRowSettings()}),o._grid.refreshed.addHandler(function(){o._owner&&o._owner._checkCollectionsOwner()}),o._grid.itemsSourceChanged.addHandler(this._gridItemsSourceChanged,this),o._unboundSortDesc.collectionChanged.addHandler(function(){for(var a=o._unboundSortDesc,d={},p=0;p<a.length;p++)if(!(0,u.tryCast)(a[p],af))throw"sortDescriptions array must contain SortDescription objects.";if(o._owner){if(o._owner.rows.beginUpdate(),o._owner.rows.sort(o._compareRows()),!o._owner._isUndoing){for(p=0;p<o._owner.rows.length;p++){var v=o._owner.rows[p];p!==v._idx&&o._owner._updateFormulaForReorderingRows(v._idx,p),o._owner._updateCellStyleForReorderingRows(v._idx,p,d)}o._currentStyledCells=d}o._owner.rows.endUpdate(),o._owner.rows._dirty=!0,o._owner.rows._update(),o._owner.selectedSheet&&(o._owner._copyTo(o._owner.selectedSheet),o._owner._copyFrom(o._owner.selectedSheet))}}),o.tables.collectionChanged.addHandler(function(a,d){if(null!=d.item&&!(d.item instanceof Ac))throw"The tables only allows to handle Table instance.";if(o._owner)if(d.action===u.NotifyCollectionChangedAction.Add||d.action===u.NotifyCollectionChangedAction.Change){if(d.item){var p=d.item,v=p._getTableRange(),M=o===o._owner.selectedSheet?o._owner:o.grid;try{if(v.topRow>=M.rows.length||v.leftCol>=M.columns.length||v.leftCol+v.columnSpan>M.columns.length||v.topRow+v.rowSpan>M.rows.length)throw"";for(var T=v.topRow;T<=v.bottomRow;T++)for(var k=v.leftCol;k<=v.rightCol;k++)if(o.findTable(T,k)!==p)throw"";p._attachSheet(o)}catch{o.tables.removeAt(d.index)}}}else d.action===u.NotifyCollectionChangedAction.Remove&&d.item&&d.item._detachSheet()})}return Object.defineProperty(s.prototype,"grid",{get:function(){return null==this._grid.wj_sheetInfo&&(this._grid.wj_sheetInfo={}),this._grid},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"name",{get:function(){return this._name},set:function(t){if(!(0,u.isNullOrWhiteSpace)(t)&&(this._name&&this._name.toLowerCase()!==t.toLowerCase()||!this._name)){var e=new u.PropertyChangedEventArgs("sheetName",this._name,t);this._name=t,this.grid.wj_sheetInfo.name=t,this.onNameChanged(e)}},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"visible",{get:function(){return this._visible},set:function(t){this._visible!==t&&(this._visible=t,this.grid.wj_sheetInfo.visible=t,this.onVisibleChanged(new u.EventArgs))},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"rowCount",{get:function(){return null!=this._grid?this._grid.rows.length:0},set:function(t){if(!this.itemsSource){var e=this.grid.rows.length;if((0,u.isNumber)(t)&&!isNaN(t)&&t>=0&&e!==t){if(e<t)for(var n=0;n<t-e;n++)this.grid.rows.push(new Lt);else this.grid.rows.splice(t,e-t);this._currentStyledCells=this._adjustStylesDict(this._currentStyledCells),this._owner&&this._owner.selectedSheet&&this._name===this._owner.selectedSheet.name&&this._owner._copyFrom(this)}}},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"columnCount",{get:function(){return null!=this._grid?this._grid.columns.length:0},set:function(t){if(!this.itemsSource){var e=this.grid.columns.length;if((0,u.isNumber)(t)&&!isNaN(t)&&t>=0&&e!==t){if(e<t)for(var n=0;n<t-e;n++)this._grid.columns.push(new $t);else this._grid.columns.splice(t,e-t);this._currentStyledCells=this._adjustStylesDict(this._currentStyledCells),this._owner&&this._owner.selectedSheet&&this._name===this._owner.selectedSheet.name&&this._owner._copyFrom(this)}}},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"selectionRanges",{get:function(){var t=this;return this._selectionRanges||(this._selectionRanges=new u.ObservableArray,this._selectionRanges.collectionChanged.addHandler(function(){if(t._owner&&!t._owner._isClicking){var e=t._selectionRanges.length;if(e>0){var n=t._selectionRanges[e-1];n&&n instanceof W&&(t._owner.selection=n)}e>1&&(t._owner._enableMulSel=!0,t._owner.refresh(!1)),t._owner._enableMulSel=!1}},this)),this._selectionRanges},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"itemsSource",{get:function(){return null!=this._grid?this._grid.itemsSource:null},set:function(t){(!this._grid||this._grid.itemsSource!=t)&&(this._owner&&this._owner._isCopying||(this._dataView=null),this._isEmptyGrid&&this._clearGrid(),this._grid.itemsSource=t)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"filterSetting",{get:function(){return this._owner&&this===this._owner.selectedSheet&&this._getFilterSetting(),this._filterSetting},set:function(t){this._filterSetting=t,this._owner&&this===this._owner.selectedSheet&&this._applyFilterSetting()},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"tables",{get:function(){return null==this._tables&&(this._tables=new u.ObservableArray),this._tables},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"_styledCells",{get:function(){return this._currentStyledCells||(this._currentStyledCells={}),this._currentStyledCells.columnCount=this.columnCount,this._currentStyledCells.rowCount=this.rowCount,this._currentStyledCells},set:function(t){this._currentStyledCells=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"_uid",{get:function(){return this._uuid},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"_mergedRanges",{get:function(){return this._currentMergedRanges||(this._currentMergedRanges=[]),this._currentMergedRanges},enumerable:!0,configurable:!0}),s.prototype.onNameChanged=function(t){this.nameChanged.raise(this,t)},s.prototype.onVisibleChanged=function(t){this.visibleChanged.raise(this,t)},s.prototype.dispose=function(){if(this._clearGrid(),this._grid.wj_sheetInfo=null,this._grid.dispose(),this._grid=null,null!=this._tables){for(var t=0;t<this._tables.length;t++)this._tables[t]=null;this._tables=null}},s.prototype.getCellStyle=function(t,e){var i=this._grid.columns.length;return t>=this._grid.rows.length||e>=i?null:this._styledCells[t*i+e]},s.prototype.addTableFromArray=function(t,e,n,i,r,o,a,d){void 0===d&&(d=!0);var p=!1;if(this._owner){if(null==n||0===n.length||!(null!=i&&0!==i.length||null!=(i=Object.keys(n[0]))&&0!==i.length))throw"Invalid array to load.";if(t>=this.rowCount||e>=this.columnCount)return null;for(var v=null==(a&&a.showHeaderRow)||a.showHeaderRow,T=t+(v?1:0),k=T+n.length-1+(a&&a.showTotalRow?1:0),L=[],Y=this._flex,ce=0;ce<i.length;ce++){var ae=i[ce],Ee=new Hl(ae);0===ce?Ee._totalRowLabel="Total":ce===i.length-1&&(Ee._totalRowFunction="Sum"),L.push(Ee)}var Me=new W(t,e,k,e+i.length-1),ze=this._needShiftForTable(Me);if(0!==ze){if(!d||!this._canShiftCells(Me))return null;var st=this._needAddRowCountForAddTable(ze,Me);if(Y.collectionView){var xt=Y.itemsSource instanceof u.CollectionView;Y.collectionView.beginUpdate();for(var yt=0;yt<st;yt++)xt?Y.itemsSource.sourceCollection.push({}):Y.itemsSource.push({});Y.collectionView.endUpdate(!0)}else for(yt=0;yt<st;yt++)Y.rows.push(new Lt);p=!0}if(e+i.length>=Y.columns.length){if(!d)return null;var St=e+i.length-Y.columns.length+1;if(this.itemsSource&&St>0)return null;for(Y.columns.beginUpdate(),yt=0;yt<St;yt++)Y.columns.push(new $t);Y.columns.endUpdate()}if(Y.beginUpdate(),p&&this._moveDownCells(ze,Me),v)for(ce=0;ce<i.length;ce++)Y.setCellData(t,e+ce,ae=i[ce]);for(var Dt=0;Dt<n.length;Dt++)for(ce=0;ce<i.length;ce++)Y.setCellData(T+Dt,e+ce,n[Dt][ae=i[ce]]);return Y.endUpdate(),this._addTable(Me,r,o,L,a)}},s.prototype.findTable=function(t,e){var n,i=this._tables;if(i&&(n=i.length)>0)for(var r=0;r<n;r++){var o=i[r],a=o._getTableRange();if(t>=a.topRow&&t<=a.bottomRow&&e>=a.leftCol&&e<=a.rightCol)return o}return null},s.prototype._attachOwner=function(t){var e=this;if(this._owner!==t&&(this._owner=t,this._owner)){var n=!1;this._owner.loadedRows.addHandler(function(){n||(n=!0,e._addHeaderRow())})}},s.prototype._setValidName=function(t){this._name=t,this.grid.wj_sheetInfo.name=t},s.prototype._storeRowSettings=function(){if(this._owner){this._rowSettings=[];for(var t=0;t<this._grid.rows.length;t++){var e=this._owner.rows[t];e&&(this._rowSettings[t]={height:e.height,allowMerging:e.allowMerging,isCollapsed:e instanceof rt?e.isCollapsed:null,visible:e.visible,isSelected:e.isSelected,readOnly:e.isReadOnly&&!(e instanceof as)})}}},s.prototype._setRowSettings=function(){for(var t=0;t<this._rowSettings.length;t++){var e=this._rowSettings[t];if(e){var n=this._grid.rows[t];if(n){var i=n instanceof as;n.height=e.height,n.allowMerging=e.allowMerging,n.visible=e.visible,n instanceof rt&&(n.isCollapsed=!!e.isCollapsed),n.isSelected=!!e.isSelected,n.isReadOnly=i||!!e.readOnly}}}},s.prototype._addTable=function(t,e,n,i,r){return t.isValid&&this._owner?(null!=e&&null==this._owner._getTable(e)||(e=this._getUniqueTableName()),o=new Ac(e,t,n,i,r),this.tables.push(o),o):null;var o},s.prototype._addSelection=function(t){var e=this.selectionRanges;e.beginUpdate();for(var n=e.length-1;n>=0;n--)t.contains(e[n])&&e.removeAt(n);t.isValid&&e.push(t),e.endUpdate()},Object.defineProperty(s.prototype,"_flex",{get:function(){return this===this._owner.selectedSheet?this._owner:this.grid},enumerable:!0,configurable:!0}),s.prototype._compareRows=function(){var t=this,e=this._unboundSortDesc;return function(n,i){for(var r=0;r<e.length;r++){var o=e[r],a=n._ubv&&o.column?n._ubv[o.column._hash]:"",d=i._ubv&&o.column?i._ubv[o.column._hash]:"";if(Fo(a)&&(a=t._owner.evaluate(a)),Fo(d)&&(d=t._owner.evaluate(d)),a!=a&&(a=null),d!=d&&(d=null),(0,u.isString)(a)&&(a=a.toLowerCase()+a),(0,u.isString)(d)&&(d=d.toLowerCase()+d),""===a||null==a)return 1;if(""===d||null==d)return-1;var p=a<d?-1:a>d?1:0;if((0,u.isString)(a)&&(0,u.isNumber)(d)&&(p=1),(0,u.isString)(d)&&(0,u.isNumber)(a)&&(p=-1),0!==p)return o.ascending?+p:-p}return 0}},s.prototype._createGrid=function(t,e){var n=document.createElement("div");this._isEmptyGrid=!0,n.style.visibility="hidden",document.body.appendChild(n);var i=new It(n);document.body.removeChild(n);for(var r=0;r<t;r++)i.rows.push(new Lt);for(var o=0;o<e;o++){var a=new $t;a.isRequired=!1,i.columns.push(a)}return i.wj_sheetInfo={name:this.name,visible:this.visible,styledCells:this._styledCells,mergedRanges:this._mergedRanges},i},s.prototype._clearGrid=function(){this._grid.rows.clear(),this._grid.columns.clear(),this._grid.columnHeaders.columns.clear(),this._grid.rowHeaders.rows.clear()},s.prototype._gridItemsSourceChanged=function(){var t=this;this._owner&&!this._owner._isCopying&&this._owner.selectedSheet&&this._name===this._owner.selectedSheet.name&&(this._owner.filter.clear(),this._owner._copyFrom(this,!1),setTimeout(function(){t._owner._setFlexSheetToDirty(),t._owner.invalidate()},10))},s.prototype._addHeaderRow=function(t){if(void 0===t&&(t=!1),this._needAddHeaderRow()||t){var e=new as;e.isReadOnly=!0;for(var n=0;n<this._grid.columns.length;n++){var i=this._grid.columns[n];e._ubv||(e._ubv={}),e._ubv[i._hash]=ia._getHeaderRowText(i)}this._grid.rows.insert(0,e)}},s.prototype._needAddHeaderRow=function(){return!(!this._grid.collectionView||(this._grid.allowAddNew&&this._grid.newRowAtTop?this._grid.rows[1]:this._grid.rows[0])instanceof as||null!=this._owner&&this._owner.rows.length&&!((this._owner.allowAddNew&&this._owner.newRowAtTop?this._owner.rows[1]:this._owner.rows[0])instanceof as)&&this._ownerHeaderRowRemoved)},s.prototype._getUniqueTableName=function(){for(var t="Table1",e=2;null!=this._owner._getTable(t);)t="Table"+e,e++;return t},s.prototype._needShiftForTable=function(t){for(var n=0,i=this._flex,r=t.topRow;r<=t.bottomRow;r++){if(r>=i.rows.length)return t.rowSpan-n;for(var o=t.leftCol;o<=t.rightCol&&o<i.columns.length;o++){var a=i.getCellData(r,o,!1);if(null!=a&&""!==a)return t.rowSpan-n}n++}return 0},s.prototype._needAddRowCountForAddTable=function(t,e){for(var n=this._flex,i=1;i<=t;i++)for(var r=n.rows.length-i,o=e.leftCol;o<=e.rightCol&&o<n.columns.length;o++){var a=n.getCellData(r,o,!1),d=this.getCellStyle(r,o);if(null!=a&&""!==a||null!=d)return t-i+1}return 0},s.prototype._moveDownTable=function(t){for(var e=t._getTableRange(),n=this._flex,i=e.bottomRow;i>=e.topRow;i--)for(var r=e.leftCol;r<=e.rightCol;r++){var a=n.getCellData(i,r,null!=n.columns[r].dataMap);n.setCellData(i+1,r,a),n.setCellData(i,r,"")}t._updateTableRange(1,1,0,0)},s.prototype._moveDownCells=function(t,e){for(var n=this._flex,i=n.rows.length-1-t;i>=e.topRow;i--)for(var r=e.leftCol;r<=e.rightCol&&r<n.columns.length;r++){var a=n.getCellData(i,r,null!=n.columns[r].dataMap);n.setCellData(i+t,r,a),n.setCellData(i,r,"");var d=this.getCellStyle(i,r),p=(i+t)*n.columns.length+r,v=i*n.columns.length+r;d&&(this._styledCells[p]=d,this._styledCells[v]=null);var M=this._mergedRanges[v];M&&(M.row+=t,M.row2+=t,this._mergedRanges[p]=M,this._mergedRanges[v]=null);var T=this.findTable(i,r);if(T){var k=T._getTableRange();k.topRow===i&&k.leftCol===r&&T._updateTableRange(t,t,0,0)}}},s.prototype._moveUpCells=function(t,e){for(var n=this._flex,i=e.topRow;i<n.rows.length;i++)for(var r=e.leftCol;r<=e.rightCol&&r<n.columns.length;r++){var a=n.getCellData(i,r,null!=n.columns[r].dataMap);n.setCellData(i-t,r,a),n.setCellData(i,r,"");var d=this.getCellStyle(i,r),p=(i-t)*n.columns.length+r,v=i*n.columns.length+r;d&&(this._styledCells[p]=d,this._styledCells[v]=null);var M=this._mergedRanges[v];M&&(M.row-=t,M.row2-=t,this._mergedRanges[p]=M,this._mergedRanges[v]=null);var T=this.findTable(i,r);if(T){var k=T._getTableRange();k.topRow===i&&k.leftCol===r&&T._updateTableRange(-t,-t,0,0)}}},s.prototype._moveDownCellsWithinTable=function(t,e,n){for(var i=this._flex,r=n.bottomRow;r>n.topRow+t;r--)for(var o=n.leftCol;o<=n.rightCol;o++){var d=i.getCellData(r,o,null!=i.columns[o].dataMap);i.setCellData(r+e,o,d),i.setCellData(r,o,"")}},s.prototype._moveUpCellsWithinTable=function(t,e,n){for(var i=n.topRow+t,r=this._flex,o=i;o<=n.bottomRow;o++)for(var a=n.leftCol;a<=n.rightCol;a++){if(o>=i+e){var p=r.getCellData(o,a,null!=r.columns[a].dataMap);r.setCellData(o-e,a,p)}r.setCellData(o,a,"")}},s.prototype._canShiftCells=function(t){for(var e=this._flex,n=t.topRow;n<e.rows.length;n++)for(var i=t.leftCol;i<=t.rightCol&&i<e.columns.length;i++){var r=this.findTable(n,i);if(r){var o=r._getTableRange();if(o.leftCol<t.leftCol||o.rightCol>t.rightCol)return!1}var d=this._mergedRanges[n*e.columns.length+i];if(d&&(d.leftCol<t.leftCol||d.rightCol>t.rightCol))return!1}return!0},s.prototype._needMoveDownTable=function(t){var e=t.getRange();if(0===e.topRow)return!0;for(var n=t.getColumns(),i=this._flex,r=0;r<n.length;r++){var o=i.getCellData(e.topRow-1,e.leftCol+r,!1);if(null!=o&&""!==o)return!0}return!1},s.prototype._needAddRowCountForInsertTableRows=function(t,e){for(var n=this._flex,i=1;i<=t;i++){var r=n.rows.length-i;if(r<=e.bottomRow)return t;for(var o=e.leftCol;o<=e.rightCol&&o<n.columns.length;o++){var a=n.getCellData(r,o,!1),d=this.getCellStyle(r,o);if(null!=a&&""!==a||null!=d)return t-i+1}}return 0},s.prototype._getFilterSetting=function(){this._filterDefinition=this._owner.filter.filterDefinition,this._filterSetting={},this._filterSetting.filterColumns=this._owner.filter.filterColumns,this._filterSetting.columnFilterSettings||(this._filterSetting.columnFilterSettings=[]);for(var t=0;t<this._owner.filter._filters.length;t++){var e=this._owner.filter._filters[t];e&&this._filterSetting.columnFilterSettings.push({column:e.column,filterType:e.filterType,dataMap:e.dataMap,valueFilterSetting:{maxValues:e.valueFilter.maxValues,uniqueValues:e.valueFilter.uniqueValues,sortValues:e.valueFilter.sortValues,dataMap:e.valueFilter.dataMap,exclusiveValueSearch:e.valueFilter.exclusiveValueSearch},conditionFilterSetting:{dataMap:e.conditionFilter.dataMap}})}},s.prototype._applyFilterSetting=function(){if(null==this._filterSetting)this._clearFilterSetting();else{this._owner.filter.filterColumns=this._filterSetting.filterColumns,this._filterDefinition&&(this._owner.filter.filterDefinition=this._filterDefinition);var t=this._filterSetting.columnFilterSettings;if(!t||!t.length)return;for(var e=0;e<t.length;e++){var n=t[e];if(n&&null!=n.column){var i=this._owner.filter.getColumnFilter(n.column);if(i){var r=i.valueFilter.showValues,o=i.valueFilter.filterText,a={operator:i.conditionFilter.condition1.operator,value:i.conditionFilter.condition1.value},d={operator:i.conditionFilter.condition2.operator,value:i.conditionFilter.condition2.value},p=i.conditionFilter.and;null!=n.dataMap&&(i.dataMap=n.dataMap),null!=n.filterType&&(i.filterType=n.filterType);var v=n.valueFilterSetting;v&&(v.dataMap&&(i.valueFilter.dataMap=v.dataMap),null!=v.maxValues&&(i.valueFilter.maxValues=v.maxValues),null!=v.sortValues&&(i.valueFilter.sortValues=v.sortValues),v.uniqueValues&&(i.valueFilter.uniqueValues=v.uniqueValues),i.valueFilter.exclusiveValueSearch=v.exclusiveValueSearch);var M=n.conditionFilterSetting;M&&M.dataMap&&(i.conditionFilter.dataMap=M.dataMap),i.valueFilter.showValues=r,i.valueFilter.filterText=o,i.conditionFilter.condition1.operator=a.operator,i.conditionFilter.condition1.value=a.value,i.conditionFilter.condition2.operator=d.operator,i.conditionFilter.condition2.value=d.value,i.conditionFilter.and=p}}}}},s.prototype._cloneMergedCells=function(){for(var t=[],e=0;e<this._mergedRanges.length;e++)t.push(this._mergedRanges[e].clone());return t},s.prototype._getMergedRange=function(t,e){for(var n=0;n<this._mergedRanges.length;n++){var i=this._mergedRanges[n];if(t>=i.topRow&&t<=i.bottomRow&&e>=i.leftCol&&e<=i.rightCol)return i}return null},s.prototype._clearFilterSetting=function(){this._owner.filter._filters=[],this._owner.filter.filterColumns=null,this._filterDefinition&&(this._owner.filter.filterDefinition=this._filterDefinition)},s.prototype._adjustStylesDict=function(t){if(t){var e=t.columnCount,n=t.rowCount,i=this.columnCount,r=this.rowCount;if(e&&e!=i||n&&n!=r){var o={};Object.keys(t).forEach(function(a){var d=+a;if(!isNaN(d)){var p=Math.floor(d/e),v=d%e;p<r&&v<i&&(o[p*i+v]=t[a]),delete t[a]}}),t=o}return t.columnCount=i,t.rowCount=r,t}},s.GenId=0,s}(),sf=function(s){function t(){var e=null!==s&&s.apply(this,arguments)||this;return e._current=-1,e.sheetCleared=new u.Event,e.selectedSheetChanged=new u.Event,e.sheetNameChanged=new u.Event,e.sheetVisibleChanged=new u.Event,e}return yr(t,s),t.prototype.onSheetCleared=function(){this.sheetCleared.raise(this)},Object.defineProperty(t.prototype,"selectedIndex",{get:function(){return this._current},set:function(e){this._moveCurrentTo(+e)},enumerable:!0,configurable:!0}),t.prototype.onSelectedSheetChanged=function(e){this.selectedSheetChanged.raise(this,e)},t.prototype.push=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var i=0;i<e.length;i++){var r=e[i].name?this.getValidSheetName(e[i]):this._getUniqueName();r!==e[i].name&&(e[i].name=r),s.prototype.push.call(this,e[i]),this._postprocessSheet(e[i])}return this.length},t.prototype.splice=function(e,n){for(var i=this,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];return r.forEach(function(a){a.name=a.name?i.getValidSheetName(a):i._getUniqueName(),i._postprocessSheet(a)}),s.prototype.splice.apply(this,[e,n].concat(r))},t.prototype.onCollectionChanged=function(e){this._current>=this.length&&(this._current=this.length-1),s.prototype.onCollectionChanged.call(this,e)},t.prototype.onSheetNameChanged=function(e){this.sheetNameChanged.raise(this,e)},t.prototype.onSheetVisibleChanged=function(e){this.sheetVisibleChanged.raise(this,e)},t.prototype.selectFirst=function(){return this._moveCurrentTo(0)},t.prototype.selectLast=function(){return this._moveCurrentTo(this.length-1)},t.prototype.selectPrevious=function(){return this._moveCurrentTo(this._current-1)},t.prototype.selectNext=function(){return this._moveCurrentTo(this._current+1)},t.prototype.hide=function(e){return!(e<0&&e>=this.length||!this[e].visible||(this[e].visible=!1,0))},t.prototype.show=function(e){return!(e<0&&e>=this.length||(this[e].visible=!0,this._moveCurrentTo(e),0))},t.prototype.clear=function(){for(var e=0;e<this.length;e++){var n=this[e];n.dispose(),n=null}s.prototype.clear.call(this),this._current=-1,this.onSheetCleared()},t.prototype.isValidSheetName=function(e){var n=this._getSheetIndexFrom(e.name),i=this.indexOf(e);return-1===n||n===i},t.prototype.getValidSheetName=function(e){for(var n=e.name,i=1,r=this.indexOf(e);;){var o=this._getSheetIndexFrom(n);if(-1===o||o===r)break;n=e.name.concat((i+1).toString()),i++}return n},t.prototype._setCurrentIdx=function(e){this._current=e},t.prototype._moveCurrentTo=function(e){var n=e;if(e<0||e>=this.length)return!1;if(this._current<n||0===n)for(;n<this.length&&!this[n].visible;)n++;else if(this._current>n)for(;n>=0&&!this[n].visible;)n--;if(n===this.length)for(n=e;n>=0&&!this[n].visible;)n--;if(n<0)return!1;if(n!==this._current){var i=new u.PropertyChangedEventArgs("sheetIndex",this._current,n);this._current=n,this.onSelectedSheetChanged(i)}return!0},t.prototype._getSheetIndexFrom=function(e){if(!e)return-1;e=e.toLowerCase();for(var n=0;n<this.length;n++){var i=this[n];if((i.name?i.name.toLowerCase():"")===e)return n}return-1},t.prototype._postprocessSheet=function(e){e.nameChanged.removeHandler(this._shNameChanged,this),e.nameChanged.addHandler(this._shNameChanged,this),e.visibleChanged.removeHandler(this._shVisibleChanged,this),e.visibleChanged.addHandler(this._shVisibleChanged,this)},t.prototype._shNameChanged=function(e,n){this.isValidSheetName(e)||e._setValidName(this.getValidSheetName(e)),e._owner&&e._owner._sheetNameChanged(n.oldValue,e.name);var i=this._getSheetIndexFrom(e.name),r=new u.NotifyCollectionChangedEventArgs(u.NotifyCollectionChangedAction.Change,e,(0,u.isNumber)(i)?i:this.length-1);this.onSheetNameChanged(r)},t.prototype._shVisibleChanged=function(e,n){var i=this._getSheetIndexFrom(e.name),r=new u.NotifyCollectionChangedEventArgs(u.NotifyCollectionChangedAction.Change,e,(0,u.isNumber)(i)?i:this.length-1);this.onSheetVisibleChanged(r)},t.prototype._getUniqueName=function(){for(var e="Sheet1",n=2;-1!==this._getSheetIndexFrom(e);)e="Sheet"+n,n++;return e},t}(u.ObservableArray),ud=function(s){function t(e,n,i){var r=s.call(this,e,i)||this;return r._rtl=!1,r._sheetTabClicked=!1,r._owner=n,r._sheets=n.sheets,r._rtl="rtl"==getComputedStyle(n.hostElement).direction,r._initControl(),r.deferUpdate(function(){r.initialize(i)}),r}return yr(t,s),t.prototype.refresh=function(e){this._tabContainer.innerHTML="",this._tabContainer.innerHTML=this._getSheetTabs(),this._rtl&&this._adjustSheetsPosition(),this._adjustSize()},t.prototype._sourceChanged=function(e,n){void 0===n&&(n=u.NotifyCollectionChangedEventArgs.reset);var i=n;switch(i.action){case u.NotifyCollectionChangedAction.Add:var r=i.index-1;r<0&&(r=0),this._tabContainer.innerHTML="",this._tabContainer.innerHTML=this._getSheetTabs(),this._rtl&&this._adjustSheetsPosition(),this._adjustSize();break;case u.NotifyCollectionChangedAction.Remove:this._tabContainer.removeChild(this._tabContainer.children[i.index]),this._adjustSize();break;default:this.invalidate()}},t.prototype._selectedSheetChanged=function(e,n){this._updateTabActive(n.oldValue,!1),this._updateTabActive(n.newValue,!0),this._sheetTabClicked?this._sheetTabClicked=!1:this._scrollToActiveSheet(n.newValue,n.oldValue),this._adjustSize()},t.prototype._initControl=function(){var e=this,n=e.hostElement;e.applyTemplate("",e.getTemplate(),{_sheetContainer:"sheet-container",_tabContainer:"container",_sheetPage:"sheet-page",_newSheet:"new-sheet",_contextMenuHost:"context-menu"}),e._contextMenu=new ld(e._contextMenuHost,e._owner),e._rtl&&(e._sheetPage.style.right="0px",e._tabContainer.parentElement.style.right=e._sheetPage.clientWidth+"px",e._tabContainer.style.right="0px",e._tabContainer.style.cssFloat="right",e._newSheet.style.right=e._sheetPage.clientWidth+e._tabContainer.parentElement.clientWidth+"px"),e._adjustNavigationButtons(e._rtl),e.addEventListener(n,"mousedown",function(){e._owner._mouseHdl._htDown=null}),e.addEventListener(n,"dragstart",function(i){i.dataTransfer.setData("text","foo"),e._dragSrcIdx=i.target instanceof HTMLLIElement&&e._owner._isDescendant(e._tabContainer,i.target)?e._getItemIndex(e._tabContainer,i.target):-1}),e.addEventListener(n,"dragover",function(i){i.dataTransfer.dropEffect="move",i.preventDefault(),i.stopPropagation()}),e.addEventListener(n,"drop",function(i){if(e._dragSrcIdx>-1){var r;if(i.target instanceof HTMLLIElement&&e._owner._isDescendant(e._tabContainer,i.target))r=e._getItemIndex(e._tabContainer,i.target);else{var o=e._tabContainer.getBoundingClientRect();r=i.clientX<o.left?0:i.clientX>o.right?e._sheets.length-1:-1}if(r!==e._dragSrcIdx){var a=e._sheets[e._dragSrcIdx],d=e._owner.selection.clone();e._sheets._exchangingPosition=!0,e._sheets.deferUpdate(function(){a.grid._selHdl.select(d,!1,!1),e._sheets.splice(e._dragSrcIdx,1),e._sheets.splice(r,0,a)}),e._owner.selectedSheetIndex=r,e._sheets._exchangingPosition=!1}}e._dragSrcIdx=-1,i.preventDefault(),i.stopPropagation()}),e.addEventListener(e._newSheet,"click",function(i){var r=e._owner.selectedSheetIndex;e._owner.addUnboundSheet(),e._scrollToActiveSheet(e._owner.selectedSheetIndex,r)}),e._sheets.collectionChanged.addHandler(e._sourceChanged,e),e._sheets.selectedSheetChanged.addHandler(e._selectedSheetChanged,e),e._sheets.sheetNameChanged.addHandler(e._updateSheetName,e),e._sheets.sheetVisibleChanged.addHandler(e._updateTabShown,e),e._initSheetPage(),e._initSheetTab()},t.prototype._initSheetTab=function(){var e=this;e.addEventListener(e._tabContainer,"mousedown",function(n){var i,r=n.target;r instanceof HTMLLIElement&&(e._sheetTabClicked=!0,i=e._getItemIndex(e._tabContainer,r),e._scrollSheetTabContainer(r),i>-1&&(e._sheets.selectedIndex=i))}),e.addEventListener(e._tabContainer,"dblclick",function(n){var i,r=n.target;r instanceof HTMLLIElement&&(i=e._getItemIndex(e._tabContainer,r),e._scrollSheetTabContainer(r),i>-1&&e._startEditingSheetName(i))}),e.addEventListener(e._tabContainer,"contextmenu",function(n){n.preventDefault(),e._contextMenu.show(n)})},t.prototype._initSheetPage=function(){var e=this;e.hostElement.querySelector("div.wj-sheet-page").addEventListener("click",function(n){var i="[object HTMLButtonElement]"===n.target.toString()?n.target:n.target.parentElement,r=e._getItemIndex(e._sheetPage,i);if(0!==e._sheets.length)switch(r){case 0:e._sheets.selectFirst();break;case 1:e._sheets.selectPrevious();break;case 2:e._sheets.selectNext();break;case 3:e._sheets.selectLast()}})},t.prototype._getSheetTabs=function(){for(var e="",n=0;n<this._sheets.length;n++)e+=this._getSheetElement(this._sheets[n],this._sheets.selectedIndex===n);return e},t.prototype._getSheetElement=function(e,n){void 0===n&&(n=!1);var i="<li";return e.visible?n&&(i+=' class="active"'):i+=' class="hidden"',i+' draggable="true">'+e.name+"</li>"},t.prototype._updateTabActive=function(e,n){e>=0&&e<this._tabContainer.children.length&&(0,u.toggleClass)(this._tabContainer.children[e],"active",n)},t.prototype._updateTabShown=function(e,n){n.index<0||n.index>=this._tabContainer.children.length||(n.item.visible?(0,u.removeClass)(this._tabContainer.children[n.index],"hidden"):(0,u.addClass)(this._tabContainer.children[n.index],"hidden"),this._adjustSize())},t.prototype._adjustSize=function(){var e,n=0;if("none"!==this.hostElement.style.display){e=this._tabContainer.parentElement.scrollLeft,this._tabContainer.parentElement.style.width="",this._tabContainer.style.width="",this._sheetPage.parentElement.style.width="";for(var i=0,r=this._tabContainer.childElementCount;i<r;i++)n+=this._tabContainer.children[i].offsetWidth+1;var o=this.hostElement.offsetWidth-this._sheetPage.offsetWidth-this._newSheet.offsetWidth-2;this._tabContainer.parentElement.style.width=(n>o?o:n)+"px",this._tabContainer.style.width=n+"px",this._sheetPage.parentElement.style.width=this._sheetPage.offsetWidth+this._newSheet.offsetWidth+this._tabContainer.parentElement.offsetWidth+3+"px",this._tabContainer.parentElement.scrollLeft=e}},t.prototype._getItemIndex=function(e,n){for(var i=0;i<e.children.length;i++)if(e.children[i]===n)return i;return-1},t.prototype._updateSheetName=function(e,n){this._tabContainer.querySelectorAll("li")[n.index].textContent=n.item.name,this._adjustSize()},t.prototype._scrollSheetTabContainer=function(e){var n=this._tabContainer.parentElement.scrollLeft,i=this._tabContainer.parentElement.offsetWidth;if(this._rtl)switch(It._getRtlMode()){case"rev":var r=-this._tabContainer.offsetLeft;r+e.offsetLeft+e.offsetWidth>i+n?this._tabContainer.parentElement.scrollLeft+=e.offsetWidth:r+e.offsetLeft<n&&(this._tabContainer.parentElement.scrollLeft-=e.offsetWidth);break;case"neg":e.offsetLeft<n?this._tabContainer.parentElement.scrollLeft-=e.offsetWidth:e.offsetLeft+e.offsetWidth>i+n&&(this._tabContainer.parentElement.scrollLeft+=e.offsetWidth);break;default:var o=this._newSheet.offsetWidth;e.offsetLeft-o+n<0?this._tabContainer.parentElement.scrollLeft+=e.offsetWidth:e.offsetLeft+e.offsetWidth-o+n>i&&(this._tabContainer.parentElement.scrollLeft-=e.offsetWidth)}else{var a=this._sheetPage.offsetWidth;e.offsetLeft+e.offsetWidth-a>i+n?this._tabContainer.parentElement.scrollLeft+=e.offsetWidth:e.offsetLeft-a<n&&(this._tabContainer.parentElement.scrollLeft-=e.offsetWidth)}},t.prototype._adjustSheetsPosition=function(){for(var e=this._tabContainer.querySelectorAll("li"),n=0,i=0;i<e.length;i++){var r=e[i];r.style.cssFloat="right",r.style.right=n+"px",n+=e[i].clientWidth}},t.prototype._scrollToActiveSheet=function(e,n){var i=this._tabContainer.querySelectorAll("li"),r=0;if(this._tabContainer.clientWidth>this._tabContainer.parentElement.clientWidth&&(r=this._tabContainer.clientWidth-this._tabContainer.parentElement.clientWidth),i.length>0&&e<i.length&&n<i.length){if(0===e&&!this._rtl||e===i.length-1&&this._rtl){if(this._rtl)switch(It._getRtlMode()){case"rev":this._tabContainer.parentElement.scrollLeft=0;break;case"neg":this._tabContainer.parentElement.scrollLeft=-r;break;default:this._tabContainer.parentElement.scrollLeft=r}else this._tabContainer.parentElement.scrollLeft=0;return}if(0===e&&this._rtl||e===i.length-1&&!this._rtl)return void(this._tabContainer.parentElement.scrollLeft=this._rtl?"rev"===It._getRtlMode()?r:0:r);if(e>=n)for(var o=n+1;o<=e;o++){var a=i[o];this._scrollSheetTabContainer(a)}else for(o=n-1;o>=e;o--)this._scrollSheetTabContainer(a=i[o])}},t.prototype._adjustNavigationButtons=function(e){var n=this.hostElement.querySelectorAll(".wj-sheet-page button");if(n&&4===n.length){var i=void 0;e?(i=n[0].querySelector("span"),(0,u.removeClass)(i,"wj-glyph-step-backward"),(0,u.addClass)(i,"wj-glyph-step-forward"),i=n[1].querySelector("span"),(0,u.removeClass)(i,"wj-glyph-left"),(0,u.addClass)(i,"wj-glyph-right"),i=n[2].querySelector("span"),(0,u.removeClass)(i,"wj-glyph-right"),(0,u.addClass)(i,"wj-glyph-left"),i=n[3].querySelector("span"),(0,u.removeClass)(i,"wj-glyph-step-forward"),(0,u.addClass)(i,"wj-glyph-step-backward")):(i=n[0].querySelector("span"),(0,u.removeClass)(i,"wj-glyph-step-forward"),(0,u.addClass)(i,"wj-glyph-step-backward"),i=n[1].querySelector("span"),(0,u.removeClass)(i,"wj-glyph-right"),(0,u.addClass)(i,"wj-glyph-left"),i=n[2].querySelector("span"),(0,u.removeClass)(i,"wj-glyph-left"),(0,u.addClass)(i,"wj-glyph-right"),i=n[3].querySelector("span"),(0,u.removeClass)(i,"wj-glyph-step-backward"),(0,u.addClass)(i,"wj-glyph-step-forward"))}},t.prototype._startEditingSheetName=function(e){var n,i=this,r=i._tabContainer.children[e],o=r.textContent;i._editingSheetTab=r,i._measureEle=document.createElement("span"),i._measureEle.setAttribute(It._WJS_MEASURE,"true"),i._measureEle.style.visibility="hidden",i.hostElement.appendChild(i._measureEle),r.innerHTML='<input type="text" style="width: '+(r.offsetWidth-40)+'px;"/>',(0,u.addClass)(n=r.children[0],"wj-sheet-name-editor wj-form-control"),n.value=o,(0,u.setSelectionRange)(n,0,o.length),i.addEventListener(n,"keydown",function(a){a.keyCode===u.Key.Enter?i._commitSheetName():i._measureInputWidth(a.key)}),i.addEventListener(n,"blur",i._commitSheetName.bind(i))},t.prototype._commitSheetName=function(){if(this._editingSheetTab){var e=this._editingSheetTab.children[0];this.removeEventListener(e);var n=e.value,i=this._getItemIndex(this._tabContainer,this._editingSheetTab);null!=n&&""!==n&&-1===this._sheets._getSheetIndexFrom(n)?(this._sheets[i].name=n,this._editingSheetTab.textContent=n):this._editingSheetTab.textContent=this._sheets[i].name,this._editingSheetTab=null,(0,u.removeChild)(this._measureEle),this._measureEle=null,this._adjustSize()}},t.prototype._measureInputWidth=function(e){if(this._editingSheetTab&&!(e.length>1)){var n=this._editingSheetTab.children[0],r=n.selectionEnd,o=n.value;null!=(o=o.substring(0,n.selectionStart)+e+o.substring(r))&&""!==o&&(this._measureEle.textContent=o,n.style.width=this._measureEle.offsetWidth+"px",this._adjustSize())}},t.controlTemplate='<div wj-part="sheet-container" class="wj-sheet" style="height:100%;position:relative"><div wj-part="sheet-page" class="wj-btn-group wj-sheet-page"><button type="button" class="wj-btn wj-btn-default"><span class="wj-sheet-icon wj-glyph-step-backward"></span></button><button type="button" class="wj-btn wj-btn-default"><span class="wj-sheet-icon wj-glyph-left"></span></button><button type="button" class="wj-btn wj-btn-default"><span class="wj-sheet-icon wj-glyph-right"></span></button><button type="button" class="wj-btn wj-btn-default"><span class="wj-sheet-icon wj-glyph-step-forward"></span></button></div><div class="wj-sheet-tab" style="height:100%;overflow:hidden"><ul wj-part="container"></ul></div><div wj-part="new-sheet" class="wj-new-sheet"><span class="wj-sheet-icon wj-glyph-file"></span></div><div wj-part="context-menu" style="display:none;z-index:100"></div></div>',t}(u.Control),af=function(){function s(t,e){this._column=t,this._ascending=e}return Object.defineProperty(s.prototype,"column",{get:function(){return this._column},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"ascending",{get:function(){return this._ascending},enumerable:!0,configurable:!0}),s}(),Up=function(s){function t(e,n){var i=s.call(this,e)||this;return i._splitterMousedownHdl=i._splitterMousedownHandler.bind(i),i._owner=n,i.applyTemplate("",i.getTemplate(),{_divSheet:"left",_divSplitter:"splitter",_divRight:"right"}),i._init(),i}return yr(t,s),Object.defineProperty(t.prototype,"sheetControl",{get:function(){return this._sheetControl},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"visible",{get:function(){return"none"!==this.hostElement.style.display},set:function(e){this.hostElement.style.display=e?"block":"none",this._divSheet.style.display=e?"block":"none"},enumerable:!0,configurable:!0}),t.prototype.getSheetBlanketSize=function(){return 20},t.prototype.adjustSize=function(){var n=this._divSplitter.parentElement;this._owner.scrollSize.width-this._owner.clientSize.width<=0?(n.style.minWidth="100px",this._divSplitter.style.display="none",this._divRight.style.display="none",this._divSheet.style.width="100%",this._divSplitter.removeEventListener("mousedown",this._splitterMousedownHdl,!0)):(n.style.minWidth="300px",this._divSplitter.style.display="none",this._divRight.style.display="none",this._divSheet.style.width="100%",this._divSplitter.removeEventListener("mousedown",this._splitterMousedownHdl,!0),this._divSplitter.addEventListener("mousedown",this._splitterMousedownHdl,!0)),this._sheetControl._adjustSize()},t.prototype._init=function(){var e=this;e._funSplitterMousedown=function(n){e._splitterMouseupHandler(n)},e._divSplitter.parentElement.style.height=e.getSheetBlanketSize()+"px",e._sheetControl=new ud(e._divSheet,this._owner)},t.prototype._splitterMousedownHandler=function(e){this._startPos=e.pageX,document.addEventListener("mousemove",this._splitterMousemoveHandler.bind(this),!0),document.addEventListener("mouseup",this._funSplitterMousedown,!0),e.preventDefault()},t.prototype._splitterMousemoveHandler=function(e){null!=this._startPos&&this._adjustDis(e.pageX-this._startPos)},t.prototype._splitterMouseupHandler=function(e){document.removeEventListener("mousemove",this._splitterMousemoveHandler,!0),document.removeEventListener("mouseup",this._funSplitterMousedown,!0),this._adjustDis(e.pageX-this._startPos),this._startPos=null},t.prototype._adjustDis=function(e){var n=this._divRight.offsetWidth-e,i=this._divSheet.offsetWidth+e;n<=100?i=this._divSheet.offsetWidth+(e=this._divRight.offsetWidth-(n=100)):i<=100&&(e=(i=100)-this._divSheet.offsetWidth,n=this._divRight.offsetWidth-e),0!=e&&(this._divRight.style.width=n+"px",this._divSheet.style.width=i+"px",this._startPos=this._startPos+e)},t.controlTemplate='<div><div wj-part="left" style="float:left;height:100%;overflow:hidden"></div><div wj-part="splitter" style="float:left;height:100%;width:6px;background-color:#e9eaee;padding:2px;cursor:e-resize"><div style="background-color:#8a9eb2;height:100%"></div></div><div wj-part="right" style="float:left;height:100%;background-color:#e9eaee"></div></div>',t}(u.Control),Jn=function(){function s(t,e){this._evaluated=!1,this._rounder=t,this._token=e?e instanceof xa?e:new xa(e,_i.ATOM,lr.LITERAL):new xa(null,_i.ATOM,lr.IDENTIFIER)}return Object.defineProperty(s.prototype,"token",{get:function(){return this._token},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"evaluated",{get:function(){return this._evaluated},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"evaluatedValue",{get:function(){return this._evaluated?this._evaluatedValue:void 0},set:function(t){this._evaluatedValue=t,this._evaluated=!0},enumerable:!0,configurable:!0}),s.prototype.evaluate=function(t,e,n,i,r,o){if(void 0===i&&(i=!0),void 0===r&&(r=!1),void 0===o&&(o=!0),this._token.tokenType===lr.ERROR){if(o)throw this._token.value;return this._token.value}if(this._token.tokenType!==lr.LITERAL)throw new jr(ai.BadExpression);return this._token.value},s.toString=function(t,e,n,i){var r=t.evaluate(e,n,i);if(r instanceof Ko)throw r;return(null==r||t instanceof So&&t._isEmpty)&&(r=""),r&&!(0,u.isPrimitive)(r)&&(r=r.value),(0,u.isString)(r)&&"'"===r[0]&&(r=r.substr(1)),(0,u.isDate)(r)&&(r=r.valueOf()),null!=r?r.toString():""},s.toNumber=function(t,e,n,i){var r=t.evaluate(e,n,i);if((null==r||t instanceof So&&t._isEmpty)&&(r=0),r instanceof Ko)throw r;if(r&&!(0,u.isPrimitive)(r)&&(r=r.value),(0,u.isNumber)(r))return r;if((0,u.isBoolean)(r))return r?1:0;if((0,u.isDate)(r))return ia._toOADate(r);if((0,u.isString)(r)&&("'"===r[0]&&(r=r.substr(1)),r=r.trim())){if(!isNaN(+r))return+r;if(this.isDateValue(r))return ia._toOADate(new Date(r))}return(0,u.changeType)(r,u.DataType.Number)},s.toBoolean=function(t,e,n,i){var r=t.evaluate(e,n,i);if((null==r||t instanceof So&&t._isEmpty)&&(r=0),r instanceof Ko)throw r;return r&&!(0,u.isPrimitive)(r)&&(r=r.value),(0,u.isBoolean)(r)?r:(0,u.isNumber)(r)?0!==r:((0,u.isString)(r)&&"'"===r[0]&&(r=r.substr(1)),(0,u.changeType)(r,u.DataType.Boolean,""))},s.toDate=function(t,e,n,i){var r=t.evaluate(e,n,i);if((null==r||t instanceof So&&t._isEmpty)&&(r=0),r instanceof Ko)throw r;return r&&!(0,u.isPrimitive)(r)&&(r=r.value),(0,u.isDate)(r)?r:(0,u.isNumber)(r)?ia._fromOADate(r):((0,u.isString)(r)&&"'"===r[0]&&(r=r.substr(1)),(0,u.changeType)(r,u.DataType.Date,""))},s.isDateValue=function(t){var e,n=["January","February","March","April","May","June","July","August","September","October","November","December","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];if(!t||t instanceof Ko||(0,u.isPrimitive)(t)||(t=t.value),!(e=(0,u.isDate)(t))&&(0,u.isString)(t)&&("'"===t[0]&&(t=t.substr(1)),!(0,u.isNullOrWhiteSpace)(t)&&isNaN(t)&&(t.indexOf("/")>0||t.indexOf("-")>0)&&!(e=!isNaN(Date.parse(t)))))for(var i in n)if(t.indexOf(n[i])>-1){e=!0;break}return e},s.prototype._refersTo=function(t){return!1},s.prototype._updateCellRangeExp=function(t,e,n,i,r,o){return!1},s.prototype._moveCellRangeExp=function(t,e,n,i,r){return void 0===i&&(i=!1),void 0===r&&(r=!1),!1},s.prototype._updateCellRangeExpForReorderingRows=function(t){return!1},s.prototype._updateCellBoundary=function(t,e){return!1},s.prototype._getStringExpression=function(){return null==this._token.value?"":(0,u.isString)(this._token.value)?'"'+this._token.value+'"':this._token.value.toString()},s}(),Kd=function(s){function t(e,n,i){var r=s.call(this,e,n)||this;return r._expr=i,r}return yr(t,s),t.prototype.evaluate=function(e,n,i,r,o,a){if(void 0===r&&(r=!0),void 0===o&&(o=!1),void 0===a&&(a=!0),this._expr.token.tokenType===lr.ERROR){if(a)throw this._expr.token.value;return this._expr.token.value}if(this.token.tokenID===_i.SUB){if(!this.evaluated){var d=Jn.toNumber(this._expr,e,n,i);this.evaluatedValue=(0,u.isString)(d)?NaN:-d}return this.evaluatedValue}if(this.token.tokenID===_i.ADD)return this.evaluated||(d=Jn.toNumber(this._expr,e,n,i),this.evaluatedValue=(0,u.isString)(d)?NaN:+d),this.evaluatedValue;throw new jr(ai.BadExpression)},t.prototype._refersTo=function(e){return this._expr._refersTo(e)},t.prototype._updateCellRangeExp=function(e,n,i,r,o,a){return this._expr._updateCellRangeExp(e,n,i,r,o,a)},t.prototype._moveCellRangeExp=function(e,n,i,r,o){return void 0===r&&(r=!1),void 0===o&&(o=!1),this._expr._moveCellRangeExp(e,n,i,r,o)},t.prototype._updateCellRangeExpForReorderingRows=function(e){return this._expr._updateCellRangeExpForReorderingRows(e)},t.prototype._getStringExpression=function(){return this.token.tokenID===_i.SUB?(this._inGroup?"(":"")+"-"+this._expr._getStringExpression()+(this._inGroup?")":""):this.token.tokenID===_i.ADD?(this._inGroup?"(":"")+"+"+this._expr._getStringExpression()+(this._inGroup?")":""):""},t}(Jn),dd=function(s){function t(e,n,i,r){var o=s.call(this,e,n)||this;return o._leftExpr=i,o._rightExpr=r,o}return yr(t,s),t.prototype.evaluate=function(e,n,i,r,o,a){var d,p,v,M;if(void 0===r&&(r=!0),void 0===o&&(o=!1),void 0===a&&(a=!0),this.evaluated)return this.evaluatedValue;if(this._leftExpr.token.tokenType===lr.ERROR){if(a)throw this._leftExpr.token.value;return this._leftExpr.token.value}if(this._rightExpr.token.tokenType===lr.ERROR){if(a)throw this._rightExpr.token.value;return this._rightExpr.token.value}var T=Jn.toString(this._leftExpr,e,n,i),k=Jn.toString(this._rightExpr,e,n,i);if(this.token.tokenType===lr.CONCAT)return this.evaluatedValue=T+k;var L=this._leftExpr.evaluate(e,n,i),Y=this._rightExpr.evaluate(e,n,i);L&&!(0,u.isPrimitive)(L)&&(d=L.format,L=L.value),Y&&!(0,u.isPrimitive)(Y)&&(p=Y.format,Y=Y.value);var ce=Jn.isDateValue(L),ae=Jn.isDateValue(Y),Ee=ce||ae;if(Ee?(v=(0,u.isDate)(L)?ia._toOADate(L):(0,u.isNumber)(L)?L:ia._toOADate(new Date(L)),M=(0,u.isDate)(Y)?ia._toOADate(Y):(0,u.isNumber)(Y)?Y:ia._toOADate(new Date(Y))):(v=Jn.toNumber(this._leftExpr,e,n,i),M=Jn.toNumber(this._rightExpr,e,n,i)),this.token.tokenType===lr.COMPARE){var Me=void 0;this._leftExpr instanceof So&&this._leftExpr._isEmpty&&(L=null),this._rightExpr instanceof So&&this._rightExpr._isEmpty&&(Y=null);var ze=null==L,st=null==Y;if(ze!==st)Me=ze&&!Y||st&&!L?0:ze?-1:1;else{var xt=typeof L,yt=typeof Y;if(o&&xt!==yt){if(this.token.tokenID===_i.NE)return this.evaluatedValue=!0;if(this.token.tokenID!==_i.EQ||"number"!==yt&&!ae)return this.evaluatedValue=!1}var St="boolean"===xt;if(St!==("boolean"===yt))Me=St?1:-1;else{var Dt="string"===xt;r&&Dt!==("string"===yt)?Me=Dt?1:-1:0!==L&&(0,u.isNullOrWhiteSpace)(L)||0!==Y&&(0,u.isNullOrWhiteSpace)(Y)?Me=L===Y?0:L<Y?-1:1:((0,u.isNumber)(v)&&(v=this._rounder.round(v)),(0,u.isNumber)(M)&&(M=this._rounder.round(M)),Me=v-M)}}switch(this.token.tokenID){case _i.GT:return this.evaluatedValue=Me>0;case _i.LT:return this.evaluatedValue=Me<0;case _i.GE:return this.evaluatedValue=Me>=0;case _i.LE:return this.evaluatedValue=Me<=0;case _i.EQ:return this.evaluatedValue=isNaN(Me)?T.toLowerCase()===k.toLowerCase():0===Me;case _i.NE:return this.evaluatedValue=isNaN(Me)?T.toLowerCase()!==k.toLowerCase():0!==Me}}if((0,u.isString)(v)||(0,u.isString)(M))throw new Zi;switch(this.token.tokenID){case _i.ADD:this.evaluatedValue=v+M;break;case _i.SUB:this.evaluatedValue=v-M;break;case _i.MUL:this.evaluatedValue=v*M;break;case _i.DIV:case _i.PERCENT:if(0===M)throw this.evaluatedValue=new Ca;this.evaluatedValue=v/M;break;case _i.DIVINT:if(0===M)throw this.evaluatedValue=new Ca;this.evaluatedValue=Math.floor(v/M);break;case _i.MOD:if(0===M)throw this.evaluatedValue=new Ca;this.evaluatedValue=Math.floor(v%M);break;case _i.POWER:switch(M){case 0:this.evaluatedValue=1;break;case.5:this.evaluatedValue=Math.sqrt(v);break;case 1:this.evaluatedValue=v;break;case 2:this.evaluatedValue=v*v;break;case 3:this.evaluatedValue=v*v*v;break;case 4:this.evaluatedValue=v*v*v*v;break;default:this.evaluatedValue=Math.pow(v,M)}break;default:this.evaluatedValue=NaN}if(!isNaN(this.evaluatedValue))return Ee&&(this.evaluatedValue={value:ia._fromOADate(this.evaluatedValue),format:d||p}),this.evaluatedValue;throw new jr(ai.BadExpression)},t.prototype._refersTo=function(e){return this._leftExpr._refersTo(e)||this._rightExpr._refersTo(e)},t.prototype._updateCellRangeExp=function(e,n,i,r,o,a){var d,p=!1;return d=this._leftExpr._updateCellRangeExp(e,n,i,r,o,a),p=p||d,d=this._rightExpr._updateCellRangeExp(e,n,i,r,o,a),p||d},t.prototype._moveCellRangeExp=function(e,n,i,r,o){void 0===r&&(r=!1),void 0===o&&(o=!1);var a,d=!1;return a=this._leftExpr._moveCellRangeExp(e,n,i,r,o),d=d||a,a=this._rightExpr._moveCellRangeExp(e,n,i,r,o),d||a},t.prototype._updateCellRangeExpForReorderingRows=function(e){var n,i=!1;return n=this._leftExpr._updateCellRangeExpForReorderingRows(e),i=i||n,n=this._rightExpr._updateCellRangeExpForReorderingRows(e),i||n},t.prototype._getStringExpression=function(){var e=$d[this.token.tokenID]||"",n=this._leftExpr._getStringExpression(),i=this.token.tokenID!==_i.PERCENT?this._rightExpr._getStringExpression():"";return(this._inGroup?"(":"")+n+e+i+(this._inGroup?")":"")},t}(Jn),So=function(s){function t(e,n,i,r,o,a,d,p,v,M){void 0===o&&(o=!0),void 0===a&&(a=!1),void 0===d&&(d=!1),void 0===p&&(p=!1),void 0===v&&(v=!1);var T=s.call(this,e)||this;return T._cells=new W(n.topRow,n.leftCol,n.bottomRow,n.rightCol),T._sheetRef=i,T._flex=r,T._evalutingRange={},T._isCellRange=o,T._absRow=a,T._absCol=d,T._absRow2=p,T._absCol2=v,T._isWholeRow=M,T}return yr(t,s),t.prototype.evaluate=function(e,n,i,r,o,a){if(void 0===r&&(r=!0),void 0===o&&(o=!1),void 0===a&&(a=!0),!this.evaluated){var d=this._extendRange(i),p=this._getCellValue(d,i,e,n,a,!0);this._isEmpty=null==p,this.evaluatedValue=p}return null==this.evaluatedValue?0:this.evaluatedValue},t.prototype.getValues=function(e,n,i,r){void 0===e&&(e=!0),void 0===r&&(r=!0);var o=[];if(!(i=this._getSheet()||i||this._flex.selectedSheet))return null;for(var a=this._extendRange(i),d=null==n||isNaN(+n)?a.leftCol:n,p=null==n||isNaN(+n)?a.rightCol:n,v=new W,M=a.topRow;M<=a.bottomRow&&M<i.grid.rows.length;M++)if(e||!1!==i.grid.rows[M].isVisible)for(var T=d;T<=p&&T<i.grid.columns.length;T++){v.setRange(M,T);var k=this._getCellValue(v,i,void 0,void 0,r);!k||k instanceof Ko||(0,u.isPrimitive)(k)||(k=k.value),o.push(k)}return o},t.prototype.getValuesWithTwoDimensions=function(e,n){void 0===e&&(e=!0);var i,r,o,a,d,p=[],v=0,M=0;if(!(n=this._getSheet()||n||this._flex.selectedSheet))return null;for(o=(d=this._extendRange(n)).topRow;o<=d.bottomRow&&o<n.grid.rows.length;o++)if(e||!1!==n.grid.rows[o].isVisible){for(r=[],M=0,a=d.leftCol;a<=d.rightCol&&a<n.grid.columns.length;a++)(e||!1!==n.grid.columns[a].isVisible)&&(!(i=this._getCellValue(new W(o,a),n))||i instanceof Ko||(0,u.isPrimitive)(i)||(i=i.value),r[M]=i),M++;p[v]=r,v++}else v++;return p},Object.defineProperty(t.prototype,"cells",{get:function(){return this._cells},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sheetRef",{get:function(){return this._sheetRef},enumerable:!0,configurable:!0}),t.prototype._getCellValue=function(e,n,i,r,o,a){var d,p,v;if(void 0===o&&(o=!0),!(n=this._getSheet()||n||this._flex.selectedSheet))return null;if(e.isSingleCell?(p=e.row,v=e.col):(null!=i&&i>=e.topRow&&i<=e.bottomRow&&e.col===e.col2&&(p=i,v=e.col),null!=r&&r>=e.leftCol&&r<=e.rightCol&&e.row===e.row2&&(p=e.row,v=r)),null==p||null==v)throw new Vl(ai.InvalidCellRef);if(this._evalutingRange[d=n.name+":"+p+","+v+"-"+p+","+v])throw new jr(ai.CircRef);try{if(this._flex){this._evalutingRange[d]=!0;var M=n===this._flex.selectedSheet?this._flex:n.grid;if(p<M.rows.length&&v<M.columns.length){var T=n.grid.columns[v],k=this._flex.getCellValue(p,v,!!a&&0,n);if(k instanceof Ko){if(o)throw k;return k}return T.dataMap&&!a&&(k=T.dataMap.getDisplayValue(k)),k}return 0}}finally{delete this._evalutingRange[d]}},t.prototype._getSheet=function(){if(!this._sheetRef)return null;var e=this._flex._getSheet(this._sheetRef);if(!e)throw new Vl(ai.InvalidSheetRef);return e},t.prototype._refersTo=function(e){return e.contains(this.cells)},t.prototype._updateCellRangeExp=function(e,n,i,r,o,a){var d=this._cells,p=!1;if(this._tableParams&&this._tableParams.length>0)return!1;if(e===this._flex.selectedSheetIndex){if(this._sheetRef&&this._sheetRef.toLowerCase()!==this._flex.selectedSheet.name.toLowerCase())return!1}else if(!this._sheetRef||this._sheetRef.toLowerCase()!==this._flex.selectedSheet.name.toLowerCase())return!1;if(o){if(null==this._isWholeRow||this._isWholeRow){if(a&&(d.leftCol>a.rightCol||d.rightCol<a.leftCol))return!1;r?d.topRow>=n?(d.row+=i,d.row2+=i,p=!0):d.topRow<n&&d.bottomRow>=n&&(d.row2+=i,p=!0):d.topRow>n?(d.row-=i,d.row2-=i,p=!0):d.isSingleCell?d.row>=n-i+1&&(d.row=n-i+1,d.row2=n-i+1,p=!0):d.topRow>=n-i+1?(d.row=n-i+1,d.row2-=i,p=!0):d.topRow<n-i+1&&d.bottomRow>=n-i+1&&(d.bottomRow>n?d.row2-=i:d.row2=n-i,p=!0)}}else if(null==this._isWholeRow||!this._isWholeRow){if(a&&(d.topRow>a.bottomRow||d.bottomRow<a.topRow))return!1;r?d.leftCol>=n?(d.col+=i,d.col2+=i,p=!0):d.leftCol<n&&d.rightCol>=n&&(d.col2+=i,p=!0):d.leftCol>n?(d.col-=i,d.col2-=i,p=!0):d.isSingleCell?d.col>=n-i+1&&(d.col=n-i+1,d.col2=n-i+1,p=!0):d.leftCol>=n-i+1?(d.col=n-i+1,d.col2-=i,p=!0):d.leftCol<n-i+1&&d.rightCol>=n-i+1&&(d.rightCol>n?d.col2-=i:d.col2=n-i,p=!0)}return p},t.prototype._moveCellRangeExp=function(e,n,i,r,o){void 0===r&&(r=!1),void 0===o&&(o=!1);var a,d,p=this._cells,v=!1;if(this._tableParams&&this._tableParams.length>0||this._flex.selectedSheetIndex!=e&&(!this._sheetRef||this._sheetRef.toLowerCase()!==this._flex.selectedSheet.name.toLowerCase())||!o&&this._flex.selectedSheetIndex==e&&this._sheetRef&&this._sheetRef.toLowerCase()!==this._flex.selectedSheet.name.toLowerCase())return!1;if(a=i.topRow-n.topRow,d=i.leftCol-n.leftCol,o)return 0!==a&&(null==this._isWholeRow||this._isWholeRow)&&(p.row+=o&&this._absRow?0:a,p.row2+=this._isCellRange?o&&this._absRow2?0:a:o&&this._absRow?0:a,v=!0),0!==d&&(null==this._isWholeRow||!this._isWholeRow)&&(p.col+=o&&this._absCol?0:d,p.col2+=this._isCellRange?o&&this._absCol2?0:d:o&&this._absCol?0:d,v=!0),v;if(n.contains(p))0!==a&&(null==this._isWholeRow||this._isWholeRow)&&(p.row+=a,p.row2+=a,v=!0),0!==d&&(null==this._isWholeRow||!this._isWholeRow)&&(p.col+=d,p.col2+=d,v=!0);else if(n.intersects(p)){if(n.intersectsRow(p)){var M=n.topRow>=p.topRow&&n.bottomRow<=p.bottomRow;0===a||null!=this._isWholeRow&&!this._isWholeRow||(n.topRow<=p.topRow?a<0?(p.row+=a,v=!0):a>0&&r&&!(M&&i.bottomRow<p.bottomRow)&&(n.topRow<p.topRow&&(p.row-=p.topRow-n.topRow),p.row2-=n.rowSpan,v=!0):n.bottomRow>=p.bottomRow?a>0?(p.row2+=a,v=!0):a<0&&r&&!(M&&i.topRow>p.topRow)&&(n.bottomRow>p.bottomRow&&(p.row2+=n.bottomRow-p.bottomRow),p.row+=n.rowSpan,v=!0):r&&(a<0&&i.topRow<=p.topRow&&(p.row+=n.rowSpan),a>0&&i.bottomRow>=p.bottomRow&&(p.row2-=n.rowSpan),v=!0))}n.intersectsColumn(p)&&0!==d&&(null==this._isWholeRow||!this._isWholeRow)&&(n.leftCol<=p.leftCol?d<0?(p.col+=d,v=!0):d>0&&r&&(n.leftCol<p.leftCol&&(p.col-=p.leftCol-n.leftCol),p.col2-=n.columnSpan,v=!0):n.rightCol>=p.rightCol?d>0?(p.col2+=d,v=!0):d<0&&r&&(n.rightCol>p.rightCol&&(p.col2+=n.rightCol-p.rightCol),p.col+=n.columnSpan,v=!0):r&&(d<0?p.col+=n.columnSpan:p.col2-=n.columnSpan,v=!0))}else r&&((null==this._isWholeRow||this._isWholeRow)&&(p.row!==p.row2&&p.containsRow(i.topRow)?(a<0?p.row2+=i.rowSpan:p.row=Math.max(0,p.row-i.rowSpan),v=!0):(p.topRow>=i.topRow&&p.topRow<n.topRow&&a<0&&(p.row+=i.rowSpan,p.row2+=i.rowSpan,v=!0),p.topRow>n.bottomRow&&p.bottomRow<=i.bottomRow&&a>0&&(p.row-=i.rowSpan,p.row2-=i.rowSpan,v=!0))),(null==this._isWholeRow||!this._isWholeRow)&&(p.col!==p.col2&&p.containsColumn(i.leftCol)?(d<0?p.col2+=i.columnSpan:p.col=Math.max(0,p.col-i.columnSpan),v=!0):(p.leftCol>=i.leftCol&&p.leftCol<n.leftCol&&d<0&&(p.col+=i.columnSpan,p.col2+=i.columnSpan,v=!0),p.leftCol>n.rightCol&&p.rightCol<=i.rightCol&&d>0&&(p.col-=i.columnSpan,p.col2-=i.columnSpan,v=!0))));return v},t.prototype._updateCellRangeExpForReorderingRows=function(e){var n,i=this._cells;return(null==this._isWholeRow||this._isWholeRow)&&((n=this._cells.row+e)<0?n=0:n>=this._flex.rows.length&&(n=this._flex.rows.length-1),i.row=n,this._isCellRange&&((n=this._cells.row2+e)<0?n=0:n>=this._flex.rows.length&&(n=this._flex.rows.length-1)),i.row2=n),!0},t.prototype._updateCellBoundary=function(e,n){var i=this._cells;return!(this._sheetRef&&this._sheetRef.toLowerCase()!==this._flex.selectedSheet.name.toLowerCase()||(i.row===i.row2&&i.row===e&&n===i.col2+1?(i.col2+=1,0):i.col!==i.col2||i.col!==n||e!==i.row2+1||(i.row2+=1,0)))},t.prototype._getStringExpression=function(){if(this._tableParams&&this._tableParams.length>0)return this._getTableParamsStringExpression();var e=this._quoteName(this._sheetRef);return this._definedName?this._definedName:(e?e+"!":"")+hn.xlsxAddress(this._cells.row,this._cells.col,this._absRow,this._absCol,this._isWholeRow)+(this._isCellRange?":"+hn.xlsxAddress(this._cells.row2,this._cells.col2,this._absRow2,this._absCol2,this._isWholeRow):"")},t.prototype._quoteName=function(e){return e&&(/[\s\-!\$]/.test(e)||/^\d/.test(e))&&(e="'"+e+"'"),e},t.prototype._getTableParamsStringExpression=function(){var e,n=0,i="",r=this._tableParams.length,o=!1;if(!this._defTableParameterProvided){for(;n<r;n++)"#"===(e=this._tableParams[n])[0]?(i+="["+e+"]",n<r-1&&(i+=", ")):o?i+=": ["+e+"]":(i+="["+e+"]",o=!0);r>1&&(i="["+i+"]")}return this._tableName&&(i=this._tableName+i),i},t.prototype._extendRange=function(e){var n=this._cells.clone();return null!=this._isWholeRow&&(this._isWholeRow?(n.col=0,n.col2=e?e.grid.columns.length-1:this._flex.columns.length-1):(n.row=0,n.row2=e?e.grid.rows.length-1:this._flex.rows.length-1)),n},t}(Jn),kc=function(s){function t(e,n,i,r,o){void 0===o&&(o=!0);var a=s.call(this,e)||this;return a._funcId=n,a._funcDefinition=i,a._params=r,a._needCacheEvaluatedVal=o,a}return yr(t,s),t.prototype.evaluate=function(e,n,i){return this._needCacheEvaluatedVal?(this.evaluated||(this.evaluatedValue=this._funcDefinition.func(this._params,i,e,n)),this.evaluatedValue):this._funcDefinition.func(this._params,i,e,n)},t.prototype._refersTo=function(e){if(this._params)for(var n=0;n<this._params.length;n++)if(this._params[n]._refersTo(e))return!0;return!1},t.prototype._updateCellRangeExp=function(e,n,i,r,o,a){var d,p,v=!1;if(this._params&&this._params.length>0)for(d=0;d<this._params.length;d++)p=this._params[d]._updateCellRangeExp(e,n,i,r,o,a),v||(v=v||p);return v},t.prototype._moveCellRangeExp=function(e,n,i,r,o){void 0===r&&(r=!1),void 0===o&&(o=!1);var a,d,p=!1;if(this._params&&this._params.length>0)for(a=0;a<this._params.length;a++)d=this._params[a]._moveCellRangeExp(e,n,i,r,o),p||(p=p||d);return p},t.prototype._updateCellRangeExpForReorderingRows=function(e){var n,i,r=!1;if(this._params&&this._params.length>0)for(n=0;n<this._params.length;n++)i=this._params[n]._updateCellRangeExpForReorderingRows(e),r||(r=r||i);return r},t.prototype._updateCellBoundary=function(e,n){var i;return!!(this._params&&1===this._params.length&&(i=this._params[0])instanceof So)&&i._updateCellBoundary(e,n)},t.prototype._getStringExpression=function(){return"true"===this._funcId||"false"===this._funcId?this._funcId.toUpperCase():this._funcId+this._parseParamsExpToString()},t.prototype._parseParamsExpToString=function(){var e,n;if(this._params&&this._params.length>0){for(n="",e=0;e<this._params.length;e++)0===e&&(n+="("),n+=this._params[e]._getStringExpression(),n+=e<this._params.length-1?", ":")";return n}return"()"},t}(Jn),Eu=function(){function s(t){this._expressionCache={},this._idChars="_$:!",this._functionTable={},this._cacheSize=0,this._tableRefStart=!1,this.unknownFunction=new u.Event,this._owner=t,this._buildSymbolTable(),this._registerAggregateFunction(),this._registerMathFunction(),this._registerLogicalFunction(),this._registerTextFunction(),this._registerDateFunction(),this._registLookUpReferenceFunction(),this._registFinacialFunction(),this._registAddressRelatedFunction(),this._registerIsFunctions()}return s.prototype.onUnknownFunction=function(t,e){var n,i;if(e&&e.length>0){n=[];for(var r=0;r<e.length;r++)n[r]=e[r].evaluate(this._rowIndex,this._columnIndex)}if(i=new Ud(t,n),this.unknownFunction.raise(this,i),null!=i.value)return new Jn(this,i.value);throw new vl(ai.UnkFuncName(t))},s.prototype.evaluate=function(t,e,n,i,r,o,a){var d,p;if(void 0===o&&(o=!0),void 0===a&&(a=!1),!this._owner.enableFormulas)return t;try{if(Fo(t)){for(this._containsCellRef=!1,this._rowIndex=i,this._columnIndex=r,this._sheet=n||this._owner.selectedSheet,p=(d=this._checkCache(t,o,a)).evaluate(i,r,n,o,a);p instanceof Jn;)p=p.evaluate(i,r,n,o,a);return e&&(0,u.isPrimitive)(p)?u.Globalize.format(p,e):p}return t||""}catch(M){var v=M instanceof Ko?M:new rd(M);return d&&(d.evaluatedValue=v),v}},s.prototype.addCustomFunction=function(t,e,n,i){var r=this;t=t.toLowerCase(),this._functionTable[t]=new fi(function(o){var a,d=[];if(o&&o.length>0)for(var p=0;p<o.length;p++)d[p]=(a=o[p])instanceof So?a.cells:a.evaluate(r._rowIndex,r._columnIndex);return e.apply(r,d)},i,n)},s.prototype.addFunction=function(t,e,n,i){var r=this;t=t.toLowerCase(),this._functionTable[t]=new fi(function(o){var a,d=[];if(o&&o.length>0)for(var p=0;p<o.length;p++)d[p]=(a=o[p])instanceof So?a.getValuesWithTwoDimensions(void 0,r._sheet):[[a.evaluate(r._rowIndex,r._columnIndex)]];return e.apply(r,d)},i,n)},s.prototype.clearExpressionCache=function(){this._expressionCache=null,this._expressionCache={},this._cacheSize=0},s.prototype.round=function(t){var e=this._owner.calculationPrecision;if(e<0)return t;e>20&&(e=20);var n=s.PowOf10[e];return t>=0?Math.round(t*n)/n:-Math.round(Math.abs(t)*n)/n},s.prototype.parse=function(t){return(0,u.isNumber)(t)?(this._token=new xa(t,_i.END,lr.GROUP),new Jn(this,new xa(t,_i.ATOM,lr.LITERAL))):(this._expression=t,this._expressLength=t?t.length:0,this._pointer=0,this._expressLength>0&&"="===this._expression[0]&&this._pointer++,this._parseExpression())},s.prototype._buildSymbolTable=function(){this._tokenTable||(this._tokenTable={},this._addToken("+",_i.ADD,lr.ADDSUB),this._addToken("-",_i.SUB,lr.ADDSUB),this._addToken("(",_i.OPEN,lr.GROUP),this._addToken(")",_i.CLOSE,lr.GROUP),this._addToken("*",_i.MUL,lr.MULDIV),this._addToken(",",_i.COMMA,lr.GROUP),this._addToken(".",_i.PERIOD,lr.GROUP),this._addToken("/",_i.DIV,lr.MULDIV),this._addToken("\\",_i.DIVINT,lr.MULDIV),this._addToken("%",_i.PERCENT,lr.MULDIV),this._addToken("=",_i.EQ,lr.COMPARE),this._addToken(">",_i.GT,lr.COMPARE),this._addToken("<",_i.LT,lr.COMPARE),this._addToken("^",_i.POWER,lr.POWER),this._addToken("<>",_i.NE,lr.COMPARE),this._addToken(">=",_i.GE,lr.COMPARE),this._addToken("<=",_i.LE,lr.COMPARE),this._addToken("&",_i.CONCAT,lr.CONCAT),this._addToken("[",_i.OPEN,lr.SQUAREBRACKETS),this._addToken("]",_i.CLOSE,lr.SQUAREBRACKETS))},s.prototype._registerAggregateFunction=function(){var t=this;t._functionTable.sum=new fi(function(e,n){return t._getAggregateResult(u.Aggregate.Sum,e,n)}),t._functionTable.average=new fi(function(e,n){return t._getAggregateResult(u.Aggregate.Avg,e,n)}),t._functionTable.max=new fi(function(e,n){return t._getAggregateResult(u.Aggregate.Max,e,n)}),t._functionTable.min=new fi(function(e,n){return t._getAggregateResult(u.Aggregate.Min,e,n)}),t._functionTable.var=new fi(function(e,n){return t._getAggregateResult(u.Aggregate.Var,e,n)}),t._functionTable.varp=new fi(function(e,n){return t._getAggregateResult(u.Aggregate.VarPop,e,n)}),t._functionTable.stdev=new fi(function(e,n){return t._getAggregateResult(u.Aggregate.Std,e,n)}),t._functionTable.stdevp=new fi(function(e,n){return t._getAggregateResult(u.Aggregate.StdPop,e,n)}),t._functionTable.count=new fi(function(e,n){return t._getFlexSheetAggregateResult(Rs.Count,e,n)}),t._functionTable.counta=new fi(function(e,n){return t._getFlexSheetAggregateResult(Rs.CountA,e,n)}),t._functionTable.countblank=new fi(function(e,n){return t._getFlexSheetAggregateResult(Rs.CountBlank,e,n)}),t._functionTable.countif=new fi(function(e,n){return t._getFlexSheetAggregateResult(Rs.CountIf,e,n)},2,2),t._functionTable.countifs=new fi(function(e,n){return t._getFlexSheetAggregateResult(Rs.CountIfs,e,n)},254,2),t._functionTable.sumif=new fi(function(e,n){return t._getFlexSheetAggregateResult(Rs.SumIf,e,n)},3,2),t._functionTable.sumifs=new fi(function(e,n){return t._getFlexSheetAggregateResult(Rs.SumIfs,e,n)},255,2),t._functionTable.rank=new fi(function(e,n){return t._getFlexSheetAggregateResult(Rs.Rank,e,n)},3,2),t._functionTable.product=new fi(function(e,n){return t._getFlexSheetAggregateResult(Rs.Product,e,n)},255,1),t._functionTable.subtotal=new fi(function(e,n){return t._handleSubtotal(e,n)},255,2),t._functionTable.dcount=new fi(function(e,n){return t._handleDCount(e,n)},3,3),t._functionTable.sumproduct=new fi(function(e,n){return t._getSumProduct(e,n)},255,1)},s.prototype._registerMathFunction=function(){var t=this;t._functionTable.pi=new fi(function(){return Math.PI},0,0),t._functionTable.rand=new fi(function(){return Math.random()},0,0),t._functionTable.power=new fi(function(e,n){return Math.pow(Jn.toNumber(e[0],t._rowIndex,t._columnIndex,n),Jn.toNumber(e[1],t._rowIndex,t._columnIndex,n))},2,2),t._functionTable.atan2=new fi(function(e,n){var i=Jn.toNumber(e[0],t._rowIndex,t._columnIndex,n),r=Jn.toNumber(e[1],t._rowIndex,t._columnIndex,n);if(0===i&&0===r)throw new Ca(ai.Atan2ArgsLessThanZero);return Math.atan2(r,i)},2,2),t._functionTable.mod=new fi(function(e,n){var i=Jn.toNumber(e[0],t._rowIndex,t._columnIndex,n),r=Jn.toNumber(e[1],t._rowIndex,t._columnIndex,n),o=Math.abs(r);if(0===o)throw new Ca;var a=Math.abs(i)%o;return r<0&&(a=-a),a},2,2),t._functionTable.trunc=new fi(function(e,n){var i,r,o,a=Jn.toNumber(e[0],t._rowIndex,t._columnIndex,n),d=2===e.length?Jn.toNumber(e[1],t._rowIndex,t._columnIndex,n):0;if(0===d?(o="n0",r=a>=0?Math.floor(a):Math.ceil(a)):(o="n"+((d=d>0?Math.floor(d):Math.ceil(d))>0?d:0),i=Math.pow(10,d),r=a>=0?Math.floor(a*i)/i:Math.ceil(a*i)/i),null!=r)return{value:r,format:o}},2,1),["ceiling","floor"].forEach(function(e){t._functionTable[e]=new fi(function(n,i){var r,o,a=Jn.toNumber(n[0],t._rowIndex,t._columnIndex,i),d=2===n.length?Jn.toNumber(n[1],t._rowIndex,t._columnIndex,i):1;if(isNaN(a))throw new Zi(ai.InvalidParameter("number"));if(isNaN(d))throw new Zi(ai.InvalidParameter("significance"));if(a>0&&d<0)throw new Ic(ai.InvalidParameter("significance"));if(0===a||0===d)return 0;if(o=1,0!=(r=d-Math.floor(d)))for(;r<1;)o*=10,r*=10;return d*o*("ceiling"===e?Math.ceil(a/d):Math.floor(a/d))/o},2,1)}),["round","rounddown","roundup"].forEach(function(e){t._functionTable[e]=new fi(function(n,i){var r,o,a,d,p=Jn.toNumber(n[0],t._rowIndex,t._columnIndex,i),v=Jn.toNumber(n[1],t._rowIndex,t._columnIndex,i);if(0===v){switch(e){case"rounddown":r=p>=0?Math.floor(p):Math.ceil(p);break;case"roundup":r=p>=0?Math.ceil(p):Math.floor(p);break;case"round":d=p>=0?0:.1,r=Math.round(p-d);break;default:r=Math.floor(p)}o="n0"}else{switch(v=v>0?Math.floor(v):Math.ceil(v),a=Math.pow(10,v),e){case"rounddown":r=p>=0?Math.floor(p*a)/a:Math.ceil(p*a)/a;break;case"roundup":r=p>=0?Math.ceil(p*a)/a:Math.floor(p*a)/a;break;case"round":d=p>=0?0:1*a/10,r=Math.round(p*a-d)/a}o="n"+(v>0?v:0)}if(null!=r)return{value:r,format:o}},2,2)}),["abs","acos","asin","atan","cos","exp","ln","sin","sqrt","tan"].forEach(function(e){t._functionTable[e]=new fi(function(n,i){return"ln"===e?Math.log(Jn.toNumber(n[0],t._rowIndex,t._columnIndex,i)):Math[e](Jn.toNumber(n[0],t._rowIndex,t._columnIndex,i))},1,1)})},s.prototype._registerLogicalFunction=function(){var t=this;t._functionTable.and=new fi(function(e,n){var i,r=!0;for(i=0;i<e.length&&(r=r&&Jn.toBoolean(e[i],t._rowIndex,t._columnIndex,n));i++);return r},Number.MAX_VALUE,1),t._functionTable.or=new fi(function(e,n){var i,r=!1;for(i=0;i<e.length&&!(r=r||Jn.toBoolean(e[i],t._rowIndex,t._columnIndex,n));i++);return r},Number.MAX_VALUE,1),t._functionTable.not=new fi(function(e,n){return!Jn.toBoolean(e[0],t._rowIndex,t._columnIndex,n)},1,1),t._functionTable.if=new fi(function(e,n){return 3===e.length?Jn.toBoolean(e[0],t._rowIndex,t._columnIndex,n)?e[1].evaluate(t._rowIndex,t._columnIndex,n):e[2].evaluate(t._rowIndex,t._columnIndex,n):!!Jn.toBoolean(e[0],t._rowIndex,t._columnIndex,n)&&e[1].evaluate(t._rowIndex,t._columnIndex,n)},3,2),t._functionTable.true=new fi(function(){return!0},0,0),t._functionTable.false=new fi(function(){return!1},0,0)},s.prototype._registerTextFunction=function(){var t=this;t._functionTable.char=new fi(function(e,n){var i,r="";for(i=0;i<e.length;i++)r+=String.fromCharCode(Jn.toNumber(e[i],t._rowIndex,t._columnIndex,n));return r},Number.MAX_VALUE,1),t._functionTable.code=new fi(function(e,n){var i=Jn.toString(e[0],t._rowIndex,t._columnIndex,n);return i&&i.length>0?i.charCodeAt(0):-1},1,1),t._functionTable.concat=new fi(function(e,n){var i="";return e.forEach(function(r){if(r instanceof So){var o=r.getValues(!0,void 0,n);i=i.concat(o.reduce(function(a,d){return a+""+d},""))}else i=i.concat(Jn.toString(r,t._rowIndex,t._columnIndex,n))}),i},Number.MAX_VALUE,1),t._functionTable.concatenate=new fi(function(e,n){for(var i="",r=0;r<e.length;r++)i=i.concat(Jn.toString(e[r],t._rowIndex,t._columnIndex,n));return i},Number.MAX_VALUE,1),t._functionTable.left=new fi(function(e,n){var i=Jn.toString(e[0],t._rowIndex,t._columnIndex,n),r=null==e[1]?1:Math.floor(Jn.toNumber(e[1],t._rowIndex,t._columnIndex,n));return i&&i.length>0?i.slice(0,r):null},2,1),t._functionTable.right=new fi(function(e,n){var i=Jn.toString(e[0],t._rowIndex,t._columnIndex,n),r=null==e[1]?1:Math.floor(Jn.toNumber(e[1],t._rowIndex,t._columnIndex,n));return i&&i.length>0?r?i.slice(-r):"":null},2,1),t._functionTable.find=new fi(function(e,n){var i,r=Jn.toString(e[0],t._rowIndex,t._columnIndex,n),o=Jn.toString(e[1],t._rowIndex,t._columnIndex,n),a=null!=e[2]?(0,u.asInt)(Jn.toNumber(e[2],t._rowIndex,t._columnIndex,n)):0;return null!=o&&null!=r&&(i=!isNaN(a)&&a>0&&a<=o.length?o.indexOf(r,a-1):o.indexOf(r))>-1?i+1:-1},3,2),t._functionTable.search=new fi(function(e,n){var i,r,o,a=Jn.toString(e[0],t._rowIndex,t._columnIndex,n),d=Jn.toString(e[1],t._rowIndex,t._columnIndex,n),p=null!=e[2]?(0,u.asInt)(Jn.toNumber(e[2],t._rowIndex,t._columnIndex,n)):0;return null!=d&&null!=a&&(r=new RegExp(a,"i"),!isNaN(p)&&p>0&&p<d.length?(d=d.substring(p-1),i=p):i=1,(o=d.search(r))>-1)?o+i:-1},3,2),t._functionTable.len=new fi(function(e,n){var i=Jn.toString(e[0],t._rowIndex,t._columnIndex,n);return null!=i?i.length:-1},1,1),t._functionTable.mid=new fi(function(e,n){var i=Jn.toString(e[0],t._rowIndex,t._columnIndex,n),r=Math.floor(Jn.toNumber(e[1],t._rowIndex,t._columnIndex,n)),o=Math.floor(Jn.toNumber(e[2],t._rowIndex,t._columnIndex,n));return i&&i.length>0&&r>0?i.substr(r-1,o):null},3,3),t._functionTable.lower=new fi(function(e,n){var i=Jn.toString(e[0],t._rowIndex,t._columnIndex,n);return i&&i.length>0?i.toLowerCase():null},1,1),t._functionTable.upper=new fi(function(e,n){var i=Jn.toString(e[0],t._rowIndex,t._columnIndex,n);return i&&i.length>0?i.toUpperCase():null},1,1),t._functionTable.proper=new fi(function(e,n){var i=Jn.toString(e[0],t._rowIndex,t._columnIndex,n);if(i&&i.length>0){i=(i=i.toLowerCase())[0].toUpperCase()+i.substring(1);for(var r=1;r<i.length;r++)Zd.test(i[r])&&!Zd.test(i[r-1])&&(i=i.substr(0,r)+i[r].toUpperCase()+i.substring(r+1),r++);return i}return null},1,1),t._functionTable.trim=new fi(function(e,n){var i=Jn.toString(e[0],t._rowIndex,t._columnIndex,n);return i&&i.length>0?i.trim().replace(/\s+/gm," "):null},1,1),t._functionTable.replace=new fi(function(e,n){var i=Jn.toString(e[0],t._rowIndex,t._columnIndex,n),r=Math.floor(Jn.toNumber(e[1],t._rowIndex,t._columnIndex,n)),o=Math.floor(Jn.toNumber(e[2],t._rowIndex,t._columnIndex,n)),a=Jn.toString(e[3],t._rowIndex,t._columnIndex,n);return i&&i.length>0&&r>0?i.substring(0,r-1)+a+i.slice(r-1+o):null},4,4),t._functionTable.substitute=new fi(function(e,n){var i,r=Jn.toString(e[0],t._rowIndex,t._columnIndex,n),o=Jn.toString(e[1],t._rowIndex,t._columnIndex,n),a=Jn.toString(e[2],t._rowIndex,t._columnIndex,n),d=4===e.length?Jn.toNumber(e[3],t._rowIndex,t._columnIndex,n):null,p=0;if(null!=d&&d<1||isNaN(d))throw new Zi(ai.InvalidParameter("instance_num"));return r&&r.length>0&&o&&o.length>0?(i=new RegExp(o,"g"),r.replace(i,function(v){return p++,null!=d?(d=Math.floor(d),p===d?a:v):a})):null},4,3),t._functionTable.rept=new fi(function(e,n){var i,r=Jn.toString(e[0],t._rowIndex,t._columnIndex,n),o=Math.floor(Jn.toNumber(e[1],t._rowIndex,t._columnIndex,n)),a="";if(r&&r.length>0&&o>0)for(i=0;i<o;i++)a=a.concat(r);return a},2,2),t._functionTable.text=new fi(function(e,n){var i,r=e[0].evaluate(t._rowIndex,t._columnIndex,n),o=Jn.toString(e[1],t._rowIndex,t._columnIndex,n);if(r&&!(0,u.isPrimitive)(r)&&(r=r.value),(0,u.isDate)(r))o=hn._fromXlsxDateFormat(o);else{var a=Jn.toNumber(e[0],t._rowIndex,t._columnIndex,n);if(!(0,u.isNumber)(a)||isNaN(a))return r;if((i=o.match(/^(\d+)(\.\d+)?\E\+(\d+)(\.\d+)?$/))&&5===i.length)return t._parseToScientificValue(a,i[1],i[2],i[3],i[4]);/M{1,4}|d{1,4}|y{1,4}/i.test(o)?(o=hn._fromXlsxDateFormat(o),r=ia._fromOADate(a)):o&&!/[ncpfdg]\d?/i.test(o)&&(o=hn.fromXlsxFormat(o)[0])}if((0,u.isDate)(r))switch(o){case"d":return r.getDate();case"M":return r.getMonth()+1;case"y":o="yy";break;case"yyy":o="yyyy"}return u.Globalize.format(r,o)},2,2),t._functionTable.value=new fi(function(e,n){var i,r=Jn.toString(e[0],t._rowIndex,t._columnIndex,n);if((r=r.replace(/(\,\d{3})/g,function(o){return o.substring(1)})).length>0){if(r[0]===u.culture.Globalize.numberFormat.currency.symbol)return+(r=r.substring(1));if("%"===r[r.length-1])return+(r=r.substring(0,r.length-1))/100}return i=+r,isNaN(i)?Jn.toNumber(e[0],t._rowIndex,t._columnIndex,n):i},1,1),t._functionTable.exact=new fi(function(e,n){return Jn.toString(e[0],t._rowIndex,t._columnIndex,n)==Jn.toString(e[1],t._rowIndex,t._columnIndex,n)},2,2)},s.prototype._registerDateFunction=function(){var t=this;t._functionTable.now=new fi(function(){return{value:new Date,format:"M/d/yyyy h:mm"}},0,0),t._functionTable.today=new fi(function(){var e=new Date;return{value:new Date(e.getFullYear(),e.getMonth(),e.getDate()),format:"M/d/yyyy"}},0,0),t._functionTable.year=new fi(function(e,n){if(!Jn.toString(e[0],t._rowIndex,t._columnIndex,n).trim())return 1900;var i=Jn.toDate(e[0],t._rowIndex,t._columnIndex,n);return i&&!(0,u.isPrimitive)(i)?i.value:(0,u.isDate)(i)?i.getFullYear():1900},1,1),t._functionTable.month=new fi(function(e,n){if(!Jn.toString(e[0],t._rowIndex,t._columnIndex,n).trim())return 1;var i=Jn.toDate(e[0],t._rowIndex,t._columnIndex,n);return!(0,u.isPrimitive)(i)&&i?i.value:(0,u.isDate)(i)?i.getMonth()+1:1},1,1),t._functionTable.day=new fi(function(e,n){if(!Jn.toString(e[0],t._rowIndex,t._columnIndex,n))return 0;var i=Jn.toDate(e[0],t._rowIndex,t._columnIndex,n);return i&&!(0,u.isPrimitive)(i)?i.value:(0,u.isDate)(i)?i.getDate():0},1,1),t._functionTable.hour=new fi(function(e,n){var i=e[0].evaluate(t._rowIndex,t._columnIndex,n);if((0,u.isNumber)(i)&&!isNaN(i))return Math.floor(24*(i-Math.floor(i)));if((0,u.isDate)(i)||((i=Jn.toDate(e[0],t._rowIndex,t._columnIndex,n))&&!(0,u.isPrimitive)(i)&&(i=i.value),(0,u.isDate)(i)))return i.getHours();throw new Zi(ai.InvalidParameter("serial_number"))},1,1),t._functionTable.time=new fi(function(e,n){var i=e[0].evaluate(t._rowIndex,t._columnIndex,n),r=e[1].evaluate(t._rowIndex,t._columnIndex,n),o=e[2].evaluate(t._rowIndex,t._columnIndex,n);if((0,u.isNumber)(i)&&(0,u.isNumber)(r)&&(0,u.isNumber)(o))return i%=24,r%=60,o%=60,{value:new Date(0,0,0,i,r,o),format:"h:mm tt"};throw new Zi(ai.InvalidParameters)},3,3),t._functionTable.date=new fi(function(e,n){var i=e[0].evaluate(t._rowIndex,t._columnIndex,n),r=e[1].evaluate(t._rowIndex,t._columnIndex,n),o=e[2].evaluate(t._rowIndex,t._columnIndex,n);if((0,u.isNumber)(i)&&(0,u.isNumber)(r)&&(0,u.isNumber)(o))return{value:new Date(i,r-1,o),format:"M/d/yyyy"};throw new Zi(ai.InvalidParameters)},3,3),t._functionTable.datedif=new fi(function(e,n){var i,r,o,a,d,p=Jn.toDate(e[0],t._rowIndex,t._columnIndex,n),v=Jn.toDate(e[1],t._rowIndex,t._columnIndex,n),M=e[2].evaluate(t._rowIndex,t._columnIndex,n);if(p&&!(0,u.isPrimitive)(p)&&(p=p.value),v&&!(0,u.isPrimitive)(v)&&(v=v.value),(0,u.isDate)(p)&&(0,u.isDate)(v)&&(0,u.isString)(M)){if((i=p.getTime())>(r=v.getTime()))throw new Ic(ai.InvalidParameter("start_date"));switch(o=v.getDate()-p.getDate(),a=v.getMonth()-p.getMonth(),d=v.getFullYear()-p.getFullYear(),M.toUpperCase()){case"Y":return a>0?d:a<0?d-1:o>=0?d:d-1;case"M":return o>=0?12*d+a:12*d+a-1;case"D":return(r-i)/864e5;case"YM":return(a=o>=0?12*d+a:12*d+a-1)%12;case"YD":return a>0?(new Date(p.getFullYear(),v.getMonth(),v.getDate()).getTime()-p.getTime())/864e5:a<0?(new Date(p.getFullYear()+1,v.getMonth(),v.getDate()).getTime()-p.getTime())/864e5:o>=0?o:(new Date(p.getFullYear()+1,v.getMonth(),v.getDate()).getTime()-p.getTime())/864e5;case"MD":return o>=0?o:o=new Date(v.getFullYear(),v.getMonth(),0).getDate()-new Date(v.getFullYear(),v.getMonth()-1,1).getDate()+1+o;default:throw new Ic(ai.InvalidParameter("unit"))}}throw new Zi(ai.InvalidParameters)},3,3)},s.prototype._registLookUpReferenceFunction=function(){var t=this,e=this;e._functionTable.column=new fi(function(n,i,r,o){var a;if(null==n)return o+1;if((a=e._ensureNonFunctionExpression(a=n[0],i))instanceof So)return a.cells.col+1;throw new jr(ai.InvalidCellRef)},1,0),e._functionTable.columns=new fi(function(n,i){var r=n[0];if((r=e._ensureNonFunctionExpression(r,i))instanceof So)return r.cells.columnSpan;throw new jr(ai.InvalidCellRef)},1,1),e._functionTable.row=new fi(function(n,i,r,o){var a;if(null==n)return r+1;if((a=e._ensureNonFunctionExpression(a=n[0],i))instanceof So)return a.cells.row+1;throw new jr(ai.InvalidCellRef)},1,0),e._functionTable.rows=new fi(function(n,i){var r=n[0];if((r=e._ensureNonFunctionExpression(r,i))instanceof So)return r.cells.rowSpan;throw new jr(ai.InvalidCellRef)},1,1),e._functionTable.choose=new fi(function(n,i){var r=Jn.toNumber(n[0],e._rowIndex,e._columnIndex,i);if(isNaN(r))throw new Zi(ai.InvalidParameter("index_num"));if(r<1||r>=n.length)throw new Zi(ai.ParameterIsOutOfRange("index_num"));return n[r=Math.floor(r)].evaluate(e._rowIndex,e._columnIndex,i)},255,2),e._functionTable.index=new fi(function(n,i){var r,o=n[0],a=Jn.toNumber(n[1],e._rowIndex,e._columnIndex,i),d=null!=n[2]?Jn.toNumber(n[2],e._rowIndex,e._columnIndex,i):0;if(isNaN(a)||a<0)throw new Zi(ai.InvalidParameter("row_num"));if(isNaN(d)||d<0)throw new Zi(ai.InvalidParameter("column_num"));if((o=e._ensureNonFunctionExpression(o,i))instanceof So){if(a>(r=o.cells).rowSpan)throw new Vl(ai.ParameterIsOutOfRange("row_num"));if(d>r.columnSpan)throw new Vl(ai.ParameterIsOutOfRange("column_num"));if(a>0&&d>0)return e._owner.getCellValue(r.topRow+a-1,r.leftCol+d-1,!0,i);if(0===a&&0===d)return o;if(0===a)return new So(t,new W(r.topRow,r.leftCol+d-1,r.bottomRow,r.leftCol+d-1),o.sheetRef,e._owner);if(0===d)return new So(t,new W(r.topRow+a-1,r.leftCol,r.topRow+a-1,r.rightCol),o.sheetRef,e._owner)}throw new jr(ai.InvalidCellRef)},4,2),e._functionTable.hlookup=new fi(function(n,i){return e._handleHLookup(n,i)},4,3),e._functionTable.vlookup=new fi(function(n,i){return e._handleVLookup(n,i)},4,3)},s.prototype._registFinacialFunction=function(){var t=this;t._functionTable.rate=new fi(function(e,n){return{value:t._calculateRate(e,n),format:"p2"}},6,3)},s.prototype._registAddressRelatedFunction=function(){var t=this;t._functionTable.indirect=new fi(function(e,n){var i,r,o,a,d,p,v,M=t._ensureNonFunctionExpression(e[0],n);if(r=M instanceof So?M.evaluate((i=M.cells).row,i.col,n):M instanceof Jn?M.evaluate(t._rowIndex,t._columnIndex,n):M,(0,u.isString)(r)){2===(o=r.split("!")).length?(a=o[0].toLowerCase(),d=o[1].toLowerCase()):d=o[0].toLowerCase();var T=t._owner.definedNames._find(d,a||t._sheet.name);if(n=n||t._owner.selectedSheet,T){if(T.sheetName&&T.sheetName.toLowerCase()!==n.name.toLowerCase())throw new Vl(ai.InvalidCellRef);r=T.value}if(p=t._getCellRange(r)){if(p.sheetRef){for(var k=0;k<t._owner.sheets.length;k++)if(t._owner.sheets[k].name.toLowerCase()===p.sheetRef.toLowerCase()){v=t._owner.sheets[k];break}}else v=t._owner.selectedSheet;if(v)return t._owner.getCellValue(p.cellRef.cellRange.row,p.cellRef.cellRange.col,!0,n)}}throw new jr(ai.InvalidCellRef)},2,1),t._functionTable.address=new fi(function(e,n){var i,r,o=Jn.toNumber(e[0],t._rowIndex,t._columnIndex,n),a=Jn.toNumber(e[1],t._rowIndex,t._columnIndex,n),d=!1,p=!1;if(isNaN(o)||!(0,u.isInt)(o)||o<1||o>1048576)throw new Zi(ai.InvalidParameter("row_num"));if(isNaN(a)||!(0,u.isInt)(a)||a<1||a>16384)throw new Zi(ai.InvalidParameter("column_num"));if(null!=e[2]&&(i=Jn.toNumber(e[2],t._rowIndex,t._columnIndex,n),isNaN(i)||!(0,u.isInt)(i)||i<1||i>4))throw new Zi(ai.InvalidParameter("abs_num"));return null!=e[4]&&(r=Jn.toString(e[4],t._rowIndex,t._columnIndex,n)),null==i||1===i?(d=!0,p=!0):2===i?d=!0:3===i&&(p=!0),(null!=r?r+"!":"")+(p?"$":"")+t._numAlpha(a)+(d?"$":"")+o.toString()},5,2)},s.prototype._registerIsFunctions=function(){var t=this,e=function(n,i){var r;try{r=n.evaluate(t._rowIndex,t._columnIndex,i)}catch(o){o instanceof Ko&&(r=o)}return r};this._functionTable.isblank=new fi(function(n,i){var r=!1,o=n[0];return o instanceof So&&(o.evaluate(t._rowIndex,t._columnIndex,i),r=!!o._isEmpty),r},1,1),this._functionTable.iserror=new fi(function(n,i){return e(n[0],i)instanceof Ko},1,1),this._functionTable.iserr=new fi(function(n,i){var r=e(n[0],i);return r instanceof Ko&&!(r instanceof Al)},1,1),this._functionTable.iferror=new fi(function(n,i){var r=e(n[0],i);return r instanceof Ko?n[1].evaluate(t._rowIndex,t._columnIndex,i):r},2,2)},s.prototype._addToken=function(t,e,n){var i=new xa(t,e,n);this._tokenTable[t]=i},s.prototype._parseExpression=function(){return this._getToken(),this._parseCompareOrConcat()},s.prototype._parseCompareOrConcat=function(){for(var t,e,n=this._parseAddSub();this._token.tokenType===lr.COMPARE||this._token.tokenType===lr.CONCAT;)t=this._token,this._getToken(),e=this._parseAddSub(),n=new dd(this,t,n,e);return n},s.prototype._parseAddSub=function(){for(var t,e,n=this._parseMulDiv();this._token.tokenType===lr.ADDSUB;)t=this._token,this._getToken(),e=this._parseMulDiv(),n=new dd(this,t,n,e);return n},s.prototype._parseMulDiv=function(){for(var t,e,n=this._parsePower();this._token.tokenType===lr.MULDIV;)this._token.tokenID===_i.PERCENT?(t=new xa("%",_i.PERCENT,lr.MULDIV),this._token=new xa(100,_i.ATOM,lr.LITERAL)):(t=this._token,this._getToken()),e=this._parsePower(),n=new dd(this,t,n,e);return n},s.prototype._parsePower=function(){for(var t,e,n=this._parseUnary();this._token.tokenType===lr.POWER;)t=this._token,this._getToken(),e=this._parseUnary(),n=new dd(this,t,n,e);return n},s.prototype._parseUnary=function(){var t,e;return this._token.tokenID===_i.ADD||this._token.tokenID===_i.SUB?(t=this._token,this._getToken(),e=this._parseAtom(),new Kd(this,t,e)):this._parseAtom()},s.prototype._parseAtom=function(){var t=null;switch(this._token.tokenType){case lr.LITERAL:case lr.ERROR:t=new Jn(this,this._token);break;case lr.IDENTIFIER:var e=this._token.value.toString(),n=e.toLowerCase(),i=this._functionTable[0===n.indexOf("_xlfn.")?n.substr(6):n];if(i){var r=this._getParameters();if(this._token.tokenType===lr.GROUP&&this._token.tokenID===_i.CLOSE){var o=r?r.length:0;if(-1!==i.paramMin&&o<i.paramMin)throw new jr(ai.TooFewParameters);if(-1!==i.paramMax&&o>i.paramMax)throw new jr(ai.TooManyParameters);"rand"!==n&&("column"!==n&&"row"!==n||0!==o)||(this._containsCellRef=!0),t=new kc(this,n,i,r);break}if("true"===n||"false"===n){t=new kc(this,n,i,r,!1);break}}var a=n.split("!"),d=void 0,p=void 0;2===a.length?(p=a[0],d=a[1]):d=a[0];var v=this._owner.definedNames._find(d,p||this._sheet.name);if(v){if(v.sheetName&&v.sheetName.toLowerCase()!==this._sheet.name.toLowerCase()&&v.sheetName.toLowerCase()!==p)throw new vl(ai.DefNameInvalidSheet(v.sheetName));var M=this._pointer,T=this._expressLength,k=this._expression;this._pointer=0,(t=this._checkCache(v.value))._definedName=v.name,this._pointer=M,this._expressLength=T,this._expression=k;break}p="";var L=this._owner._getTable(n);if(null!=L){if(""===(p=L.sheet.name))throw new vl(ai.InvalidTable(n));var Y=this._pointer,ce=this._token;this._getToken(),this._token.tokenType===lr.SQUAREBRACKETS&&this._token.tokenID===_i.OPEN?(this._tableRefStart=!0,t=this._getTableReference(L,p,!0)):(t=this._getTableReference(L,p,!1),this._pointer=Y,this._token=ce);break}var ae=this._getCellRange(e);if(ae){this._containsCellRef=!0,t=new So(this,ae.cellRef.cellRange,ae.sheetRef,this._owner,e.indexOf(":")>-1,ae.cellRef.absRow,ae.cellRef.absCol,ae.cellRef.absRow2,ae.cellRef.absCol2,ae.isWholeRow);break}t=this.onUnknownFunction(n,this._getParameters());break;case lr.GROUP:if(this._token.tokenID!==_i.OPEN)throw new jr(ai.ExpressionExpected);if(this._getToken(),t=this._parseCompareOrConcat(),this._token.tokenID!==_i.CLOSE)throw new jr(ai.UnbalancedParenthesis);t._inGroup=!0;break;case lr.SQUAREBRACKETS:if(this._token.tokenID!==_i.OPEN)throw new Zi(ai.TableReferencesExpected);null!=(L=this._sheet.findTable(this._rowIndex,this._columnIndex))&&(p=L.sheet.name,this._tableRefStart=!0,t=this._getTableReference(L,p,!0,!1))}if(null==t)throw new jr(ai.BadExpression);return this._getToken(),t},s.prototype._getToken=function(){for(var t,e,n,i,r,o,a="",d="",p=new RegExp("[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]");this._pointer<this._expressLength&&" "===this._expression[this._pointer];)this._pointer++;if(this._pointer>=this._expressLength)this._token=new xa(null,_i.END,lr.GROUP);else{if(o=(e=this._expression[this._pointer])>="0"&&e<="9"||"."==e,!(r=e>="a"&&e<="z"||e>="A"&&e<="Z"||p.test(e))&&!o){var v=this._tokenTable[e];if(v)return this._token=v,this._pointer++,void(this._pointer<this._expressLength&&(">"===e||"<"===e)&&(v=this._tokenTable[this._expression.substring(this._pointer-1,this._pointer+1)])&&(this._token=v,this._pointer++))}if(o){if(i=this._pointer,this._parseDigit(),":"!==this._expression[this._pointer])return;this._pointer=i}if('"'!==e){if(("'"!==e||(d=this._parseSheetRef()))&&("#"!==e||!this._parseError()))if("#"!==e){if(!r&&!o&&this._idChars.indexOf(e)<0&&!d)throw new jr(ai.IdentifierExpected);for(t=1;t+this._pointer<this._expressLength;t++)if(r=(e=this._expression[this._pointer+t])>="a"&&e<="z"||e>="A"&&e<="Z"||p.test(e),o=e>="0"&&e<="9","'"!==e||":"!==n){if(n=e,!r&&!o&&"."!==e&&this._idChars.indexOf(e)<0)break}else a=d+this._expression.substring(this._pointer,this._pointer+t),this._pointer+=t,d=this._parseSheetRef(),t=0;a+=d+this._expression.substring(this._pointer,this._pointer+t),this._pointer+=t,this._token=new xa(a,_i.ATOM,lr.IDENTIFIER)}else this._parseDate()}else this._parseString()}},s.prototype._getTableToken=function(){for(var t,e,n,i="",r=!1;this._pointer<this._expressLength&&" "===this._expression[this._pointer];)this._pointer++;for("@"===(e=this._expression[this._pointer])&&(i=e,this._pointer++),"["===(e=this._expression[this._pointer])&&(r=!0),t=1;t+this._pointer<this._expressLength;t++){if(e=this._expression[this._pointer+t],r&&","===e)throw new jr(ai.InvalidTableRef);if("]"===e)break}n=i+this._expression.substring(this._pointer+(r?1:0),this._pointer+t),this._pointer+=t+(r?1:0),this._token=new xa(n,_i.ATOM,lr.IDENTIFIER)},s.prototype._parseDigit=function(){var t,e,n=-1,i=!1,r=0;for(t=0;t+this._pointer<this._expressLength;t++)if((e=this._expression[this._pointer+t])>="0"&&e<="9")r=10*r+(+e-0),n>-1&&(n*=10);else if("."===e&&n<0)n=1;else{if("E"!==e&&"e"!==e||i)break;i=!0,"+"!==(e=this._expression[this._pointer+t+1])&&"-"!==e||t++}i?r=+this._expression.substring(this._pointer,this._pointer+t):n>1&&(r/=n),this._token=new xa(r,_i.ATOM,lr.LITERAL),this._pointer+=t},s.prototype._parseString=function(){var t,e,n;for(t=1;t+this._pointer<this._expressLength;t++)if('"'===(e=this._expression[this._pointer+t])){if('"'!==(t+this._pointer<this._expressLength-1?this._expression[this._pointer+t+1]:" "))break;t++}if('"'!==e)throw new jr(ai.CantFindFinalQuote);if(n=this._expression.substring(this._pointer+1,this._pointer+t),this._pointer+=t+1,"!"===this._expression[this._pointer])throw new jr(ai.IllegalCrossSheetReference);this._token=new xa(n.replace('""','"'),_i.ATOM,lr.LITERAL)},s.prototype._parseDate=function(){var t,e,n;for(t=1;t+this._pointer<this._expressLength&&"#"!==(e=this._expression[this._pointer+t]);t++);if("#"!==e)throw new jr(ai.CantFindFinalDateDelimiter);n=this._expression.substring(this._pointer+1,this._pointer+t),this._pointer+=t+1,this._token=new xa(Date.parse(n),_i.ATOM,lr.LITERAL)},s.prototype._parseError=function(){var t,e=this._pointer;for(t=e+1;t<this._expressLength;t++){var n=this._expression[t],i=this._expression[t-1];if(!(n>="a"&&n<="z"||n>="A"&&n<="Z"||("0"===n||"?"===n||"!"===n||"/"===n)&&(i>="a"&&i<="z"||i>="A"&&i<="Z"||"/"===i||"0"===i)))break}var r=t-e;if(r>3){var o=this._expression.substring(e,e+r),a=Gs.asError(o);if(a)return this._token=new xa(a,_i.ATOM,lr.ERROR),this._pointer+=r,!0}return!1},s.prototype._parseSheetRef=function(){var t,e,n;for(t=1;t+this._pointer<this._expressLength;t++)if("'"===(e=this._expression[this._pointer+t])){if("'"!==(t+this._pointer<this._expressLength-1?this._expression[this._pointer+t+1]:" "))break;t++}if("'"!==e)throw new jr(ai.CantFindFinalQuote);return n=this._expression.substring(this._pointer+1,this._pointer+t),this._pointer+=t+1,"!"===this._expression[this._pointer]?n.replace(/\'\'/g,"'"):""},s.prototype._getCellRange=function(t){var e,n,i,r,o;if(t&&(e=t.split(":")).length>0&&e.length<3){if(null==(n=this._parseCell(e[0])).cellRef||(r=n.cellRef.cellRange,null!=n.cellRef.isWholeRow&&1===e.length))return null;if(r&&2===e.length){if(o=(i=this._parseCell(e[1])).cellRef.cellRange,null!=n.cellRef.isWholeRow&&n.cellRef.isWholeRow!==i.cellRef.isWholeRow)return null;if(n.sheetRef&&!i.sheetRef&&(i.sheetRef=n.sheetRef),n.sheetRef!==i.sheetRef)throw new Vl(ai.CellRefMustBeInSameSheet);o?(r.col2=o.col,r.row2=o.row):r=null}}return null==r?null:{cellRef:{cellRange:r,absRow:n.cellRef.absRow,absCol:n.cellRef.absCol,absRow2:i?i.cellRef.absRow:null,absCol2:i?i.cellRef.absCol:null},sheetRef:n.sheetRef,isWholeRow:n.cellRef.isWholeRow}},s.prototype._parseCellRange=function(t){var e,n,i,r,o=-1,a=-1,d=!1,p=!1;for(e=0;e<t.length;e++)if("$"!==(i=t[e])||d){if(!(i>="a"&&i<="z"||i>="A"&&i<="Z"))break;o<0&&(o=0),o=26*o+(i.toUpperCase().charCodeAt(0)-"A".charCodeAt(0)+1)}else d=!0;for(;e<t.length;e++)if("$"!==(i=t[e])||p){if(!(i>="0"&&i<="9"))break;a<0&&(a=0),a=10*a+(+i-0)}else p=!0;if(e<t.length)return null;if(a>-1&&o>-1){if(0===a)throw new vl(ai.InvalidCellRef);n=new W(a-1,o-1)}else-1===o?(r=!0,n=new W(a-1,0)):-1===a&&(r=!1,n=new W(0,o-1));return{cellRange:n,absRow:p,absCol:d,isWholeRow:r}},s.prototype._parseCell=function(t){var e,n,i;if((e=t.lastIndexOf("!"))>0&&e<t.length-1)i=t.substring(0,e),n=t.substring(e+1);else{if(!(e<=0))return null;n=t}return{cellRef:this._parseCellRange(n),sheetRef:i}},s.prototype._getParameters=function(){var t,e,n=this._pointer,i=this._token;if(this._getToken(),this._token.tokenType!==lr.SQUAREBRACKETS||this._token.tokenID!==_i.OPEN){if(this._token.tokenID!==_i.OPEN)return this._pointer=n,this._token=i,null;if(n=this._pointer,this._getToken(),this._token.tokenID===_i.CLOSE)return null;for(this._pointer=n,t=new Array,e=this._parseExpression(),t.push(e);this._token.tokenID===_i.COMMA;)e=this._parseExpression(),t.push(e);if(this._token.tokenID!==_i.CLOSE)throw new jr(ai.SyntaxError);return t}},s.prototype._getTableReference=function(t,e,n,i){void 0===i&&(i=!0);var r=[],o=n?this._getTableParameter():null,a=!1,d=!1;if(null==o)r.push("#Data"),d=!0;else{for(r.push(o);this._tableRefStart&&(this._token.tokenID===_i.COMMA||":"===this._token.value);){if(":"===this._token.value&&(a=!0),null==(o=this._getTableParameter()))throw new jr(ai.InvalidTableRef);a?(r[r.length-1]+=":"+o,a=!1):r.push(o)}if(this._token.tokenType!==lr.SQUAREBRACKETS||this._token.tokenID!==_i.CLOSE)throw new jr(ai.UnbalancedSquareBrackets);this._tableRefStart=!1}var p=this._getTableRange(t,r);this._containsCellRef=!0;var v=new So(this,p,e.toLowerCase(),this._owner);return v._tableParams=r,i&&(v._tableName=t.name),d&&(v._defTableParameterProvided=!0),v},s.prototype._getTableParameter=function(){for(var t;this._pointer<this._expressLength&&" "===this._expression[this._pointer];)this._pointer++;return"]"===this._expression[this._pointer]?(this._getToken(),this._tableRefStart=!1,null):(this._getTableToken(),t=this._token.value,this._getToken(),t)},s.prototype._getTableRange=function(t,e){for(var n,i,r,o,a,d,p=0;p<e.length;p++){if(i)throw new Zi(ai.InvalidTableRef);if(a=null,"#"===(n=e[p].toLowerCase())[0]){switch(n){case"#all":a=t.getRange();break;case"#data":a=t.getRange(J.Data);break;case"#headers":a=t.getRange(J.Header);break;case"#totals":a=t.getRange(J.Footer);break;case"#this row":if(o=t.getRange(),!(this._rowIndex>=o.topRow&&this._rowIndex<=o.bottomRow))throw new Zi(ai.RowIsOutOfTableRange(t.name));a=new W(this._rowIndex,o.leftCol,this._rowIndex,o.rightCol);break;default:throw new Zi(ai.InvalidTableRef)}if(null==a)throw new Zi(ai.InvalidTableRef);null==r?r=a:(r.row=r.topRow<a.topRow?r.topRow:a.topRow,r.row2=r.bottomRow>a.bottomRow?r.bottomRow:a.bottomRow)}else{i=!0,d=n.split(":");for(var v=0;v<d.length;v++){if(d.length>2)throw new Zi(ai.InvalidTableColRef);if("@"===(n=d[v])[0]){if(null==(a=t.getRange(J.Data,n.substring(1))))throw new Zi(ai.InvalidTableRef);if(!(this._rowIndex>=a.topRow&&this._rowIndex<=a.bottomRow))throw new Zi(ai.RowIsOutOfTableRange(t.name));a.row=this._rowIndex,a.row2=this._rowIndex}else if(null==(a=t.getRange(J.Data,n)))throw new Zi(ai.InvalidTableRef);0===v&&(null==r?r=a:r.col=a.col),r.col2=a.col,a=null}}}return r},s.prototype._getAggregate=function(t,e){for(var n=0,i=0,r=0,o=null,a=null,d=0;d<e.length;d++){var p=e[d];null!=p&&"number"==typeof p&&!isNaN(p)&&((null==o||p<o)&&(o=p),(null==a||p>a)&&(a=p),n++,i+=p,r+=p*p)}var v=0==n?0:i/n;switch(t){case u.Aggregate.Avg:return v;case u.Aggregate.Max:return a;case u.Aggregate.Min:return o;case u.Aggregate.Sum:return i;case u.Aggregate.VarPop:return n<=1?0:r/n-v*v;case u.Aggregate.StdPop:return n<=1?0:Math.sqrt(r/n-v*v);case u.Aggregate.Var:return n<=1?0:(r/n-v*v)*n/(n-1);case u.Aggregate.Std:return n<=1?0:Math.sqrt((r/n-v*v)*n/(n-1))}throw"Invalid aggregate type."},s.prototype._getAggregateResult=function(t,e,n){var i,r=this._getItemList(e,n);return i=this._getAggregate(t,r.items),r.isDate&&(i={value:i=new Date(i),format:r.format||"M/d/yyyy"}),i},s.prototype._getFlexSheetAggregateResult=function(t,e,n){var i,r;switch(t){case Rs.Count:return i=this._getItemList(e,n,!1,void 0,void 0,!1),this._countNumberCells(i.items);case Rs.CountA:return(i=this._getItemList(e,n,!1,void 0,void 0,!1)).items.length;case Rs.CountBlank:return i=this._getItemList(e,n,!0,void 0,void 0,!1),this._countBlankCells(i.items);case Rs.Rank:var o=Jn.toNumber(e[0],this._rowIndex,this._columnIndex,n),a=e[2]?Jn.toNumber(e[2],this._rowIndex,this._columnIndex,n):0;if(isNaN(o))throw new Zi(ai.InvalidParameter("number"));if(isNaN(a))throw new Zi(ai.InvalidParameter("order"));if(e[1]=this._ensureNonFunctionExpression(e[1],n),e[1]instanceof So)return i=this._getItemList([e[1]],n),this._getRankOfCellRange(o,i.items,a);throw new jr(ai.InvalidCellRef);case Rs.CountIf:if(e[0]=this._ensureNonFunctionExpression(e[0],n),e[0]instanceof So)return i=this._getItemList([e[0]],n,void 0,void 0,void 0,!1),this._countCellsByCriteria([i.items],[e[1]],n);throw new jr(ai.InvalidCellRef);case Rs.CountIfs:return this._handleCountIfs(e,n);case Rs.SumIf:if(e[0]=this._ensureNonFunctionExpression(e[0],n),e[0]instanceof So){var d=!1;return e[2]=this._ensureNonFunctionExpression(e[2],n),null!=e[2]&&e[2]instanceof So&&(r=this._getItemList([e[2]],n,d=!0)),i=this._getItemList([e[0]],n,d),this._sumCellsByCriteria([i.items],[e[1]],r?r.items:null,n)}throw new jr(ai.InvalidCellRef);case Rs.SumIfs:return this._handleSumIfs(e,n);case Rs.Product:return i=this._getItemList(e,n),this._getProductOfNumbers(i.items)}throw"Invalid aggregate type."},s.prototype._getItemList=function(t,e,n,i,r,o){void 0===n&&(n=!1),void 0===i&&(i=!0),void 0===o&&(o=!0);var a,d,p,v,M,T,k,L,Y,ce,ae=new Array;for(d=0;d<t.length;d++)if((M=this._ensureNonFunctionExpression(M=t[d],e))instanceof So){v=M.getValues(i,r,e,o),0===d&&((Y=(L=M._getSheet()||e||this._sheet).getCellStyle(M.cells.topRow,M.cells.leftCol))&&(k=Y.format),k||(ce=L.grid.columns[M.cells.leftCol])&&(k=ce.format));e:for(p=0;p<v.length;p++)if(a=v[p],null==T&&null!=a&&!(0,u.isString)(a)){T=(0,u.isDate)(a);break e}for(p=0;p<v.length;p++)a=v[p],(n||null!=a&&""!==a)&&((0,u.isDate)(a)?ae.push(+a):ae.push(a))}else{if(!(a=M instanceof Jn?M.evaluate(this._rowIndex,this._columnIndex,e,void 0,void 0,o):M)||a instanceof Ko||(0,u.isPrimitive)(a)||(a=a.value),!n&&(null==a||""===a))continue;var Ee=+a;isNaN(Ee)||(a=Ee),ae.push(a),null==T&&ae.length>0&&(T=a instanceof Date)}return 0===ae.length&&(T=!1),{isDate:T,items:ae,format:k}},s.prototype._countBlankCells=function(t){for(var e,n=0,i=0;n<t.length;n++)(null==(e=t[n])||(0,u.isString)(e)&&""===e||(0,u.isNumber)(e)&&isNaN(e))&&i++;return i},s.prototype._countNumberCells=function(t){for(var e,n=0,i=0;n<t.length;n++)null!=(e=t[n])&&(0,u.isNumber)(e)&&!isNaN(e)&&i++;return i},s.prototype._getRankOfCellRange=function(t,e,n){void 0===n&&(n=0);var i,r=0,o=0;for(e.sort(n?function(a,d){return isNaN(a)||isNaN(d)?-1:a-d}:function(a,d){return isNaN(a)||isNaN(d)?1:d-a});r<e.length;r++)if(i=e[r],!isNaN(i)&&(0,u.isNumber)(i)&&(o++,t===i))return o;throw new Zi(ai.ParameterIsOutOfRange("number"))},s.prototype._handleCountIfs=function(t,e){var n,i,r,o,a=0,d=[],p=[];if(t.length%2!=0)throw new Zi(ai.InvalidParameters);for(;a<t.length/2;a++){if(!((i=this._ensureNonFunctionExpression(i=t[2*a],e))instanceof So))throw new jr(ai.InvalidCellRef);if(0===a){if(!i.cells)throw new jr(ai.InvalidCellRef);r=i.cells.rowSpan,o=i.cells.columnSpan}else{if(!i.cells)throw new jr(ai.InvalidCellRef);if(i.cells.rowSpan!==r||i.cells.columnSpan!==o)throw new Zi(ai.RangesMustBeTheSame)}n=this._getItemList([i],e,void 0,void 0,void 0,!1),d[a]=n.items,p[a]=t[2*a+1]}return this._countCellsByCriteria(d,p,e)},s.prototype._countCellsByCriteria=function(t,e,n,i){for(var r,o=0,a=t[0].length,d=[],p=0;p<e.length;p++)"*"===(M=Jn.toString(e[p],this._rowIndex,this._columnIndex,n))?d.push(M):d.push(this._parseRightExpr(M));for(var v=0;v<a;v++){for(r=!1,p=0;p<t.length;p++){var M,T=t[p][v];if("string"==typeof(M=d[p])){if("*"!==M&&(null==T||""===T)){r=!1;break}if((r="*"===M||this.evaluate(this._combineExpr(T,M),null,n,this._rowIndex,this._columnIndex,!1,!0))instanceof Ko||!r)break}else if(!(r=r=M.reg.test(T.toString())===M.checkMathces))break}if(r&&!(r instanceof Ko))if(i){var k=i[v];null!=k&&(0,u.isNumber)(k)&&!isNaN(k)&&o++}else o++}return o},s.prototype._handleSumIfs=function(t,e){var n,i,r,o,a,d,p=1,v=[],M=[];if(t.length%2!=1)throw new Zi(ai.InvalidParameters);if(!((r=this._ensureNonFunctionExpression(r=t[0],e))instanceof So))throw new Zi(ai.InvalidParameter("Sum_range"));if(!r.cells)throw new Zi(ai.InvalidParameter("Sum_range"));for(a=r.cells.rowSpan,d=r.cells.columnSpan,i=this._getItemList([r],e,!0);p<(t.length+1)/2;p++){if(!((o=this._ensureNonFunctionExpression(o=t[2*p-1],e))instanceof So))throw new Zi(ai.InvalidParameter("Criteria_range"+p));if(!o.cells)throw new Zi(ai.InvalidParameter("Criteria_range"+p));if(o.cells.rowSpan!==a||o.cells.columnSpan!==d)throw new Zi(ai.RangesMustBeTheSame);n=this._getItemList([o],e,!0),v[p-1]=n.items,M[p-1]=t[2*p]}return this._sumCellsByCriteria(v,M,i.items,e)},s.prototype._sumCellsByCriteria=function(t,e,n,i){var r,o,a,d,p=0,v=0,M=0,T=t[0].length,k=[];for(null==n&&(n=t[0]);v<e.length;v++)"*"===(d=Jn.toString(e[v],this._rowIndex,this._columnIndex,i))?k.push(d):k.push(this._parseRightExpr(d));for(;p<T;p++){for(o=!1,r=n[p],v=0;v<t.length;v++)if(a=t[v][p],"string"==typeof(d=k[v])){if("*"!==d&&null==a){o=!1;break}if((o="*"===d||this.evaluate(this._combineExpr(a,d),null,i,this._rowIndex,this._columnIndex))instanceof Ko||!o)break}else if(!(o=d.reg.test(a.toString())===d.checkMathces))break;o&&(0,u.isNumber)(r)&&!isNaN(r)&&(M+=r)}return M},s.prototype._getProductOfNumbers=function(t){var e,n=0,i=1,r=!1;if(t)for(;n<t.length;n++)(0,u.isNumber)(e=t[n])&&!isNaN(e)&&(i*=e,r=!0);return r?i:0},s.prototype._handleSubtotal=function(t,e){var n,i,r,o,a=!0,d=!0;if((n=Jn.toNumber(t[0],this._rowIndex,this._columnIndex,e))>=1&&n<=11||n>=101&&n<=111){switch(n>=101&&n<=111&&(a=!1),(n=(0,u.asEnum)(n,ls))!==ls.CountA&&n!==ls.CountAWithoutHidden||(d=!1),i=this._getItemList(t.slice(1),e,d,a),n){case ls.Count:case ls.CountWithoutHidden:return this._countNumberCells(i.items);case ls.CountA:case ls.CountAWithoutHidden:return i.items.length;case ls.Product:case ls.ProductWithoutHidden:return this._getProductOfNumbers(i.items);case ls.Average:case ls.AverageWithoutHidden:r=u.Aggregate.Avg;break;case ls.Max:case ls.MaxWithoutHidden:r=u.Aggregate.Max;break;case ls.Min:case ls.MinWithoutHidden:r=u.Aggregate.Min;break;case ls.Std:case ls.StdWithoutHidden:r=u.Aggregate.Std;break;case ls.StdPop:case ls.StdPopWithoutHidden:r=u.Aggregate.StdPop;break;case ls.Sum:case ls.SumWithoutHidden:r=u.Aggregate.Sum;break;case ls.Var:case ls.VarWithoutHidden:r=u.Aggregate.Var;break;case ls.VarPop:case ls.VarPopWithoutHidden:r=u.Aggregate.VarPop}return o=this._getAggregate(r,i.items),i.isDate&&(o=new Date(o)),o}throw new Zi(ai.InvalidParameter("Function_num"))},s.prototype._handleDCount=function(t,e){var n,i,r,o=t[0],a=t[2];if(o=this._ensureNonFunctionExpression(o,e),a=this._ensureNonFunctionExpression(a,e),o instanceof So&&a instanceof So)return n=t[1].evaluate(this._rowIndex,this._columnIndex,e),i=this._getColumnIndexByField(o,n),(r=this._getItemList([o],e,!1,!0,i,!1)).items&&r.items.length>1?this._DCountWithCriteria(r.items.slice(1),o,a):0;throw new Zi(ai.InvalidParameter("Database"))},s.prototype._DCountWithCriteria=function(t,e,n){var i,r,o,a,d,p,v,M,T,k,L,Y=n.cells,ce=0;if(i=this._owner._getSheet(e.sheetRef),r=this._owner._getSheet(n.sheetRef),Y.rowSpan>1){for(o=Y.topRow,a=Y.bottomRow;a>Y.topRow;a--){for(k=[],L=[],d=Y.leftCol;d<=Y.rightCol;d++)if(null!=(v=this._owner.getCellValue(a,d,!1,r))&&""!==v){if(L.push(new Jn(this,v)),M=this._owner.getCellValue(o,d,!1,r),p=this._getColumnIndexByField(e,M),!(null!=(T=this._getItemList([e],i,!1,!0,p,!1)).items&&T.items.length>1))throw new Zi("Criteria");k.push(T.items.slice(1))}ce+=this._countCellsByCriteria(k,L,i,t)}return ce}throw new Zi("Criteria")},s.prototype._getColumnIndexByField=function(t,e){var n,i,r,o,a;if(-1===(a=(n=t.cells).topRow))throw new Zi(ai.InvalidParameter("Database"));if((0,u.isInt)(e)&&!isNaN(e)){if(e>=1&&e<=n.columnSpan)return n.leftCol+e-1}else for(i=this._owner._getSheet(t.sheetRef),r=n.leftCol;r<=n.rightCol;r++)if(o=this._owner.getCellValue(a,r,!1,i),(e=(0,u.isString)(e)?e.toLowerCase():e)===(o=(0,u.isString)(o)?o.toLowerCase():o))return r;throw new Zi(ai.InvalidParameter("Field"))},s.prototype._getSumProduct=function(t,e){var n,i,r,o=0,a=this._getItemListForSumProduct(t,e);if(a.length>0){i=a[0].length,r=a.length;for(var d=0;d<i;d++){n=1;for(var p=0;p<r;p++)n*=a[p][d];o+=n}}return o},s.prototype._getItemListForSumProduct=function(t,e){var n,i,r,o,a,d,p=[new Array];for(r=0;r<t.length;r++){if(d=t[r],n=new Array,(d=this._ensureNonFunctionExpression(d,e))instanceof So)for(a=d.getValues(!0,null,e),o=0;o<a.length;o++)n.push(+(i=a[o]));else i=d instanceof Jn?d.evaluate(this._rowIndex,this._columnIndex,e):d,n.push(+i);if(r>0&&n.length!==p[0].length)throw new Zi(ai.RangesMustBeTheSame);p[r]=n}return p},s.prototype._parseRightExpr=function(t){var e,n,i=!1;if(t.indexOf("?")>-1||t.indexOf("*")>-1){if(null==(e=t.match(/=?([\?\*]*)(\w*)([\?\*]*)(\w*)([\?\*]*)/))||6!==e.length)throw new Zi(ai.InvalidParameter("Criteria"));return n=new RegExp("^"+(e[1].length>0?this._parseRegCriteria(e[1]):"")+e[2]+(e[3].length>0?this._parseRegCriteria(e[3]):"")+e[4]+(e[5].length>0?this._parseRegCriteria(e[5]):"")+"$","i"),/^[<>=]/.test(t)?"="===t.trim()[0]&&(i=!0):i=!0,{reg:n,checkMathces:i}}var r=void 0;if(isNaN(+t))if("true"===(r=t.toLowerCase())||"false"===r)t="="+t;else if(/^\w/.test(t))t='="'+t+'"';else{if(!/^[<>=]{1,2}\s*-?.+$/.test(t))throw new Zi(ai.InvalidParameter("Criteria"));t=t.replace(/([<>=]{1,2})\s*(-?.+)/,function(o,a,d){var p=d.toLowerCase();return a+(isNaN(+d)&&"true"!==p&&"false"!==p?'"'+d+'"':d)})}else t="="+ +t;return t},s.prototype._combineExpr=function(t,e){return((0,u.isString)(t)||(0,u.isDate)(t))&&(t='"'+t+'"'),(t="="+t)+e},s.prototype._parseRegCriteria=function(t){for(var e=0,n=0,i="";e<t.length;e++)"*"===t[e]?(n>0&&(i+="\\w{"+n+"}",n=0),i+="\\w*"):"?"===t[e]&&n++;return n>0&&(i+="\\w{"+n+"}"),i},s.prototype._calculateRate=function(t,e){var n,i,r,o,a,d,p,v,M,T,k=0,L=0;for(r=Jn.toNumber(t[0],this._rowIndex,this._columnIndex,e),o=Jn.toNumber(t[1],this._rowIndex,this._columnIndex,e),a=Jn.toNumber(t[2],this._rowIndex,this._columnIndex,e),d=null!=t[3]?Jn.toNumber(t[3],this._rowIndex,this._columnIndex,e):0,p=null!=t[4]?Jn.toNumber(t[4],this._rowIndex,this._columnIndex,e):0,i=null!=t[5]?Jn.toNumber(t[5],this._rowIndex,this._columnIndex,e):.1,Math.abs(i)<1e-7||(v=Math.exp(r*Math.log(1+i))),M=a+o*r+d,T=a*v+o*(1/i+p)*(v-1)+d,n=i;Math.abs(M-T)>1e-7&&k<20;)i=(T*L-M*n)/(T-M),L=n,n=i,M=T,T=Math.abs(i)<1e-7?a*(1+r*i)+o*(1+i*p)*r+d:a*(v=Math.exp(r*Math.log(1+i)))+o*(1/i+p)*(v-1)+d,++k;if(Math.abs(M-T)>1e-7&&20===k)throw new Ic(ai.RateCriteriaFails);return i},s.prototype._handleHLookup=function(t,e){var n=this;return this._handleLookup(t,e,{base:function(i){return i.topRow},span:function(i){return i.rowSpan},iterStart:function(i){return i.leftCol},iterEnd:function(i){return i.rightCol},getValue:function(i,r,o){return n._owner.getCellValue(i,r,0,o)}})},s.prototype._handleVLookup=function(t,e){var n=this;return this._handleLookup(t,e,{base:function(i){return i.leftCol},span:function(i){return i.columnSpan},iterStart:function(i){return i.topRow},iterEnd:function(i){return i.bottomRow},getValue:function(i,r,o){return n._owner.getCellValue(r,i,0,o)}})},s.prototype._handleLookup=function(t,e,n){var i=t[0].evaluate(this._rowIndex,this._columnIndex,e),r=t[1],o=Jn.toNumber(t[2],this._rowIndex,this._columnIndex,e),a=null==t[3]||Jn.toBoolean(t[3],this._rowIndex,this._columnIndex,e);if(null==i||""===i)throw new Al(ai.InvalidParameter("Lookup_value"));if(isNaN(o)||o<0)throw new Zi(ai.InvalidParameter("index_num"));if((r=this._ensureNonFunctionExpression(r,e))instanceof So){e=r._getSheet()||e||this._sheet;var d,p=r.cells;if(o>n.span(p))throw new Vl(ai.ParameterIsOutOfRange("index_num"));if(a?-1===(d=this._exactMatch(i,p,!1,n,e))&&(d=this._approximateMatch(i,p,n,e)):d=this._exactMatch(i,p,!0,n,e),-1===d)throw new Al;var v=n.getValue(n.base(p)+o-1,d,e);if(null==v)throw new Al;return v}throw new jr(ai.InvalidCellRef)},s.prototype._exactMatch=function(t,e,n,i,r){var o,a=i.base(e);if((0,u.isString)(t)&&(t=t.toLowerCase()),n&&(0,u.isString)(t)&&(t.indexOf("?")>-1||t.indexOf("*")>-1)){var d=t.match(/([\?\*]*)(\w+)([\?\*]*)(\w+)([\?\*]*)/);if(null==d||6!==d.length)throw new Zi(ai.InvalidParameter("Lookup_value"));o=new RegExp("^"+(d[1].length>0?this._parseRegCriteria(d[1]):"")+d[2]+(d[3].length>0?this._parseRegCriteria(d[3]):"")+d[4]+(d[5].length>0?this._parseRegCriteria(d[5]):"")+"$","i")}for(var p=i.iterStart(e);p<=i.iterEnd(e);p++){var v=i.getValue(a,p,r);if(null!=o){if(o.test(v))return p}else if((0,u.isString)(v)&&(v=v.toLowerCase()),t===v)return p}return-1},s.prototype._approximateMatch=function(t,e,n,i){var r=n.base(e),o=[];(0,u.isString)(t)&&(t=t.toLowerCase());for(var a=n.iterStart(e);a<=n.iterEnd(e);a++){var d=n.getValue(r,a,i);d=isNaN(+d)?d:+d,o.push({value:d,index:a})}o.sort(function(v,M){return(0,u.isString)(v.value)&&(v.value=v.value.toLowerCase()),(0,u.isString)(M.value)&&(M.value=M.value.toLowerCase()),v.value>M.value?-1:v.value===M.value?M.index-v.index:1});for(var p=0;p<o.length;p++)if((0,u.isString)((d=o[p]).value)&&(d.value=d.value.toLowerCase()),t>d.value)return d.index;throw new Al},s.prototype._parseToScientificValue=function(t,e,n,i,r){var o,a,d,p,v=0;if(Math.abs(t)>=1)for(a="+",o=Math.pow(10,e.length);t>o;)t/=o,v+=e.length;else for(a="-",o=Math.pow(10,e.length);t*o<o;)t*=o,v+=e.length;if(d=u.Globalize.format(t,"D"+e.length),n)for((d+=u.Globalize.format(t-Math.floor(t),e+n).substring(1)).indexOf(".")>-1?p=d.length-1-d.indexOf("."):(d+=".",p=0);p<n.length-1;)d+="0",p++;if(d+="E"+a+u.Globalize.format(v,"D"+i.length),r){d+=".";for(var M=1;M<r.length;M++)d+="0"}return d},s.prototype._checkCache=function(t,e,n,i,r,o){void 0===e&&(e=!0),void 0===n&&(n=!1),null!=i&&(this._sheet=this._owner.sheets[i]),null!=r&&(this._rowIndex=r),null!=o&&(this._columnIndex=o);var a=this._sheet?this._sheet.name:"",d=this._expressionCache[a+":"+e+":"+n+":"+t]||this._expressionCache[a+"_"+this._rowIndex+"_"+this._columnIndex+":"+e+":"+n+":"+t];if(d){if(d.token.tokenType===lr.ERROR)throw d.token.value;return d}if(d=this.parse(t),this._token.tokenID!==_i.END||this._token.tokenType!==lr.GROUP)throw new jr(ai.InvalidExpression(t));return this._cacheSize>1e4&&this.clearExpressionCache(),this._expressionCache[a+(this._containsCellRef?"_"+this._rowIndex+"_"+this._columnIndex:"")+":"+e+":"+n+":"+t]=d,this._cacheSize++,d},s.prototype._ensureNonFunctionExpression=function(t,e){for(;t instanceof kc;)t=t.evaluate(this._rowIndex,this._columnIndex,e);return t},s.prototype._numAlpha=function(t){var e=Math.floor((t-1)/26);return(e>0?this._numAlpha(e):"")+String.fromCharCode((t-1)%26+65)},s.PowOf10=Array.apply(null,{length:21}).map(function(t,e){return Math.pow(10,e)}),s}(),xa=function(){function s(t,e,n){this._value=t,this._tokenID=e,this._tokenType=n}return Object.defineProperty(s.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"tokenID",{get:function(){return this._tokenID},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"tokenType",{get:function(){return this._tokenType},enumerable:!0,configurable:!0}),s}(),fi=function(){function s(t,e,n){this._paramMax=Number.MAX_VALUE,this._paramMin=Number.MIN_VALUE,this._func=t,(0,u.isNumber)(e)&&!isNaN(e)&&(this._paramMax=e),(0,u.isNumber)(n)&&!isNaN(n)&&(this._paramMin=n)}return Object.defineProperty(s.prototype,"paramMax",{get:function(){return this._paramMax},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"paramMin",{get:function(){return this._paramMin},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"func",{get:function(){return this._func},enumerable:!0,configurable:!0}),s}();!function(s){s[s.COMPARE=0]="COMPARE",s[s.ADDSUB=1]="ADDSUB",s[s.MULDIV=2]="MULDIV",s[s.POWER=3]="POWER",s[s.CONCAT=4]="CONCAT",s[s.GROUP=5]="GROUP",s[s.LITERAL=6]="LITERAL",s[s.IDENTIFIER=7]="IDENTIFIER",s[s.ERROR=8]="ERROR",s[s.SQUAREBRACKETS=9]="SQUAREBRACKETS"}(lr||(lr={})),function(s){s[s.GT=0]="GT",s[s.LT=1]="LT",s[s.GE=2]="GE",s[s.LE=3]="LE",s[s.EQ=4]="EQ",s[s.NE=5]="NE",s[s.ADD=6]="ADD",s[s.SUB=7]="SUB",s[s.MUL=8]="MUL",s[s.DIV=9]="DIV",s[s.DIVINT=10]="DIVINT",s[s.MOD=11]="MOD",s[s.POWER=12]="POWER",s[s.CONCAT=13]="CONCAT",s[s.OPEN=14]="OPEN",s[s.CLOSE=15]="CLOSE",s[s.END=16]="END",s[s.COMMA=17]="COMMA",s[s.PERIOD=18]="PERIOD",s[s.ATOM=19]="ATOM",s[s.PERCENT=20]="PERCENT"}(_i||(_i={}));var $d=((Gr={})[_i.GT]=">",Gr[_i.LT]="<",Gr[_i.GE]=">=",Gr[_i.LE]="<=",Gr[_i.EQ]="=",Gr[_i.NE]="<>",Gr[_i.ADD]="+",Gr[_i.SUB]="-",Gr[_i.MUL]="*",Gr[_i.DIV]="/",Gr[_i.PERCENT]="%",Gr[_i.DIVINT]="\\",Gr[_i.POWER]="^",Gr[_i.CONCAT]="&",Gr);(function(s){s[s.Count=0]="Count",s[s.CountA=1]="CountA",s[s.CountBlank=2]="CountBlank",s[s.CountIf=3]="CountIf",s[s.CountIfs=4]="CountIfs",s[s.Rank=5]="Rank",s[s.SumIf=6]="SumIf",s[s.SumIfs=7]="SumIfs",s[s.Product=8]="Product"})(Rs||(Rs={})),function(s){s[s.Average=1]="Average",s[s.Count=2]="Count",s[s.CountA=3]="CountA",s[s.Max=4]="Max",s[s.Min=5]="Min",s[s.Product=6]="Product",s[s.Std=7]="Std",s[s.StdPop=8]="StdPop",s[s.Sum=9]="Sum",s[s.Var=10]="Var",s[s.VarPop=11]="VarPop",s[s.AverageWithoutHidden=101]="AverageWithoutHidden",s[s.CountWithoutHidden=102]="CountWithoutHidden",s[s.CountAWithoutHidden=103]="CountAWithoutHidden",s[s.MaxWithoutHidden=104]="MaxWithoutHidden",s[s.MinWithoutHidden=105]="MinWithoutHidden",s[s.ProductWithoutHidden=106]="ProductWithoutHidden",s[s.StdWithoutHidden=107]="StdWithoutHidden",s[s.StdPopWithoutHidden=108]="StdPopWithoutHidden",s[s.SumWithoutHidden=109]="SumWithoutHidden",s[s.VarWithoutHidden=110]="VarWithoutHidden",s[s.VarPopWithoutHidden=111]="VarPopWithoutHidden"}(ls||(ls={}));var Zd=/[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEF\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7B9\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,Qc=function(s){function t(){return null!==s&&s.apply(this,arguments)||this}return yr(t,s),t.prototype.updateCell=function(e,n,i,r,o){var a,d,p,v=e.grid,M=/^border/;if(e.cellType===X.Cell&&(r.style.cssText=""),e.cellType===X.Cell){var k=v.selectedSheet;(d=k&&k._styledCells?k._styledCells[n*v.columns.length+i]:null)&&"pre-wrap"==d.whiteSpace&&(p=Ta(v,n,i))&&(a=e.rows[n]._getFlag(In.MultiLine),e.rows[n]._setFlag(In.MultiLine,!0,!0))}switch(s.prototype.updateCell.call(this,e,n,i,r,o),null!=a&&e.rows[n]._setFlag(In.MultiLine,a,!0),o&&!o.isSingleCell&&(n=o.row,i=o.col),e.cellType){case X.ColumnHeader:var L=e.getCellData(n,i,!0);r.textContent?r.innerHTML=r.innerHTML.replace((0,u.escapeHtml)(r.textContent),L).replace(r.textContent,L):r.innerHTML+=L,r.style.textAlign="center";break;case X.Cell:var Y=v._getBindingColumn(e,n,e.columns[i]);if(o&&!o.isSingleCell){var ce=this._getFirstVisibleCell(v,o);n=ce.row,i=ce.col}if(e.rows[n]instanceof as)(e.columns[i].dataMapEditor===b.RadioButtons&&r.firstElementChild instanceof HTMLLabelElement||e.columns[i].dataType===u.DataType.Boolean&&1===r.childElementCount&&r.firstElementChild instanceof HTMLLabelElement&&r.firstElementChild.firstElementChild instanceof HTMLInputElement&&"checkbox"===r.firstElementChild.firstElementChild.type||e.columns[i].dataType!==u.DataType.Boolean&&!r.innerHTML)&&(r.innerHTML=(0,u.escapeHtml)(v.getCellValue(n,i))),(0,u.addClass)(r,"wj-header-row");else{if(p){var ae=r.querySelector("input");ae&&d&&d.textAlign&&(ae.style.textAlign=d.textAlign)}else{var Ee=e.rows[n]instanceof rt;if(e.columns[i].dataType===u.DataType.Boolean){var Me=r.querySelector('[type="checkbox"]');Me&&(Me.checked=v.getCellValue(n,i),Me.disabled=Me.disabled||!v.canEditCell(n,i))}else if(Y.dataMap&&!Ee){var ze=v.getCellValue(n,i,!0),st=r.firstChild;st&&3===st.nodeType&&st.nodeValue!==ze&&(st.nodeValue=ze)}else if(0===r.childElementCount&&r.textContent===v.getCellData(n,i,!0)){ze=v.getCellValue(n,i,!0);var xt=(d?d.format:null)||(Ee?null:Y.format);if(""!==ze&&(0,u.isNumber)(+ze)&&!isNaN(+ze)&&/[hsmy\:]/i.test(xt)){var yt=ia._fromOADate(+ze);isNaN(yt.getTime())||(ze=u.Globalize.formatDate(yt,xt))}(xt||!Ee)&&(ze=(0,u.isString)(ze)?ze.replace(/^(\')(\s*[\w|=])/,"$2"):ze,r.innerHTML=(0,u.isString)(ze)?ze&&this._isURL(ze)?'<a href="'+ze+'" target="_blank">'+(0,u.escapeHtml)(ze)+"</a>":(0,u.escapeHtml)(ze):ze)}}if(d){var St,Dt=r.style;for(var Nt in d)if("className"===Nt)d.className&&(0,u.addClass)(r,d.className);else if("format"!==Nt&&(St=d[Nt]))if(!(0,u.hasClass)(r,"wj-state-selected")&&!(0,u.hasClass)(r,"wj-state-multi-selected")||"color"!==Nt&&"backgroundColor"!==Nt)if("whiteSpace"===Nt&&"normal"===St)Dt[Nt]="";else{if(M.test(Nt))continue;Dt[Nt]=St}else Dt[Nt]=""}var en=this._getCellBorders(v,v.selectedSheet,o||new W(n,i));if(en)for(var Rt in en)r.style[Rt]=en[Rt]}(r.style.backgroundColor||r.style.color)&&(d||(d={}),r.style.backgroundColor&&(d.backgroundColor=r.style.backgroundColor),r.style.color&&(d.color=r.style.color))}e.cellType===X.Cell&&(n!==v._lastVisibleFrozenRow||(0,u.hasClass)(r,"wj-frozen-row")||(0,u.addClass)(r,"wj-frozen-row"),i!==v._lastVisibleFrozenColumn||(0,u.hasClass)(r,"wj-frozen-col")||(0,u.addClass)(r,"wj-frozen-col"))},t.prototype._getFirstVisibleCell=function(e,n){var i,r;for(i=n.topRow;i<=n.bottomRow&&!e.rows[i].isVisible;i++);for(r=n.leftCol;r<=n.rightCol&&!e.columns[r].isVisible;r++);return new W(i,r)},t.prototype._isURL=function(e){return new RegExp("^(https|http|ftp|rtsp|mms)://(([0-9a-z_!~*'().&=+$%-]+: )?[0-9a-z_!~*'().&=+$%-]+@)?(([0-9]{1,3}.){3}[0-9]{1,3}|([0-9a-z_!~*'()-]+.)*([0-9a-z][0-9a-z-]{0,61})?[0-9a-z].[a-z]{2,6})(:[0-9]{1,4})?(/($|[a-zA-Z0-9.,?'\\+&amp;%$#=~_-]+))*").test(e)},t.prototype._getCellBorders=function(e,n,i){var r=n&&n._styledCells;if(!r)return null;var o=i.topRow,a=i.leftCol,d=i.bottomRow,p=i.rightCol,v=e.columns.length;(d>o||p>a)&&(d=o,p=a);var M=r[o*v+a],T=r[d*v+p],k=a>0?r[o*v+a-1]:null,L=p+1<v?r[o*v+p+1]:null,Y=o>0?r[(o-1)*v+a]:null,ce=r[(d+1)*v+a];if(!(M||T||k||L||Y||ce))return null;var ae={},Ee=M&&M.borderLeftStyle&&"none"!==M.borderLeftStyle&&!(!M.borderLeftColor&&!M.borderLeftWidth),Me=k&&k.borderRightStyle&&"none"!==k.borderRightStyle&&!(!k.borderRightColor&&!k.borderRightWidth);!Ee&&Me||Ee&&Me&&parseInt(k.borderRightWidth||1)>parseInt(M.borderLeftWidth||1)?"double"!==k.borderRightStyle&&(ae.borderLeftColor=k.borderRightColor,ae.borderLeftStyle=k.borderRightStyle,ae.borderLeftWidth=Math.floor(parseInt(k.borderRightWidth||1)/2)+"px"):Ee&&(ae.borderLeftColor=M.borderLeftColor,ae.borderLeftStyle=M.borderLeftStyle,ae.borderLeftWidth="double"!==M.borderLeftStyle?Math.ceil(parseInt(M.borderLeftWidth||1)/2)+"px":ae.borderLeftWidth=M.borderLeftWidth);var ze=M&&M.borderTopStyle&&"none"!==M.borderTopStyle&&!(!M.borderTopColor&&!M.borderTopWidth),st=Y&&Y.borderBottomStyle&&"none"!==Y.borderBottomStyle&&!(!Y.borderBottomColor&&!Y.borderBottomWidth);!ze&&st||ze&&st&&parseInt(Y.borderBottomWidth||1)>parseInt(M.borderTopWidth||1)?"double"!==Y.borderBottomStyle&&(ae.borderTopColor=Y.borderBottomColor,ae.borderTopStyle=Y.borderBottomStyle,ae.borderTopWidth=Math.floor(parseInt(Y.borderBottomWidth||1)/2)+"px"):ze&&(ae.borderTopColor=M.borderTopColor,ae.borderTopStyle=M.borderTopStyle,ae.borderTopWidth="double"!==M.borderTopStyle?Math.ceil(parseInt(M.borderTopWidth||1)/2)+"px":M.borderTopStyle);var xt=T&&T.borderRightStyle&&"none"!==T.borderRightStyle&&!(!T.borderRightColor&&!T.borderRightWidth),yt=L&&L.borderLeftStyle&&"none"!==L.borderLeftStyle&&!(!L.borderLeftColor&&!L.borderLeftWidth);!xt&&yt||xt&&yt&&parseInt(L.borderLeftWidth||1)>=parseInt(T.borderRightWidth||1)?"double"!==L.borderLeftStyle&&(ae.borderRightColor=L.borderLeftColor,ae.borderRightStyle=L.borderLeftStyle,ae.borderRightWidth=Math.floor(parseInt(L.borderLeftWidth||1)/2)+"px"):xt&&(ae.borderRightColor=T.borderRightColor,ae.borderRightStyle=T.borderRightStyle,ae.borderRightWidth="double"!==T.borderRightStyle?Math.ceil(parseInt(T.borderRightWidth||1)/2)+"px":T.borderRightWidth);var St=T&&T.borderBottomStyle&&"none"!==T.borderBottomStyle&&!(!T.borderBottomColor&&!T.borderBottomWidth),Dt=ce&&ce.borderTopStyle&&"none"!==ce.borderTopStyle&&!(!ce.borderTopColor&&!ce.borderTopWidth);return!St&&Dt||St&&Dt&&parseInt(ce.borderTopWidth||1)>=parseInt(T.borderBottomWidth||1)?"double"!==ce.borderTopStyle&&(ae.borderBottomColor=ce.borderTopColor,ae.borderBottomStyle=ce.borderTopStyle,ae.borderBottomWidth=Math.floor(parseInt(ce.borderTopWidth||1)/2)+"px"):St&&(ae.borderBottomColor=T.borderBottomColor,ae.borderBottomStyle=T.borderBottomStyle,ae.borderBottomWidth="double"!==T.borderBottomStyle?Math.ceil(parseInt(T.borderBottomWidth||1)/2)+"px":T.borderBottomWidth),ae},t}(Fn);(0,u._registerModule)("wijmo.grid.sheet",le);var Sa,lf=["*"],hd=function(){var s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),cf=function(s,t,e,n){var i,r=arguments.length,o=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(s,t,e,n);else for(var a=s.length-1;a>=0;a--)(i=s[a])&&(o=(r<3?i(o):r>3?i(t,e,o):i(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},al=function(s,t){return function(e,n){t(e,n,s)}},ao={selector:"wj-flex-sheet",template:"<div><ng-content></ng-content></div>",inputs:["asyncBindings","wjModelProperty","isDisabled","tabOrder","newRowAtTop","allowAddNew","allowDelete","allowDragging","allowMerging","allowResizing","allowSorting","allowPinning","autoScroll","autoRowHeights","autoSizeMode","autoGenerateColumns","autoSearch","caseSensitiveSearch","quickAutoSize","bigCheckboxes","childItemsPath","groupHeaderFormat","headersVisibility","showSelectedHeaders","showMarquee","showPlaceholders","itemFormatter","isReadOnly","imeEnabled","mergeManager","selectionMode","showGroups","showSort","showDropDown","showAlternatingRows","showErrors","alternatingRowStep","itemValidator","validateEdits","treeIndent","itemsSource","autoClipboard","expandSelectionOnCopyPaste","frozenRows","frozenColumns","cloneFrozenCells","deferResizing","sortRowIndex","editColumnIndex","stickyHeaders","preserveSelectedState","preserveOutlineState","preserveWhiteSpace","keyActionTab","keyActionEnter","rowHeaderPath","virtualizationThreshold","anchorCursor","lazyRender","refreshOnEdit","copyHeaders","columnGroups","allowAutoFill","isTabHolderVisible","showFilterIcons","enableDragDrop","enableFormulas","selectedSheetIndex"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","refreshingNg: refreshing","refreshedNg: refreshed","invalidInputNg: invalidInput","beginningEditNg: beginningEdit","cellEditEndedNg: cellEditEnded","cellEditEndingNg: cellEditEnding","prepareCellForEditNg: prepareCellForEdit","formatItemNg: formatItem","resizingColumnNg: resizingColumn","resizedColumnNg: resizedColumn","autoSizingColumnNg: autoSizingColumn","autoSizedColumnNg: autoSizedColumn","draggingColumnNg: draggingColumn","draggingColumnOverNg: draggingColumnOver","draggedColumnNg: draggedColumn","sortingColumnNg: sortingColumn","sortedColumnNg: sortedColumn","pinningColumnNg: pinningColumn","pinnedColumnNg: pinnedColumn","resizingRowNg: resizingRow","resizedRowNg: resizedRow","autoSizingRowNg: autoSizingRow","autoSizedRowNg: autoSizedRow","draggingRowNg: draggingRow","draggingRowOverNg: draggingRowOver","draggedRowNg: draggedRow","deletingRowNg: deletingRow","deletedRowNg: deletedRow","loadingRowsNg: loadingRows","loadedRowsNg: loadedRows","rowEditStartingNg: rowEditStarting","rowEditStartedNg: rowEditStarted","rowEditEndingNg: rowEditEnding","rowEditEndedNg: rowEditEnded","rowAddedNg: rowAdded","groupCollapsedChangingNg: groupCollapsedChanging","groupCollapsedChangedNg: groupCollapsedChanged","columnGroupCollapsedChangingNg: columnGroupCollapsedChanging","columnGroupCollapsedChangedNg: columnGroupCollapsedChanged","itemsSourceChangingNg: itemsSourceChanging","itemsSourceChangedNg: itemsSourceChanged","selectionChangingNg: selectionChanging","selectionChangedNg: selectionChanged","scrollPositionChangedNg: scrollPositionChanged","updatingViewNg: updatingView","updatedViewNg: updatedView","updatingLayoutNg: updatingLayout","updatedLayoutNg: updatedLayout","pastingNg: pasting","pastedNg: pasted","pastingCellNg: pastingCell","pastedCellNg: pastedCell","copyingNg: copying","copiedNg: copied","selectedSheetChangedNg: selectedSheetChanged","selectedSheetIndexChangePC: selectedSheetIndexChange","draggingRowColumnNg: draggingRowColumn","droppingRowColumnNg: droppingRowColumn","beginDroppingRowColumnNg: beginDroppingRowColumn","endDroppingRowColumnNg: endDroppingRowColumn","loadedNg: loaded","unknownFunctionNg: unknownFunction","sheetClearedNg: sheetCleared","prepareChangingRowNg: prepareChangingRow","prepareChangingColumnNg: prepareChangingColumn","rowChangedNg: rowChanged","columnChangedNg: columnChanged","autoFillingNg: autoFilling","autoFilledNg: autoFilled"],providers:[{provide:O.JU,useFactory:tt.Ko,multi:!0,deps:["WjComponent"]}]},Ya=(function(s){function t(n,i,r){var o=s.call(this,tt.D6.getHostElement(n,i))||this;return o.isInitialized=!1,o._wjBehaviour=tt.D6.attach(o,n,i,r),o.created(),o}var e;hd(t,s),e=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.prototype.addEventListener=function(n,i,r,o){var a=this;void 0===o&&(o=!1);var d=tt.D6,p=d.getZone(this);p&&d.outsideZoneEvents[i]?p.runOutsideAngular(function(){s.prototype.addEventListener.call(a,n,i,r,o)}):s.prototype.addEventListener.call(this,n,i,r,o)},t.meta={outputs:ao.outputs,changeEvents:{selectedSheetChanged:["selectedSheetIndex"]}},t.\u0275fac=function(i){return new(i||t)(y.Y36(y.SBq),y.Y36(y.zs3),y.Y36("WjComponent",12))},t.\u0275cmp=y.Xpm({type:t,selectors:[["wj-flex-sheet"]],inputs:{asyncBindings:"asyncBindings",wjModelProperty:"wjModelProperty",isDisabled:"isDisabled",tabOrder:"tabOrder",newRowAtTop:"newRowAtTop",allowAddNew:"allowAddNew",allowDelete:"allowDelete",allowDragging:"allowDragging",allowMerging:"allowMerging",allowResizing:"allowResizing",allowSorting:"allowSorting",allowPinning:"allowPinning",autoScroll:"autoScroll",autoRowHeights:"autoRowHeights",autoSizeMode:"autoSizeMode",autoGenerateColumns:"autoGenerateColumns",autoSearch:"autoSearch",caseSensitiveSearch:"caseSensitiveSearch",quickAutoSize:"quickAutoSize",bigCheckboxes:"bigCheckboxes",childItemsPath:"childItemsPath",groupHeaderFormat:"groupHeaderFormat",headersVisibility:"headersVisibility",showSelectedHeaders:"showSelectedHeaders",showMarquee:"showMarquee",showPlaceholders:"showPlaceholders",itemFormatter:"itemFormatter",isReadOnly:"isReadOnly",imeEnabled:"imeEnabled",mergeManager:"mergeManager",selectionMode:"selectionMode",showGroups:"showGroups",showSort:"showSort",showDropDown:"showDropDown",showAlternatingRows:"showAlternatingRows",showErrors:"showErrors",alternatingRowStep:"alternatingRowStep",itemValidator:"itemValidator",validateEdits:"validateEdits",treeIndent:"treeIndent",itemsSource:"itemsSource",autoClipboard:"autoClipboard",expandSelectionOnCopyPaste:"expandSelectionOnCopyPaste",frozenRows:"frozenRows",frozenColumns:"frozenColumns",cloneFrozenCells:"cloneFrozenCells",deferResizing:"deferResizing",sortRowIndex:"sortRowIndex",editColumnIndex:"editColumnIndex",stickyHeaders:"stickyHeaders",preserveSelectedState:"preserveSelectedState",preserveOutlineState:"preserveOutlineState",preserveWhiteSpace:"preserveWhiteSpace",keyActionTab:"keyActionTab",keyActionEnter:"keyActionEnter",rowHeaderPath:"rowHeaderPath",virtualizationThreshold:"virtualizationThreshold",anchorCursor:"anchorCursor",lazyRender:"lazyRender",refreshOnEdit:"refreshOnEdit",copyHeaders:"copyHeaders",columnGroups:"columnGroups",allowAutoFill:"allowAutoFill",isTabHolderVisible:"isTabHolderVisible",showFilterIcons:"showFilterIcons",enableDragDrop:"enableDragDrop",enableFormulas:"enableFormulas",selectedSheetIndex:"selectedSheetIndex"},outputs:{initialized:"initialized",gotFocusNg:"gotFocus",lostFocusNg:"lostFocus",refreshingNg:"refreshing",refreshedNg:"refreshed",invalidInputNg:"invalidInput",beginningEditNg:"beginningEdit",cellEditEndedNg:"cellEditEnded",cellEditEndingNg:"cellEditEnding",prepareCellForEditNg:"prepareCellForEdit",formatItemNg:"formatItem",resizingColumnNg:"resizingColumn",resizedColumnNg:"resizedColumn",autoSizingColumnNg:"autoSizingColumn",autoSizedColumnNg:"autoSizedColumn",draggingColumnNg:"draggingColumn",draggingColumnOverNg:"draggingColumnOver",draggedColumnNg:"draggedColumn",sortingColumnNg:"sortingColumn",sortedColumnNg:"sortedColumn",pinningColumnNg:"pinningColumn",pinnedColumnNg:"pinnedColumn",resizingRowNg:"resizingRow",resizedRowNg:"resizedRow",autoSizingRowNg:"autoSizingRow",autoSizedRowNg:"autoSizedRow",draggingRowNg:"draggingRow",draggingRowOverNg:"draggingRowOver",draggedRowNg:"draggedRow",deletingRowNg:"deletingRow",deletedRowNg:"deletedRow",loadingRowsNg:"loadingRows",loadedRowsNg:"loadedRows",rowEditStartingNg:"rowEditStarting",rowEditStartedNg:"rowEditStarted",rowEditEndingNg:"rowEditEnding",rowEditEndedNg:"rowEditEnded",rowAddedNg:"rowAdded",groupCollapsedChangingNg:"groupCollapsedChanging",groupCollapsedChangedNg:"groupCollapsedChanged",columnGroupCollapsedChangingNg:"columnGroupCollapsedChanging",columnGroupCollapsedChangedNg:"columnGroupCollapsedChanged",itemsSourceChangingNg:"itemsSourceChanging",itemsSourceChangedNg:"itemsSourceChanged",selectionChangingNg:"selectionChanging",selectionChangedNg:"selectionChanged",scrollPositionChangedNg:"scrollPositionChanged",updatingViewNg:"updatingView",updatedViewNg:"updatedView",updatingLayoutNg:"updatingLayout",updatedLayoutNg:"updatedLayout",pastingNg:"pasting",pastedNg:"pasted",pastingCellNg:"pastingCell",pastedCellNg:"pastedCell",copyingNg:"copying",copiedNg:"copied",selectedSheetChangedNg:"selectedSheetChanged",selectedSheetIndexChangePC:"selectedSheetIndexChange",draggingRowColumnNg:"draggingRowColumn",droppingRowColumnNg:"droppingRowColumn",beginDroppingRowColumnNg:"beginDroppingRowColumn",endDroppingRowColumnNg:"endDroppingRowColumn",loadedNg:"loaded",unknownFunctionNg:"unknownFunction",sheetClearedNg:"sheetCleared",prepareChangingRowNg:"prepareChangingRow",prepareChangingColumnNg:"prepareChangingColumn",rowChangedNg:"rowChanged",columnChangedNg:"columnChanged",autoFillingNg:"autoFilling",autoFilledNg:"autoFilled"},features:[y._Bn([{provide:"WjComponent",useExisting:(0,y.Gpc)(function(){return e})}].concat(ao.providers))],ngContentSelectors:lf,decls:2,vars:0,template:function(i,r){1&i&&(y.F$t(),y.TgZ(0,"div"),y.Hsn(1),y.qZA())},encapsulation:2}),t=e=cf([,al(0,(0,y.tBr)(y.SBq)),al(1,(0,y.tBr)(y.zs3)),al(2,(0,y.tBr)("WjComponent")),al(2,(0,y.tp0)()),al(2,(0,y.FiY)())],t)}(ia),{selector:"wj-sheet",template:"",inputs:["wjProperty","name","itemsSource","visible","rowCount","columnCount"],outputs:["initialized","nameChangedNg: nameChanged"],providers:[]}),oa=(function(s){function t(n,i,r){var o=s.call(this,r)||this;return o.isInitialized=!1,o.wjProperty="sheets",o._wjBehaviour=tt.D6.attach(o,n,i,r),o.created(),o}var e;hd(t,s),e=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.prototype.ngOnChanges=function(n){var i;(i=n.rowCount)&&i.isFirstChange&&(this.boundRowCount=i.currentValue),(i=n.columnCount)&&i.isFirstChange&&(this.boundColumnCount=i.currentValue)},t.meta={outputs:Ya.outputs},t.\u0275fac=function(i){return new(i||t)(y.Y36(y.SBq),y.Y36(y.zs3),y.Y36("WjComponent",12))},t.\u0275cmp=y.Xpm({type:t,selectors:[["wj-sheet"]],inputs:{wjProperty:"wjProperty",name:"name",itemsSource:"itemsSource",visible:"visible",rowCount:"rowCount",columnCount:"columnCount"},outputs:{initialized:"initialized",nameChangedNg:"nameChanged"},features:[y._Bn([{provide:"WjComponent",useExisting:(0,y.Gpc)(function(){return e})}].concat(Ya.providers)),y.TTD],decls:0,vars:0,template:function(i,r){},encapsulation:2}),t=e=cf([,al(0,(0,y.tBr)(y.SBq)),al(1,(0,y.tBr)(y.zs3)),al(2,(0,y.tBr)("WjComponent")),al(2,(0,y.tp0)()),al(2,(0,y.FiY)())],t)}(cd),function(){function s(){}s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=y.oAB({type:s}),s.\u0275inj=y.cJS({imports:[Q.ez]})}(),function(){var s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}()),Pa=function(s){function t(e,n,i){var r=s.call(this,e,null,!0)||this;r._tabs=new u.ObservableArray,r._selectedIndex=-1,r._animated=!0,r._autoSwitch=!0,r.selectedIndexChanged=new u.Event;var o=r.hostElement,a=[];if(!i)for(;o.firstElementChild;){var d=o.firstElementChild;o.removeChild(d),a.push(d)}var p=r.getTemplate();return r.applyTemplate("wj-control wj-tabpanel wj-animated",p,{_dRoot:"root",_dTabHeaders:"tabheaders",_dTabPanes:"tabpanes"}),o.tabIndex=-1,r._dRoot.tabIndex=r._dTabHeaders.tabIndex=r._dTabPanes.tabIndex=-1,n&&(0,u.isBoolean)(n.isAnimated)&&(r.isAnimated=n.isAnimated),r.addEventListener(o,"click",r._click.bind(r)),r.addEventListener(o,"keydown",r._keydown.bind(r)),r._tabs.collectionChanged.addHandler(r._populateControl.bind(r)),r.tabs.deferUpdate(function(){a.forEach(function(v){(0,u.assert)(2==v.childElementCount,"TabPanel children should contain header and pane elements"),r.tabs.push(new Du(v.children[0],v.children[1]))})}),r.initialize(n),r.selectedIndex<0&&r.tabs.length?r.selectedIndex=0:r.onSelectedIndexChanged(),r}return oa(t,s),Object.defineProperty(t.prototype,"tabs",{get:function(){return this._tabs},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedIndex",{get:function(){return this._selectedIndex},set:function(e){(e=(0,u.asInt)(e,!1))!=this._selectedIndex?(this._selectedIndex=e,this._updateContent(),this.onSelectedIndexChanged()):this._updateContent()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedTab",{get:function(){var e=this._selectedIndex;return e>-1?this._tabs[e]:null},set:function(e){for(var n=-1,i=0;i<this._tabs.length&&n<0;i++)this._tabs[i]==e&&(n=i);this.selectedIndex=n},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isAnimated",{get:function(){return this._animated},set:function(e){this._animated=(0,u.asBoolean)(e),(0,u.toggleClass)(this.hostElement,"wj-animated",this._animated)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoSwitch",{get:function(){return this._autoSwitch},set:function(e){e!=this._autoSwitch&&(this._autoSwitch=(0,u.asBoolean)(e),this._updateContent())},enumerable:!0,configurable:!0}),t.prototype.getTab=function(e){for(var n=0;n<this._tabs.length;n++)if((i=this._tabs[n]).header.id==e||i.pane.id==e)return i;for(n=0;n<this._tabs.length;n++){var i;if((i=this._tabs[n]).header.textContent==e)return i}return null},t.prototype.onSelectedIndexChanged=function(e){this.selectedIndexChanged.raise(this,e)},t.prototype._populateControl=function(){var e=this;this._removeChildren(this._dTabHeaders),this._removeChildren(this._dTabPanes);var n=-1;this._tabs.forEach(function(i,r){(0,u.assert)(i instanceof Du,"tabs array must contain Tab objects."),i._setPanel(e);var o=i.header;(0,u.addClass)(o,"wj-tabheader"),(0,u.setAttribute)(o,"role","tab"),e._dTabHeaders.appendChild(o);var a=i.pane;(0,u.addClass)(a,"wj-tabpane"),(0,u.setAttribute)(a,"role","tabpanel"),(0,u.setAttribute)(a,"aria-labelledby",o.id?o.id:null),e._dTabPanes.appendChild(a),n<0&&((0,u.hasClass)(o,"wj-state-active")||"true"==o.getAttribute("aria-selected"))&&(n=r)}),n<0&&this._tabs.length>0&&(n=0),n>-1?this.selectedIndex=n:this.selectedIndex>-1&&this.selectedIndex<this._tabs.length&&this._updateContent(),this._validateSelection()},t.prototype._validateSelection=function(){var e=this.selectedTab;if(e&&(e.isDisabled||!e.isVisible)){var n=this._getNextIndex(this.selectedIndex,1);n<0&&(n=this._getNextIndex(this.selectedIndex,-1)),this.selectedIndex=n}},t.prototype._updateContent=function(){var e=this,n=(0,u.contains)(this._dTabHeaders,(0,u.getActiveElement)()),i=this._dTabHeaders.children,r=this._dTabPanes.children,o=this._selectedIndex;if(o>-1&&o<r.length){var a=(M=r[o]).style;this.isAnimated?(this._eAnim&&(this._eAnim.style.opacity=""),this._toAnim&&clearInterval(this._toAnim),a.opacity="0",this._eAnim=M,this._toAnim=(0,u.animate)(function(T){1==T?(e._eAnim=null,e._toAnim=null,a.opacity=""):a.opacity=T.toString()})):a.opacity=""}for(var d=0;d<i.length;d++){var p=d==o,v=i[d];(0,u.setAttribute)(v,"aria-selected",p),(0,u.toggleClass)(v,"wj-state-active",p);var M=r[d];(0,u.toggleClass)(M,"wj-state-active",p),v.tabIndex=p||!this._autoSwitch?this._orgTabIndex:-1,p&&(n&&v.focus(),this._szObserver||u.Control.invalidateAll(M))}},t.prototype._removeChildren=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},t.prototype._click=function(e){var n=this._getTabIndex(e.target);if(n>-1){var i=this._tabs[n];!i.isDisabled&&i.isVisible&&(this.selectedIndex=n)}},t.prototype._keydown=function(e){if(!e.defaultPrevented){var n=this._getTabIndex((0,u.getActiveElement)());if(n>-1){var i=this._getKeyCode(e);switch(i){case u.Key.Left:case u.Key.Up:case u.Key.Right:case u.Key.Down:case u.Key.Home:case u.Key.PageUp:case u.Key.End:case u.Key.PageDown:switch(i){case u.Key.Left:case u.Key.Up:n=this._getNextIndex(n,-1);break;case u.Key.Right:case u.Key.Down:n=this._getNextIndex(n,1);break;case u.Key.Home:case u.Key.PageUp:n=this._getNextIndex(-1,1);break;case u.Key.End:case u.Key.PageDown:n=this._getNextIndex(this._tabs.length,-1)}n>-1&&(this._autoSwitch?this.selectedIndex=n:this._tabs[n].header.focus()),e.preventDefault();break;case u.Key.Enter:case u.Key.Space:n>-1&&this._tabs[n].header.click(),e.preventDefault()}}}},t.prototype._getTabIndex=function(e){var n=(0,u.closest)(e,".wj-tabheader");if(n&&(0,u.closest)(n,".wj-tabpanel")==this.hostElement)for(var i=0;i<this._tabs.length;i++)if(this._tabs[i].header==n)return i;return-1},t.prototype._getNextIndex=function(e,n){for(var i=e+n;i>-1&&i<this._tabs.length;i+=n){var r=this._tabs[i];if(!r.isDisabled&&r.isVisible)return i}return-1},t.prototype._setIsDisabled=function(e){s.prototype._setIsDisabled.call(this,e),this._updateTabIndex()},t.prototype._setTabOrder=function(e){s.prototype._setTabOrder.call(this,e),this.isDisabled||this._updateTabIndex()},t.prototype._updateTabIndex=function(){var e=this._dTabHeaders.children,n=this._selectedIndex;n>-1&&n<e.length&&(e[n].tabIndex=this.isDisabled?-1:this._orgTabIndex),this.hostElement.tabIndex=-1},t.controlTemplate='<div wj-part="root"><div wj-part="tabheaders" class="wj-tabheaders" role="tablist"></div><div wj-part="tabpanes" class="wj-tabpanes"></div></div>',t}(u.Control),Du=function(){function s(t,e){this._hdr=(0,u.asType)((0,u.getElement)(t),HTMLElement),this._pane=(0,u.asType)((0,u.getElement)(e),HTMLElement)}return Object.defineProperty(s.prototype,"tabPanel",{get:function(){return this._p},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"header",{get:function(){return this._hdr},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"pane",{get:function(){return this._pane},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"isDisabled",{get:function(){return(0,u.hasClass)(this._hdr,"wj-state-disabled")},set:function(t){(0,u.toggleClass)(this._hdr,"wj-state-disabled",(0,u.asBoolean)(t)),this._p&&this._p._validateSelection()},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"isVisible",{get:function(){return"none"!=this._hdr.style.display},set:function(t){this._hdr.style.display=(0,u.asBoolean)(t)?"":"none",this._p&&this._p._validateSelection()},enumerable:!0,configurable:!0}),s.prototype._setParts=function(t,e){if(t=(0,u.asType)((0,u.getElement)(t),HTMLElement),e=(0,u.asType)((0,u.getElement)(e),HTMLElement,!1),this._hdr!==t||this._pane!==e){var n=this.isDisabled,i=this.isVisible;this._hdr=t,this._pane=e,this.isDisabled=n,this.isVisible=i;var r=this.tabPanel;r&&!r.tabs.isUpdating&&r._populateControl()}},s.prototype._setPanel=function(t){this._p=t},s}(),ll="wj-state-active",fd=function(s){function t(e,n,i){var r=s.call(this,e,null,!0)||this;r._panes=new u.ObservableArray,r._selectedIndex=-1,r._animated=!0,r._autoSwitch=!0,r._alCollapseAll=!1,r._alExpandMany=!1,r._autoSwitching=!1,r.selectedIndexChanged=new u.Event;var o=r.hostElement,a=r._panes,d=[];if(!i)for(;o.firstElementChild;){var p=o.firstElementChild;o.removeChild(p),d.push(p)}return(0,u.addClass)(o,"wj-control wj-accordion wj-show-icons"),o.tabIndex=-1,r.addEventListener(o,"click",r._click.bind(r)),r.addEventListener(o,"keydown",r._keydown.bind(r)),a.collectionChanged.addHandler(r._populateControl.bind(r)),a.deferUpdate(function(){d.forEach(function(M){(0,u.assert)(2==M.childElementCount,"Accordion children should contain header and pane elements"),a.push(new eu(M.children[0],M.children[1]))})}),r.initialize(n),r.selectedIndex!=(n?n.selectedIndex:null)&&r.selectedIndex<0&&a.length?r.selectedIndex=0:r.onSelectedIndexChanged(),r}return oa(t,s),Object.defineProperty(t.prototype,"panes",{get:function(){return this._panes},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedIndex",{get:function(){return this._selectedIndex},set:function(e){(e=(0,u.asInt)(e,!1))!=this._selectedIndex?(this._selectedIndex=e,this._updateContent(),this.onSelectedIndexChanged()):this._updateContent()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedPane",{get:function(){var e=this._selectedIndex;return e>-1?this._panes[e]:null},set:function(e){this.selectedIndex=this._getIndexOfPane(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isAnimated",{get:function(){return this._animated},set:function(e){this._animated=(0,u.asBoolean)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showIcons",{get:function(){return(0,u.hasClass)(this.hostElement,"wj-show-icons")},set:function(e){(0,u.toggleClass)(this.hostElement,"wj-show-icons",(0,u.asBoolean)(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoSwitch",{get:function(){return this._autoSwitch},set:function(e){e!=this._autoSwitch&&(this._autoSwitch=(0,u.asBoolean)(e),this._updateContent())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowCollapseAll",{get:function(){return this._alCollapseAll},set:function(e){this._alCollapseAll=(0,u.asBoolean)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowExpandMany",{get:function(){return this._alExpandMany},set:function(e){var n=this;e!=this._alExpandMany&&(this._alExpandMany=e=(0,u.asBoolean)(e),e||this.panes.forEach(function(i,r){var o=r==n.selectedIndex;(0,u.toggleClass)(i.header,"wj-state-active",o),(0,u.setAttribute)(i.header,"aria-expanded",o)}))},enumerable:!0,configurable:!0}),t.prototype.getPane=function(e){for(var n=0;n<this._panes.length;n++)if((i=this._panes[n]).header.id==e||i.content.id==e)return i;for(n=0;n<this._panes.length;n++){var i;if((i=this._panes[n]).header.textContent==e)return i}return null},t.prototype.onSelectedIndexChanged=function(e){this.selectedIndexChanged.raise(this,e)},t.prototype._populateControl=function(){var e=this,n=-1,i=this.hostElement;this._panes.forEach(function(r,o){(0,u.assert)(r instanceof eu,"panes array must contain AccordionPane objects."),r._setAccordion(e);var a=r.header;(0,u.addClass)(a,"wj-header"),(0,u.setAttribute)(a,"role","button"),i.appendChild(a);var d=r.content;(0,u.addClass)(d,"wj-content"),(0,u.setAttribute)(d,"role","region"),(0,u.setAttribute)(d,"aria-labelledby",a.id?a.id:null),i.appendChild(d),n<0&&((0,u.hasClass)(a,ll)||"true"==a.getAttribute("aria-expanded"))&&(n=o)}),n>-1?this.selectedIndex=n:this.selectedIndex>-1&&this.selectedIndex<this._panes.length&&this._updateContent(),this._validateSelection()},t.prototype._validateSelection=function(){var e=this.selectedPane;if(e&&(e.isDisabled||!e.isVisible)){var n=this._getNextIndex(this.selectedIndex,1);n<0&&(n=this._getNextIndex(this.selectedIndex,-1)),this.selectedIndex=n}},t.prototype._updateContent=function(){var e=this,n=(0,u.contains)(this.hostElement,(0,u.getActiveElement)()),i=this._selectedIndex,o=[];this._panes.forEach(function(a,d){var p=a.header,v=d==i,M=(0,u.hasClass)(p,ll),T=v||M&&e._alExpandMany&&a!=e._hidePane,k=T&&!M;e._animated&&(k||M&&!T)&&o.push({show:k,pane:a}),(0,u.setAttribute)(p,"aria-expanded",T),e._animated||(0,u.toggleClass)(p,ll,T),v&&(n&&p.focus(),e._szObserver||u.Control.invalidateAll(a.content))}),this._updatePanesTabIndex(),this._animated&&o.length&&(o.forEach(function(a){(0,u.toggleClass)(a.pane.header,ll,!0),a.height=a.pane.content.offsetHeight,a.show&&(a.pane.content.style.height="0")}),(0,u.animate)(function(a){o.forEach(a<1?function(d){d.pane.content.style.height=(d.height*(d.show?a:1-a)).toFixed(0)+"px"}:function(d){d.pane.content.style.height="",(0,u.toggleClass)(d.pane.header,ll,d.show)})})),this._hidePane=null},t.prototype._updatePanesTabIndex=function(){var e=this;this._panes.forEach(function(n,i){n.header.tabIndex=e._selectedIndex!==i&&e._autoSwitch?-1:e._orgTabIndex})},t.prototype._setTabOrder=function(e){s.prototype._setTabOrder.call(this,e),this._updatePanesTabIndex()},t.prototype._click=function(e){var n=this._getPaneIndex(e.target);if(n>-1){var i=this._panes[n];if(!i.isDisabled&&i.isVisible)if(!(0,u.hasClass)(i.header,ll)||this._autoSwitching)this.selectedIndex=n;else{var r=this._getNextActiveIndex(n);(r>-1||this._alCollapseAll)&&(this._hidePane=i,this.selectedIndex=r)}}},t.prototype._keydown=function(e){if(!e.defaultPrevented){var n=this._getPaneIndex((0,u.getActiveElement)());if(n>-1){var i=this._getKeyCode(e);switch(i){case u.Key.Left:case u.Key.Up:case u.Key.Right:case u.Key.Down:case u.Key.Home:case u.Key.PageUp:case u.Key.End:case u.Key.PageDown:switch(i){case u.Key.Left:case u.Key.Up:n=this._getNextIndex(n,-1);break;case u.Key.Right:case u.Key.Down:n=this._getNextIndex(n,1);break;case u.Key.Home:case u.Key.PageUp:n=this._getNextIndex(-1,1);break;case u.Key.End:case u.Key.PageDown:n=this._getNextIndex(this._panes.length,-1)}if(n>-1){var r=this._panes[n];this._autoSwitch?(this._autoSwitching=!0,r.header.click(),this._autoSwitching=!1):r.header.focus()}e.preventDefault();break;case u.Key.Enter:case u.Key.Space:n>-1&&(r=this._panes[n]).header.click(),e.preventDefault()}}}},t.prototype._getPaneIndex=function(e){var n=(0,u.closest)(e,".wj-header");if(n&&(0,u.closest)(n,".wj-accordion")==this.hostElement)for(var i=0;i<this._panes.length;i++)if(this._panes[i].header==n)return i;return-1},t.prototype._getNextIndex=function(e,n){for(var i=e+n;i>-1&&i<this._panes.length;i+=n){var r=this._panes[i];if(!r.isDisabled&&r.isVisible)return i}return-1},t.prototype._getIndexOfPane=function(e){for(var n=-1,i=this._panes,r=0;r<i.length&&n<0;r++)i[r]==e&&(n=r);return n},t.prototype._getNextActiveIndex=function(e){for(var n=-1,i=this.panes,r=1;r<i.length;r++){var o=(e+r)%i.length;if((0,u.hasClass)(i[o].header,ll)){n=o;break}}return n},t.prototype._togglePane=function(e,n){if(e.isCollapsed!==n&&e.isVisible&&!e.isDisabled)if(n){if(this.allowCollapseAll||this.panes.filter(function(r){return!r.isCollapsed}).length>1){this._hidePane=e;var i=this._getIndexOfPane(e);this.selectedIndex=this._getNextActiveIndex(i)}}else this.selectedPane=e},t}(u.Control),eu=function(){function s(t,e){this._hdr=(0,u.asType)((0,u.getElement)(t),HTMLElement),this._content=(0,u.asType)((0,u.getElement)(e),HTMLElement)}return Object.defineProperty(s.prototype,"accordion",{get:function(){return this._acc},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"header",{get:function(){return this._hdr},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"content",{get:function(){return this._content},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"isDisabled",{get:function(){return(0,u.hasClass)(this._hdr,"wj-state-disabled")},set:function(t){(0,u.toggleClass)(this._hdr,"wj-state-disabled",(0,u.asBoolean)(t)),this._acc&&this._acc._validateSelection()},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"isVisible",{get:function(){return"none"!=this._hdr.style.display},set:function(t){this._hdr.style.display=(0,u.asBoolean)(t)?"":"none",this._acc&&this._acc._validateSelection()},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"isCollapsed",{get:function(){return!(0,u.hasClass)(this._hdr,ll)},set:function(t){var e=this._acc;e?e._togglePane(this,t):(0,u.toggleClass)(this._hdr,ll,!(0,u.asBoolean)(t))},enumerable:!0,configurable:!0}),s.prototype._setParts=function(t,e){if(t=(0,u.asType)((0,u.getElement)(t),HTMLElement),e=(0,u.asType)((0,u.getElement)(e),HTMLElement,!1),this._hdr!==t||this._content!==e){var n=this.isDisabled,i=this.isVisible;this._hdr=t,this._content=e,this.isDisabled=n,this.isVisible=i;var r=this.accordion;r&&!r.panes.isUpdating&&r._populateControl()}},s.prototype._setAccordion=function(t){this._acc=t},s}(),qd=function(s){function t(e,n,i){var r=s.call(this)||this;return r._data=e,r._e=(0,u.asType)(n,HTMLElement),r._level=i,r}return oa(t,s),Object.defineProperty(t.prototype,"dataItem",{get:function(){return this._data},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"element",{get:function(){return this._e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"level",{get:function(){return this._level},enumerable:!0,configurable:!0}),t}(u.EventArgs),va=function(s){function t(e){var n=s.call(this)||this;return n._node=e,n}return oa(t,s),Object.defineProperty(t.prototype,"node",{get:function(){return this._node},enumerable:!0,configurable:!0}),t}(u.CancelEventArgs),sc=function(s){function t(e,n,i){var r=s.call(this)||this;return r._src=(0,u.asType)(e,Ma),r._tgt=(0,u.asType)(n,Ma),r._pos=i,r}return oa(t,s),Object.defineProperty(t.prototype,"dragSource",{get:function(){return this._src},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dropTarget",{get:function(){return this._tgt},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return this._pos},set:function(e){this._pos=(0,u.asEnum)(e,Sa)},enumerable:!0,configurable:!0}),t}(u.CancelEventArgs);!function(s){s[s.Before=0]="Before",s[s.After=1]="After",s[s.Into=2]="Into"}(Sa||(Sa={}));var Ma=function(){function s(t,e){(0,u.hasClass)(e,"wj-treeview")?(t=u.Control.getControl(e),e=null):s._assertNode(e),this._t=t,this._e=e}return Object.defineProperty(s.prototype,"dataItem",{get:function(){return this._e[rs._DATAITEM_KEY]},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"element",{get:function(){return this._e},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"treeView",{get:function(){return this._t},enumerable:!0,configurable:!0}),s.prototype.ensureVisible=function(){for(var t=this.parentNode;t;t=t.parentNode)t.isCollapsed=!1;var e=this._t.hostElement,n=this.element.getBoundingClientRect(),i=e.getBoundingClientRect();n.bottom>i.bottom?e.scrollTop+=n.bottom-i.bottom:n.top<i.top&&(e.scrollTop-=i.top-n.top)},s.prototype.equals=function(t){return null!=t&&t.element==this.element},s.prototype.select=function(){var t=this._t,e=t._selNode;this.equals(e)||(e&&((0,u.removeClass)(e.element,rs._CSEL),(0,u.setAttribute)(e.element,"aria-selected",!1)),t._selNode=this,(0,u.addClass)(this.element,rs._CSEL),(0,u.setAttribute)(this.element,"aria-selected",!0),this.ensureVisible(),t._updateFocus(e),t.onSelectedItemChanged())},Object.defineProperty(s.prototype,"index",{get:function(){for(var t=0,e=this._pse(this.element);e;e=this._pse(e))s._isNode(e)&&t++;return t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"parentNode",{get:function(){var t=null;if(this._e){var e=this._e.parentElement;s._assertNodeList(e),t=this._pse(e)}return t?new s(this._t,t):null},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"level",{get:function(){for(var t=-1,e=this;e;e=e.parentNode)t++;return t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"hasChildren",{get:function(){return s._isNode(this._e)&&!s._isEmpty(this._e)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"hasPendingChildren",{get:function(){return this.isCollapsed&&this.hasChildren&&!s._isNodeList(this.element.nextElementSibling)&&(0,u.isFunction)(this._t.lazyLoadFunction)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"nodes",{get:function(){return this.hasChildren?s._getChildNodes(this._t,this._e.nextSibling):null},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"checkBox",{get:function(){return this._e.querySelector("input."+rs._CNDC)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"isCollapsed",{get:function(){return this.hasChildren&&(0,u.hasClass)(this._e,rs._CCLD)},set:function(t){if(t!=this.isCollapsed){var e=this._t,n=new va(this);e.onIsCollapsedChanging(n)&&(this.setCollapsed((0,u.asBoolean)(t),e.isAnimated,e.autoCollapse),e.onIsCollapsedChanged(n))}},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"isChecked",{get:function(){var t=this.checkBox;return t&&!t.indeterminate?t.checked:null},set:function(t){if(t!=this.isChecked){var e=this._t,n=new va(this);e.onIsCheckedChanging(n)&&(this.setChecked((0,u.asBoolean)(t),!0),e.onIsCheckedChanged(n))}},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"isDisabled",{get:function(){return this._e&&null!=this._e.getAttribute("disabled")},set:function(t){(t=(0,u.asBoolean)(t,!0))!=this.isDisabled&&((0,u.enable)(this._e,!t),this.isDisabled&&this._t&&this._t.collapseWhenDisabled&&(this.isCollapsed=!0))},enumerable:!0,configurable:!0}),s.prototype.previous=function(t,e){var n=this._pse(this._e);if(!n&&s._isNodeList(this._e.parentElement)&&(n=this._pse(this._e.parentElement)),s._isNodeList(n)){for(;s._isNodeList(n)&&n.childElementCount;)n=n.lastChild;s._isNodeList(n)&&(n=this._pse(n))}var i=s._isNode(n)?new s(this._t,n):null;return t&&i&&!i.element.offsetHeight&&(i=i.previous(t,e)),e&&i&&i.isDisabled&&(i=i.previous(t,e)),i},s.prototype.next=function(t,e){var n=this._e.nextSibling;if(s._isNodeList(n)&&(n=n.childElementCount?n.firstChild:n.nextSibling),!n)for(var i=this._e.parentElement;!n&&s._isNodeList(i);i=i.parentElement)n=i.nextSibling;var r=s._isNode(n)?new s(this._t,n):null;return t&&r&&!r.element.offsetHeight&&(r=r.next(t,e)),e&&r&&r.isDisabled&&(r=r.next(t,e)),r},s.prototype.previousSibling=function(){for(var t=this._pse(this.element);s._isNodeList(t);)t=this._pse(t);return t?new s(this._t,t):null},s.prototype.nextSibling=function(){var t=this.element.nextSibling;return s._isNodeList(t)&&(t=t.nextSibling),t?new s(this._t,t):null},s.prototype.setCollapsed=function(t,e,n){var i=this._t,r=this._e,o=this._e.nextElementSibling,a=s._isNodeList(o);if((0,u.setAttribute)(r,"aria-expanded",a?(!t).toString():null),t!=this.isCollapsed)if(t||a||!(0,u.isFunction)(i.lazyLoadFunction)){if(null==e&&(e=i.isAnimated),null==n&&(n=i.autoCollapse),e){if(a){var d=o.offsetHeight,p=o.style,v=i.hostElement,M=v.style;v.scrollHeight<=v.clientHeight&&(M.overflowY="hidden"),t?((0,u.toggleClass)(r,rs._CCLG,!0),(0,u.animate)(function(Y){Y<1?p.height=((Y=1-Y)*d).toFixed(0)+"px":(p.height=p.opacity=M.overflowY="",(0,u.toggleClass)(r,rs._CCLD,!0),(0,u.toggleClass)(r,rs._CCLG,!1))},rs._AN_DLY)):((0,u.toggleClass)(r,rs._CCLD,!1),p.height=p.opacity="0",(0,u.animate)(function(Y){p.height=Y>=1?p.opacity=M.overflowY="":(Y*d).toFixed(0)+"px"},rs._AN_DLY))}}else(0,u.toggleClass)(r,rs._CCLD,t);if(!t&&n){var T=r.parentElement;if(s._isNodeList(T))for(var k=0;k<T.children.length;k++){var L=T.children[k];L!=r&&s._isNode(L)&&((0,u.toggleClass)(L,rs._CCLD,!0),L.setAttribute("aria-expanded","false"))}}}else i._lazyLoadNode(this)},s.prototype.setChecked=function(t,e){var n=this.checkBox,i=n.checked!=t;if((0,u.setChecked)(n,t),this.hasChildren)for(var r=0;r<this.nodes.length;r++)this.nodes[r].setChecked(t,!1);var o=this._t;if(o&&o.checkedMemberPath&&o._chkPath.setValue(this.dataItem,this.level,t),e){var a=this.parentNode;a&&a._updateCheckedState()}o&&i&&o._raiseCheckedItemsChanged()},s.prototype.remove=function(){var t=this._t,e=this.parentNode,n=this._getArray(),i=n.indexOf(this.dataItem);t.selectedNode==this&&(t.selectedNode=this.nextSibling()||this.previousSibling()||e);var r=this.element.nextSibling;s._isNodeList(r)&&(0,u.removeChild)(r),(0,u.removeChild)(this.element),e&&e._updateState(),n.splice(i,1),this._t=null},s.prototype.addChildNode=function(t,e){var n=this._t._createNode(e),i=this.nodes;return i?t<i.length?n.move(i[t],Sa.Before):n.move(i[i.length-1],Sa.After):n.move(this,Sa.Into),n},s.prototype.refresh=function(t){var e=this._getArray();t&&(e[this.index]=t);var n=this._t._createNode(t=e[this.index]),i=this.hasChildren&&!this.hasPendingChildren?this.element.nextSibling:null;i&&(0,u.removeChild)(i),(i=n.hasChildren&&!n.hasPendingChildren?n.element.nextSibling:null)&&this.element.parentElement.insertBefore(i,this.element.nextSibling),this.element.innerHTML=n.element.innerHTML,this._updateState()},s.prototype.move=function(t,e){if(t instanceof s&&this._contains(t))return!1;var n=this.parentNode,i=this._getArray();this._moveElements(t,e),t.treeView&&(this._t=t.treeView),n&&n._updateState();var r=this.parentNode;r&&r._updateState();var o=this.dataItem,a=i.indexOf(o),d=this._getArray();return i.splice(a,1),d.splice(this.index,0,o),!0},Object.defineProperty(s.prototype,"itemsSource",{get:function(){return this._getArray()},enumerable:!0,configurable:!0}),s.prototype._pse=function(t){return t.previousElementSibling},s.prototype._contains=function(t){for(;t;t=t.parentNode)if(t.element==this.element)return!0;return!1},s.prototype._getArray=function(){var t=this._t,e=this.parentNode,n=t.itemsSource;if(e){var i=t._itmPath;(n=i.getValue(e.dataItem,this.level))||i.setValue(e.dataItem,this.level,n=[])}return n},s.prototype._moveElements=function(t,e){var n=document.createDocumentFragment(),i=this.hasChildren&&!this.hasPendingChildren?this.element.nextSibling:null;if(n.appendChild(this.element),i&&(s._assertNodeList(i),n.appendChild(i)),t instanceof rs)t._root.insertBefore(n,null);else{var r=t.element,o=r?r.parentElement:t.treeView._root;switch(s._assertNodeList(o),e){case Sa.Before:o.insertBefore(n,r);break;case Sa.After:r=(t=t.nextSibling())?t.element:null,o.insertBefore(n,r);break;case Sa.Into:(!t.hasChildren||t.hasPendingChildren)&&(i=document.createElement("div"),(0,u.addClass)(i,rs._CNDL),o.insertBefore(i,r.nextSibling)),s._assertNodeList(o=t.element.nextSibling),o.insertBefore(n,null)}}},s.prototype._updateState=function(){this._updateEmptyState(),this._updateCheckedState()},s.prototype._updateEmptyState=function(){var t=this.element.nextSibling,e=!1;s._isNodeList(t)&&(t.childElementCount?e=!0:(0,u.removeChild)(t)),(0,u.toggleClass)(this.element,rs._CEMP,!e),e||this.element.removeAttribute("aria-expanded")},s.prototype._updateCheckedState=function(){var t=this._t,e=this.checkBox,n=this.nodes,i=0,r=0,o=!1;if(e&&n){for(var a=0;a<n.length&&!o;a++){switch(n[a].isChecked){case!0:i++;break;case!1:r++;break;case null:o=!0}i&&r&&(o=!0)}(0,u.setChecked)(e,o?null:i>0),t&&t.checkedMemberPath&&t._chkPath.setValue(this.dataItem,this.level,o?null:e.checked)}var p=this.parentNode;p&&p._updateCheckedState()},s._getChildNodes=function(t,e){var n=[];if(s._isNodeList(e))for(var i=e.children,r=0;r<i.length;r++){var o=i[r];s._isNode(o)&&n.push(new s(t,o))}return n},s._isNode=function(t){return t&&(0,u.hasClass)(t,rs._CND)},s._isNodeList=function(t){return t&&(0,u.hasClass)(t,rs._CNDL)},s._isEmpty=function(t){return s._isNode(t)&&(0,u.hasClass)(t,rs._CEMP)},s._isCollapsed=function(t){return s._isNode(t)&&!s._isEmpty(t)&&(0,u.hasClass)(t,rs._CCLD)},s._assertNode=function(t){(0,u.assert)(s._isNode(t),"node expected")},s._assertNodeList=function(t){(0,u.assert)(s._isNodeList(t),"nodeList expected")},s}(),_c=function(){function s(t){this.path=t}return Object.defineProperty(s.prototype,"path",{get:function(){return this._path},set:function(t){if(this._path=t,(0,u.isString)(t))this._bindings=[new u.Binding(t)];else if((0,u.isArray)(t)){this._bindings=[];for(var e=0;e<t.length;e++)this._bindings.push(new u.Binding(t[e]))}else null!=t&&(0,u.assert)(!1,"Path should be a string or an array of strings.");this._maxLevel=this._bindings?this._bindings.length-1:-1},enumerable:!0,configurable:!0}),s.prototype.getValue=function(t,e){var n=Math.min(e,this._maxLevel);return n>-1?this._bindings[n].getValue(t):null},s.prototype.setValue=function(t,e,n){var i=Math.min(e,this._maxLevel);i>-1&&this._bindings[i].setValue(t,n)},s}(),rs=function(s){function t(e,n){var i=s.call(this,e)||this;i._itmPath=new _c("items"),i._chkPath=new _c,i._dspPath=new _c("header"),i._imgPath=new _c,i._html=!1,i._animated=!0,i._chkOnClick=!1,i._collOnClick=!1,i._xpndOnClick=!0,i._xpndOnLoad=!0,i._autoColl=!0,i._showChk=!1,i._collapseWhenDisabled=!0,i._srch="",i._isReadOnly=!0,i.itemsSourceChanged=new u.Event,i.loadingItems=new u.Event,i.loadedItems=new u.Event,i.itemClicked=new u.Event,i.selectedItemChanged=new u.Event,i.checkedItemsChanged=new u.Event,i.isCollapsedChanging=new u.Event,i.isCollapsedChanged=new u.Event,i.isCheckedChanging=new u.Event,i.isCheckedChanged=new u.Event,i.formatItem=new u.Event(function(){i.invalidate()}),i.dragStart=new u.Event,i.dragOver=new u.Event,i.drop=new u.Event,i.dragEnd=new u.Event,i.nodeEditStarting=new u.Event,i.nodeEditStarted=new u.Event,i.nodeEditEnding=new u.Event,i.nodeEditEnded=new u.Event;var r=i.getTemplate();i.applyTemplate("wj-control wj-content wj-treeview",r,{_root:"root"});var o=i.hostElement;return(0,u.setAttribute)(o,"role","tree",!0),(0,u.addClass)(i._root,t._CNDL),(0,u.setAttribute)(i._root,"role","group",!0),i.addEventListener(o,"mousedown",i._mousedown.bind(i)),i.addEventListener(o,"click",i._click.bind(i)),i.addEventListener(o,"keydown",i._keydown.bind(i)),i.addEventListener(o,"keypress",i._keypress.bind(i)),i.addEventListener(o,"wheel",function(a){o.scrollHeight>o.offsetHeight&&(a.deltaY<0&&0==o.scrollTop||a.deltaY>0&&o.scrollTop+o.offsetHeight>=o.scrollHeight)&&a.preventDefault()}),i.addEventListener(o,"blur",function(){i._edtNode&&!(0,u.contains)(i._edtNode.element,(0,u.getActiveElement)())&&i.finishEditing()},!0),i.addEventListener(o,"paste",function(a){if(i._edtNode&&!i.isContentHtml){var d=(a.clipboardData||window.clipboardData).getData("text"),p=window.getSelection();d&&p.rangeCount&&(p.deleteFromDocument(),p.getRangeAt(0).insertNode(document.createTextNode(d)),a.preventDefault())}}),i.initialize(n),i.refresh(),i}return oa(t,s),Object.defineProperty(t.prototype,"itemsSource",{get:function(){return this._items},set:function(e){this._items!=e&&(this._items=(0,u.asArray)(e),this.onItemsSourceChanged(),this._srcChanged=!0,this._reload())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"childItemsPath",{get:function(){return this._itmPath.path},set:function(e){e!=this.childItemsPath&&(this._itmPath.path=e,this._reload())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"displayMemberPath",{get:function(){return this._dspPath.path},set:function(e){e!=this.displayMemberPath&&(this._dspPath.path=e,this._reload())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"imageMemberPath",{get:function(){return this._imgPath.path},set:function(e){e!=this.imageMemberPath&&(this._imgPath.path=e,this._reload())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checkedMemberPath",{get:function(){return this._chkPath.path},set:function(e){e!=this.checkedMemberPath&&(this._chkPath.path=e,this._reload())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isContentHtml",{get:function(){return this._html},set:function(e){e!=this._html&&(this._html=(0,u.asBoolean)(e),this._reload())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showCheckboxes",{get:function(){return this._showChk},set:function(e){e!=this._showChk&&(this._showChk=(0,u.asBoolean)(e),this._reload())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoCollapse",{get:function(){return this._autoColl},set:function(e){this._autoColl=(0,u.asBoolean)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"collapseWhenDisabled",{get:function(){return this._collapseWhenDisabled},set:function(e){this._collapseWhenDisabled=(0,u.asBoolean)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isAnimated",{get:function(){return this._animated},set:function(e){this._animated=(0,u.asBoolean)(e),(0,u.toggleClass)(this.hostElement,"wj-animated",this._animated)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isReadOnly",{get:function(){return this._isReadOnly},set:function(e){this._isReadOnly=(0,u.asBoolean)(e),(0,u.toggleClass)(this.hostElement,"wj-state-readonly",this.isReadOnly)},enumerable:!0,configurable:!0}),t.prototype.startEditing=function(e){if(this.isReadOnly||(e||(e=this.selectedNode),!e||e.isDisabled)||!this.finishEditing())return!1;var n=e.element.querySelector("."+t._CNDT);if(!n)return!1;var i=new va(e);if(!this.onNodeEditStarting(i))return!1;n.tabIndex=0,n.focus(),n.contentEditable="true",n.style.cursor="auto";var r=document.createRange();r.selectNodeContents(n);var o=getSelection();return o.removeAllRanges(),o.addRange(r),n.focus(),(0,u.setAttribute)(n,"autocomplete","off"),(0,u.setAttribute)(n,"autocorrect","off"),this._edtNode=e,this.onNodeEditStarted(i),!0},t.prototype.finishEditing=function(e){var n=this._edtNode;if(n){var i=n.element.querySelector("."+t._CNDT);if(!i)return!1;var r=new va(n);if(!this.onNodeEditEnding(r))return!1;var o=n.dataItem,a=n.level;this.isContentHtml?e?i.innerHTML=this._dspPath.getValue(o,a):this._dspPath.setValue(o,a,i.innerHTML):e?i.textContent=this._dspPath.getValue(o,a):this._dspPath.setValue(o,a,i.textContent),document.createRange().selectNodeContents(i),getSelection().removeAllRanges(),i.contentEditable="false",i.style.cursor="",this._edtNode=null,this.onNodeEditEnded(r)}return!0},Object.defineProperty(t.prototype,"allowDragging",{get:function(){return null!=this._dd},set:function(e){if(e!=this.allowDragging){(0,u.asBoolean)(e)?this._dd=new tu(this):(this._dd.dispose(),this._dd=null);for(var n=this.hostElement.querySelectorAll("."+t._CND),i=0;i<n.length;i++)(0,u.setAttribute)(n[i],"draggable",!!this._dd||null)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checkOnClick",{get:function(){return this._chkOnClick},set:function(e){this._chkOnClick=(0,u.asBoolean)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"expandOnClick",{get:function(){return this._xpndOnClick},set:function(e){this._xpndOnClick=(0,u.asBoolean)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"collapseOnClick",{get:function(){return this._collOnClick},set:function(e){this._collOnClick=(0,u.asBoolean)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"expandOnLoad",{get:function(){return this._xpndOnLoad},set:function(e){this._xpndOnLoad=(0,u.asBoolean)(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedItem",{get:function(){return this._selNode?this._selNode.dataItem:null},set:function(e){e!=this.selectedItem&&(this._isDirty&&this.refresh(),this.selectedNode=e?this.getNode(e):null)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedNode",{get:function(){return this._selNode},set:function(e){if(e!=this.selectedNode)if(this._prevSel=this._selNode,e)e.select();else if(this._selNode){var n=this._selNode.element;(0,u.removeClass)(n,t._CSEL),(0,u.setAttribute)(n,"aria-selected",!1),this._selNode=null,this._updateFocus(this._prevSel),this.onSelectedItemChanged()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedPath",{get:function(){for(var e=[],n=this.selectedNode;n;n=n.parentNode){var i=this._dspPath.getValue(n.dataItem,n.level);e.splice(0,0,i)}return e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checkedItems",{get:function(){if(null==this._chkItems){var e=t,i=this._root.querySelectorAll("."+e._CND+"."+e._CEMP+" > input:checked."+e._CNDC);this._chkItems=[];for(var r=0;r<i.length;r++)this._chkItems.push(i[r].parentElement[e._DATAITEM_KEY])}return this._chkItems},set:function(e){if(this.showCheckboxes){this._isDirty&&this.refresh();for(var r=this._root.querySelectorAll("."+t._CND+"."+t._CEMP),o=0;o<r.length;o++){var a=new Ma(this,r[o]),d=e.indexOf(a.dataItem)>-1;a.isChecked!=d&&(a.isChecked=d)}}},enumerable:!0,configurable:!0}),t.prototype.checkAllItems=function(e){if(this.showCheckboxes)for(var r=this._root.querySelectorAll("."+t._CND+"."+t._CEMP),o=0;o<r.length;o++){var a=new Ma(this,r[o]);a.isChecked!=e&&(a.isChecked=e)}},Object.defineProperty(t.prototype,"totalItemCount",{get:function(){return this.hostElement.querySelectorAll("."+t._CND).length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lazyLoadFunction",{get:function(){return this._lazyLoad},set:function(e){e!=this._lazyLoad&&(this._lazyLoad=(0,u.asFunction)(e),this._reload())},enumerable:!0,configurable:!0}),t.prototype.getFirstNode=function(e,n){var i=this.hostElement.querySelector("."+t._CND),r=i?new Ma(this,i):null;return e&&r&&!r.element.offsetHeight&&(r=r.next(e,n)),n&&r&&r.isDisabled&&(r=r.next(e,n)),r},t.prototype.getLastNode=function(e,n){var i=this.hostElement.querySelectorAll("."+t._CND+":last-child"),r=i.length?new Ma(this,i[i.length-1]):null;return e&&r&&!r.element.offsetHeight&&(r=r.previous(e,n)),n&&r&&r.isDisabled&&(r=r.previous(e,n)),r},Object.defineProperty(t.prototype,"nodes",{get:function(){return Ma._getChildNodes(this,this._root)},enumerable:!0,configurable:!0}),t.prototype.getNode=function(e){this._isDirty&&this._loadTree();for(var n=this.hostElement.querySelectorAll("."+t._CND),i=0;i<n.length;i++){var r=n[i];if(r[t._DATAITEM_KEY]==e)return new Ma(this,r)}return null},t.prototype.addChildNode=function(e,n){var i=this._createNode(n),r=this.nodes;return r?e<r.length?i.move(r[e],Sa.Before):i.move(r[r.length-1],Sa.After):i.move(this,Sa.Into),i},t.prototype.collapseToLevel=function(e){var n=this._animated,i=this._autoColl;this._animated=this._autoColl=!1,this._collapseToLevel(this.nodes,e,0),this._animated=n,this._autoColl=i},t.prototype.loadTree=function(e){this._loadTree(e)},t.prototype.onItemsSourceChanged=function(e){this.itemsSourceChanged.raise(this,e)},t.prototype.onLoadingItems=function(e){return this.loadingItems.raise(this,e),!e.cancel},t.prototype.onLoadedItems=function(e){this.loadedItems.raise(this,e)},t.prototype.onItemClicked=function(e){this.itemClicked.raise(this,e)},t.prototype.onSelectedItemChanged=function(e){this.selectedItemChanged.raise(this,e)},t.prototype.onCheckedItemsChanged=function(e){this._chkItems=null,this.checkedItemsChanged.raise(this,e)},t.prototype.onIsCollapsedChanging=function(e){return this.isCollapsedChanging.raise(this,e),!e.cancel},t.prototype.onIsCollapsedChanged=function(e){this.isCollapsedChanged.raise(this,e)},t.prototype.onIsCheckedChanging=function(e){return this.isCheckedChanging.raise(this,e),!e.cancel},t.prototype.onIsCheckedChanged=function(e){this.isCheckedChanged.raise(this,e)},t.prototype.onFormatItem=function(e){this.formatItem.raise(this,e)},t.prototype.onDragStart=function(e){return this.dragStart.raise(this,e),!e.cancel},t.prototype.onDragOver=function(e){return this.dragOver.raise(this,e),!e.cancel},t.prototype.onDrop=function(e){return this.drop.raise(this,e),!e.cancel},t.prototype.onDragEnd=function(e){this.dragEnd.raise(this,e)},t.prototype.onNodeEditStarting=function(e){return this.nodeEditStarting.raise(this,e),!e.cancel},t.prototype.onNodeEditStarted=function(e){this.nodeEditStarted.raise(this,e)},t.prototype.onNodeEditEnding=function(e){return this.nodeEditEnding.raise(this,e),!e.cancel},t.prototype.onNodeEditEnded=function(e){this.nodeEditEnded.raise(this,e)},t.prototype.refresh=function(e){void 0===e&&(e=!0),s.prototype.refresh.call(this,e),!this.isUpdating&&this._isDirty&&this._loadTree(!0)},t.prototype._updateFocus=function(e){if(this._updateTabIndex(),this.containsFocus()){var n=this._selNode;n?n.element.focus():this.hostElement.focus()}e&&(e.element.tabIndex=-1)},t.prototype._updateTabIndex=function(){var e=this._selNode;e&&(e.element.tabIndex=this._orgTabIndex),this.hostElement.tabIndex=e||this.isDisabled?-1:this._orgTabIndex},t.prototype._setTabOrder=function(e){this._orgTabIndex=e,this._updateTabIndex()},t.prototype._raiseCheckedItemsChanged=function(){var e=this;this._toItemsChanged&&clearTimeout(this._toItemsChanged),this._toItemsChanged=setTimeout(function(){e._toItemsChanged=null,e.onCheckedItemsChanged()},10)},t.prototype._reload=function(){this._isDirty=!0,this.invalidate()},t.prototype._createNode=function(e){return new t(document.createElement("div"),{expandOnLoad:this.expandOnLoad,allowDragging:this.allowDragging,lazyLoadFunction:this.lazyLoadFunction,childItemsPath:this.childItemsPath,displayMemberPath:this.displayMemberPath,imageMemberPath:this.imageMemberPath,isContentHtml:this.isContentHtml,showCheckboxes:this.showCheckboxes,itemsSource:[e]}).getFirstNode()},t.prototype._mousedown=function(e){if(!e.defaultPrevented){var n=(0,u.closestClass)(e.target,t._CND),i=n?new Ma(this,n):null;i&&!i.isDisabled&&(this.selectedNode=i)}},t.prototype._click=function(e){if(!e.defaultPrevented){var n=(0,u.closestClass)(e.target,t._CND);if(n){var i=new Ma(this,n),r="input."+t._CNDC,o=(0,u.closest)(e.target,r),a=n.getBoundingClientRect(),d=this.rightToLeft?a.right-e.clientX:e.clientX-a.left;if(i.isDisabled||!o&&i.equals(this._edtNode))return;!o&&this._chkOnClick&&(!i.hasChildren||d>n.offsetHeight)&&(o=n.querySelector(r));var p=this._prevSel;if(this.selectedNode=i,n.focus(),o&&(e.preventDefault(),e.stopPropagation(),setTimeout(function(){i.isChecked=!i.isChecked})),!o){var v=(e.ctrlKey||e.metaKey)&&!i.hasPendingChildren,M=i.isCollapsed,T=!1;if(i.hasChildren&&(d<=n.offsetHeight?(T=!0,v?this.collapseToLevel(M?i.level+1:i.level):i.isCollapsed=!M):this.expandOnClick&&M?(T=!0,v?this.collapseToLevel(i.level+1):i.isCollapsed=!1):this.collapseOnClick&&!M&&(T=!0,v?this.collapseToLevel(i.level):i.isCollapsed=!0)),T&&v&&this.selectedNode&&this.selectedNode.ensureVisible(),!T&&!this.isReadOnly){var k=this.selectedNode;k&&k.equals(p)&&this.startEditing()}}this.selectedItem&&this.onItemClicked()}}},t.prototype._keydown=function(e){if(!e.defaultPrevented){var n=this._getKeyCode(e),i=this._selNode,r=void 0,o=!0;if(!i)switch(n){case u.Key.Up:case u.Key.Down:case u.Key.Left:case u.Key.Right:case u.Key.Enter:case u.Key.Home:case u.Key.End:if(r=this.getFirstNode(!0,!0))return this.selectedNode=r,void e.preventDefault()}if(i&&!i.isDisabled){switch(n){case u.Key.F2:this.startEditing(),e.preventDefault();break;case u.Key.Escape:this.finishEditing(!0),e.preventDefault();break;case u.Key.Up:case u.Key.Down:this.finishEditing();break;case u.Key.Enter:this._edtNode?(this.finishEditing(),n=u.Key.Down):(this.startEditing(),e.preventDefault())}if(this._edtNode)return;if(this.rightToLeft)switch(n){case u.Key.Left:n=u.Key.Right;break;case u.Key.Right:n=u.Key.Left}switch(n){case u.Key.Left:!i.isCollapsed&&i.hasChildren?i.isCollapsed=!0:(i=i.parentNode)&&i.select();break;case u.Key.Right:i.isCollapsed&&i.hasChildren&&(i.isCollapsed=!1);break;case u.Key.Up:r=i.previous(!0,!0);break;case u.Key.Down:r=i.next(!0,!0);break;case u.Key.Home:r=this.getFirstNode(!0,!0);break;case u.Key.End:r=this.getLastNode(!0,!0);break;case u.Key.Space:if(this.selectedItem){var a=i.checkBox;a&&(i.isChecked=a.indeterminate||!a.checked)}break;case u.Key.Enter:this.selectedItem&&this.onItemClicked();break;default:o=!1}o&&(e.preventDefault(),r&&r.select())}}},t.prototype._keypress=function(e){var n=this;if(!e.defaultPrevented){if(e.ctrlKey||e.metaKey||e.altKey||e.target instanceof HTMLInputElement||this._edtNode)return;if(e.charCode>32&&this.startEditing(this.selectedNode)){var i=(0,u.getActiveElement)();if((0,u.contains)(this._edtNode.element,i)){i.textContent=String.fromCharCode(e.charCode),e.preventDefault();var r=document.createRange();r.selectNodeContents(i),r.collapse(!1);var o=getSelection();o.removeAllRanges(),o.addRange(r)}return}if(e.charCode>32||32==e.charCode&&this._srch){e.preventDefault(),this._srch+=String.fromCharCode(e.charCode).toLowerCase(),this._toSrch&&clearTimeout(this._toSrch),this._toSrch=setTimeout(function(){n._toSrch=null,n._srch=""},t._AS_DLY);var a=this._findNext();null==a&&this._srch.length>1&&(this._srch=this._srch[this._srch.length-1],a=this._findNext()),null!=a&&(this.selectedItem=a)}}},t.prototype._findNext=function(){if(this.hostElement&&this.selectedItem){var e=this.getNode(this.selectedItem),n=e,i=!1,r=!1;for(1==this._srch.length&&(r=!0);n;){if(!n.isDisabled&&!r&&0==n.element.textContent.trim().toLowerCase().indexOf(this._srch))return n.dataItem;var o=n.next(!0,!0);if(o==e&&i)break;!o&&!i&&(o=this.getFirstNode(!0,!0),i=!0),n=o,r=!1}}return null},t.prototype._loadTree=function(e){var n=this,i=this._root;if(i){if(!this.onLoadingItems(new u.CancelEventArgs))return;var r=this.containsFocus(),o=this._srcChanged;this._isDirty=!1,this._srcChanged=!1;var a=this.selectedItem;this.selectedItem=null,this._chkItems=null,this._ldLvl=-1;var d=void 0;if(e&&(0,u.isFunction)(window.Map)&&!o&&this.nodes.length>0){d=new Map;for(var p=this.hostElement.querySelectorAll("."+t._CND),v=0;v<p.length;v++){var M=p[v];(0,u.hasClass)(M,t._CCLD)&&d.set(M[t._DATAITEM_KEY],!0)}}if(i.innerHTML="",this._items&&this._items.forEach(function(Y){n._addItem(i,0,Y)}),d)for(p=this.hostElement.querySelectorAll("."+t._CND),v=0;v<p.length;v++){var T=Ma._isNodeList((M=p[v]).nextElementSibling),k=!Ma._isEmpty(M),L=d.get(M[t._DATAITEM_KEY]);k&&(L||T)&&(0,u.toggleClass)(M,t._CCLD,1==L),(0,u.setAttribute)(M,"aria-expanded",k?(!(0,u.hasClass)(M,t._CCLD)).toString():null)}r&&!this.containsFocus()&&this.focus(),this.selectedItem=a,this.onLoadedItems(),this._ldLvl=-1,this._srcChanged=!1}},t.prototype._addItem=function(e,n,i){var r,o=this._dspPath.getValue(i,n),a=this._imgPath.getValue(i,n),d=(0,u.asArray)(this._itmPath.getValue(i,n),!0),p=document.createElement("div");(0,u.addClass)(p,t._CND),p.tabIndex=-1,(0,u.setAttribute)(p,"role","treeitem",!0),(0,u.setAttribute)(p,"aria-selected",!1);var v=document.createElement("span");if(this.isContentHtml?v.innerHTML=o:v.textContent=o,(0,u.addClass)(v,t._CNDT),p.appendChild(v),a){var M=document.createElement("img");M.src=a,p.insertBefore(M,p.firstChild)}if(this._showChk&&!this._lazyLoad&&((r=document.createElement("input")).type="checkbox",r.tabIndex=-1,(0,u.addClass)(r,t._CNDC),p.insertBefore(r,p.firstChild)),this._dd&&p.setAttribute("draggable","true"),e.appendChild(p),p[t._DATAITEM_KEY]=i,d&&0==d.length&&!this.lazyLoadFunction&&(d=null),d){var T=this.expandOnLoad;if(n>this._ldLvl&&T?(this._ldLvl=n,0==d.length&&(T=!1,(0,u.addClass)(p,t._CCLD))):(T=!1,(0,u.addClass)(p,t._CCLD),n<this._ldLvl&&(this._ldLvl=100)),d.length>0){var k=document.createElement("div");k.tabIndex=-1,(0,u.addClass)(k,t._CNDL);for(var L=0;L<d.length;L++)this._addItem(k,n+1,d[L]);e.appendChild(k),(0,u.setAttribute)(k,"role","group",!0)}(0,u.setAttribute)(p,"aria-expanded",T.toString(),!0)}else(0,u.addClass)(p,t._CEMP);r&&this.checkedMemberPath&&(d&&d.length?new Ma(this,p)._updateCheckedState():r.checked=this._chkPath.getValue(i,n)),this.formatItem.hasHandlers&&this.onFormatItem(new qd(i,p,n))},t.prototype._collapseToLevel=function(e,n,i){for(var r=0;r<e.length;r++){var o=e[r];o.hasPendingChildren||(o.isCollapsed=i>=n,o.hasChildren&&this._collapseToLevel(o.nodes,n,i+1))}},t.prototype._lazyLoadNode=function(e){var n=this.hostElement;(0,u.hasClass)(n,t._CLDG)||((0,u.addClass)(n,t._CLDG),(0,u.addClass)(e.element,t._CLDG),this.lazyLoadFunction(e,this._lazyLoadCallback.bind(e)))},t.prototype._lazyLoadCallback=function(e){this.treeView._lazyLoadNodeDone(this,e)},t.prototype._lazyLoadNodeDone=function(e,n){var i=t;(0,u.removeClass)(e.element,i._CLDG),(0,u.removeClass)(this.hostElement,i._CLDG);var r=e.dataItem,o=e.level,a=(0,u.asArray)(n,!0);if(null==a||0==a.length)this._itmPath.setValue(r,o,null),(0,u.addClass)(e.element,i._CEMP),(0,u.removeClass)(e.element,i._CCLD);else if(a.length){this._itmPath.setValue(r,o,a);var d=document.createElement("div"),p=e.element;(0,u.addClass)(d,i._CNDL),p.parentElement.insertBefore(d,p.nextSibling);for(var v=0;v<a.length;v++)this._addItem(d,o+1,a[v]);e.isCollapsed=!1}},t._DATAITEM_KEY="wj-Data-Item",t._AS_DLY=600,t._AN_DLY=200,t._CND="wj-node",t._CNDL="wj-nodelist",t._CEMP="wj-state-empty",t._CNDT="wj-node-text",t._CNDC="wj-node-check",t._CSEL="wj-state-selected",t._CCLD="wj-state-collapsed",t._CCLG="wj-state-collapsing",t._CLDG="wj-state-loading",t.controlTemplate='<div wj-part="root"></div>',t}(u.Control),tu=function(){function s(t){this._tree=(0,u.asType)(t,rs),this._dragstartBnd=this._dragstart.bind(this),this._dragoverBnd=this._dragover.bind(this),this._dropBnd=this._drop.bind(this),this._dragendBnd=this._dragend.bind(this);var e=this._tree,n=e.hostElement;e.addEventListener(n,"dragstart",this._dragstartBnd),e.addEventListener(n,"dragover",this._dragoverBnd),e.addEventListener(n,"dragleave",this._dragoverBnd),e.addEventListener(n,"drop",this._dropBnd),e.addEventListener(n,"dragend",this._dragendBnd),e.addEventListener(n,"keydown",this._keydown)}return s.prototype.dispose=function(){var t=this._tree,e=t.hostElement;t.removeEventListener(e,"dragstart",this._dragstartBnd),t.removeEventListener(e,"dragover",this._dragoverBnd),t.removeEventListener(e,"dragleave",this._dragoverBnd),t.removeEventListener(e,"drop",this._dropBnd),t.removeEventListener(e,"dragend",this._dragendBnd),t.removeEventListener(e,"keydown",this._keydown),this._showDragMarker()},s.prototype._dragstart=function(t){if(!t.defaultPrevented){var e=this._tree,n=(0,u.closestClass)(t.target,rs._CND),i=s;if(i._drgSrc=Ma._isNode(n)?new Ma(e,n):null,i._drgSrc){var r=new va(i._drgSrc);e.onDragStart(r)||(i._drgSrc=null)}i._drgSrc&&t.dataTransfer?((0,u._startDrag)(t.dataTransfer,"copyMove"),t.stopPropagation()):t.preventDefault()}},s.prototype._dragover=function(t){this._handleDragDrop(t,!1)},s.prototype._drop=function(t){this._handleDragDrop(t,!0)},s.prototype._dragend=function(t){s._drgSrc=null,this._showDragMarker(),this._tree.onDragEnd()},s.prototype._keydown=function(t){t.defaultPrevented||t.keyCode==u.Key.Escape&&this._dragendBnd(null)},s.prototype._handleDragDrop=function(t,e){var n,i,r=this._tree,o=s,a=Sa,d=a.Into;if(!t.defaultPrevented&&o._drgSrc){var p=document.elementFromPoint(t.clientX,t.clientY),v=(0,u.closestClass)(p,rs._CND);if(null==v){var M=u.Control.getControl((0,u.closest)(p,".wj-treeview"));M instanceof rs&&0==M.totalItemCount&&(v=M.hostElement)}if(v==o._drgSrc.element&&(v=null),v){i=v.getBoundingClientRect();var T=new Ma(r,v),k=T.hasPendingChildren?i.height/2:i.height/3;null==T.element?((i=u.Rect.fromBoundingRect(i)).inflate(-12,-12),d=a.Before):t.clientY<i.top+k?d=a.Before:(t.clientY>i.bottom-k||T.hasPendingChildren)&&(d=a.After,T.hasChildren&&!T.isCollapsed&&!T.hasPendingChildren&&(d=a.Before,i=(v=(T=T.next(!0,!1)).element).getBoundingClientRect())),o._drgSrc._contains(T)?v=null:((n=new sc(o._drgSrc,T,d)).cancel=o._drgSrc.treeView!=T.treeView,r.onDragOver(n)||(v=null))}if(v)if((d=n.position)==a.Before){var L=n.dragSource.next(!0,!1);L&&L.element==v&&(v=null)}else if(d==a.After){var Y=n.dragSource.previous(!0,!1);Y&&Y.element==v&&(v=null)}if(v&&!e?(t.dataTransfer.dropEffect="move",t.preventDefault(),t.stopPropagation(),this._showDragMarker(i,d)):this._showDragMarker(),v&&e&&r.onDrop(n)){r.hostElement.focus();var ce=n.dragSource;ce.move(n.dropTarget,n.position),ce.ensureVisible(),ce.select()}}},s.prototype._showDragMarker=function(t,e){var n=this._tree,i=s._dMarker.parentElement;if(t){var r=n.hostElement.getBoundingClientRect(),a={top:Math.round((e==Sa.After?t.bottom:t.top)-r.top+n.hostElement.scrollTop-2),width:"75%",height:e==Sa.Into?t.height:4,opacity:e==Sa.Into?"0.15":""};n.rightToLeft?a.right=Math.round(r.right-t.right):a.left=Math.round(t.left-r.left),(0,u.setCss)(s._dMarker,a),i!=n._root&&n._root.appendChild(s._dMarker)}else i&&i.removeChild(s._dMarker)},s._dMarker=typeof window<"u"?(0,u.createElement)('<div class="wj-marker">&nbsp;</div>'):null,s}();(0,u._registerModule)("wijmo.nav",U);var Tu=["*"],Rl=function(){var s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)i.hasOwnProperty(r)&&(n[r]=i[r])})(t,e)};return function(t,e){function n(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Nc=function(s,t,e,n){var i,r=arguments.length,o=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(s,t,e,n);else for(var a=s.length-1;a>=0;a--)(i=s[a])&&(o=(r<3?i(o):r>3?i(t,e,o):i(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o},Wo=function(s,t){return function(e,n){t(e,n,s)}},pd={selector:"wj-tree-view",template:"",inputs:["asyncBindings","wjModelProperty","isDisabled","tabOrder","childItemsPath","displayMemberPath","imageMemberPath","checkedMemberPath","isContentHtml","showCheckboxes","autoCollapse","isAnimated","isReadOnly","allowDragging","checkOnClick","expandOnClick","collapseOnClick","expandOnLoad","lazyLoadFunction","itemsSource","selectedItem","selectedNode","checkedItems"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","refreshingNg: refreshing","refreshedNg: refreshed","invalidInputNg: invalidInput","itemsSourceChangedNg: itemsSourceChanged","loadingItemsNg: loadingItems","loadedItemsNg: loadedItems","itemClickedNg: itemClicked","selectedItemChangedNg: selectedItemChanged","selectedItemChangePC: selectedItemChange","selectedNodeChangePC: selectedNodeChange","checkedItemsChangedNg: checkedItemsChanged","checkedItemsChangePC: checkedItemsChange","isCollapsedChangingNg: isCollapsedChanging","isCollapsedChangedNg: isCollapsedChanged","isCheckedChangingNg: isCheckedChanging","isCheckedChangedNg: isCheckedChanged","formatItemNg: formatItem","dragStartNg: dragStart","dragOverNg: dragOver","dropNg: drop","dragEndNg: dragEnd","nodeEditStartingNg: nodeEditStarting","nodeEditStartedNg: nodeEditStarted","nodeEditEndingNg: nodeEditEnding","nodeEditEndedNg: nodeEditEnded"],providers:[{provide:O.JU,useFactory:tt.Ko,multi:!0,deps:["WjComponent"]}]},gd=(function(s){function t(n,i,r){var o=s.call(this,tt.D6.getHostElement(n,i))||this;return o.isInitialized=!1,o._wjBehaviour=tt.D6.attach(o,n,i,r),o.created(),o}var e;Rl(t,s),e=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.prototype.addEventListener=function(n,i,r,o){var a=this;void 0===o&&(o=!1);var d=tt.D6,p=d.getZone(this);p&&d.outsideZoneEvents[i]?p.runOutsideAngular(function(){s.prototype.addEventListener.call(a,n,i,r,o)}):s.prototype.addEventListener.call(this,n,i,r,o)},t.meta={outputs:pd.outputs,changeEvents:{selectedItemChanged:["selectedItem","selectedNode"],checkedItemsChanged:["checkedItems"]}},t.\u0275fac=function(i){return new(i||t)(y.Y36(y.SBq),y.Y36(y.zs3),y.Y36("WjComponent",12))},t.\u0275cmp=y.Xpm({type:t,selectors:[["wj-tree-view"]],inputs:{asyncBindings:"asyncBindings",wjModelProperty:"wjModelProperty",isDisabled:"isDisabled",tabOrder:"tabOrder",childItemsPath:"childItemsPath",displayMemberPath:"displayMemberPath",imageMemberPath:"imageMemberPath",checkedMemberPath:"checkedMemberPath",isContentHtml:"isContentHtml",showCheckboxes:"showCheckboxes",autoCollapse:"autoCollapse",isAnimated:"isAnimated",isReadOnly:"isReadOnly",allowDragging:"allowDragging",checkOnClick:"checkOnClick",expandOnClick:"expandOnClick",collapseOnClick:"collapseOnClick",expandOnLoad:"expandOnLoad",lazyLoadFunction:"lazyLoadFunction",itemsSource:"itemsSource",selectedItem:"selectedItem",selectedNode:"selectedNode",checkedItems:"checkedItems"},outputs:{initialized:"initialized",gotFocusNg:"gotFocus",lostFocusNg:"lostFocus",refreshingNg:"refreshing",refreshedNg:"refreshed",invalidInputNg:"invalidInput",itemsSourceChangedNg:"itemsSourceChanged",loadingItemsNg:"loadingItems",loadedItemsNg:"loadedItems",itemClickedNg:"itemClicked",selectedItemChangedNg:"selectedItemChanged",selectedItemChangePC:"selectedItemChange",selectedNodeChangePC:"selectedNodeChange",checkedItemsChangedNg:"checkedItemsChanged",checkedItemsChangePC:"checkedItemsChange",isCollapsedChangingNg:"isCollapsedChanging",isCollapsedChangedNg:"isCollapsedChanged",isCheckedChangingNg:"isCheckedChanging",isCheckedChangedNg:"isCheckedChanged",formatItemNg:"formatItem",dragStartNg:"dragStart",dragOverNg:"dragOver",dropNg:"drop",dragEndNg:"dragEnd",nodeEditStartingNg:"nodeEditStarting",nodeEditStartedNg:"nodeEditStarted",nodeEditEndingNg:"nodeEditEnding",nodeEditEndedNg:"nodeEditEnded"},features:[y._Bn([{provide:"WjComponent",useExisting:(0,y.Gpc)(function(){return e})}].concat(pd.providers))],decls:0,vars:0,template:function(i,r){},encapsulation:2}),t=e=Nc([,Wo(0,(0,y.tBr)(y.SBq)),Wo(1,(0,y.tBr)(y.zs3)),Wo(2,(0,y.tBr)("WjComponent")),Wo(2,(0,y.tp0)()),Wo(2,(0,y.FiY)())],t)}(rs),{selector:"wj-tab-panel",template:"<div><ng-content></ng-content></div>",inputs:["asyncBindings","wjModelProperty","isDisabled","tabOrder","isAnimated","autoSwitch","selectedIndex","selectedTab"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","refreshingNg: refreshing","refreshedNg: refreshed","invalidInputNg: invalidInput","selectedIndexChangedNg: selectedIndexChanged","selectedIndexChangePC: selectedIndexChange","selectedTabChangePC: selectedTabChange"],providers:[{provide:O.JU,useFactory:tt.Ko,multi:!0,deps:["WjComponent"]}]}),nu=(function(s){function t(n,i,r){var o=s.call(this,tt.D6.getHostElement(n,i))||this;return o.isInitialized=!1,o._wjBehaviour=tt.D6.attach(o,n,i,r),o.created(),o}var e;Rl(t,s),e=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this.tabs.beginUpdate(),this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this.selectedIndex<0&&this.tabs.length&&(this.selectedIndex=0),this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.prototype.addEventListener=function(n,i,r,o){var a=this;void 0===o&&(o=!1);var d=tt.D6,p=d.getZone(this);p&&d.outsideZoneEvents[i]?p.runOutsideAngular(function(){s.prototype.addEventListener.call(a,n,i,r,o)}):s.prototype.addEventListener.call(this,n,i,r,o)},t.prototype.ngAfterContentInit=function(){var n=this.selectedIndex,i=this.tabs;n>-1&&n<i.length&&u.addClass(i[n].header,"wj-state-active"),i.endUpdate()},t.meta={outputs:gd.outputs,changeEvents:{selectedIndexChanged:["selectedIndex","selectedTab"]}},t.\u0275fac=function(i){return new(i||t)(y.Y36(y.SBq),y.Y36(y.zs3),y.Y36("WjComponent",12))},t.\u0275cmp=y.Xpm({type:t,selectors:[["wj-tab-panel"]],inputs:{asyncBindings:"asyncBindings",wjModelProperty:"wjModelProperty",isDisabled:"isDisabled",tabOrder:"tabOrder",isAnimated:"isAnimated",autoSwitch:"autoSwitch",selectedIndex:"selectedIndex",selectedTab:"selectedTab"},outputs:{initialized:"initialized",gotFocusNg:"gotFocus",lostFocusNg:"lostFocus",refreshingNg:"refreshing",refreshedNg:"refreshed",invalidInputNg:"invalidInput",selectedIndexChangedNg:"selectedIndexChanged",selectedIndexChangePC:"selectedIndexChange",selectedTabChangePC:"selectedTabChange"},features:[y._Bn([{provide:"WjComponent",useExisting:(0,y.Gpc)(function(){return e})}].concat(gd.providers))],ngContentSelectors:Tu,decls:2,vars:0,template:function(i,r){1&i&&(y.F$t(),y.TgZ(0,"div"),y.Hsn(1),y.qZA())},encapsulation:2}),t=e=Nc([,Wo(0,(0,y.tBr)(y.SBq)),Wo(1,(0,y.tBr)(y.zs3)),Wo(2,(0,y.tBr)("WjComponent")),Wo(2,(0,y.tp0)()),Wo(2,(0,y.FiY)())],t)}(Pa),{selector:"wj-tab",template:"<ng-content></ng-content>",inputs:["wjProperty","isDisabled","isVisible"],outputs:["initialized"],providers:[]}),ff=(function(s){function t(n,i,r){var o=s.call(this,document.createElement("div"),document.createElement("div"))||this;return o.isInitialized=!1,o.wjProperty="tabs",o._wjBehaviour=tt.D6.attach(o,n,i,r),o.created(),o}var e;Rl(t,s),e=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.prototype.ngAfterContentInit=function(){var n=this._wjBehaviour.elementRef.nativeElement;this._setParts(n.children[0],n.children[1])},t.meta={outputs:nu.outputs},t.\u0275fac=function(i){return new(i||t)(y.Y36(y.SBq),y.Y36(y.zs3),y.Y36("WjComponent",12))},t.\u0275cmp=y.Xpm({type:t,selectors:[["wj-tab"]],inputs:{wjProperty:"wjProperty",isDisabled:"isDisabled",isVisible:"isVisible"},outputs:{initialized:"initialized"},features:[y._Bn([{provide:"WjComponent",useExisting:(0,y.Gpc)(function(){return e})}].concat(nu.providers))],ngContentSelectors:Tu,decls:1,vars:0,template:function(i,r){1&i&&(y.F$t(),y.Hsn(0))},encapsulation:2}),t=e=Nc([,Wo(0,(0,y.tBr)(y.SBq)),Wo(1,(0,y.tBr)(y.zs3)),Wo(2,(0,y.tBr)("WjComponent")),Wo(2,(0,y.tp0)()),Wo(2,(0,y.FiY)())],t)}(Du),{selector:"wj-accordion",template:"<div><ng-content></ng-content></div>",inputs:["asyncBindings","wjModelProperty","isDisabled","tabOrder","isAnimated","autoSwitch","selectedIndex","selectedPane","showIcons","allowCollapseAll","allowExpandMany"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","refreshingNg: refreshing","refreshedNg: refreshed","invalidInputNg: invalidInput","selectedIndexChangedNg: selectedIndexChanged","selectedIndexChangePC: selectedIndexChange"],providers:[{provide:O.JU,useFactory:tt.Ko,multi:!0,deps:["WjComponent"]}]}),Jd=(function(s){function t(n,i,r){var o=s.call(this,tt.D6.getHostElement(n,i))||this;return o.isInitialized=!1,o._wjBehaviour=tt.D6.attach(o,n,i,r),o.created(),o}var e;Rl(t,s),e=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this.panes.beginUpdate(),this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this.selectedIndex<0&&this.panes.length&&(this.selectedIndex=0),this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.prototype.addEventListener=function(n,i,r,o){var a=this;void 0===o&&(o=!1);var d=tt.D6,p=d.getZone(this);p&&d.outsideZoneEvents[i]?p.runOutsideAngular(function(){s.prototype.addEventListener.call(a,n,i,r,o)}):s.prototype.addEventListener.call(this,n,i,r,o)},t.prototype.ngAfterContentInit=function(){var n=this.selectedIndex,i=this.panes;n>-1&&n<i.length&&u.addClass(i[n].header,"wj-state-active"),i.endUpdate()},t.meta={outputs:ff.outputs,changeEvents:{selectedIndexChanged:["selectedIndex"]}},t.\u0275fac=function(i){return new(i||t)(y.Y36(y.SBq),y.Y36(y.zs3),y.Y36("WjComponent",12))},t.\u0275cmp=y.Xpm({type:t,selectors:[["wj-accordion"]],inputs:{asyncBindings:"asyncBindings",wjModelProperty:"wjModelProperty",isDisabled:"isDisabled",tabOrder:"tabOrder",isAnimated:"isAnimated",autoSwitch:"autoSwitch",selectedIndex:"selectedIndex",selectedPane:"selectedPane",showIcons:"showIcons",allowCollapseAll:"allowCollapseAll",allowExpandMany:"allowExpandMany"},outputs:{initialized:"initialized",gotFocusNg:"gotFocus",lostFocusNg:"lostFocus",refreshingNg:"refreshing",refreshedNg:"refreshed",invalidInputNg:"invalidInput",selectedIndexChangedNg:"selectedIndexChanged",selectedIndexChangePC:"selectedIndexChange"},features:[y._Bn([{provide:"WjComponent",useExisting:(0,y.Gpc)(function(){return e})}].concat(ff.providers))],ngContentSelectors:Tu,decls:2,vars:0,template:function(i,r){1&i&&(y.F$t(),y.TgZ(0,"div"),y.Hsn(1),y.qZA())},encapsulation:2}),t=e=Nc([,Wo(0,(0,y.tBr)(y.SBq)),Wo(1,(0,y.tBr)(y.zs3)),Wo(2,(0,y.tBr)("WjComponent")),Wo(2,(0,y.tp0)()),Wo(2,(0,y.FiY)())],t)}(fd),{selector:"wj-accordion-pane",template:"<ng-content></ng-content>",inputs:["wjProperty","isDisabled","isVisible","isCollapsed"],outputs:["initialized"],providers:[]});(function(s){function t(n,i,r){var o=s.call(this,document.createElement("div"),document.createElement("div"))||this;return o.isInitialized=!1,o.wjProperty="panes",o._wjBehaviour=tt.D6.attach(o,n,i,r),o.created(),o}var e;Rl(t,s),e=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.prototype.ngAfterContentInit=function(){var n=this._wjBehaviour.elementRef.nativeElement;this._setParts(n.children[0],n.children[1])},t.meta={outputs:Jd.outputs},t.\u0275fac=function(i){return new(i||t)(y.Y36(y.SBq),y.Y36(y.zs3),y.Y36("WjComponent",12))},t.\u0275cmp=y.Xpm({type:t,selectors:[["wj-accordion-pane"]],inputs:{wjProperty:"wjProperty",isDisabled:"isDisabled",isVisible:"isVisible",isCollapsed:"isCollapsed"},outputs:{initialized:"initialized"},features:[y._Bn([{provide:"WjComponent",useExisting:(0,y.Gpc)(function(){return e})}].concat(Jd.providers))],ngContentSelectors:Tu,decls:1,vars:0,template:function(i,r){1&i&&(y.F$t(),y.Hsn(0))},encapsulation:2}),t=e=Nc([,Wo(0,(0,y.tBr)(y.SBq)),Wo(1,(0,y.tBr)(y.zs3)),Wo(2,(0,y.tBr)("WjComponent")),Wo(2,(0,y.tp0)()),Wo(2,(0,y.FiY)())],t)})(eu),function(){function s(){}s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=y.oAB({type:s}),s.\u0275inj=y.cJS({imports:[Q.ez]})}();class gf extends Error{}class ac extends gf{constructor(){super("Zone is an abstract class")}}class bf{get type(){throw new ac}get name(){throw new ac}get ianaName(){return this.name}get isUniversal(){throw new ac}offsetName(t,e){throw new ac}formatOffset(t,e){throw new ac}offset(t){throw new ac}equals(t){throw new ac}get isValid(){throw new ac}}let lc={};const vc={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};let _r={};class Vc extends bf{static create(t){return _r[t]||(_r[t]=new Vc(t)),_r[t]}static resetCache(){_r={},lc={}}static isValidSpecifier(t){return this.isValidZone(t)}static isValidZone(t){if(!t)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:t}).format(),!0}catch{return!1}}constructor(t){super(),this.zoneName=t,this.valid=Vc.isValidZone(t)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(t,{format:e,locale:n}){return function Of(s,t,e,n=null){const i=new Date(s),r={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};n&&(r.timeZone=n);const o={timeZoneName:t,...r},a=new Intl.DateTimeFormat(e,o).formatToParts(i).find(d=>"timezonename"===d.type.toLowerCase());return a?a.value:null}(t,e,n,this.name)}formatOffset(t,e){return Bu(this.offset(t),e)}offset(t){const e=new Date(t);if(isNaN(e))return NaN;const n=function Fu(s){return lc[s]||(lc[s]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:s,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),lc[s]}(this.name);let[i,r,o,a,d,p,v]=n.formatToParts?function ou(s,t){const e=s.formatToParts(t),n=[];for(let i=0;i<e.length;i++){const{type:r,value:o}=e[i],a=vc[r];"era"===r?n[a]=o:Wc(a)||(n[a]=parseInt(o,10))}return n}(n,e):function bd(s,t){const e=s.format(t).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(e),[,i,r,o,a,d,p,v]=n;return[o,i,r,a,d,p,v]}(n,e);"BC"===a&&(i=1-Math.abs(i));const T=function sg(s){let t=Date.UTC(s.year,s.month-1,s.day,s.hour,s.minute,s.second,s.millisecond);return s.year<100&&s.year>=0&&(t=new Date(t),t.setUTCFullYear(s.year,s.month-1,s.day)),+t}({year:i,month:r,day:o,hour:24===d?0:d,minute:p,second:v,millisecond:0});let k=+e;const L=k%1e3;return k-=L>=0?L:1e3+L,(T-k)/6e4}equals(t){return"iana"===t.type&&t.name===this.name}get isValid(){return this.valid}}let oh=null;class Gl extends bf{static get utcInstance(){return null===oh&&(oh=new Gl(0)),oh}static instance(t){return 0===t?Gl.utcInstance:new Gl(t)}static parseSpecifier(t){if(t){const e=t.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(e)return new Gl(hh(e[1],e[2]))}return null}constructor(t){super(),this.fixed=t}get type(){return"fixed"}get name(){return 0===this.fixed?"UTC":`UTC${Bu(this.fixed,"narrow")}`}get ianaName(){return 0===this.fixed?"Etc/UTC":`Etc/GMT${Bu(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(t,e){return Bu(this.fixed,e)}get isUniversal(){return!0}offset(){return this.fixed}equals(t){return"fixed"===t.type&&t.fixed===this.fixed}get isValid(){return!0}}function Wc(s){return typeof s>"u"}function xd(s,t=2){let n;return n=s<0?"-"+(""+-s).padStart(t,"0"):(""+s).padStart(t,"0"),n}function uh(s){if(!Wc(s)&&null!==s&&""!==s)return parseInt(s,10)}function Tf(s){if(!Wc(s)&&null!==s&&""!==s){const t=1e3*parseFloat("0."+s);return Math.floor(t)}}function hh(s,t){let e=parseInt(s,10);Number.isNaN(e)&&(e=0);const n=parseInt(t,10)||0;return 60*e+(e<0||Object.is(e,-0)?-n:n)}function Bu(s,t){const e=Math.trunc(Math.abs(s/60)),n=Math.trunc(Math.abs(s%60)),i=s>=0?"+":"-";switch(t){case"short":return`${i}${xd(e,2)}:${xd(n,2)}`;case"narrow":return`${i}${e}${n>0?`:${n}`:""}`;case"techie":return`${i}${xd(e,2)}${xd(n,2)}`;default:throw new RangeError(`Value format ${t} is out of range for property format`)}}const zu=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function xl(...s){const t=s.reduce((e,n)=>e+n.source,"");return RegExp(`^${t}$`)}function Gc(...s){return t=>s.reduce(([e,n,i],r)=>{const[o,a,d]=r(t,i);return[{...e,...o},a||n,d]},[{},null,1]).slice(0,2)}function Hf(...s){return(t,e)=>{const n={};let i;for(i=0;i<s.length;i++)n[s[i]]=uh(t[e+i]);return[n,null,e+i]}}const zf=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,xc=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Uf=RegExp(`${xc.source}(?:${zf.source}?(?:\\[(${zu.source})\\])?)?`),mh=RegExp(`(?:T${Uf.source})?`),Md=Hf("weekYear","weekNumber","weekDay"),Gf=Hf("year","ordinal"),pg=RegExp(`${xc.source} ?(?:${zf.source}|(${zu.source}))?`),gg=RegExp(`(?: ${pg.source})?`);function Yl(s,t,e){const n=s[t];return Wc(n)?e:uh(n)}function Fl(s,t){return[{hours:Yl(s,t,0),minutes:Yl(s,t+1,0),seconds:Yl(s,t+2,0),milliseconds:Tf(s[t+3])},null,t+4]}function cc(s,t){const e=!s[t]&&!s[t+1],n=hh(s[t+1],s[t+2]);return[{},e?null:Gl.instance(n),t+3]}function Wu(s,t){return[{},s[t]?Vc.create(s[t]):null,t+1]}RegExp(`^T?${xc.source}$`),xl(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,mh),xl(/(\d{4})-?W(\d\d)(?:-?(\d))?/,mh),xl(/(\d{4})-?(\d{3})/,mh),xl(Uf),Gc(function mg(s,t){return[{year:Yl(s,t),month:Yl(s,t+1,1),day:Yl(s,t+2,1)},null,t+3]},Fl,cc,Wu),Gc(Md,Fl,cc,Wu),Gc(Gf,Fl,cc,Wu),Gc(Fl,cc,Wu),Gc(Fl),xl(/(\d{4})-(\d\d)-(\d\d)/,gg),xl(pg),Gc(Fl,cc,Wu);["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"].slice(0).reverse();"[\u3007|\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d]".replace(/[\[|\]]/g,"").split("");const Id=`[ ${String.fromCharCode(160)}]`;new RegExp(Id,"g");var lp=G(3238);const zg=["input"],cp=["*"];function Wg(s,t){if(1&s){const e=y.EpF();y.TgZ(0,"ul",1)(1,"li",2)(2,"input",3,4),y.NdJ("ngModelChange",function(i){y.CHM(e);const r=y.oxw();return y.KtG(r.selectedValue=i)})("change",function(i){y.CHM(e);const r=y.oxw();return y.KtG(r.onChangeEvent(i))}),y.qZA(),y.TgZ(4,"label",5)(5,"span",6),y._uU(6),y.qZA()()()()}if(2&s){const e=t.$implicit,n=y.oxw();y.s9C("id",n.unorderedListId),y.xp6(1),y.s9C("id",n.itemId),y.xp6(1),y.hYB("id","",n.inputId,"-",e.key,""),y.s9C("name",n.name),y.Q6J("disabled",n.disabled)("value",e.key)("ngModel",n.selectedValue),y.xp6(2),y.hYB("id","",n.labelId,"-",e.key,"")("for","",n.inputId,"-",e.key,""),y.xp6(2),y.Oqu(e.value)}}const Bd=["ok"],$m=["yes"],pp=["no"],gp=["abort"],kh=["retry"],Fh=["cancel"],Nh=["close"],dc=["terminated"],qu=["modal"],hc=function(s){return{"ing-primary ing-action-standard":s}};function ec(s,t){1&s&&y._UZ(0,"div",5)}const Kg=["formContainer"],Lh=function(s){return{errors:s}};function Zg(s,t){if(1&s&&(y.ynx(0,2),y.TgZ(1,"label",3),y._uU(2),y.qZA(),y.TgZ(3,"div",4),y._UZ(4,"input",5,6),y.GkF(6,7),y.ALo(7,"async"),y.qZA(),y.TgZ(8,"label",3),y._uU(9),y.qZA(),y.TgZ(10,"div",4),y._UZ(11,"input",8),y.GkF(12,7),y.ALo(13,"async"),y.qZA(),y.BQk()),2&s){const e=t.$implicit,n=y.oxw(),i=y.MAs(2);y.Q6J("formGroup",n._nestedFormGroup),y.xp6(1),y.s9C("id",n.newPasswordLabelId),y.s9C("for",n.newPasswordInputId),y.xp6(1),y.hij(" ",e("changePassword.changePasswordNewPassword")," "),y.xp6(1),y.s9C("id",n.newPasswordTolltipContainerId),y.xp6(1),y.s9C("id",n.newPasswordInputId),y.xp6(2),y.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",y.VKq(19,Lh,y.lcZ(7,15,n.getNewPasswordErrors()))),y.xp6(2),y.s9C("id",n.newPasswordCheckLabelId),y.s9C("for",n.newPasswordCheckInputId),y.xp6(1),y.Oqu(e("changePassword.changePasswordConfirmNewPassword")),y.xp6(1),y.s9C("id",n.newPasswordCheckTolltipContainerId),y.xp6(1),y.s9C("id",n.newPasswordCheckInputId),y.xp6(1),y.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",y.VKq(21,Lh,y.lcZ(13,17,n.getNewPasswordCheckErrors())))}}function qg(s,t){if(1&s&&(y.TgZ(0,"li"),y._uU(1),y.qZA()),2&s){const e=t.$implicit;y.xp6(1),y.hij(" ",e," ")}}function pu(s,t){if(1&s&&(y.TgZ(0,"div",10)(1,"ul"),y.YNc(2,qg,2,1,"li",11),y.qZA()()),2&s){const e=y.oxw().errors;y.xp6(2),y.Q6J("ngForOf",e)}}function mp(s,t){if(1&s&&y.YNc(0,pu,3,1,"div",9),2&s){const e=t.errors;y.Q6J("ngIf",e&&e.length>0)}}const Xg=()=>{};let _p=(()=>{class s extends $.H6{constructor(){super(...arguments),this.disabled=!1,this.onTouchedCallback=Xg,this.onChangeCallback=Xg}onFocusout(){this.onTouchedCallback()}onBlur(){this.onTouchedCallback()}onChange(e){this.onChangeCallback(e)}onInput(e){this.onChangeCallback(e)}get value(){return this.innerValue}set value(e){e!==this.innerValue&&(this.innerValue=e,this.onChangeCallback(e),this.onTouchedCallback())}writeValue(e){this.innerValue=e}registerOnChange(e){this.onChangeCallback=e}registerOnTouched(e){this.onTouchedCallback=e}setDisabledState(e){this.disabled=e}}return s.\u0275fac=function(){let t;return function(n){return(t||(t=y.n5z(s)))(n||s)}}(),s.\u0275dir=y.lG2({type:s,hostBindings:function(e,n){1&e&&y.NdJ("focusout",function(r){return n.onFocusout(r.target.value)})("blur",function(r){return n.onBlur(r.target.value)})("change",function(r){return n.onChange(r.target.value)})("input",function(r){return n.onInput(r.target.value)})},features:[y.qOj]}),s})();const Jg={provide:O.JU,useExisting:(0,y.Gpc)(()=>jh),multi:!0};let vp=0,jh=(()=>{class s extends _p{get sliderId(){return`${this.id||this.internalUniqueId}-slider`}get inputId(){return`${this.id||this.internalUniqueId}-input`}get labelId(){return`${this.id||this.internalUniqueId}-label`}get internalSliderId(){return`${this.id||this.internalUniqueId}-internal-slider`}constructor(){super(),this.internalUniqueId="ing-toggle-"+ ++vp,this.id=this.internalUniqueId,this.value=!0}onInputChange(e){e&&e.stopPropagation()}focus(){this.inputElement?.nativeElement?.focus()}ngOnDestroy(){super.ngOnDestroy(),--vp}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275cmp=y.Xpm({type:s,selectors:[["ing-toggle"]],viewQuery:function(e,n){if(1&e&&y.Gf(zg,7),2&e){let i;y.iGM(i=y.CRH())&&(n.inputElement=i.first)}},inputs:{id:"id"},standalone:!0,features:[y._Bn([Jg]),y.qOj,y.jDz],ngContentSelectors:cp,decls:6,vars:9,consts:[[1,"ing-switch",3,"id"],["type","checkbox",3,"id","ngModel","disabled","ngModelChange","change","click"],["input",""],[1,"ing-slider","ing-round",3,"id"],[1,"ing-switch-label",3,"id","for"]],template:function(e,n){1&e&&(y.F$t(),y.TgZ(0,"label",0)(1,"input",1,2),y.NdJ("ngModelChange",function(r){return n.value=r})("change",function(r){return n.onInputChange(r)})("click",function(r){return n.onInputChange(r)}),y.qZA(),y._UZ(3,"div",3),y.qZA(),y.TgZ(4,"label",4),y.Hsn(5,0,["id","ng-content-1"]),y.qZA()),2&e&&(y.s9C("id",n.sliderId),y.xp6(1),y.s9C("id",n.inputId),y.Q6J("ngModel",n.value)("disabled",n.disabled),y.xp6(2),y.s9C("id",n.internalSliderId),y.xp6(1),y.ekj("ing-disabled",n.disabled),y.s9C("id",n.labelId),y.s9C("for",n.inputId))},dependencies:[O.u5,O.Wl,O.JJ,O.On],styles:['label[_ngcontent-%COMP%]{display:inline-flex;font-family:Roboto,Arial,Helvetica,sans-serif;font-size:1rem;font-weight:400;vertical-align:middle;background-color:transparent;color:#000;margin-left:.25rem;margin-right:.25rem;cursor:pointer}label.ing-disabled[_ngcontent-%COMP%]{color:gray}[_nghost-%COMP%]{display:inline-flex;flex-direction:row;align-items:center;vertical-align:middle;margin:0;box-sizing:border-box;height:1.25rem;font-size:1rem}label.ing-switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:2.125rem;height:1.25rem;margin:0}label.ing-switch[_ngcontent-%COMP%] > input[type=checkbox][_ngcontent-%COMP%]{display:none}label.ing-switch[_ngcontent-%COMP%] > input[type=checkbox][_ngcontent-%COMP%]:checked + .ing-slider[_ngcontent-%COMP%]{background-color:#387ef4}label.ing-switch[_ngcontent-%COMP%] > input[type=checkbox][_ngcontent-%COMP%]:checked + .ing-slider[_ngcontent-%COMP%]:before{transform:translate(.875rem)}label.ing-switch[_ngcontent-%COMP%] > input[type=checkbox][_ngcontent-%COMP%]:disabled + .ing-slider[_ngcontent-%COMP%]{background-color:#ccc;cursor:default}label.ing-switch[_ngcontent-%COMP%]   .ing-slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background-color:gray;transition:.4s;height:100%;width:100%}label.ing-switch[_ngcontent-%COMP%]   .ing-slider[_ngcontent-%COMP%]:before{position:absolute;top:.0625rem;left:.0625rem;content:"";height:1.125rem;width:1.125rem;background-color:#fff;transition:.4s}label.ing-switch[_ngcontent-%COMP%]   .ing-slider.ing-round[_ngcontent-%COMP%]{border-radius:1.25rem}label.ing-switch[_ngcontent-%COMP%]   .ing-slider.ing-round[_ngcontent-%COMP%]:before{border-radius:50%}.ing-switch-label[_ngcontent-%COMP%]{flex:1;margin:0 0 0 .25rem;font-weight:400;font-size:1rem}.ing-switch-label[_ngcontent-%COMP%]:empty{display:none}.ing-switch-label.ing-disabled[_ngcontent-%COMP%]{color:gray}']}),s})();const Qg={provide:O.JU,useExisting:(0,y.Gpc)(()=>bp),multi:!0};let yp=0,bp=(()=>{class s extends _p{constructor(){super(...arguments),this.disabled=!1,this.internalUniqueId="ing-radio-button"+ ++yp,this.id=this.internalUniqueId}get containerId(){return`${this.id||this.internalUniqueId}-container`}get unorderedListId(){return`${this.id||this.internalUniqueId}-ul`}get itemId(){return`${this.id||this.internalUniqueId}-otem`}get inputId(){return`${this.id||this.internalUniqueId}-input`}get labelId(){return`${this.id||this.internalUniqueId}-label`}ngOnDestroy(){super.ngOnDestroy(),--yp}onChangeEvent(e){e&&e.stopPropagation(),this.selectedValue&&this.writeValue(this.selectedValue)}}return s.\u0275fac=function(){let t;return function(n){return(t||(t=y.n5z(s)))(n||s)}}(),s.\u0275cmp=y.Xpm({type:s,selectors:[["ing-radio-button"]],inputs:{name:"name",values:"values",disabled:"disabled",id:"id"},standalone:!0,features:[y._Bn([Qg]),y.qOj,y.jDz],decls:2,vars:3,consts:[[3,"id",4,"ngFor","ngForOf"],[3,"id"],[1,"ing-radio-button",3,"id"],["type","radio",3,"id","name","disabled","value","ngModel","ngModelChange","change"],["input",""],[3,"id","for"],["id","span-1"]],template:function(e,n){1&e&&(y.YNc(0,Wg,7,13,"ul",0),y.ALo(1,"keyvalue")),2&e&&y.Q6J("ngForOf",y.lcZ(1,1,n.values))},dependencies:[Q.ax,Q.Nd,O.u5,O.Fj,O._,O.JJ,O.On],styles:["label[_ngcontent-%COMP%]{display:inline-flex;font-family:Roboto,Arial,Helvetica,sans-serif;font-size:1rem;font-weight:400;vertical-align:middle;background-color:transparent;color:#000;margin-left:.25rem;margin-right:.25rem;cursor:pointer}label.ing-disabled[_ngcontent-%COMP%]{color:gray}.wj-popup-backdrop[_ngcontent-%COMP%]{background-color:#1313138c}input[_ngcontent-%COMP%]:-webkit-autofill, input[_ngcontent-%COMP%]:-webkit-autofill:hover, input[_ngcontent-%COMP%]:-webkit-autofill:focus   input[_ngcontent-%COMP%]:-webkit-autofill, select[_ngcontent-%COMP%]:-webkit-autofill, select[_ngcontent-%COMP%]:-webkit-autofill:hover, select[_ngcontent-%COMP%]:-webkit-autofill:focus{-webkit-text-fill-color:inherit!important;box-shadow:0 0 0 62.5rem transparent inset;-webkit-transition:background-color 5000s ease-in-out 0s;transition:background-color 5000s ease-in-out 0s}.ing-content-padding[_ngcontent-%COMP%]{padding:.5rem 1rem}.ing-no-padding[_ngcontent-%COMP%]{padding:0}input[type=radio][_ngcontent-%COMP%]{-webkit-appearance:none;appearance:none;outline:none;box-sizing:border-box;display:inline-flex;flex-direction:row;justify-content:center;align-items:center;vertical-align:middle;font-family:Roboto,Arial,Helvetica,sans-serif;cursor:pointer;margin:0;top:0%;left:0%;position:relative;display:inline-block;width:1.25rem;min-height:1.25rem;height:1.25rem;border-radius:50%;border:1px solid #387ef4;background-color:#fff}input[type=radio][_ngcontent-%COMP%]:checked{background:radial-gradient(#387ef4 0,#387ef4 .375rem,#ffffff .375rem,#ffffff);border-color:#387ef4}input[type=radio][_ngcontent-%COMP%]:disabled{border-color:#ccc}input[type=radio][_ngcontent-%COMP%]:disabled:checked{background:radial-gradient(#ccc 0,#ccc .375rem,#ffffff .375rem,#ffffff)}.ing-radio-button[_ngcontent-%COMP%]{font-family:Roboto,Arial,Helvetica,sans-serif;font-size:1rem;display:flex;flex-direction:row;align-items:center}"]}),s})(),wp=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=y.oAB({type:s}),s.\u0275inj=y.cJS({imports:[jh,bp]}),s})();var Sp;!function(s){s.transfertFocusToNextElement=function t(e){const n=document.querySelectorAll("input, button, a, area, object, select, textarea, [contenteditable], iframe, tabindex");let i=null;n.forEach((r,o)=>{e.isEqualNode(r)&&(i=o)}),i&&n[(i+1)%n.length].focus()}}(Sp||(Sp={}));let Kc=(()=>{class s extends $.H6{constructor(e,n){super(),this.translocoService=n,this.modalButtons=$.Zf,this.modalButton=$.mH,this.defaults={title$:this.translocoService.selectTranslate("defaultTitle",{},"ingUI"),message$:this.translocoService.selectTranslate("defaultMessage",{},"ingUI"),buttons:$.Zf.okCancel,defaultButton:$.mH.cancel,hideCloseButton:!0,options:{isDraggable:!1}},this.isShown=!1,this.isCloseButtonHidden=!1,this.options={isDraggable:!1},this.renderer=e,this.isDialogBox=!1,this.disablePerformanceTrace()}setButtonDisplay(e){let n=!1;return(e===$.mH.ok&&this.canDisplayOkButton()||e===$.mH.cancel&&this.canDisplayCancelButton()||e===$.mH.retry&&this.canDisplayRetryButton()||e===$.mH.yes&&this.canDisplayYesButton()||e===$.mH.no&&this.canDisplayNoButton()||e===$.mH.abort&&this.canDisplayAbortButton())&&(n=!0),n?"":"none"}show(e,n=this.defaults.buttons,i=this.defaults.defaultButton,r=this.defaults.hideCloseButton,o=this.defaults.options){const a=e?(0,oe.of)(e):this.defaults.title$;return this.showModal(a,n,i,r,o)}showModal(e,n=this.defaults.buttons,i=this.defaults.defaultButton,r=this.defaults.hideCloseButton,o=this.defaults.options){return this.options=o,this.setLabels(e,n,i,r),new Promise(a=>{this.showDialog(a)})}hide(e){this.modalElement.hide(e)}canDisplayOkButton(){return this.buttons===$.Zf.ok||this.buttons===$.Zf.okCancel}canDisplayRetryButton(){return this.buttons===$.Zf.retryCancel||this.buttons===$.Zf.abortRetryCancel}canDisplayCancelButton(){return this.buttons===$.Zf.okCancel||this.buttons===$.Zf.retryCancel||this.buttons===$.Zf.yesNoCancel||this.buttons===$.Zf.cancel||this.buttons===$.Zf.abortRetryCancel}canDisplayYesButton(){return this.buttons===$.Zf.yesNo||this.buttons===$.Zf.yesNoCancel}canDisplayNoButton(){return this.buttons===$.Zf.yesNo||this.buttons===$.Zf.yesNoCancel}canDisplayAbortButton(){return this.buttons===$.Zf.abortRetryCancel}setLabels(e,n=this.defaults.buttons,i=this.defaults.defaultButton,r=this.defaults.hideCloseButton){e.subscribe(o=>{this.title=o}),this.buttons=n,this.defaultButton=i,this.isCloseButtonHidden=r}showDialog(e){this.modalElement.modal=!0,this.modalElement.show(!0,p=>{null==p.dialogResult&&e($.mH.cancel)});const n=p=>e(this.modalButton.ok),i=p=>e(this.modalButton.yes),r=p=>e(this.modalButton.no),o=p=>e(this.modalButton.abort),a=p=>e(this.modalButton.retry),d=p=>e(this.modalButton.cancel);this.renderer.listen(this.ok.nativeElement,"click",p=>n()),this.renderer.listen(this.yes.nativeElement,"click",p=>i()),this.renderer.listen(this.no.nativeElement,"click",p=>r()),this.renderer.listen(this.abort.nativeElement,"click",p=>o()),this.renderer.listen(this.retry.nativeElement,"click",p=>a()),this.renderer.listen(this.cancel.nativeElement,"click",p=>d())}onShown(){this.isShown=!0}onHiding(){this.isShown=!1}setFocus(){this.defaultButton===$.mH.ok&&this.canDisplayOkButton()?this.ok.nativeElement.focus():this.defaultButton===$.mH.cancel&&this.canDisplayCancelButton()?this.cancel.nativeElement.focus():this.defaultButton===$.mH.retry&&this.canDisplayRetryButton()?this.retry.nativeElement.focus():this.defaultButton===$.mH.yes&&this.canDisplayYesButton()?this.yes.nativeElement.focus():this.defaultButton===$.mH.no&&this.canDisplayNoButton()?this.no.nativeElement.focus():this.defaultButton===$.mH.abort&&this.canDisplayAbortButton()&&this.abort.nativeElement.focus()}}return s.\u0275fac=function(e){return new(e||s)(y.Y36(y.Qsj),y.Y36(De.Vn))},s.\u0275cmp=y.Xpm({type:s,selectors:[["ing-modal"]],viewQuery:function(e,n){if(1&e&&(y.Gf(Bd,7),y.Gf($m,7),y.Gf(pp,7),y.Gf(gp,7),y.Gf(kh,7),y.Gf(Fh,7),y.Gf(Nh,5),y.Gf(dc,5),y.Gf(qu,7)),2&e){let i;y.iGM(i=y.CRH())&&(n.ok=i.first),y.iGM(i=y.CRH())&&(n.yes=i.first),y.iGM(i=y.CRH())&&(n.no=i.first),y.iGM(i=y.CRH())&&(n.abort=i.first),y.iGM(i=y.CRH())&&(n.retry=i.first),y.iGM(i=y.CRH())&&(n.cancel=i.first),y.iGM(i=y.CRH())&&(n.close=i.first),y.iGM(i=y.CRH())&&(n.terminated=i.first),y.iGM(i=y.CRH())&&(n.modalElement=i.first)}},inputs:{isDialogBox:"isDialogBox"},standalone:!0,features:[y._Bn([{provide:De.Hn,useValue:"ingUI",multi:!0}]),y.qOj,y.jDz],ngContentSelectors:cp,decls:33,vars:68,consts:[["id","modal",1,"wj-popup","ing-modal-animation",3,"modal","hideTrigger","fadeIn","fadeOut","isDraggable","shown","hiding","gotFocus"],["modal",""],["id","div-wj-dialog-header-1",1,"wj-dialog-header"],["id","span-1"],["id","span-ing-cross-1",1,"ing-cross",3,"click"],["id","div-wj-dialog-body-1",1,"wj-dialog-body"],["id","div-wj-dialog-footer-1",1,"wj-dialog-footer"],["id","button-ing-secondary-1",1,"ing-secondary",3,"ngClass","click"],["ok",""],["id","button-ing-secondary-2",1,"ing-secondary",3,"ngClass","click"],["yes",""],["id","button-ing-secondary-3",1,"ing-secondary",3,"ngClass","click"],["abort",""],["id","button-ing-secondary-4",1,"ing-secondary",3,"ngClass","click"],["retry",""],["id","button-ing-secondary-5",1,"ing-secondary",3,"ngClass","click"],["no",""],["id","button-ing-secondary-6",1,"ing-secondary",3,"ngClass","click"],["cancel",""]],template:function(e,n){1&e&&(y.F$t(),y.TgZ(0,"wj-popup",0,1),y.NdJ("shown",function(){return n.onShown()})("hiding",function(){return n.onHiding()})("gotFocus",function(){return n.setFocus()}),y.TgZ(2,"div",2)(3,"span",3),y._uU(4),y.qZA(),y.TgZ(5,"span",4),y.NdJ("click",function(){return n.hide()}),y.qZA()(),y.TgZ(6,"div",5),y.Hsn(7,0,["id","ng-content-1"]),y.qZA(),y.TgZ(8,"div",6)(9,"button",7,8),y.NdJ("click",function(){return n.hide(n.modalButton.ok)}),y._uU(11),y.ALo(12,"transloco"),y.qZA(),y.TgZ(13,"button",9,10),y.NdJ("click",function(){return n.hide(n.modalButton.yes)}),y._uU(15),y.ALo(16,"transloco"),y.qZA(),y.TgZ(17,"button",11,12),y.NdJ("click",function(){return n.hide(n.modalButton.abort)}),y._uU(19),y.ALo(20,"transloco"),y.qZA(),y.TgZ(21,"button",13,14),y.NdJ("click",function(){return n.hide(n.modalButton.retry)}),y._uU(23),y.ALo(24,"transloco"),y.qZA(),y.TgZ(25,"button",15,16),y.NdJ("click",function(){return n.hide(n.modalButton.no)}),y._uU(27),y.ALo(28,"transloco"),y.qZA(),y.TgZ(29,"button",17,18),y.NdJ("click",function(){return n.hide(n.modalButton.cancel)}),y._uU(31),y.ALo(32,"transloco"),y.qZA()()()),2&e&&(y.ekj("ing-dialog-box",n.isDialogBox)("ing-modal",!n.isDialogBox)("ing-modal-animation-visible",n.isShown)("ing-modal-center",!n.options.isDraggable),y.Q6J("modal",!0)("hideTrigger","None")("fadeIn",!1)("fadeOut",!1)("isDraggable",n.options.isDraggable),y.xp6(4),y.Oqu(n.title),y.xp6(1),y.ekj("ing-modal-hidden",n.isCloseButtonHidden),y.xp6(3),y.ekj("ing-justify-content-center",n.isDialogBox)("ing-modal-hidden",n.buttons===n.modalButtons.none),y.xp6(1),y.Udp("display",n.setButtonDisplay(n.modalButton.ok)),y.Q6J("ngClass",y.VKq(56,hc,n.defaultButton==n.modalButton.ok)),y.xp6(2),y.hij(" ",y.lcZ(12,44,"ingUI.ok")," "),y.xp6(2),y.Udp("display",n.setButtonDisplay(n.modalButton.yes)),y.Q6J("ngClass",y.VKq(58,hc,n.defaultButton==n.modalButton.yes)),y.xp6(2),y.hij(" ",y.lcZ(16,46,"ingUI.yes")," "),y.xp6(2),y.Udp("display",n.setButtonDisplay(n.modalButton.abort)),y.Q6J("ngClass",y.VKq(60,hc,n.defaultButton==n.modalButton.abort)),y.xp6(2),y.hij(" ",y.lcZ(20,48,"ingUI.abort")," "),y.xp6(2),y.Udp("display",n.setButtonDisplay(n.modalButton.retry)),y.Q6J("ngClass",y.VKq(62,hc,n.defaultButton==n.modalButton.retry)),y.xp6(2),y.hij(" ",y.lcZ(24,50,"ingUI.retry")," "),y.xp6(2),y.Udp("display",n.setButtonDisplay(n.modalButton.no)),y.Q6J("ngClass",y.VKq(64,hc,n.defaultButton==n.modalButton.no)),y.xp6(2),y.hij(" ",y.lcZ(28,52,"ingUI.no")," "),y.xp6(2),y.Udp("display",n.setButtonDisplay(n.modalButton.cancel)),y.Q6J("ngClass",y.VKq(66,hc,n.defaultButton==n.modalButton.cancel)),y.xp6(2),y.hij(" ",y.lcZ(32,54,"ingUI.cancel")," "))},dependencies:[Q.mk,De.y4,De.Ot,et.wJ,et.OR],styles:['@charset "UTF-8";button[_ngcontent-%COMP%]{width:auto;height:2rem;font-family:Roboto,Arial,Helvetica,sans-serif;font-size:1rem;box-sizing:border-box;display:inline-flex;flex-direction:row;align-items:center;vertical-align:middle;margin:0;padding:.25rem 1rem;text-align:left;background-color:transparent;border:1px solid transparent;color:#387ef4}button[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(1n){margin:initial;margin-left:.5rem;margin-right:.5rem}@media screen and (min-width: 0\\fffd){button[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(1n){margin:auto;margin-left:.5rem;margin-right:.5rem}}button[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:last-child{margin-left:.5rem;margin-right:0}button[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child{margin-left:0;margin-right:.5rem}button[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:only-child{margin-left:0;margin-right:0}button[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:1rem;width:1rem}button[_ngcontent-%COMP%]:focus{outline-style:none}button[_ngcontent-%COMP%]:hover{cursor:pointer}button[_ngcontent-%COMP%]:hover, button[_ngcontent-%COMP%]:focus{color:#387ef4;background-color:#f2f2f2;border:1px solid transparent}button[_ngcontent-%COMP%]:hover:active, button[_ngcontent-%COMP%]:focus:active{background-color:#ccc;border:1px solid #ccc;color:#387ef4}button[_ngcontent-%COMP%]:disabled, button[_ngcontent-%COMP%]:disabled:hover, button[_ngcontent-%COMP%]:disabled:hover:active{background-color:transparent;border:1px solid transparent;color:#999}button.ing-center[_ngcontent-%COMP%]{text-align:center;align-items:center;justify-content:center}button.ing-icon[_ngcontent-%COMP%]{padding:0;background-color:transparent;border:1px solid transparent;color:#fff}button.ing-icon[_ngcontent-%COMP%]:hover, button.ing-icon[_ngcontent-%COMP%]:active{background-color:transparent;border:1px solid transparent;color:#fff}button.ing-icon[_ngcontent-%COMP%]:hover:active, button.ing-icon[_ngcontent-%COMP%]:active:active{background-color:transparent;border:1px solid transparent}button.ing-discreet[_ngcontent-%COMP%]{background-color:transparent;border:1px solid transparent;color:#387ef4}button.ing-discreet[_ngcontent-%COMP%]:hover{cursor:pointer}button.ing-discreet[_ngcontent-%COMP%]:hover, button.ing-discreet[_ngcontent-%COMP%]:focus{color:#387ef4;background-color:#f2f2f2;border:1px solid transparent}button.ing-discreet[_ngcontent-%COMP%]:hover:active, button.ing-discreet[_ngcontent-%COMP%]:focus:active{background-color:#ccc;border:1px solid #ccc;color:#387ef4}button.ing-discreet[_ngcontent-%COMP%]:disabled, button.ing-discreet[_ngcontent-%COMP%]:disabled:hover, button.ing-discreet[_ngcontent-%COMP%]:disabled:hover:active{background-color:transparent;border:1px solid transparent;color:#999}button.ing-secondary[_ngcontent-%COMP%]{background-color:transparent;border:1px solid #387ef4;color:#387ef4}button.ing-secondary[_ngcontent-%COMP%]:hover, button.ing-secondary[_ngcontent-%COMP%]:focus{background-color:#f2f2f2;border:1px solid #387ef4;color:#387ef4}button.ing-secondary[_ngcontent-%COMP%]:hover:active, button.ing-secondary[_ngcontent-%COMP%]:focus:active{background-color:#ccc;border:1px solid #387ef4;color:#387ef4}button.ing-secondary[_ngcontent-%COMP%]:disabled, button.ing-secondary[_ngcontent-%COMP%]:disabled:hover, button.ing-secondary[_ngcontent-%COMP%]:disabled:hover:active{background-color:#f2f2f2;border:1px solid #999999;color:#999}button.ing-action-standard[_ngcontent-%COMP%]{background-color:#387ef4;border:1px solid #387ef4;color:#fff}button.ing-action-standard[_ngcontent-%COMP%]:hover, button.ing-action-standard[_ngcontent-%COMP%]:focus{background-color:#466db1;border:1px solid #466db1;color:#fff}button.ing-action-standard[_ngcontent-%COMP%]:hover:active, button.ing-action-standard[_ngcontent-%COMP%]:focus:active{background-color:#40507d;border:1px solid #40507d;color:#fff}button.ing-action-standard[_ngcontent-%COMP%]:disabled, button.ing-action-standard[_ngcontent-%COMP%]:disabled:hover, button.ing-action-standard[_ngcontent-%COMP%]:disabled:hover:active{background-color:#b2b2b2;border:1px solid #b2b2b2;color:#fff}button.ing-action-exceptional[_ngcontent-%COMP%]{background-color:#5da500;border:1px solid #5da500;color:#fff}button.ing-action-exceptional[_ngcontent-%COMP%]:hover, button.ing-action-exceptional[_ngcontent-%COMP%]:focus{background-color:#4d8801;border:1px solid #4d8801;color:#fff}button.ing-action-exceptional[_ngcontent-%COMP%]:hover:active, button.ing-action-exceptional[_ngcontent-%COMP%]:focus:active{background-color:#407200;border:1px solid #407200;color:#fff}button.ing-action-exceptional[_ngcontent-%COMP%]:disabled, button.ing-action-exceptional[_ngcontent-%COMP%]:disabled:hover, button.ing-action-exceptional[_ngcontent-%COMP%]:disabled:hover:active{background-color:#b2b2b2;border:1px solid #b2b2b2;color:#fff}.wj-popup-backdrop[_ngcontent-%COMP%]{background-color:#1313138c}.ing-cross[_ngcontent-%COMP%]{cursor:pointer;-webkit-mask-image:url(../assets/actions-02-1bd1e03.svg);mask-image:url(../assets/actions-02-1bd1e03.svg);-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-position:center;mask-position:center;background-color:#fff;-webkit-mask-size:1rem 1rem;mask-size:1rem 1rem;height:1rem;width:1rem;padding:0;margin:.25rem}.ing-modal-hidden[_ngcontent-%COMP%]{display:none!important}.ing-modal-animation[_ngcontent-%COMP%]{opacity:0;transition:opacity linear .1s}@media (max-width: 767px){.ing-modal-animation[_ngcontent-%COMP%]{transform:translateY(100%);transition:transform ease-in .2s}}.ing-modal-animation-visible[_ngcontent-%COMP%]{opacity:1;transform:none}@media (max-width: 767px){.wj-popup[_ngcontent-%COMP%]{height:100%;width:100%}.wj-popup[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:100%}}@media (min-width: 768px){.wj-popup[_ngcontent-%COMP%]{display:flex;flex-direction:row;max-height:100%}}.wj-popup[_ngcontent-%COMP%]{font-family:Roboto,Arial,Helvetica,sans-serif;font-size:1rem;box-shadow:none;border-radius:0;margin:0;border:1px solid #466db1}.wj-popup[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:stretch;max-height:100%;min-height:100%;width:100%;border:0}.wj-popup.wj-content[_ngcontent-%COMP%]{overflow:visible}.wj-popup[_ngcontent-%COMP%]   .wj-dialog-header[_ngcontent-%COMP%]{flex-shrink:0;justify-content:space-between;background-color:#466db1;color:#fff;width:auto;height:2rem;font-family:Roboto,Arial,Helvetica,sans-serif;box-sizing:border-box;display:inline-flex;flex-direction:row;align-items:center;vertical-align:middle;text-align:left;margin:0;padding:.25rem 1rem;font-size:1rem;border:0;font-weight:500}.wj-popup[_ngcontent-%COMP%]   .wj-dialog-header[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(1n){margin:initial;margin-left:.5rem;margin-right:.5rem}@media screen and (min-width: 0\\fffd){.wj-popup[_ngcontent-%COMP%]   .wj-dialog-header[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(1n){margin:auto;margin-left:.5rem;margin-right:.5rem}}.wj-popup[_ngcontent-%COMP%]   .wj-dialog-header[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:last-child{margin-left:.5rem;margin-right:0}.wj-popup[_ngcontent-%COMP%]   .wj-dialog-header[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child{margin-left:0;margin-right:.5rem}.wj-popup[_ngcontent-%COMP%]   .wj-dialog-header[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:only-child{margin-left:0;margin-right:0}.wj-popup[_ngcontent-%COMP%]   .wj-dialog-header[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:1rem;width:1rem}.wj-popup[_ngcontent-%COMP%]   .wj-dialog-header[_ngcontent-%COMP%]:focus{outline-style:none}.wj-popup[_ngcontent-%COMP%]   .wj-dialog-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-grow:1;padding:0;overflow-y:auto;background-color:#fff;color:#000;border:0}.wj-popup[_ngcontent-%COMP%]   .wj-dialog-footer[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-shrink:0;border:0;align-items:center;justify-content:center;margin:0;padding:.75rem 1rem 1rem;background-color:#ececec;color:#fff}.wj-popup[_ngcontent-%COMP%]   .wj-dialog-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:1rem;min-width:4.75rem;justify-content:center;font-weight:400;padding:.25rem .75rem}.wj-popup[_ngcontent-%COMP%]   .wj-dialog-footer[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(1n){margin:0 .5rem}.wj-popup[_ngcontent-%COMP%]   .wj-dialog-footer[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:only-child{margin:0}.wj-popup.ing-modal-center[_ngcontent-%COMP%]{position:fixed!important;top:50%!important;left:50%!important;transform:translate(-50%) translateY(-50%) translate(-1px) translateY(-1px);transition:transform linear .1s}@media (min-width: 768px){.wj-popup[_ngcontent-%COMP%]   .wj-dialog-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:8rem;padding:.25rem .75rem}}@media (max-width: 767px){wj-popup.ing-dialog-box[_ngcontent-%COMP%]{height:100%;width:100%;top:0!important;left:0}wj-popup.ing-dialog-box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:100%}wj-popup.ing-dialog-box[_ngcontent-%COMP%]   .wj-dialog-body[_ngcontent-%COMP%]{height:100%}}@media (min-width: 768px){wj-popup.ing-dialog-box[_ngcontent-%COMP%]{height:auto;width:38%}}wj-popup.ing-modal[_ngcontent-%COMP%]{height:auto;width:auto}@media (max-width: 767px){wj-popup.ing-modal[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;width:100%}wj-popup.ing-modal[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:100%}}@media (min-width: 768px){wj-popup.ing-modal[_ngcontent-%COMP%]{display:flex;flex-direction:row;max-height:80%;max-width:90%}}@media (min-width: 992px) and (max-width: 1199px){wj-popup.ing-modal[_ngcontent-%COMP%]{max-width:85%}}@media (min-width: 1200px){wj-popup.ing-modal[_ngcontent-%COMP%]{max-width:70%}}']}),s})(),Bh=(()=>{class s{constructor(e){this.translocoService=e,this.defaults={title$:this.translocoService.selectTranslate("defaultTitle",{},"ingUI"),message$:this.translocoService.selectTranslate("defaultMessage",{},"ingUI"),buttons:$.Zf.okCancel,defaultButton:$.mH.cancel,hideCloseButton:!0,options:{isDraggable:!1}},this.isError=!1,this.isWarning=!1}showError(e,n){const i=e?(0,oe.of)(e):this.defaults.message$;return this.isError=!0,this.showPopup(i,this.translocoService.selectTranslate("errorTitle",{},"ingUI"),$.Zf.ok,$.mH.ok,n)}showWarning(e,n){const i=e?(0,oe.of)(e):this.defaults.message$;return this.isWarning=!0,this.showPopup(i,this.translocoService.selectTranslate("warningTitle",{},"ingUI"),$.Zf.ok,$.mH.ok,n)}showModal(e,n,i=this.defaults.buttons,r=this.defaults.defaultButton,o=this.defaults.options){const a=e?(0,oe.of)(e):this.defaults.message$,d=n?(0,oe.of)(n):this.defaults.title$;return this.showPopup(a,d,i,r,o)}showErrorPopup(e,n=this.defaults.options){return this.isError=!0,e.subscribe(i=>{this.message=$.E6.replaceAllLineBreaks(i)}),this.modal.showModal(this.translocoService.selectTranslate("errorTitle",{},"ingUI"),$.Zf.ok,$.mH.ok,this.defaults.hideCloseButton,n)}showWarningPopup(e,n){return this.isWarning=!0,e.subscribe(i=>{this.message=$.E6.replaceAllLineBreaks(i)}),this.modal.showModal(this.translocoService.selectTranslate("warningTitle",{},"ingUI"),$.Zf.ok,$.mH.ok,this.defaults.hideCloseButton,n)}showPopup(e,n,i=this.defaults.buttons,r=this.defaults.defaultButton,o){return e.subscribe(a=>{this.message=$.E6.replaceAllLineBreaks(a)}),this.modal.showModal(n,i,r,this.defaults.hideCloseButton,o)}hide(){this.modal.hide()}}return s.\u0275fac=function(e){return new(e||s)(y.Y36(De.Vn))},s.\u0275cmp=y.Xpm({type:s,selectors:[["ing-dialog-box"]],viewQuery:function(e,n){if(1&e&&y.Gf(qu,7),2&e){let i;y.iGM(i=y.CRH())&&(n.modal=i.first)}},standalone:!0,features:[y._Bn([{provide:De.Hn,useValue:"ingUI",multi:!0}]),y.jDz],decls:5,vars:7,consts:[["id","ing-modal-1",3,"isDialogBox"],["modal",""],["id","div-ing-dialog-body-cont-1",1,"ing-dialog-body-content"],["id","div-ing-icon-error-1","class","ing-icon-error",4,"ngIf"],["id","p-1",3,"innerHTML"],["id","div-ing-icon-error-1",1,"ing-icon-error"]],template:function(e,n){1&e&&(y.TgZ(0,"ing-modal",0,1)(2,"div",2),y.YNc(3,ec,1,0,"div",3),y._UZ(4,"p",4),y.qZA()()),2&e&&(y.Q6J("isDialogBox",!0),y.xp6(2),y.ekj("ing-modal-error",n.isError)("ing-modal-warning",n.isWarning),y.xp6(1),y.Q6J("ngIf",n.isError),y.xp6(1),y.Q6J("innerHTML",n.message,y.oJD))},dependencies:[Q.O5,Kc],styles:["wj-popup[_ngcontent-%COMP%]{min-width:38%!important;background-color:#efeceb}.ing-dialog-body-content[_ngcontent-%COMP%]{background-color:#efeceb;justify-content:center;align-items:center;display:flex;flex-direction:column;flex:1 0 auto;margin:0;padding:.5rem}.ing-dialog-body-content[_ngcontent-%COMP%]   .ing-icon-error[_ngcontent-%COMP%]{box-sizing:border-box;background:url(../assets/alerts-51-1bd1a2c.svg) no-repeat;background-size:2rem;width:2rem;height:2rem;padding:0 0 0 2rem;overflow:hidden;padding:0;margin:.25rem}.ing-dialog-body-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:0;margin:.25rem;text-align:center;max-width:100%;word-wrap:break-word}@media (max-width: 767px){.ing-dialog-body-content[_ngcontent-%COMP%]{height:100%}}@media (min-width: 768px){.ing-dialog-body-content[_ngcontent-%COMP%]{min-height:12.5rem}.ing-dialog-body-content.ing-modal-error[_ngcontent-%COMP%], .ing-dialog-body-content.ing-modal-warning[_ngcontent-%COMP%]{min-height:3.75rem;height:100%}}"]}),s})(),Vh=(()=>{class s extends $.C3{constructor(e,n){super(),this.renderer=e,this.el=n,this.delays=250,this.isDisable=!1}clickEvent(e){!this.isDisable&&this.ingDisabledClickFunction&&(this.disable(e),this.ingDisabledClickFunction(e).then(()=>{this.enable()},()=>{this.enable()}))}disable(e){this.isDisable=!0,setTimeout(()=>{e.stopPropagation(),this.renderer.setAttribute(this.el.nativeElement,"disabled","true")},1)}enable(){setTimeout(()=>{this.renderer.removeAttribute(this.el.nativeElement,"disabled"),this.isDisable=!1},this.delays)}}return s.\u0275fac=function(e){return new(e||s)(y.Y36(y.Qsj),y.Y36(y.SBq))},s.\u0275dir=y.lG2({type:s,selectors:[["","ingDisabledClick",""]],hostBindings:function(e,n){1&e&&y.NdJ("click",function(r){return n.clickEvent(r)})},inputs:{ingDisabledClickFunction:"ingDisabledClickFunction"},standalone:!0,features:[y.qOj]}),s})(),Va=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=y.oAB({type:s}),s.\u0275inj=y.cJS({}),s})(),Xu=(()=>{class s extends $.H6{constructor(e,n){super(),this.resolver=e,this.ref=n,this.isDraggable=!1,this.isEscapeKeyBehaviorDisable=!1,this.isHeaderCloseButtonHidden=!1,this.cancelButtonAction$=new Ce.x,this.cancelAction=new $.Wc,this.submitAction=new $.Wc,this.onAbortCallBack$=new Ce.x,this.onErrorCallBack$=new Ce.x,this.onSubmitCallBack$=new Ce.x,this.submitted$=new Ce.x,this.eventName="enableButton",this.AfterHide=new y.vpe,this.initWaitingButtonClickFunction(),this.initDefaultCancelAction(),this.initDefaultSubmitAction()}show(e,n,i){return this.injectComponentInModal(e,i),this.manageTitle(n),new Promise((r,o)=>{this.manageCallBack(r,o),this.showPopup(r)})}manageTitle(e){e&&e.subscribe(n=>{this.title=n})}showPopup(e){this.modalElement.show(!0,n=>{null==n.dialogResult&&e(void 0)})}manageCallBack(e,n){this.onSubmitCallBack$&&this.onSubmitCallBack$.pipe((0,be.R)(this.subscription$)).subscribe(i=>{e(i),this.hide()}),this.onErrorCallBack$&&this.onErrorCallBack$.pipe((0,be.R)(this.subscription$)).subscribe(i=>{n(i),this.hide()}),this.onAbortCallBack$&&this.onAbortCallBack$.pipe((0,be.R)(this.subscription$)).subscribe(()=>{this.enableButton()})}onCancel(){this.cancelAction?this.cancelAction.action().then(()=>{this.hide()}):this.hide()}onSubmit(){this.submitAction&&this.submitAction.action()}hide(){this.enableButton(),this.modalElement.hide("hidden"),this.AfterHide.emit()}initDefaultCancelAction(){this.cancelAction=new $.aU,this.cancelAction.action=()=>this.getPromise($.mH.cancel),this.cancelAction.label="ingUI.cancel"}initDefaultSubmitAction(){this.submitAction=new $.aU,this.submitAction.action=()=>{this.formClass?this.formClass.onSubmit(new Event("submit")):this.formGroupDirective&&this.formGroupDirective.onSubmit(new Event("submit"))},this.submitAction.label="ingUI.ok"}getPromise(e){return new Promise(n=>{setTimeout(()=>{n(e)},100)})}ngAfterViewInit(){super.ngAfterViewInit(),this.modalElement.hiding.addHandler(this.preventHide.bind(this))}ngOnDestroy(){super.ngOnDestroy(),this.modalElement.hiding.removeHandler(this.preventHide.bind(this)),this.componentRef.destroy()}preventHide(e,n){!e.dialogResult&&this.isEscapeKeyBehaviorDisable&&(n.cancel=!0)}initWaitingButtonClickFunction(){this.isValidating=!1,this.onClickFunction=e=>this.disableButton()}disableButton(){return this.isValidating=!0,new Promise(e=>{this.submitted$.subscribe(()=>{this.isValidating=!1,e(!0)})})}enableButton(){this.submitted$.next(new Event(this.eventName))}injectComponentInModal(e,n){this.createComponentRef(e),this.initContainerData(n)}createComponentRef(e){this.container.clear();const n=this.resolver.resolveComponentFactory(e);this.componentRef=this.container.createComponent(n)}initContainerData(e){const n=this.componentRef.instance;n&&(this.initFormDirective(n),this.initCallBack(n),this.initButtons(n),this.initProperties(n,e))}initFormDirective(e){if(e.ngForm instanceof O.F)this.formClass=e.ngForm;else{if(!(e.formGroupDirective instanceof O.sg))throw new Error("No NgForm or FormGroupDirective found");this.formGroupDirective=e.formGroupDirective}}initCallBack(e){e.onSubmitCallBack$&&(this.onSubmitCallBack$=e.onSubmitCallBack$),e.onErrorCallBack$&&(this.onErrorCallBack$=e.onErrorCallBack$),e.onAbortCallBack$&&(this.onAbortCallBack$=e.onAbortCallBack$)}initProperties(e,n){n&&(e.entity=n),e.isDraggable&&(this.isDraggable=e.isDraggable),e.class&&(this.class=e.class),null!=e.isEscapeKeyBehaviorDisable&&(this.isEscapeKeyBehaviorDisable=e.isEscapeKeyBehaviorDisable),null!=e.isHeaderCloseButtonHidden&&(this.isHeaderCloseButtonHidden=e.isHeaderCloseButtonHidden)}initButtons(e){e&&e.submitButtonKey&&(this.submitAction.label=e.submitButtonKey),e&&e.cancelButtonKey&&(this.cancelAction.label=e.cancelButtonKey)}}return s.\u0275fac=function(e){return new(e||s)(y.Y36(y._Vd),y.Y36(y.SBq))},s.\u0275cmp=y.Xpm({type:s,selectors:[["ng-component"]],viewQuery:function(e,n){if(1&e&&(y.Gf(et.OR,7),y.Gf(Kg,7,y.s_b)),2&e){let i;y.iGM(i=y.CRH())&&(n.modalElement=i.first),y.iGM(i=y.CRH())&&(n.container=i.first)}},outputs:{AfterHide:"AfterHide"},standalone:!0,features:[y._Bn([{provide:De.Hn,useValue:"ingUI",multi:!0}]),y.qOj,y.jDz],decls:16,vars:20,consts:[["id","wj-popup-wj-popup-1",1,"wj-popup","ing-form-modal",3,"modal","hideTrigger","fadeIn","fadeOut","isDraggable"],["modal",""],["id","header-wj-dialog-header-1",1,"wj-dialog-header"],["id","span-1"],["id","span-ing-cross-1",1,"ing-cross",3,"click"],["id","div-wj-dialog-body-1",1,"wj-dialog-body"],["id","ng-container-1"],["formContainer",""],["id","footer-wj-dialog-footer-1",1,"wj-dialog-footer"],["id","button-ing-primary-1","type","submit","ingDisabledClick","",1,"ing-primary","ing-action-standard",3,"ingDisabledClickFunction","click"],["id","button-ing-secondary-1","type","button",1,"ing-secondary",3,"disabled","click"]],template:function(e,n){1&e&&(y.TgZ(0,"wj-popup",0,1)(2,"header",2)(3,"span",3),y._uU(4),y.qZA(),y.TgZ(5,"span",4),y.NdJ("click",function(){return n.hide()}),y.qZA()(),y.TgZ(6,"div",5),y.GkF(7,6,7),y.qZA(),y.TgZ(9,"footer",8)(10,"button",9),y.NdJ("click",function(){return n.onSubmit()}),y._uU(11),y.ALo(12,"transloco"),y.qZA(),y.TgZ(13,"button",10),y.NdJ("click",function(){return n.onCancel()}),y._uU(14),y.ALo(15,"transloco"),y.qZA()()()),2&e&&(y.Tol(n.class?n.class:""),y.ekj("ing-modal-center",!n.isDraggable),y.Q6J("modal",!0)("hideTrigger","None")("fadeIn",!1)("fadeOut",!1)("isDraggable",n.isDraggable),y.xp6(4),y.Oqu(n.title),y.xp6(1),y.ekj("ing-modal-hidden",n.isHeaderCloseButtonHidden),y.xp6(5),y.Q6J("ingDisabledClickFunction",n.onClickFunction),y.xp6(1),y.hij(" ",y.lcZ(12,16,null==n.submitAction?null:n.submitAction.label)," "),y.xp6(2),y.Q6J("disabled",n.isValidating),y.xp6(1),y.hij(" ",y.lcZ(15,18,null==n.cancelAction?null:n.cancelAction.label)," "))},dependencies:[Vh,De.y4,De.Ot,et.wJ,et.OR],styles:['@charset "UTF-8";button[_ngcontent-%COMP%]{width:auto;height:2rem;font-family:Roboto,Arial,Helvetica,sans-serif;font-size:1rem;box-sizing:border-box;display:inline-flex;flex-direction:row;align-items:center;vertical-align:middle;margin:0;padding:.25rem 1rem;text-align:left;background-color:transparent;border:1px solid transparent;color:#387ef4}button[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(1n){margin:initial;margin-left:.5rem;margin-right:.5rem}@media screen and (min-width: 0\\fffd){button[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(1n){margin:auto;margin-left:.5rem;margin-right:.5rem}}button[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:last-child{margin-left:.5rem;margin-right:0}button[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child{margin-left:0;margin-right:.5rem}button[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:only-child{margin-left:0;margin-right:0}button[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:1rem;width:1rem}button[_ngcontent-%COMP%]:focus{outline-style:none}button[_ngcontent-%COMP%]:hover{cursor:pointer}button[_ngcontent-%COMP%]:hover, button[_ngcontent-%COMP%]:focus{color:#387ef4;background-color:#f2f2f2;border:1px solid transparent}button[_ngcontent-%COMP%]:hover:active, button[_ngcontent-%COMP%]:focus:active{background-color:#ccc;border:1px solid #ccc;color:#387ef4}button[_ngcontent-%COMP%]:disabled, button[_ngcontent-%COMP%]:disabled:hover, button[_ngcontent-%COMP%]:disabled:hover:active{background-color:transparent;border:1px solid transparent;color:#999}button.ing-center[_ngcontent-%COMP%]{text-align:center;align-items:center;justify-content:center}button.ing-icon[_ngcontent-%COMP%]{padding:0;background-color:transparent;border:1px solid transparent;color:#fff}button.ing-icon[_ngcontent-%COMP%]:hover, button.ing-icon[_ngcontent-%COMP%]:active{background-color:transparent;border:1px solid transparent;color:#fff}button.ing-icon[_ngcontent-%COMP%]:hover:active, button.ing-icon[_ngcontent-%COMP%]:active:active{background-color:transparent;border:1px solid transparent}button.ing-discreet[_ngcontent-%COMP%]{background-color:transparent;border:1px solid transparent;color:#387ef4}button.ing-discreet[_ngcontent-%COMP%]:hover{cursor:pointer}button.ing-discreet[_ngcontent-%COMP%]:hover, button.ing-discreet[_ngcontent-%COMP%]:focus{color:#387ef4;background-color:#f2f2f2;border:1px solid transparent}button.ing-discreet[_ngcontent-%COMP%]:hover:active, button.ing-discreet[_ngcontent-%COMP%]:focus:active{background-color:#ccc;border:1px solid #ccc;color:#387ef4}button.ing-discreet[_ngcontent-%COMP%]:disabled, button.ing-discreet[_ngcontent-%COMP%]:disabled:hover, button.ing-discreet[_ngcontent-%COMP%]:disabled:hover:active{background-color:transparent;border:1px solid transparent;color:#999}button.ing-secondary[_ngcontent-%COMP%]{background-color:transparent;border:1px solid #387ef4;color:#387ef4}button.ing-secondary[_ngcontent-%COMP%]:hover, button.ing-secondary[_ngcontent-%COMP%]:focus{background-color:#f2f2f2;border:1px solid #387ef4;color:#387ef4}button.ing-secondary[_ngcontent-%COMP%]:hover:active, button.ing-secondary[_ngcontent-%COMP%]:focus:active{background-color:#ccc;border:1px solid #387ef4;color:#387ef4}button.ing-secondary[_ngcontent-%COMP%]:disabled, button.ing-secondary[_ngcontent-%COMP%]:disabled:hover, button.ing-secondary[_ngcontent-%COMP%]:disabled:hover:active{background-color:#f2f2f2;border:1px solid #999999;color:#999}button.ing-action-standard[_ngcontent-%COMP%]{background-color:#387ef4;border:1px solid #387ef4;color:#fff}button.ing-action-standard[_ngcontent-%COMP%]:hover, button.ing-action-standard[_ngcontent-%COMP%]:focus{background-color:#466db1;border:1px solid #466db1;color:#fff}button.ing-action-standard[_ngcontent-%COMP%]:hover:active, button.ing-action-standard[_ngcontent-%COMP%]:focus:active{background-color:#40507d;border:1px solid #40507d;color:#fff}button.ing-action-standard[_ngcontent-%COMP%]:disabled, button.ing-action-standard[_ngcontent-%COMP%]:disabled:hover, button.ing-action-standard[_ngcontent-%COMP%]:disabled:hover:active{background-color:#b2b2b2;border:1px solid #b2b2b2;color:#fff}button.ing-action-exceptional[_ngcontent-%COMP%]{background-color:#5da500;border:1px solid #5da500;color:#fff}button.ing-action-exceptional[_ngcontent-%COMP%]:hover, button.ing-action-exceptional[_ngcontent-%COMP%]:focus{background-color:#4d8801;border:1px solid #4d8801;color:#fff}button.ing-action-exceptional[_ngcontent-%COMP%]:hover:active, button.ing-action-exceptional[_ngcontent-%COMP%]:focus:active{background-color:#407200;border:1px solid #407200;color:#fff}button.ing-action-exceptional[_ngcontent-%COMP%]:disabled, button.ing-action-exceptional[_ngcontent-%COMP%]:disabled:hover, button.ing-action-exceptional[_ngcontent-%COMP%]:disabled:hover:active{background-color:#b2b2b2;border:1px solid #b2b2b2;color:#fff}.wj-popup-backdrop[_ngcontent-%COMP%]{background-color:#1313138c}.ing-cross[_ngcontent-%COMP%]{cursor:pointer;-webkit-mask-image:url(../assets/actions-02-1bd1e03.svg);mask-image:url(../assets/actions-02-1bd1e03.svg);-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-position:center;mask-position:center;background-color:#fff;-webkit-mask-size:1rem 1rem;mask-size:1rem 1rem;height:1rem;width:1rem;padding:0;margin:.25rem}.ing-modal-hidden[_ngcontent-%COMP%]{display:none!important}.ing-modal-animation[_ngcontent-%COMP%]{opacity:0;transition:opacity linear .1s}@media (max-width: 767px){.ing-modal-animation[_ngcontent-%COMP%]{transform:translateY(100%);transition:transform ease-in .2s}}.ing-modal-animation-visible[_ngcontent-%COMP%]{opacity:1;transform:none}@media (max-width: 767px){.wj-popup[_ngcontent-%COMP%]{height:100%;width:100%}.wj-popup[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:100%}}@media (min-width: 768px){.wj-popup[_ngcontent-%COMP%]{display:flex;flex-direction:row;max-height:100%}}.wj-popup[_ngcontent-%COMP%]{font-family:Roboto,Arial,Helvetica,sans-serif;font-size:1rem;box-shadow:none;border-radius:0;margin:0;border:1px solid #466db1}.wj-popup[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:stretch;max-height:100%;min-height:100%;width:100%;border:0}.wj-popup.wj-content[_ngcontent-%COMP%]{overflow:visible}.wj-popup[_ngcontent-%COMP%]   .wj-dialog-header[_ngcontent-%COMP%]{flex-shrink:0;justify-content:space-between;background-color:#466db1;color:#fff;width:auto;height:2rem;font-family:Roboto,Arial,Helvetica,sans-serif;box-sizing:border-box;display:inline-flex;flex-direction:row;align-items:center;vertical-align:middle;text-align:left;margin:0;padding:.25rem 1rem;font-size:1rem;border:0;font-weight:500}.wj-popup[_ngcontent-%COMP%]   .wj-dialog-header[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(1n){margin:initial;margin-left:.5rem;margin-right:.5rem}@media screen and (min-width: 0\\fffd){.wj-popup[_ngcontent-%COMP%]   .wj-dialog-header[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(1n){margin:auto;margin-left:.5rem;margin-right:.5rem}}.wj-popup[_ngcontent-%COMP%]   .wj-dialog-header[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:last-child{margin-left:.5rem;margin-right:0}.wj-popup[_ngcontent-%COMP%]   .wj-dialog-header[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child{margin-left:0;margin-right:.5rem}.wj-popup[_ngcontent-%COMP%]   .wj-dialog-header[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:only-child{margin-left:0;margin-right:0}.wj-popup[_ngcontent-%COMP%]   .wj-dialog-header[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:1rem;width:1rem}.wj-popup[_ngcontent-%COMP%]   .wj-dialog-header[_ngcontent-%COMP%]:focus{outline-style:none}.wj-popup[_ngcontent-%COMP%]   .wj-dialog-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-grow:1;padding:0;overflow-y:auto;background-color:#fff;color:#000;border:0}.wj-popup[_ngcontent-%COMP%]   .wj-dialog-footer[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-shrink:0;border:0;align-items:center;justify-content:center;margin:0;padding:.75rem 1rem 1rem;background-color:#ececec;color:#fff}.wj-popup[_ngcontent-%COMP%]   .wj-dialog-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:1rem;min-width:4.75rem;justify-content:center;font-weight:400;padding:.25rem .75rem}.wj-popup[_ngcontent-%COMP%]   .wj-dialog-footer[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(1n){margin:0 .5rem}.wj-popup[_ngcontent-%COMP%]   .wj-dialog-footer[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:only-child{margin:0}.wj-popup.ing-modal-center[_ngcontent-%COMP%]{position:fixed!important;top:50%!important;left:50%!important;transform:translate(-50%) translateY(-50%) translate(-1px) translateY(-1px);transition:transform linear .1s}@media (min-width: 768px){.wj-popup[_ngcontent-%COMP%]   .wj-dialog-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:8rem;padding:.25rem .75rem}}']}),s})(),Es=(()=>{class s{constructor(e){this.nbOpenedModal=0,this.componentInjector=e}get isModalOpened(){return this.nbOpenedModal>0}show(e,n,i){return this.buildModal().instance.show(e,n,i)}showModalWithStaticTitle(e,n,i){return this.show(e,(0,oe.of)(n),i)}buildModal(){return this.componentRef=this.componentInjector.appendComponent(Xu),this.componentRef.instance.AfterHide.subscribe(()=>{this.componentRef.destroy(),this.nbOpenedModal--}),this.nbOpenedModal++,this.componentRef}}return s.\u0275fac=function(e){return new(e||s)(y.LFG($.w1))},s.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac}),s})();class _u{}let vu=(()=>{class s{constructor(e){this.componentInjector=e,this.componentRef=new Map}show(e,n){return this.getComponentRef(e).instance.show(n)}showForm(e,n){return this.getComponentRef(e).instance.show(n)}getComponentRef(e){let n;return this.componentRef.has(e.name)&&(n=this.componentRef.get(e.name),n.destroy(),this.componentRef.delete(e.name)),n=this.componentInjector.appendComponent(e),this.componentRef.set(e.name,n),n}}return s.\u0275fac=function(e){return new(e||s)(y.LFG($.w1))},s.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac}),s})(),yu=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=y.oAB({type:s}),s.\u0275inj=y.cJS({providers:[vu,{provide:_u,useClass:Es,multi:!1},$.w1],imports:[Xu,Kc,Bh]}),s})(),bu=(()=>{class s extends $.H6{constructor(){super(...arguments),this.onAbortCallBack$=new Ce.x,this.onErrorCallBack$=new Ce.x,this.onSubmitCallBack$=new Ce.x,this.isDraggable=!1,this.submitButtonKey="ingUI.ok",this.cancelButtonKey="ingUI.cancel",this.isEscapeKeyBehaviorDisable=!1,this.isHeaderCloseButtonHidden=!1}set formGroupDirectiveElementRef(e){e&&this.ngForm?.ngSubmit.pipe((0,be.R)(this.subscription$)).subscribe(()=>{e.nativeElement?.classList?.add("ng-submitted")})}set ngFormElementRef(e){e&&this.ngForm?.ngSubmit.pipe((0,be.R)(this.subscription$)).subscribe(()=>{e.nativeElement?.classList?.add("ng-submitted")})}abort(){this.onAbortCallBack$&&this.onAbortCallBack$.next()}succeed(e){this.onSubmitCallBack$&&this.onSubmitCallBack$.next(e)}error(e){this.onErrorCallBack$&&this.onErrorCallBack$.next(e)}}return s.\u0275fac=function(){let t;return function(n){return(t||(t=y.n5z(s)))(n||s)}}(),s.\u0275dir=y.lG2({type:s,viewQuery:function(e,n){if(1&e&&(y.Gf(O.F,7,O.F),y.Gf(O.sg,7,O.sg),y.Gf(O.sg,7,y.SBq),y.Gf(O.F,7,y.SBq)),2&e){let i;y.iGM(i=y.CRH())&&(n.ngForm=i.first),y.iGM(i=y.CRH())&&(n.formGroupDirective=i.first),y.iGM(i=y.CRH())&&(n.formGroupDirectiveElementRef=i.first),y.iGM(i=y.CRH())&&(n.ngFormElementRef=i.first)}},features:[y.qOj]}),s})(),wu=(()=>{class s extends $.H6{constructor(){super(...arguments),this.onTouched=()=>{}}ngAfterViewInit(){super.ngAfterViewInit(),this.components&&this.components.forEach(e=>{(0,xe.R)(e.nativeElement,"blur").pipe((0,be.R)(this.subscription$)).subscribe(()=>this.onTouched())})}writeValue(e){e&&this._nestedFormGroup&&this._nestedFormGroup.patchValue(e,{emitEvent:!1})}registerOnChange(e){if(!this._nestedFormGroup)throw new Error("_nestedFormGroup cannot be null or undefined.");this._nestedFormGroup.valueChanges.pipe((0,be.R)(this.subscription$)).subscribe(e)}registerOnTouched(e){this.onTouched=e}setDisabledState(e){if(!this._nestedFormGroup)throw new Error("_nestedFormGroup cannot be null or undefined.");e?this._nestedFormGroup.disable():this._nestedFormGroup.enable()}}return s.\u0275fac=function(){let t;return function(n){return(t||(t=y.n5z(s)))(n||s)}}(),s.\u0275dir=y.lG2({type:s,viewQuery:function(e,n){if(1&e&&y.Gf(O.u,5,y.SBq),2&e){let i;y.iGM(i=y.CRH())&&(n.components=i)}},features:[y.qOj]}),s})(),Zc=(()=>{class s extends $.bQ{constructor(e){super(),this.transloco=e}requiredValidator(){return e=>this.isEmptyInputValue(e.value)?{required:this.transloco.selectTranslate("changePassword.errorNewPwdMsg",{},"ingUI")}:null}lengthValidator(e,n){return i=>this.isEmptyInputValue(i.value)||!this.hasValidLength(i.value)?null:i.value.length<e||i.value.length>n?{minlength:this.transloco.selectTranslate("changePassword.minmaxlengthRequirement",{minLength:e,maxLenght:n},"ingUI")}:null}minLengthValidator(e){return n=>this.isEmptyInputValue(n.value)||!this.hasValidLength(n.value)?null:n.value.length<e?{minlength:this.transloco.selectTranslate("changePassword.minlengthRequirement",{requiredLength:e},"ingUI")}:null}maxLengthValidator(e){return n=>this.isEmptyInputValue(n.value)?null:this.hasValidLength(n.value)&&n.value.length>e?{maxlength:this.transloco.selectTranslate("changePassword.maxlengthRequirement",{requiredLength:e},"ingUI")}:null}upperCaseValidator(){return e=>this.isEmptyInputValue(e.value)||!this.hasValidLength(e.value)||this.hasUpperCase(e.value)?null:{noUpperCase:this.transloco.selectTranslate("changePassword.upperCaseRequirement",{},"ingUI")}}lowerCaseValidator(){return e=>this.isEmptyInputValue(e.value)||!this.hasValidLength(e.value)||this.hasLowerCase(e.value)?null:{noLowerCase:this.transloco.selectTranslate("changePassword.lowerCaseRequirement",{},"ingUI")}}specialCharValidator(){return e=>this.isEmptyInputValue(e.value)||!this.hasValidLength(e.value)||this.hasNotSpecialChar(e.value)?null:{noSpecialChar:this.transloco.selectTranslate("changePassword.specialCharacterRequirement",{},"ingUI")}}numberValidator(){return e=>this.isEmptyInputValue(e.value)||!this.hasValidLength(e.value)||this.hasNumber(e.value)?null:{noNumber:this.transloco.selectTranslate("changePassword.numberRequirement",{},"ingUI")}}checkCrossFieldEqualityValidator(e){return n=>{if(this.isEmptyInputValue(n.value)||this.isEmptyInputValue(e.value))return null;const i=e.value,r=n.value,o=null!=i&&null!=r;return!o||o&&this.arePasswordsInequals(i,r)?{equal:this.transloco.selectTranslate("changePassword.errorConfirmPwdMsg",{},"ingUI")}:null}}allControlsAreRequiredValidator(){return e=>{if(this.isEmptyInputValue(e.value))return null;const n=Object.values(e.value);return this.isEmptyInputValue(n)||2!==n.length||this.isEmptyInputValue(n[0])||this.isEmptyInputValue(n[1])?{allControlsAreRequired:this.transloco.selectTranslate("changePassword.errorNewPwdMsg",{},"ingUI")}:null}}arePasswordsInequals(e,n){return e!==n}isEmptyInputValue(e){return null==e||("string"==typeof e||Array.isArray(e))&&0===e.length}hasValidLength(e){return null!==e&&"number"==typeof e.length}hasNumber(e){return/[0-9]/.test(e)}hasUpperCase(e){return/[A-Z]/.test(e)}hasLowerCase(e){return/[a-z]/.test(e)}hasNotSpecialChar(e){return/[^a-zA-Z0-9]/.test(e)}getError(e){const n=new Array;if(e.errors&&e.errors)for(const i in e.errors)Object.prototype.hasOwnProperty.call(e.errors,i)&&n.push(e.errors[i].pipe((0,Ze.q)(1)));return n.length>0?(0,ke.D)(n).pipe((0,Ke.K)(()=>[])):(0,oe.of)([])}}return s.\u0275fac=function(e){return new(e||s)(y.LFG(De.Vn))},s.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac}),s})(),Hh=(()=>{class s extends wu{set newPassWordValidator(e){e&&this._newPassWordControl.addValidators(e)}set checkNewPassWordValidator(e){e&&this._checkNewPasswordControl.addValidators(e)}get newPasswordLabelId(){return`${this.id}-label`}get newPasswordInputId(){return`${this.id}-input`}get newPasswordCheckLabelId(){return`${this.id}-check-label`}get newPasswordCheckInputId(){return`${this.id}-check-input`}get newPasswordTolltipContainerId(){return`${this.id}-tooltip-container`}get newPasswordCheckTolltipContainerId(){return`${this.id}-check-tooltip-container`}constructor(e,n){super(),this.newPasswordRules=e,this.changeDetection=n,this.class="ing-full-height  ing-forms-error-disable-background-color",this._newPassWordControl=new O.NI(null,{updateOn:"change",validators:[this.newPasswordRules.requiredValidator(),this.newPasswordRules.minLengthValidator(8),this.newPasswordRules.maxLengthValidator(30),this.newPasswordRules.numberValidator(),this.newPasswordRules.upperCaseValidator(),this.newPasswordRules.lowerCaseValidator(),this.newPasswordRules.specialCharValidator()]}),this._checkNewPasswordControl=new O.NI(null,{updateOn:"change",validators:[this.newPasswordRules.requiredValidator(),this.newPasswordRules.checkCrossFieldEqualityValidator(this._newPassWordControl)]}),this.isRoot=!1,this.componentName="ChangePasswordComponent",this.disablePerformanceTrace(),this._nestedFormGroup=new O.cw({userNewPassword:this._newPassWordControl,userConfirmNewPassword:this._checkNewPasswordControl},{updateOn:"blur",validators:[this.newPasswordRules.allControlsAreRequiredValidator()]})}ngOnInit(){super.ngOnInit(),this._newPassWordControl.valueChanges.pipe((0,be.R)(this.subscription$)).subscribe(()=>{this._checkNewPasswordControl.updateValueAndValidity()}),this._nestedFormGroup.statusChanges.pipe((0,be.R)(this.subscription$)).subscribe(()=>this.changeDetection.markForCheck())}validate(e){let n={default:!0};return this._nestedFormGroup&&!this._nestedFormGroup.valid&&(n={...n,...this._nestedFormGroup.errors}),e&&this._nestedFormGroup&&e.valid&&this._nestedFormGroup.valid?null:n}getNewPasswordErrors(){return this.newPasswordRules.getError(this._newPassWordControl)}getNewPasswordCheckErrors(){return this.newPasswordRules.getError(this._checkNewPasswordControl)}}return s.\u0275fac=function(e){return new(e||s)(y.Y36(Zc),y.Y36(y.sBO))},s.\u0275cmp=y.Xpm({type:s,selectors:[["ing-new-password"]],hostAttrs:[1,"ing-nested-field"],hostVars:2,hostBindings:function(e,n){2&e&&y.Tol(n.class)},inputs:{newPassWordValidator:"newPassWordValidator",checkNewPassWordValidator:"checkNewPassWordValidator",id:"id"},standalone:!0,features:[y._Bn([{provide:O.JU,useExisting:(0,y.Gpc)(()=>s),multi:!0},{provide:O.Cf,useExisting:(0,y.Gpc)(()=>s),multi:!0},Zc]),y.qOj,y.jDz],decls:3,vars:1,consts:[[3,"formGroup",4,"transloco","translocoRead"],["tooltip",""],[3,"formGroup"],[1,"ing-new-password-label",3,"id","for"],[1,"_ing-input-with-tooltip",3,"id"],["type","password","formControlName","userNewPassword","aria-describedby","password-rules","autocomplete","new-password",1,"ing-new-password-input",3,"id"],["changePasswordd",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["type","password","formControlName","userConfirmNewPassword","aria-describedby","check-password-rules","autocomplete","new-password",1,"ing-new-password-input",3,"id"],["id","password-rules","role","tooltip",4,"ngIf"],["id","password-rules","role","tooltip"],[4,"ngFor","ngForOf"]],template:function(e,n){1&e&&(y.YNc(0,Zg,14,23,"ng-container",0),y.YNc(1,mp,1,1,"ng-template",null,1,y.W1O)),2&e&&y.Q6J("translocoRead","ingUI")},dependencies:[O.UX,O.Fj,O.JJ,O.JL,O.sg,O.u,Q.tP,Q.Ov,Q.O5,Q.ax,et.wJ,De.y4,De.KI],styles:['@charset "UTF-8";label[_ngcontent-%COMP%]{display:inline-flex;font-family:Roboto,Arial,Helvetica,sans-serif;font-size:1rem;font-weight:400;vertical-align:middle;background-color:transparent;color:#000;margin-left:.25rem;margin-right:.25rem;cursor:pointer}label.ing-disabled[_ngcontent-%COMP%]{color:gray}input[_ngcontent-%COMP%], input[type=text][_ngcontent-%COMP%]{font-family:Roboto,Arial,Helvetica,sans-serif;display:inline-flex;margin:0;background:#ffffff;padding-left:.5rem;padding-right:.5rem;border-color:#ccc;color:#000;border:1px solid #ccc;font-size:1rem;height:2rem;vertical-align:middle;box-sizing:border-box}input[_ngcontent-%COMP%]::placeholder, input[type=text][_ngcontent-%COMP%]::placeholder{-webkit-text-fill-color:#b2b2b2;opacity:1;color:#b2b2b2}input[_ngcontent-%COMP%]:read-only, input[type=text][_ngcontent-%COMP%]:read-only{-webkit-text-fill-color:#000;opacity:1;color:#000;background:#ececec}input[_ngcontent-%COMP%]:disabled, input[type=text][_ngcontent-%COMP%]:disabled{-webkit-text-fill-color:#808080;opacity:1;color:gray;background:#ececec}input[_ngcontent-%COMP%]::selection, input[type=text][_ngcontent-%COMP%]::selection{background:#387ef4;-webkit-text-fill-color:#ffffff;opacity:1;color:#fff}input[_ngcontent-%COMP%]:focus, input[type=text][_ngcontent-%COMP%]:focus{outline-style:none;border-color:#387ef4}.item-align-auto[_ngcontent-%COMP%]{align-self:auto}.item-align-start[_ngcontent-%COMP%]{align-self:start}.item-align-end[_ngcontent-%COMP%]{align-self:end}.item-align-center[_ngcontent-%COMP%]{align-self:center}.item-align-stretch[_ngcontent-%COMP%]{align-self:stretch}.item-justify-auto[_ngcontent-%COMP%]{justify-self:auto}.item-justify-start[_ngcontent-%COMP%]{justify-self:start}.item-justify-end[_ngcontent-%COMP%]{justify-self:end}.item-justify-center[_ngcontent-%COMP%]{justify-self:center}.item-justify-stretch[_ngcontent-%COMP%]{justify-self:stretch}.ing-grid-auto[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(10rem,1fr));grid-gap:1rem}@supports (display: grid){.ing-grid-container[_ngcontent-%COMP%]{flex:1 0 auto;flex-direction:column;display:grid;padding:.5rem 1rem;grid-template-columns:1fr 2fr;column-gap:.5rem;row-gap:1.5rem;align-items:center;justify-items:center;place-content:stretch stretch}.ing-grid-container[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(n){margin:0}.ing-grid-container[_ngcontent-%COMP%]   .ing-item-col-1[_ngcontent-%COMP%], .ing-grid-container[_ngcontent-%COMP%]   .ing-item-label[_ngcontent-%COMP%]{grid-column:1}.ing-grid-container[_ngcontent-%COMP%]   .ing-item-col-2[_ngcontent-%COMP%], .ing-grid-container[_ngcontent-%COMP%]   .ing-item-input[_ngcontent-%COMP%]{grid-column:2}.ing-grid-container[_ngcontent-%COMP%]   .ing-item-width-100[_ngcontent-%COMP%]{grid-column:1/span 2}}.ing-item-label[_ngcontent-%COMP%]{justify-self:end;cursor:pointer}.ing-item-input[_ngcontent-%COMP%]{justify-self:stretch}.ing-item-width-100[_ngcontent-%COMP%]{justify-self:start}form[_ngcontent-%COMP%], fieldset[_ngcontent-%COMP%]{border:0}form[_ngcontent-%COMP%]   .ng-dirty.ng-touched.ng-invalid[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   .ng-pristine.ng-touched.ng-invalid[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   .ng-dirty.ng-untouched.ng-invalid[_ngcontent-%COMP%], form.ng-submitted[_ngcontent-%COMP%]   .ng-pristine.ng-untouched.ng-invalid[_ngcontent-%COMP%], form.ng-submitted[_ngcontent-%COMP%]   .ng-invalid[_ngcontent-%COMP%]{border-color:#c1272d;background-color:#f9e9ea}form[_ngcontent-%COMP%]   .ng-dirty.ng-touched.ng-invalid[_ngcontent-%COMP%]:focus, form[_ngcontent-%COMP%]   .ng-pristine.ng-touched.ng-invalid[_ngcontent-%COMP%]:focus, form[_ngcontent-%COMP%]   .ng-dirty.ng-untouched.ng-invalid[_ngcontent-%COMP%]:focus, form.ng-submitted[_ngcontent-%COMP%]   .ng-pristine.ng-untouched.ng-invalid[_ngcontent-%COMP%]:focus, form.ng-submitted[_ngcontent-%COMP%]   .ng-invalid[_ngcontent-%COMP%]:focus{border-color:#c1272d}form[_ngcontent-%COMP%]   .ng-dirty.ng-touched.ng-invalid.ing-forms-error-disable-background-color[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   .ng-pristine.ng-touched.ng-invalid.ing-forms-error-disable-background-color[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   .ng-dirty.ng-untouched.ng-invalid.ing-forms-error-disable-background-color[_ngcontent-%COMP%], form.ng-submitted[_ngcontent-%COMP%]   .ng-pristine.ng-untouched.ng-invalid.ing-forms-error-disable-background-color[_ngcontent-%COMP%], form.ng-submitted[_ngcontent-%COMP%]   .ng-invalid.ing-forms-error-disable-background-color[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   .ng-dirty.ng-touched.ng-invalid.wj-control.wj-content[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   .ng-pristine.ng-touched.ng-invalid.wj-control.wj-content[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   .ng-dirty.ng-untouched.ng-invalid.wj-control.wj-content[_ngcontent-%COMP%], form.ng-submitted[_ngcontent-%COMP%]   .ng-pristine.ng-untouched.ng-invalid.wj-control.wj-content[_ngcontent-%COMP%], form.ng-submitted[_ngcontent-%COMP%]   .ng-invalid.wj-control.wj-content[_ngcontent-%COMP%]{background-color:inherit}form[_ngcontent-%COMP%]   .ng-dirty.ng-touched.ng-invalid.wj-control.wj-content[_ngcontent-%COMP%] > .wj-template[_ngcontent-%COMP%] > .wj-input[_ngcontent-%COMP%] > .wj-input-group[_ngcontent-%COMP%] > input[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   .ng-pristine.ng-touched.ng-invalid.wj-control.wj-content[_ngcontent-%COMP%] > .wj-template[_ngcontent-%COMP%] > .wj-input[_ngcontent-%COMP%] > .wj-input-group[_ngcontent-%COMP%] > input[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   .ng-dirty.ng-untouched.ng-invalid.wj-control.wj-content[_ngcontent-%COMP%] > .wj-template[_ngcontent-%COMP%] > .wj-input[_ngcontent-%COMP%] > .wj-input-group[_ngcontent-%COMP%] > input[_ngcontent-%COMP%], form.ng-submitted[_ngcontent-%COMP%]   .ng-pristine.ng-untouched.ng-invalid.wj-control.wj-content[_ngcontent-%COMP%] > .wj-template[_ngcontent-%COMP%] > .wj-input[_ngcontent-%COMP%] > .wj-input-group[_ngcontent-%COMP%] > input[_ngcontent-%COMP%], form.ng-submitted[_ngcontent-%COMP%]   .ng-invalid.wj-control.wj-content[_ngcontent-%COMP%] > .wj-template[_ngcontent-%COMP%] > .wj-input[_ngcontent-%COMP%] > .wj-input-group[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{border-color:#c1272d;background-color:#f9e9ea;border-width:1px;border-style:solid}form[_ngcontent-%COMP%]   .ng-dirty.ng-touched.ng-invalid.wj-control.wj-content[_ngcontent-%COMP%] > .wj-template[_ngcontent-%COMP%] > .wj-input[_ngcontent-%COMP%] > .wj-input-group[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]:focus, form[_ngcontent-%COMP%]   .ng-pristine.ng-touched.ng-invalid.wj-control.wj-content[_ngcontent-%COMP%] > .wj-template[_ngcontent-%COMP%] > .wj-input[_ngcontent-%COMP%] > .wj-input-group[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]:focus, form[_ngcontent-%COMP%]   .ng-dirty.ng-untouched.ng-invalid.wj-control.wj-content[_ngcontent-%COMP%] > .wj-template[_ngcontent-%COMP%] > .wj-input[_ngcontent-%COMP%] > .wj-input-group[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]:focus, form.ng-submitted[_ngcontent-%COMP%]   .ng-pristine.ng-untouched.ng-invalid.wj-control.wj-content[_ngcontent-%COMP%] > .wj-template[_ngcontent-%COMP%] > .wj-input[_ngcontent-%COMP%] > .wj-input-group[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]:focus, form.ng-submitted[_ngcontent-%COMP%]   .ng-invalid.wj-control.wj-content[_ngcontent-%COMP%] > .wj-template[_ngcontent-%COMP%] > .wj-input[_ngcontent-%COMP%] > .wj-input-group[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]:focus{border-color:#c1272d}form[_ngcontent-%COMP%]   .ing-input-error-message[_ngcontent-%COMP%]{color:#c1272d;font-size:.75rem}._ing-input-with-tooltip[_ngcontent-%COMP%]{position:relative;display:block;flex-direction:column;width:100%;margin:0 0 .5rem}._ing-input-with-tooltip[_ngcontent-%COMP%]   input[type][_ngcontent-%COMP%]{width:100%}._ing-input-with-tooltip[_ngcontent-%COMP%]   [role=tooltip][_ngcontent-%COMP%], ._ing-input-with-tooltip[_ngcontent-%COMP%]   .hidetooltip[_ngcontent-%COMP%] + [role=tooltip][_ngcontent-%COMP%]{visibility:hidden;position:absolute;border:1px solid #c1272d;background-color:#c1272d;color:#fff;z-index:530;opacity:1;margin:0;padding:.25rem .5rem;width:100%}._ing-input-with-tooltip[_ngcontent-%COMP%]   [role=tooltip][_ngcontent-%COMP%] > ul[_ngcontent-%COMP%], ._ing-input-with-tooltip[_ngcontent-%COMP%]   [role=tooltip][_ngcontent-%COMP%]   li[_ngcontent-%COMP%], ._ing-input-with-tooltip[_ngcontent-%COMP%]   .hidetooltip[_ngcontent-%COMP%] + [role=tooltip][_ngcontent-%COMP%] > ul[_ngcontent-%COMP%], ._ing-input-with-tooltip[_ngcontent-%COMP%]   .hidetooltip[_ngcontent-%COMP%] + [role=tooltip][_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0}._ing-input-with-tooltip[_ngcontent-%COMP%]   [aria-describedby][_ngcontent-%COMP%]:hover, ._ing-input-with-tooltip[_ngcontent-%COMP%]   [aria-describedby][_ngcontent-%COMP%]:focus{position:relative}._ing-input-with-tooltip[_ngcontent-%COMP%]   [aria-describedby][_ngcontent-%COMP%]:hover + [role=tooltip][_ngcontent-%COMP%], ._ing-input-with-tooltip[_ngcontent-%COMP%]   [aria-describedby][_ngcontent-%COMP%]:focus + [role=tooltip][_ngcontent-%COMP%]{visibility:visible}.ing-new-password-form[_ngcontent-%COMP%]   .ng-dirty.ng-touched.ng-invalid[_ngcontent-%COMP%], .ing-new-password-form[_ngcontent-%COMP%]   .ng-pristine.ng-touched.ng-invalid[_ngcontent-%COMP%], .ing-new-password-form[_ngcontent-%COMP%]   .ng-dirty.ng-untouched.ng-invalid[_ngcontent-%COMP%], .ing-new-password-form.ng-submitted[_ngcontent-%COMP%]   .ng-pristine.ng-untouched.ng-invalid[_ngcontent-%COMP%], .ing-new-password-form.ng-submitted[_ngcontent-%COMP%]   .ng-invalid[_ngcontent-%COMP%], .ing-nested-field[_ngcontent-%COMP%]   .ng-dirty.ng-touched.ng-invalid[_ngcontent-%COMP%], .ing-nested-field[_ngcontent-%COMP%]   .ng-pristine.ng-touched.ng-invalid[_ngcontent-%COMP%], .ing-nested-field[_ngcontent-%COMP%]   .ng-dirty.ng-untouched.ng-invalid[_ngcontent-%COMP%], .ing-nested-field.ng-submitted[_ngcontent-%COMP%]   .ng-pristine.ng-untouched.ng-invalid[_ngcontent-%COMP%], .ing-nested-field.ng-submitted[_ngcontent-%COMP%]   .ng-invalid[_ngcontent-%COMP%]{border-color:#c1272d;background:linear-gradient(225deg,#c1272d .25rem,#ffffff .25rem)}.ing-new-password-form[_ngcontent-%COMP%]   .ng-dirty.ng-touched.ng-invalid[_ngcontent-%COMP%]:focus, .ing-new-password-form[_ngcontent-%COMP%]   .ng-pristine.ng-touched.ng-invalid[_ngcontent-%COMP%]:focus, .ing-new-password-form[_ngcontent-%COMP%]   .ng-dirty.ng-untouched.ng-invalid[_ngcontent-%COMP%]:focus, .ing-new-password-form.ng-submitted[_ngcontent-%COMP%]   .ng-pristine.ng-untouched.ng-invalid[_ngcontent-%COMP%]:focus, .ing-new-password-form.ng-submitted[_ngcontent-%COMP%]   .ng-invalid[_ngcontent-%COMP%]:focus, .ing-nested-field[_ngcontent-%COMP%]   .ng-dirty.ng-touched.ng-invalid[_ngcontent-%COMP%]:focus, .ing-nested-field[_ngcontent-%COMP%]   .ng-pristine.ng-touched.ng-invalid[_ngcontent-%COMP%]:focus, .ing-nested-field[_ngcontent-%COMP%]   .ng-dirty.ng-untouched.ng-invalid[_ngcontent-%COMP%]:focus, .ing-nested-field.ng-submitted[_ngcontent-%COMP%]   .ng-pristine.ng-untouched.ng-invalid[_ngcontent-%COMP%]:focus, .ing-nested-field.ng-submitted[_ngcontent-%COMP%]   .ng-invalid[_ngcontent-%COMP%]:focus{border-color:#c1272d}.ing-new-password-form[_ngcontent-%COMP%]   .ng-dirty.ng-touched.ng-invalid.ing-forms-error-disable-background-color[_ngcontent-%COMP%], .ing-new-password-form[_ngcontent-%COMP%]   .ng-pristine.ng-touched.ng-invalid.ing-forms-error-disable-background-color[_ngcontent-%COMP%], .ing-new-password-form[_ngcontent-%COMP%]   .ng-dirty.ng-untouched.ng-invalid.ing-forms-error-disable-background-color[_ngcontent-%COMP%], .ing-new-password-form.ng-submitted[_ngcontent-%COMP%]   .ng-pristine.ng-untouched.ng-invalid.ing-forms-error-disable-background-color[_ngcontent-%COMP%], .ing-new-password-form.ng-submitted[_ngcontent-%COMP%]   .ng-invalid.ing-forms-error-disable-background-color[_ngcontent-%COMP%], .ing-nested-field[_ngcontent-%COMP%]   .ng-dirty.ng-touched.ng-invalid.ing-forms-error-disable-background-color[_ngcontent-%COMP%], .ing-nested-field[_ngcontent-%COMP%]   .ng-pristine.ng-touched.ng-invalid.ing-forms-error-disable-background-color[_ngcontent-%COMP%], .ing-nested-field[_ngcontent-%COMP%]   .ng-dirty.ng-untouched.ng-invalid.ing-forms-error-disable-background-color[_ngcontent-%COMP%], .ing-nested-field.ng-submitted[_ngcontent-%COMP%]   .ng-pristine.ng-untouched.ng-invalid.ing-forms-error-disable-background-color[_ngcontent-%COMP%], .ing-nested-field.ng-submitted[_ngcontent-%COMP%]   .ng-invalid.ing-forms-error-disable-background-color[_ngcontent-%COMP%]{background:inherit}[_nghost-%COMP%]{display:flex;flex-direction:column}label.ing-new-password-label[_ngcontent-%COMP%]{margin:0;width:100%;line-height:inherit;text-align:start}input.ing-new-password-input[_ngcontent-%COMP%]{margin:0;width:100%;line-height:2rem}'],changeDetection:0}),(0,_o.gn)([(0,$.aH)()],s.prototype,"id",void 0),s})(),Ep=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=y.oAB({type:s}),s.\u0275inj=y.cJS({providers:[{provide:De.Hn,useValue:"ingUI",multi:!0}],imports:[Hh]}),s})();class zh{constructor(t){this.userNewPassword=t.userNewPassword,this.userConfirmNewPassword=t.userConfirmNewPassword}}const ge=new y.OlP("TRACE_SERVICE_TOKEN_UI");let Ye=(()=>{class s extends $.KX{execute(e,n,i){const r=i.wijmoCulture;r?(u._updateCulture(r),u.Control.invalidateAll()):n.error(new Error(`Wijmo's culture for ${e} is not available.`))}}return s.\u0275fac=function(){let t;return function(n){return(t||(t=y.n5z(s)))(n||s)}}(),s.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const wt={provide:y.ip1,useFactory:(s,t)=>()=>{s.register(t)},multi:!0,deps:[$.OB,Ye]};let Xt=(()=>{class s{constructor(){u.setLicenseKey("Isagri,926347899612627#B0ILc4TP7dFapZnRIREMzdzaBNmZBFVQ9NGOwQ6U84UNJJmWUN6aMZFZzIjahNlc4dVd7BnN4EFMsJDVZRWQvonNwYnUqpmW4YHO5c7Z8J5TMxUcrUFWvNGbKJWa5MEOEp5cjBHZrFHNWd5ZwEEZI9UVJNFWnJTarUXOiFXSRFDRvUHe8o5VrgndtRFUxBjMhNkYKxGRMlnVQFUZ6VETLFVTYNTWtZWawxUZB5WYOVlejd6SkdFdsl4RRhHOE9WT4okUBVzM6pVcypHVq9mdhJlRVtERuZzVptWeDdXQzVFc7czSi9UT7c5VIRkbUh5QWZHbt54ZqtkazQUbQNkcDZEdNlVTyNDU094VQZXZipnWRVkRjFGM5w6YXlXNzYmT5IDTnVTMVNGW6QTalh7Rr84bvsGV64UT6glZ7FDZlREZMh4QUhTbzYXWxJ4cTVmMxdmWKFVMjZWSQl5RiojITJCLiUENzYjM4IDNiojIIJCL9MTM5QTMxATO0IicfJye35XX3JSSwIjUiojIDJCLi86bpNnblRHeFBCI4VWZoNFelxmRg2Wbql6ViojIOJyes4nI5kkTRJiOiMkIsIibvl6cuVGd8VEIgIXZ7VWaWRncvBXZSBybtpWaXJiOi8kI1xSfis4N8gkI0IyQiwiIu3Waz9WZ4hXRgAydvJVa4xWdNBybtpWaXJiOi8kI1xSfiQjR6QkI0IyQiwiIu3Waz9WZ4hXRgACUBx4TgAybtpWaXJiOi8kI1xSfiMzQwIkI0IyQiwiIlJ7bDBybtpWaXJiOi8kI1xSfiUFO7EkI0IyQiwiIu3Waz9WZ4hXRgACdyFGaDxWYpNmbh9WaGBybtpWaXJiOi8kI1tlOiQmcQJCLiYjM9ITNwAiMxQDMzIDMyIiOiQncDJCLikmcnF6cJJiOiEmTDJCLicjM6ITM6kTO8cDNzYjM9IiOiQWSiwSfdtlOicGbmJCLiIjdyIDMyIiOiIXZ6JCLlNHbhZmOiI7ckJye0ICbuFkI1peIJJ")}static forRoot(){return{ngModule:s,providers:[(0,$.de)("ui",$.in.verbose,ge),(0,$.kc)((0,$.Qy)($.E$.featuresCommand,[wt]))]}}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=y.oAB({type:s}),s.\u0275inj=y.cJS({}),s})(),Mo=(()=>{class s extends $.KX{constructor(e){super(),this.dateAdapter=e}execute(e,n,i){this.dateAdapter.setLocale(e)}}return s.\u0275fac=function(e){return new(e||s)(y.LFG(lp._A))},s.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Ha={provide:y.ip1,useFactory:(s,t)=>()=>{s.register(t)},multi:!0,deps:[$.OB,Mo]};let pl=(()=>{class s{static forRoot(){return{ngModule:s,providers:[(0,$.kc)((0,$.Qy)($.E$.featuresCommand,[Ha]))]}}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=y.oAB({type:s}),s.\u0275inj=y.cJS({}),s})()},5218:(cn,Ve,G)=>{"use strict";G.d(Ve,{WO:()=>g,hX:()=>Ke,$2:()=>Le});var h=G(4650),C=G(6895),V=G(727),ee=G(4968),pe=G(6451),ue=G(9300),ve=G(4986),re=G(4482),le=G(5403),U=G(8421),O=G(5963);class Q{constructor(b,Z){this.source=b,b.initialize&&b.initialize(Z)}subscribe(b){this.sub=this.source.onInterrupt.subscribe(b)}unsubscribe(){this.sub.unsubscribe(),this.sub=null}resume(){this.source.attach()}pause(){this.source.detach()}}class oe{constructor(){this.idValue=new Date,this.idlingValue=!1}id(b){if(void 0!==b){if(!b)throw new Error("A value must be specified for the ID.");this.idValue=b}return this.idValue}idling(b){return void 0!==b&&(this.idlingValue=b),this.idlingValue}now(){return new Date}isExpired(){const b=this.last();return null!=b&&b<=this.now()}}class Ce{constructor(){this.storageMap={}}get length(){return Object.keys(this.storageMap).length}clear(){this.storageMap={}}getItem(b){return typeof this.storageMap[b]<"u"?this.storageMap[b]:null}key(b){return Object.keys(this.storageMap)[b]||null}removeItem(b){this.storageMap[b]=void 0}setItem(b,Z){this.storageMap[b]=Z}}let xe=(()=>{class F{constructor(){this.storage=this.getStorage()}getStorage(){try{const Z=localStorage;return Z.setItem("ng2IdleStorage",""),Z.removeItem("ng2IdleStorage"),Z}catch{return new Ce}}getItem(Z){return this.storage.getItem("ng2Idle."+Z)}removeItem(Z){this.storage.removeItem("ng2Idle."+Z)}setItem(Z,W){this.storage.setItem("ng2Idle."+Z,W)}_wrapped(){return this.storage}}return F.\u0275fac=function(Z){return new(Z||F)},F.\u0275prov=h.Yz7({token:F,factory:F.\u0275fac}),F})(),be=(()=>{class F extends oe{constructor(Z){super(),this.localStorage=Z,this.idleName="main"}last(Z){return void 0!==Z&&this.setExpiry(Z),this.getExpiry()}idling(Z){return void 0!==Z&&this.setIdling(Z),this.getIdling()}getIdleName(){return this.idleName}setIdleName(Z){Z&&(this.idleName=Z)}getExpiry(){const Z=this.localStorage.getItem(this.idleName+".expiry");return Z?new Date(parseInt(Z,10)):null}setExpiry(Z){Z?this.localStorage.setItem(this.idleName+".expiry",Z.getTime().toString()):this.localStorage.removeItem(this.idleName+".expiry")}getIdling(){const Z=this.localStorage.getItem(this.idleName+".idling");return!!Z&&"true"===Z}setIdling(Z){this.localStorage.setItem(this.idleName+".idling",Z?Z.toString():"false")}}return F.\u0275fac=function(Z){return new(Z||F)(h.LFG(xe))},F.\u0275prov=h.Yz7({token:F,factory:F.\u0275fac}),F})();class ke{}var Ze=(()=>{return(F=Ze||(Ze={}))[F.disabled=0]="disabled",F[F.idle=1]="idle",F[F.notIdle=2]="notIdle",Ze;var F})();let Ke=(()=>{class F{constructor(Z,W,X,de){this.expiry=Z,this.zone=W,this.platformId=de,this.idle=1200,this.timeoutVal=30,this.autoResume=Ze.idle,this.interrupts=new Array,this.running=!1,this.keepaliveEnabled=!1,this.onIdleStart=new h.vpe,this.onIdleEnd=new h.vpe,this.onTimeoutWarning=new h.vpe,this.onTimeout=new h.vpe,this.onInterrupt=new h.vpe,X&&(this.keepaliveSvc=X,this.keepaliveEnabled=!0),this.setIdling(!1)}setIdleName(Z){if(!(this.expiry instanceof be))throw new Error("Cannot set expiry key name because no LocalStorageExpiry has been provided.");this.expiry.setIdleName(Z)}getKeepaliveEnabled(){return this.keepaliveEnabled}setKeepaliveEnabled(Z){if(!this.keepaliveSvc)throw new Error("Cannot enable keepalive integration because no KeepaliveSvc has been provided.");return this.keepaliveEnabled=Z}getTimeout(){return this.timeoutVal}setTimeout(Z){if(!1===Z)this.timeoutVal=0;else{if(!("number"==typeof Z&&Z>=0))throw new Error("'seconds' can only be 'false' or a positive number.");this.timeoutVal=Z}return this.timeoutVal}getIdle(){return this.idle}setIdle(Z){if(Z<=0)throw new Error("'seconds' must be greater zero");return this.idle=Z}getAutoResume(){return this.autoResume}setAutoResume(Z){return this.autoResume=Z}setInterrupts(Z){this.clearInterrupts();const W=this;for(const X of Z){const me=new Q(X,{platformId:this.platformId});me.subscribe(ft=>{W.interrupt(ft.force,ft.innerArgs)}),this.interrupts.push(me)}return this.interrupts}getInterrupts(){return this.interrupts}clearInterrupts(){for(const Z of this.interrupts)Z.pause(),Z.unsubscribe();this.interrupts.length=0}isRunning(){return this.running}isIdling(){return this.idling}watch(Z){this.safeClearInterval("idleHandle"),this.safeClearInterval("timeoutHandle");const W=this.timeoutVal?this.timeoutVal:0;if(!Z){const de=new Date(this.expiry.now().getTime()+1e3*(this.idle+W));this.expiry.last(de)}this.idling&&this.toggleState(),this.running||(this.startKeepalive(),this.toggleInterrupts(!0)),this.running=!0;const X=()=>{this.zone.run(()=>{const de=this.getExpiryDiff(W);de>0?(this.safeClearInterval("idleHandle"),this.setIdleIntervalOutsideOfZone(X,de)):this.toggleState()})};this.setIdleIntervalOutsideOfZone(X,1e3*this.idle)}setIdleIntervalOutsideOfZone(Z,W){this.zone.runOutsideAngular(()=>{this.idleHandle=setInterval(Z,W)})}stop(){this.stopKeepalive(),this.toggleInterrupts(!1),this.safeClearInterval("idleHandle"),this.safeClearInterval("timeoutHandle"),this.setIdling(!1),this.running=!1,this.expiry.last(null)}timeout(){this.stopKeepalive(),this.toggleInterrupts(!1),this.safeClearInterval("idleHandle"),this.safeClearInterval("timeoutHandle"),this.setIdling(!0),this.running=!1,this.countdown=0,this.onTimeout.emit(null)}interrupt(Z,W){if(this.running){if(this.timeoutVal&&this.expiry.isExpired())return void this.timeout();this.onInterrupt.emit(W),(!0===Z||this.autoResume===Ze.idle||this.autoResume===Ze.notIdle&&!this.expiry.idling())&&this.watch(Z)}}setIdling(Z){this.idling=Z,this.expiry.idling(Z)}toggleState(){this.setIdling(!this.idling),this.idling?(this.onIdleStart.emit(null),this.stopKeepalive(),this.timeoutVal>0&&(this.countdown=this.timeoutVal,this.doCountdown(),this.setTimoutIntervalOutsideZone(()=>{this.doCountdownInZone()},1e3))):(this.toggleInterrupts(!0),this.onIdleEnd.emit(null),this.startKeepalive()),this.safeClearInterval("idleHandle")}setTimoutIntervalOutsideZone(Z,W){this.zone.runOutsideAngular(()=>{this.timeoutHandle=setInterval(()=>{Z()},W)})}toggleInterrupts(Z){for(const W of this.interrupts)Z?W.resume():W.pause()}getExpiryDiff(Z){const W=this.expiry.now();return(this.expiry.last()||W).getTime()-W.getTime()-1e3*Z}doCountdownInZone(){this.zone.run(()=>{this.doCountdown()})}doCountdown(){if(this.getExpiryDiff(this.timeoutVal)>0)return this.safeClearInterval("timeoutHandle"),void this.interrupt(!0);if(this.idling){if(this.countdown<=0)return void this.timeout();this.onTimeoutWarning.emit(this.countdown),this.countdown--}}safeClearInterval(Z){const W=this[Z];null!==W&&typeof W<"u"&&(clearInterval(this[Z]),this[Z]=null)}startKeepalive(){!this.keepaliveSvc||!this.keepaliveEnabled||(this.running&&this.keepaliveSvc.ping(),this.keepaliveSvc.start())}stopKeepalive(){!this.keepaliveSvc||!this.keepaliveEnabled||this.keepaliveSvc.stop()}ngOnDestroy(){this.stop(),this.clearInterrupts()}}return F.\u0275fac=function(Z){return new(Z||F)(h.LFG(oe),h.LFG(h.R0b),h.LFG(ke,8),h.LFG(h.Lbi,8))},F.\u0275prov=h.Yz7({token:F,factory:F.\u0275fac}),F})();class De{constructor(b,Z,W=!1){this.source=b,this.innerArgs=Z,this.force=W}}class et{constructor(b,Z){this.attachFn=b,this.detachFn=Z,this.isAttached=!1,this.onInterrupt=new h.vpe}attach(){!0!==Zone.current.get("isAngularZone")?(!this.isAttached&&this.attachFn&&this.attachFn(this),this.isAttached=!0):Zone.current.parent.run(()=>this.attach())}detach(){this.isAttached&&this.detachFn&&this.detachFn(this),this.isAttached=!1}}class u extends et{constructor(b,Z,W){super(null,null),this.target=b,this.events=Z,this.opts=W,this.eventSubscription=new V.w0,"number"==typeof this.opts&&(this.opts={throttleDelay:this.opts,passive:!1}),this.opts=this.opts||{passive:!1,throttleDelay:500},null==this.opts.throttleDelay&&(this.opts.throttleDelay=500),this.throttleDelay=this.opts.throttleDelay,this.passive=!!this.opts.passive}initialize(b){if(b?.platformId&&(0,C.PM)(b.platformId))return;const Z="function"==typeof this.target?this.target():this.target,W=this.passive?{passive:!0}:null,X=this.events.split(" ").map(me=>(0,ee.R)(Z,me,W));this.eventSrc=(0,pe.T)(...X),this.eventSrc=this.eventSrc.pipe((0,ue.h)(me=>!this.filterEvent(me))),this.throttleDelay>0&&(this.eventSrc=this.eventSrc.pipe(function $(F,b=ve.z,Z){const W=(0,O.H)(F,b);return function y(F,b){return(0,re.e)((Z,W)=>{const{leading:X=!0,trailing:de=!1}=b??{};let me=!1,ft=null,pt=null,Et=!1;const jt=()=>{pt?.unsubscribe(),pt=null,de&&(In(),Et&&W.complete())},xn=()=>{pt=null,Et&&W.complete()},En=Te=>pt=(0,U.Xf)(F(Te)).subscribe((0,le.x)(W,jt,xn)),In=()=>{if(me){me=!1;const Te=ft;ft=null,W.next(Te),!Et&&En(Te)}};Z.subscribe((0,le.x)(W,Te=>{me=!0,ft=Te,(!pt||pt.closed)&&(X?In():En(Te))},()=>{Et=!0,(!(de&&me&&pt)||pt.closed)&&W.complete()}))})}(()=>W,Z)}(this.throttleDelay)));const de=me=>this.onInterrupt.emit(new De(this,me));this.attachFn=()=>this.eventSubscription=this.eventSrc.subscribe(de),this.detachFn=()=>this.eventSubscription.unsubscribe()}filterEvent(b){return!1}get options(){return{passive:this.passive,throttleDelay:this.throttleDelay}}}class dt extends u{constructor(b,Z){super(()=>document.documentElement,b,Z)}filterEvent(b){return!("mousemove"!==b.type||!(b.originalEvent&&0===b.originalEvent.movementX&&0===b.originalEvent.movementY||void 0!==b.movementX&&!b.movementX)&&b.movementY)}}class we extends u{constructor(b,Z){super(()=>window,b,Z)}}class mt extends we{constructor(b=500){super("storage",b)}filterEvent(b){return!(b.key&&b.key.indexOf("ng2Idle.")>=0&&b.key.indexOf(".expiry")>=0)}}let Le=(()=>{class F{static forRoot(){return{ngModule:F,providers:[be,{provide:oe,useExisting:be},Ke]}}}return F.\u0275fac=function(Z){return new(Z||F)},F.\u0275mod=h.oAB({type:F}),F.\u0275inj=h.cJS({providers:[xe]}),F})();const g=function H(F){return[new dt("mousemove keydown DOMMouseScroll mousewheel mousedown touchstart touchmove scroll",F),new mt(F)]}()},5707:(cn,Ve,G)=>{"use strict";G.d(Ve,{hG:()=>xn,K0:()=>u,Hn:()=>pn,KI:()=>Xe,y4:()=>ei,Ot:()=>ln,Vn:()=>Fr,kK:()=>X,He:()=>me});var h=G(4650),C=G(9646),V=G(2076),ee=G(7579),pe=G(1135),ue=G(4128),ve=G(9841),re=G(515),le=G(5698),U=G(4004),y=G(4482),O=G(5403),$=G(4671),Q=G(5963),oe=G(8421),xe=G(8505),be=G(262),ke=G(4707),Ze=G(3099),De=G(3900),et=G(6100);class tt{constructor(Zt){this.translations=Zt}getTranslation(Zt){return(0,C.of)(this.translations.get(Zt)||{})}}const u=new h.OlP("TRANSLOCO_LOADER");function dt(Qe,Zt){return Qe&&(Object.prototype.hasOwnProperty.call(Qe,Zt)?Qe[Zt]:Zt.split(".").reduce((ht,sn)=>ht?.[sn],Qe))}function mt(Qe){return Qe?Array.isArray(Qe)?Qe.length:F(Qe)?Object.keys(Qe).length:Qe?Qe.length:0:0}function H(Qe){return"string"==typeof Qe}function F(Qe){return!!Qe&&"object"==typeof Qe&&!Array.isArray(Qe)}function Z(Qe){return Qe.replace(/(?:^\w|[A-Z]|\b\w)/g,(Zt,ht)=>0==ht?Zt.toLowerCase():Zt.toUpperCase()).replace(/\s+|_|-|\//g,"")}function X(Qe){return null==Qe}function de(Qe){return!1===X(Qe)}function me(Qe){return function g(Qe){return"number"==typeof Qe}(Qe)?Qe:H(Qe)&&!isNaN(Number(Qe)-parseFloat(Qe))?Number(Qe):null}function ft(Qe){return Qe&&"string"==typeof Qe.scope}function jt(Qe){return(0,et.flatten)(Qe,{safe:!0})}const xn=new h.OlP("TRANSLOCO_CONFIG",{providedIn:"root",factory:()=>({defaultLang:"en"})}),En={defaultLang:"en",reRenderOnLangChange:!1,prodMode:!1,failedRetries:2,availableLangs:[],missingHandler:{logMissingKey:!0,useFallbackTranslation:!1,allowEmpty:!1},flatten:{aot:!1},interpolation:["{{","}}"]},Te=new h.OlP("TRANSLOCO_TRANSPILER");let $t=(()=>{class Qe{constructor(ht){this.interpolationMatcher=function Lt(Qe){const[Zt,ht]=Qe&&Qe.interpolation?Qe.interpolation:En.interpolation;return new RegExp(`${Zt}(.*?)${ht}`,"g")}(ht)}transpile(ht,sn={},gn,Qn){return H(ht)?ht.replace(this.interpolationMatcher,(Zn,Vn)=>(Vn=Vn.trim(),de(sn[Vn])?sn[Vn]:de(gn[Vn])?this.transpile(gn[Vn],sn,gn,Qn):"")):(sn&&(F(ht)?ht=this.handleObject(ht,sn,gn,Qn):Array.isArray(ht)&&(ht=this.handleArray(ht,sn,gn,Qn))),ht)}handleObject(ht,sn={},gn,Qn){let Zn=ht;return Object.keys(sn).forEach(Vn=>{const Pi=dt(Zn,Vn),Ui=dt(sn,Vn),Ii=this.transpile(Pi,Ui,gn,Qn);Zn=function we(Qe,Zt,ht){Qe={...Qe};const sn=Zt.split("."),gn=sn.length-1;return sn.reduce((Qn,Zn,Vn)=>(Qn[Zn]=Vn===gn?ht:Array.isArray(Qn[Zn])?Qn[Zn].slice():{...Qn[Zn]},Qn&&Qn[Zn]),Qe),Qe}(Zn,Vn,Ii)}),Zn}handleArray(ht,sn={},gn,Qn){return ht.map(Zn=>this.transpile(Zn,sn,gn,Qn))}}return Qe.\u0275fac=function(ht){return new(ht||Qe)(h.LFG(xn,8))},Qe.\u0275prov=h.Yz7({token:Qe,factory:Qe.\u0275fac}),Qe})();const Ut=new h.OlP("TRANSLOCO_MISSING_HANDLER");let fn=(()=>{class Qe{handle(ht,sn){return sn.missingHandler.logMissingKey&&!sn.prodMode&&console.warn(`%c Missing translation for '${ht}'`,"font-size: 12px; color: red"),ht}}return Qe.\u0275fac=function(ht){return new(ht||Qe)},Qe.\u0275prov=h.Yz7({token:Qe,factory:Qe.\u0275fac}),Qe})();const un=new h.OlP("TRANSLOCO_INTERCEPTOR");let Ft=(()=>{class Qe{preSaveTranslation(ht){return ht}preSaveTranslationKey(ht,sn){return sn}}return Qe.\u0275fac=function(ht){return new(ht||Qe)},Qe.\u0275prov=h.Yz7({token:Qe,factory:Qe.\u0275fac}),Qe})();const Pn=new h.OlP("TRANSLOCO_FALLBACK_STRATEGY");let Kn,yn=(()=>{class Qe{constructor(ht){this.userConfig=ht}getNextLangs(){const ht=this.userConfig.fallbackLang;if(!ht)throw new Error("When using the default fallback, a fallback language must be provided in the config!");return Array.isArray(ht)?ht:[ht]}}return Qe.\u0275fac=function(ht){return new(ht||Qe)(h.LFG(xn))},Qe.\u0275prov=h.Yz7({token:Qe,factory:Qe.\u0275fac}),Qe})();function On(Qe){if(!Qe)return"";const Zt=Qe.split("/");return Zt.pop(),Zt.join("/")}function Ti(Qe){return Qe?Qe.split("/").pop():""}function It(Qe,Zt,ht="|"){if(H(Qe)){const sn=Qe.split(ht),gn=sn.pop();return gn===Zt?[!0,sn.toString()]:[!1,gn]}return[!1,""]}function Ue(Qe,Zt){const[ht]=It(Zt,"static");return!ht&&!!Qe.config.reRenderOnLangChange}function Ht(Qe){return Qe?Zt=>Zt:(0,le.q)(1)}function Pt(Qe,Zt){return function pt(Qe){return Qe&&F(Qe.loader)}(Qe)?function Ge(Qe,Zt){return Object.keys(Qe).reduce((ht,sn)=>(ht[`${Zt}/${sn}`]=Qe[sn],ht),{})}(Qe.loader,Zt):void 0}function Yt(Qe){return{scope:On(Qe)||null,langName:Ti(Qe)}}function ut(Qe){const{path:Zt,inlineLoader:ht,mainLoader:sn,data:gn}=Qe;if(ht){if(!1===function Le(Qe){return"function"==typeof Qe}(ht[Zt]))throw`You're using an inline loader but didn't provide a loader for ${Zt}`;return ht[Zt]().then(Zn=>Zn.default?Zn.default:Zn)}return sn.getTranslation(Zt,gn)}let Fr=(()=>{class Qe{constructor(ht,sn,gn,Qn,Zn,Vn){this.loader=ht,this.parser=sn,this.missingHandler=gn,this.interceptor=Qn,this.userConfig=Zn,this.fallbackStrategy=Vn,this.subscription=null,this.translations=new Map,this.cache=new Map,this.defaultLang="",this.availableLangs=[],this.isResolvedMissingOnce=!1,this.failedLangs=new Set,this.events=new ee.x,this.events$=this.events.asObservable(),this.loader||(this.loader=new tt(this.translations)),Kn=this,this.mergedConfig=function Dn(Qe,Zt){return{...Qe,...Zt,missingHandler:{...Qe.missingHandler,...Zt.missingHandler},flatten:{...Qe.flatten,...Zt.flatten}}}(En,this.userConfig),this.setAvailableLangs(this.mergedConfig.availableLangs||[]),this.setFallbackLangForMissingTranslation(this.mergedConfig),this.setDefaultLang(this.mergedConfig.defaultLang),this.lang=new pe.X(this.getDefaultLang()),this.langChanges$=this.lang.asObservable(),this.subscription=this.events$.subscribe(Pi=>{"translationLoadSuccess"===Pi.type&&Pi.wasFailure&&this.setActiveLang(Pi.payload.langName)})}get config(){return this.mergedConfig}getDefaultLang(){return this.defaultLang}setDefaultLang(ht){this.defaultLang=ht}getActiveLang(){return this.lang.getValue()}setActiveLang(ht){return this.parser.onLangChanged?.(ht),this.lang.next(ht),this.events.next({type:"langChanged",payload:Yt(ht)}),this}setAvailableLangs(ht){this.availableLangs=ht}getAvailableLangs(){return this.availableLangs}load(ht,sn={}){const gn=this.cache.get(ht);if(gn)return gn;let Qn;const Zn=this._isLangScoped(ht);let Vn;Zn&&(Vn=On(ht));const Pi={path:ht,mainLoader:this.loader,inlineLoader:sn.inlineLoader,data:Zn?{scope:Vn}:void 0};if(this.useFallbackTranslation(ht)){const Ii=Zn?`${Vn}/${this.firstFallbackLang}`:this.firstFallbackLang,Hi=function ni({mainLoader:Qe,path:Zt,data:ht,fallbackPath:sn,inlineLoader:gn}){return(sn?[Zt,sn]:[Zt]).map(Zn=>{const Vn=ut({path:Zn,mainLoader:Qe,inlineLoader:gn,data:ht});return(0,V.D)(Vn).pipe((0,U.U)(Pi=>({translation:Pi,lang:Zn})))})}({...Pi,fallbackPath:Ii});Qn=(0,ue.D)(Hi)}else{const Ii=ut(Pi);Qn=(0,V.D)(Ii)}const Ui=Qn.pipe(function Ce(Qe=1/0){let Zt;Zt=Qe&&"object"==typeof Qe?Qe:{count:Qe};const{count:ht=1/0,delay:sn,resetOnSuccess:gn=!1}=Zt;return ht<=0?$.y:(0,y.e)((Qn,Zn)=>{let Pi,Vn=0;const Ui=()=>{let Ii=!1;Pi=Qn.subscribe((0,O.x)(Zn,Hi=>{gn&&(Vn=0),Zn.next(Hi)},void 0,Hi=>{if(Vn++<ht){const wr=()=>{Pi?(Pi.unsubscribe(),Pi=null,Ui()):Ii=!0};if(null!=sn){const Jr="number"==typeof sn?(0,Q.H)(sn):(0,oe.Xf)(sn(Hi,Vn)),mo=(0,O.x)(Zn,()=>{mo.unsubscribe(),wr()},()=>{Zn.complete()});Jr.subscribe(mo)}else wr()}else Zn.error(Hi)})),Ii&&(Pi.unsubscribe(),Pi=null,Ui())};Ui()})}(this.config.failedRetries),(0,xe.b)(Ii=>{Array.isArray(Ii)?Ii.forEach(Hi=>{this.handleSuccess(Hi.lang,Hi.translation),Hi.lang!==ht&&this.cache.set(Hi.lang,(0,C.of)({}))}):this.handleSuccess(ht,Ii)}),(0,be.K)(Ii=>(this.mergedConfig.prodMode||console.error(`Error while trying to load "${ht}"`,Ii),this.handleFailure(ht,sn))),function Ke(Qe,Zt,ht){let sn,gn=!1;return Qe&&"object"==typeof Qe?({bufferSize:sn=1/0,windowTime:Zt=1/0,refCount:gn=!1,scheduler:ht}=Qe):sn=Qe??1/0,(0,Ze.B)({connector:()=>new ke.t(sn,Zt,ht),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:gn})}(1));return this.cache.set(ht,Ui),Ui}translate(ht,sn={},gn=this.getActiveLang()){if(!ht)return ht;const{scope:Qn,resolveLang:Zn}=this.resolveLangAndScope(gn);if(Array.isArray(ht))return ht.map(Ui=>this.translate(Qn?`${Qn}.${Ui}`:Ui,sn,Zn));ht=Qn?`${Qn}.${ht}`:ht;const Vn=this.getTranslation(Zn),Pi=Vn[ht];return Pi?this.parser.transpile(Pi,sn,Vn,ht):this._handleMissingKey(ht,Pi,sn)}selectTranslate(ht,sn,gn,Qn=!1){let Zn;const Vn=(Ui,Ii)=>this.load(Ui,Ii).pipe((0,U.U)(()=>Qn?this.translateObject(ht,sn,Ui):this.translate(ht,sn,Ui)));if(X(gn))return this.langChanges$.pipe((0,De.w)(Ui=>Vn(Ui)));if(ft(gn)){const Ui=gn;gn=Ui.scope,Zn=Pt(Ui,Ui.scope)}if(this.isLang(gn)||this.isScopeWithLang(gn))return Vn(gn);const Pi=gn;return this.langChanges$.pipe((0,De.w)(Ui=>Vn(`${Pi}/${Ui}`,{inlineLoader:Zn})))}isScopeWithLang(ht){return this.isLang(Ti(ht))}translateObject(ht,sn={},gn=this.getActiveLang()){if(H(ht)||Array.isArray(ht)){const{resolveLang:Zn,scope:Vn}=this.resolveLangAndScope(gn);if(Array.isArray(ht))return ht.map(Ii=>this.translateObject(Vn?`${Vn}.${Ii}`:Ii,sn,Zn));const Pi=this.getTranslation(Zn),Ui=function Et(Qe){return(0,et.unflatten)(Qe)}(this.getObjectByKey(Pi,ht=Vn?`${Vn}.${ht}`:ht));return function Gt(Qe){return 0===mt(Qe)}(Ui)?this.translate(ht,sn,gn):this.parser.transpile(Ui,sn,Pi,ht)}const Qn=[];for(const[Zn,Vn]of this.getEntries(ht))Qn.push(this.translateObject(Zn,Vn,gn));return Qn}selectTranslateObject(ht,sn,gn){if(H(ht)||Array.isArray(ht))return this.selectTranslate(ht,sn,gn,!0);const[[Qn,Zn],...Vn]=this.getEntries(ht);return this.selectTranslateObject(Qn,Zn,gn).pipe((0,U.U)(Pi=>{const Ui=[Pi];for(const[Ii,Hi]of Vn)Ui.push(this.translateObject(Ii,Hi,gn));return Ui}))}getTranslation(ht){if(ht){if(this.isLang(ht))return this.translations.get(ht)||{};{const{scope:sn,resolveLang:gn}=this.resolveLangAndScope(ht),Qn=this.translations.get(gn)||{};return this.getObjectByKey(Qn,sn)}}return this.translations}selectTranslation(ht){let sn=this.langChanges$;if(ht){const gn=Ti(ht)!==ht;sn=this.isLang(ht)||gn?(0,C.of)(ht):this.langChanges$.pipe((0,U.U)(Qn=>`${ht}/${Qn}`))}return sn.pipe((0,De.w)(gn=>this.load(gn).pipe((0,U.U)(()=>this.getTranslation(gn)))))}setTranslation(ht,sn=this.getActiveLang(),gn={}){const Zn={merge:!0,emitChange:!0,...gn},Vn=On(sn);let Pi=ht;Vn&&(Pi=jt({[this.getMappedScope(Vn)]:ht}));const Ui=Vn?Ti(sn):sn,Ii={...Zn.merge&&this.getTranslation(Ui),...Pi},Hi=this.mergedConfig.flatten.aot?Ii:jt(Ii),wr=this.interceptor.preSaveTranslation(Hi,Ui);this.translations.set(Ui,wr),Zn.emitChange&&this.setActiveLang(this.getActiveLang())}setTranslationKey(ht,sn,gn=this.getActiveLang(),Qn={}){const Zn=this.interceptor.preSaveTranslationKey(ht,sn,gn);this.setTranslation({[ht]:Zn},gn,{...Qn,merge:!0})}setFallbackLangForMissingTranslation({fallbackLang:ht}){const sn=Array.isArray(ht)?ht[0]:ht;ht&&this.useFallbackTranslation(sn)&&(this.firstFallbackLang=sn)}_handleMissingKey(ht,sn,gn){if(this.config.missingHandler.allowEmpty&&""===sn)return"";if(!this.isResolvedMissingOnce&&this.useFallbackTranslation()){this.isResolvedMissingOnce=!0;const Qn=this.translate(ht,gn,this.firstFallbackLang);return this.isResolvedMissingOnce=!1,Qn}return this.missingHandler.handle(ht,this.getMissingHandlerData(),gn)}_isLangScoped(ht){return-1===this.getAvailableLangsIds().indexOf(ht)}isLang(ht){return-1!==this.getAvailableLangsIds().indexOf(ht)}_loadDependencies(ht,sn){const gn=Ti(ht);return this._isLangScoped(ht)&&!this.isLoadedTranslation(gn)?(0,ve.a)(this.load(gn),this.load(ht,{inlineLoader:sn})):this.load(ht,{inlineLoader:sn})}_completeScopeWithLang(ht){return this._isLangScoped(ht)&&!this.isLang(Ti(ht))?`${ht}/${this.getActiveLang()}`:ht}_setScopeAlias(ht,sn){this.mergedConfig.scopeMapping||(this.mergedConfig.scopeMapping={}),this.mergedConfig.scopeMapping[ht]=sn}ngOnDestroy(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=null),this.cache.clear()}isLoadedTranslation(ht){return mt(this.getTranslation(ht))}getAvailableLangsIds(){return H(this.getAvailableLangs()[0])?this.getAvailableLangs():this.getAvailableLangs().map(sn=>sn.id)}getMissingHandlerData(){return{...this.config,activeLang:this.getActiveLang(),availableLangs:this.availableLangs,defaultLang:this.defaultLang}}useFallbackTranslation(ht){return this.config.missingHandler.useFallbackTranslation&&ht!==this.firstFallbackLang}handleSuccess(ht,sn){this.setTranslation(sn,ht,{emitChange:!1}),this.events.next({wasFailure:!!this.failedLangs.size,type:"translationLoadSuccess",payload:Yt(ht)}),this.failedLangs.forEach(gn=>this.cache.delete(gn)),this.failedLangs.clear()}handleFailure(ht,sn){X(sn.failedCounter)&&(sn.failedCounter=0,sn.fallbackLangs||(sn.fallbackLangs=this.fallbackStrategy.getNextLangs(ht)));const gn=ht.split("/"),Zn=sn.fallbackLangs[sn.failedCounter];if(this.failedLangs.add(ht),this.cache.has(Zn))return this.handleSuccess(Zn,this.getTranslation(Zn)),re.E;if(!Zn||Zn===gn[gn.length-1]){let Ui="Unable to load translation and all the fallback languages";throw gn.length>1&&(Ui+=", did you misspelled the scope name?"),new Error(Ui)}let Pi=Zn;return gn.length>1&&(gn[gn.length-1]=Zn,Pi=gn.join("/")),sn.failedCounter++,this.events.next({type:"translationLoadFailure",payload:Yt(ht)}),this.load(Pi,sn)}getMappedScope(ht){const{scopeMapping:sn={}}=this.config;return sn[ht]||Z(ht)}resolveLangAndScope(ht){let gn,sn=ht;if(this._isLangScoped(ht)){const Qn=Ti(ht),Zn=this.isLang(Qn);sn=Zn?Qn:this.getActiveLang(),gn=this.getMappedScope(Zn?On(ht):ht)}return{scope:gn,resolveLang:sn}}getObjectByKey(ht,sn){const gn={},Qn=`${sn}.`;for(const Zn in ht)Zn.startsWith(Qn)&&(gn[Zn.replace(Qn,"")]=ht[Zn]);return gn}getEntries(ht){return ht instanceof Map?ht.entries():Object.entries(ht)}}return Qe.\u0275fac=function(ht){return new(ht||Qe)(h.LFG(u,8),h.LFG(Te),h.LFG(Ut),h.LFG(un),h.LFG(xn),h.LFG(Pn))},Qe.\u0275prov=h.Yz7({token:Qe,factory:Qe.\u0275fac,providedIn:"root"}),Qe})(),Ei=(()=>{class Qe{}return Qe.\u0275fac=function(ht){return new(ht||Qe)},Qe.\u0275cmp=h.Xpm({type:Qe,selectors:[["ng-component"]],inputs:{html:"html"},decls:1,vars:1,consts:[[1,"transloco-loader-template",3,"innerHTML"]],template:function(ht,sn){1&ht&&h._UZ(0,"div",0),2&ht&&h.Q6J("innerHTML",sn.html,h.oJD)},encapsulation:2}),Qe})();class fo{constructor(Zt,ht){this.view=Zt,this.vcr=ht,this.injector=this.vcr.injector}attachView(){if(this.view instanceof h.Rgc)this.vcr.createEmbeddedView(this.view);else if(H(this.view)){const Zt=this.createComponent(Ei);Zt.instance.html=this.view,Zt.hostView.detectChanges()}else this.createComponent(this.view)}detachView(){this.vcr.clear()}createComponent(Zt){const sn=this.injector.get(h._Vd).resolveComponentFactory(Zt);return this.vcr.createComponent(sn)}}const Fi=new h.OlP("TRANSLOCO_LANG"),Xr=new h.OlP("TRANSLOCO_LOADING_TEMPLATE"),pn=new h.OlP("TRANSLOCO_SCOPE");class nt{constructor(){this.initialized=!1}resolve({inline:Zt,provider:ht,active:sn}){let gn=sn;if(this.initialized)return gn=sn,gn;if(ht){const[,Qn]=It(ht,"static");gn=Qn}if(Zt){const[,Qn]=It(Zt,"static");gn=Qn}return this.initialized=!0,gn}resolveLangBasedOnScope(Zt){return On(Zt)?Ti(Zt):Zt}resolveLangPath(Zt,ht){return ht?`${ht}/${Zt}`:Zt}}class He{constructor(Zt){this.translocoService=Zt}resolve({inline:Zt,provider:ht}={inline:void 0,provider:void 0}){if(Zt)return Zt;if(ht){if(ft(ht)){const{scope:sn,alias:gn=Z(sn)}=ht;return this.translocoService._setScopeAlias(sn,gn),sn}return ht}}}let Xe=(()=>{class Qe{constructor(ht,sn,gn,Qn,Zn,Vn,Pi,Ui,Ii){this.translocoService=ht,this.tpl=sn,this.providerScope=gn,this.providerLang=Qn,this.providedLoadingTpl=Zn,this.vcr=Vn,this.cdr=Pi,this.host=Ui,this.renderer=Ii,this.subscription=null,this.translationMemo={},this.params={},this.initialized=!1,this.langResolver=new nt,this.scopeResolver=new He(this.translocoService),this.strategy=null===this.tpl?"attribute":"structural"}static ngTemplateContextGuard(ht,sn){return!0}ngOnInit(){const ht=Ue(this.translocoService,this.providerLang||this.inlineLang);this.subscription=this.translocoService.langChanges$.pipe((0,De.w)(gn=>{const Qn=this.langResolver.resolve({inline:this.inlineLang,provider:this.providerLang,active:gn});return Array.isArray(this.providerScope)?(0,ue.D)(this.providerScope.map(Zn=>this.resolveScope(Qn,Zn))):this.resolveScope(Qn,this.providerScope)}),Ht(ht)).subscribe(()=>{this.currentLang=this.langResolver.resolveLangBasedOnScope(this.path),"attribute"===this.strategy?this.attributeStrategy():this.structuralStrategy(this.currentLang,this.inlineRead),this.cdr.markForCheck(),this.initialized=!0});const sn=this.getLoadingTpl();!this.initialized&&sn&&(this.loaderTplHandler=new fo(sn,this.vcr),this.loaderTplHandler.attachView())}ngOnChanges(ht){"attribute"===this.strategy&&Object.keys(ht).some(gn=>!ht[gn].firstChange)&&this.attributeStrategy()}attributeStrategy(){this.detachLoader(),this.renderer.setProperty(this.host.nativeElement,"innerText",this.translocoService.translate(this.key,this.params,this.currentLang))}structuralStrategy(ht,sn){this.translationMemo={},this.view?(this.view.context.$implicit=this.getTranslateFn(ht,sn),this.view.context.currentLang=this.currentLang):(this.detachLoader(),this.view=this.vcr.createEmbeddedView(this.tpl,{$implicit:this.getTranslateFn(ht,sn),currentLang:this.currentLang}))}getTranslateFn(ht,sn){return(gn,Qn)=>{const Zn=sn?`${sn}.${gn}`:gn,Vn=Qn?`${Zn}${JSON.stringify(Qn)}`:Zn;return Object.prototype.hasOwnProperty.call(this.translationMemo,Vn)||(this.translationMemo[Vn]={params:Qn,value:this.translocoService.translate(Zn,Qn,ht)}),this.translationMemo[Vn].value}}getLoadingTpl(){return this.inlineTpl||this.providedLoadingTpl}ngOnDestroy(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)}detachLoader(){this.loaderTplHandler?.detachView()}resolveScope(ht,sn){const gn=this.scopeResolver.resolve({inline:this.inlineScope,provider:sn});this.path=this.langResolver.resolveLangPath(ht,gn);const Qn=Pt(sn,gn);return this.translocoService._loadDependencies(this.path,Qn)}}return Qe.\u0275fac=function(ht){return new(ht||Qe)(h.Y36(Fr),h.Y36(h.Rgc,8),h.Y36(pn,8),h.Y36(Fi,8),h.Y36(Xr,8),h.Y36(h.s_b),h.Y36(h.sBO),h.Y36(h.SBq),h.Y36(h.Qsj))},Qe.\u0275dir=h.lG2({type:Qe,selectors:[["","transloco",""]],inputs:{key:["transloco","key"],params:["translocoParams","params"],inlineScope:["translocoScope","inlineScope"],inlineRead:["translocoRead","inlineRead"],inlineLang:["translocoLang","inlineLang"],inlineTpl:["translocoLoadingTpl","inlineTpl"]},features:[h.TTD]}),Qe})(),ln=(()=>{class Qe{constructor(ht,sn,gn,Qn){this.translocoService=ht,this.providerScope=sn,this.providerLang=gn,this.cdr=Qn,this.subscription=null,this.lastValue="",this.langResolver=new nt,this.scopeResolver=new He(this.translocoService)}transform(ht,sn,gn){if(!ht)return ht;const Qn=sn?`${ht}${JSON.stringify(sn)}`:ht;if(Qn===this.lastKey)return this.lastValue;this.lastKey=Qn,this.subscription?.unsubscribe();const Zn=Ue(this.translocoService,this.providerLang||gn);return this.subscription=this.translocoService.langChanges$.pipe((0,De.w)(Vn=>{const Pi=this.langResolver.resolve({inline:gn,provider:this.providerLang,active:Vn});return Array.isArray(this.providerScope)?(0,ue.D)(this.providerScope.map(Ui=>this.resolveScope(Pi,Ui))):this.resolveScope(Pi,this.providerScope)}),Ht(Zn)).subscribe(()=>this.updateValue(ht,sn)),this.lastValue}ngOnDestroy(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)}updateValue(ht,sn){const gn=this.langResolver.resolveLangBasedOnScope(this.path);this.lastValue=this.translocoService.translate(ht,sn,gn),this.cdr.markForCheck()}resolveScope(ht,sn){const gn=this.scopeResolver.resolve({inline:void 0,provider:sn});this.path=this.langResolver.resolveLangPath(ht,gn);const Qn=Pt(sn,gn);return this.translocoService._loadDependencies(this.path,Qn)}}return Qe.\u0275fac=function(ht){return new(ht||Qe)(h.Y36(Fr,16),h.Y36(pn,24),h.Y36(Fi,24),h.Y36(h.sBO,16))},Qe.\u0275pipe=h.Yjl({name:"transloco",type:Qe,pure:!1}),Qe})();const on=[{provide:Te,useClass:$t,deps:[xn]},{provide:Ut,useClass:fn},{provide:un,useClass:Ft},{provide:Pn,useClass:yn,deps:[xn]}];let ei=(()=>{class Qe{}return Qe.\u0275fac=function(ht){return new(ht||Qe)},Qe.\u0275mod=h.oAB({type:Qe}),Qe.\u0275inj=h.cJS({providers:[on]}),Qe})();new h.OlP("TRANSLOCO_TEST_LANGS - Available testing languages"),new h.OlP("TRANSLOCO_TEST_OPTIONS - Testing options")},5861:(cn,Ve,G)=>{"use strict";function h(V,ee,pe,ue,ve,re,le){try{var U=V[re](le),y=U.value}catch(O){return void pe(O)}U.done?ee(y):Promise.resolve(y).then(ue,ve)}function C(V){return function(){var ee=this,pe=arguments;return new Promise(function(ue,ve){var re=V.apply(ee,pe);function le(y){h(re,ue,ve,le,U,"next",y)}function U(y){h(re,ue,ve,le,U,"throw",y)}le(void 0)})}}G.d(Ve,{Z:()=>C})},7582:(cn,Ve,G)=>{"use strict";function pe(W,X,de,me){var Et,ft=arguments.length,pt=ft<3?X:null===me?me=Object.getOwnPropertyDescriptor(X,de):me;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)pt=Reflect.decorate(W,X,de,me);else for(var jt=W.length-1;jt>=0;jt--)(Et=W[jt])&&(pt=(ft<3?Et(pt):ft>3?Et(X,de,pt):Et(X,de))||pt);return ft>3&&pt&&Object.defineProperty(X,de,pt),pt}function O(W,X,de,me){return new(de||(de=Promise))(function(pt,Et){function jt(In){try{En(me.next(In))}catch(Te){Et(Te)}}function xn(In){try{En(me.throw(In))}catch(Te){Et(Te)}}function En(In){In.done?pt(In.value):function ft(pt){return pt instanceof de?pt:new de(function(Et){Et(pt)})}(In.value).then(jt,xn)}En((me=me.apply(W,X||[])).next())})}function Ke(W){return this instanceof Ke?(this.v=W,this):new Ke(W)}function De(W,X,de){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ft,me=de.apply(W,X||[]),pt=[];return ft={},Et("next"),Et("throw"),Et("return"),ft[Symbol.asyncIterator]=function(){return this},ft;function Et($t){me[$t]&&(ft[$t]=function(Lt){return new Promise(function(rt,_t){pt.push([$t,Lt,rt,_t])>1||jt($t,Lt)})})}function jt($t,Lt){try{!function xn($t){$t.value instanceof Ke?Promise.resolve($t.value.v).then(En,In):Te(pt[0][2],$t)}(me[$t](Lt))}catch(rt){Te(pt[0][3],rt)}}function En($t){jt("next",$t)}function In($t){jt("throw",$t)}function Te($t,Lt){$t(Lt),pt.shift(),pt.length&&jt(pt[0][0],pt[0][1])}}function tt(W){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var de,X=W[Symbol.asyncIterator];return X?X.call(W):(W=function Ce(W){var X="function"==typeof Symbol&&Symbol.iterator,de=X&&W[X],me=0;if(de)return de.call(W);if(W&&"number"==typeof W.length)return{next:function(){return W&&me>=W.length&&(W=void 0),{value:W&&W[me++],done:!W}}};throw new TypeError(X?"Object is not iterable.":"Symbol.iterator is not defined.")}(W),de={},me("next"),me("throw"),me("return"),de[Symbol.asyncIterator]=function(){return this},de);function me(pt){de[pt]=W[pt]&&function(Et){return new Promise(function(jt,xn){!function ft(pt,Et,jt,xn){Promise.resolve(xn).then(function(En){pt({value:En,done:jt})},Et)}(jt,xn,(Et=W[pt](Et)).done,Et.value)})}}}function Gt(W,X,de,me){if("a"===de&&!me)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof X?W!==X||!me:!X.has(W))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===de?me:"a"===de?me.call(W):me?me.value:X.get(W)}function Le(W,X,de,me,ft){if("m"===me)throw new TypeError("Private method is not writable");if("a"===me&&!ft)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof X?W!==X||!ft:!X.has(W))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===me?ft.call(W,de):ft?ft.value=de:X.set(W,de),de}G.d(Ve,{FC:()=>De,KL:()=>tt,Q_:()=>Gt,YH:()=>Le,gn:()=>pe,mG:()=>O,qq:()=>Ke}),"function"==typeof SuppressedError&&SuppressedError}},cn=>{cn(cn.s=9029)}]);